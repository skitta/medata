import{a as o,b as i}from"./js.cookie-Bd2-tppU.js";import{aY as s}from"./index-DFZFHgnd.js";o.defaults.baseURL="http://127.0.0.1:8000/api/kawasaki/";o.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8";o.defaults.headers.post["X-CSRFToken"]=i.get("csrftoken")||"";o.interceptors.request.use(t=>(s.getters.getToken&&(t.headers.Authorization=`Token ${s.getters.getToken}`),t),t=>Promise.reject(t));function u(t){const n=new Blob([t.data],{type:"text/csv"}),e="kawasaki_export.zip";if("download"in document.createElement("a")){const a=document.createElement("a");a.download=e,a.href=window.URL.createObjectURL(n),document.body.appendChild(a),a.click(),URL.revokeObjectURL(a.href),document.body.removeChild(a)}else navigator.msSaveBlob(n,e)}function p(){return new Promise((t,n)=>{let e=s.getters.getGroups;e.length!==0?t(e):o.get("enrollGroups/").then(a=>{e=a.data.results.map(r=>({value:r.id,label:r.name})),s.dispatch("setGroups",e),t(e)}).catch(a=>{n(a)})})}function m(t){return new Promise((n,e)=>{o.post("patients/",t).then(a=>{n(a.data)}).catch(a=>{e(a)})})}function l(t){return new Promise((n,e)=>{o.get("patients/",{params:t}).then(a=>{n(a.data)}).catch(a=>{e(a)})})}function g(t,n){return new Promise((e,a)=>{o.patch(`patients/${t}/`,n).then(r=>{e(r.data)}).catch(r=>{a(r)})})}function f(t,n){return new Promise((e,a)=>{o.post(`${t}/`,n).then(r=>{e(r.data)}).catch(r=>{a(r)})})}function w(t){return new Promise((n,e)=>{o.get(`all-tests-by-patient/${t}/`).then(a=>{n(a.data)}).catch(a=>{e(a)})})}function b(t,n,e){return new Promise((a,r)=>{o.put(`${t}/${n}/`,e).then(c=>{a(c.data)}).catch(c=>{r(c)})})}function P(){return new Promise((t,n)=>{o.get("summary/").then(e=>{t(e.data)}).catch(e=>{n(e)})})}function y(){return new Promise((t,n)=>{o.get("count-by-month/").then(e=>{t(e.data)}).catch(e=>{n(e)})})}function k(){return new Promise((t,n)=>{o.get("age-by-group/").then(e=>{t(e.data)}).catch(e=>{n(e)})})}function T(){return new Promise((t,n)=>{o.get("export/all/",{responseType:"blob"}).then(e=>{u(e),t(e.headers)}).catch(e=>{n(e)})})}export{y as a,k as b,p as c,l as d,w as e,m as f,P as g,b as h,f as i,T as j,g as u};
