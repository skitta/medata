import{a as o,b as c}from"./js.cookie-zE7E1cTn.js";const i="";o.defaults.baseURL=`${i}/api/kawasaki/`;o.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8";o.defaults.headers.post["X-CSRFToken"]=c.get("csrftoken")||"";o.interceptors.request.use(t=>{const a=sessionStorage.getItem("store"),e=a?JSON.parse(a).token:null;return e&&(t.headers.Authorization=`Token ${e}`),t},t=>Promise.reject(t));function u(t){const a=new Blob([t.data],{type:"text/csv"}),e="kawasaki_export.zip";if("download"in document.createElement("a")){const n=document.createElement("a");n.download=e,n.href=window.URL.createObjectURL(a),document.body.appendChild(n),n.click(),URL.revokeObjectURL(n.href),document.body.removeChild(n)}else navigator.msSaveBlob(a,e)}function h(){return new Promise((t,a)=>{o.get("enrollGroups/").then(e=>{const n=e.data.results.map(r=>({value:r.id,label:r.name}));t(n)}).catch(e=>{a(e)})})}function m(t){return new Promise((a,e)=>{o.post("patients/",t).then(n=>{a(n.data)}).catch(n=>{e(n)})})}function p(t){return new Promise((a,e)=>{o.get("patients/",{params:t}).then(n=>{a(n.data)}).catch(n=>{e(n)})})}function l(t,a){return new Promise((e,n)=>{o.patch(`patients/${t}/`,a).then(r=>{e(r.data)}).catch(r=>{n(r)})})}function f(t,a){return new Promise((e,n)=>{o.post(`${t}/`,a).then(r=>{e(r.data)}).catch(r=>{n(r)})})}function w(t){return new Promise((a,e)=>{o.get(`all-tests-by-patient/${t}/`).then(n=>{a(n.data)}).catch(n=>{e(n)})})}function g(t,a,e){return new Promise((n,r)=>{o.put(`${t}/${a}/`,e).then(s=>{n(s.data)}).catch(s=>{r(s)})})}function b(){return new Promise((t,a)=>{o.get("summary/").then(e=>{t(e.data)}).catch(e=>{a(e)})})}function P(){return new Promise((t,a)=>{o.get("count-by-month/").then(e=>{t(e.data)}).catch(e=>{a(e)})})}function y(){return new Promise((t,a)=>{o.get("age-by-group/").then(e=>{t(e.data)}).catch(e=>{a(e)})})}function k(){return new Promise((t,a)=>{o.get("export/all/",{responseType:"blob"}).then(e=>{u(e),t(e.headers)}).catch(e=>{a(e)})})}export{P as a,y as b,h as c,p as d,w as e,m as f,b as g,f as h,l as i,k as j,g as u};
