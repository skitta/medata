"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[175],{7081:function(e,a,t){t.d(a,{Z:function(){return s}});var n=t(3396),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},u=l,r=t(9388);function d(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?Object(arguments[a]):{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(a){o(e,a,t[a])}))}return e}function o(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var i=function(e,a){var t=d({},e,a.attrs);return(0,n.Wm)(r.Z,d({},t,{icon:u}),null)};i.displayName="PlusOutlined",i.inheritAttrs=!1;var s=i},9175:function(e,a,t){t.r(a),t.d(a,{default:function(){return U}});var n=t(3396),l=t(7139);const u=(0,n.Uk)("日期"),r=(0,n.Uk)(" 保存 ");function d(e,a,t,d,o,i){const s=(0,n.up)("a-col"),p=(0,n.up)("a-row"),c=(0,n.up)("a-date-picker"),m=(0,n.up)("a-form-item"),f=(0,n.up)("a-input-number"),g=(0,n.up)("a-input"),h=(0,n.up)("a-select"),b=(0,n.up)("MinusCircleOutlined"),y=(0,n.up)("a-button"),v=(0,n.up)("PlusOutlined"),w=(0,n.up)("CheckOutlined"),k=(0,n.up)("a-form");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(p,{class:"table-row title"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.fields,((a,t)=>((0,n.wg)(),(0,n.iD)(n.HY,{key:t},["date"===a.type?((0,n.wg)(),(0,n.j4)(s,{key:0,span:5},{default:(0,n.w5)((()=>[u])),_:1})):((0,n.wg)(),(0,n.j4)(s,{key:1,span:e.span},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(a.label),1)])),_:2},1032,["span"]))],64)))),128))])),_:1}),(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Wm)(s,null,{default:(0,n.w5)((()=>[(0,n.Wm)(k,{name:e.name,layout:"inline",model:e.dynamicValidateForm},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.dynamicValidateForm.datas,((a,t)=>((0,n.wg)(),(0,n.j4)(p,{key:t,class:"table-row"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.fields,((t,l)=>((0,n.wg)(),(0,n.iD)(n.HY,{key:l},["date"===t.type?((0,n.wg)(),(0,n.j4)(s,{key:0,span:5},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{name:"date"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{value:a.date,"onUpdate:value":e=>a.date=e,placeholder:"选择日期","value-format":"YYYY-MM-DD",style:{width:"100%"},onChange:e.handleChange},null,8,["value","onUpdate:value","onChange"])])),_:2},1024)])),_:2},1024)):"number"===t.type?((0,n.wg)(),(0,n.j4)(s,{key:1,span:e.span},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{name:l},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{value:a[l],"onUpdate:value":e=>a[l]=e,placeholder:t.label,onChange:e.handleChange},null,8,["value","onUpdate:value","placeholder","onChange"])])),_:2},1032,["name"])])),_:2},1032,["span"])):"string"===t.type?((0,n.wg)(),(0,n.j4)(s,{key:2,span:e.span},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{name:l},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{value:a[l],"onUpdate:value":e=>a[l]=e,placeholder:t.label,onChange:e.handleChange},null,8,["value","onUpdate:value","placeholder","onChange"])])),_:2},1032,["name"])])),_:2},1032,["span"])):"select"===t.type?((0,n.wg)(),(0,n.j4)(s,{key:3,span:e.span},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{name:l},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{value:a[l],"onUpdate:value":e=>a[l]=e,options:t.options,placeholder:t.label,onChange:e.handleChange},null,8,["value","onUpdate:value","options","placeholder","onChange"])])),_:2},1032,["name"])])),_:2},1032,["span"])):(0,n.kq)("",!0)],64)))),128)),(0,n.Wm)(s,{span:1},{default:(0,n.w5)((()=>[e.dynamicValidateForm.datas.length>0?((0,n.wg)(),(0,n.j4)(m,{key:0,style:{margin:"0"}},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{type:"link",disabled:e.disableDelete(a),onClick:t=>e.removeDomain(a),style:{padding:"2px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(b)])),_:2},1032,["disabled","onClick"])])),_:2},1024)):(0,n.kq)("",!0)])),_:2},1024)])),_:2},1024)))),128)),(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Wm)(s,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m,{"wrapper-col":{span:24},style:{"margin-left":"10px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{type:"dashed",onClick:e.addDomain},{default:(0,n.w5)((()=>[(0,n.Wm)(v),(0,n.Uk)(" 添加"+(0,l.zw)(e.label),1)])),_:1},8,["onClick"]),e.showSaveButton?((0,n.wg)(),(0,n.j4)(y,{key:0,type:"primary",style:{"margin-left":"10px"},onClick:e.onSave,disabled:e.disableSave},{default:(0,n.w5)((()=>[(0,n.Wm)(w),r])),_:1},8,["onClick","disabled"])):(0,n.kq)("",!0)])),_:1})])),_:1})])),_:1})])),_:1},8,["name","model"])])),_:1})])),_:1})])}t(3680);var o=t(2389),i=(t(4535),t(5676)),s=(t(6497),t(7228)),p=(t(8510),t(40)),c=(t(5703),t(5835)),m=(t(4348),t(278)),f=(t(1409),t(7510)),g=(t(6566),t(6823)),h=t(4870),b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},y=b,v=t(9388);function w(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?Object(arguments[a]):{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(a){k(e,a,t[a])}))}return e}function k(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var C=function(e,a){var t=w({},e,a.attrs);return(0,n.Wm)(v.Z,w({},t,{icon:y}),null)};C.displayName="MinusCircleOutlined",C.inheritAttrs=!1;var O=C,_=t(7081),W=t(6845),j=t(65);const{Item:P}=g.ZP;var D=(0,n.aZ)({name:"InlineForm",components:{AForm:g.ZP,AFormItem:P,ADatePicker:f.ZP,AInput:m.ZP,AInputNumber:c.Z,ARow:p.Z,ACol:s.Z,AButton:i.Z,ASelect:o.ZP,MinusCircleOutlined:O,PlusOutlined:_.Z,CheckOutlined:W.Z},props:{name:{type:String},label:{type:String},fields:{type:Object,default:()=>({date:{type:"date",label:"日期"},wbc:{type:"number",label:"WBC"},ne:{type:"percentage",label:"NE%"},label:{type:"string",label:"标签"},gender:{type:"select",label:"性别",options:[{value:"F",label:"Female"}]},rbc:{type:"number",label:"RBC"},plt:{type:"number",label:"PLT"}})},span:{type:String,default:"3"}},setup(e){const a=(0,j.oR)(),t=(0,h.qj)({datas:a.getters.getTestByName(e.name)??[]}),l=(0,h.iH)(!1),u=(0,h.iH)(!0),r=(0,h.Fl)((()=>e=>void 0!==e.id)),d=e=>{let a=t.datas.indexOf(e);-1!==a&&t.datas.splice(a,1)},o=()=>{let a={};for(let t in e.fields)a[t]="";t.datas.push(a)},i=()=>{l.value=!0};let s=a.getters.getTestByName(e.name)?.length??0;const p=()=>{0===t.datas.length?(a.dispatch("delTest",e.name),s=0):(a.dispatch("addTests",{name:e.name,data:(0,h.IU)(t.datas)}),s=a.getters.getTestByName(e.name).length),l.value=!1};return(0,n.YP)([l,u],(([n,l])=>{!1===n&&!1===l?t.datas.forEach((t=>{void 0===t.id&&a.dispatch("addComplete",{name:e.name,data:!0})})):a.dispatch("addComplete",{name:e.name,data:!1})})),(0,n.YP)(t.datas,(e=>{l.value=e.length!==s,e.forEach((e=>{for(let a in e)if(""===e[a])return void(u.value=!0);u.value=!1}))})),{dynamicValidateForm:t,showSaveButton:l,removeDomain:d,addDomain:o,handleChange:i,onSave:p,disableSave:u,disableDelete:r}}}),Z=t(89);const S=(0,Z.Z)(D,[["render",d],["__scopeId","data-v-174b89d4"]]);var U=S}}]);
//# sourceMappingURL=175.aea95844.js.map