"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[43],{7081:function(e,a,t){t.d(a,{Z:function(){return s}});var n=t(3396),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},r=l,u=t(9388);function d(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?Object(arguments[a]):{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(a){o(e,a,t[a])}))}return e}function o(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var i=function(e,a){var t=d({},e,a.attrs);return(0,n.Wm)(u.Z,d({},t,{icon:r}),null)};i.displayName="PlusOutlined",i.inheritAttrs=!1;var s=i},5043:function(e,a,t){t.r(a),t.d(a,{default:function(){return A}});var n=t(3396),l=t(7139);const r={class:"inline-form-overflow"},u={class:"inline-form"},d=(0,n.Uk)("日期"),o=(0,n.Uk)(" 保存 ");function i(e,a,t,i,s,p){const c=(0,n.up)("a-col"),m=(0,n.up)("a-row"),f=(0,n.up)("a-date-picker"),g=(0,n.up)("a-form-item"),h=(0,n.up)("a-input-number"),v=(0,n.up)("a-input"),b=(0,n.up)("a-select"),y=(0,n.up)("MinusCircleOutlined"),w=(0,n.up)("a-button"),k=(0,n.up)("PlusOutlined"),C=(0,n.up)("CheckOutlined"),O=(0,n.up)("a-form");return(0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("div",u,[(0,n.Wm)(m,{class:"table-row title"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.fields,((a,t)=>((0,n.wg)(),(0,n.iD)(n.HY,{key:t},["date"===a.type?((0,n.wg)(),(0,n.j4)(c,{key:0,span:5},{default:(0,n.w5)((()=>[d])),_:1})):((0,n.wg)(),(0,n.j4)(c,{key:1,span:e.span},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(a.label),1)])),_:2},1032,["span"]))],64)))),128))])),_:1}),(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,{span:24},{default:(0,n.w5)((()=>[(0,n.Wm)(O,{name:e.name,layout:"inline",model:e.dynamicValidateForm},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.dynamicValidateForm.datas,((a,t)=>((0,n.wg)(),(0,n.j4)(m,{key:t,class:"table-row"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.fields,((t,l)=>((0,n.wg)(),(0,n.iD)(n.HY,{key:l},["date"===t.type?((0,n.wg)(),(0,n.j4)(c,{key:0,span:5},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{name:"date"},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{value:a.date,"onUpdate:value":e=>a.date=e,placeholder:"选择日期","value-format":"YYYY-MM-DD",style:{width:"100%"},onChange:e.handleChange},null,8,["value","onUpdate:value","onChange"])])),_:2},1024)])),_:2},1024)):"number"===t.type?((0,n.wg)(),(0,n.j4)(c,{key:1,span:e.span},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{name:l},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{value:a[l],"onUpdate:value":e=>a[l]=e,placeholder:t.label,onChange:e.handleChange},null,8,["value","onUpdate:value","placeholder","onChange"])])),_:2},1032,["name"])])),_:2},1032,["span"])):"string"===t.type?((0,n.wg)(),(0,n.j4)(c,{key:2,span:e.span},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{name:l},{default:(0,n.w5)((()=>[(0,n.Wm)(v,{value:a[l],"onUpdate:value":e=>a[l]=e,placeholder:t.label,onChange:e.handleChange},null,8,["value","onUpdate:value","placeholder","onChange"])])),_:2},1032,["name"])])),_:2},1032,["span"])):"select"===t.type?((0,n.wg)(),(0,n.j4)(c,{key:3,span:e.span},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{name:l},{default:(0,n.w5)((()=>[(0,n.Wm)(b,{value:a[l],"onUpdate:value":e=>a[l]=e,options:t.options,placeholder:t.label,onChange:e.handleChange},null,8,["value","onUpdate:value","options","placeholder","onChange"])])),_:2},1032,["name"])])),_:2},1032,["span"])):(0,n.kq)("",!0)],64)))),128)),(0,n.Wm)(c,{span:1},{default:(0,n.w5)((()=>[e.dynamicValidateForm.datas.length>0?((0,n.wg)(),(0,n.j4)(g,{key:0,style:{margin:"0"}},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{type:"link",disabled:e.disableDelete(a),onClick:t=>e.removeDomain(a),style:{padding:"2px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(y)])),_:2},1032,["disabled","onClick"])])),_:2},1024)):(0,n.kq)("",!0)])),_:2},1024)])),_:2},1024)))),128)),(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Wm)(g,{"wrapper-col":{span:24},style:{"margin-left":"10px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{type:"dashed",onClick:e.addDomain},{default:(0,n.w5)((()=>[(0,n.Wm)(k),(0,n.Uk)(" 添加"+(0,l.zw)(e.label),1)])),_:1},8,["onClick"]),e.showSaveButton?((0,n.wg)(),(0,n.j4)(w,{key:0,type:"primary",style:{"margin-left":"10px"},onClick:e.onSave,disabled:e.disableSave},{default:(0,n.w5)((()=>[(0,n.Wm)(C),o])),_:1},8,["onClick","disabled"])):(0,n.kq)("",!0)])),_:1})])),_:1})])),_:1})])),_:1},8,["name","model"])])),_:1})])),_:1})])])}t(3680);var s=t(2389),p=(t(4535),t(5676)),c=(t(6497),t(7228)),m=(t(8510),t(40)),f=(t(5703),t(5835)),g=(t(4348),t(278)),h=(t(1409),t(7510)),v=(t(6566),t(6823)),b=t(4870),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},w=y,k=t(9388);function C(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?Object(arguments[a]):{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(a){O(e,a,t[a])}))}return e}function O(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var _=function(e,a){var t=C({},e,a.attrs);return(0,n.Wm)(k.Z,C({},t,{icon:w}),null)};_.displayName="MinusCircleOutlined",_.inheritAttrs=!1;var W=_,j=t(7081),P=t(6845),D=t(65);const{Item:Z}=v.ZP;var S=(0,n.aZ)({name:"InlineForm",components:{AForm:v.ZP,AFormItem:Z,ADatePicker:h.ZP,AInput:g.ZP,AInputNumber:f.Z,ARow:m.Z,ACol:c.Z,AButton:p.Z,ASelect:s.ZP,MinusCircleOutlined:W,PlusOutlined:j.Z,CheckOutlined:P.Z},props:{name:{type:String},label:{type:String},fields:{type:Object,default:()=>({date:{type:"date",label:"日期"},wbc:{type:"number",label:"WBC"},ne:{type:"percentage",label:"NE%"},label:{type:"string",label:"标签"},gender:{type:"select",label:"性别",options:[{value:"F",label:"Female"}]},rbc:{type:"number",label:"RBC"},plt:{type:"number",label:"PLT"}})},span:{type:String,default:"3"}},setup(e){const a=(0,D.oR)(),t=(0,b.qj)({datas:a.getters.getTestByName(e.name)??[]}),l=(0,b.iH)(!1),r=(0,b.iH)(!0),u=(0,b.Fl)((()=>e=>void 0!==e.id)),d=e=>{let a=t.datas.indexOf(e);-1!==a&&t.datas.splice(a,1)},o=()=>{let a={};for(let t in e.fields)a[t]="";t.datas.push(a)},i=()=>{l.value=!0};let s=a.getters.getTestByName(e.name)?.length??0;const p=()=>{0===t.datas.length?(a.dispatch("delTest",e.name),s=0):(a.dispatch("addTests",{name:e.name,data:(0,b.IU)(t.datas)}),s=a.getters.getTestByName(e.name).length),l.value=!1};return(0,n.YP)([l,r],(([n,l])=>{!1===n&&!1===l?t.datas.forEach((t=>{void 0===t.id&&a.dispatch("addComplete",{name:e.name,data:!0})})):a.dispatch("addComplete",{name:e.name,data:!1})})),(0,n.YP)(t.datas,(e=>{l.value=e.length!==s,e.forEach((e=>{for(let a in e)if(""===e[a])return void(r.value=!0);r.value=!1}))})),{dynamicValidateForm:t,showSaveButton:l,removeDomain:d,addDomain:o,handleChange:i,onSave:p,disableSave:r,disableDelete:u}}}),U=t(89);const q=(0,U.Z)(S,[["render",i],["__scopeId","data-v-48e530da"]]);var A=q}}]);
//# sourceMappingURL=43.27deaa50.js.map