{"version":3,"file":"static/js/562.0f563fe3.js","mappings":"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","sources":["webpack://frontend/./node_modules/ant-design-vue/es/_util/hooks/useMergedState.js","webpack://frontend/./node_modules/ant-design-vue/es/_util/hooks/useState.js","webpack://frontend/./node_modules/ant-design-vue/es/col/index.js","webpack://frontend/./node_modules/ant-design-vue/es/row/index.js","webpack://frontend/./node_modules/ant-design-vue/es/vc-util/isMobile.js","webpack://frontend/./node_modules/d3-regression/dist/d3-regression.js","webpack://frontend/./node_modules/fmin/build/fmin.js","webpack://frontend/./node_modules/pdfast/src/helper.js","webpack://frontend/./node_modules/pdfast/src/index.js","webpack://frontend/./node_modules/size-sensor/lib/constant.js","webpack://frontend/./node_modules/size-sensor/lib/debounce.js","webpack://frontend/./node_modules/size-sensor/lib/id.js","webpack://frontend/./node_modules/size-sensor/lib/index.js","webpack://frontend/./node_modules/size-sensor/lib/sensorPool.js","webpack://frontend/./node_modules/size-sensor/lib/sensors/index.js","webpack://frontend/./node_modules/size-sensor/lib/sensors/object.js","webpack://frontend/./node_modules/size-sensor/lib/sensors/resizeObserver.js","webpack://frontend/./src/api/kawasaki.js","webpack://frontend/./src/views/home/DashboardView.vue","webpack://frontend/./node_modules/lodash-es/_baseRepeat.js","webpack://frontend/./node_modules/lodash-es/_castSlice.js","webpack://frontend/./node_modules/lodash-es/_hasUnicode.js","webpack://frontend/./node_modules/lodash-es/_asciiSize.js","webpack://frontend/./node_modules/lodash-es/_unicodeSize.js","webpack://frontend/./node_modules/lodash-es/_stringSize.js","webpack://frontend/./node_modules/lodash-es/_asciiToArray.js","webpack://frontend/./node_modules/lodash-es/_unicodeToArray.js","webpack://frontend/./node_modules/lodash-es/_stringToArray.js","webpack://frontend/./node_modules/lodash-es/_createPadding.js","webpack://frontend/./node_modules/lodash-es/padEnd.js","webpack://frontend/./node_modules/ant-design-vue/es/statistic/Number.js","webpack://frontend/./node_modules/ant-design-vue/es/skeleton/Title.js","webpack://frontend/./node_modules/ant-design-vue/es/skeleton/Paragraph.js","webpack://frontend/./node_modules/ant-design-vue/es/skeleton/Element.js","webpack://frontend/./node_modules/ant-design-vue/es/skeleton/Skeleton.js","webpack://frontend/./node_modules/ant-design-vue/es/statistic/Statistic.js","webpack://frontend/./node_modules/lodash-es/padStart.js","webpack://frontend/./node_modules/ant-design-vue/es/statistic/utils.js","webpack://frontend/./node_modules/ant-design-vue/es/statistic/Countdown.js","webpack://frontend/./node_modules/ant-design-vue/es/statistic/index.js","webpack://frontend/./node_modules/tslib/tslib.es6.js","webpack://frontend/../src/is-array-like.ts","webpack://frontend/../src/contains.ts","webpack://frontend/../src/filter.ts","webpack://frontend/../src/difference.ts","webpack://frontend/../src/is-type.ts","webpack://frontend/../src/is-function.ts","webpack://frontend/../src/is-nil.ts","webpack://frontend/../src/is-array.ts","webpack://frontend/../src/is-object.ts","webpack://frontend/../src/each.ts","webpack://frontend/../src/keys.ts","webpack://frontend/../src/is-match.ts","webpack://frontend/../src/is-object-like.ts","webpack://frontend/../src/is-plain-object.ts","webpack://frontend/../src/find.ts","webpack://frontend/../src/find-index.ts","webpack://frontend/../src/first-value.ts","webpack://frontend/../src/flatten.ts","webpack://frontend/../src/max.ts","webpack://frontend/../src/min.ts","webpack://frontend/../src/get-range.ts","webpack://frontend/../src/pull.ts","webpack://frontend/../src/pull-at.ts","webpack://frontend/../src/reduce.ts","webpack://frontend/../src/remove.ts","webpack://frontend/../src/is-string.ts","webpack://frontend/../src/sort-by.ts","webpack://frontend/../src/uniq.ts","webpack://frontend/../src/values-of-key.ts","webpack://frontend/../src/head.ts","webpack://frontend/../src/last.ts","webpack://frontend/../src/ends-with.ts","webpack://frontend/../src/every.ts","webpack://frontend/../src/some.ts","webpack://frontend/../src/group-by.ts","webpack://frontend/../src/group-to-map.ts","webpack://frontend/../src/group.ts","webpack://frontend/../src/parse-radius.ts","webpack://frontend/../src/clamp.ts","webpack://frontend/../src/fixed-base.ts","webpack://frontend/../src/is-number.ts","webpack://frontend/../src/is-number-equal.ts","webpack://frontend/../src/is-integer.ts","webpack://frontend/../src/is-odd.ts","webpack://frontend/../src/max-by.ts","webpack://frontend/../src/min-by.ts","webpack://frontend/../src/mod.ts","webpack://frontend/../src/to-radian.ts","webpack://frontend/../src/to-degree.ts","webpack://frontend/../src/to-integer.ts","webpack://frontend/../src/for-in.ts","webpack://frontend/../src/has.ts","webpack://frontend/../src/has-key.ts","webpack://frontend/../src/values.ts","webpack://frontend/../src/to-string.ts","webpack://frontend/../src/lower-case.ts","webpack://frontend/../src/substitute.ts","webpack://frontend/../src/upper-first.ts","webpack://frontend/../src/get-type.ts","webpack://frontend/../src/is-boolean.ts","webpack://frontend/../src/is-date.ts","webpack://frontend/../src/is-null.ts","webpack://frontend/../src/is-prototype.ts","webpack://frontend/../src/is-undefined.ts","webpack://frontend/../src/is-element.ts","webpack://frontend/../src/request-animation-frame.ts","webpack://frontend/../src/clear-animation-frame.ts","webpack://frontend/../src/augment.ts","webpack://frontend/../src/clone.ts","webpack://frontend/../src/debounce.ts","webpack://frontend/../src/memoize.ts","webpack://frontend/../src/deep-mix.ts","webpack://frontend/../src/index-of.ts","webpack://frontend/../src/is-empty.ts","webpack://frontend/../src/is-equal.ts","webpack://frontend/../src/map.ts","webpack://frontend/../src/map-values.ts","webpack://frontend/../src/mix.ts","webpack://frontend/../src/get.ts","webpack://frontend/../src/measure-text-width.ts","webpack://frontend/../src/set.ts","webpack://frontend/../src/pick.ts","webpack://frontend/../src/omit.ts","webpack://frontend/../src/throttle.ts","webpack://frontend/../src/to-array.ts","webpack://frontend/../src/unique-id.ts","webpack://frontend/../src/noop.ts","webpack://frontend/../src/size.ts","webpack://frontend/../src/constant.ts","webpack://frontend/../src/get-ellipsis-text.ts","webpack://frontend/../src/cache.ts","webpack://frontend/../src/create-dom.ts","webpack://frontend/../../src/engine/index.ts","webpack://frontend/../src/modify-css.ts","webpack://frontend/../../src/util/dom.ts","webpack://frontend/../src/index.ts","webpack://frontend/../src/base.ts","webpack://frontend/../../src/util/path.ts","webpack://frontend/../../src/event/graph-event.ts","webpack://frontend/../../src/util/util.ts","webpack://frontend/../../src/abstract/base.ts","webpack://frontend/./node_modules/detect-browser/es/index.js","webpack://frontend/./node_modules/gl-matrix/esm/mat3.js","webpack://frontend/./node_modules/gl-matrix/esm/common.js","webpack://frontend/./node_modules/gl-matrix/esm/vec2.js","webpack://frontend/../src/ext.ts","webpack://frontend/../../src/util/matrix.ts","webpack://frontend/../../src/abstract/element.ts","webpack://frontend/../../src/abstract/container.ts","webpack://frontend/./node_modules/d3-timer/src/timer.js","webpack://frontend/./node_modules/d3-color/src/define.js","webpack://frontend/./node_modules/d3-color/src/color.js","webpack://frontend/./node_modules/d3-interpolate/src/basis.js","webpack://frontend/./node_modules/d3-interpolate/src/basisClosed.js","webpack://frontend/./node_modules/d3-interpolate/src/constant.js","webpack://frontend/./node_modules/d3-interpolate/src/color.js","webpack://frontend/./node_modules/d3-interpolate/src/rgb.js","webpack://frontend/./node_modules/d3-interpolate/src/numberArray.js","webpack://frontend/./node_modules/d3-interpolate/src/array.js","webpack://frontend/./node_modules/d3-interpolate/src/date.js","webpack://frontend/./node_modules/d3-interpolate/src/number.js","webpack://frontend/./node_modules/d3-interpolate/src/object.js","webpack://frontend/./node_modules/d3-interpolate/src/string.js","webpack://frontend/./node_modules/d3-interpolate/src/value.js","webpack://frontend/./node_modules/d3-ease/src/linear.js","webpack://frontend/./node_modules/d3-ease/src/quad.js","webpack://frontend/./node_modules/d3-ease/src/cubic.js","webpack://frontend/./node_modules/d3-ease/src/poly.js","webpack://frontend/./node_modules/d3-ease/src/sin.js","webpack://frontend/./node_modules/d3-ease/src/math.js","webpack://frontend/./node_modules/d3-ease/src/exp.js","webpack://frontend/./node_modules/d3-ease/src/circle.js","webpack://frontend/./node_modules/d3-ease/src/bounce.js","webpack://frontend/./node_modules/d3-ease/src/back.js","webpack://frontend/./node_modules/d3-ease/src/elastic.js","webpack://frontend/../../src/animate/register.ts","webpack://frontend/../../src/util/color.ts","webpack://frontend/../../src/animate/timeline.ts","webpack://frontend/../../src/event/event-contoller.ts","webpack://frontend/../../src/abstract/canvas.ts","webpack://frontend/../../src/abstract/group.ts","webpack://frontend/../../src/abstract/shape.ts","webpack://frontend/../../src/bbox/register.ts","webpack://frontend/../../src/bbox/rect.ts","webpack://frontend/../../src/bbox/circle.ts","webpack://frontend/../src/util.ts","webpack://frontend/../src/line.ts","webpack://frontend/../src/bezier.ts","webpack://frontend/../src/quadratic.ts","webpack://frontend/../src/cubic.ts","webpack://frontend/../src/ellipse.ts","webpack://frontend/../src/arc.ts","webpack://frontend/../src/segments.ts","webpack://frontend/../src/polyline.ts","webpack://frontend/../../src/bbox/util.ts","webpack://frontend/../../src/bbox/polyline.ts","webpack://frontend/../../src/bbox/polygon.ts","webpack://frontend/../../src/util/offscreen.ts","webpack://frontend/../../src/util/text.ts","webpack://frontend/../../src/bbox/text.ts","webpack://frontend/../src/parse-path.ts","webpack://frontend/../src/catmull-rom-2-bezier.ts","webpack://frontend/../src/parse-path-string.ts","webpack://frontend/../src/path-2-absolute.ts","webpack://frontend/../../src/process/arc-2-cubic.ts","webpack://frontend/../src/get-arc-params.ts","webpack://frontend/../src/path-2-segments.ts","webpack://frontend/../src/point-in-polygon.ts","webpack://frontend/../src/get-line-intersect.ts","webpack://frontend/../src/is-polygons-intersect.ts","webpack://frontend/../../src/bbox/path.ts","webpack://frontend/../../src/bbox/line.ts","webpack://frontend/../../src/bbox/ellipse.ts","webpack://frontend/../../src/bbox/index.ts","webpack://frontend/../../src/adjusts/adjust.ts","webpack://frontend/../src/factory.ts","webpack://frontend/./node_modules/@antv/adjust/node_modules/tslib/tslib.es6.js","webpack://frontend/../../src/adjusts/dodge.ts","webpack://frontend/../../src/adjusts/jitter.ts","webpack://frontend/../../src/adjusts/stack.ts","webpack://frontend/../../src/adjusts/symmetric.ts","webpack://frontend/../../src/attributes/base.ts","webpack://frontend/./node_modules/@antv/attr/node_modules/tslib/tslib.es6.js","webpack://frontend/../../src/attributes/color.ts","webpack://frontend/../../src/attributes/opacity.ts","webpack://frontend/../../src/attributes/position.ts","webpack://frontend/../../src/attributes/shape.ts","webpack://frontend/../../src/attributes/size.ts","webpack://frontend/../../src/tick-method/register.ts","webpack://frontend/../../src/category/base.ts","webpack://frontend/../src/fecha.ts","webpack://frontend/../../src/util/bisector.ts","webpack://frontend/../../src/util/time.ts","webpack://frontend/../../src/category/time.ts","webpack://frontend/../../src/continuous/base.ts","webpack://frontend/../../src/continuous/linear.ts","webpack://frontend/../../src/util/math.ts","webpack://frontend/../../src/continuous/log.ts","webpack://frontend/../../src/continuous/pow.ts","webpack://frontend/../../src/continuous/time.ts","webpack://frontend/../../src/continuous/quantize.ts","webpack://frontend/../../src/continuous/quantile.ts","webpack://frontend/../../src/identity/index.ts","webpack://frontend/../../src/tick-method/cat.ts","webpack://frontend/../../src/util/d3-linear.ts","webpack://frontend/../../src/util/interval.ts","webpack://frontend/../../src/util/strict-limit.ts","webpack://frontend/../../src/tick-method/d3-linear.ts","webpack://frontend/../../src/util/pretty-number.ts","webpack://frontend/../../src/util/extended.ts","webpack://frontend/../../src/tick-method/linear.ts","webpack://frontend/../../src/tick-method/log.ts","webpack://frontend/../../src/util/pretty.ts","webpack://frontend/../../src/tick-method/pow.ts","webpack://frontend/../../src/tick-method/quantile.ts","webpack://frontend/../../src/tick-method/r-prettry.ts","webpack://frontend/../../src/tick-method/time.ts","webpack://frontend/../../src/tick-method/time-cat.ts","webpack://frontend/../../src/tick-method/time-pretty.ts","webpack://frontend/../../src/tick-method/index.ts","webpack://frontend/./node_modules/gl-matrix/esm/vec3.js","webpack://frontend/../../src/coord/base.ts","webpack://frontend/../../src/coord/cartesian.ts","webpack://frontend/../../src/coord/helix.ts","webpack://frontend/../../src/coord/polar.ts","webpack://frontend/../../src/util/event.ts","webpack://frontend/../../src/abstract/component.ts","webpack://frontend/../../src/abstract/group-component.ts","webpack://frontend/../../src/util/label.ts","webpack://frontend/../../src/util/graphic.ts","webpack://frontend/../../src/util/theme.ts","webpack://frontend/../../src/annotation/line.ts","webpack://frontend/../../src/annotation/text.ts","webpack://frontend/../../src/annotation/arc.ts","webpack://frontend/../../src/annotation/region.ts","webpack://frontend/../../src/annotation/image.ts","webpack://frontend/../../src/annotation/data-marker.ts","webpack://frontend/../../src/annotation/data-region.ts","webpack://frontend/../../src/annotation/region-filter.ts","webpack://frontend/../../src/annotation/shape.ts","webpack://frontend/../src/get-style.ts","webpack://frontend/../src/get-width.ts","webpack://frontend/../src/get-outer-width.ts","webpack://frontend/../src/get-height.ts","webpack://frontend/../src/get-outer-height.ts","webpack://frontend/../../src/abstract/html-component.ts","webpack://frontend/../../src/annotation/html.ts","webpack://frontend/../../src/util/state.ts","webpack://frontend/../../src/axis/base.ts","webpack://frontend/../../../src/axis/overlap/auto-ellipsis.ts","webpack://frontend/../../../src/axis/overlap/auto-hide.ts","webpack://frontend/../../../src/axis/overlap/auto-rotate.ts","webpack://frontend/../../src/axis/line.ts","webpack://frontend/../../src/axis/circle.ts","webpack://frontend/../../src/crosshair/base.ts","webpack://frontend/../../src/crosshair/line.ts","webpack://frontend/../../src/crosshair/circle.ts","webpack://frontend/../../src/crosshair/css-const.ts","webpack://frontend/../../src/crosshair/html-theme.ts","webpack://frontend/../../src/crosshair/html.ts","webpack://frontend/../../src/grid/base.ts","webpack://frontend/../../src/grid/circle.ts","webpack://frontend/../../src/grid/line.ts","webpack://frontend/../../src/legend/base.ts","webpack://frontend/../../src/legend/category.ts","webpack://frontend/../../src/legend/continuous.ts","webpack://frontend/../../src/tooltip/css-const.ts","webpack://frontend/../../src/tooltip/html-theme.ts","webpack://frontend/../../src/util/align.ts","webpack://frontend/../../src/tooltip/html.ts","webpack://frontend/../../src/trend/constant.ts","webpack://frontend/../../src/trend/path.ts","webpack://frontend/../../src/trend/trend.ts","webpack://frontend/../../src/slider/handler.ts","webpack://frontend/../../src/slider/constant.ts","webpack://frontend/../../src/slider/slider.ts","webpack://frontend/../src/add-event-listener.ts","webpack://frontend/../../src/scrollbar/scrollbar.ts","webpack://frontend/../src/dependents.ts","webpack://frontend/../../src/util/graphics.ts","webpack://frontend/../../src/util/helper.ts","webpack://frontend/../../src/util/bbox.ts","webpack://frontend/../../src/util/coordinate.ts","webpack://frontend/../../src/util/scale.ts","webpack://frontend/../../src/util/axis.ts","webpack://frontend/../../src/facet/facet.ts","webpack://frontend/../../src/facet/index.ts","webpack://frontend/../../../src/interaction/action/base.ts","webpack://frontend/../../../src/interaction/action/callback.ts","webpack://frontend/../../../src/interaction/action/register.ts","webpack://frontend/../../../../src/geometry/shape/util/path.ts","webpack://frontend/../../../src/interaction/action/util.ts","webpack://frontend/../../src/interaction/context.ts","webpack://frontend/../../src/interaction/interaction.ts","webpack://frontend/../../src/interaction/grammar-interaction.ts","webpack://frontend/../../src/interaction/index.ts","webpack://frontend/../../../src/theme/util/create-by-style-sheet.ts","webpack://frontend/../../../src/theme/style-sheet/light.ts","webpack://frontend/../../../src/theme/util/create-theme.ts","webpack://frontend/../../src/theme/index.ts","webpack://frontend/../../src/util/tooltip.ts","webpack://frontend/../../src/util/padding.ts","webpack://frontend/../../../src/chart/controller/index.ts","webpack://frontend/../../../src/chart/controller/coordinate.ts","webpack://frontend/../../src/chart/event.ts","webpack://frontend/../../../src/chart/layout/index.ts","webpack://frontend/../../../src/chart/util/scale-pool.ts","webpack://frontend/../../../src/chart/layout/padding-cal.ts","webpack://frontend/../../../src/chart/layout/auto.ts","webpack://frontend/../../../src/chart/util/sync-view-padding.ts","webpack://frontend/../../src/chart/view.ts","webpack://frontend/../../src/chart/chart.ts","webpack://frontend/../../../src/chart/controller/base.ts","webpack://frontend/../../../src/chart/controller/tooltip.ts","webpack://frontend/../../../src/animate/animation/index.ts","webpack://frontend/../../src/animate/index.ts","webpack://frontend/../../../src/geometry/shape/constant.ts","webpack://frontend/../../../src/geometry/element/index.ts","webpack://frontend/../../../src/geometry/label/index.ts","webpack://frontend/../../../src/geometry/shape/base.ts","webpack://frontend/../../../src/geometry/util/group-data.ts","webpack://frontend/../../../src/geometry/util/is-model-change.ts","webpack://frontend/../../../src/geometry/util/parse-fields.ts","webpack://frontend/../../../src/geometry/util/diff.ts","webpack://frontend/../../src/geometry/base.ts","webpack://frontend/../../src/util/transform.ts","webpack://frontend/../../../../src/geometry/label/util/index.ts","webpack://frontend/../../src/component/update-label.ts","webpack://frontend/../../src/component/labels.ts","webpack://frontend/../../../src/geometry/label/base.ts","webpack://frontend/../../src/util/attr.ts","webpack://frontend/../../src/util/marker.ts","webpack://frontend/../../src/util/legend.ts","webpack://frontend/../../../../src/geometry/shape/util/get-path-points.ts","webpack://frontend/../../../../src/geometry/shape/util/get-style.ts","webpack://frontend/../../../../src/geometry/shape/util/split-points.ts","webpack://frontend/../../../../src/geometry/shape/line/util.ts","webpack://frontend/../../../../src/geometry/shape/line/index.ts","webpack://frontend/../src/core.ts","webpack://frontend/../../../src/theme/style-sheet/dark.ts","webpack://frontend/../../src/util/parse.ts","webpack://frontend/../../src/util/arc-params.ts","webpack://frontend/../../src/util/arrow.ts","webpack://frontend/../../src/util/draw.ts","webpack://frontend/../../src/shape/base.ts","webpack://frontend/../../src/shape/circle.ts","webpack://frontend/../../src/shape/ellipse.ts","webpack://frontend/../../src/shape/image.ts","webpack://frontend/../../../src/util/in-stroke/line.ts","webpack://frontend/../../src/shape/line.ts","webpack://frontend/../../src/shape/marker.ts","webpack://frontend/../../../src/util/in-path/point-in-path.ts","webpack://frontend/../../../src/util/in-path/polygon.ts","webpack://frontend/../../../src/util/in-stroke/arc.ts","webpack://frontend/../../src/shape/path.ts","webpack://frontend/../../../src/util/in-stroke/polyline.ts","webpack://frontend/../../src/shape/polygon.ts","webpack://frontend/../../src/shape/polyline.ts","webpack://frontend/../../../src/util/in-stroke/rect.ts","webpack://frontend/../../../src/util/in-stroke/rect-radius.ts","webpack://frontend/../../src/shape/rect.ts","webpack://frontend/../../src/shape/text.ts","webpack://frontend/../../src/util/hit.ts","webpack://frontend/../src/canvas.ts","webpack://frontend/../../src/util/svg.ts","webpack://frontend/../../src/shape/dom.ts","webpack://frontend/../../../src/shape/marker/symbols.ts","webpack://frontend/../../../src/shape/marker/index.ts","webpack://frontend/../../src/util/format.ts","webpack://frontend/../../src/defs/gradient.ts","webpack://frontend/../../src/defs/shadow.ts","webpack://frontend/../../src/defs/arrow.ts","webpack://frontend/../../src/defs/clip.ts","webpack://frontend/../../src/defs/pattern.ts","webpack://frontend/../../src/defs/index.ts","webpack://frontend/../../src/geometry/path.ts","webpack://frontend/../../../../src/geometry/shape/area/util.ts","webpack://frontend/../../../../src/geometry/shape/area/index.ts","webpack://frontend/../../src/geometry/area.ts","webpack://frontend/../../../../src/geometry/shape/edge/index.ts","webpack://frontend/../../src/geometry/edge.ts","webpack://frontend/../../src/geometry/heatmap.ts","webpack://frontend/../../../../src/geometry/shape/interval/util.ts","webpack://frontend/../../../../src/geometry/shape/interval/index.ts","webpack://frontend/../../../src/geometry/util/shape-size.ts","webpack://frontend/../../src/geometry/interval.ts","webpack://frontend/../../src/geometry/line.ts","webpack://frontend/../../../../src/geometry/shape/point/util.ts","webpack://frontend/../../../../src/geometry/shape/point/index.ts","webpack://frontend/../../src/geometry/point.ts","webpack://frontend/../../../../src/geometry/shape/polygon/index.ts","webpack://frontend/../../src/geometry/polygon.ts","webpack://frontend/../../src/geometry/schema.ts","webpack://frontend/../../../../src/geometry/shape/schema/index.ts","webpack://frontend/../../../../src/geometry/shape/violin/index.ts","webpack://frontend/../../src/geometry/violin.ts","webpack://frontend/../../../../src/geometry/shape/edge/util.ts","webpack://frontend/../../../../src/geometry/shape/edge/arc.ts","webpack://frontend/../../../../src/geometry/shape/edge/smooth.ts","webpack://frontend/../../../../src/geometry/shape/area/line.ts","webpack://frontend/../../../../src/geometry/shape/area/smooth.ts","webpack://frontend/../../../../src/geometry/shape/area/smooth-line.ts","webpack://frontend/../../../../src/geometry/shape/edge/vhv.ts","webpack://frontend/../../../../src/geometry/shape/interval/line.ts","webpack://frontend/../../../../src/geometry/shape/interval/tick.ts","webpack://frontend/../../../../src/geometry/shape/interval/funnel.ts","webpack://frontend/../../../../src/geometry/shape/interval/hollow-rect.ts","webpack://frontend/../../../../src/geometry/shape/interval/pyramid.ts","webpack://frontend/../../../../src/geometry/shape/line/step.ts","webpack://frontend/../../../../src/geometry/shape/schema/box.ts","webpack://frontend/../../../../src/geometry/shape/schema/candle.ts","webpack://frontend/../../../../src/geometry/shape/polygon/square.ts","webpack://frontend/../../../../src/geometry/shape/point/hollow.ts","webpack://frontend/../../../../src/geometry/shape/point/image.ts","webpack://frontend/../../../../src/geometry/shape/point/solid.ts","webpack://frontend/../../../../src/geometry/shape/violin/smooth.ts","webpack://frontend/../../../../src/geometry/shape/violin/hollow.ts","webpack://frontend/../../../src/geometry/label/interval.ts","webpack://frontend/../../../src/geometry/label/polar.ts","webpack://frontend/../../../src/geometry/label/pie.ts","webpack://frontend/../../../../../src/geometry/label/layout/pie/distribute.ts","webpack://frontend/../../../../../src/geometry/label/layout/pie/util.ts","webpack://frontend/../../../../../src/geometry/label/layout/pie/outer.ts","webpack://frontend/../../../../../src/geometry/label/layout/pie/spider.ts","webpack://frontend/../../../../src/geometry/label/layout/limit-in-canvas.ts","webpack://frontend/../../../../src/geometry/label/layout/limit-in-shape.ts","webpack://frontend/../../../../src/geometry/label/layout/overlap.ts","webpack://frontend/../../src/util/collision-detect.ts","webpack://frontend/../../../../src/geometry/label/util/createWorker.ts","webpack://frontend/../../../../../src/geometry/label/layout/worker/hide-overlap.ts","webpack://frontend/../../../../src/geometry/label/layout/hide-overlap.ts","webpack://frontend/../../src/util/context.ts","webpack://frontend/../../../../src/geometry/label/layout/adjust-color.ts","webpack://frontend/../../../../../src/geometry/label/layout/interval/adjust-position.ts","webpack://frontend/../../../../../src/geometry/label/layout/interval/hide-overlap.ts","webpack://frontend/../../../../../src/geometry/label/layout/point/adjust-position.ts","webpack://frontend/../../../../../src/geometry/label/layout/path/adjust-position.ts","webpack://frontend/../../../../src/geometry/label/layout/limit-in-plot.ts","webpack://frontend/../../../src/animate/animation/fade.ts","webpack://frontend/../../../src/animate/animation/util.ts","webpack://frontend/../../../src/animate/animation/grow-in.ts","webpack://frontend/../../../src/animate/animation/path-in.ts","webpack://frontend/../../../src/animate/animation/position-update.ts","webpack://frontend/../../../src/animate/animation/scale-in.ts","webpack://frontend/../../../src/animate/animation/sector-path-update.ts","webpack://frontend/../../../src/animate/animation/wave-in.ts","webpack://frontend/../../../src/animate/animation/zoom.ts","webpack://frontend/../../src/util/facet.ts","webpack://frontend/../../src/facet/circle.ts","webpack://frontend/../../src/facet/list.ts","webpack://frontend/../../src/facet/matrix.ts","webpack://frontend/../../src/facet/mirror.ts","webpack://frontend/../../src/facet/rect.ts","webpack://frontend/../../src/facet/tree.ts","webpack://frontend/../../src/util/stat.ts","webpack://frontend/../../src/util/annotation.ts","webpack://frontend/../../../src/chart/controller/annotation.ts","webpack://frontend/../../src/util/grid.ts","webpack://frontend/../../../src/chart/controller/axis.ts","webpack://frontend/../../src/util/direction.ts","webpack://frontend/../../../src/chart/controller/legend.ts","webpack://frontend/../../../src/chart/controller/slider.ts","webpack://frontend/../../../src/chart/controller/scrollbar.ts","webpack://frontend/../../../src/interaction/action/active-region.ts","webpack://frontend/../../../../../src/interaction/action/component/tooltip/geometry.ts","webpack://frontend/../../../../../src/interaction/action/component/tooltip/sibling.ts","webpack://frontend/../../../../../src/interaction/action/component/tooltip/ellipsis-text.ts","webpack://frontend/../../../../src/interaction/action/element/state-base.ts","webpack://frontend/../../../../src/interaction/action/element/state.ts","webpack://frontend/../../../../src/interaction/action/element/active.ts","webpack://frontend/../../../../src/interaction/action/element/link-by-color.ts","webpack://frontend/../../../../src/interaction/action/element/range-state.ts","webpack://frontend/../../../../src/interaction/action/element/range-active.ts","webpack://frontend/../../../../src/interaction/action/element/single-state.ts","webpack://frontend/../../../../src/interaction/action/element/single-active.ts","webpack://frontend/../../../../src/interaction/action/element/highlight-util.ts","webpack://frontend/../../../../src/interaction/action/element/highlight.ts","webpack://frontend/../../../../src/interaction/action/element/range-highlight.ts","webpack://frontend/../../../../src/interaction/action/element/highlight-by-color.ts","webpack://frontend/../../../../src/interaction/action/element/highlight-by-x.ts","webpack://frontend/../../../../src/interaction/action/element/single-highlight.ts","webpack://frontend/../../../../src/interaction/action/element/range-selected.ts","webpack://frontend/../../../../src/interaction/action/element/selected.ts","webpack://frontend/../../../../src/interaction/action/element/single-selected.ts","webpack://frontend/../../../../src/interaction/action/component/list-state.ts","webpack://frontend/../../../../src/interaction/action/component/list-active.ts","webpack://frontend/../../../../src/interaction/action/component/list-highlight-util.ts","webpack://frontend/../../../../src/interaction/action/component/list-highlight.ts","webpack://frontend/../../../../src/interaction/action/component/list-selected.ts","webpack://frontend/../../../../src/interaction/action/component/list-unchecked.ts","webpack://frontend/../../../../src/interaction/action/component/list-checked.ts","webpack://frontend/../../../../src/interaction/action/component/list-focus.ts","webpack://frontend/../../../../src/interaction/action/component/list-radio.ts","webpack://frontend/../../../../src/interaction/action/mask/base.ts","webpack://frontend/../../../../src/interaction/action/mask/circle.ts","webpack://frontend/../../../../src/interaction/action/mask/rect.ts","webpack://frontend/../../../../src/interaction/action/mask/dim-rect.ts","webpack://frontend/../../../../src/interaction/action/data/range-filter.ts","webpack://frontend/../../../../src/interaction/action/mask/path.ts","webpack://frontend/../../../../src/interaction/action/mask/smooth-path.ts","webpack://frontend/../../../src/interaction/action/cursor.ts","webpack://frontend/../../../../src/interaction/action/data/filter.ts","webpack://frontend/../../../../src/interaction/action/data/sibling-filter.ts","webpack://frontend/../../../../src/interaction/action/element/filter.ts","webpack://frontend/../../../../src/interaction/action/element/sibling-filter.ts","webpack://frontend/../../../../src/interaction/action/view/button.ts","webpack://frontend/../../../../src/interaction/action/view/drag.ts","webpack://frontend/../../../../src/interaction/action/view/move.ts","webpack://frontend/../../../../src/interaction/action/view/scale-transform.ts","webpack://frontend/../../../../src/interaction/action/view/scale-translate.ts","webpack://frontend/../../../../src/interaction/action/view/scale-zoom.ts","webpack://frontend/../../../../src/interaction/action/view/mousewheel-scroll.ts","webpack://frontend/../../src/utils/invariant.ts","webpack://frontend/../../../../../src/interaction/action/component/axis/axis-description.ts","webpack://frontend/../../src/utils/flow.ts","webpack://frontend/../../src/utils/pick.ts","webpack://frontend/../../src/utils/template.ts","webpack://frontend/../../src/utils/dom.ts","webpack://frontend/../../src/utils/geometry.ts","webpack://frontend/../../src/utils/view.ts","webpack://frontend/../../src/utils/label.ts","webpack://frontend/../../src/utils/path.ts","webpack://frontend/../../src/utils/deep-assign.ts","webpack://frontend/../../src/utils/kebab-case.ts","webpack://frontend/../../src/utils/statistic.ts","webpack://frontend/../../src/utils/context.ts","webpack://frontend/../../src/utils/measure-text.ts","webpack://frontend/../../src/utils/number.ts","webpack://frontend/../../src/utils/data.ts","webpack://frontend/../../src/utils/padding.ts","webpack://frontend/../../src/core/global.ts","webpack://frontend/../../src/core/locale.ts","webpack://frontend/../../src/locales/en_US.ts","webpack://frontend/../../src/locales/zh_CN.ts","webpack://frontend/../../src/core/plot.ts","webpack://frontend/../../../src/utils/pattern/util.ts","webpack://frontend/../../../src/utils/pattern/dot.ts","webpack://frontend/../../../src/utils/pattern/line.ts","webpack://frontend/../../../src/utils/pattern/square.ts","webpack://frontend/../../../src/utils/pattern/index.ts","webpack://frontend/../../src/adaptor/pattern.ts","webpack://frontend/../../src/adaptor/common.ts","webpack://frontend/../../src/utils/tooltip.ts","webpack://frontend/../../../src/adaptor/geometries/base.ts","webpack://frontend/../../../src/adaptor/geometries/area.ts","webpack://frontend/../../../src/adaptor/geometries/line.ts","webpack://frontend/../../../src/adaptor/geometries/point.ts","webpack://frontend/../../../src/adaptor/geometries/interval.ts","webpack://frontend/../../../src/adaptor/geometries/polygon.ts","webpack://frontend/../../../src/adaptor/geometries/edge.ts","webpack://frontend/../../../src/adaptor/geometries/schema.ts","webpack://frontend/../../../src/adaptor/geometries/violin.ts","webpack://frontend/../../../src/plots/line/adaptor.ts","webpack://frontend/../../../src/plots/line/constants.ts","webpack://frontend/../../../../src/plots/line/interactions/marker-active.ts","webpack://frontend/../../../../src/plots/line/interactions/index.ts","webpack://frontend/../../../src/plots/line/index.ts","webpack://frontend/../../../src/utils/transform/percent.ts","webpack://frontend/../../../src/plots/area/adaptor.ts","webpack://frontend/../../../src/plots/area/constants.ts","webpack://frontend/../../../src/plots/area/index.ts","webpack://frontend/../../src/utils/conversion.ts","webpack://frontend/../../src/adaptor/conversion-tag.ts","webpack://frontend/../../src/adaptor/connected-area.ts","webpack://frontend/../../../src/interactions/actions/reset-button.ts","webpack://frontend/../../src/interactions/brush.ts","webpack://frontend/../../src/adaptor/brush.ts","webpack://frontend/../../../src/plots/column/adaptor.ts","webpack://frontend/../../../src/plots/column/constants.ts","webpack://frontend/../../../src/plots/column/index.ts","webpack://frontend/../../../src/plots/bar/adaptor.ts","webpack://frontend/../../../src/plots/bar/constants.ts","webpack://frontend/../../../src/plots/bar/index.ts","webpack://frontend/../../../src/plots/pie/contants.ts","webpack://frontend/../../../src/plots/pie/utils.ts","webpack://frontend/../../src/utils/matrix.ts","webpack://frontend/../../../../../src/plots/pie/interactions/actions/legend-active.ts","webpack://frontend/../../../../src/plots/pie/interactions/util.ts","webpack://frontend/../../../../../src/plots/pie/interactions/actions/statistic-active.ts","webpack://frontend/../../../../src/plots/pie/interactions/index.ts","webpack://frontend/../../../src/plots/pie/adaptor.ts","webpack://frontend/../../../src/plots/pie/index.ts","webpack://frontend/../../../src/plots/rose/adaptor.ts","webpack://frontend/../../../src/plots/rose/constant.ts","webpack://frontend/../../../src/utils/transform/word-cloud.ts","webpack://frontend/../../../src/plots/rose/index.ts","webpack://frontend/../../../src/plots/word-cloud/utils.ts","webpack://frontend/../../../src/plots/word-cloud/constant.ts","webpack://frontend/../../../src/plots/word-cloud/adaptor.ts","webpack://frontend/../../../../src/plots/word-cloud/shapes/word-cloud.ts","webpack://frontend/../../../src/plots/word-cloud/index.ts","webpack://frontend/../../../src/plots/scatter/util.ts","webpack://frontend/../../../src/plots/scatter/adaptor.ts","webpack://frontend/../../../src/plots/scatter/constant.ts","webpack://frontend/../../src/interactions/drag-move.ts","webpack://frontend/../../../src/plots/scatter/index.ts","webpack://frontend/../../../src/plots/radar/adaptor.ts","webpack://frontend/../../../../src/plots/radar/interactions/radar-tooltip-action.ts","webpack://frontend/../../../../src/plots/radar/interactions/index.ts","webpack://frontend/../../../src/plots/radar/index.ts","webpack://frontend/../../../src/plots/dual-axes/types.ts","webpack://frontend/../../../src/plots/dual-axes/constant.ts","webpack://frontend/../../../../src/plots/dual-axes/util/option.ts","webpack://frontend/../../../../src/plots/dual-axes/util/legend.ts","webpack://frontend/../../../../src/plots/dual-axes/util/geometry.ts","webpack://frontend/../../../../src/plots/dual-axes/util/render-sider.ts","webpack://frontend/../../../src/plots/dual-axes/adaptor.ts","webpack://frontend/../../../src/plots/dual-axes/index.ts","webpack://frontend/../../../src/plots/tiny-line/constants.ts","webpack://frontend/../../../src/plots/tiny-line/utils.ts","webpack://frontend/../../../src/plots/tiny-area/adaptor.ts","webpack://frontend/../../../src/plots/tiny-line/adaptor.ts","webpack://frontend/../../../src/plots/tiny-line/index.ts","webpack://frontend/../../../src/plots/tiny-column/adaptor.ts","webpack://frontend/../../../src/plots/tiny-column/constants.ts","webpack://frontend/../../../src/plots/tiny-column/index.ts","webpack://frontend/../../../src/plots/tiny-area/constants.ts","webpack://frontend/../../../src/plots/tiny-area/index.ts","webpack://frontend/../../../src/utils/transform/histogram.ts","webpack://frontend/../../../src/plots/histogram/constant.ts","webpack://frontend/../../../src/plots/histogram/adaptor.ts","webpack://frontend/../../../src/plots/histogram/index.ts","webpack://frontend/../../../src/plots/progress/constants.ts","webpack://frontend/../../../src/plots/progress/utils.ts","webpack://frontend/../../../src/plots/progress/adaptor.ts","webpack://frontend/../../../src/plots/progress/index.ts","webpack://frontend/../../../src/plots/ring-progress/adaptor.ts","webpack://frontend/../../../src/plots/ring-progress/constants.ts","webpack://frontend/../../../src/plots/ring-progress/index.ts","webpack://frontend/../../../src/plots/heatmap/adaptor.ts","webpack://frontend/../../../src/plots/heatmap/constant.ts","webpack://frontend/../../../../src/plots/heatmap/shapes/circle.ts","webpack://frontend/../../../../src/plots/heatmap/shapes/square.ts","webpack://frontend/../../../src/plots/heatmap/index.ts","webpack://frontend/../../../src/plots/box/constant.ts","webpack://frontend/../../../src/plots/box/utils.ts","webpack://frontend/../../../src/plots/box/adaptor.ts","webpack://frontend/../../../src/plots/box/index.ts","webpack://frontend/../../../src/utils/transform/quantile.ts","webpack://frontend/../../../src/plots/violin/utils.ts","webpack://frontend/../../../src/plots/violin/constant.ts","webpack://frontend/../../../src/plots/violin/adaptor.ts","webpack://frontend/../../../src/plots/violin/index.ts","webpack://frontend/../../../src/utils/color/blend.ts","webpack://frontend/../../../../src/plots/venn/layout/circleintersection.ts","webpack://frontend/../../../../src/plots/venn/layout/layout.ts","webpack://frontend/../../../../src/plots/venn/layout/diagram.ts","webpack://frontend/../../../src/plots/venn/constant.ts","webpack://frontend/../../../src/plots/venn/utils.ts","webpack://frontend/../../../src/plots/venn/shape.ts","webpack://frontend/../../../src/plots/venn/label.ts","webpack://frontend/../../../../src/plots/venn/interactions/util.ts","webpack://frontend/../../../../../src/plots/venn/interactions/actions/active.ts","webpack://frontend/../../../../../src/plots/venn/interactions/actions/highlight.ts","webpack://frontend/../../../../../src/plots/venn/interactions/actions/selected.ts","webpack://frontend/../../../../src/plots/venn/interactions/index.ts","webpack://frontend/../../../src/plots/venn/adaptor.ts","webpack://frontend/../../../src/plots/venn/index.ts","webpack://frontend/../../../src/plots/stock/constant.ts","webpack://frontend/../../../src/plots/stock/utils.ts","webpack://frontend/../../../src/plots/stock/adaptor.ts","webpack://frontend/../../../src/plots/stock/index.ts","webpack://frontend/../../../src/plots/funnel/constant.ts","webpack://frontend/../../../../src/plots/funnel/geometries/common.ts","webpack://frontend/../../../../src/plots/funnel/geometries/basic.ts","webpack://frontend/../../../../src/plots/funnel/geometries/compare.ts","webpack://frontend/../../../../src/plots/funnel/geometries/facet.ts","webpack://frontend/../../../../src/plots/funnel/geometries/dynamic-height.ts","webpack://frontend/../../../src/plots/funnel/adaptor.ts","webpack://frontend/../../../src/plots/funnel/index.ts","webpack://frontend/../../../src/plots/liquid/utils.ts","webpack://frontend/../../../src/plots/liquid/adaptor.ts","webpack://frontend/../../../src/plots/liquid/constants.ts","webpack://frontend/../../../../src/plots/liquid/shapes/liquid.ts","webpack://frontend/../../../src/plots/liquid/index.ts","webpack://frontend/../../../src/plots/bullet/utils.ts","webpack://frontend/../../../src/plots/bullet/adaptor.ts","webpack://frontend/../../../src/plots/bullet/constant.ts","webpack://frontend/../../../src/utils/hierarchy/util.ts","webpack://frontend/../../../src/plots/bullet/index.ts","webpack://frontend/../../../src/plots/sunburst/constant.ts","webpack://frontend/../../../src/interactions/actions/drill-down.ts","webpack://frontend/./node_modules/d3-hierarchy/src/treemap/round.js","webpack://frontend/./node_modules/d3-hierarchy/src/treemap/dice.js","webpack://frontend/./node_modules/d3-hierarchy/src/partition.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/count.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/each.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/find.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/sum.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/sort.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/path.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/ancestors.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/descendants.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/leaves.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/links.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/iterator.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/index.js","webpack://frontend/../../../src/utils/hierarchy/partition.ts","webpack://frontend/./node_modules/d3-hierarchy/src/cluster.js","webpack://frontend/./node_modules/d3-hierarchy/src/array.js","webpack://frontend/./node_modules/d3-hierarchy/src/pack/enclose.js","webpack://frontend/./node_modules/d3-hierarchy/src/pack/siblings.js","webpack://frontend/./node_modules/d3-hierarchy/src/accessors.js","webpack://frontend/./node_modules/d3-hierarchy/src/constant.js","webpack://frontend/./node_modules/d3-hierarchy/src/pack/index.js","webpack://frontend/./node_modules/d3-hierarchy/src/stratify.js","webpack://frontend/./node_modules/d3-hierarchy/src/tree.js","webpack://frontend/./node_modules/d3-hierarchy/src/treemap/slice.js","webpack://frontend/./node_modules/d3-hierarchy/src/treemap/squarify.js","webpack://frontend/./node_modules/d3-hierarchy/src/treemap/index.js","webpack://frontend/./node_modules/d3-hierarchy/src/treemap/binary.js","webpack://frontend/./node_modules/d3-hierarchy/src/treemap/sliceDice.js","webpack://frontend/./node_modules/d3-hierarchy/src/treemap/resquarify.js","webpack://frontend/../../../src/utils/hierarchy/treemap.ts","webpack://frontend/../../../src/plots/sunburst/utils.ts","webpack://frontend/../../../src/plots/sunburst/adaptor.ts","webpack://frontend/../../src/interactions/drill-down.ts","webpack://frontend/../../../src/plots/sunburst/index.ts","webpack://frontend/../../../src/plots/gauge/constants.ts","webpack://frontend/../../../src/plots/gauge/utils.ts","webpack://frontend/../../../src/plots/gauge/adaptor.ts","webpack://frontend/../../../../src/plots/gauge/shapes/indicator.ts","webpack://frontend/../../../../src/plots/gauge/shapes/meter-gauge.ts","webpack://frontend/../../../src/plots/gauge/index.ts","webpack://frontend/../../../src/plots/waterfall/constant.ts","webpack://frontend/../../../src/plots/waterfall/utils.ts","webpack://frontend/../../../src/plots/waterfall/shape.ts","webpack://frontend/../../../src/plots/waterfall/adaptor.ts","webpack://frontend/../../../src/plots/waterfall/index.ts","webpack://frontend/../../../src/plots/radial-bar/utils.ts","webpack://frontend/../../../src/plots/radial-bar/adaptor.ts","webpack://frontend/../../../src/plots/radial-bar/constant.ts","webpack://frontend/../../../src/plots/bidirectional-bar/constant.ts","webpack://frontend/../../../src/plots/radial-bar/index.ts","webpack://frontend/../../../src/plots/bidirectional-bar/utils.ts","webpack://frontend/../../../src/plots/bidirectional-bar/adaptor.ts","webpack://frontend/../../../src/plots/bidirectional-bar/index.ts","webpack://frontend/../../../src/plots/treemap/utils.ts","webpack://frontend/../../../src/plots/treemap/adaptor.ts","webpack://frontend/../../../src/plots/treemap/constant.ts","webpack://frontend/../../../src/plots/treemap/index.ts","webpack://frontend/../../../../src/plots/sankey/sankey/align.ts","webpack://frontend/../../../../src/plots/sankey/sankey/helper.ts","webpack://frontend/../../../../src/plots/sankey/sankey/sankey.ts","webpack://frontend/../../../src/plots/sankey/layout.ts","webpack://frontend/../../../src/plots/sankey/circle.ts","webpack://frontend/../../../src/plots/sankey/helper.ts","webpack://frontend/../../../src/plots/sankey/constant.ts","webpack://frontend/../../../src/plots/sankey/adaptor.ts","webpack://frontend/../../../../../src/plots/sankey/interactions/actions/node-drag.ts","webpack://frontend/../../../../src/plots/sankey/interactions/node-draggable.ts","webpack://frontend/../../../src/plots/sankey/index.ts","webpack://frontend/../../../src/utils/transform/chord.ts","webpack://frontend/../../../src/plots/chord/constant.ts","webpack://frontend/../../../src/plots/chord/adaptor.ts","webpack://frontend/../../../src/plots/chord/index.ts","webpack://frontend/../../../src/utils/hierarchy/pack.ts","webpack://frontend/../../../src/plots/circle-packing/utils.ts","webpack://frontend/../../../src/plots/circle-packing/constant.ts","webpack://frontend/../../../src/plots/circle-packing/adaptor.ts","webpack://frontend/../../../src/plots/circle-packing/index.ts","webpack://frontend/../../src/plugin/index.ts","webpack://frontend/../../../src/plots/mix/utils.ts","webpack://frontend/../../../src/plots/mix/adaptor.ts","webpack://frontend/../../../../src/plots/mix/interactions/utils.ts","webpack://frontend/../../../../src/plots/mix/interactions/association.ts","webpack://frontend/../../../src/plots/mix/index.ts","webpack://frontend/../../../src/plots/facet/utils.ts","webpack://frontend/../../../src/plots/facet/adaptor.ts","webpack://frontend/../../../src/plots/facet/constant.ts","webpack://frontend/../src/lab.ts","webpack://frontend/../../../src/plots/facet/index.ts","webpack://frontend/./src/views/home/DashboardView.vue?e0d2"],"sourcesContent":["import { toRaw, watchEffect, unref, watch, ref } from 'vue';\nexport default function useMergedState(defaultStateValue, option) {\n  var _ref = option || {},\n      defaultValue = _ref.defaultValue,\n      _ref$value = _ref.value,\n      value = _ref$value === void 0 ? ref() : _ref$value;\n\n  var initValue = typeof defaultStateValue === 'function' ? defaultStateValue() : defaultStateValue;\n\n  if (value.value !== undefined) {\n    initValue = unref(value);\n  }\n\n  if (defaultValue !== undefined) {\n    initValue = typeof defaultValue === 'function' ? defaultValue() : defaultValue;\n  }\n\n  var innerValue = ref(initValue);\n  var mergedValue = ref(initValue);\n  watchEffect(function () {\n    var val = value.value !== undefined ? value.value : innerValue.value;\n\n    if (option.postState) {\n      val = option.postState(val);\n    }\n\n    mergedValue.value = val;\n  });\n\n  function triggerChange(newValue) {\n    var preVal = mergedValue.value;\n    innerValue.value = newValue;\n\n    if (toRaw(mergedValue.value) !== newValue && option.onChange) {\n      option.onChange(newValue, preVal);\n    }\n  } // Effect of reset value to `undefined`\n\n\n  watch(value, function () {\n    innerValue.value = value.value;\n  });\n  return [mergedValue, triggerChange];\n}","import { ref } from 'vue';\nexport default function useState(defaultStateValue) {\n  var initValue = typeof defaultStateValue === 'function' ? defaultStateValue() : defaultStateValue;\n  var innerValue = ref(initValue);\n\n  function triggerChange(newValue) {\n    innerValue.value = newValue;\n  }\n\n  return [innerValue, triggerChange];\n}","import { Col } from '../grid';\nimport { withInstall } from '../_util/type';\nexport default withInstall(Col);","import { Row } from '../grid';\nimport { withInstall } from '../_util/type';\nexport default withInstall(Row);","export default (function () {\n  if (typeof navigator === 'undefined' || typeof window === 'undefined') {\n    return false;\n  }\n\n  var agent = navigator.userAgent || navigator.vendor || window.opera;\n\n  if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(agent) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(agent === null || agent === void 0 ? void 0 : agent.substr(0, 4))) {\n    return true;\n  }\n\n  return false;\n});","// https://github.com/HarryStevens/d3-regression#readme Version 1.3.10. Copyright 2022 Harry Stevens.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = global || self, factory(global.d3 = {}));\n}(this, (function (exports) { 'use strict';\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n\n  // Adapted from vega-statistics by Jeffrey Heer\n  // License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n  // Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/points.js\n  function points(data, x, y, sort) {\n    data = data.filter(function (d, i) {\n      var u = x(d, i),\n          v = y(d, i);\n      return u != null && isFinite(u) && v != null && isFinite(v);\n    });\n\n    if (sort) {\n      data.sort(function (a, b) {\n        return x(a) - x(b);\n      });\n    }\n\n    var n = data.length,\n        X = new Float64Array(n),\n        Y = new Float64Array(n); // extract values, calculate means\n\n    var ux = 0,\n        uy = 0,\n        xv,\n        yv,\n        d;\n\n    for (var i = 0; i < n;) {\n      d = data[i];\n      X[i] = xv = +x(d, i, data);\n      Y[i] = yv = +y(d, i, data);\n      ++i;\n      ux += (xv - ux) / i;\n      uy += (yv - uy) / i;\n    } // mean center the data\n\n\n    for (var _i = 0; _i < n; ++_i) {\n      X[_i] -= ux;\n      Y[_i] -= uy;\n    }\n\n    return [X, Y, ux, uy];\n  }\n  function visitPoints(data, x, y, cb) {\n    var iterations = 0;\n\n    for (var i = 0, n = data.length; i < n; i++) {\n      var d = data[i],\n          dx = +x(d, i, data),\n          dy = +y(d, i, data);\n\n      if (dx != null && isFinite(dx) && dy != null && isFinite(dy)) {\n        cb(dx, dy, iterations++);\n      }\n    }\n  }\n\n  // return the coefficient of determination, or R squared.\n\n  function determination(data, x, y, uY, predict) {\n    var SSE = 0,\n        SST = 0;\n    visitPoints(data, x, y, function (dx, dy) {\n      var sse = dy - predict(dx),\n          sst = dy - uY;\n      SSE += sse * sse;\n      SST += sst * sst;\n    });\n    return 1 - SSE / SST;\n  }\n\n  // Returns the angle of a line in degrees.\n  function angle(line) {\n    return Math.atan2(line[1][1] - line[0][1], line[1][0] - line[0][0]) * 180 / Math.PI;\n  } // Returns the midpoint of a line.\n\n  function midpoint(line) {\n    return [(line[0][0] + line[1][0]) / 2, (line[0][1] + line[1][1]) / 2];\n  }\n\n  // returns a smooth line.\n\n  function interpose(xmin, xmax, predict) {\n    var l = Math.log(xmax - xmin) * Math.LOG10E + 1 | 0;\n    var precision = 1 * Math.pow(10, -l / 2 - 1),\n        maxIter = 1e4;\n    var points = [px(xmin), px(xmax)],\n        iter = 0;\n\n    while (find(points) && iter < maxIter) {\n    }\n\n    return points;\n\n    function px(x) {\n      return [x, predict(x)];\n    }\n\n    function find(points) {\n      iter++;\n      var n = points.length;\n      var found = false;\n\n      for (var i = 0; i < n - 1; i++) {\n        var p0 = points[i],\n            p1 = points[i + 1],\n            m = midpoint([p0, p1]),\n            mp = px(m[0]),\n            a0 = angle([p0, m]),\n            a1 = angle([p0, mp]),\n            a = Math.abs(a0 - a1);\n\n        if (a > precision) {\n          points.splice(i + 1, 0, mp);\n          found = true;\n        }\n      }\n\n      return found;\n    }\n  }\n\n  // Ordinary Least Squares from vega-statistics by Jeffrey Heer\n  // License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n  // Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/ols.js\n  function ols(uX, uY, uXY, uX2) {\n    var delta = uX2 - uX * uX,\n        slope = Math.abs(delta) < 1e-24 ? 0 : (uXY - uX * uY) / delta,\n        intercept = uY - slope * uX;\n    return [intercept, slope];\n  }\n\n  function exponential () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function exponential(data) {\n      var n = 0,\n          Y = 0,\n          YL = 0,\n          XY = 0,\n          XYL = 0,\n          X2Y = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        var ly = Math.log(dy),\n            xy = dx * dy;\n        ++n;\n        Y += (dy - Y) / n;\n        XY += (xy - XY) / n;\n        X2Y += (dx * xy - X2Y) / n;\n        YL += (dy * ly - YL) / n;\n        XYL += (xy * ly - XYL) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(XY / Y, YL / Y, XYL / Y, X2Y / Y),\n          _ols2 = _slicedToArray(_ols, 2),\n          a = _ols2[0],\n          b = _ols2[1];\n\n      a = Math.exp(a);\n\n      var fn = function fn(x) {\n        return a * Math.exp(b * x);\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.a = a;\n      out.b = b;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    exponential.domain = function (arr) {\n      return arguments.length ? (domain = arr, exponential) : domain;\n    };\n\n    exponential.x = function (fn) {\n      return arguments.length ? (x = fn, exponential) : x;\n    };\n\n    exponential.y = function (fn) {\n      return arguments.length ? (y = fn, exponential) : y;\n    };\n\n    return exponential;\n  }\n\n  function linear () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function linear(data) {\n      var n = 0,\n          X = 0,\n          // sum of x\n      Y = 0,\n          // sum of y\n      XY = 0,\n          // sum of x * y\n      X2 = 0,\n          // sum of x * x\n      xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        ++n;\n        X += (dx - X) / n;\n        Y += (dy - Y) / n;\n        XY += (dx * dy - XY) / n;\n        X2 += (dx * dx - X2) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(X, Y, XY, X2),\n          _ols2 = _slicedToArray(_ols, 2),\n          intercept = _ols2[0],\n          slope = _ols2[1],\n          fn = function fn(x) {\n        return slope * x + intercept;\n      },\n          out = [[xmin, fn(xmin)], [xmax, fn(xmax)]];\n\n      out.a = slope;\n      out.b = intercept;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    linear.domain = function (arr) {\n      return arguments.length ? (domain = arr, linear) : domain;\n    };\n\n    linear.x = function (fn) {\n      return arguments.length ? (x = fn, linear) : x;\n    };\n\n    linear.y = function (fn) {\n      return arguments.length ? (y = fn, linear) : y;\n    };\n\n    return linear;\n  }\n\n  // Returns the medium value of an array of numbers.\n  function median(arr) {\n    arr.sort(function (a, b) {\n      return a - b;\n    });\n    var i = arr.length / 2;\n    return i % 1 === 0 ? (arr[i - 1] + arr[i]) / 2 : arr[Math.floor(i)];\n  }\n\n  var maxiters = 2,\n      epsilon = 1e-12;\n  function loess () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        bandwidth = .3;\n\n    function loess(data) {\n      var _points = points(data, x, y, true),\n          _points2 = _slicedToArray(_points, 4),\n          xv = _points2[0],\n          yv = _points2[1],\n          ux = _points2[2],\n          uy = _points2[3],\n          n = xv.length,\n          bw = Math.max(2, ~~(bandwidth * n)),\n          yhat = new Float64Array(n),\n          residuals = new Float64Array(n),\n          robustWeights = new Float64Array(n).fill(1);\n\n      for (var iter = -1; ++iter <= maxiters;) {\n        var interval = [0, bw - 1];\n\n        for (var i = 0; i < n; ++i) {\n          var dx = xv[i],\n              i0 = interval[0],\n              i1 = interval[1],\n              edge = dx - xv[i0] > xv[i1] - dx ? i0 : i1;\n          var W = 0,\n              X = 0,\n              Y = 0,\n              XY = 0,\n              X2 = 0,\n              denom = 1 / Math.abs(xv[edge] - dx || 1); // Avoid singularity\n\n          for (var k = i0; k <= i1; ++k) {\n            var xk = xv[k],\n                yk = yv[k],\n                w = tricube(Math.abs(dx - xk) * denom) * robustWeights[k],\n                xkw = xk * w;\n            W += w;\n            X += xkw;\n            Y += yk * w;\n            XY += yk * xkw;\n            X2 += xk * xkw;\n          } // Linear regression fit\n\n\n          var _ols = ols(X / W, Y / W, XY / W, X2 / W),\n              _ols2 = _slicedToArray(_ols, 2),\n              a = _ols2[0],\n              b = _ols2[1];\n\n          yhat[i] = a + b * dx;\n          residuals[i] = Math.abs(yv[i] - yhat[i]);\n          updateInterval(xv, i + 1, interval);\n        }\n\n        if (iter === maxiters) {\n          break;\n        }\n\n        var medianResidual = median(residuals);\n        if (Math.abs(medianResidual) < epsilon) break;\n\n        for (var _i = 0, arg, _w; _i < n; ++_i) {\n          arg = residuals[_i] / (6 * medianResidual); // Default to epsilon (rather than zero) for large deviations\n          // Keeping weights tiny but non-zero prevents singularites\n\n          robustWeights[_i] = arg >= 1 ? epsilon : (_w = 1 - arg * arg) * _w;\n        }\n      }\n\n      return output(xv, yhat, ux, uy);\n    }\n\n    loess.bandwidth = function (bw) {\n      return arguments.length ? (bandwidth = bw, loess) : bandwidth;\n    };\n\n    loess.x = function (fn) {\n      return arguments.length ? (x = fn, loess) : x;\n    };\n\n    loess.y = function (fn) {\n      return arguments.length ? (y = fn, loess) : y;\n    };\n\n    return loess;\n  } // Weighting kernel for local regression\n\n  function tricube(x) {\n    return (x = 1 - x * x * x) * x * x;\n  } // Advance sliding window interval of nearest neighbors\n\n\n  function updateInterval(xv, i, interval) {\n    var val = xv[i],\n        left = interval[0],\n        right = interval[1] + 1;\n    if (right >= xv.length) return; // Step right if distance to new right edge is <= distance to old left edge\n    // Step when distance is equal to ensure movement over duplicate x values\n\n    while (i > left && xv[right] - val <= val - xv[left]) {\n      interval[0] = ++left;\n      interval[1] = right;\n      ++right;\n    }\n  } // Generate smoothed output points\n  // Average points with repeated x values\n\n\n  function output(xv, yhat, ux, uy) {\n    var n = xv.length,\n        out = [];\n    var i = 0,\n        cnt = 0,\n        prev = [],\n        v;\n\n    for (; i < n; ++i) {\n      v = xv[i] + ux;\n\n      if (prev[0] === v) {\n        // Average output values via online update\n        prev[1] += (yhat[i] - prev[1]) / ++cnt;\n      } else {\n        // Add new output point\n        cnt = 0;\n        prev[1] += uy;\n        prev = [v, yhat[i]];\n        out.push(prev);\n      }\n    }\n\n    prev[1] += uy;\n    return out;\n  }\n\n  function logarithmic () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        base = Math.E,\n        domain;\n\n    function logarithmic(data) {\n      var n = 0,\n          X = 0,\n          Y = 0,\n          XY = 0,\n          X2 = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity,\n          lb = Math.log(base);\n      visitPoints(data, x, y, function (dx, dy) {\n        var lx = Math.log(dx) / lb;\n        ++n;\n        X += (lx - X) / n;\n        Y += (dy - Y) / n;\n        XY += (lx * dy - XY) / n;\n        X2 += (lx * lx - X2) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(X, Y, XY, X2),\n          _ols2 = _slicedToArray(_ols, 2),\n          intercept = _ols2[0],\n          slope = _ols2[1],\n          fn = function fn(x) {\n        return slope * Math.log(x) / lb + intercept;\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.a = slope;\n      out.b = intercept;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    logarithmic.domain = function (arr) {\n      return arguments.length ? (domain = arr, logarithmic) : domain;\n    };\n\n    logarithmic.x = function (fn) {\n      return arguments.length ? (x = fn, logarithmic) : x;\n    };\n\n    logarithmic.y = function (fn) {\n      return arguments.length ? (y = fn, logarithmic) : y;\n    };\n\n    logarithmic.base = function (n) {\n      return arguments.length ? (base = n, logarithmic) : base;\n    };\n\n    return logarithmic;\n  }\n\n  function quad () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function quadratic(data) {\n      var _points = points(data, x, y),\n          _points2 = _slicedToArray(_points, 4),\n          xv = _points2[0],\n          yv = _points2[1],\n          ux = _points2[2],\n          uy = _points2[3],\n          n = xv.length;\n\n      var X2 = 0,\n          X3 = 0,\n          X4 = 0,\n          XY = 0,\n          X2Y = 0,\n          i,\n          dx,\n          dy,\n          x2;\n\n      for (i = 0; i < n;) {\n        dx = xv[i];\n        dy = yv[i++];\n        x2 = dx * dx;\n        X2 += (x2 - X2) / i;\n        X3 += (x2 * dx - X3) / i;\n        X4 += (x2 * x2 - X4) / i;\n        XY += (dx * dy - XY) / i;\n        X2Y += (x2 * dy - X2Y) / i;\n      }\n\n      var Y = 0,\n          n0 = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        n0++;\n        Y += (dy - Y) / n0;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var X2X2 = X4 - X2 * X2,\n          d = X2 * X2X2 - X3 * X3,\n          a = (X2Y * X2 - XY * X3) / d,\n          b = (XY * X2X2 - X2Y * X3) / d,\n          c = -a * X2,\n          fn = function fn(x) {\n        x = x - ux;\n        return a * x * x + b * x + c + uy;\n      };\n\n      var out = interpose(xmin, xmax, fn);\n      out.a = a;\n      out.b = b - 2 * a * ux;\n      out.c = c - b * ux + a * ux * ux + uy;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    quadratic.domain = function (arr) {\n      return arguments.length ? (domain = arr, quadratic) : domain;\n    };\n\n    quadratic.x = function (fn) {\n      return arguments.length ? (x = fn, quadratic) : x;\n    };\n\n    quadratic.y = function (fn) {\n      return arguments.length ? (y = fn, quadratic) : y;\n    };\n\n    return quadratic;\n  }\n\n  // Source: https://github.com/Tom-Alexander/regression-js/blob/master/src/regression.js#L246\n  // License: https://github.com/Tom-Alexander/regression-js/blob/master/LICENSE\n  // ...with ideas from vega-statistics by Jeffrey Heer\n  // Source: https://github.com/vega/vega/blob/f21cb8792b4e0cbe2b1a3fd44b0f5db370dbaadb/packages/vega-statistics/src/regression/poly.js\n  // License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n\n  function polynomial () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        order = 3,\n        domain;\n\n    function polynomial(data) {\n      // Use more efficient methods for lower orders\n      if (order === 1) {\n        var o = linear().x(x).y(y).domain(domain)(data);\n        o.coefficients = [o.b, o.a];\n        delete o.a;\n        delete o.b;\n        return o;\n      }\n\n      if (order === 2) {\n        var _o = quad().x(x).y(y).domain(domain)(data);\n\n        _o.coefficients = [_o.c, _o.b, _o.a];\n        delete _o.a;\n        delete _o.b;\n        delete _o.c;\n        return _o;\n      }\n\n      var _points = points(data, x, y),\n          _points2 = _slicedToArray(_points, 4),\n          xv = _points2[0],\n          yv = _points2[1],\n          ux = _points2[2],\n          uy = _points2[3],\n          n = xv.length,\n          lhs = [],\n          rhs = [],\n          k = order + 1;\n\n      var Y = 0,\n          n0 = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        ++n0;\n        Y += (dy - Y) / n0;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n      var i, j, l, v, c;\n\n      for (i = 0; i < k; ++i) {\n        for (l = 0, v = 0; l < n; ++l) {\n          v += Math.pow(xv[l], i) * yv[l];\n        }\n\n        lhs.push(v);\n        c = new Float64Array(k);\n\n        for (j = 0; j < k; ++j) {\n          for (l = 0, v = 0; l < n; ++l) {\n            v += Math.pow(xv[l], i + j);\n          }\n\n          c[j] = v;\n        }\n\n        rhs.push(c);\n      }\n\n      rhs.push(lhs);\n\n      var coef = gaussianElimination(rhs),\n          fn = function fn(x) {\n        x -= ux;\n        var y = uy + coef[0] + coef[1] * x + coef[2] * x * x;\n\n        for (i = 3; i < k; ++i) {\n          y += coef[i] * Math.pow(x, i);\n        }\n\n        return y;\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.coefficients = uncenter(k, coef, -ux, uy);\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    polynomial.domain = function (arr) {\n      return arguments.length ? (domain = arr, polynomial) : domain;\n    };\n\n    polynomial.x = function (fn) {\n      return arguments.length ? (x = fn, polynomial) : x;\n    };\n\n    polynomial.y = function (fn) {\n      return arguments.length ? (y = fn, polynomial) : y;\n    };\n\n    polynomial.order = function (n) {\n      return arguments.length ? (order = n, polynomial) : order;\n    };\n\n    return polynomial;\n  }\n\n  function uncenter(k, a, x, y) {\n    var z = Array(k);\n    var i, j, v, c; // initialize to zero\n\n    for (i = 0; i < k; ++i) {\n      z[i] = 0;\n    } // polynomial expansion\n\n\n    for (i = k - 1; i >= 0; --i) {\n      v = a[i];\n      c = 1;\n      z[i] += v;\n\n      for (j = 1; j <= i; ++j) {\n        c *= (i + 1 - j) / j; // binomial coefficent\n\n        z[i - j] += v * Math.pow(x, j) * c;\n      }\n    } // bias term\n\n\n    z[0] += y;\n    return z;\n  } // Given an array for a two-dimensional matrix and the polynomial order,\n  // solve A * x = b using Gaussian elimination.\n\n\n  function gaussianElimination(matrix) {\n    var n = matrix.length - 1,\n        coef = [];\n    var i, j, k, r, t;\n\n    for (i = 0; i < n; ++i) {\n      r = i; // max row\n\n      for (j = i + 1; j < n; ++j) {\n        if (Math.abs(matrix[i][j]) > Math.abs(matrix[i][r])) {\n          r = j;\n        }\n      }\n\n      for (k = i; k < n + 1; ++k) {\n        t = matrix[k][i];\n        matrix[k][i] = matrix[k][r];\n        matrix[k][r] = t;\n      }\n\n      for (j = i + 1; j < n; ++j) {\n        for (k = n; k >= i; k--) {\n          matrix[k][j] -= matrix[k][i] * matrix[i][j] / matrix[i][i];\n        }\n      }\n    }\n\n    for (j = n - 1; j >= 0; --j) {\n      t = 0;\n\n      for (k = j + 1; k < n; ++k) {\n        t += matrix[k][j] * coef[k];\n      }\n\n      coef[j] = (matrix[n][j] - t) / matrix[j][j];\n    }\n\n    return coef;\n  }\n\n  function power () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function power(data) {\n      var n = 0,\n          X = 0,\n          Y = 0,\n          XY = 0,\n          X2 = 0,\n          YS = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        var lx = Math.log(dx),\n            ly = Math.log(dy);\n        ++n;\n        X += (lx - X) / n;\n        Y += (ly - Y) / n;\n        XY += (lx * ly - XY) / n;\n        X2 += (lx * lx - X2) / n;\n        YS += (dy - YS) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(X, Y, XY, X2),\n          _ols2 = _slicedToArray(_ols, 2),\n          a = _ols2[0],\n          b = _ols2[1];\n\n      a = Math.exp(a);\n\n      var fn = function fn(x) {\n        return a * Math.pow(x, b);\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.a = a;\n      out.b = b;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, YS, fn);\n      return out;\n    }\n\n    power.domain = function (arr) {\n      return arguments.length ? (domain = arr, power) : domain;\n    };\n\n    power.x = function (fn) {\n      return arguments.length ? (x = fn, power) : x;\n    };\n\n    power.y = function (fn) {\n      return arguments.length ? (y = fn, power) : y;\n    };\n\n    return power;\n  }\n\n  exports.regressionExp = exponential;\n  exports.regressionLinear = linear;\n  exports.regressionLoess = loess;\n  exports.regressionLog = logarithmic;\n  exports.regressionPoly = polynomial;\n  exports.regressionPow = power;\n  exports.regressionQuad = quad;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (factory((global.fmin = global.fmin || {})));\n}(this, function (exports) { 'use strict';\n\n    /** finds the zeros of a function, given two starting points (which must\n     * have opposite signs */\n    function bisect(f, a, b, parameters) {\n        parameters = parameters || {};\n        var maxIterations = parameters.maxIterations || 100,\n            tolerance = parameters.tolerance || 1e-10,\n            fA = f(a),\n            fB = f(b),\n            delta = b - a;\n\n        if (fA * fB > 0) {\n            throw \"Initial bisect points must have opposite signs\";\n        }\n\n        if (fA === 0) return a;\n        if (fB === 0) return b;\n\n        for (var i = 0; i < maxIterations; ++i) {\n            delta /= 2;\n            var mid = a + delta,\n                fMid = f(mid);\n\n            if (fMid * fA >= 0) {\n                a = mid;\n            }\n\n            if ((Math.abs(delta) < tolerance) || (fMid === 0)) {\n                return mid;\n            }\n        }\n        return a + delta;\n    }\n\n    // need some basic operations on vectors, rather than adding a dependency,\n    // just define here\n    function zeros(x) { var r = new Array(x); for (var i = 0; i < x; ++i) { r[i] = 0; } return r; }\n    function zerosM(x,y) { return zeros(x).map(function() { return zeros(y); }); }\n\n    function dot(a, b) {\n        var ret = 0;\n        for (var i = 0; i < a.length; ++i) {\n            ret += a[i] * b[i];\n        }\n        return ret;\n    }\n\n    function norm2(a)  {\n        return Math.sqrt(dot(a, a));\n    }\n\n    function scale(ret, value, c) {\n        for (var i = 0; i < value.length; ++i) {\n            ret[i] = value[i] * c;\n        }\n    }\n\n    function weightedSum(ret, w1, v1, w2, v2) {\n        for (var j = 0; j < ret.length; ++j) {\n            ret[j] = w1 * v1[j] + w2 * v2[j];\n        }\n    }\n\n    /** minimizes a function using the downhill simplex method */\n    function nelderMead(f, x0, parameters) {\n        parameters = parameters || {};\n\n        var maxIterations = parameters.maxIterations || x0.length * 200,\n            nonZeroDelta = parameters.nonZeroDelta || 1.05,\n            zeroDelta = parameters.zeroDelta || 0.001,\n            minErrorDelta = parameters.minErrorDelta || 1e-6,\n            minTolerance = parameters.minErrorDelta || 1e-5,\n            rho = (parameters.rho !== undefined) ? parameters.rho : 1,\n            chi = (parameters.chi !== undefined) ? parameters.chi : 2,\n            psi = (parameters.psi !== undefined) ? parameters.psi : -0.5,\n            sigma = (parameters.sigma !== undefined) ? parameters.sigma : 0.5,\n            maxDiff;\n\n        // initialize simplex.\n        var N = x0.length,\n            simplex = new Array(N + 1);\n        simplex[0] = x0;\n        simplex[0].fx = f(x0);\n        simplex[0].id = 0;\n        for (var i = 0; i < N; ++i) {\n            var point = x0.slice();\n            point[i] = point[i] ? point[i] * nonZeroDelta : zeroDelta;\n            simplex[i+1] = point;\n            simplex[i+1].fx = f(point);\n            simplex[i+1].id = i+1;\n        }\n\n        function updateSimplex(value) {\n            for (var i = 0; i < value.length; i++) {\n                simplex[N][i] = value[i];\n            }\n            simplex[N].fx = value.fx;\n        }\n\n        var sortOrder = function(a, b) { return a.fx - b.fx; };\n\n        var centroid = x0.slice(),\n            reflected = x0.slice(),\n            contracted = x0.slice(),\n            expanded = x0.slice();\n\n        for (var iteration = 0; iteration < maxIterations; ++iteration) {\n            simplex.sort(sortOrder);\n\n            if (parameters.history) {\n                // copy the simplex (since later iterations will mutate) and\n                // sort it to have a consistent order between iterations\n                var sortedSimplex = simplex.map(function (x) {\n                    var state = x.slice();\n                    state.fx = x.fx;\n                    state.id = x.id;\n                    return state;\n                });\n                sortedSimplex.sort(function(a,b) { return a.id - b.id; });\n\n                parameters.history.push({x: simplex[0].slice(),\n                                         fx: simplex[0].fx,\n                                         simplex: sortedSimplex});\n            }\n\n            maxDiff = 0;\n            for (i = 0; i < N; ++i) {\n                maxDiff = Math.max(maxDiff, Math.abs(simplex[0][i] - simplex[1][i]));\n            }\n\n            if ((Math.abs(simplex[0].fx - simplex[N].fx) < minErrorDelta) &&\n                (maxDiff < minTolerance)) {\n                break;\n            }\n\n            // compute the centroid of all but the worst point in the simplex\n            for (i = 0; i < N; ++i) {\n                centroid[i] = 0;\n                for (var j = 0; j < N; ++j) {\n                    centroid[i] += simplex[j][i];\n                }\n                centroid[i] /= N;\n            }\n\n            // reflect the worst point past the centroid  and compute loss at reflected\n            // point\n            var worst = simplex[N];\n            weightedSum(reflected, 1+rho, centroid, -rho, worst);\n            reflected.fx = f(reflected);\n\n            // if the reflected point is the best seen, then possibly expand\n            if (reflected.fx < simplex[0].fx) {\n                weightedSum(expanded, 1+chi, centroid, -chi, worst);\n                expanded.fx = f(expanded);\n                if (expanded.fx < reflected.fx) {\n                    updateSimplex(expanded);\n                }  else {\n                    updateSimplex(reflected);\n                }\n            }\n\n            // if the reflected point is worse than the second worst, we need to\n            // contract\n            else if (reflected.fx >= simplex[N-1].fx) {\n                var shouldReduce = false;\n\n                if (reflected.fx > worst.fx) {\n                    // do an inside contraction\n                    weightedSum(contracted, 1+psi, centroid, -psi, worst);\n                    contracted.fx = f(contracted);\n                    if (contracted.fx < worst.fx) {\n                        updateSimplex(contracted);\n                    } else {\n                        shouldReduce = true;\n                    }\n                } else {\n                    // do an outside contraction\n                    weightedSum(contracted, 1-psi * rho, centroid, psi*rho, worst);\n                    contracted.fx = f(contracted);\n                    if (contracted.fx < reflected.fx) {\n                        updateSimplex(contracted);\n                    } else {\n                        shouldReduce = true;\n                    }\n                }\n\n                if (shouldReduce) {\n                    // if we don't contract here, we're done\n                    if (sigma >= 1) break;\n\n                    // do a reduction\n                    for (i = 1; i < simplex.length; ++i) {\n                        weightedSum(simplex[i], 1 - sigma, simplex[0], sigma, simplex[i]);\n                        simplex[i].fx = f(simplex[i]);\n                    }\n                }\n            } else {\n                updateSimplex(reflected);\n            }\n        }\n\n        simplex.sort(sortOrder);\n        return {fx : simplex[0].fx,\n                x : simplex[0]};\n    }\n\n    /// searches along line 'pk' for a point that satifies the wolfe conditions\n    /// See 'Numerical Optimization' by Nocedal and Wright p59-60\n    /// f : objective function\n    /// pk : search direction\n    /// current: object containing current gradient/loss\n    /// next: output: contains next gradient/loss\n    /// returns a: step size taken\n    function wolfeLineSearch(f, pk, current, next, a, c1, c2) {\n        var phi0 = current.fx, phiPrime0 = dot(current.fxprime, pk),\n            phi = phi0, phi_old = phi0,\n            phiPrime = phiPrime0,\n            a0 = 0;\n\n        a = a || 1;\n        c1 = c1 || 1e-6;\n        c2 = c2 || 0.1;\n\n        function zoom(a_lo, a_high, phi_lo) {\n            for (var iteration = 0; iteration < 16; ++iteration) {\n                a = (a_lo + a_high)/2;\n                weightedSum(next.x, 1.0, current.x, a, pk);\n                phi = next.fx = f(next.x, next.fxprime);\n                phiPrime = dot(next.fxprime, pk);\n\n                if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                    (phi >= phi_lo)) {\n                    a_high = a;\n\n                } else  {\n                    if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                        return a;\n                    }\n\n                    if (phiPrime * (a_high - a_lo) >=0) {\n                        a_high = a_lo;\n                    }\n\n                    a_lo = a;\n                    phi_lo = phi;\n                }\n            }\n\n            return 0;\n        }\n\n        for (var iteration = 0; iteration < 10; ++iteration) {\n            weightedSum(next.x, 1.0, current.x, a, pk);\n            phi = next.fx = f(next.x, next.fxprime);\n            phiPrime = dot(next.fxprime, pk);\n            if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                (iteration && (phi >= phi_old))) {\n                return zoom(a0, a, phi_old);\n            }\n\n            if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                return a;\n            }\n\n            if (phiPrime >= 0 ) {\n                return zoom(a, a0, phi);\n            }\n\n            phi_old = phi;\n            a0 = a;\n            a *= 2;\n        }\n\n        return a;\n    }\n\n    function conjugateGradient(f, initial, params) {\n        // allocate all memory up front here, keep out of the loop for perfomance\n        // reasons\n        var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            yk = initial.slice(),\n            pk, temp,\n            a = 1,\n            maxIterations;\n\n        params = params || {};\n        maxIterations = params.maxIterations || initial.length * 20;\n\n        current.fx = f(current.x, current.fxprime);\n        pk = current.fxprime.slice();\n        scale(pk, current.fxprime,-1);\n\n        for (var i = 0; i < maxIterations; ++i) {\n            a = wolfeLineSearch(f, pk, current, next, a);\n\n            // todo: history in wrong spot?\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice(),\n                                     alpha: a});\n            }\n\n            if (!a) {\n                // faiiled to find point that satifies wolfe conditions.\n                // reset direction for next iteration\n                scale(pk, current.fxprime, -1);\n\n            } else {\n                // update direction using PolakRibiere CG method\n                weightedSum(yk, 1, next.fxprime, -1, current.fxprime);\n\n                var delta_k = dot(current.fxprime, current.fxprime),\n                    beta_k = Math.max(0, dot(yk, next.fxprime) / delta_k);\n\n                weightedSum(pk, beta_k, pk, -1, next.fxprime);\n\n                temp = current;\n                current = next;\n                next = temp;\n            }\n\n            if (norm2(current.fxprime) <= 1e-5) {\n                break;\n            }\n        }\n\n        if (params.history) {\n            params.history.push({x: current.x.slice(),\n                                 fx: current.fx,\n                                 fxprime: current.fxprime.slice(),\n                                 alpha: a});\n        }\n\n        return current;\n    }\n\n    function gradientDescent(f, initial, params) {\n        params = params || {};\n        var maxIterations = params.maxIterations || initial.length * 100,\n            learnRate = params.learnRate || 0.001,\n            current = {x: initial.slice(), fx: 0, fxprime: initial.slice()};\n\n        for (var i = 0; i < maxIterations; ++i) {\n            current.fx = f(current.x, current.fxprime);\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice()});\n            }\n\n            weightedSum(current.x, 1, current.x, -learnRate, current.fxprime);\n            if (norm2(current.fxprime) <= 1e-5) {\n                break;\n            }\n        }\n\n        return current;\n    }\n\n    function gradientDescentLineSearch(f, initial, params) {\n        params = params || {};\n        var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            maxIterations = params.maxIterations || initial.length * 100,\n            learnRate = params.learnRate || 1,\n            pk = initial.slice(),\n            c1 = params.c1 || 1e-3,\n            c2 = params.c2 || 0.1,\n            temp,\n            functionCalls = [];\n\n        if (params.history) {\n            // wrap the function call to track linesearch samples\n            var inner = f;\n            f = function(x, fxprime) {\n                functionCalls.push(x.slice());\n                return inner(x, fxprime);\n            };\n        }\n\n        current.fx = f(current.x, current.fxprime);\n        for (var i = 0; i < maxIterations; ++i) {\n            scale(pk, current.fxprime, -1);\n            learnRate = wolfeLineSearch(f, pk, current, next, learnRate, c1, c2);\n\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice(),\n                                     functionCalls: functionCalls,\n                                     learnRate: learnRate,\n                                     alpha: learnRate});\n                functionCalls = [];\n            }\n\n\n            temp = current;\n            current = next;\n            next = temp;\n\n            if ((learnRate === 0) || (norm2(current.fxprime) < 1e-5)) break;\n        }\n\n        return current;\n    }\n\n    exports.bisect = bisect;\n    exports.nelderMead = nelderMead;\n    exports.conjugateGradient = conjugateGradient;\n    exports.gradientDescent = gradientDescent;\n    exports.gradientDescentLineSearch = gradientDescentLineSearch;\n    exports.zeros = zeros;\n    exports.zerosM = zerosM;\n    exports.norm2 = norm2;\n    exports.weightedSum = weightedSum;\n    exports.scale = scale;\n\n}));","'use strict';\n\nvar self = module.exports;\n\nmodule.exports.isNumber = function (x) {\n  return (typeof x === 'number');\n};\n\nmodule.exports.findMin = function (arr) {\n  if (arr.length === 0) {\n    return Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMax = function (arr) {\n  if (arr.length === 0) {\n    return -Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMinMulti = function (arr) {\n  var curr = self.findMin(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, self.findMin(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.findMaxMulti = function (arr) {\n  var curr = self.findMax(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, self.findMax(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.inside = function (min, max, x) {\n  return (min <= x) && (x <= max);\n};\n","'use strict';\n\nvar DEFAULT_SIZE = 50;\nvar DEFAULT_WIDTH = 2;\n\nvar LN_2 = Math.log(2);\nvar self = module.exports;\n\nvar helper = require('./helper');\n\n// Triangle\nfunction kernel(x) {\n  return 1 - Math.abs(x);\n}\n\n/**\n * Get min and max value for the pdf, covering all arr data range while respecting options' data\n * @param arr\n * @param options\n * @returns {*}\n */\nmodule.exports.getUnifiedMinMax = function (arr, options) {\n  return self.getUnifiedMinMaxMulti([arr], options);\n};\n\nmodule.exports.getUnifiedMinMaxMulti = function (arrMulti, options) {\n  options = options || {};\n\n  var relaxMin = false;\n  var relaxMax = false;\n\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var min = helper.isNumber(options.min) ? options.min : (relaxMin = true, helper.findMinMulti(arrMulti));\n  var max = helper.isNumber(options.max) ? options.max : (relaxMax = true, helper.findMaxMulti(arrMulti));\n\n  var range = max - min;\n  var step = range / (size - 1);\n\n  // Relax?\n  if (relaxMin) {\n    min = min - 2 * width * step;\n  }\n  if (relaxMax) {\n    max = max + 2 * width * step;\n  }\n\n  return {\n    min: min,\n    max: max\n  };\n};\n\nmodule.exports.create = function (arr, options) {\n  options = options || {};\n\n  if (!arr || (arr.length === 0)) {\n    return [];\n  }\n\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var normalizedMinMax = self.getUnifiedMinMax(arr, {\n    size: size,\n    width: width,\n    min: options.min,\n    max: options.max\n  });\n\n  var min = normalizedMinMax.min;\n  var max = normalizedMinMax.max;\n\n  var range = max - min;\n  var step = range / (size - 1);\n  if (range === 0) {\n    // Special case...\n    return [{x: min, y: 1}];\n  }\n\n  // Good to go\n\n  var buckets = [];\n  for (var i = 0; i < size; i++) {\n    buckets.push({\n      x: min + i * step,\n      y: 0\n    });\n  }\n\n  var xToBucket = function (x) {\n    return Math.floor((x - min) / step);\n  };\n\n  var partialArea = generatePartialAreas(kernel, width);\n  var fullArea = partialArea[width];\n  var c = partialArea[width-1] - partialArea[width-2];\n\n  var initalValue = 0;\n  arr.forEach(function (x) {\n    var bucket = xToBucket(x);\n\n    // Totally outside?\n    if ((bucket + width < 0) || (bucket - width >= buckets.length)) {\n      return;\n    }\n\n    var start = Math.max(bucket - width, 0);\n    var mid = bucket;\n    var end = Math.min(bucket + width, buckets.length - 1);\n\n    var leftBlockCount = start - (bucket - width);\n    var rightBlockCount = (bucket + width) - end;\n    var spilledAreaLeft = partialArea[-width-1 + leftBlockCount] || 0;\n    var spilledAreaRight = partialArea[-width-1 + rightBlockCount] || 0;\n    var weight = fullArea / (fullArea - spilledAreaLeft - spilledAreaRight);\n\n    if (leftBlockCount > 0) {\n      initalValue += weight * (leftBlockCount - 1) * c;\n    }\n\n    // Add grads\n    var startGradPos = Math.max(0, bucket-width+1);\n    if (helper.inside(0, buckets.length-1, startGradPos)) {\n      buckets[startGradPos].y += weight * 1 * c;\n    }\n    if (helper.inside(0, buckets.length-1, mid + 1)) {\n      buckets[mid + 1].y -= weight * 2 * c;\n    }\n    if (helper.inside(0, buckets.length-1, end + 1)) {\n      buckets[end + 1].y += weight * 1 * c;\n    }\n  });\n\n  var accumulator = initalValue;\n  var gradAccumulator = 0;\n  var area = 0;\n  buckets.forEach(function (bucket) {\n    gradAccumulator += bucket.y;\n    accumulator += gradAccumulator;\n\n    bucket.y = accumulator;\n    area += accumulator;\n  });\n\n  // Normalize\n  if (area > 0) {\n    buckets.forEach(function (bucket) {\n      bucket.y /= area;\n    });\n  }\n\n  return buckets;\n};\n\nfunction generatePartialAreas(kernel, width) {\n  var partialAreas = {};\n\n  var accumulator = 0;\n  for (var i = -width; i <= width; i++) {\n    accumulator += kernel(i/width);\n    partialAreas[i] = accumulator;\n  }\n\n  return partialAreas;\n}\n\nmodule.exports.getExpectedValueFromPdf = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var expected = 0;\n\n  pdf.forEach(function (obj) {\n    expected += obj.x * obj.y;\n  });\n\n  return expected;\n};\n\nmodule.exports.getXWithLeftTailArea = function (pdf, area) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var accumulator = 0;\n  var last = 0;\n  for (var i = 0; i < pdf.length; i++) {\n    last = i;\n    accumulator += pdf[i].y;\n\n    if (accumulator >= area) {\n      break;\n    }\n  }\n\n  return pdf[last].x;\n};\n\nmodule.exports.getPerplexity = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var entropy = 0;\n  pdf.forEach(function (obj) {\n    var ln = Math.log(obj.y);\n\n    if (isFinite(ln)) {\n      entropy += obj.y * ln;\n    }\n  });\n  entropy = -entropy / LN_2;\n\n  return Math.pow(2, entropy);\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SensorTabIndex = exports.SensorClassName = exports.SizeSensorId = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar SizeSensorId = 'size-sensor-id';\nexports.SizeSensorId = SizeSensorId;\nvar SensorClassName = 'size-sensor-object';\nexports.SensorClassName = SensorClassName;\nvar SensorTabIndex = '-1';\nexports.SensorTabIndex = SensorTabIndex;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar _default = function _default(fn) {\n  var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 60;\n  var timer = null;\n  return function () {\n    var _this = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    clearTimeout(timer);\n    timer = setTimeout(function () {\n      fn.apply(_this, args);\n    }, delay);\n  };\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar id = 1;\n/**\n * generate unique id in application\n * @return {string}\n */\n\nvar _default = function _default() {\n  return \"\".concat(id++);\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ver = exports.clear = exports.bind = void 0;\n\nvar _sensorPool = require(\"./sensorPool\");\n\n/**\n * Created by hustcc on 18/6/9.[]\n * Contract: i@hust.cc\n */\n\n/**\n * bind an element with resize callback function\n * @param {*} element\n * @param {*} cb\n */\nvar bind = function bind(element, cb) {\n  var sensor = (0, _sensorPool.getSensor)(element); // listen with callback\n\n  sensor.bind(cb); // return unbind function\n\n  return function () {\n    sensor.unbind(cb);\n  };\n};\n/**\n * clear all the listener and sensor of an element\n * @param element\n */\n\n\nexports.bind = bind;\n\nvar clear = function clear(element) {\n  var sensor = (0, _sensorPool.getSensor)(element);\n  (0, _sensorPool.removeSensor)(sensor);\n};\n\nexports.clear = clear;\nvar ver = \"1.0.1\";\nexports.ver = ver;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removeSensor = exports.getSensor = void 0;\n\nvar _id = _interopRequireDefault(require(\"./id\"));\n\nvar _sensors = require(\"./sensors\");\n\nvar _constant = require(\"./constant\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\n/**\n * all the sensor objects.\n * sensor pool\n */\nvar Sensors = {};\n/**\n * get one sensor\n * @param element\n * @returns {*}\n */\n\nvar getSensor = function getSensor(element) {\n  var sensorId = element.getAttribute(_constant.SizeSensorId); // 1. if the sensor exists, then use it\n\n  if (sensorId && Sensors[sensorId]) {\n    return Sensors[sensorId];\n  } // 2. not exist, then create one\n\n\n  var newId = (0, _id[\"default\"])();\n  element.setAttribute(_constant.SizeSensorId, newId);\n  var sensor = (0, _sensors.createSensor)(element); // add sensor into pool\n\n  Sensors[newId] = sensor;\n  return sensor;\n};\n/**\n *  sensor\n * @param sensor\n */\n\n\nexports.getSensor = getSensor;\n\nvar removeSensor = function removeSensor(sensor) {\n  var sensorId = sensor.element.getAttribute(_constant.SizeSensorId); // remove attribute\n\n  sensor.element.removeAttribute(_constant.SizeSensorId); // remove event, dom of the sensor used\n\n  sensor.destroy(); // exist, then remove from pool\n\n  if (sensorId && Sensors[sensorId]) {\n    delete Sensors[sensorId];\n  }\n};\n\nexports.removeSensor = removeSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _object = require(\"./object\");\n\nvar _resizeObserver = require(\"./resizeObserver\");\n\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\n\n/**\n * sensor strategies\n */\n// export const createSensor = createObjectSensor;\nvar createSensor = typeof ResizeObserver !== 'undefined' ? _resizeObserver.createSensor : _object.createSensor;\nexports.createSensor = createSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\n\nvar _constant = require(\"../constant\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar createSensor = function createSensor(element) {\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * create object DOM of sensor\n   * @returns {HTMLObjectElement}\n   */\n\n  var newSensor = function newSensor() {\n    // adjust style\n    if (getComputedStyle(element).position === 'static') {\n      element.style.position = 'relative';\n    }\n\n    var obj = document.createElement('object');\n\n    obj.onload = function () {\n      obj.contentDocument.defaultView.addEventListener('resize', resizeListener); //  resize\n\n      resizeListener();\n    };\n\n    obj.style.display = 'block';\n    obj.style.position = 'absolute';\n    obj.style.top = '0';\n    obj.style.left = '0';\n    obj.style.height = '100%';\n    obj.style.width = '100%';\n    obj.style.overflow = 'hidden';\n    obj.style.pointerEvents = 'none';\n    obj.style.zIndex = '-1';\n    obj.style.opacity = '0';\n    obj.setAttribute('class', _constant.SensorClassName);\n    obj.setAttribute('tabindex', _constant.SensorTabIndex);\n    obj.type = 'text/html'; // append into dom\n\n    element.appendChild(obj); // for ie, should set data attribute delay, or will be white screen\n\n    obj.data = 'about:blank';\n    return obj;\n  };\n  /**\n   * trigger listeners\n   */\n\n\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all listener\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * listen with one callback function\n   * @param cb\n   */\n\n  var bind = function bind(cb) {\n    // if not exist sensor, then create one\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * destroy all\n   */\n\n\n  var destroy = function destroy() {\n    if (sensor && sensor.parentNode) {\n      if (sensor.contentDocument) {\n        // remote event\n        sensor.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n      } // remove dom\n\n\n      sensor.parentNode.removeChild(sensor); // initial variable\n\n      sensor = undefined;\n      listeners = [];\n    }\n  };\n  /**\n   * cancel listener bind\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // no listener, and sensor is exist\n    // then destroy the sensor\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\n\nexports.createSensor = createSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\nvar createSensor = function createSensor(element) {\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * trigger listeners\n   */\n\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * create ResizeObserver sensor\n   * @returns\n   */\n\n  var newSensor = function newSensor() {\n    var s = new ResizeObserver(resizeListener); // listen element\n\n    s.observe(element); // trigger once\n\n    resizeListener();\n    return s;\n  };\n  /**\n   * listen with callback\n   * @param cb\n   */\n\n\n  var bind = function bind(cb) {\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * destroy\n   */\n\n\n  var destroy = function destroy() {\n    sensor.disconnect();\n    listeners = [];\n    sensor = undefined;\n  };\n  /**\n   * cancel bind\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // no listener, and sensor is exist\n    // then destroy the sensor\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\n\nexports.createSensor = createSensor;","import axios from \"axios\";\nimport store from \"@/store\";\n\naxios.defaults.baseURL = 'http://127.0.0.1:8000/api/kawasaki/';\naxios.interceptors.request.use(\n  config => {\n    const token = store.getters.getToken;\n    if (token) {\n      config.headers.Authorization = `Token ${store.getters.getToken}`;\n    }\n    return config;\n  },\n  error => {\n    return Promise.reject(error);\n  }\n);\n\nfunction getGroups() {\n  return new Promise((resolve, reject) => {\n    let groupList = store.getters.getGroups;\n    if (groupList.length !== 0) {\n      resolve(groupList);\n    } else {\n      axios.get(\"enrollGroups/\").then(response => {\n        groupList = response.data.results.map(group => ({\n          value: group.id,\n          label: group.name,\n        }));\n        store.dispatch(\"setGroups\", groupList);\n        resolve(groupList);\n      }).catch(error => {\n        reject(error.data);\n      });\n    }\n  });\n\n}\n\nfunction addPatient(data) {\n  return new Promise((resolve, reject) => {\n    axios.post(\"patients/\", data).then(response => {\n      resolve(response.data);\n    }).catch(error => {\n      reject(error.data);\n    });\n  });\n}\n\nfunction getPatients(params) {\n  return new Promise((resolve, reject) => {\n    axios.get(\n      \"patients/\",\n      {\n        params: params\n      }\n    ).then(response => {\n      resolve(response.data);\n    }).catch(error => {\n      reject(error.data);\n    });\n  });\n}\n\nfunction updatePatient(id, data) {\n  return new Promise((resolve, reject) => {\n    axios.patch(`patients/${id}/`, data).then(response => {\n      resolve(response.data);\n    }).catch(error => {\n      reject(error.data);\n    });\n  });\n}\n\nfunction addTestByName(name, data) {\n  return new Promise((resolve, reject) => {\n    axios.post(`${name}/`, data).then(response => {\n      resolve(response.data);\n    }).catch(error => {\n      reject(error.data);\n    });\n  });\n}\n\nfunction getTestsByPatientId(id) {\n  return new Promise((resolve, reject) => {\n    axios.get(`all-tests-by-patient/${id}/`).then(response => {\n      resolve(response.data);\n    }).catch(error => {\n      reject(error.data);\n    });\n  });\n}\n\nfunction updateTestByName(name, id, data) {\n  return new Promise((resolve, reject) => {\n    axios.put(`${name}/${id}/`, data).then(response => {\n      resolve(response.data);\n    }).catch(error => {\n      reject(error.data);\n    });\n  });\n}\n\nfunction getSummary() {\n  return new Promise((resolve, reject) => {\n    axios.get(\"summary/\").then(response => {\n      resolve(response.data);\n    }).catch(error => {\n      reject(error.data);\n    });\n  });\n}\n\nfunction getCountByMonth() {\n  return new Promise((resolve, reject) => {\n    axios.get(\"count-by-month/\").then(response => {\n      resolve(response.data);\n    }).catch(error => {\n      reject(error.data);\n    });\n  });\n}\n\nfunction getAgeByGroup() {\n  return new Promise((resolve, reject) => {\n    axios.get(\"age-by-group/\").then(response => {\n      resolve(response.data);\n    }).catch(error => {\n      reject(error.data);\n    });\n  });\n}\n\nexport {\n  getGroups,\n  addPatient,\n  getPatients,\n  updatePatient,\n  addTestByName,\n  getTestsByPatientId,\n  updateTestByName,\n  getSummary,\n  getCountByMonth,\n  getAgeByGroup,\n}","<template>\n  <div class=\"dashboard\">\n    <a-row :gutter=\"16\">\n      <a-col :span=\"8\">\n        <a-card :loading=\"sampleCountsLoading\">\n          \n          <a-row>\n            <a-col v-for=\"(value, key) in sampleCounts\" :key=\"key\" :span=\"24 / groups.length\">\n              <a-statistic :title=\"key\" :value=\"value\" suffix=\"\"></a-statistic>\n            </a-col>\n          </a-row>\n        </a-card>\n      </a-col>\n      <a-col :span=\"8\">\n        <a-card :loading=\"genderRateLoading\">\n           (:)\n          <a-row>\n            <a-col v-for=\"(item, key) in genderCounts\" :key=\"key\" :span=\"24 / groups.length\">\n              <a-statistic :title=\"key\" :value=\"(item.M / item.F).toFixed(2)\"></a-statistic>\n            </a-col>\n          </a-row>\n        </a-card>\n      </a-col>\n      <a-col :span=\"8\">\n        <a-card :loading=\"ageLoading\">\n          \n          <a-row>\n            <a-col v-for=\"(value, key) in ageAverage\" :key=\"key\" :span=\"24 / groups.length\">\n              <a-statistic :title=\"key\" :value=\"(value / 12).toFixed(2)\" suffix=\"\"></a-statistic>\n            </a-col>\n          </a-row>\n        </a-card>\n      </a-col>\n    </a-row>\n    <div class=\"plot\">\n      <a-card title=\"-\" :loading=\"linePlotLoading\">\n        <div id=\"count_line\"></div>\n      </a-card>\n    </div>\n    <div class=\"plot\">\n      <a-card title=\"\" :loading=\"histPlotLoading\">\n        <a-row>\n          <a-col v-for=\"g in groups\" :key=\"g\" :span=\"24 / groups.length\">\n            <div class=\"plot-title\">{{ g }}</div>\n            <div :id=\"`age_hist_${g.replaceAll(' ', '_')}`\" class=\"plot-content\"></div>\n          </a-col>\n        </a-row>\n      </a-card>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  defineComponent,\n  onMounted,\n  reactive,\n  toRefs,\n  nextTick\n} from \"vue\";\nimport { Line, Histogram } from \"@antv/g2plot\";\nimport { Row, Col, Card, Statistic } from \"ant-design-vue\";\nimport { getSummary, getCountByMonth, getAgeByGroup } from \"@/api/kawasaki\";\n\nexport default defineComponent({\n  name: \"DashboardView\",\n  components: {\n    ARow: Row,\n    ACol: Col,\n    ACard: Card,\n    AStatistic: Statistic,\n  },\n  setup() {\n    const state = reactive({\n      sampleCounts: {},\n      sampleCountsLoading: true,\n      groups: [],\n      genderCounts: {},\n      genderRateLoading: true,\n      ageAverage: {},\n      ageLoading: true,\n      linePlotLoading: true,\n      histPlotLoading: true,\n    });\n\n    const getData = async () => {\n      const data = await getSummary();\n      state.sampleCounts = data.sample_counts;\n      state.sampleCountsLoading = false;\n      state.groups = data.groups;\n      state.genderCounts = data.gender_counts;\n      state.genderRateLoading = false;\n      state.ageAverage = data.age_mean;\n      state.ageLoading = false;\n    };\n\n    const setLinePlot = async () => {\n      const data = await getCountByMonth();\n      state.linePlotLoading = false;\n      if (data !== null && data.length !== 0) {\n        nextTick(() => {\n          const line = new Line(\"count_line\", {\n            data: data,\n            xField: \"date\",\n            yField: \"count\",\n            smooth: true,\n            meta: {\n              date: {\n                alias: \"\",\n              },\n              count: {\n                alias: \"\",\n              },\n            },\n          });\n          line.render();\n        })\n      }\n    };\n\n    const setHistPlot = async () => {\n      const data = await getAgeByGroup();\n      state.histPlotLoading = false;\n      for (const [key, value] of Object.entries(data)) {\n        if (value !== null && value.length !== 0) {\n          nextTick(() => {\n            const hist_id = `age_hist_${key.replaceAll(\" \", \"_\")}`;\n            const hist = new Histogram(hist_id, {\n              data: value,\n              binField: \"value\",\n              binWidth: 1,\n              tooltip: {\n                showMarkers: false,\n                position: \"top\",\n              },\n              interactions: [\n                {\n                  type: \"element-highlight\",\n                },\n              ],\n              meta: {\n                range: {\n                  min: 0,\n                  tickInterval: 1,\n                  alias: \"\",\n                },\n                count: {\n                  max: 10,\n                  tickInterval: 2,\n                  nice: true,\n                  alias: \"\",\n                },\n              },\n            });\n            hist.render();\n          })\n        }\n      }\n    };\n\n    onMounted(async () => {\n      await getData();\n      setLinePlot();\n      setHistPlot();\n    });\n\n    return {\n      ...toRefs(state),\n    };\n  },\n});\n</script>\n\n<style scoped>\n.dashboard {\n  padding: 24px;\n  margin: 20px 40px;\n}\n\n.plot {\n  margin-top: 20px;\n}\n\n.plot-title {\n  font-size: 16px;\n  font-weight: bold;\n  margin-bottom: 10px;\n  widows: 100%;\n  text-align: center;\n}\n\n.plot-content {\n  padding: 20px;\n}\n</style>\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeFloor = Math.floor;\n\n/**\n * The base implementation of `_.repeat` which doesn't coerce arguments.\n *\n * @private\n * @param {string} string The string to repeat.\n * @param {number} n The number of times to repeat the string.\n * @returns {string} Returns the repeated string.\n */\nfunction baseRepeat(string, n) {\n  var result = '';\n  if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n    return result;\n  }\n  // Leverage the exponentiation by squaring algorithm for a faster repeat.\n  // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n  do {\n    if (n % 2) {\n      result += string;\n    }\n    n = nativeFloor(n / 2);\n    if (n) {\n      string += string;\n    }\n  } while (n);\n\n  return result;\n}\n\nexport default baseRepeat;\n","import baseSlice from './_baseSlice.js';\n\n/**\n * Casts `array` to a slice if it's needed.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {number} start The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the cast slice.\n */\nfunction castSlice(array, start, end) {\n  var length = array.length;\n  end = end === undefined ? length : end;\n  return (!start && end >= length) ? array : baseSlice(array, start, end);\n}\n\nexport default castSlice;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsZWJ = '\\\\u200d';\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\nexport default hasUnicode;\n","import baseProperty from './_baseProperty.js';\n\n/**\n * Gets the size of an ASCII `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nvar asciiSize = baseProperty('length');\n\nexport default asciiSize;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Gets the size of a Unicode `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nfunction unicodeSize(string) {\n  var result = reUnicode.lastIndex = 0;\n  while (reUnicode.test(string)) {\n    ++result;\n  }\n  return result;\n}\n\nexport default unicodeSize;\n","import asciiSize from './_asciiSize.js';\nimport hasUnicode from './_hasUnicode.js';\nimport unicodeSize from './_unicodeSize.js';\n\n/**\n * Gets the number of symbols in `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the string size.\n */\nfunction stringSize(string) {\n  return hasUnicode(string)\n    ? unicodeSize(string)\n    : asciiSize(string);\n}\n\nexport default stringSize;\n","/**\n * Converts an ASCII `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction asciiToArray(string) {\n  return string.split('');\n}\n\nexport default asciiToArray;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Converts a Unicode `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction unicodeToArray(string) {\n  return string.match(reUnicode) || [];\n}\n\nexport default unicodeToArray;\n","import asciiToArray from './_asciiToArray.js';\nimport hasUnicode from './_hasUnicode.js';\nimport unicodeToArray from './_unicodeToArray.js';\n\n/**\n * Converts `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction stringToArray(string) {\n  return hasUnicode(string)\n    ? unicodeToArray(string)\n    : asciiToArray(string);\n}\n\nexport default stringToArray;\n","import baseRepeat from './_baseRepeat.js';\nimport baseToString from './_baseToString.js';\nimport castSlice from './_castSlice.js';\nimport hasUnicode from './_hasUnicode.js';\nimport stringSize from './_stringSize.js';\nimport stringToArray from './_stringToArray.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil;\n\n/**\n * Creates the padding for `string` based on `length`. The `chars` string\n * is truncated if the number of characters exceeds `length`.\n *\n * @private\n * @param {number} length The padding length.\n * @param {string} [chars=' '] The string used as padding.\n * @returns {string} Returns the padding for `string`.\n */\nfunction createPadding(length, chars) {\n  chars = chars === undefined ? ' ' : baseToString(chars);\n\n  var charsLength = chars.length;\n  if (charsLength < 2) {\n    return charsLength ? baseRepeat(chars, length) : chars;\n  }\n  var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n  return hasUnicode(chars)\n    ? castSlice(stringToArray(result), 0, length).join('')\n    : result.slice(0, length);\n}\n\nexport default createPadding;\n","import createPadding from './_createPadding.js';\nimport stringSize from './_stringSize.js';\nimport toInteger from './toInteger.js';\nimport toString from './toString.js';\n\n/**\n * Pads `string` on the right side if it's shorter than `length`. Padding\n * characters are truncated if they exceed `length`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to pad.\n * @param {number} [length=0] The padding length.\n * @param {string} [chars=' '] The string used as padding.\n * @returns {string} Returns the padded string.\n * @example\n *\n * _.padEnd('abc', 6);\n * // => 'abc   '\n *\n * _.padEnd('abc', 6, '_-');\n * // => 'abc_-_'\n *\n * _.padEnd('abc', 3);\n * // => 'abc'\n */\nfunction padEnd(string, length, chars) {\n  string = toString(string);\n  length = toInteger(length);\n\n  var strLength = length ? stringSize(string) : 0;\n  return (length && strLength < length)\n    ? (string + createPadding(length - strLength, chars))\n    : string;\n}\n\nexport default padEnd;\n","import { createVNode as _createVNode } from \"vue\";\nimport padEnd from 'lodash-es/padEnd';\n\nvar StatisticNumber = function StatisticNumber(props) {\n  var value = props.value,\n      formatter = props.formatter,\n      precision = props.precision,\n      decimalSeparator = props.decimalSeparator,\n      _props$groupSeparator = props.groupSeparator,\n      groupSeparator = _props$groupSeparator === void 0 ? '' : _props$groupSeparator,\n      prefixCls = props.prefixCls;\n  var valueNode;\n\n  if (typeof formatter === 'function') {\n    // Customize formatter\n    valueNode = formatter({\n      value: value\n    });\n  } else {\n    // Internal formatter\n    var val = String(value);\n    var cells = val.match(/^(-?)(\\d*)(\\.(\\d+))?$/); // Process if illegal number\n\n    if (!cells) {\n      valueNode = val;\n    } else {\n      var negative = cells[1];\n      var int = cells[2] || '0';\n      var decimal = cells[4] || '';\n      int = int.replace(/\\B(?=(\\d{3})+(?!\\d))/g, groupSeparator);\n\n      if (typeof precision === 'number') {\n        decimal = padEnd(decimal, precision, '0').slice(0, precision);\n      }\n\n      if (decimal) {\n        decimal = \"\".concat(decimalSeparator).concat(decimal);\n      }\n\n      valueNode = [_createVNode(\"span\", {\n        \"key\": \"int\",\n        \"class\": \"\".concat(prefixCls, \"-content-value-int\")\n      }, [negative, int]), decimal && _createVNode(\"span\", {\n        \"key\": \"decimal\",\n        \"class\": \"\".concat(prefixCls, \"-content-value-decimal\")\n      }, [decimal])];\n    }\n  }\n\n  return _createVNode(\"span\", {\n    \"class\": \"\".concat(prefixCls, \"-content-value\")\n  }, [valueNode]);\n};\n\nStatisticNumber.displayName = 'StatisticNumber';\nexport default StatisticNumber;","import { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from 'vue';\nexport var skeletonTitleProps = function skeletonTitleProps() {\n  return {\n    prefixCls: String,\n    width: {\n      type: [Number, String]\n    }\n  };\n};\nvar SkeletonTitle = defineComponent({\n  name: 'SkeletonTitle',\n  props: skeletonTitleProps(),\n  setup: function setup(props) {\n    return function () {\n      var prefixCls = props.prefixCls,\n          width = props.width;\n      var zWidth = typeof width === 'number' ? \"\".concat(width, \"px\") : width;\n      return _createVNode(\"h3\", {\n        \"class\": prefixCls,\n        \"style\": {\n          width: zWidth\n        }\n      }, null);\n    };\n  }\n});\nexport default SkeletonTitle;","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from 'vue';\nexport var skeletonParagraphProps = function skeletonParagraphProps() {\n  return {\n    prefixCls: String,\n    width: {\n      type: [Number, String, Array]\n    },\n    rows: Number\n  };\n};\nvar SkeletonParagraph = defineComponent({\n  name: 'SkeletonParagraph',\n  props: skeletonParagraphProps(),\n  setup: function setup(props) {\n    var getWidth = function getWidth(index) {\n      var width = props.width,\n          _props$rows = props.rows,\n          rows = _props$rows === void 0 ? 2 : _props$rows;\n\n      if (Array.isArray(width)) {\n        return width[index];\n      } // last paragraph\n\n\n      if (rows - 1 === index) {\n        return width;\n      }\n\n      return undefined;\n    };\n\n    return function () {\n      var prefixCls = props.prefixCls,\n          rows = props.rows;\n\n      var rowList = _toConsumableArray(Array(rows)).map(function (_, index) {\n        var width = getWidth(index);\n        return _createVNode(\"li\", {\n          \"key\": index,\n          \"style\": {\n            width: typeof width === 'number' ? \"\".concat(width, \"px\") : width\n          }\n        }, null);\n      });\n\n      return _createVNode(\"ul\", {\n        \"class\": prefixCls\n      }, [rowList]);\n    };\n  }\n});\nexport default SkeletonParagraph;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\nimport classNames from '../_util/classNames';\nexport var skeletonElementProps = function skeletonElementProps() {\n  return {\n    prefixCls: String,\n    size: [String, Number],\n    shape: String,\n    active: {\n      type: Boolean,\n      default: undefined\n    }\n  };\n};\n\nvar Element = function Element(props) {\n  var _classNames, _classNames2;\n\n  var prefixCls = props.prefixCls,\n      size = props.size,\n      shape = props.shape;\n  var sizeCls = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-lg\"), size === 'large'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-sm\"), size === 'small'), _classNames));\n  var shapeCls = classNames((_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-circle\"), shape === 'circle'), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-square\"), shape === 'square'), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-round\"), shape === 'round'), _classNames2));\n  var sizeStyle = typeof size === 'number' ? {\n    width: \"\".concat(size, \"px\"),\n    height: \"\".concat(size, \"px\"),\n    lineHeight: \"\".concat(size, \"px\")\n  } : {};\n  return _createVNode(\"span\", {\n    \"class\": classNames(prefixCls, sizeCls, shapeCls),\n    \"style\": sizeStyle\n  }, null);\n};\n\nElement.displayName = 'SkeletonElement';\nexport default Element;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from 'vue';\nimport classNames from '../_util/classNames';\nimport { initDefaultProps } from '../_util/props-util';\nimport Title from './Title';\nimport Paragraph from './Paragraph';\nimport useConfigInject from '../_util/hooks/useConfigInject';\nimport Element from './Element';\nexport var skeletonProps = function skeletonProps() {\n  return {\n    active: {\n      type: Boolean,\n      default: undefined\n    },\n    loading: {\n      type: Boolean,\n      default: undefined\n    },\n    prefixCls: String,\n    avatar: {\n      type: [Boolean, Object],\n      default: undefined\n    },\n    title: {\n      type: [Boolean, Object],\n      default: undefined\n    },\n    paragraph: {\n      type: [Boolean, Object],\n      default: undefined\n    },\n    round: {\n      type: Boolean,\n      default: undefined\n    }\n  };\n};\n\nfunction getComponentProps(prop) {\n  if (prop && _typeof(prop) === 'object') {\n    return prop;\n  }\n\n  return {};\n}\n\nfunction getAvatarBasicProps(hasTitle, hasParagraph) {\n  if (hasTitle && !hasParagraph) {\n    // Square avatar\n    return {\n      size: 'large',\n      shape: 'square'\n    };\n  }\n\n  return {\n    size: 'large',\n    shape: 'circle'\n  };\n}\n\nfunction getTitleBasicProps(hasAvatar, hasParagraph) {\n  if (!hasAvatar && hasParagraph) {\n    return {\n      width: '38%'\n    };\n  }\n\n  if (hasAvatar && hasParagraph) {\n    return {\n      width: '50%'\n    };\n  }\n\n  return {};\n}\n\nfunction getParagraphBasicProps(hasAvatar, hasTitle) {\n  var basicProps = {}; // Width\n\n  if (!hasAvatar || !hasTitle) {\n    basicProps.width = '61%';\n  } // Rows\n\n\n  if (!hasAvatar && hasTitle) {\n    basicProps.rows = 3;\n  } else {\n    basicProps.rows = 2;\n  }\n\n  return basicProps;\n}\n\nvar Skeleton = defineComponent({\n  name: 'ASkeleton',\n  props: initDefaultProps(skeletonProps(), {\n    avatar: false,\n    title: true,\n    paragraph: true\n  }),\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n\n    var _useConfigInject = useConfigInject('skeleton', props),\n        prefixCls = _useConfigInject.prefixCls,\n        direction = _useConfigInject.direction;\n\n    return function () {\n      var _a;\n\n      var loading = props.loading,\n          avatar = props.avatar,\n          title = props.title,\n          paragraph = props.paragraph,\n          active = props.active,\n          round = props.round;\n      var pre = prefixCls.value;\n\n      if (loading || props.loading === undefined) {\n        var _classNames;\n\n        var hasAvatar = !!avatar || avatar === '';\n        var hasTitle = !!title || title === '';\n        var hasParagraph = !!paragraph || paragraph === ''; // Avatar\n\n        var avatarNode;\n\n        if (hasAvatar) {\n          var avatarProps = _extends(_extends({\n            prefixCls: \"\".concat(pre, \"-avatar\")\n          }, getAvatarBasicProps(hasTitle, hasParagraph)), getComponentProps(avatar));\n\n          avatarNode = _createVNode(\"div\", {\n            \"class\": \"\".concat(pre, \"-header\")\n          }, [_createVNode(Element, avatarProps, null)]);\n        }\n\n        var contentNode;\n\n        if (hasTitle || hasParagraph) {\n          // Title\n          var $title;\n\n          if (hasTitle) {\n            var titleProps = _extends(_extends({\n              prefixCls: \"\".concat(pre, \"-title\")\n            }, getTitleBasicProps(hasAvatar, hasParagraph)), getComponentProps(title));\n\n            $title = _createVNode(Title, titleProps, null);\n          } // Paragraph\n\n\n          var paragraphNode;\n\n          if (hasParagraph) {\n            var paragraphProps = _extends(_extends({\n              prefixCls: \"\".concat(pre, \"-paragraph\")\n            }, getParagraphBasicProps(hasAvatar, hasTitle)), getComponentProps(paragraph));\n\n            paragraphNode = _createVNode(Paragraph, paragraphProps, null);\n          }\n\n          contentNode = _createVNode(\"div\", {\n            \"class\": \"\".concat(pre, \"-content\")\n          }, [$title, paragraphNode]);\n        }\n\n        var cls = classNames(pre, (_classNames = {}, _defineProperty(_classNames, \"\".concat(pre, \"-with-avatar\"), hasAvatar), _defineProperty(_classNames, \"\".concat(pre, \"-active\"), active), _defineProperty(_classNames, \"\".concat(pre, \"-rtl\"), direction.value === 'rtl'), _defineProperty(_classNames, \"\".concat(pre, \"-round\"), round), _classNames));\n        return _createVNode(\"div\", {\n          \"class\": cls\n        }, [avatarNode, contentNode]);\n      }\n\n      return (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n    };\n  }\n});\nexport default Skeleton;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from 'vue';\nimport PropTypes from '../_util/vue-types';\nimport initDefaultProps from '../_util/props-util/initDefaultProps';\nimport StatisticNumber from './Number';\nimport Skeleton from '../skeleton/Skeleton';\nimport useConfigInject from '../_util/hooks/useConfigInject';\nexport var statisticProps = function statisticProps() {\n  return {\n    prefixCls: String,\n    decimalSeparator: String,\n    groupSeparator: String,\n    format: String,\n    value: {\n      type: [String, Number, Object]\n    },\n    valueStyle: {\n      type: Object,\n      default: undefined\n    },\n    valueRender: PropTypes.any,\n    formatter: PropTypes.any,\n    precision: Number,\n    prefix: PropTypes.any,\n    suffix: PropTypes.any,\n    title: PropTypes.any,\n    loading: {\n      type: Boolean,\n      default: undefined\n    }\n  };\n};\nexport default defineComponent({\n  name: 'AStatistic',\n  props: initDefaultProps(statisticProps(), {\n    decimalSeparator: '.',\n    groupSeparator: ',',\n    loading: false\n  }),\n  slots: ['title', 'prefix', 'suffix', 'formatter'],\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n\n    var _useConfigInject = useConfigInject('statistic', props),\n        prefixCls = _useConfigInject.prefixCls,\n        direction = _useConfigInject.direction;\n\n    return function () {\n      var _a, _b, _c, _d, _e, _f, _g;\n\n      var _props$value = props.value,\n          value = _props$value === void 0 ? 0 : _props$value,\n          valueStyle = props.valueStyle,\n          valueRender = props.valueRender;\n      var pre = prefixCls.value;\n      var title = (_a = props.title) !== null && _a !== void 0 ? _a : (_b = slots.title) === null || _b === void 0 ? void 0 : _b.call(slots);\n      var prefix = (_c = props.prefix) !== null && _c !== void 0 ? _c : (_d = slots.prefix) === null || _d === void 0 ? void 0 : _d.call(slots);\n      var suffix = (_e = props.suffix) !== null && _e !== void 0 ? _e : (_f = slots.suffix) === null || _f === void 0 ? void 0 : _f.call(slots);\n      var formatter = (_g = props.formatter) !== null && _g !== void 0 ? _g : slots.formatter; // data-for-update just for update component\n      // https://github.com/vueComponent/ant-design-vue/pull/3170\n\n      var valueNode = _createVNode(StatisticNumber, _objectSpread({\n        \"data-for-update\": Date.now()\n      }, _extends(_extends({}, props), {\n        prefixCls: pre,\n        value: value,\n        formatter: formatter\n      })), null);\n\n      if (valueRender) {\n        valueNode = valueRender(valueNode);\n      }\n\n      return _createVNode(\"div\", {\n        \"class\": [pre, _defineProperty({}, \"\".concat(pre, \"-rtl\"), direction.value === 'rtl')]\n      }, [title && _createVNode(\"div\", {\n        \"class\": \"\".concat(pre, \"-title\")\n      }, [title]), _createVNode(Skeleton, {\n        \"paragraph\": false,\n        \"loading\": props.loading\n      }, {\n        default: function _default() {\n          return [_createVNode(\"div\", {\n            \"style\": valueStyle,\n            \"class\": \"\".concat(pre, \"-content\")\n          }, [prefix && _createVNode(\"span\", {\n            \"class\": \"\".concat(pre, \"-content-prefix\")\n          }, [prefix]), valueNode, suffix && _createVNode(\"span\", {\n            \"class\": \"\".concat(pre, \"-content-suffix\")\n          }, [suffix])])];\n        }\n      })]);\n    };\n  }\n});","import createPadding from './_createPadding.js';\nimport stringSize from './_stringSize.js';\nimport toInteger from './toInteger.js';\nimport toString from './toString.js';\n\n/**\n * Pads `string` on the left side if it's shorter than `length`. Padding\n * characters are truncated if they exceed `length`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to pad.\n * @param {number} [length=0] The padding length.\n * @param {string} [chars=' '] The string used as padding.\n * @returns {string} Returns the padded string.\n * @example\n *\n * _.padStart('abc', 6);\n * // => '   abc'\n *\n * _.padStart('abc', 6, '_-');\n * // => '_-_abc'\n *\n * _.padStart('abc', 3);\n * // => 'abc'\n */\nfunction padStart(string, length, chars) {\n  string = toString(string);\n  length = toInteger(length);\n\n  var strLength = length ? stringSize(string) : 0;\n  return (length && strLength < length)\n    ? (createPadding(length - strLength, chars) + string)\n    : string;\n}\n\nexport default padStart;\n","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport padStart from 'lodash-es/padStart'; // Countdown\n\nvar timeUnits = [['Y', 1000 * 60 * 60 * 24 * 365], ['M', 1000 * 60 * 60 * 24 * 30], ['D', 1000 * 60 * 60 * 24], ['H', 1000 * 60 * 60], ['m', 1000 * 60], ['s', 1000], ['S', 1] // million seconds\n];\nexport function formatTimeStr(duration, format) {\n  var leftDuration = duration;\n  var escapeRegex = /\\[[^\\]]*]/g;\n  var keepList = (format.match(escapeRegex) || []).map(function (str) {\n    return str.slice(1, -1);\n  });\n  var templateText = format.replace(escapeRegex, '[]');\n  var replacedText = timeUnits.reduce(function (current, _ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        name = _ref2[0],\n        unit = _ref2[1];\n\n    if (current.indexOf(name) !== -1) {\n      var value = Math.floor(leftDuration / unit);\n      leftDuration -= value * unit;\n      return current.replace(new RegExp(\"\".concat(name, \"+\"), 'g'), function (match) {\n        var len = match.length;\n        return padStart(value.toString(), len, '0');\n      });\n    }\n\n    return current;\n  }, templateText);\n  var index = 0;\n  return replacedText.replace(escapeRegex, function () {\n    var match = keepList[index];\n    index += 1;\n    return match;\n  });\n}\nexport function formatCountdown(value, config) {\n  var _config$format = config.format,\n      format = _config$format === void 0 ? '' : _config$format;\n  var target = new Date(value).getTime();\n  var current = Date.now();\n  var diff = Math.max(target - current, 0);\n  return formatTimeStr(diff, format);\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\nimport { defineComponent, onBeforeUnmount, onMounted, onUpdated, ref } from 'vue';\nimport omit from '../_util/omit';\nimport initDefaultProps from '../_util/props-util/initDefaultProps';\nimport Statistic, { statisticProps } from './Statistic';\nimport { formatCountdown as formatCD } from './utils';\nvar REFRESH_INTERVAL = 1000 / 30;\n\nfunction getTime(value) {\n  return new Date(value).getTime();\n}\n\nexport var countdownProps = function countdownProps() {\n  return _extends(_extends({}, statisticProps()), {\n    value: [Number, String, Object],\n    format: String,\n    onFinish: Function,\n    onChange: Function\n  });\n};\nexport default defineComponent({\n  name: 'AStatisticCountdown',\n  props: initDefaultProps(countdownProps(), {\n    format: 'HH:mm:ss'\n  }),\n  // emits: ['finish', 'change'],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit,\n        slots = _ref.slots;\n    var countdownId = ref();\n    var statistic = ref();\n\n    var syncTimer = function syncTimer() {\n      var value = props.value;\n      var timestamp = getTime(value);\n\n      if (timestamp >= Date.now()) {\n        startTimer();\n      } else {\n        stopTimer();\n      }\n    };\n\n    var startTimer = function startTimer() {\n      if (countdownId.value) return;\n      var timestamp = getTime(props.value);\n      countdownId.value = setInterval(function () {\n        statistic.value.$forceUpdate();\n\n        if (timestamp > Date.now()) {\n          emit('change', timestamp - Date.now());\n        }\n\n        syncTimer();\n      }, REFRESH_INTERVAL);\n    };\n\n    var stopTimer = function stopTimer() {\n      var value = props.value;\n\n      if (countdownId.value) {\n        clearInterval(countdownId.value);\n        countdownId.value = undefined;\n        var timestamp = getTime(value);\n\n        if (timestamp < Date.now()) {\n          emit('finish');\n        }\n      }\n    };\n\n    var formatCountdown = function formatCountdown(_ref2) {\n      var value = _ref2.value,\n          config = _ref2.config;\n      var format = props.format;\n      return formatCD(value, _extends(_extends({}, config), {\n        format: format\n      }));\n    };\n\n    var valueRenderHtml = function valueRenderHtml(node) {\n      return node;\n    };\n\n    onMounted(function () {\n      syncTimer();\n    });\n    onUpdated(function () {\n      syncTimer();\n    });\n    onBeforeUnmount(function () {\n      stopTimer();\n    });\n    return function () {\n      var value = props.value;\n      return _createVNode(Statistic, _objectSpread({\n        \"ref\": statistic\n      }, _extends(_extends({}, omit(props, ['onFinish', 'onChange'])), {\n        value: value,\n        valueRender: valueRenderHtml,\n        formatter: formatCountdown\n      })), slots);\n    };\n  }\n});","import Statistic from './Statistic';\nimport Countdown from './Countdown';\nStatistic.Countdown = Countdown;\n/* istanbul ignore next */\n\nStatistic.install = function (app) {\n  app.component(Statistic.name, Statistic);\n  app.component(Statistic.Countdown.name, Statistic.Countdown);\n  return app;\n};\n\nexport var StatisticCountdown = Statistic.Countdown;\nexport default Statistic;","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/**\n * view  group  key\n */\nexport enum LAYER {\n  /**  */\n  FORE = 'fore',\n  /**  */\n  MID = 'mid',\n  /**  */\n  BG = 'bg',\n}\n\n/**\n *  12 \n */\nexport enum DIRECTION {\n  TOP = 'top',\n  TOP_LEFT = 'top-left',\n  TOP_RIGHT = 'top-right',\n  RIGHT = 'right',\n  RIGHT_TOP = 'right-top',\n  RIGHT_BOTTOM = 'right-bottom',\n  LEFT = 'left',\n  LEFT_TOP = 'left-top',\n  LEFT_BOTTOM = 'left-bottom',\n  BOTTOM = 'bottom',\n  BOTTOM_LEFT = 'bottom-left',\n  BOTTOM_RIGHT = 'bottom-right',\n  RADIUS = 'radius',\n  CIRCLE = 'circle',\n  // no direction information\n  NONE = 'none',\n}\n\n/**\n * \n */\nexport enum COMPONENT_TYPE {\n  /** axis  */\n  AXIS = 'axis',\n  /** grid  */\n  GRID = 'grid',\n  /** legend  */\n  LEGEND = 'legend',\n  /** tooltip  */\n  TOOLTIP = 'tooltip',\n  /** annotation  */\n  ANNOTATION = 'annotation',\n  /**  */\n  SLIDER = 'slider',\n  /**  */\n  SCROLLBAR = 'scrollbar',\n  /**  */\n  OTHER = 'other',\n}\n\n/**\n *  group  z index\n */\nexport const GROUP_Z_INDEX = {\n  FORE: 3,\n  MID: 2,\n  BG: 1,\n};\n\n/**\n * View  3.x \n * \n */\nexport enum VIEW_LIFE_CIRCLE {\n  BEFORE_RENDER = 'beforerender',\n  AFTER_RENDER = 'afterrender',\n\n  BEFORE_PAINT = 'beforepaint',\n  AFTER_PAINT = 'afterpaint',\n\n  BEFORE_CHANGE_DATA = 'beforechangedata',\n  AFTER_CHANGE_DATA = 'afterchangedata',\n\n  BEFORE_CLEAR = 'beforeclear',\n  AFTER_CLEAR = 'afterclear',\n\n  BEFORE_DESTROY = 'beforedestroy',\n\n  BEFORE_CHANGE_SIZE = 'beforechangesize',\n  AFTER_CHANGE_SIZE = 'afterchangesize',\n}\n\n/**\n * geometry \n */\nexport enum GEOMETRY_LIFE_CIRCLE {\n  BEFORE_DRAW_ANIMATE = 'beforeanimate',\n  AFTER_DRAW_ANIMATE = 'afteranimate',\n\n  BEFORE_RENDER_LABEL = 'beforerenderlabel',\n  AFTER_RENDER_LABEL = 'afterrenderlabel',\n}\n\n/**\n * \n */\nexport enum PLOT_EVENTS {\n  // mouse \n  MOUSE_ENTER = 'plot:mouseenter',\n  MOUSE_DOWN = 'plot:mousedown',\n  MOUSE_MOVE = 'plot:mousemove',\n  MOUSE_UP = 'plot:mouseup',\n  MOUSE_LEAVE = 'plot:mouseleave',\n  // \n  TOUCH_START = 'plot:touchstart',\n  TOUCH_MOVE = 'plot:touchmove',\n  TOUCH_END = 'plot:touchend',\n  TOUCH_CANCEL = 'plot:touchcancel',\n  // click \n  CLICK = 'plot:click',\n  DBLCLICK = 'plot:dblclick',\n  CONTEXTMENU = 'plot:contextmenu',\n\n  LEAVE = 'plot:leave',\n  ENTER = 'plot:enter',\n}\n\n/**\n * Element \n */\nexport enum ELEMENT_STATE {\n  ACTIVE = 'active',\n  INACTIVE = 'inactive',\n  SELECTED = 'selected',\n  DEFAULT = 'default',\n}\n\n/**  */\nexport const GROUP_ATTRS = ['color', 'shape', 'size'];\n/**  */\nexport const FIELD_ORIGIN = '_origin';\n/**  */\nexport const MIN_CHART_WIDTH = 1;\n/**  */\nexport const MIN_CHART_HEIGHT = 1;\n/** 25% */\nexport const COMPONENT_MAX_VIEW_PERCENTAGE = 0.25;\n",null,null,null,"import { IG } from '../dependents';\n\nconst ENGINES: Record<string, IG> = {};\n\n/**\n *  engine\n * @param name \n * @returns G engine\n */\nexport function getEngine(name: string): IG {\n  const G = ENGINES[name];\n\n  if (!G) {\n    throw new Error(`G engine '${name}' is not exist, please register it at first.`);\n  }\n\n  return G;\n}\n\n/**\n * \n * @param name\n * @param engine\n */\nexport function registerEngine(name: string, engine: IG) {\n  ENGINES[name] = engine;\n}\n",null,"import { MIN_CHART_HEIGHT, MIN_CHART_WIDTH } from '../constant';\nimport { Size } from '../interface';\n\n/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nfunction getElementSize(ele: HTMLElement): Size {\n  const style = getComputedStyle(ele);\n\n  return {\n    width:\n      (ele.clientWidth || parseInt(style.width, 10)) -\n      parseInt(style.paddingLeft, 10) -\n      parseInt(style.paddingRight, 10),\n    height:\n      (ele.clientHeight || parseInt(style.height, 10)) -\n      parseInt(style.paddingTop, 10) -\n      parseInt(style.paddingBottom, 10),\n  };\n}\n\n/**\n * is value a valid number\n * @param v the input value\n * @returns whether it is a number\n */\nfunction isNumber(v: any): boolean {\n  return typeof v === 'number' && !isNaN(v);\n}\n\n/**\n * @ignore\n * calculate the chart size\n * @param ele DOM element\n * @param autoFit should auto fit\n * @param width chart width which is set by user\n * @param height chart height which is set by user\n * @returns the chart width and height\n */\nexport function getChartSize(ele: HTMLElement, autoFit: boolean, width: number, height: number): Size {\n  let w = width;\n  let h = height;\n\n  if (autoFit) {\n    const size = getElementSize(ele);\n\n    w = size.width ? size.width : w;\n    h = size.height ? size.height : h;\n  }\n\n  return {\n    width: Math.max(isNumber(w) ? w : MIN_CHART_WIDTH, MIN_CHART_WIDTH),\n    height: Math.max(isNumber(h) ? h : MIN_CHART_HEIGHT, MIN_CHART_HEIGHT),\n  };\n}\n\n/**\n * @ignore\n * remove html element from its parent\n * @param dom\n */\nexport function removeDom(dom: HTMLElement) {\n  const parent = dom.parentNode;\n\n  if (parent) {\n    parent.removeChild(dom);\n  }\n}\n\n/** @ignore */\nexport { createDom, modifyCSS } from '@antv/dom-util';\n",null,"import EE from '@antv/event-emitter';\n\ninterface BaseCfg {\n  visible?: boolean;\n}\n\n/**\n * G2 ChartViewGeometry  Element \n */\nexport default class Base extends EE {\n  /**  */\n  public visible: boolean;\n  /**  */\n  public destroyed: boolean = false;\n\n  constructor(cfg: BaseCfg) {\n    super();\n    const { visible = true } = cfg;\n    this.visible = visible;\n  }\n\n  /**\n   * \n   */\n  public show() {\n    const visible = this.visible;\n    if (!visible) {\n      this.changeVisible(true);\n    }\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    const visible = this.visible;\n    if (visible) {\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.off();\n    this.destroyed = true;\n  }\n\n  /**\n   * \n   * @param visible\n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.visible = visible;\n  }\n}\n",null,null,null,null,"var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\nexport { BrowserInfo };\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexport { NodeInfo };\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\nexport { SearchBotDeviceInfo };\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexport { BotInfo };\nvar ReactNativeInfo = /** @class */ (function () {\n    function ReactNativeInfo() {\n        this.type = 'react-native';\n        this.name = 'react-native';\n        this.version = null;\n        this.os = null;\n    }\n    return ReactNativeInfo;\n}());\nexport { ReactNativeInfo };\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /EdgA?\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['pie', /^Microsoft Pocket Internet Explorer\\/(\\d+\\.\\d+)$/],\n    ['pie', /^Mozilla\\/\\d\\.\\d+\\s\\(compatible;\\s(?:MSP?IE|MSInternet Explorer) (\\d+\\.\\d+);.*Windows CE.*\\)$/],\n    ['netfront', /^Mozilla\\/\\d\\.\\d+.*NetFront\\/(\\d.\\d)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FB[AS]V\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['curl', /^curl\\/([0-9\\.]+)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Windows CE', /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nexport function detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative') {\n        return new ReactNativeInfo();\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nexport function browserName(ua) {\n    var data = matchUserAgent(ua);\n    return data ? data[0] : null;\n}\nexport function parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    // Do not use RegExp for split operation as some browser do not support it (See: http://blog.stevenlevithan.com/archives/cross-browser-split)\n    var versionParts = match[1] && match[1].split('.').join('_').split('_').slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArray(__spreadArray([], versionParts, true), createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length), true);\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, version, os);\n}\nexport function detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexport function getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n","import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;","/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import * as glMatrix from \"./common.js\";\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();",null,null,null,null,"var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export function linear(t) {\n  return +t;\n}\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return (+t === 1) ? 1 : 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","// tpmt is two power minus ten times t scaled to [0,1]\nexport function tpmt(x) {\n  return (Math.pow(2, -10 * x) - 0.0009765625) * 1.0009775171065494;\n}\n","import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return (t = +t) * t * (s * (t - 1) + t);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((t + 1) * s + t) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","import {tpmt} from \"./math.js\";\n\nvar tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * tpmt(-(--t)) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * tpmt(t = +t) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * tpmt(-t) * Math.sin((s - t) / p)\n        : 2 - a * tpmt(t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n",null,null,null,null,null,"/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n",null,null,null,null,null,null,null,"const token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\nconst twoDigitsOptional = \"\\\\d\\\\d?\";\nconst twoDigits = \"\\\\d\\\\d\";\nconst threeDigits = \"\\\\d{3}\";\nconst fourDigits = \"\\\\d{4}\";\nconst word = \"[^\\\\s]+\";\nconst literal = /\\[([^]*?)\\]/gm;\n\ntype DateInfo = {\n  year: number;\n  month: number;\n  day: number;\n  hour: number;\n  minute: number;\n  second: number;\n  millisecond: number;\n  isPm: number | null;\n  timezoneOffset: number | null;\n};\n\nexport type I18nSettings = {\n  amPm: [string, string];\n  dayNames: Days;\n  dayNamesShort: Days;\n  monthNames: Months;\n  monthNamesShort: Months;\n  DoFn(dayOfMonth: number): string;\n};\n\nexport type I18nSettingsOptional = Partial<I18nSettings>;\n\nexport type Days = [string, string, string, string, string, string, string];\nexport type Months = [\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string\n];\n\nfunction shorten<T extends string[]>(arr: T, sLen: number): string[] {\n  const newArr: string[] = [];\n  for (let i = 0, len = arr.length; i < len; i++) {\n    newArr.push(arr[i].substr(0, sLen));\n  }\n  return newArr;\n}\n\nconst monthUpdate = (\n  arrName: \"monthNames\" | \"monthNamesShort\" | \"dayNames\" | \"dayNamesShort\"\n) => (v: string, i18n: I18nSettings): number | null => {\n  const lowerCaseArr = i18n[arrName].map(v => v.toLowerCase());\n  const index = lowerCaseArr.indexOf(v.toLowerCase());\n  if (index > -1) {\n    return index;\n  }\n  return null;\n};\n\nexport function assign<A>(a: A): A;\nexport function assign<A, B>(a: A, b: B): A & B;\nexport function assign<A, B, C>(a: A, b: B, c: C): A & B & C;\nexport function assign<A, B, C, D>(a: A, b: B, c: C, d: D): A & B & C & D;\nexport function assign(origObj: any, ...args: any[]): any {\n  for (const obj of args) {\n    for (const key in obj) {\n      // @ts-ignore ex\n      origObj[key] = obj[key];\n    }\n  }\n  return origObj;\n}\n\nconst dayNames: Days = [\n  \"Sunday\",\n  \"Monday\",\n  \"Tuesday\",\n  \"Wednesday\",\n  \"Thursday\",\n  \"Friday\",\n  \"Saturday\"\n];\nconst monthNames: Months = [\n  \"January\",\n  \"February\",\n  \"March\",\n  \"April\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"August\",\n  \"September\",\n  \"October\",\n  \"November\",\n  \"December\"\n];\n\nconst monthNamesShort: Months = shorten(monthNames, 3) as Months;\nconst dayNamesShort: Days = shorten(dayNames, 3) as Days;\n\nconst defaultI18n: I18nSettings = {\n  dayNamesShort,\n  dayNames,\n  monthNamesShort,\n  monthNames,\n  amPm: [\"am\", \"pm\"],\n  DoFn(dayOfMonth: number) {\n    return (\n      dayOfMonth +\n      [\"th\", \"st\", \"nd\", \"rd\"][\n        dayOfMonth % 10 > 3\n          ? 0\n          : ((dayOfMonth - (dayOfMonth % 10) !== 10 ? 1 : 0) * dayOfMonth) % 10\n      ]\n    );\n  }\n};\nlet globalI18n = assign({}, defaultI18n);\nconst setGlobalDateI18n = (i18n: I18nSettingsOptional): I18nSettings =>\n  (globalI18n = assign(globalI18n, i18n));\n\nconst regexEscape = (str: string): string =>\n  str.replace(/[|\\\\{()[^$+*?.-]/g, \"\\\\$&\");\n\nconst pad = (val: string | number, len = 2): string => {\n  val = String(val);\n  while (val.length < len) {\n    val = \"0\" + val;\n  }\n  return val;\n};\n\nconst formatFlags: Record<\n  string,\n  (dateObj: Date, i18n: I18nSettings) => string\n> = {\n  D: (dateObj: Date): string => String(dateObj.getDate()),\n  DD: (dateObj: Date): string => pad(dateObj.getDate()),\n  Do: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.DoFn(dateObj.getDate()),\n  d: (dateObj: Date): string => String(dateObj.getDay()),\n  dd: (dateObj: Date): string => pad(dateObj.getDay()),\n  ddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNamesShort[dateObj.getDay()],\n  dddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNames[dateObj.getDay()],\n  M: (dateObj: Date): string => String(dateObj.getMonth() + 1),\n  MM: (dateObj: Date): string => pad(dateObj.getMonth() + 1),\n  MMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNamesShort[dateObj.getMonth()],\n  MMMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNames[dateObj.getMonth()],\n  YY: (dateObj: Date): string =>\n    pad(String(dateObj.getFullYear()), 4).substr(2),\n  YYYY: (dateObj: Date): string => pad(dateObj.getFullYear(), 4),\n  h: (dateObj: Date): string => String(dateObj.getHours() % 12 || 12),\n  hh: (dateObj: Date): string => pad(dateObj.getHours() % 12 || 12),\n  H: (dateObj: Date): string => String(dateObj.getHours()),\n  HH: (dateObj: Date): string => pad(dateObj.getHours()),\n  m: (dateObj: Date): string => String(dateObj.getMinutes()),\n  mm: (dateObj: Date): string => pad(dateObj.getMinutes()),\n  s: (dateObj: Date): string => String(dateObj.getSeconds()),\n  ss: (dateObj: Date): string => pad(dateObj.getSeconds()),\n  S: (dateObj: Date): string =>\n    String(Math.round(dateObj.getMilliseconds() / 100)),\n  SS: (dateObj: Date): string =>\n    pad(Math.round(dateObj.getMilliseconds() / 10), 2),\n  SSS: (dateObj: Date): string => pad(dateObj.getMilliseconds(), 3),\n  a: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1],\n  A: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12\n      ? i18n.amPm[0].toUpperCase()\n      : i18n.amPm[1].toUpperCase(),\n  ZZ(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60) * 100 + (Math.abs(offset) % 60), 4)\n    );\n  },\n  Z(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60), 2) +\n      \":\" +\n      pad(Math.abs(offset) % 60, 2)\n    );\n  }\n};\n\ntype ParseInfo = [\n  keyof DateInfo,\n  string,\n  ((v: string, i18n: I18nSettings) => number | null)?,\n  string?\n];\nconst monthParse = (v: string): number => +v - 1;\nconst emptyDigits: ParseInfo = [null, twoDigitsOptional];\nconst emptyWord: ParseInfo = [null, word];\nconst amPm: ParseInfo = [\n  \"isPm\",\n  word,\n  (v: string, i18n: I18nSettings): number | null => {\n    const val = v.toLowerCase();\n    if (val === i18n.amPm[0]) {\n      return 0;\n    } else if (val === i18n.amPm[1]) {\n      return 1;\n    }\n    return null;\n  }\n];\nconst timezoneOffset: ParseInfo = [\n  \"timezoneOffset\",\n  \"[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z?\",\n  (v: string): number | null => {\n    const parts = (v + \"\").match(/([+-]|\\d\\d)/gi);\n\n    if (parts) {\n      const minutes = +parts[1] * 60 + parseInt(parts[2], 10);\n      return parts[0] === \"+\" ? minutes : -minutes;\n    }\n\n    return 0;\n  }\n];\nconst parseFlags: Record<string, ParseInfo> = {\n  D: [\"day\", twoDigitsOptional],\n  DD: [\"day\", twoDigits],\n  Do: [\"day\", twoDigitsOptional + word, (v: string): number => parseInt(v, 10)],\n  M: [\"month\", twoDigitsOptional, monthParse],\n  MM: [\"month\", twoDigits, monthParse],\n  YY: [\n    \"year\",\n    twoDigits,\n    (v: string): number => {\n      const now = new Date();\n      const cent = +(\"\" + now.getFullYear()).substr(0, 2);\n      return +(\"\" + (+v > 68 ? cent - 1 : cent) + v);\n    }\n  ],\n  h: [\"hour\", twoDigitsOptional, undefined, \"isPm\"],\n  hh: [\"hour\", twoDigits, undefined, \"isPm\"],\n  H: [\"hour\", twoDigitsOptional],\n  HH: [\"hour\", twoDigits],\n  m: [\"minute\", twoDigitsOptional],\n  mm: [\"minute\", twoDigits],\n  s: [\"second\", twoDigitsOptional],\n  ss: [\"second\", twoDigits],\n  YYYY: [\"year\", fourDigits],\n  S: [\"millisecond\", \"\\\\d\", (v: string): number => +v * 100],\n  SS: [\"millisecond\", twoDigits, (v: string): number => +v * 10],\n  SSS: [\"millisecond\", threeDigits],\n  d: emptyDigits,\n  dd: emptyDigits,\n  ddd: emptyWord,\n  dddd: emptyWord,\n  MMM: [\"month\", word, monthUpdate(\"monthNamesShort\")],\n  MMMM: [\"month\", word, monthUpdate(\"monthNames\")],\n  a: amPm,\n  A: amPm,\n  ZZ: timezoneOffset,\n  Z: timezoneOffset\n};\n\n// Some common format strings\nconst globalMasks: { [key: string]: string } = {\n  default: \"ddd MMM DD YYYY HH:mm:ss\",\n  shortDate: \"M/D/YY\",\n  mediumDate: \"MMM D, YYYY\",\n  longDate: \"MMMM D, YYYY\",\n  fullDate: \"dddd, MMMM D, YYYY\",\n  isoDate: \"YYYY-MM-DD\",\n  isoDateTime: \"YYYY-MM-DDTHH:mm:ssZ\",\n  shortTime: \"HH:mm\",\n  mediumTime: \"HH:mm:ss\",\n  longTime: \"HH:mm:ss.SSS\"\n};\nconst setGlobalDateMasks = (masks: {\n  [key: string]: string;\n}): { [key: string]: string } => assign(globalMasks, masks);\n\n/***\n * Format a date\n * @method format\n * @param {Date|number} dateObj\n * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n * @returns {string} Formatted date string\n */\nconst format = (\n  dateObj: Date,\n  mask: string = globalMasks[\"default\"],\n  i18n: I18nSettingsOptional = {}\n): string => {\n  if (typeof dateObj === \"number\") {\n    dateObj = new Date(dateObj);\n  }\n\n  if (\n    Object.prototype.toString.call(dateObj) !== \"[object Date]\" ||\n    isNaN(dateObj.getTime())\n  ) {\n    throw new Error(\"Invalid Date pass to format\");\n  }\n\n  mask = globalMasks[mask] || mask;\n\n  const literals: string[] = [];\n\n  // Make literals inactive by replacing them with @@@\n  mask = mask.replace(literal, function($0, $1) {\n    literals.push($1);\n    return \"@@@\";\n  });\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n  // Apply formatting rules\n  mask = mask.replace(token, $0 =>\n    formatFlags[$0](dateObj, combinedI18nSettings)\n  );\n  // Inline literal values back into the formatted value\n  return mask.replace(/@@@/g, () => literals.shift());\n};\n\n/**\n * Parse a date string into a Javascript Date object /\n * @method parse\n * @param {string} dateStr Date string\n * @param {string} format Date parse format\n * @param {i18n} I18nSettingsOptional Full or subset of I18N settings\n * @returns {Date|null} Returns Date object. Returns null what date string is invalid or doesn't match format\n */\nfunction parse(\n  dateStr: string,\n  format: string,\n  i18n: I18nSettingsOptional = {}\n): Date | null {\n  if (typeof format !== \"string\") {\n    throw new Error(\"Invalid format in fecha parse\");\n  }\n\n  // Check to see if the format is actually a mask\n  format = globalMasks[format] || format;\n\n  // Avoid regular expression denial of service, fail early for really long strings\n  // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n  if (dateStr.length > 1000) {\n    return null;\n  }\n\n  // Default to the beginning of the year.\n  const today = new Date();\n  const dateInfo: DateInfo = {\n    year: today.getFullYear(),\n    month: 0,\n    day: 1,\n    hour: 0,\n    minute: 0,\n    second: 0,\n    millisecond: 0,\n    isPm: null,\n    timezoneOffset: null\n  };\n  const parseInfo: ParseInfo[] = [];\n  const literals: string[] = [];\n\n  // Replace all the literals with @@@. Hopefully a string that won't exist in the format\n  let newFormat = format.replace(literal, ($0, $1) => {\n    literals.push(regexEscape($1));\n    return \"@@@\";\n  });\n  const specifiedFields: { [field: string]: boolean } = {};\n  const requiredFields: { [field: string]: boolean } = {};\n\n  // Change every token that we find into the correct regex\n  newFormat = regexEscape(newFormat).replace(token, $0 => {\n    const info = parseFlags[$0];\n    const [field, regex, , requiredField] = info;\n\n    // Check if the person has specified the same field twice. This will lead to confusing results.\n    if (specifiedFields[field]) {\n      throw new Error(`Invalid format. ${field} specified twice in format`);\n    }\n\n    specifiedFields[field] = true;\n\n    // Check if there are any required fields. For instance, 12 hour time requires AM/PM specified\n    if (requiredField) {\n      requiredFields[requiredField] = true;\n    }\n\n    parseInfo.push(info);\n    return \"(\" + regex + \")\";\n  });\n\n  // Check all the required fields are present\n  Object.keys(requiredFields).forEach(field => {\n    if (!specifiedFields[field]) {\n      throw new Error(\n        `Invalid format. ${field} is required in specified format`\n      );\n    }\n  });\n\n  // Add back all the literals after\n  newFormat = newFormat.replace(/@@@/g, () => literals.shift());\n\n  // Check if the date string matches the format. If it doesn't return null\n  const matches = dateStr.match(new RegExp(newFormat, \"i\"));\n  if (!matches) {\n    return null;\n  }\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n\n  // For each match, call the parser function for that date part\n  for (let i = 1; i < matches.length; i++) {\n    const [field, , parser] = parseInfo[i - 1];\n    const value = parser\n      ? parser(matches[i], combinedI18nSettings)\n      : +matches[i];\n\n    // If the parser can't make sense of the value, return null\n    if (value == null) {\n      return null;\n    }\n\n    dateInfo[field] = value;\n  }\n\n  if (dateInfo.isPm === 1 && dateInfo.hour != null && +dateInfo.hour !== 12) {\n    dateInfo.hour = +dateInfo.hour + 12;\n  } else if (dateInfo.isPm === 0 && +dateInfo.hour === 12) {\n    dateInfo.hour = 0;\n  }\n\n  let dateTZ: Date;\n  if (dateInfo.timezoneOffset == null) {\n    dateTZ = new Date(\n      dateInfo.year,\n      dateInfo.month,\n      dateInfo.day,\n      dateInfo.hour,\n      dateInfo.minute,\n      dateInfo.second,\n      dateInfo.millisecond\n    );\n    const validateFields: [\n      \"month\" | \"day\" | \"hour\" | \"minute\" | \"second\",\n      \"getMonth\" | \"getDate\" | \"getHours\" | \"getMinutes\" | \"getSeconds\"\n    ][] = [\n      [\"month\", \"getMonth\"],\n      [\"day\", \"getDate\"],\n      [\"hour\", \"getHours\"],\n      [\"minute\", \"getMinutes\"],\n      [\"second\", \"getSeconds\"]\n    ];\n    for (let i = 0, len = validateFields.length; i < len; i++) {\n      // Check to make sure the date field is within the allowed range. Javascript dates allows values\n      // outside the allowed range. If the values don't match the value was invalid\n      if (\n        specifiedFields[validateFields[i][0]] &&\n        dateInfo[validateFields[i][0]] !== dateTZ[validateFields[i][1]]()\n      ) {\n        return null;\n      }\n    }\n  } else {\n    dateTZ = new Date(\n      Date.UTC(\n        dateInfo.year,\n        dateInfo.month,\n        dateInfo.day,\n        dateInfo.hour,\n        dateInfo.minute - dateInfo.timezoneOffset,\n        dateInfo.second,\n        dateInfo.millisecond\n      )\n    );\n\n    // We can't validate dates in another timezone unfortunately. Do a basic check instead\n    if (\n      dateInfo.month > 11 ||\n      dateInfo.month < 0 ||\n      dateInfo.day > 31 ||\n      dateInfo.day < 1 ||\n      dateInfo.hour > 23 ||\n      dateInfo.hour < 0 ||\n      dateInfo.minute > 59 ||\n      dateInfo.minute < 0 ||\n      dateInfo.second > 59 ||\n      dateInfo.second < 0\n    ) {\n      return null;\n    }\n  }\n\n  // Don't allow invalid dates\n\n  return dateTZ;\n}\nexport default {\n  format,\n  parse,\n  defaultI18n,\n  setGlobalDateI18n,\n  setGlobalDateMasks\n};\nexport { format, parse, defaultI18n, setGlobalDateI18n, setGlobalDateMasks };\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/*  */\n\n// G\nexport {\n  ICanvas,\n  IElement,\n  IGroup,\n  IShape,\n  PathCommand,\n  BBox,\n  Point,\n  ShapeAttrs,\n  Event,\n  AbstractGroup,\n  AbstractShape,\n} from '@antv/g-base';\n//  G-base  g engine \nexport type IG = any;\n\n// adjust\nexport { registerAdjust, getAdjust, Adjust } from '@antv/adjust';\n\n// attr\nexport { getAttribute, Attribute } from '@antv/attr';\nexport { Color } from '@antv/attr';\n\n// coordinate\nexport { getCoordinate, registerCoordinate, Coordinate, CoordinateCfg } from '@antv/coord';\n\n// scale\nexport { getScale, registerScale, Scale, ScaleConfig, Tick } from '@antv/scale';\n\n// component\nimport {\n  Annotation,\n  Axis,\n  Component,\n  Crosshair,\n  Grid,\n  GroupComponent,\n  HtmlComponent,\n  Legend,\n  Slider,\n  Tooltip,\n  Scrollbar,\n} from '@antv/component';\n\nexport {\n  CategoryLegendCfg,\n  CircleAxisCfg,\n  LineAxisCfg,\n  GroupComponentCfg,\n  ListItem,\n  AxisLineCfg,\n  AxisTickLineCfg,\n  AxisSubTickLineCfg,\n  AxisTitleCfg,\n  AxisLabelCfg,\n  GridLineCfg,\n  LegendMarkerCfg,\n  LegendTitleCfg,\n  LegendBackgroundCfg,\n  LegendItemNameCfg,\n  LegendItemValueCfg,\n  LegendPageNavigatorCfg,\n  ContinueLegendCfg,\n  ContinueLegendTrackCfg,\n  ContinueLegendRailCfg,\n  ContinueLegendLabelCfg,\n  ContinueLegendHandlerCfg,\n  CrosshairLineCfg,\n  CrosshairTextCfg,\n  CrosshairTextBackgroundCfg,\n  SliderCfg,\n  TrendCfg,\n  EnhancedTextCfg,\n  LineAnnotationTextCfg,\n  IComponent,\n  IList,\n} from '@antv/component';\n\nexport { HtmlComponent, GroupComponent, Component, Crosshair };\nexport { Annotation };\n// axis\nconst { Line: LineAxis, Circle: CircleAxis } = Axis;\nexport { LineAxis, CircleAxis };\n// grid\nconst { Line: LineGrid, Circle: CircleGrid } = Grid;\nexport { LineGrid, CircleGrid };\n// legend\nconst { Category: CategoryLegend, Continuous: ContinuousLegend } = Legend;\nexport { CategoryLegend, ContinuousLegend };\n// Tooltip\nconst { Html: HtmlTooltip } = Tooltip;\nexport { HtmlTooltip };\n// Slider\nexport { Slider };\n// Scrollbar\nexport { Scrollbar };\n","import { BBox } from '@antv/g-svg';\nimport { each, isEmpty, isNumber, isNumberEqual, max, min } from '@antv/util';\nimport { Coordinate, IShape, Point } from '../dependents';\nimport { ShapeInfo } from '../interface';\n\n// \nfunction getPointsBox(points) {\n  if (isEmpty(points)) {\n    return null;\n  }\n\n  let minX = points[0].x;\n  let maxX = points[0].x;\n  let minY = points[0].y;\n  let maxY = points[0].y;\n  each(points, (point) => {\n    minX = minX > point.x ? point.x : minX;\n    maxX = maxX < point.x ? point.x : maxX;\n    minY = minY > point.y ? point.y : minY;\n    maxY = maxY < point.y ? point.y : maxY;\n  });\n\n  return {\n    minX,\n    maxX,\n    minY,\n    maxY,\n    centerX: (minX + maxX) / 2,\n    centerY: (minY + maxY) / 2,\n  };\n}\n\nfunction uniqueValues<T = number>(array: T[]) {\n  return Array.from(new Set(array)).length === 1;\n}\n\nfunction mid(array: number[]) {\n  return (min(array) + max(array)) / 2;\n}\n\n/**\n * @ignore\n * \n * @param centerX\n * @param centerY\n * @param radius\n * @param angleInRadian\n * @returns\n */\nexport function polarToCartesian(centerX: number, centerY: number, radius: number, angleInRadian: number) {\n  return {\n    x: centerX + radius * Math.cos(angleInRadian),\n    y: centerY + radius * Math.sin(angleInRadian),\n  };\n}\n\n/**\n * @ignore\n *  path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getSectorPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number,\n  innerRadius: number = 0\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  const innerStart = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian);\n  const innerEnd = polarToCartesian(centerX, centerY, innerRadius, endAngleInRadian);\n\n  if (endAngleInRadian - startAngleInRadian === Math.PI * 2) {\n    // \n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    const innerMiddlePoint = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian + Math.PI);\n    const circlePathCommands = [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, end.x, end.y],\n      ['M', innerStart.x, innerStart.y],\n    ];\n    if (innerRadius) {\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerMiddlePoint.x, innerMiddlePoint.y]);\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerEnd.x, innerEnd.y]);\n    }\n\n    circlePathCommands.push(['M', start.x, start.y]);\n    circlePathCommands.push(['Z']);\n\n    return circlePathCommands;\n  }\n\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  const sectorPathCommands = [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n    ['L', innerEnd.x, innerEnd.y],\n  ];\n  if (innerRadius) {\n    sectorPathCommands.push(['A', innerRadius, innerRadius, 0, arcSweep, 0, innerStart.x, innerStart.y]);\n  }\n  sectorPathCommands.push(['L', start.x, start.y]);\n  sectorPathCommands.push(['Z']);\n\n  return sectorPathCommands;\n}\n\n/**\n * @ignore\n * Gets arc path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getArcPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  if (isNumberEqual(endAngleInRadian - startAngleInRadian, Math.PI * 2)) {\n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    return [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, start.x, start.y],\n      ['A', radius, radius, 0, 1, 0, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 0, start.x, start.y],\n      ['Z'],\n    ];\n  }\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  return [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n  ];\n}\n\n/**\n * @ignore\n *  points \n * @param shapeModel\n * @param coordinate\n * @returns\n */\nexport function getAngle(shapeModel: ShapeInfo, coordinate: Coordinate) {\n  const points = shapeModel.points;\n  const box = getPointsBox(points);\n  let endAngle;\n  let startAngle;\n  const { startAngle: coordStartAngle, endAngle: coordEndAngle } = coordinate;\n  const diffAngle = coordEndAngle - coordStartAngle;\n\n  if (coordinate.isTransposed) {\n    endAngle = box.maxY * diffAngle;\n    startAngle = box.minY * diffAngle;\n  } else {\n    endAngle = box.maxX * diffAngle;\n    startAngle = box.minX * diffAngle;\n  }\n  endAngle += coordStartAngle;\n  startAngle += coordStartAngle;\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n * : https://en.wikipedia.org/wiki/Centroid#Of_a_polygon\n */\nexport function getPolygonCentroid(xs: number | number[], ys: number | number[]) {\n  if (isNumber(xs) && isNumber(ys)) {\n    // xs  ys \n    return [xs, ys];\n  }\n\n  xs = xs as number[];\n  ys = ys as number[];\n  //  polygon \n  //  xs [1, 1, 1, 1]\n  //  ys [0, 0, 0, 0]\n  //  k = 0\n  //  [NaN, NaN]\n  // \n  if (uniqueValues(xs) || uniqueValues(ys)) return [mid(xs), mid(ys)];\n\n  let i = -1;\n  let x = 0;\n  let y = 0;\n  let former;\n  let current = xs.length - 1;\n  let diff;\n  let k = 0;\n  while (++i < xs.length) {\n    former = current;\n    current = i;\n    k += diff = xs[former] * ys[current] - xs[current] * ys[former];\n    x += (xs[former] + xs[current]) * diff;\n    y += (ys[former] + ys[current]) * diff;\n  }\n  k *= 3;\n  return [x / k, y / k];\n}\n\n/**\n * @ignore\n *  undefined\n */\nexport function getReplaceAttrs(sourceShape: IShape, targetShape: IShape) {\n  const originAttrs = sourceShape.attr();\n  const newAttrs = targetShape.attr();\n  each(originAttrs, (v, k) => {\n    if (newAttrs[k] === undefined) {\n      newAttrs[k] = undefined;\n    }\n  });\n  return newAttrs;\n}\n","import { isArray, isString } from '@antv/util';\n\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value: number, start: number, end: number): boolean {\n  const min = Math.min(start, end);\n  const max = Math.max(start, end);\n\n  return value >= min && value <= max;\n}\n\n/**\n * @ignore\n * pads the current string/array with a given value (repeated, if needed) so that the resulting reaches a given length.\n * The padding is applied from the end of the current value.\n *\n * @param source\n * @param targetLength\n * @param padValue\n * @returns\n */\nexport function padEnd(source: string | any[], targetLength: number, padValue: any) {\n  if (isString(source)) {\n    return source.padEnd(targetLength, padValue);\n  } else if (isArray(source)) {\n    const sourceLength = source.length;\n    if (sourceLength < targetLength) {\n      const diff = targetLength - sourceLength;\n      for (let i = 0; i < diff; i++) {\n        source.push(padValue);\n      }\n    }\n  }\n\n  return source;\n}\n\n/**\n * @ignore\n * omit keys of an object.\n * @param obj\n * @param keys\n */\nexport function omit<T = any>(obj: T, keys: string[]): T {\n  if (typeof obj === 'object') {\n    keys.forEach((key: string) => {\n      delete obj[key];\n    });\n  }\n\n  return obj;\n}\n\n/**\n * @ignore\n * @param sourceArray\n * @param targetArray\n * @param map\n */\nexport function uniq(sourceArray: any[], targetArray: any[] = [], map: Map<any, boolean> = new Map()) {\n  for (const source of sourceArray) {\n    if (!map.has(source)) {\n      targetArray.push(source);\n      map.set(source, true);\n    }\n  }\n  return targetArray;\n}\n","import { each } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Padding, Point, Region } from '../interface';\nimport { BBox as BBoxObject } from '../dependents';\n\n/**\n * \n */\nexport class BBox {\n  /** x  */\n  public x: number;\n  /** y  */\n  public y: number;\n  /**  */\n  public height: number;\n  /**  */\n  public width: number;\n\n  public static fromRange(minX: number, minY: number, maxX: number, maxY: number) {\n    return new BBox(minX, minY, maxX - minX, maxY - minY);\n  }\n\n  public static fromObject(bbox: BBoxObject) {\n    return new BBox(bbox.minX, bbox.minY, bbox.width, bbox.height);\n  }\n\n  constructor(x: number = 0, y: number = 0, width: number = 0, height: number = 0) {\n    this.x = x;\n    this.y = y;\n    this.height = height;\n    this.width = width;\n  }\n\n  public get minX(): number {\n    return this.x;\n  }\n\n  public get maxX(): number {\n    return this.x + this.width;\n  }\n\n  public get minY(): number {\n    return this.y;\n  }\n\n  public get maxY(): number {\n    return this.y + this.height;\n  }\n\n  public get tl(): Point {\n    return { x: this.x, y: this.y };\n  }\n\n  public get tr(): Point {\n    return { x: this.maxX, y: this.y };\n  }\n\n  public get bl(): Point {\n    return { x: this.x, y: this.maxY };\n  }\n\n  public get br(): Point {\n    return { x: this.maxX, y: this.maxY };\n  }\n\n  public get top(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.minY,\n    };\n  }\n\n  public get right(): Point {\n    return {\n      x: this.maxX,\n      y: this.y + this.height / 2,\n    };\n  }\n  public get bottom(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.maxY,\n    };\n  }\n  public get left(): Point {\n    return {\n      x: this.minX,\n      y: this.y + this.height / 2,\n    };\n  }\n  // end \n\n  /**\n   * \n   * @param {BBox} bbox \n   * @returns      \n   */\n  public isEqual(bbox: BBox): boolean {\n    return this.x === bbox.x && this.y === bbox.y && this.width === bbox.width && this.height === bbox.height;\n  }\n\n  /**\n   * \n   * @param child\n   */\n  public contains(child: BBox): boolean {\n    return child.minX >= this.minX && child.maxX <= this.maxX && child.minY >= this.minY && child.maxY <= this.maxY;\n  }\n\n  /**\n   * \n   * @returns \n   */\n  public clone(): BBox {\n    return new BBox(this.x, this.y, this.width, this.height);\n  }\n\n  /**\n   * \n   * @param subBBox\n   */\n  public add(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.min(b.x, bbox.x);\n      bbox.y = Math.min(b.y, bbox.y);\n      bbox.width = Math.max(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.max(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * \n   * @param subBBox\n   */\n  public merge(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.max(b.x, bbox.x);\n      bbox.y = Math.max(b.y, bbox.y);\n      bbox.width = Math.min(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.min(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * bbox \n   * @param subBBox\n   * @param direction\n   */\n  public cut(subBBox: BBox, direction: DIRECTION): BBox {\n    const width = subBBox.width;\n    const height = subBBox.height;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        return BBox.fromRange(this.minX, this.minY + height, this.maxX, this.maxY);\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        return BBox.fromRange(this.minX, this.minY, this.maxX - width, this.maxY);\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        return BBox.fromRange(this.minX, this.minY, this.maxX, this.maxY - height);\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        return BBox.fromRange(this.minX + width, this.minY, this.maxX, this.maxY);\n      default:\n        // \n        return this;\n    }\n  }\n\n  /**\n   * \n   * @param gap\n   */\n  public shrink(gap: Padding): BBox {\n    const [top, right, bottom, left] = gap;\n\n    return new BBox(this.x + left, this.y + top, this.width - left - right, this.height - top - bottom);\n  }\n\n  /**\n   * \n   * @param gap\n   */\n  public expand(gap: Padding): BBox {\n    const [top, right, bottom, left] = gap;\n\n    return new BBox(this.x - left, this.y - top, this.width + left + right, this.height + top + bottom);\n  }\n\n  /**\n   * get the gap of two bbox, if not exceed, then 0\n   * @param bbox\n   * @returns [top, right, bottom, left]\n   */\n  public exceed(bbox: BBox): Padding {\n    return [\n      Math.max(-this.minY + bbox.minY, 0),\n      Math.max(this.maxX - bbox.maxX, 0),\n      Math.max(this.maxY - bbox.maxY, 0),\n      Math.max(-this.minX + bbox.minX, 0),\n    ];\n  }\n\n  /**\n   * \n   * @param bbox\n   */\n  public collide(bbox: BBox): boolean {\n    return this.minX < bbox.maxX && this.maxX > bbox.minX && this.minY < bbox.maxY && this.maxY > bbox.minY;\n  }\n\n  /**\n   * \n   * @returns \n   */\n  public size(): number {\n    return this.width * this.height;\n  }\n\n  /**\n   *  bbox \n   * @param p\n   */\n  public isPointIn(p: Point) {\n    return p.x >= this.minX && p.x <= this.maxX && p.y >= this.minY && p.y <= this.maxY;\n  }\n}\n\n/**\n *  bbox  region  bbox\n * @param bbox\n * @param region\n */\nexport const getRegionBBox = (bbox: BBox, region: Region): BBox => {\n  const { start, end } = region;\n\n  return new BBox(\n    bbox.x + bbox.width * start.x,\n    bbox.y + bbox.height * start.y,\n    bbox.width * Math.abs(end.x - start.x),\n    bbox.height * Math.abs(end.y - start.y)\n  );\n};\n\n/**\n *  bbox  points\n * @param bbox\n */\nexport function toPoints(bbox: Partial<BBox>): any[] {\n  return [\n    [bbox.minX, bbox.minY],\n    [bbox.maxX, bbox.minY],\n    [bbox.maxX, bbox.maxY],\n    [bbox.minX, bbox.maxY],\n  ];\n}\n","import { Coordinate } from '../dependents';\nimport { Point } from '../interface';\nimport { getSectorPath } from './graphics';\nimport { isBetween } from './helper';\nimport { BBox } from './bbox';\n\n/**\n * @ignore\n * Gets x dimension length\n * @param coordinate\n * @returns x dimension length\n */\nexport function getXDimensionLength(coordinate): number {\n  if (coordinate.isPolar && !coordinate.isTransposed) {\n    //  width \n    return (coordinate.endAngle - coordinate.startAngle) * coordinate.getRadius();\n  }\n\n  // \n  const start = coordinate.convert({ x: 0, y: 0 });\n  const end = coordinate.convert({ x: 1, y: 0 });\n  //  transpose \n  return Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n}\n\n/**\n * @ignore\n * Determines whether full circle is\n * @param coordinate\n * @returns true if full circle\n */\nexport function isFullCircle(coordinate: Coordinate): boolean {\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    return endAngle - startAngle === Math.PI * 2;\n  }\n  return false;\n}\n\n/**\n * @ignore\n * \n * @param coordinate \n * @param point \n * @returns distance to center\n */\nexport function getDistanceToCenter(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter() as Point;\n  return Math.sqrt((point.x - center.x) ** 2 + (point.y - center.y) ** 2);\n}\n\n/**\n * @ignore\n * \n * @param coordinate\n * @param point\n */\nexport function isPointInCoordinate(coordinate: Coordinate, point: Point) {\n  let result = false;\n\n  if (coordinate) {\n    if (coordinate.type === 'theta') {\n      const { start, end } = coordinate;\n      result = isBetween(point.x, start.x, end.x) && isBetween(point.y, start.y, end.y);\n    } else {\n      const invertPoint = coordinate.invert(point);\n\n      result = isBetween(invertPoint.x, 0, 1) && isBetween(invertPoint.y, 0, 1);\n    }\n  }\n\n  return result;\n}\n\n/**\n * @ignore\n * \n */\nexport function getAngleByPoint(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter();\n  return Math.atan2(point.y - center.y, point.x - center.x);\n}\n\n/**\n * @ignore\n * \n * @param coordinate\n * @returns\n */\nexport function getCoordinateClipCfg(coordinate: Coordinate, margin: number = 0) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    const center = coordinate.getCenter();\n    const radius = coordinate.getRadius();\n\n    return {\n      type: 'path',\n      startState: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, startAngle),\n      },\n      endState: (ratio) => {\n        const diff = (endAngle - startAngle) * ratio + startAngle;\n        const path = getSectorPath(center.x, center.y, radius + margin, startAngle, diff);\n        return {\n          path,\n        };\n      },\n      attrs: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, endAngle),\n      },\n    };\n  }\n\n  let endState;\n  if (coordinate.isTransposed) {\n    endState = {\n      height: height + margin * 2,\n    };\n  } else {\n    endState = {\n      width: width + margin * 2,\n    };\n  }\n\n  return {\n    type: 'rect',\n    startState: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: coordinate.isTransposed ? width + margin * 2 : 0,\n      height: coordinate.isTransposed ? 0 : height + margin * 2,\n    },\n    endState,\n    attrs: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: width + margin * 2,\n      height: height + margin * 2,\n    },\n  };\n}\n\n/**\n *  BBox\n * @param coordinate\n * @param margin\n */\nexport function getCoordinateBBox(coordinate: Coordinate, margin = 0) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n  const minX = Math.min(start.x, end.x);\n  const minY = Math.min(start.y, end.y);\n\n  return BBox.fromRange(minX - margin, minY - margin, minX + width + margin, minY + height + margin);\n}\n","import { firstValue, get, isEmpty, isNil, isNumber, isString, valuesOfKey } from '@antv/util';\nimport { GROUP_ATTRS } from '../constant';\nimport { getScale, Scale, Coordinate } from '../dependents';\nimport { LooseObject, ScaleOption, ViewCfg } from '../interface';\nimport { isFullCircle } from './coordinate';\n\nconst dateRegex =\n  /^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\\1(?:29|30)|(?:0?[13578]|1[02])\\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\\2(?:29))(\\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;\n\n/**\n * \n * @param field \n * @param data \n * @returns default type \n */\nfunction getDefaultType(value: any): string {\n  let type = 'linear';\n  if (dateRegex.test(value)) {\n    type = 'timeCat';\n  } else if (isString(value)) {\n    type = 'cat';\n  }\n  return type;\n}\n\n/**\n * using the scale type if user specified, otherwise infer the type\n */\nexport function inferScaleType(scale: Scale, scaleDef: ScaleOption = {}, attrType: string, geometryType: string): string {\n  if (scaleDef.type) return scaleDef.type;\n  // identity scale \n  // geometry : edge,heatmap,interval,line,path,point,polygon,schema,voilininterval  linear scale \n  if (scale.type !== 'identity' && GROUP_ATTRS.includes(attrType) && ['interval'].includes(geometryType)) {\n    return 'cat';\n  }\n  return scale.isCategory ? 'cat' : scale.type;\n}\n\n/**\n * @ignore\n *  `field`  scale\n * @param field \n * @param [data] \n * @param [scaleDef] \n * @returns scale  Scale \n */\nexport function createScaleByField(field: string | number, data?: LooseObject[] | [], scaleDef?: ScaleOption): Scale {\n  const validData = data || [];\n\n  if (isNumber(field) || (isNil(firstValue(validData, field)) && isEmpty(scaleDef))) {\n    const Identity = getScale('identity');\n    return new Identity({\n      field: field.toString(),\n      values: [field],\n    });\n  }\n\n  const values = valuesOfKey(validData, field);\n\n  //  (fix-later  scale type )\n  const type = get(scaleDef, 'type', getDefaultType(values[0]));\n  const ScaleCtor = getScale(type);\n  return new ScaleCtor({\n    field,\n    values,\n    ...scaleDef,\n  });\n}\n\n/**\n * @ignore\n *  scale\n * @todo  scale.update() \n * @param scale  scale \n * @param newScale  Scale\n */\nexport function syncScale(scale: Scale, newScale: Scale) {\n  if (scale.type !== 'identity' && newScale.type !== 'identity') {\n    const obj = {};\n    for (const k in newScale) {\n      if (Object.prototype.hasOwnProperty.call(newScale, k)) {\n        obj[k] = newScale[k];\n      }\n    }\n\n    scale.change(obj);\n  }\n}\n\n/**\n * @ignore\n * get the scale name, if alias exist, return alias, or else field\n * @param scale\n * @returns the name of field\n */\nexport function getName(scale: Scale): string {\n  return scale.alias || scale.field;\n}\n\n/**\n *  scale values  coordinate  range\n * @param scale  scale \n * @param coordinate coordinate \n * @param theme theme\n */\nexport function getDefaultCategoryScaleRange(\n  scale: Scale,\n  coordinate: Coordinate,\n  theme: ViewCfg['theme']\n): Scale['range'] {\n  const { values } = scale;\n  const count = values.length;\n  let range;\n\n  if (count === 1) {\n    range = [0.5, 1]; // , [0.5,0.5] \n  } else {\n    let widthRatio = 1;\n    let offset = 0;\n\n    if (isFullCircle(coordinate)) {\n      if (!coordinate.isTransposed) {\n        range = [0, 1 - 1 / count];\n      } else {\n        widthRatio = get(theme, 'widthRatio.multiplePie', 1 / 1.3);\n        offset = (1 / count) * widthRatio;\n        range = [offset / 2, 1 - offset / 2];\n      }\n    } else {\n      offset = 1 / count / 2; // \n      range = [offset, 1 - offset]; // \n    }\n  }\n  return range;\n}\n\n/**\n * @function yscalemax\n * @param {yScale}\n */\nexport function getMaxScale(scale: Scale) {\n  // values[] NaN/undefined/null \n  const values = scale.values.filter((item) => !isNil(item) && !isNaN(item));\n\n  return Math.max(...values, isNil(scale.max) ? -Infinity : scale.max);\n}\n","import { deepMix, get, isBoolean } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale } from '../dependents';\nimport { AxisCfg, AxisOption, Point, Region } from '../interface';\nimport { getName } from './scale';\nimport { vec2 } from '@antv/matrix-util';\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is rect\n * @param direction\n * @returns axis coordinate region\n */\nexport function getLineAxisRelativeRegion(direction: DIRECTION): Region {\n  let start;\n  let end;\n\n  switch (direction) {\n    case DIRECTION.TOP:\n      start = { x: 0, y: 1 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.RIGHT:\n      start = { x: 1, y: 0 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.BOTTOM:\n      start = { x: 0, y: 0 };\n      end = { x: 1, y: 0 };\n      break;\n    case DIRECTION.LEFT:\n      start = { x: 0, y: 0 };\n      end = { x: 0, y: 1 };\n      break;\n    default:\n      start = end = { x: 0, y: 0 };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is polar\n * @param coordinate\n * @returns axis coordinate region\n */\nexport function getCircleAxisRelativeRegion(coordinate: Coordinate) {\n  let start;\n  let end;\n  if (coordinate.isTransposed) {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 1,\n      y: 0,\n    };\n  } else {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 0,\n      y: 1,\n    };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get the axis region from coordinate\n * @param coordinate\n * @param direction\n * @returns the axis region (start point, end point)\n */\nexport function getAxisRegion(coordinate: Coordinate, direction: DIRECTION): Region {\n  let region = { start: { x: 0, y: 0 }, end: { x: 0, y: 0 } };\n  if (coordinate.isRect) {\n    region = getLineAxisRelativeRegion(direction);\n  } else if (coordinate.isPolar) {\n    region = getCircleAxisRelativeRegion(coordinate);\n  }\n\n  const { start, end } = region;\n  return {\n    start: coordinate.convert(start),\n    end: coordinate.convert(end),\n  };\n}\n\n/**\n * @ignore\n * get axis factor\n * @param coordinate\n * @param direction\n * @returns factor\n */\nexport function getAxisFactor(coordinate: Coordinate, direction: DIRECTION): number {\n  // rect coordinate, by direction\n  if (coordinate.isRect) {\n    return coordinate.isTransposed\n      ? [DIRECTION.RIGHT, DIRECTION.BOTTOM].includes(direction)\n        ? 1\n        : -1\n      : [DIRECTION.BOTTOM, DIRECTION.RIGHT].includes(direction)\n      ? -1\n      : 1;\n  }\n\n  // polar y axis, by angle\n  if (coordinate.isPolar) {\n    const startAngle = coordinate.x.start;\n    return startAngle < 0 ? -1 : 1;\n  }\n\n  return 1;\n}\n\n/**\n * @ignore\n * whether the axis isVertical\n * @param region\n * @returns isVertical\n */\nexport function isVertical(region: Region): boolean {\n  const { start, end } = region;\n\n  return start.x === end.x;\n}\n\n/**\n * @ignore\n * get factor by region (real position)\n * @param region\n * @param center\n * @returns factor\n */\nexport function getAxisFactorByRegion(region: Region, center: Point): number {\n  const { start, end } = region;\n\n  const isAxisVertical = isVertical(region);\n\n  // \n  if (isAxisVertical) {\n    // ,,\n    if ((start.y - end.y) * (center.x - start.x) > 0) {\n      return 1;\n    } else {\n      return -1;\n    }\n  } else {\n    // ,,\n    if ((end.x - start.x) * (start.y - center.y) > 0) {\n      return -1;\n    } else {\n      return 1;\n    }\n  }\n}\n\n/**\n * @ignore\n * get the axis cfg from theme, will mix the common cfg of legend theme\n *\n * @param theme view theme object\n * @param direction axis direction\n * @returns axis theme cfg\n */\nexport function getAxisThemeCfg(theme: object, direction: string): object {\n  const axisTheme = get(theme, ['components', 'axis'], {});\n  return deepMix({}, get(axisTheme, ['common'], {}), deepMix({}, get(axisTheme, [direction], {})));\n}\n\n/**\n * get the options of axis titlemix the cfg from theme, avoid common themeCfg not work\n * @param theme\n * @param direction\n * @param axisOptions\n * @returns axis title options\n */\nexport function getAxisTitleOptions(theme: object, direction: string, axisOptions?: object): object {\n  const axisTheme = get(theme, ['components', 'axis'], {});\n  return deepMix(\n    {},\n    get(axisTheme, ['common', 'title'], {}),\n    deepMix({}, get(axisTheme, [direction, 'title'], {})),\n    axisOptions\n  );\n}\n\n/**\n * @ignore\n * get circle axis center and radius\n * @param coordinate\n */\nexport function getCircleAxisCenterRadius(coordinate: Coordinate) {\n  // @ts-ignore\n  const { x, y, circleCenter: center } = coordinate;\n  const isReflectY = y.start > y.end;\n  const start = coordinate.isTransposed\n    ? coordinate.convert({\n        x: isReflectY ? 0 : 1,\n        y: 0,\n      })\n    : coordinate.convert({\n        x: 0,\n        y: isReflectY ? 0 : 1,\n      });\n\n  const startVector: [number, number] = [start.x - center.x, start.y - center.y];\n  const normalVector: [number, number] = [1, 0];\n  const startAngle =\n    start.y > center.y ? vec2.angle(startVector, normalVector) : vec2.angle(startVector, normalVector) * -1;\n  const endAngle = startAngle + (x.end - x.start);\n  const radius = Math.sqrt((start.x - center.x) ** 2 + (start.y - center.y) ** 2);\n\n  return {\n    center,\n    radius,\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n *  axis \n * @param axes\n * @param field\n * @returns the axis option of field\n */\nexport function getAxisOption(axes: Record<string, AxisOption> | boolean, field: string) {\n  if (isBoolean(axes)) {\n    return axes === false ? false : {};\n  }\n  return get(axes, [field]);\n}\n\n/**\n * @ignore\n *  position\n * @param axisOption\n * @param def\n */\nexport function getAxisDirection(axisOption: AxisOption, def: DIRECTION): DIRECTION {\n  return get(axisOption, 'position', def);\n}\n\n/**\n *  axis  title \n * @param scale\n * @param axisOption\n */\nexport function getAxisTitleText(scale: Scale, axisOption: AxisCfg): string {\n  return get(axisOption, ['title', 'text'], getName(scale));\n}\n","import { deepMix, each, every, get, isNil, isNumber } from '@antv/util';\nimport { LAYER } from '../constant';\nimport { IGroup } from '../dependents';\nimport { AxisCfg, Condition, Datum, FacetCfg, FacetData, FacetDataFilter, Region } from '../interface';\n\nimport View from '../chart/view';\nimport { getAxisOption } from '../util/axis';\n\n/**\n * facet \n *  -  facet\n *  - \n *\n * \n *\n *  init\n * 1. \n * 2. \n *\n *  render\n * 1. view \n * 2. title\n * 3. axis\n *\n *  clear\n * 1.  view\n *\n *  destroy\n * 1. clear\n * 2. \n * 3.  group\n */\nexport abstract class Facet<C extends FacetCfg<FacetData> = FacetCfg<FacetData>, F extends FacetData = FacetData> {\n  /**  view */\n  public view: View;\n  /**  */\n  public container: IGroup;\n  /**  */\n  public destroyed: boolean = false;\n\n  /**  */\n  protected cfg: C;\n  /**  */\n  protected facets: F[] = [];\n\n  constructor(view: View, cfg: C) {\n    this.view = view;\n    this.cfg = deepMix({}, this.getDefaultCfg(), cfg);\n  }\n\n  /**\n   * \n   */\n  public init() {\n    // \n    if (!this.container) {\n      this.container = this.createContainer();\n    }\n\n    // \n    const data = this.view.getData();\n    this.facets = this.generateFacets(data);\n  }\n\n  /**\n   *  view \n   *  -  view\n   *  - \n   *  - title\n   *\n   *  \n   */\n  public render() {\n    this.renderViews();\n  }\n\n  /**\n   *  facet\n   */\n  public update() {\n    //  facet  View  Geometry  view \n  }\n\n  /**\n   * clear  init \n   * \n   */\n  public clear() {\n    this.clearFacetViews();\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.clear();\n\n    if (this.container) {\n      this.container.remove(true);\n      this.container = undefined;\n    }\n\n    this.destroyed = true;\n    this.view = undefined;\n    this.facets = [];\n  }\n\n  /**\n   *  facet  view\n   * @param facet\n   */\n  protected facetToView(facet: F): View {\n    const { region, data, padding = this.cfg.padding } = facet;\n\n    const view = this.view.createView({\n      region,\n      padding,\n    });\n\n    // \n    view.data(data || []);\n    facet.view = view;\n\n    // \n    this.beforeEachView(view, facet);\n\n    const { eachView } = this.cfg;\n    if (eachView) {\n      eachView(view, facet);\n    }\n\n    // \n    this.afterEachView(view, facet);\n\n    return view;\n  }\n\n  // \n  private createContainer(): IGroup {\n    const foregroundGroup = this.view.getLayer(LAYER.FORE);\n    return foregroundGroup.addGroup();\n  }\n\n  /**\n   *  view\n   */\n  private renderViews() {\n    this.createFacetViews();\n  }\n\n  /**\n   *   view\n   */\n  private createFacetViews(): View[] {\n    //   view\n    return this.facets.map((facet): View => {\n      return this.facetToView(facet);\n    });\n  }\n\n  /**\n   *  view  facetView\n   */\n  private clearFacetViews() {\n    //  view  view\n    each(this.facets, (facet) => {\n      if (facet.view) {\n        this.view.removeView(facet.view);\n        facet.view = undefined;\n      }\n    });\n  }\n\n  /**\n   *  spacing\n   */\n  private parseSpacing() {\n    /**\n     * @example\n     *\n     * // \n     * //  10% 10%\n     * ['10%', '10%']\n     * //  10px 10px\n     * [10, 10]\n     *\n     * // \n     * ['10%', 10]\n     * //  10% 10px\n     */\n    const { width, height } = this.view.viewBBox;\n    const { spacing } = this.cfg;\n    return spacing.map((s: number, idx: number) => {\n      if (isNumber(s)) return s / (idx === 0 ? width : height);\n      else return parseFloat(s) / 100;\n    });\n  }\n\n  // \n\n  /**\n   * \n   * @protected\n   * @param data \n   * @param field \n   * @return \n   */\n  protected getFieldValues(data: Datum[], field: string): string[] {\n    const rst = [];\n    const cache: Record<string, boolean> = {};\n\n    //  Nil \n    each(data, (d: Datum) => {\n      const value = d[field];\n      if (!isNil(value) && !cache[value]) {\n        rst.push(value);\n        cache[value] = true;\n      }\n    });\n\n    return rst;\n  }\n\n  /**\n   *  region\n   * @param rows row \n   * @param cols col \n   * @param xIndex x  index\n   * @param yIndex y  index\n   */\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number): Region {\n    const [xSpacing, ySpacing] = this.parseSpacing();\n    // xSPacing, ySpacing\n    // \n    /**\n     * ratio * num + spacing * (num - 1) = 1\n     * => ratio = (1 - (spacing * (num - 1))) / num\n     *          = (1 + spacing) / num - spacing\n     *\n     * num  cols/rows\n     * spacing  xSpacing/ySpacing\n     */\n    const xRatio = (1 + xSpacing) / (cols === 0 ? 1 : cols) - xSpacing;\n    const yRatio = (1 + ySpacing) / (rows === 0 ? 1 : rows) - ySpacing;\n\n    //  index \n    const start = {\n      x: (xRatio + xSpacing) * xIndex,\n      y: (yRatio + ySpacing) * yIndex,\n    };\n    const end = {\n      x: start.x + xRatio,\n      y: start.y + yRatio,\n    };\n    return { start, end };\n  }\n\n  protected getDefaultCfg() {\n    return {\n      eachView: undefined,\n      showTitle: true,\n      spacing: [0, 0],\n      padding: 10,\n      fields: [],\n    };\n  }\n\n  /**\n   *  title  title columnTitlerowTitle\n   */\n  protected getDefaultTitleCfg() {\n    // @ts-ignore\n    const fontFamily = this.view.getTheme().fontFamily;\n    return {\n      style: {\n        fontSize: 14,\n        fill: '#666',\n        fontFamily,\n      },\n    };\n  }\n\n  /**\n   *  axis \n   * @param view\n   * @param facet\n   */\n  protected processAxis(view: View, facet: F) {\n    const options = view.getOptions();\n\n    const coordinateOption = options.coordinate;\n    const geometries = view.geometries;\n\n    const coordinateType = get(coordinateOption, 'type', 'rect');\n\n    if (coordinateType === 'rect' && geometries.length) {\n      if (isNil(options.axes)) {\n        // @ts-ignore\n        options.axes = {};\n      }\n      const axes = options.axes;\n\n      const [x, y] = geometries[0].getXYFields();\n\n      const xOption = getAxisOption(axes, x);\n      const yOption = getAxisOption(axes, y);\n\n      if (xOption !== false) {\n        options.axes[x] = this.getXAxisOption(x, axes, xOption, facet);\n      }\n\n      if (yOption !== false) {\n        options.axes[y] = this.getYAxisOption(y, axes, yOption, facet);\n      }\n    }\n  }\n\n  /**\n   * \n   * @param conditions\n   */\n  protected getFacetDataFilter(conditions: Condition[]): FacetDataFilter {\n    return (datum: Datum) => {\n      // \n      return every(conditions, (condition) => {\n        const { field, value } = condition;\n\n        if (!isNil(value) && field) {\n          return datum[field] === value;\n        }\n        return true;\n      });\n    };\n  }\n\n  /**\n   * @override  eachView\n   * @param view\n   * @param facet\n   */\n  protected abstract beforeEachView(view: View, facet: F);\n\n  /**\n   * @override  eachView \n   * @param view\n   * @param facet\n   */\n  protected abstract afterEachView(view: View, facet: F);\n\n  /**\n   * @override \n   * @param data\n   */\n  protected abstract generateFacets(data: Datum[]): F[];\n\n  /**\n   *  x \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getXAxisOption(x: string, axes: any, option: AxisCfg, facet: F): object;\n\n  /**\n   *  y \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getYAxisOption(y: string, axes: any, option: AxisCfg, facet: F): object;\n}\n","import { lowerCase } from '@antv/util';\nimport { FacetCtor } from '../interface';\nexport { Facet } from './facet';\n\n/**\n *  Facet \n */\nconst Facets: Record<string, FacetCtor> = {};\n\n/**\n *  type  facet \n * @param type \n */\nexport const getFacet = (type: string): FacetCtor => {\n  return Facets[lowerCase(type)];\n};\n\n/**\n *  Facet \n * @param type \n * @param ctor \n */\nexport const registerFacet = (type: string, ctor: FacetCtor) => {\n  Facets[lowerCase(type)] = ctor;\n};\n","import { assign } from '@antv/util';\nimport { IAction, IInteractionContext, LooseObject } from '../../interface';\n\n/**\n * Action \n */\nabstract class Action<T = LooseObject> implements IAction {\n  /** Action  */\n  public name;\n  /**  */\n  public context: IInteractionContext;\n  /** Action  */\n  protected cfg: T;\n  /**  this  */\n  protected cfgFields: string[];\n\n  constructor(context: IInteractionContext, cfg?: T) {\n    this.context = context;\n    this.cfg = cfg;\n    context.addAction(this);\n  }\n\n  /**\n   * \n   * @param cfg\n   */\n  protected applyCfg(cfg) {\n    assign(this, cfg);\n  }\n\n  /**\n   * Inits action\n   */\n  public init() {\n    this.applyCfg(this.cfg);\n  }\n\n  /**\n   * Destroys action\n   */\n  public destroy() {\n    //  action\n    this.context.removeAction(this);\n    // \n    this.context = null;\n  }\n}\n\nexport default Action;\n","import { ActionCallback } from '../../interface';\nimport Action from './base';\n\n/**  Action */\nexport default class CallbackAction extends Action {\n  /**\n   * \n   */\n  public callback: ActionCallback;\n  /**\n   * \n   */\n  public execute() {\n    if (this.callback) {\n      this.callback(this.context);\n    }\n  }\n  /**\n   * \n   */\n  public destroy() {\n    super.destroy();\n    this.callback = null;\n  }\n}\n","import { ActionCallback, IInteractionContext, LooseObject } from '../../interface';\nimport Action from './base';\nimport CallbackAction from './callback';\nimport { get } from '@antv/util';\n\n/** Action  */\ntype ActionConstructor = new (context: IInteractionContext, cfg?: LooseObject) => Action;\n\n/** @ignore */\ninterface ActionOption {\n  ActionClass: ActionConstructor;\n  cfg: LooseObject;\n}\n\n// Action \nconst ActionCache: Record<string, ActionOption> = {};\n\n/**\n *  Action \n * @param actionName - action \n * @param context \n * @returns Action \n */\nexport function createAction(actionName: string, context: IInteractionContext): Action {\n  const actionOption = ActionCache[actionName];\n  let action = null;\n  if (actionOption) {\n    const { ActionClass, cfg } = actionOption;\n    action = new ActionClass(context, cfg);\n    action.name = actionName;\n    action.init();\n  }\n  return action;\n}\n\n/**\n *  action  name \n * @param actionName action  name\n */\nexport function getActionClass(actionName: string): ActionConstructor {\n  const actionOption = ActionCache[actionName];\n  return get(actionOption, 'ActionClass');\n}\n\n/**\n *  Action\n * @param actionName - action \n * @param ActionClass -  action \n */\nexport function registerAction(actionName: string, ActionClass: ActionConstructor, cfg?: LooseObject) {\n  ActionCache[actionName] = {\n    ActionClass,\n    cfg,\n  };\n}\n\n/**\n *  Action\n * @param actionName action \n */\nexport function unregisterAction(actionName: string) {\n  delete ActionCache[actionName];\n}\n\n/**\n *  Action \n * @param callback - action \n * @param context \n * @returns Action \n */\nexport function createCallbackAction(callback: ActionCallback, context: IInteractionContext): CallbackAction {\n  const action = new CallbackAction(context);\n  action.callback = callback;\n  action.name = 'callback';\n  return action;\n}\n","import { vec2 } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position } from '../../../interface';\nimport { getDistanceToCenter } from '../../../util/coordinate';\n\nfunction _points2path(points: Point[], isInCircle: boolean): PathCommand[] {\n  const path = [];\n  if (points.length) {\n    path.push(['M', points[0].x, points[0].y]);\n    for (let i = 1, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      path.push(['L', item.x, item.y]);\n    }\n\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n\n  return path;\n}\n\nfunction _convertArr(arr: number[], coord: Coordinate): any[] {\n  const tmp = [arr[0]];\n  for (let i = 1, len = arr.length; i < len; i = i + 2) {\n    const point = coord.convert({\n      x: arr[i],\n      y: arr[i + 1],\n    });\n    tmp.push(point.x, point.y);\n  }\n  return tmp;\n}\nfunction _convertArcPath(path: PathCommand, coord: Coordinate): any[] {\n  const { isTransposed } = coord;\n  const r = path[1];\n  const x = path[6];\n  const y = path[7];\n  const point = coord.convert({ x, y });\n  const direction = isTransposed ? 0 : 1;\n  return ['A', r, r, 0, 0, direction, point.x, point.y];\n}\n\nfunction _convertPolarPath(pre: PathCommand, cur: PathCommand, coord: Coordinate): PathCommand[] {\n  const { isTransposed, startAngle, endAngle } = coord;\n  const prePoint =\n    pre[0].toLowerCase() === 'a'\n      ? {\n          x: pre[6],\n          y: pre[7],\n        }\n      : {\n          x: pre[1],\n          y: pre[2],\n        };\n  const curPoint = {\n    x: cur[1],\n    y: cur[2],\n  };\n  const rst = [];\n  const xDim = isTransposed ? 'y' : 'x';\n  const angleRange = Math.abs(curPoint[xDim] - prePoint[xDim]) * (endAngle - startAngle);\n  const direction = curPoint[xDim] >= prePoint[xDim] ? 1 : 0; // \n  const flag = angleRange > Math.PI ? 1 : 0; // \n  const convertPoint = coord.convert(curPoint);\n  const r = getDistanceToCenter(coord, convertPoint);\n  if (r >= 0.5) {\n    // 1\n    if (angleRange === Math.PI * 2) {\n      const middlePoint = {\n        x: (curPoint.x + prePoint.x) / 2,\n        y: (curPoint.y + prePoint.y) / 2,\n      };\n      const middleConvertPoint = coord.convert(middlePoint);\n      rst.push(['A', r, r, 0, flag, direction, middleConvertPoint.x, middleConvertPoint.y]);\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    } else {\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    }\n  }\n  return rst;\n}\n\n// \nfunction _filterFullCirleLine(path: PathCommand[]) {\n  each(path, (subPath, index) => {\n    const cur = subPath;\n    if (cur[0].toLowerCase() === 'a') {\n      const pre = path[index - 1];\n      const next = path[index + 1];\n      if (next && next[0].toLowerCase() === 'a') {\n        if (pre && pre[0].toLowerCase() === 'l') {\n          pre[0] = 'M';\n        }\n      } else if (pre && pre[0].toLowerCase() === 'a') {\n        if (next && next[0].toLowerCase() === 'l') {\n          next[0] = 'M';\n        }\n      }\n    }\n  });\n}\n\n/**\n * @ignore\n * \n */\nexport const smoothBezier = (\n  points: Position[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: Position[]\n): Position[] => {\n  const cps = [];\n  const hasConstraint = !!constraint;\n\n  let prevPoint: Position;\n  let nextPoint: Position;\n  let min: Position;\n  let max: Position;\n  let nextCp0: Position;\n  let cp1: Position;\n  let cp0: Position;\n\n  if (hasConstraint) {\n    [min, max] = constraint;\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vec2.min([0, 0], min, point) as [number, number];\n      max = vec2.max([0, 0], max, point) as [number, number];\n    }\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (i === 0 && !isLoop) {\n      cp0 = point;\n    } else if (i === len - 1 && !isLoop) {\n      cp1 = point;\n      cps.push(cp0);\n      cps.push(cp1);\n    } else {\n      prevPoint = points[isLoop ? (i ? i - 1 : len - 1) : i - 1];\n      nextPoint = points[isLoop ? (i + 1) % len : i + 1];\n\n      let v: [number, number] = [0, 0];\n      v = vec2.sub(v, nextPoint, prevPoint) as [number, number];\n      v = vec2.scale(v, v, smooth) as [number, number];\n\n      let d0 = vec2.distance(point, prevPoint);\n      let d1 = vec2.distance(point, nextPoint);\n\n      const sum = d0 + d1;\n      if (sum !== 0) {\n        d0 /= sum;\n        d1 /= sum;\n      }\n\n      let v1 = vec2.scale([0, 0], v, -d0);\n      let v2 = vec2.scale([0, 0], v, d1);\n\n      cp1 = vec2.add([0, 0], point, v1) as Position;\n      nextCp0 = vec2.add([0, 0], point, v2) as Position;\n\n      // \n      nextCp0 = vec2.min([0, 0], nextCp0, vec2.max([0, 0], nextPoint, point)) as Position;\n      nextCp0 = vec2.max([0, 0], nextCp0, vec2.min([0, 0], nextPoint, point)) as Position;\n\n      //  cp1 \n      v1 = vec2.sub([0, 0], nextCp0, point);\n      v1 = vec2.scale([0, 0], v1, -d0 / d1);\n      cp1 = vec2.add([0, 0], point, v1) as Position;\n\n      // \n      cp1 = vec2.min([0, 0], cp1, vec2.max([0, 0], prevPoint, point)) as Position;\n      cp1 = vec2.max([0, 0], cp1, vec2.min([0, 0], prevPoint, point)) as Position;\n\n      //  nextCp0 \n      v2 = vec2.sub([0, 0], point, cp1);\n      v2 = vec2.scale([0, 0], v2, d1 / d0);\n      nextCp0 = vec2.add([0, 0], point, v2) as Position;\n\n      if (hasConstraint) {\n        cp1 = vec2.max([0, 0], cp1, min) as Position;\n        cp1 = vec2.min([0, 0], cp1, max) as Position;\n        nextCp0 = vec2.max([0, 0], nextCp0, min) as Position;\n        nextCp0 = vec2.min([0, 0], nextCp0, max) as Position;\n      }\n\n      cps.push(cp0);\n      cps.push(cp1);\n      cp0 = nextCp0;\n    }\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n\n  return cps;\n};\n\n/**\n * @ignore\n * \n */\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: Position[]): PathCommand[] {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: Position;\n  let cp2: Position;\n  let p: Position;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n/**\n * @ignore\n *  path\n */\nexport function getLinePath(points: Point[], isInCircle?: boolean): PathCommand[] {\n  return _points2path(points, isInCircle);\n}\n\n/**\n * @ignore\n * \n */\nexport function getSplinePath(points: Point[], isInCircle?: boolean, constaint?: Position[]): PathCommand[] {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // \n    return getLinePath(points, isInCircle);\n  }\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  }\n  const constraint = constaint || [\n    // \n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n\n/**\n * @ignore\n * \n */\nexport function convertNormalPath(coord, path: PathCommand[]): PathCommand[] {\n  const tmp = [];\n  each(path, (subPath) => {\n    const action = subPath[0];\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'l':\n      case 'c':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'a':\n        tmp.push(_convertArcPath(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  return tmp;\n}\n\n/**\n * @ignore\n * \n */\nexport function convertPolarPath(coord, path: PathCommand[]): PathCommand[] {\n  let tmp = [];\n  let pre: PathCommand;\n  let cur: PathCommand;\n  let transposed: boolean;\n  let equals: boolean;\n  each(path, (subPath, index) => {\n    const action = subPath[0];\n\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'c':\n      case 'q':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'l':\n        pre = path[index - 1];\n        cur = subPath;\n        transposed = coord.isTransposed;\n        // \n        equals = transposed ? pre[pre.length - 2] === cur[1] : pre[pre.length - 1] === cur[2];\n        if (equals) {\n          tmp = tmp.concat(_convertPolarPath(pre, cur, coord));\n        } else {\n          // y \n          tmp.push(_convertArr(subPath, coord));\n        }\n        break;\n      case 'a':\n        tmp.push(_convertArcPath(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  _filterFullCirleLine(tmp); // \n  return tmp;\n}\n","import { each, isArray } from '@antv/util';\nimport { View } from '../../chart';\nimport { BBox, PathCommand, Point } from '../../dependents';\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element/';\nimport { catmullRom2bezier, getLinePath } from '../../geometry/shape/util/path';\nimport { toPoints } from '../../util/bbox';\nimport { isPolygonsIntersect } from '@antv/path-util';\nimport { ComponentOption, IInteractionContext, LooseObject } from '../../interface';\n\nfunction getMaskBBox(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  const maskBBox = maskShape.getCanvasBBox();\n  //  bbox \n  if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n    return null;\n  }\n  return maskBBox;\n}\n\nfunction getMaskPath(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  const maskBBox = maskShape.getCanvasBBox();\n  //  bbox \n  if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n    return null;\n  }\n  return maskShape.attr('path');\n}\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getCurrentElement(context: IInteractionContext): Element {\n  const event = context.event;\n  let element;\n  const target = event.target;\n  if (target) {\n    element = target.get('element');\n  }\n  return element;\n}\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getDelegationObject(context: IInteractionContext): LooseObject {\n  const event = context.event;\n  const target = event.target;\n  let delegateObject;\n  if (target) {\n    delegateObject = target.get('delegateObject');\n  }\n  return delegateObject;\n}\n\nexport function isElementChange(context: IInteractionContext) {\n  const event = context.event.gEvent;\n  //  element label  shape \n  if (event && event.fromShape && event.toShape && event.fromShape.get('element') === event.toShape.get('element')) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * \n * @param delegateObject \n * @ignore\n */\nexport function isList(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isList();\n}\n\n/**\n * \n * @param delegateObject \n * @ignore\n */\nexport function isSlider(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isSlider();\n}\n\n/**\n *  mask \n * @param context \n * @ignore\n */\nexport function isMask(context: IInteractionContext): boolean {\n  const event = context.event;\n  const target = event.target;\n  return target && target.get('name') === 'mask';\n}\n\n/**\n *  elements\n * @param context \n * @ignore\n */\nexport function getMaskedElements(context: IInteractionContext, tolerance: number): Element[] {\n  const target = context.event.target;\n  if (target.get('type') === 'path') {\n    const maskPath = getMaskPath(context, tolerance);\n    if (!maskPath) {\n      return;\n    }\n    return getElementsByPath(context.view, maskPath);\n  }\n  const maskBBox = getMaskBBox(context, tolerance);\n  //  bbox \n  if (!maskBBox) {\n    return null;\n  }\n  return getIntersectElements(context.view, maskBBox);\n}\n\n/**\n * @ignore\n */\nexport function getSiblingMaskElements(context: IInteractionContext, sibling: View, tolerance: number) {\n  const maskBBox = getMaskBBox(context, tolerance);\n  //  bbox \n  if (!maskBBox) {\n    return null;\n  }\n  const view = context.view;\n  const start = getSiblingPoint(view, sibling, { x: maskBBox.x, y: maskBBox.y });\n  const end = getSiblingPoint(view, sibling, { x: maskBBox.maxX, y: maskBBox.maxY });\n  const box = {\n    minX: start.x,\n    minY: start.y,\n    maxX: end.x,\n    maxY: end.y,\n  };\n  return getIntersectElements(sibling, box);\n}\n\n/**\n * \n * @param view View/Chart\n * @ignore\n */\nexport function getElements(view: View): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.elements;\n    rst = rst.concat(elements);\n  });\n  if (view.views && view.views.length) {\n    each(view.views, (subView) => {\n      rst = rst.concat(getElements(subView));\n    });\n  }\n  return rst;\n}\n\n/**\n * \n * @param view View/Chart\n * @param field \n * @param value \n * @ignore\n */\nexport function getElementsByField(view: View, field: string, value: any) {\n  const elements = getElements(view);\n  return elements.filter((el) => {\n    return getElementValue(el, field) === value;\n  });\n}\n\n/**\n * \n * @param view View/Chart\n * @param stateName \n * @ignore\n */\nexport function getElementsByState(view: View, stateName: string): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.getElementsBy((el) => el.hasState(stateName));\n    rst = rst.concat(elements);\n  });\n  return rst;\n}\n\n/**\n * \n * @param element \n * @param field \n * @ignore\n */\nexport function getElementValue(element: Element, field) {\n  const model = element.getModel();\n  const record = model.data;\n  let value;\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n  return value;\n}\n\n/**\n * \n * @param box1 1\n * @param box2 2\n * @ignore\n */\nexport function intersectRect(box1, box2) {\n  return !(box2.minX > box1.maxX || box2.maxX < box1.minX || box2.minY > box1.maxY || box2.maxY < box1.minY);\n}\n\n/**\n * \n * @param view View/Chart\n * @param box \n * @ignore\n */\nexport function getIntersectElements(view: View, box) {\n  const elements = getElements(view);\n  const rst = [];\n  each(elements, (el) => {\n    const shape = el.shape;\n    const shapeBBox = shape.getCanvasBBox();\n    if (intersectRect(box, shapeBBox)) {\n      rst.push(el);\n    }\n  });\n  return rst;\n}\nfunction pathToPoints(path: any[]) {\n  const points = [];\n  each(path, (seg) => {\n    const command = seg[0];\n    if (command !== 'A') {\n      for (let i = 1; i < seg.length; i = i + 2) {\n        points.push([seg[i], seg[i + 1]]);\n      }\n    } else {\n      const length = seg.length;\n      points.push([seg[length - 2], seg[length - 1]]);\n    }\n  });\n  return points;\n}\n/**\n * \n * @param view View/Chart\n * @param path \n * @ignore\n */\nexport function getElementsByPath(view: View, path: any[]) {\n  const elements = getElements(view);\n  const points = pathToPoints(path);\n  const rst = elements.filter((el: Element) => {\n    const shape = el.shape;\n    let shapePoints;\n    if (shape.get('type') === 'path') {\n      shapePoints = pathToPoints(shape.attr('path'));\n    } else {\n      const shapeBBox = shape.getCanvasBBox();\n      shapePoints = toPoints(shapeBBox);\n    }\n    return isPolygonsIntersect(points, shapePoints);\n  });\n  return rst;\n}\n\n/**\n *  View \n * @param view View/Chart\n * @ignore\n */\nexport function getComponents(view) {\n  return view.getComponents().map((co: ComponentOption) => co.component);\n}\n\n/** @ignore */\nexport function distance(p1: Point, p2: Point) {\n  const dx = p2.x - p1.x;\n  const dy = p2.y - p1.y;\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\n/** @ignore */\nexport function getSpline(points: Point[], z: boolean): PathCommand[] {\n  if (points.length <= 2) {\n    return getLinePath(points, false);\n  }\n  const first = points[0];\n  const arr = [];\n  each(points, (point) => {\n    arr.push(point.x);\n    arr.push(point.y);\n  });\n  const path = catmullRom2bezier(arr, z, null);\n  path.unshift(['M', first.x, first.y]);\n  return path;\n}\n\n/**\n * \n * @param box \n * @param point \n * @ignore\n */\nexport function isInBox(box: BBox, point: Point) {\n  return box.x <= point.x && box.maxX >= point.x && box.y <= point.y && box.maxY > point.y;\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getSilbings(view: View): View[] {\n  const parent = view.parent;\n  let siblings = null;\n  if (parent) {\n    siblings = parent.views.filter((sub) => sub !== view);\n  }\n  return siblings;\n}\n\nfunction point2Normalize(view: View, point: Point): Point {\n  const coord = view.getCoordinate();\n  return coord.invert(point);\n}\n/**\n *  view  view \n * @param view  view\n * @param sibling  view\n * @param point \n * @ignore\n */\nexport function getSiblingPoint(view: View, sibling: View, point: Point): Point {\n  const normalPoint = point2Normalize(view, point);\n  return sibling.getCoordinate().convert(normalPoint);\n}\n\n/**\n *  view \n *  view  includes\n *  x, y  isEqual \n * \n * @param records\n * @param record\n * @param xFiled\n * @param yField\n * @returns\n * @ignore\n */\nexport function isInRecords(records: object[], record: object, xFiled: string, yField: string) {\n  let isIn = false;\n  each(records, (r) => {\n    if (r[xFiled] === record[xFiled] && r[yField] === record[yField]) {\n      isIn = true;\n      return false;\n    }\n  });\n  return isIn;\n}\n\n//  field  scale view  view\nexport function getScaleByField(view: View, field: string) {\n  let scale = view.getScaleByField(field);\n  if (!scale && view.views) {\n    each(view.views, (subView) => {\n      scale = getScaleByField(subView, field);\n      if (scale) {\n        return false; // \n      }\n    });\n  }\n  return scale;\n}\n","import { each, get } from '@antv/util';\nimport { View } from '../chart';\nimport { BBox, IShape, Point } from '../dependents';\nimport { IAction, IInteractionContext, LooseObject } from '../interface';\nimport { getComponents, isInBox } from './action/util';\n\n/**\n * \n */\nexport default class Context implements IInteractionContext {\n  /**  Action */\n  public actions: IAction[] = [];\n  /**  View  */\n  public view: View;\n  /**  */\n  public event: LooseObject = null;\n\n  private cacheMap: LooseObject = {};\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  /**\n   * \n   * @param params \n   *  - \n   *  - \n   */\n  public cache(...params) {\n    if (params.length === 1) {\n      return this.cacheMap[params[0]];\n    } else if (params.length === 2) {\n      this.cacheMap[params[0]] = params[1];\n    }\n  }\n\n  /**\n   *  Action\n   * @param name Action \n   */\n  public getAction(name: string): IAction {\n    return this.actions.find((action) => action.name === name);\n  }\n\n  /**\n   *  Action\n   * @param action Action \n   */\n  public addAction(action: IAction) {\n    this.actions.push(action);\n  }\n\n  /**\n   *  Action\n   * @param action Action \n   */\n  public removeAction(action: IAction) {\n    const actions = this.actions;\n    const index = this.actions.indexOf(action);\n    if (index >= 0) {\n      actions.splice(index, 1);\n    }\n  }\n\n  /**\n   * \n   */\n  public getCurrentPoint(): Point {\n    const event = this.event;\n    if (event) {\n      if (event.target instanceof HTMLElement) {\n        const canvas = this.view.getCanvas();\n        const point = canvas.getPointByClient(event.clientX, event.clientY);\n        return point;\n      } else {\n        return {\n          x: event.x,\n          y: event.y,\n        };\n      }\n    }\n    return null;\n  }\n\n  /**\n   *  shape\n   * @returns current shape\n   */\n  public getCurrentShape(): IShape {\n    return get(this.event, ['gEvent', 'shape']);\n  }\n\n  /**\n   *  View \n   */\n  public isInPlot() {\n    const point = this.getCurrentPoint();\n    if (point) {\n      return this.view.isPointInPlot(point);\n    }\n    return false;\n  }\n\n  /**\n   * \n   * @param name shape  name\n   */\n  public isInShape(name) {\n    const shape = this.getCurrentShape(); //  shape  parent \n    if (shape) {\n      return shape.get('name') === name;\n    }\n    return false;\n  }\n\n  /**\n   * \n   * @param name \n   */\n  public isInComponent(name?: string) {\n    const components = getComponents(this.view);\n    const point = this.getCurrentPoint();\n    if (point) {\n      return !!components.find((component) => {\n        const bbox = component.getBBox() as BBox;\n        if (name) {\n          return component.get('name') === name && isInBox(bbox, point);\n        } else {\n          return isInBox(bbox, point);\n        }\n      });\n    }\n    return false;\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    //  action \n    each(this.actions.slice(), (action) => {\n      action.destroy();\n    });\n    this.view = null;\n    this.event = null;\n    this.actions = null;\n    this.cacheMap = null;\n  }\n}\n","import { View } from '../chart';\nimport { LooseObject } from '../interface';\n\nexport type InteractionConstructor = new (view: View, cfg: LooseObject) => Interaction;\n\n/**\n * \n */\nexport default class Interaction {\n  /** view  chart */\n  protected view: View;\n  /**  */\n  protected cfg: LooseObject;\n\n  constructor(view: View, cfg: LooseObject) {\n    this.view = view;\n    this.cfg = cfg;\n  }\n\n  /**\n   * \n   */\n  public init() {\n    this.initEvents();\n  }\n\n  /**\n   * \n   */\n  protected initEvents() {}\n\n  /**\n   * \n   */\n  protected clearEvents() {}\n\n  /**\n   * \n   */\n  public destroy() {\n    this.clearEvents();\n  }\n}\n","import { each, isArray, isFunction, isString, debounce, throttle } from '@antv/util';\nimport { View } from '../chart';\nimport { ActionCallback, IAction, IInteractionContext, LooseObject } from '../interface';\nimport { createAction, createCallbackAction } from './action/register';\nimport InteractionContext from './context';\nimport Interaction from './interaction';\n\n//  action\nexport function parseAction(actionStr: string, context: IInteractionContext, arg?: any): ActionObject {\n  const arr = actionStr.split(':');\n  const actionName = arr[0];\n  //  action  action\n  const action = context.getAction(actionName) || createAction(actionName, context);\n  if (!action) {\n    throw new Error(`There is no action named ${actionName}`);\n  }\n  const methodName = arr[1];\n  return {\n    action,\n    methodName,\n    arg,\n  };\n}\n\n//  Action\nfunction executeAction(actionObject: ActionObject) {\n  const { action, methodName, arg } = actionObject;\n  if (action[methodName]) {\n    action[methodName](arg);\n  } else {\n    throw new Error(`Action(${action.name}) doesn't have a method called ${methodName}`);\n  }\n}\n\nconst STEP_NAMES = {\n  START: 'start',\n  SHOW_ENABLE: 'showEnable',\n  END: 'end',\n  ROLLBACK: 'rollback',\n  PROCESSING: 'processing',\n};\n\n/**  */\nexport interface InteractionStep {\n  /**\n   *  viewchart  documentwindow \n   */\n  trigger: string;\n  /**\n   *  action\n   * @param context - \n   */\n  isEnable?: (context: IInteractionContext) => boolean;\n  /**\n   * \n   * - action:method : action \n   * - [action1:method1, action2:method]\n   * - ActionCallback: \n   */\n  action: string | string[] | ActionCallback;\n  /**\n   *  action method \n   * -  action args \n   */\n  arg?: any | any[];\n  /**\n   * action \n   */\n  callback?: (context: IInteractionContext) => void;\n  /**\n   * @private\n   * \n   */\n  actionObject?: ActionObject | ActionObject[];\n  /**\n   * \n   */\n  once?: boolean;\n  /**\n   * \n   */\n  throttle?: ThrottleOption;\n  /**\n   * \n   */\n  debounce?: DebounceOption;\n}\n\n// action  debounce  throttlehttps://css-tricks.com/debouncing-throttling-explained-examples/\n/**\n * debounce \n */\nexport interface DebounceOption {\n  /**\n   * \n   */\n  wait: number;\n  /**\n   * \n   */\n  immediate?: boolean;\n}\n\n/**\n * throttle \n */\nexport interface ThrottleOption {\n  /**\n   * \n   */\n  wait: number;\n  /**\n   * \n   */\n  leading?: boolean;\n  /**\n   * \n   */\n  trailing?: boolean;\n}\n\n/**  action  */\ninterface ActionObject {\n  /**\n   *  action\n   */\n  action: IAction;\n  /**\n   * action \n   */\n  methodName: string;\n  /**\n   *  action \n   */\n  arg?: any;\n}\n\n/**  */\nexport interface InteractionSteps {\n  /**\n   * \n   */\n  showEnable?: InteractionStep[];\n  /**\n   * \n   */\n  start?: InteractionStep[];\n  /**\n   * \n   */\n  processing?: InteractionStep[];\n  /**\n   * \n   */\n  end?: InteractionStep[];\n  /**\n   * \n   */\n  rollback?: InteractionStep[];\n}\n\n/**\n * \n */\nexport default class GrammarInteraction extends Interaction {\n  // \n  private steps: InteractionSteps;\n  /**  */\n  public currentStepName: string;\n  /**\n   * \n   */\n  public context: IInteractionContext;\n\n  private callbackCaches: LooseObject = {};\n  // \n  private emitCaches: LooseObject = {};\n\n  constructor(view: View, steps: InteractionSteps) {\n    super(view, steps);\n    this.steps = steps;\n  }\n\n  /**\n   * \n   */\n  public init() {\n    this.initContext();\n    super.init();\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    super.destroy(); // \n    this.steps = null;\n    if (this.context) {\n      this.context.destroy();\n      this.context = null;\n    }\n\n    this.callbackCaches = null;\n    this.view = null;\n  }\n\n  /**\n   * \n   */\n  protected initEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          //  callback callback \n          this.bindEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  /**\n   * \n   */\n  protected clearEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          this.offEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  //  action\n  private initContext() {\n    const view = this.view;\n    const context = new InteractionContext(view);\n    this.context = context;\n    const steps = this.steps;\n    //  Action\n    each(steps, (subSteps: InteractionStep[]) => {\n      each(subSteps, (step: InteractionStep) => {\n        if (isFunction(step.action)) {\n          //  CallbackAction\n          step.actionObject = {\n            action: createCallbackAction(step.action, context),\n            methodName: 'execute',\n          };\n        } else if (isString(step.action)) {\n          // \n          step.actionObject = parseAction(step.action, context, step.arg);\n        } else if (isArray(step.action)) {\n          // \n          const actionArr = step.action;\n          const argArr = isArray(step.arg) ? step.arg : [step.arg];\n          step.actionObject = [];\n          each(actionArr, (actionStr, idx) => {\n            (step.actionObject as ActionObject[]).push(parseAction(actionStr, context, argArr[idx]));\n          });\n        }\n        //  action  actionObject\n      });\n    });\n  }\n\n  // \n  private isAllowStep(stepName: string): boolean {\n    const currentStepName = this.currentStepName;\n    const steps = this.steps;\n    // \n    if (currentStepName === stepName) {\n      return true;\n    }\n\n    if (stepName === STEP_NAMES.SHOW_ENABLE) {\n      // \n      return true;\n    }\n\n    if (stepName === STEP_NAMES.PROCESSING) {\n      //  start  processing\n      return currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.START) {\n      //  processing start end \n      return currentStepName !== STEP_NAMES.PROCESSING;\n    }\n\n    if (stepName === STEP_NAMES.END) {\n      return currentStepName === STEP_NAMES.PROCESSING || currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.ROLLBACK) {\n      if (steps[STEP_NAMES.END]) {\n        //  end,  end \n        return currentStepName === STEP_NAMES.END;\n      } else if (currentStepName === STEP_NAMES.START) {\n        //  end, \n        return true;\n      }\n    }\n    return false;\n  }\n\n  // \n  private isAllowExecute(stepName: string, step: InteractionStep): boolean {\n    if (this.isAllowStep(stepName)) {\n      const key = this.getKey(stepName, step);\n      // \n      if (step.once && this.emitCaches[key]) {\n        return false;\n      }\n      //  isEnable \n      if (step.isEnable) {\n        return step.isEnable(this.context);\n      }\n      return true; //  isEnable \n    }\n    return false;\n  }\n\n  private enterStep(stepName: string) {\n    this.currentStepName = stepName;\n    this.emitCaches = {}; // \n  }\n\n  // \n  private afterExecute(stepName: string, step) {\n    // show enable  step\n    if (stepName !== STEP_NAMES.SHOW_ENABLE && this.currentStepName !== stepName) {\n      this.enterStep(stepName);\n    }\n    const key = this.getKey(stepName, step);\n    // \n    this.emitCaches[key] = true;\n  }\n  // \n  private getKey(stepName, step) {\n    return stepName + step.trigger + step.action;\n  }\n\n  //  step \n  private getActionCallback(stepName: string, step: InteractionStep): (e: object) => void {\n    const context = this.context;\n    const callbackCaches = this.callbackCaches;\n    const actionObject = step.actionObject;\n    if (step.action && actionObject) {\n      const key = this.getKey(stepName, step);\n      if (!callbackCaches[key]) {\n        //  action \n        const actionCallback = (event) => {\n          context.event = event; //  event\n          if (this.isAllowExecute(stepName, step)) {\n            // \n            if (isArray(actionObject)) {\n              each(actionObject, (obj: ActionObject) => {\n                context.event = event; //  context.event \n                executeAction(obj);\n              });\n            } else {\n              context.event = event; //  context.event \n              executeAction(actionObject);\n            }\n            this.afterExecute(stepName, step);\n            if (step.callback) {\n              context.event = event; //  context.event \n              step.callback(context);\n            }\n          } else {\n            // \n            context.event = null;\n          }\n        };\n        //  debounce\n        if (step.debounce) {\n          callbackCaches[key] = debounce(actionCallback, step.debounce.wait, step.debounce.immediate);\n        } else if (step.throttle) {\n          //  throttle\n          callbackCaches[key] = throttle(actionCallback, step.throttle.wait, {\n            leading: step.throttle.leading,\n            trailing: step.throttle.trailing,\n          });\n        } else {\n          // \n          callbackCaches[key] = actionCallback;\n        }\n      }\n      return callbackCaches[key];\n    }\n    return null;\n  }\n\n  private bindEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.addEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.addEventListener(nameArr[1], callback);\n    } else {\n      this.view.on(eventName, callback);\n    }\n  }\n\n  private offEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.removeEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.removeEventListener(nameArr[1], callback);\n    } else {\n      this.view.off(eventName, callback);\n    }\n  }\n}\n","import { clone, isPlainObject, lowerCase, mix } from '@antv/util';\nimport { View } from '../chart';\nimport { LooseObject } from '../interface';\nimport GrammarInteraction, { InteractionSteps } from './grammar-interaction';\nimport { InteractionConstructor } from './interaction';\n\nconst Interactions: LooseObject = {};\n\n/**\n * \n * @param name \n * @returns \n */\nexport function getInteraction(name: string): InteractionSteps | InteractionConstructor {\n  return Interactions[lowerCase(name)];\n}\n\n/**\n * \n * @param name \n * @param interaction \n */\nexport function registerInteraction(name: string, interaction: InteractionSteps | InteractionConstructor) {\n  Interactions[lowerCase(name)] = interaction;\n}\n\n/**\n * \n * @param name \n * @param view  View \n * @param cfg \n */\nexport function createInteraction(name: string, view: View, cfg?: LooseObject) {\n  const interaciton = getInteraction(name);\n  if (!interaciton) {\n    return null;\n  }\n  if (isPlainObject(interaciton)) {\n    //  clone  interaction  step \n    const steps = mix(clone(interaciton), cfg) as InteractionSteps;\n    return new GrammarInteraction(view, steps);\n  } else {\n    const cls = interaciton as InteractionConstructor;\n    return new cls(view, cfg);\n  }\n}\n\nexport { default as Interaction } from './interaction';\nexport { Action, registerAction, getActionClass } from './action';\n","import { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport Element from '../../geometry/element';\nimport { LooseObject, StyleSheet } from '../../interface';\nimport { getAngle } from '../../util/graphics';\n\n/**\n *  axis \n * @param styleSheet\n */\nfunction createAxisStyles(styleSheet: StyleSheet): LooseObject {\n  return {\n    title: {\n      autoRotate: true,\n      position: 'center', // start, center, end\n      spacing: styleSheet.axisTitleSpacing,\n      style: {\n        fill: styleSheet.axisTitleTextFillColor,\n        fontSize: styleSheet.axisTitleTextFontSize,\n        lineHeight: styleSheet.axisTitleTextLineHeight,\n        textBaseline: 'middle',\n        fontFamily: styleSheet.fontFamily,\n      },\n      iconStyle: {\n        fill: styleSheet.axisDescriptionIconFillColor\n      }\n    },\n    label: {\n      autoRotate: false,\n      autoEllipsis: false,\n      autoHide: { type: 'equidistance', cfg: { minGap: 6 } },\n      offset: styleSheet.axisLabelOffset,\n      style: {\n        fill: styleSheet.axisLabelFillColor,\n        fontSize: styleSheet.axisLabelFontSize,\n        lineHeight: styleSheet.axisLabelLineHeight,\n        fontFamily: styleSheet.fontFamily,\n      },\n    },\n    line: {\n      style: {\n        lineWidth: styleSheet.axisLineBorder,\n        stroke: styleSheet.axisLineBorderColor,\n      },\n    },\n    grid: {\n      line: {\n        type: 'line',\n        style: {\n          stroke: styleSheet.axisGridBorderColor,\n          lineWidth: styleSheet.axisGridBorder,\n          lineDash: styleSheet.axisGridLineDash,\n        },\n      },\n      alignTick: true,\n      animate: true,\n    },\n    tickLine: {\n      style: {\n        lineWidth: styleSheet.axisTickLineBorder,\n        stroke: styleSheet.axisTickLineBorderColor,\n      },\n      alignTick: true, // \n      length: styleSheet.axisTickLineLength,\n    },\n    subTickLine: null,\n    animate: true,\n  };\n}\n\n/**\n *\n * @param styleSheet\n */\n// export function\n\n/**\n *  legend \n * @param styleSheet\n */\nfunction createLegendStyles(styleSheet: StyleSheet): LooseObject {\n  return {\n    title: null,\n    marker: {\n      symbol: 'circle',\n      spacing: styleSheet.legendMarkerSpacing,\n      style: {\n        r: styleSheet.legendCircleMarkerSize,\n        fill: styleSheet.legendMarkerColor,\n      },\n    },\n    itemName: {\n      spacing: 5, //  value \n      style: {\n        fill: styleSheet.legendItemNameFillColor,\n        fontFamily: styleSheet.fontFamily,\n        fontSize: styleSheet.legendItemNameFontSize,\n        lineHeight: styleSheet.legendItemNameLineHeight,\n        fontWeight: styleSheet.legendItemNameFontWeight,\n        textAlign: 'start',\n        textBaseline: 'middle',\n      },\n    },\n    itemStates: {\n      active: {\n        nameStyle: {\n          opacity: 0.8,\n        },\n      },\n      unchecked: {\n        nameStyle: {\n          fill: '#D8D8D8',\n        },\n        markerStyle: {\n          fill: '#D8D8D8',\n          stroke: '#D8D8D8',\n        },\n      },\n      inactive: {\n        nameStyle: {\n          fill: '#D8D8D8',\n        },\n        markerStyle: {\n          opacity: 0.2,\n        },\n      },\n    },\n    flipPage: true,\n    pageNavigator: {\n      marker: {\n        style: {\n          size: styleSheet.legendPageNavigatorMarkerSize,\n          inactiveFill: styleSheet.legendPageNavigatorMarkerInactiveFillColor,\n          inactiveOpacity: styleSheet.legendPageNavigatorMarkerInactiveFillOpacity,\n          fill: styleSheet.legendPageNavigatorMarkerFillColor,\n          opacity: styleSheet.legendPageNavigatorMarkerFillOpacity,\n        },\n      },\n      text: {\n        style: {\n          fill: styleSheet.legendPageNavigatorTextFillColor,\n          fontSize: styleSheet.legendPageNavigatorTextFontSize,\n        },\n      },\n    },\n    animate: false,\n    maxItemWidth: 200,\n    itemSpacing: styleSheet.legendItemSpacing,\n    itemMarginBottom: styleSheet.legendItemMarginBottom,\n    padding: styleSheet.legendPadding, // \n  };\n}\n\n/**\n * \n * @param styleSheet \n */\nexport function createThemeByStyleSheet(styleSheet: StyleSheet): LooseObject {\n  const shapeStyles = {\n    point: {\n      default: {\n        fill: styleSheet.pointFillColor,\n        r: styleSheet.pointSize,\n        stroke: styleSheet.pointBorderColor,\n        lineWidth: styleSheet.pointBorder,\n        fillOpacity: styleSheet.pointFillOpacity,\n      },\n      active: {\n        stroke: styleSheet.pointActiveBorderColor,\n        lineWidth: styleSheet.pointActiveBorder,\n      },\n      selected: {\n        stroke: styleSheet.pointSelectedBorderColor,\n        lineWidth: styleSheet.pointSelectedBorder,\n      },\n      inactive: {\n        fillOpacity: styleSheet.pointInactiveFillOpacity,\n        strokeOpacity: styleSheet.pointInactiveBorderOpacity,\n      },\n    },\n    hollowPoint: {\n      default: {\n        fill: styleSheet.hollowPointFillColor,\n        lineWidth: styleSheet.hollowPointBorder,\n        stroke: styleSheet.hollowPointBorderColor,\n        strokeOpacity: styleSheet.hollowPointBorderOpacity,\n        r: styleSheet.hollowPointSize,\n      },\n      active: {\n        stroke: styleSheet.hollowPointActiveBorderColor,\n        strokeOpacity: styleSheet.hollowPointActiveBorderOpacity,\n      },\n      selected: {\n        lineWidth: styleSheet.hollowPointSelectedBorder,\n        stroke: styleSheet.hollowPointSelectedBorderColor,\n        strokeOpacity: styleSheet.hollowPointSelectedBorderOpacity,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.hollowPointInactiveBorderOpacity,\n      },\n    },\n    area: {\n      default: {\n        fill: styleSheet.areaFillColor,\n        fillOpacity: styleSheet.areaFillOpacity,\n        stroke: null,\n      },\n      active: {\n        fillOpacity: styleSheet.areaActiveFillOpacity,\n      },\n      selected: {\n        fillOpacity: styleSheet.areaSelectedFillOpacity,\n      },\n      inactive: {\n        fillOpacity: styleSheet.areaInactiveFillOpacity,\n      },\n    },\n    hollowArea: {\n      default: {\n        fill: null,\n        stroke: styleSheet.hollowAreaBorderColor,\n        lineWidth: styleSheet.hollowAreaBorder,\n        strokeOpacity: styleSheet.hollowAreaBorderOpacity,\n      },\n      active: {\n        fill: null,\n        lineWidth: styleSheet.hollowAreaActiveBorder,\n      },\n      selected: {\n        fill: null,\n        lineWidth: styleSheet.hollowAreaSelectedBorder,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.hollowAreaInactiveBorderOpacity,\n      },\n    },\n    interval: {\n      default: {\n        fill: styleSheet.intervalFillColor,\n        fillOpacity: styleSheet.intervalFillOpacity,\n      },\n      active: {\n        stroke: styleSheet.intervalActiveBorderColor,\n        lineWidth: styleSheet.intervalActiveBorder,\n      },\n      selected: {\n        stroke: styleSheet.intervalSelectedBorderColor,\n        lineWidth: styleSheet.intervalSelectedBorder,\n      },\n      inactive: {\n        fillOpacity: styleSheet.intervalInactiveFillOpacity,\n        strokeOpacity: styleSheet.intervalInactiveBorderOpacity,\n      },\n    },\n    hollowInterval: {\n      default: {\n        fill: styleSheet.hollowIntervalFillColor,\n        stroke: styleSheet.hollowIntervalBorderColor,\n        lineWidth: styleSheet.hollowIntervalBorder,\n        strokeOpacity: styleSheet.hollowIntervalBorderOpacity,\n      },\n      active: {\n        stroke: styleSheet.hollowIntervalActiveBorderColor,\n        lineWidth: styleSheet.hollowIntervalActiveBorder,\n        strokeOpacity: styleSheet.hollowIntervalActiveBorderOpacity,\n      },\n      selected: {\n        stroke: styleSheet.hollowIntervalSelectedBorderColor,\n        lineWidth: styleSheet.hollowIntervalSelectedBorder,\n        strokeOpacity: styleSheet.hollowIntervalSelectedBorderOpacity,\n      },\n      inactive: {\n        stroke: styleSheet.hollowIntervalInactiveBorderColor,\n        lineWidth: styleSheet.hollowIntervalInactiveBorder,\n        strokeOpacity: styleSheet.hollowIntervalInactiveBorderOpacity,\n      },\n    },\n    line: {\n      default: {\n        stroke: styleSheet.lineBorderColor,\n        lineWidth: styleSheet.lineBorder,\n        strokeOpacity: styleSheet.lineBorderOpacity,\n        fill: null,\n        lineAppendWidth: 10,\n        lineCap: 'round',\n        lineJoin: 'round',\n      },\n      active: {\n        lineWidth: styleSheet.lineActiveBorder,\n      },\n      selected: {\n        lineWidth: styleSheet.lineSelectedBorder,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.lineInactiveBorderOpacity,\n      },\n    },\n  };\n  const axisStyles = createAxisStyles(styleSheet);\n  const legendStyles = createLegendStyles(styleSheet);\n\n  return {\n    background: styleSheet.backgroundColor,\n    defaultColor: styleSheet.brandColor,\n    subColor: styleSheet.subColor,\n    semanticRed: styleSheet.paletteSemanticRed,\n    semanticGreen: styleSheet.paletteSemanticGreen,\n    padding: 'auto',\n    fontFamily: styleSheet.fontFamily,\n    // Theme\n    /** geometrygeometrynull */\n    columnWidthRatio: 1 / 2,\n    /**  */\n    maxColumnWidth: null,\n    /**  */\n    minColumnWidth: null,\n    /**  */\n    roseWidthRatio: 0.9999999,\n    /** / */\n    multiplePieWidthRatio: 1 / 1.3,\n    colors10: styleSheet.paletteQualitative10,\n    colors20: styleSheet.paletteQualitative20,\n    sequenceColors: styleSheet.paletteSequence,\n    shapes: {\n      point: [\n        'hollow-circle',\n        'hollow-square',\n        'hollow-bowtie',\n        'hollow-diamond',\n        'hollow-hexagon',\n        'hollow-triangle',\n        'hollow-triangle-down',\n        'circle',\n        'square',\n        'bowtie',\n        'diamond',\n        'hexagon',\n        'triangle',\n        'triangle-down',\n        'cross',\n        'tick',\n        'plus',\n        'hyphen',\n        'line',\n      ],\n      line: ['line', 'dash', 'dot', 'smooth'],\n      area: ['area', 'smooth', 'line', 'smooth-line'],\n      interval: ['rect', 'hollow-rect', 'line', 'tick'],\n    },\n    sizes: [1, 10],\n    geometries: {\n      interval: {\n        rect: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: (element: Element) => {\n              const coordinate = element.geometry.coordinate;\n              if (coordinate.isPolar && coordinate.isTransposed) {\n                const { startAngle, endAngle } = getAngle(element.getModel(), coordinate);\n                const middleAngle = (startAngle + endAngle) / 2;\n                const r = 7.5;\n                const x = r * Math.cos(middleAngle);\n                const y = r * Math.sin(middleAngle);\n                return {\n                  matrix: ext.transform(null, [['t', x, y]]),\n                };\n              }\n              return shapeStyles.interval.selected;\n            },\n          },\n        },\n        'hollow-rect': {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        tick: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        funnel: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n        pyramid: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n      },\n      line: {\n        line: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        dot: {\n          default: {\n            style: {\n              ...shapeStyles.line.default,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          active: {\n            style: {\n              ...shapeStyles.line.active,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          inactive: {\n            style: {\n              ...shapeStyles.line.inactive,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          selected: {\n            style: {\n              ...shapeStyles.line.selected,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n        },\n        dash: {\n          default: {\n            style: {\n              ...shapeStyles.line.default,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          active: {\n            style: {\n              ...shapeStyles.line.active,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          inactive: {\n            style: {\n              ...shapeStyles.line.inactive,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          selected: {\n            style: {\n              ...shapeStyles.line.selected,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vh: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hvh: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vhv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n      },\n      polygon: {\n        polygon: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n      },\n      point: {\n        circle: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        square: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        bowtie: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        diamond: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        hexagon: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        triangle: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        'triangle-down': {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        'hollow-circle': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-square': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-bowtie': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-diamond': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-hexagon': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-triangle': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-triangle-down': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        cross: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        tick: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        plus: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        hyphen: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n      },\n      area: {\n        area: {\n          default: {\n            style: shapeStyles.area.default,\n          },\n          active: {\n            style: shapeStyles.area.active,\n          },\n          inactive: {\n            style: shapeStyles.area.inactive,\n          },\n          selected: {\n            style: shapeStyles.area.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.area.default,\n          },\n          active: {\n            style: shapeStyles.area.active,\n          },\n          inactive: {\n            style: shapeStyles.area.inactive,\n          },\n          selected: {\n            style: shapeStyles.area.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n        'smooth-line': {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n      },\n      schema: {\n        candle: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        box: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n      },\n      edge: {\n        line: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vhv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        arc: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n      },\n      violin: {\n        violin: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hollow: {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n        'hollow-smooth': {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n      },\n    },\n    components: {\n      axis: {\n        common: axisStyles,\n        top: {\n          position: 'top',\n          grid: null,\n          title: null,\n          verticalLimitLength: 1 / 2,\n        },\n        bottom: {\n          position: 'bottom',\n          grid: null,\n          title: null,\n          verticalLimitLength: 1 / 2,\n        },\n        left: {\n          position: 'left',\n          title: null,\n          line: null,\n          tickLine: null,\n          verticalLimitLength: 1 / 3,\n        },\n        right: {\n          position: 'right',\n          title: null,\n          line: null,\n          tickLine: null,\n          verticalLimitLength: 1 / 3,\n        },\n        circle: {\n          title: null,\n          grid: deepMix({}, axisStyles.grid, { line: { type: 'line' } }),\n        },\n        radius: {\n          title: null,\n          grid: deepMix({}, axisStyles.grid, { line: { type: 'circle' } }),\n        },\n      },\n      legend: {\n        common: legendStyles,\n        right: {\n          layout: 'vertical',\n          padding: styleSheet.legendVerticalPadding,\n        },\n        left: {\n          layout: 'vertical',\n          padding: styleSheet.legendVerticalPadding,\n        },\n        top: {\n          layout: 'horizontal',\n          padding: styleSheet.legendHorizontalPadding,\n        },\n        bottom: {\n          layout: 'horizontal',\n          padding: styleSheet.legendHorizontalPadding,\n        },\n        continuous: {\n          title: null,\n          background: null,\n          track: {},\n          rail: {\n            type: 'color',\n            size: styleSheet.sliderRailHeight,\n            defaultLength: styleSheet.sliderRailWidth,\n            style: {\n              fill: styleSheet.sliderRailFillColor,\n              stroke: styleSheet.sliderRailBorderColor,\n              lineWidth: styleSheet.sliderRailBorder,\n            },\n          },\n          label: {\n            align: 'rail',\n            spacing: 4, //  rail \n            formatter: null,\n            style: {\n              fill: styleSheet.sliderLabelTextFillColor,\n              fontSize: styleSheet.sliderLabelTextFontSize,\n              lineHeight: styleSheet.sliderLabelTextLineHeight,\n              textBaseline: 'middle',\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          handler: {\n            size: styleSheet.sliderHandlerWidth,\n            style: {\n              fill: styleSheet.sliderHandlerFillColor,\n              stroke: styleSheet.sliderHandlerBorderColor,\n            },\n          },\n          slidable: true,\n          padding: legendStyles.padding,\n        },\n      },\n      tooltip: {\n        showContent: true,\n        follow: true,\n        showCrosshairs: false,\n        showMarkers: true,\n        shared: false,\n        enterable: false,\n        position: 'auto',\n        marker: {\n          symbol: 'circle',\n          stroke: '#fff',\n          shadowBlur: 10,\n          shadowOffsetX: 0,\n          shadowOffsetY: 0,\n          shadowColor: 'rgba(0,0,0,0.09)',\n          lineWidth: 2,\n          r: 4,\n        },\n        crosshairs: {\n          line: {\n            style: {\n              stroke: styleSheet.tooltipCrosshairsBorderColor,\n              lineWidth: styleSheet.tooltipCrosshairsBorder,\n            },\n          },\n          text: null,\n          textBackground: {\n            padding: 2,\n            style: {\n              fill: 'rgba(0, 0, 0, 0.25)',\n              lineWidth: 0,\n              stroke: null,\n            },\n          },\n          follow: false,\n        },\n        // tooltip dom \n        domStyles: {\n          [`${TOOLTIP_CSS_CONST.CONTAINER_CLASS}`]: {\n            position: 'absolute',\n            visibility: 'hidden',\n            zIndex: 8,\n            transition: 'left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s',\n            backgroundColor: styleSheet.tooltipContainerFillColor,\n            opacity: styleSheet.tooltipContainerFillOpacity,\n            boxShadow: styleSheet.tooltipContainerShadow,\n            borderRadius: `${styleSheet.tooltipContainerBorderRadius}px`,\n            color: styleSheet.tooltipTextFillColor,\n            fontSize: `${styleSheet.tooltipTextFontSize}px`,\n            fontFamily: styleSheet.fontFamily,\n            lineHeight: `${styleSheet.tooltipTextLineHeight}px`,\n            padding: '0 12px 0 12px',\n          },\n          [`${TOOLTIP_CSS_CONST.TITLE_CLASS}`]: {\n            marginBottom: '12px',\n            marginTop: '12px',\n          },\n          [`${TOOLTIP_CSS_CONST.LIST_CLASS}`]: {\n            margin: 0,\n            listStyleType: 'none',\n            padding: 0,\n          },\n          [`${TOOLTIP_CSS_CONST.LIST_ITEM_CLASS}`]: {\n            listStyleType: 'none',\n            padding: 0,\n            marginBottom: '12px',\n            marginTop: '12px',\n            marginLeft: 0,\n            marginRight: 0,\n          },\n          [`${TOOLTIP_CSS_CONST.MARKER_CLASS}`]: {\n            width: '8px',\n            height: '8px',\n            borderRadius: '50%',\n            display: 'inline-block',\n            marginRight: '8px',\n          },\n          [`${TOOLTIP_CSS_CONST.VALUE_CLASS}`]: {\n            display: 'inline-block',\n            float: 'right',\n            marginLeft: '30px',\n          },\n        },\n      },\n      annotation: {\n        arc: {\n          style: {\n            stroke: styleSheet.annotationArcBorderColor,\n            lineWidth: styleSheet.annotationArcBorder,\n          },\n          animate: true,\n        },\n        line: {\n          style: {\n            stroke: styleSheet.annotationLineBorderColor,\n            lineDash: styleSheet.annotationLineDash,\n            lineWidth: styleSheet.annotationLineBorder,\n          },\n          text: {\n            position: 'start',\n            autoRotate: true,\n            style: {\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              textAlign: 'start',\n              fontFamily: styleSheet.fontFamily,\n              textBaseline: 'bottom',\n            },\n          },\n          animate: true,\n        },\n        text: {\n          style: {\n            fill: styleSheet.annotationTextFillColor,\n            stroke: styleSheet.annotationTextBorderColor,\n            lineWidth: styleSheet.annotationTextBorder,\n            fontSize: styleSheet.annotationTextFontSize,\n            textBaseline: 'middle',\n            textAlign: 'start',\n            fontFamily: styleSheet.fontFamily,\n          },\n          animate: true,\n        },\n        region: {\n          top: false,\n          style: {\n            lineWidth: styleSheet.annotationRegionBorder,\n            stroke: styleSheet.annotationRegionBorderColor,\n            fill: styleSheet.annotationRegionFillColor,\n            fillOpacity: styleSheet.annotationRegionFillOpacity,\n          }, // \n          animate: true,\n        },\n        image: {\n          top: false,\n          animate: true,\n        },\n        dataMarker: {\n          top: true,\n          point: {\n            style: {\n              r: 3,\n              stroke: styleSheet.brandColor,\n              lineWidth: 2,\n            },\n          },\n          line: {\n            style: {\n              stroke: styleSheet.annotationLineBorderColor,\n              lineWidth: styleSheet.annotationLineBorder,\n            },\n            length: styleSheet.annotationDataMarkerLineLength,\n          },\n          text: {\n            style: {\n              textAlign: 'start',\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          direction: 'upward',\n          autoAdjust: true,\n          animate: true,\n        },\n        dataRegion: {\n          style: {\n            region: {\n              fill: styleSheet.annotationRegionFillColor,\n              fillOpacity: styleSheet.annotationRegionFillOpacity,\n            },\n            text: {\n              textAlign: 'center',\n              textBaseline: 'bottom',\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          animate: true,\n        },\n      },\n      slider: {\n        common: {\n          padding: [8, 8, 8, 8],\n          backgroundStyle: {\n            fill: styleSheet.cSliderBackgroundFillColor,\n            opacity: styleSheet.cSliderBackgroundFillOpacity,\n          },\n          foregroundStyle: {\n            fill: styleSheet.cSliderForegroundFillColor,\n            opacity: styleSheet.cSliderForegroundFillOpacity,\n          },\n          handlerStyle: {\n            width: styleSheet.cSliderHandlerWidth,\n            height: styleSheet.cSliderHandlerHeight,\n            fill: styleSheet.cSliderHandlerFillColor,\n            opacity: styleSheet.cSliderHandlerFillOpacity,\n            stroke: styleSheet.cSliderHandlerBorderColor,\n            lineWidth: styleSheet.cSliderHandlerBorder,\n            radius: styleSheet.cSliderHandlerBorderRadius,\n            // \n            highLightFill: styleSheet.cSliderHandlerHighlightFillColor,\n          },\n          textStyle: {\n            fill: styleSheet.cSliderTextFillColor,\n            opacity: styleSheet.cSliderTextFillOpacity,\n            fontSize: styleSheet.cSliderTextFontSize,\n            lineHeight: styleSheet.cSliderTextLineHeight,\n            fontWeight: styleSheet.cSliderTextFontWeight,\n            stroke: styleSheet.cSliderTextBorderColor,\n            lineWidth: styleSheet.cSliderTextBorder,\n          },\n        },\n      },\n      scrollbar: {\n        common: {\n          padding: [8, 8, 8, 8],\n        },\n        default: {\n          style: {\n            trackColor: styleSheet.scrollbarTrackFillColor,\n            thumbColor: styleSheet.scrollbarThumbFillColor,\n          },\n        },\n        hover: {\n          style: {\n            thumbColor: styleSheet.scrollbarThumbHighlightFillColor,\n          },\n        },\n      },\n    },\n    labels: {\n      offset: 12,\n      style: {\n        fill: styleSheet.labelFillColor,\n        fontSize: styleSheet.labelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.labelBorderColor,\n        lineWidth: styleSheet.labelBorder,\n      },\n      fillColorDark: styleSheet.labelFillColorDark,\n      fillColorLight: styleSheet.labelFillColorLight,\n      autoRotate: true,\n    },\n    innerLabels: {\n      style: {\n        fill: styleSheet.innerLabelFillColor,\n        fontSize: styleSheet.innerLabelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.innerLabelBorderColor,\n        lineWidth: styleSheet.innerLabelBorder,\n      },\n      autoRotate: true,\n    },\n    overflowLabels: {\n      style: {\n        fill: styleSheet.overflowLabelFillColor,\n        fontSize: styleSheet.overflowLabelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.overflowLabelBorderColor,\n        lineWidth: styleSheet.overflowLabelBorder,\n      },\n    },\n    pieLabels: {\n      labelHeight: 14,\n      offset: 10,\n      labelLine: {\n        style: {\n          lineWidth: styleSheet.labelLineBorder,\n        },\n      },\n      autoRotate: true,\n    },\n  };\n}\n","import { StyleSheetCfg } from '../../interface';\n\nconst BLACK_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst WHITE_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#6F5EF9',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#6F5EF9',\n  '#D3CEFD',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\n/**  */\nconst SINGLE_SEQUENCE = [\n  '#B8E1FF',\n  '#9AC5FF',\n  '#7DAAFF',\n  '#5B8FF9',\n  '#3D76DD',\n  '#085EC0',\n  '#0047A5',\n  '#00318A',\n  '#001D70',\n];\n\nexport const createLightStyleSheet = (cfg: StyleSheetCfg = {}) => {\n  const { paletteQualitative10 = QUALITATIVE_10, paletteQualitative20 = QUALITATIVE_20 } = cfg;\n  const { brandColor = paletteQualitative10[0] } = cfg;\n\n  const token = {\n    /**  */\n    backgroundColor: 'transparent',\n    /**  */\n    brandColor,\n    /**  */\n    subColor: 'rgba(0,0,0,0.05)',\n    /**  1 10  */\n    paletteQualitative10,\n    /**  2 10  */\n    paletteQualitative20,\n    /**  */\n    paletteSemanticRed: '#F4664A',\n    /**  */\n    paletteSemanticGreen: '#30BF78',\n    /**  */\n    paletteSemanticYellow: '#FAAD14',\n    /** () */\n    paletteSequence: SINGLE_SEQUENCE,\n    /**  */\n    fontFamily: `\"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n    \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n    \"Noto Color Emoji\"`,\n\n    // --------------------  --------------------\n    /**  */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisLineBorder: 1,\n    /**  lineDash  */\n    axisLineDash: null,\n\n    /**  */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /**  */\n    axisTitleTextFontSize: 12,\n    /**  */\n    axisTitleTextLineHeight: 12,\n    /**  */\n    axisTitleTextFontWeight: 'normal',\n    /**  */\n    axisTitleSpacing: 12,\n    /** icon */\n    axisDescriptionIconFillColor: WHITE_COLORS[85],\n\n    /**  */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisTickLineLength: 4,\n    /**  */\n    axisTickLineBorder: 1,\n\n    /**  */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisSubTickLineLength: 2,\n    /**  */\n    axisSubTickLineBorder: 1,\n\n    /**  */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /**  */\n    axisLabelFontSize: 12,\n    /**  */\n    axisLabelLineHeight: 12,\n    /**  */\n    axisLabelFontWeight: 'normal',\n    /**  */\n    axisLabelOffset: 8,\n\n    /**  */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisGridBorder: 1,\n    /**  */\n    axisGridLineDash: null,\n\n    // --------------------  --------------------\n    /**  */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendTitleTextFontSize: 12,\n    /**  */\n    legendTitleTextLineHeight: 21,\n    /**  */\n    legendTitleTextFontWeight: 'normal',\n\n    /**  marker  */\n    legendMarkerColor: brandColor,\n    /**  marker  */\n    legendMarkerSpacing: 8,\n    /**  marker  */\n    legendMarkerSize: 4,\n    /**  'circle' marker  */\n    legendCircleMarkerSize: 4,\n    /**  'square' marker  */\n    legendSquareMarkerSize: 4,\n    /**  'line' marker  */\n    legendLineMarkerSize: 5,\n\n    /**  */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /**  */\n    legendItemNameFontSize: 12,\n    /**  */\n    legendItemNameLineHeight: 12,\n    /**  */\n    legendItemNameFontWeight: 'normal',\n    /**  */\n    legendItemSpacing: 24,\n    /**  */\n    legendItemMarginBottom: 12,\n    /**   */\n    legendPadding: [8, 8, 8, 8],\n    /**  */\n    legendHorizontalPadding: [8, 0, 8, 0],\n    /**  */\n    legendVerticalPadding: [0, 8, 0, 8],\n\n    // \n    /**  marker  */\n    legendPageNavigatorMarkerSize: 12,\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillColor: BLACK_COLORS[100],\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillOpacity: 0.45,\n    /**  marker  */\n    legendPageNavigatorMarkerFillColor: BLACK_COLORS[100],\n    /**  marker  */\n    legendPageNavigatorMarkerFillOpacity: 1,\n    /**  */\n    legendPageNavigatorTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendPageNavigatorTextFontSize: 12,\n\n    /**  */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /**  */\n    sliderRailBorder: 0,\n    /**  */\n    sliderRailBorderColor: null,\n    /**  */\n    sliderRailWidth: 100,\n    /**  */\n    sliderRailHeight: 12,\n\n    /**  */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /**  */\n    sliderLabelTextFontSize: 12,\n    /**  */\n    sliderLabelTextLineHeight: 12,\n    /**  */\n    sliderLabelTextFontWeight: 'normal',\n\n    /**  */\n    sliderHandlerFillColor: BLACK_COLORS[6],\n    /**  */\n    sliderHandlerWidth: 10,\n    /**  */\n    sliderHandlerHeight: 14,\n    /**  */\n    sliderHandlerBorder: 1,\n    /**  */\n    sliderHandlerBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Annotation --------------------\n    /** arc  */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc  */\n    annotationArcBorder: 1,\n\n    /** line  */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line  */\n    annotationLineBorder: 1,\n    /** lube  */\n    annotationLineDash: null,\n\n    /** text  */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text  */\n    annotationTextFontSize: 12,\n    /** text  */\n    annotationTextLineHeight: 12,\n    /** text  */\n    annotationTextFontWeight: 'normal',\n    /** text  */\n    annotationTextBorderColor: null,\n    /** text  */\n    annotationTextBorder: 0,\n\n    /** region  */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region  */\n    annotationRegionFillOpacity: 0.06,\n    /** region  */\n    annotationRegionBorder: 0,\n    /** region  */\n    annotationRegionBorderColor: null,\n\n    /** dataMarker  */\n    annotationDataMarkerLineLength: 16,\n\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs  */\n    tooltipCrosshairsLineDash: null,\n\n    /** tooltip  */\n    tooltipContainerFillColor: 'rgb(255, 255, 255)',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip  */\n    tooltipContainerShadow: '0px 0px 10px #aeaeae',\n    /** tooltip  */\n    tooltipContainerBorderRadius: 3,\n\n    /** tooltip  */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip  */\n    tooltipTextFontSize: 12,\n    /** tooltip  */\n    tooltipTextLineHeight: 12,\n    /** tooltip  */\n    tooltipTextFontWeight: 'bold',\n\n    // -------------------- Geometry labels --------------------\n    /** Geometry label  */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    labelFontSize: 12,\n    /** Geometry label  */\n    labelLineHeight: 12,\n    /** Geometry label  */\n    labelFontWeight: 'normal',\n    /** Geometry label  */\n    labelBorderColor: null,\n    /** Geometry label  */\n    labelBorder: 0,\n\n    /** Geometry innerLabel  */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel  */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel  */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel  */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel  */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel  */\n    innerLabelBorder: 0,\n\n    /** Geometry overflowLabel  */\n    overflowLabelFillColor: BLACK_COLORS[65],\n    /** Geometry overflowLabel  */\n    overflowLabelFontSize: 12,\n    /** Geometry overflowLabel  */\n    overflowLabelLineHeight: 12,\n    /** Geometry overflowLabel  */\n    overflowLabelFontWeight: 'normal',\n    /** Geometry overflowLabel  */\n    overflowLabelBorderColor: WHITE_COLORS[100],\n    /** Geometry overflowLabel  */\n    overflowLabelBorder: 1,\n\n    /** Geometry label  */\n    labelLineBorder: 1,\n    /** Geometry label  */\n    labelLineBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Slider --------------------\n    /** slider  */\n    cSliderRailHieght: 16,\n    /** slider  */\n    cSliderBackgroundFillColor: '#416180',\n    /** slider  */\n    cSliderBackgroundFillOpacity: 0.05,\n    /** slider  */\n    cSliderForegroundFillColor: '#5B8FF9',\n    /** slider  */\n    cSliderForegroundFillOpacity: 0.15,\n    // slider handlerStyle \n    /** slider  */\n    cSliderHandlerHeight: 24,\n    /** Slider  */\n    cSliderHandlerWidth: 10,\n    /** Slider  */\n    cSliderHandlerFillColor: '#F7F7F7',\n    /** Slider  */\n    cSliderHandlerFillOpacity: 1,\n    /** Slider  */\n    cSliderHandlerHighlightFillColor: '#FFF',\n    /** Slider  */\n    cSliderHandlerBorderColor: '#BFBFBF',\n    /** Slider  */\n    cSliderHandlerBorder: 1,\n    /** Slider  */\n    cSliderHandlerBorderRadius: 2,\n    // slider textStyle \n    /** Slider  */\n    cSliderTextFillColor: '#000',\n    /** Slider  */\n    cSliderTextFillOpacity: 0.45,\n    /** Slider  */\n    cSliderTextFontSize: 12,\n    /** Slider  */\n    cSliderTextLineHeight: 12,\n    /** Slider  */\n    cSliderTextFontWeight: 'normal',\n    /** Slider  */\n    cSliderTextBorderColor: null,\n    /** Slider  */\n    cSliderTextBorder: 0,\n\n    // -------------------- Scrollbar --------------------\n    /**   */\n    scrollbarTrackFillColor: 'rgba(0,0,0,0)',\n    /**   */\n    scrollbarThumbFillColor: 'rgba(0,0,0,0.15)',\n    /**   */\n    scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.2)',\n\n    // -------------------- Geometry --------------------\n    /**  */\n    pointFillColor: brandColor,\n    /**  */\n    pointFillOpacity: 0.95,\n    /**  */\n    pointSize: 4,\n    /**  */\n    pointBorder: 1,\n    /**  */\n    pointBorderColor: WHITE_COLORS[100],\n    /**  */\n    pointBorderOpacity: 1,\n\n    /**  active  */\n    pointActiveBorderColor: BLACK_COLORS[100],\n\n    /**  selected  */\n    pointSelectedBorder: 2,\n    /**  selected  */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n\n    /**  inactive  */\n    pointInactiveFillOpacity: 0.3,\n    /**  inactive  */\n    pointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    hollowPointSize: 4,\n    /**  */\n    hollowPointBorder: 1,\n    /**  */\n    hollowPointBorderColor: brandColor,\n    /**  */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n\n    /**  active  */\n    hollowPointActiveBorder: 1,\n    /**  active  */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /**  active  */\n    hollowPointActiveBorderOpacity: 1,\n\n    /**  selected  */\n    hollowPointSelectedBorder: 2,\n    /**  selected  */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /**  selected  */\n    hollowPointSelectedBorderOpacity: 1,\n\n    /**  inactive  */\n    hollowPointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    lineBorder: 2,\n    /**  */\n    lineBorderColor: brandColor,\n    /**  */\n    lineBorderOpacity: 1,\n\n    /**  Active  */\n    lineActiveBorder: 3,\n\n    /**  selected  */\n    lineSelectedBorder: 3,\n\n    /**  inactive  */\n    lineInactiveBorderOpacity: 0.3,\n\n    /** area  */\n    areaFillColor: brandColor,\n    /** area  */\n    areaFillOpacity: 0.25,\n\n    /** area  active  */\n    areaActiveFillColor: brandColor,\n    areaActiveFillOpacity: 0.5,\n\n    /** area  selected  */\n    areaSelectedFillColor: brandColor,\n    areaSelectedFillOpacity: 0.5,\n\n    /** area inactive  */\n    areaInactiveFillOpacity: 0.3,\n\n    /** hollowArea  */\n    hollowAreaBorderColor: brandColor,\n    /** hollowArea  */\n    hollowAreaBorder: 2,\n    /** hollowArea  */\n    hollowAreaBorderOpacity: 1,\n\n    /** hollowArea active  */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea selected  */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea inactive  */\n    hollowAreaInactiveBorderOpacity: 0.3,\n\n    /** interval  */\n    intervalFillColor: brandColor,\n    /** interval  */\n    intervalFillOpacity: 0.95,\n\n    /** interval active  */\n    intervalActiveBorder: 1,\n    /** interval active  */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n\n    /** interval selected  */\n    intervalSelectedBorder: 2,\n    /** interval selected  */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected  */\n    intervalSelectedBorderOpacity: 1,\n\n    /** interval inactive  */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive  */\n    intervalInactiveFillOpacity: 0.3,\n\n    /** interval  */\n    hollowIntervalBorder: 2,\n    /** hollowInterval  */\n    hollowIntervalBorderColor: brandColor,\n    /** hollowInterval  */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n\n    /** hollowInterval active  */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active  */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderOpacity: 1,\n\n    /** hollowInterval inactive  */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n  };\n\n  return { ...token, ...cfg };\n};\n\nexport const antvLight = createLightStyleSheet();\n","import { deepMix } from '@antv/util';\nimport { createThemeByStyleSheet } from './create-by-style-sheet';\nimport { createLightStyleSheet } from '../style-sheet/light';\nimport { LooseObject, StyleSheetCfg } from '../../interface';\n\ninterface ThemeCfg extends LooseObject {\n  styleSheet?: StyleSheetCfg;\n}\n\nexport function createTheme(themeCfg: ThemeCfg): LooseObject {\n  const { styleSheet: styleSheetCfg = {}, ...themeObject } = themeCfg;\n\n  //   ( light )\n  const styleSheet = createLightStyleSheet(styleSheetCfg);\n  //  \n  return deepMix({}, createThemeByStyleSheet(styleSheet), themeObject);\n}\n","import { get, lowerCase } from '@antv/util';\nimport { LooseObject } from '../interface';\n\nimport { createTheme } from './util';\n\nconst defaultTheme = createTheme({});\n\n// \nconst Themes: Record<string, LooseObject> = {\n  default: defaultTheme,\n};\n\n/**\n * \n * @param theme \n */\nexport function getTheme(theme?: string): LooseObject {\n  return get(Themes, lowerCase(theme), Themes.default);\n}\n\n/**\n * \n * @param theme \n * @param value \n */\nexport function registerTheme(theme: string, value: LooseObject) {\n  Themes[lowerCase(theme)] = createTheme(value);\n}\n","import {\n  contains,\n  filter,\n  find,\n  isArray,\n  isEmpty,\n  isFunction,\n  isNil,\n  isNumberEqual,\n  isObject,\n  memoize,\n  get,\n  values,\n} from '@antv/util';\nimport { View } from '../chart';\nimport { FIELD_ORIGIN, GROUP_ATTRS } from '../constant';\nimport { Attribute, Scale } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { Data, Datum, MappingDatum, Point, TooltipCfg, TooltipTitle } from '../interface';\nimport { getName, inferScaleType } from './scale';\n\nfunction snapEqual(v1: any, v2: any, scale: Scale) {\n  const value1 = scale.translate(v1);\n  const value2 = scale.translate(v2);\n\n  return isNumberEqual(value1, value2);\n}\n\nfunction getXValueByPoint(point: Point, geometry: Geometry): number {\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const range = xScale.range;\n  const rangeMax = range[range.length - 1];\n  const rangeMin = range[0];\n\n  const invertPoint = coordinate.invert(point);\n\n  let xValue = invertPoint.x;\n  if (coordinate.isPolar && xValue > (1 + rangeMax) / 2) {\n    xValue = rangeMin; // scale  range \n  }\n  return xScale.translate(xScale.invert(xValue));\n}\n\nfunction filterYValue(data: Data, point: Point, geometry: Geometry) {\n  const coordinate = geometry.coordinate;\n  const yScale = geometry.getYScale();\n  const yField = yScale.field;\n  const invertPoint = coordinate.invert(point);\n  const yValue = yScale.invert(invertPoint.y);\n\n  const result = find(data, (obj: Datum) => {\n    const originData = obj[FIELD_ORIGIN];\n    return originData[yField][0] <= yValue && originData[yField][1] >= yValue;\n  });\n  return result || data[data.length - 1];\n}\n\nconst getXDistance = memoize((scale: Scale) => {\n  if (scale.isCategory) {\n    return 1;\n  }\n  const scaleValues = scale.values; // values \n  const length = scaleValues.length;\n  let min = scale.translate(scaleValues[0]);\n  let max = min;\n\n  for (let index = 0; index < length; index++) {\n    const value = scaleValues[index];\n    //  translate\n    const numericValue = scale.translate(value);\n    if (numericValue < min) {\n      min = numericValue;\n    }\n    if (numericValue > max) {\n      max = numericValue;\n    }\n  }\n  return (max - min) / (length - 1);\n});\n\n/**\n *  tooltip  title\n * @param originData\n * @param geometry\n * @param title\n */\nfunction getTooltipTitle(originData: Datum, geometry: Geometry, title: TooltipTitle): string {\n  const positionAttr = geometry.getAttribute('position');\n  const fields = positionAttr.getFields();\n  const scales = geometry.scales;\n\n  const titleField = isFunction(title) || !title ? fields[0] : title;\n  const titleScale = scales[titleField];\n\n  //  scale scale.getText() \n  //  scale title \n  const tooltipTitle = titleScale ? titleScale.getText(originData[titleField]) : originData[titleField] || titleField;\n\n  return isFunction(title) ? title(tooltipTitle, originData) : tooltipTitle;\n}\n\nfunction getAttributesForLegend(geometry: Geometry) {\n  const attributes = values(geometry.attributes);\n  return filter(attributes, (attribute: Attribute) => contains(GROUP_ATTRS, attribute.type));\n}\n\nfunction getTooltipValueScale(geometry: Geometry) {\n  const attributes = getAttributesForLegend(geometry);\n  let scale;\n  for (const attribute of attributes) {\n    const tmpScale = attribute.getScale(attribute.type);\n    if (tmpScale && tmpScale.isLinear) {\n      const tmpScaleDef = get(geometry.scaleDefs, tmpScale.field);\n      const inferedScaleType = inferScaleType(tmpScale, tmpScaleDef, attribute.type, geometry.type);\n      if (inferedScaleType !== 'cat') {\n        //  position \n        scale = tmpScale;\n        break;\n      }\n    }\n  }\n\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  return scale || yScale || xScale;\n}\n\nfunction getTooltipValue(originData: Datum, valueScale: Scale) {\n  const field = valueScale.field;\n  const value = originData[field];\n\n  if (isArray(value)) {\n    const texts = value.map((eachValue) => {\n      return valueScale.getText(eachValue);\n    });\n    return texts.join('-');\n  }\n  return valueScale.getText(value);\n}\n\n//  tooltip item  name \nfunction getTooltipName(originData: Datum, geometry: Geometry) {\n  let nameScale: Scale;\n  const groupScales = geometry.getGroupScales();\n  if (groupScales.length) {\n    // \n    nameScale = groupScales[0];\n  }\n  if (nameScale) {\n    const field = nameScale.field;\n    return nameScale.getText(originData[field]);\n  }\n\n  const valueScale = getTooltipValueScale(geometry);\n  return getName(valueScale);\n}\n\n/**\n * @ignore\n * Finds data from geometry by point\n * @param point canvas point\n * @param data an item of geometry.dataArray\n * @param geometry\n * @returns\n */\nexport function findDataByPoint(point: Point, data: MappingDatum[], geometry: Geometry) {\n  if (data.length === 0) {\n    return null;\n  }\n\n  const geometryType = geometry.type;\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  const xField = xScale.field;\n  const yField = yScale.field;\n\n  let rst = null;\n\n  //  point \n  if (geometryType === 'heatmap' || geometryType === 'point') {\n    //  point \n    const coordinate = geometry.coordinate;\n    const invertPoint = coordinate.invert(point); // \n    const x = xScale.invert(invertPoint.x); // \n    const y = yScale.invert(invertPoint.y); // \n\n    let min = Infinity;\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const originData = obj[FIELD_ORIGIN];\n      const range = (originData[xField] - x) ** 2 + (originData[yField] - y) ** 2;\n      if (range < min) {\n        min = range;\n        rst = obj;\n      }\n    }\n\n    return rst;\n  }\n\n  //  Geometry  x \n  const first = data[0];\n  let last = data[data.length - 1];\n  const xValue = getXValueByPoint(point, geometry);\n  const firstXValue = first[FIELD_ORIGIN][xField];\n  const firstYValue = first[FIELD_ORIGIN][yField];\n  const lastXValue = last[FIELD_ORIGIN][xField];\n  const isYArray = yScale.isLinear && isArray(firstYValue); //  x y \n\n  //  x \n  if (isArray(firstXValue)) {\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const originData = record[FIELD_ORIGIN];\n      // xValue  originData[xField] \n      if (xScale.translate(originData[xField][0]) <= xValue && xScale.translate(originData[xField][1]) >= xValue) {\n        if (isYArray) {\n          // x  y \n          if (!isArray(rst)) {\n            rst = [];\n          }\n          rst.push(record);\n        } else {\n          rst = record;\n          break;\n        }\n      }\n    }\n    if (isArray(rst)) {\n      rst = filterYValue(rst, point, geometry);\n    }\n  } else {\n    let next;\n    if (!xScale.isLinear && xScale.type !== 'timeCat') {\n      // x \n      for (let index = 0; index < data.length; index++) {\n        const record = data[index];\n        const originData = record[FIELD_ORIGIN];\n        if (snapEqual(originData[xField], xValue, xScale)) {\n          if (isYArray) {\n            if (!isArray(rst)) {\n              rst = [];\n            }\n            rst.push(record);\n          } else {\n            rst = record;\n            break;\n          }\n        } else if (xScale.translate(originData[xField]) <= xValue) {\n          last = record;\n          next = data[index + 1];\n        }\n      }\n\n      if (isArray(rst)) {\n        rst = filterYValue(rst, point, geometry);\n      }\n    } else {\n      // x \n      if (\n        (xValue > xScale.translate(lastXValue) || xValue < xScale.translate(firstXValue)) &&\n        (xValue > xScale.max || xValue < xScale.min)\n      ) {\n        // \n        return null;\n      }\n\n      let firstIdx = 0;\n      let lastIdx = data.length - 1;\n      let middleIdx;\n      while (firstIdx <= lastIdx) {\n        middleIdx = Math.floor((firstIdx + lastIdx) / 2);\n        const item = data[middleIdx][FIELD_ORIGIN][xField];\n        if (snapEqual(item, xValue, xScale)) {\n          return data[middleIdx];\n        }\n\n        if (xScale.translate(item) <= xScale.translate(xValue)) {\n          firstIdx = middleIdx + 1;\n          last = data[middleIdx];\n          next = data[middleIdx + 1];\n        } else {\n          if (lastIdx === 0) {\n            last = data[0];\n          }\n          lastIdx = middleIdx - 1;\n        }\n      }\n    }\n\n    if (last && next) {\n      // \n      if (\n        Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) >\n        Math.abs(xScale.translate(next[FIELD_ORIGIN][xField]) - xValue)\n      ) {\n        last = next;\n      }\n    }\n  }\n\n  const distance = getXDistance(geometry.getXScale()); // \n  if (!rst && Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) <= distance / 2) {\n    rst = last;\n  }\n\n  return rst;\n}\n\n/**\n * @ignore\n * Gets tooltip items\n * @param data\n * @param geometry\n * @param [title]\n * @returns\n */\nexport function getTooltipItems(\n  data: MappingDatum,\n  geometry: Geometry,\n  title: TooltipTitle = '',\n  showNil: boolean = false\n) {\n  const originData = data[FIELD_ORIGIN];\n  const tooltipTitle = getTooltipTitle(originData, geometry, title);\n  const tooltipOption = geometry.tooltipOption;\n  const { defaultColor } = geometry.theme;\n  const items = [];\n  let name;\n  let value;\n\n  function addItem(itemName, itemValue) {\n    if (showNil || (!isNil(itemValue) && itemValue !== '')) {\n      //  null\n      const item = {\n        title: tooltipTitle,\n        data: originData, // \n        mappingData: data, // \n        name: itemName,\n        value: itemValue,\n        color: data.color || defaultColor,\n        marker: true,\n      };\n\n      items.push(item);\n    }\n  }\n\n  if (isObject(tooltipOption)) {\n    const { fields, callback } = tooltipOption;\n    if (callback) {\n      // \n      const callbackParams = fields.map((field: string) => {\n        return data[FIELD_ORIGIN][field];\n      });\n      const cfg = callback(...callbackParams);\n      const itemCfg = {\n        data: data[FIELD_ORIGIN], // \n        mappingData: data, // \n        title: tooltipTitle,\n        color: data.color || defaultColor,\n        marker: true, //  marker\n        ...cfg,\n      };\n\n      items.push(itemCfg);\n    } else {\n      const scales = geometry.scales;\n      for (const field of fields) {\n        if (!isNil(originData[field])) {\n          // null, undefined \n          const scale = scales[field];\n          name = getName(scale);\n          value = scale.getText(originData[field]);\n          addItem(name, value);\n        }\n      }\n    }\n  } else {\n    const valueScale = getTooltipValueScale(geometry);\n    // null ,undefined\n    value = getTooltipValue(originData, valueScale);\n    name = getTooltipName(originData, geometry);\n    addItem(name, value);\n  }\n  return items;\n}\n\nfunction getTooltipItemsByFindData(geometry: Geometry, point, title, tooltipCfg: TooltipCfg) {\n  const { showNil } = tooltipCfg;\n  const result = [];\n  const dataArray = geometry.dataArray;\n  if (!isEmpty(dataArray)) {\n    geometry.sort(dataArray); //  tooltip \n    for (const data of dataArray) {\n      const record = findDataByPoint(point, data, geometry);\n      if (record) {\n        const elementId = geometry.getElementId(record);\n        const element = geometry.elementsMap[elementId];\n        if (geometry.type === 'heatmap' || element.visible) {\n          // Heatmap  Element\n          //  tooltip \n          const items = getTooltipItems(record, geometry, title, showNil);\n          if (items.length) {\n            result.push(items);\n          }\n        }\n      }\n    }\n  }\n\n  return result;\n}\n\nfunction getTooltipItemsByHitShape(geometry, point, title, tooltipCfg: TooltipCfg) {\n  const { showNil } = tooltipCfg;\n  const result = [];\n  const container = geometry.container;\n  const shape = container.getShape(point.x, point.y);\n  if (shape && shape.get('visible') && shape.get('origin')) {\n    const mappingData = shape.get('origin').mappingData;\n    const items = getTooltipItems(mappingData, geometry, title, showNil);\n    if (items.length) {\n      result.push(items);\n    }\n  }\n\n  return result;\n}\n\n/**\n * \n */\nexport function findItemsFromView(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  const result = [];\n  //  view \n  const geometries = view.geometries;\n  const { shared, title, reversed } = tooltipCfg;\n  for (const geometry of geometries) {\n    if (geometry.visible && geometry.tooltipOption !== false) {\n      // geometry  tooltip\n      const geometryType = geometry.type;\n      let tooltipItems;\n      if (['point', 'edge', 'polygon'].includes(geometryType)) {\n        // \n        tooltipItems = getTooltipItemsByHitShape(geometry, point, title, tooltipCfg);\n      } else if (['area', 'line', 'path', 'heatmap'].includes(geometryType)) {\n        //  'area', 'line', 'path' tooltip\n        tooltipItems = getTooltipItemsByFindData(geometry, point, title, tooltipCfg);\n      } else {\n        if (shared !== false) {\n          tooltipItems = getTooltipItemsByFindData(geometry, point, title, tooltipCfg);\n        } else {\n          tooltipItems = getTooltipItemsByHitShape(geometry, point, title, tooltipCfg);\n        }\n      }\n      if (tooltipItems.length) {\n        if (reversed) {\n          tooltipItems.reverse();\n        }\n        // geometry  item geometry.tooltip('x*y*z')\n        result.push(tooltipItems);\n      }\n    }\n  }\n\n  return result;\n}\n\nexport function findItemsFromViewRecurisive(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  let result = findItemsFromView(view, point, tooltipCfg);\n\n  // \n  for (const childView of view.views) {\n    result = result.concat(findItemsFromView(childView, point, tooltipCfg));\n  }\n\n  return result;\n}\n","import { isArray, isNumber } from '@antv/util';\nimport { Padding, ViewPadding } from '../interface';\n\n/**\n * @ignore\n *  padding\n * @param padding\n */\nexport function isAutoPadding(padding: ViewPadding): padding is 'auto' {\n  return !isNumber(padding) && !isArray(padding);\n}\n\n/**\n * @ignore\n * padding \n * @param padding\n * @return [ top, right, bottom, left ]\n */\nexport function parsePadding(padding: number[] | number = 0): Padding {\n  let paddingArray = isArray(padding) ? padding : [padding];\n\n  switch (paddingArray.length) {\n    case 0:\n      paddingArray = [0, 0, 0, 0];\n      break;\n    case 1:\n      paddingArray = new Array(4).fill(paddingArray[0]);\n      break;\n    case 2:\n      paddingArray = [...paddingArray, ...paddingArray];\n      break;\n    case 3:\n      paddingArray = [...paddingArray, paddingArray[1]];\n      break;\n    default:\n      // \n      paddingArray = paddingArray.slice(0, 4);\n      break;\n  }\n\n  return paddingArray as [number, number, number, number];\n}\n","import { ControllerCtor } from './base';\n\nconst LOAD_COMPONENT_CONTROLLERS: Record<string, ControllerCtor> = {};\n\n/**\n * \n * @param name \n * @param plugin \n * @returns void\n */\nexport function registerComponentController(name: string, plugin: ControllerCtor) {\n  LOAD_COMPONENT_CONTROLLERS[name] = plugin;\n}\n\n/**\n * \n * @param name \n * @returns void\n */\nexport function unregisterComponentController(name: string) {\n  delete LOAD_COMPONENT_CONTROLLERS[name];\n}\n\n/**\n * \n * @returns string[] \n */\nexport function getComponentControllerNames(): string[] {\n  return Object.keys(LOAD_COMPONENT_CONTROLLERS);\n}\n\n/**\n * \n * @param name \n * @returns \n */\nexport function getComponentController(name: string): ControllerCtor {\n  return LOAD_COMPONENT_CONTROLLERS[name];\n}\n","import { each, isNil, some } from '@antv/util';\nimport { Coordinate, getCoordinate, Point } from '../../dependents';\nimport { CoordinateOption } from '../../interface';\n\n/**\n * coordinate controller\n * 1. \n * 2. \n */\nexport default class CoordinateController {\n  private option: CoordinateOption;\n  private coordinate: Coordinate;\n\n  constructor(option?: CoordinateOption) {\n    // \n    this.option = this.wrapperOption(option);\n  }\n\n  /**\n   * \n   * @param option\n   */\n  public update(option: CoordinateOption) {\n    this.option = this.wrapperOption(option);\n    return this;\n  }\n\n  /**\n   *  action\n   * @param actionName\n   */\n  public hasAction(actionName: string) {\n    const { actions } = this.option;\n\n    return some(actions, (action) => action[0] === actionName);\n  }\n  /**\n   * \n   * @param start \n   * @param end   \n   * @return \n   */\n  public create(start: Point, end: Point) {\n    const { type, cfg } = this.option;\n    const isTheta = type === 'theta';\n\n    // 1. \n    const props = {\n      start,\n      end,\n      ...cfg,\n    };\n\n    // 2. \n    const C = getCoordinate(isTheta ? 'polar' : type);\n\n    this.coordinate = new C(props);\n\n    // @ts-ignore FIXME coordinate  type \n    this.coordinate.type = type;\n\n    // 3.  action\n    if (isTheta) {\n      //  transpose action\n      if (!this.hasAction('transpose')) {\n        this.transpose();\n      }\n    }\n\n    // 4.  action\n    this.execActions();\n\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param start \n   * @param end   \n   * @return \n   */\n  public adjust(start: Point, end: Point) {\n    this.coordinate.update({\n      start,\n      end,\n    });\n\n    // \n    // 1.  matrix\n    // 2.  matrix  action\n    this.coordinate.resetMatrix();\n    this.execActions(['scale', 'rotate', 'translate']);\n\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param angle\n   */\n  public rotate(angle: number) {\n    this.option.actions.push(['rotate', angle]);\n    return this;\n  }\n\n  /**\n   * \n   * @param dim\n   */\n  public reflect(dim: 'x' | 'y') {\n    this.option.actions.push(['reflect', dim]);\n    return this;\n  }\n\n  /**\n   * scale\n   * @param sx\n   * @param sy\n   */\n  public scale(sx: number, sy: number) {\n    this.option.actions.push(['scale', sx, sy]);\n    return this;\n  }\n\n  /**\n   * \n   */\n  public transpose() {\n    this.option.actions.push(['transpose']);\n    return this;\n  }\n\n  /**\n   * \n   */\n  public getOption(): CoordinateOption {\n    return this.option;\n  }\n\n  /**\n   *  coordinate \n   */\n  public getCoordinate() {\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param option\n   */\n  private wrapperOption(option: CoordinateOption): CoordinateOption {\n    return {\n      type: 'rect',\n      actions: [],\n      cfg: {},\n      ...option,\n    };\n  }\n\n  /**\n   * coordinate  actions\n   * @params includeActions  action\n   */\n  private execActions(includeActions?: string[]) {\n    const { actions } = this.option;\n\n    each(actions, (action) => {\n      const [actionName, ...args] = action;\n\n      const shouldExec = isNil(includeActions) ? true : includeActions.includes(actionName);\n\n      if (shouldExec) {\n        this.coordinate[actionName](...args);\n      }\n    });\n  }\n}\n","import { Event as GEvent, IShape } from '../dependents';\nimport { Datum } from '../interface';\nimport View from './view';\n\n/**\n * @todo Whether it can(or necessary to) keep consistent with the structure of G.Event or directly use the structure of G.Event\n * G2  G.Event\n */\nexport default class Event {\n  /**  target  view  */\n  public view: View;\n  /**  G  */\n  public gEvent: GEvent;\n  /**  */\n  public data?: Datum;\n  /**  */\n  public type: string;\n\n  constructor(view: View, gEvent: GEvent, data?: Datum) {\n    this.view = view;\n    this.gEvent = gEvent;\n    this.data = data;\n    this.type = gEvent.type;\n  }\n\n  /**\n   * \n   * @param view\n   * @param type\n   * @param data\n   */\n  public static fromData(view: View, type: string, data: Datum) {\n    return new Event(view, new GEvent(type, {}), data);\n  }\n\n  // below props are proxy props of G.event convenient\n\n  /** the real trigger shape of the event */\n  public get target(): IShape {\n    // @todo G  object  ignore\n    // @ts-ignore\n    return this.gEvent.target;\n  }\n\n  /**  dom  */\n  public get event(): any {\n    return this.gEvent.originalEvent;\n  }\n\n  /** x  */\n  public get x(): number {\n    return this.gEvent.x;\n  }\n\n  /** y  */\n  public get y(): number {\n    return this.gEvent.y;\n  }\n\n  /** x  */\n  public get clientX(): number {\n    return this.gEvent.clientX;\n  }\n\n  /** y  */\n  public get clientY(): number {\n    return this.gEvent.clientY;\n  }\n  // end for proxy events\n\n  /**\n   * event string\n   * @returns string\n   */\n  public toString(): string {\n    return `[Event (type=${this.type})]`;\n  }\n\n  /**\n   * clone a new event with same attributes\n   * @returns [[Event]]\n   */\n  public clone(): Event {\n    return new Event(this.view, this.gEvent, this.data);\n  }\n}\n","import { Controller } from '../controller/base';\nimport View from '../view';\n\n// \n//  view  padding \nexport type Layout = (view: View) => void;\n\n/**\n * @ignore\n * G2  layout \n * \n *\n * 1.  padding = 'auto' direction  padding \n * 2.  padding  direction  padding \n * 3. \n *\n *  12  view \n * @param view\n */\nexport default function defaultLayout(view: View): void {\n  const axis = view.getController('axis');\n  const legend = view.getController('legend');\n  const annotation = view.getController('annotation');\n  const slider = view.getController('slider');\n  const scrollbar = view.getController('scrollbar');\n\n  //  coordinate \n  [axis, slider, scrollbar, legend, annotation].forEach((controller: Controller) => {\n    if (controller) {\n      controller.layout();\n    }\n  });\n}\n","/**\n * view  scale \n */\nimport { deepMix, each, get, isNumber, last } from '@antv/util';\nimport { Scale, Coordinate } from '../../dependents';\nimport { Data, LooseObject, ScaleOption, ViewCfg } from '../../interface';\nimport { createScaleByField, syncScale, getDefaultCategoryScaleRange } from '../../util/scale';\n\n/** @ignore */\ninterface ScaleMeta {\n  readonly key: string;\n  readonly scale: Scale;\n  scaleDef: ScaleOption;\n  syncKey?: string;\n}\n\n/** @ignore */\nexport class ScalePool {\n  /**  scales */\n  private scales = new Map<string, ScaleMeta>();\n  /**  scale  key: scaleKeyArray */\n  private syncScales = new Map<string, string[]>();\n\n  /**\n   *  scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  public createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    let finalScaleDef = scaleDef;\n\n    const cacheScaleMeta = this.getScaleMeta(key);\n    if (data.length === 0 && cacheScaleMeta) {\n      //  key  scale  scale \n      const cacheScale = cacheScaleMeta.scale;\n      const cacheScaleDef: LooseObject = {\n        type: cacheScale.type,\n      };\n      if (cacheScale.isCategory) {\n        //  values\n        cacheScaleDef.values = cacheScale.values;\n      }\n      finalScaleDef = deepMix(cacheScaleDef, cacheScaleMeta.scaleDef, scaleDef);\n    }\n\n    const scale = createScaleByField(field, data, finalScaleDef);\n\n    // \n    this.cacheScale(scale, scaleDef, key);\n\n    return scale;\n  }\n\n  /**\n   *  scale\n   */\n  public sync(coordinate: Coordinate, theme: ViewCfg['theme']) {\n    //  syncScales  syncKey  scale \n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      // min, max, values, ranges\n      let min = Number.MAX_SAFE_INTEGER;\n      let max = Number.MIN_SAFE_INTEGER;\n      const values = [];\n\n      // 1. values \n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        max = isNumber(scale.max) ? Math.max(max, scale.max) : max;\n        min = isNumber(scale.min) ? Math.min(min, scale.min) : min;\n\n        // \n        each(scale.values, (v: any) => {\n          if (!values.includes(v)) {\n            values.push(v);\n          }\n        });\n      });\n\n      // 2. \n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        if (scale.isContinuous) {\n          scale.change({\n            min,\n            max,\n            values,\n          });\n        } else if (scale.isCategory) {\n          let range = scale.range;\n          const cacheScaleMeta = this.getScaleMeta(key);\n\n          //  value  range  to fix https://github.com/antvis/G2/issues/2996\n          if (values && !get(cacheScaleMeta, ['scaleDef', 'range'])) {\n            //  range\n            range = getDefaultCategoryScaleRange(\n              deepMix({}, scale, {\n                values,\n              }),\n              coordinate,\n              theme\n            );\n          }\n          scale.change({\n            values,\n            range,\n          });\n        }\n      });\n    });\n  }\n\n  /**\n   *  scale\n   * @param scale\n   * @param scaleDef\n   * @param key\n   */\n  private cacheScale(scale: Scale, scaleDef: ScaleOption, key: string) {\n    // 1.  scales\n\n    let sm = this.getScaleMeta(key);\n    // \n    if (sm && sm.scale.type === scale.type) {\n      syncScale(sm.scale, scale);\n      sm.scaleDef = scaleDef;\n      //  scaleDef\n    } else {\n      sm = {\n        key,\n        scale,\n        scaleDef,\n      };\n\n      this.scales.set(key, sm);\n    }\n\n    // 2.  syncScales Record<sync, string[]> \n    const syncKey = this.getSyncKey(sm);\n    sm.syncKey = syncKey; //  sync  key\n\n    //  scale  syncScales  sync \n    this.removeFromSyncScales(key);\n\n    //  sync  sync\n    if (syncKey) {\n      //  syncKey\n      let scaleKeys = this.syncScales.get(syncKey);\n      if (!scaleKeys) {\n        scaleKeys = [];\n        this.syncScales.set(syncKey, scaleKeys);\n      }\n      scaleKeys.push(key);\n    }\n  }\n\n  /**\n   *  key  scale\n   * @param key\n   */\n  public getScale(key: string): Scale {\n    let scaleMeta = this.getScaleMeta(key);\n    if (!scaleMeta) {\n      const field = last(key.split('-'));\n      const scaleKeys = this.syncScales.get(field);\n      if (scaleKeys && scaleKeys.length) {\n        scaleMeta = this.getScaleMeta(scaleKeys[0]);\n      }\n    }\n    return scaleMeta && scaleMeta.scale;\n  }\n\n  /**\n   *  view  scale \n   * @param key\n   */\n  public deleteScale(key: string) {\n    const scaleMeta = this.getScaleMeta(key);\n    if (scaleMeta) {\n      const { syncKey } = scaleMeta;\n\n      const scaleKeys = this.syncScales.get(syncKey);\n\n      // \n      if (scaleKeys && scaleKeys.length) {\n        const idx = scaleKeys.indexOf(key);\n\n        if (idx !== -1) {\n          scaleKeys.splice(idx, 1);\n        }\n      }\n    }\n\n    //  scale \n    this.scales.delete(key);\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    this.scales.clear();\n    this.syncScales.clear();\n  }\n\n  /**\n   *  sync scale \n   * @param key\n   */\n  private removeFromSyncScales(key: string) {\n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      const idx = scaleKeys.indexOf(key);\n\n      if (idx !== -1) {\n        scaleKeys.splice(idx, 1);\n\n        // \n        if (scaleKeys.length === 0) {\n          this.syncScales.delete(syncKey);\n        }\n\n        return false; // \n      }\n    });\n  }\n\n  /**\n   * get sync key\n   * @param sm\n   */\n  private getSyncKey(sm: ScaleMeta): string {\n    const { scale, scaleDef } = sm;\n    const { field } = scale;\n    const sync = get(scaleDef, ['sync']);\n\n    //  sync = true syncKey\n    return sync === true ? field : sync === false ? undefined : sync;\n  }\n\n  /**\n   *  key  scale\n   * @param key\n   */\n  private getScaleMeta(key: string): ScaleMeta {\n    return this.scales.get(key);\n  }\n}\n","import { DIRECTION } from '../../constant';\nimport { BBox } from '../../dependents';\nimport { Padding } from '../../interface';\n\nexport type PaddingCalCtor = {\n  readonly instance: (top?: number, right?: number, bottom?: number, left?: number) => PaddingCal;\n};\n\n/** @ignore */\nexport class PaddingCal {\n  private top: number;\n  private right: number;\n  private bottom: number;\n  private left: number;\n\n  /**\n   * \n   * @param top\n   * @param right\n   * @param bottom\n   * @param left\n   */\n  public static instance(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n    return new PaddingCal(top, right, bottom, left);\n  }\n\n  /**\n   *  padding \n   * @param top\n   * @param right\n   * @param bottom\n   * @param left\n   */\n  constructor(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n    this.top = top;\n    this.right = right;\n    this.bottom = bottom;\n    this.left = left;\n  }\n\n  /**\n   * \n   * @param padding\n   */\n  public max(padding: Padding): PaddingCal {\n    const [top, right, bottom, left] = padding;\n\n    this.top = Math.max(this.top, top);\n    this.right = Math.max(this.right, right);\n    this.bottom = Math.max(this.bottom, bottom);\n    this.left = Math.max(this.left, left);\n\n    return this;\n  }\n\n  /**\n   *  padding\n   * @param padding\n   */\n  public shrink(padding: Padding): PaddingCal {\n    const [top, right, bottom, left] = padding;\n\n    this.top += top;\n    this.right += right;\n    this.bottom += bottom;\n    this.left += left;\n\n    return this;\n  }\n\n  /**\n   *  padding\n   * @param bbox\n   * @param direction\n   */\n  public inc(bbox: BBox, direction: DIRECTION): PaddingCal {\n    const { width, height } = bbox;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        this.top += height;\n        break;\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        this.right += width;\n        break;\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        this.bottom += height;\n        break;\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        this.left += width;\n        break;\n      default:\n        break;\n    }\n\n    return this;\n  }\n\n  /**\n   *  padding\n   */\n  public getPadding(): Padding {\n    return [this.top, this.right, this.bottom, this.left];\n  }\n\n  /**\n   * clone  padding cal\n   */\n  public clone(): PaddingCal {\n    return new PaddingCal(...this.getPadding());\n  }\n}\n","import { each } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../constant';\nimport { ComponentOption, Padding } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { isAutoPadding, parsePadding } from '../../util/padding';\nimport View from '../view';\nimport { PaddingCal } from './padding-cal';\n\n/**\n * @ignore\n *  view  padding \n * @param view\n */\nexport function calculatePadding(view: View): PaddingCal {\n  const padding = view.padding;\n\n  //  auto padding\n  if (!isAutoPadding(padding)) {\n    return new PaddingCal(...parsePadding(padding));\n  }\n\n  //  auto padding padding\n  const { viewBBox } = view;\n\n  const paddingCal = new PaddingCal();\n\n  const axisComponents = [];\n  const paddingComponents = [];\n  const otherComponents = [];\n\n  each(view.getComponents(), (co: ComponentOption) => {\n    const { type } = co;\n    if (type === COMPONENT_TYPE.AXIS) {\n      axisComponents.push(co);\n    } else if ([COMPONENT_TYPE.LEGEND, COMPONENT_TYPE.SLIDER, COMPONENT_TYPE.SCROLLBAR].includes(type)) {\n      paddingComponents.push(co);\n    } else if (type !== COMPONENT_TYPE.GRID && type !== COMPONENT_TYPE.TOOLTIP) {\n      otherComponents.push(co);\n    }\n  });\n\n  //  padding \n  each(axisComponents, (co: ComponentOption) => {\n    const { component } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n\n    const exceed = componentBBox.exceed(viewBBox);\n\n    //  axis \n    paddingCal.max(exceed);\n  });\n\n  //  padding \n  each(paddingComponents, (co: ComponentOption) => {\n    const { component, direction } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentPadding: Padding = component.get('padding');\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(\n      componentPadding\n    );\n    //  padding\n    paddingCal.inc(componentBBox, direction);\n  });\n\n  // \n  each(otherComponents, (co: ComponentOption) => {\n    const { component, direction } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n    //  padding\n    paddingCal.inc(componentBBox, direction);\n  });\n\n  return paddingCal;\n}\n","import { PaddingCalCtor } from '../layout/padding-cal';\nimport { View } from '../view';\n\n/**\n *  syncViewPadding \n * @param chart\n * @param views\n * @param PC: PaddingCalCtor\n */\nexport function defaultSyncViewPadding(chart: View, views: View[], PC: PaddingCalCtor) {\n  const syncPadding = PC.instance();\n\n  //  view  autoPadding \n  views.forEach((v: View) => {\n    v.autoPadding = syncPadding.max(v.autoPadding.getPadding());\n  });\n}\n","import {\n  clone,\n  deepMix,\n  each,\n  filter,\n  find,\n  flatten,\n  get,\n  isBoolean,\n  isFunction,\n  isNil,\n  isObject,\n  isString,\n  isUndefined,\n  mix,\n  remove,\n  set,\n  size,\n  uniqueId,\n  isEqual,\n  isPlainObject,\n  reduce,\n} from '@antv/util';\nimport { Attribute, Coordinate, Event as GEvent, GroupComponent, ICanvas, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AxisOption,\n  ComponentOption,\n  CoordinateCfg,\n  CoordinateOption,\n  Data,\n  Datum,\n  FacetCfgMap,\n  FilterCondition,\n  GeometryOption,\n  LegendOption,\n  LooseObject,\n  Options,\n  Point,\n  Region,\n  ScaleOption,\n  TooltipOption,\n  ViewCfg,\n  ViewPadding,\n  ViewAppendPadding,\n  EventPayload,\n  Padding,\n} from '../interface';\nimport { GROUP_Z_INDEX, LAYER, PLOT_EVENTS, VIEW_LIFE_CIRCLE } from '../constant';\nimport Base from '../base';\nimport { Facet, getFacet } from '../facet';\nimport Geometry from '../geometry/base';\nimport Element from '../geometry/element';\nimport { createInteraction, Interaction } from '../interaction';\nimport { getTheme } from '../theme';\nimport { BBox } from '../util/bbox';\nimport { getCoordinateClipCfg, isPointInCoordinate } from '../util/coordinate';\nimport { uniq } from '../util/helper';\nimport { findDataByPoint } from '../util/tooltip';\nimport { parsePadding } from '../util/padding';\nimport { getDefaultCategoryScaleRange } from '../util/scale';\nimport { createTheme } from '../theme/util';\nimport Chart from './chart';\nimport { getComponentController, getComponentControllerNames } from './controller';\nimport Annotation from './controller/annotation';\nimport { Controller } from './controller/base';\nimport CoordinateController from './controller/coordinate';\nimport Tooltip from './controller/tooltip';\nimport Slider from './controller/slider';\nimport Scrollbar from './controller/scrollbar';\nimport Axis from './controller/axis';\nimport Gesture from './controller/gesture';\nimport Legend from './controller/legend';\nimport Event from './event';\nimport defaultLayout, { Layout } from './layout';\nimport { ScalePool } from './util/scale-pool';\nimport { PaddingCal } from './layout/padding-cal';\nimport { calculatePadding } from './layout/auto';\nimport { defaultSyncViewPadding } from './util/sync-view-padding';\n\n/**\n * G2  View \n */\nexport class View extends Base {\n  /** view id */\n  public id: string;\n  /**  view */\n  public parent: View;\n  /**  view */\n  public views: View[] = [];\n  /**  geometry  */\n  public geometries: Geometry[] = [];\n  /**  controllers */\n  public controllers: Controller[] = [];\n  /**  Interaction  */\n  public interactions: Record<string, Interaction> = {};\n\n  /** view  */\n  public viewBBox: BBox;\n  /** ViewBBox - padding = coordinateBBox */\n  public coordinateBBox: BBox;\n  /** view  padding  */\n  public padding: ViewPadding;\n  /** padding */\n  public appendPadding: ViewAppendPadding;\n  /** G.Canvas  */\n  public canvas: ICanvas;\n  /**  padding  */\n  public autoPadding: PaddingCal;\n\n  /**  Group  */\n  public backgroundGroup: IGroup;\n  /**  Group  */\n  public middleGroup: IGroup;\n  /**  Group  */\n  public foregroundGroup: IGroup;\n  /**  Geometry  */\n  public limitInPlot: boolean = false;\n\n  /**\n   *  view  0 ~ 1 \n   */\n  protected region: Region;\n  /**  */\n  protected themeObject: LooseObject;\n\n  // \n  protected options: Options = {\n    data: [],\n    animate: true, // \n  }; // \n\n  /**  */\n  protected filteredData: Data;\n\n  /**  */\n  private usedControllers: string[] = getComponentControllerNames();\n\n  /**  scales */\n  private scalePool: ScalePool = new ScalePool();\n\n  /**  */\n  protected layoutFunc: Layout = defaultLayout;\n  /** {@link https://github.com/antvis/coord/blob/master/src/coord/base.ts|Coordinate} */\n  protected coordinateInstance: Coordinate;\n  /** Coordinate  */\n  protected coordinateController: CoordinateController;\n  /**  */\n  protected facetInstance: Facet;\n\n  /**  plot CoordinateBBox */\n  private isPreMouseInPlot: boolean = false;\n  /**  */\n  private isDataChanged: boolean = false;\n  /**  */\n  private isCoordinateChanged: boolean = false;\n  /**  view  scale key */\n  private createdScaleKeys = new Map<string, boolean>();\n  /**  shape */\n  private backgroundStyleRectShape;\n  /**  view  padding */\n  private syncViewPadding;\n\n  constructor(props: ViewCfg) {\n    super({ visible: props.visible });\n\n    const {\n      id = uniqueId('view'),\n      parent,\n      canvas,\n      backgroundGroup,\n      middleGroup,\n      foregroundGroup,\n      region = { start: { x: 0, y: 0 }, end: { x: 1, y: 1 } },\n      padding,\n      appendPadding,\n      theme,\n      options,\n      limitInPlot,\n      syncViewPadding,\n    } = props;\n\n    this.parent = parent;\n    this.canvas = canvas;\n    this.backgroundGroup = backgroundGroup;\n    this.middleGroup = middleGroup;\n    this.foregroundGroup = foregroundGroup;\n    this.region = region;\n    this.padding = padding;\n    this.appendPadding = appendPadding;\n    //  view \n    this.options = { ...this.options, ...options };\n    this.limitInPlot = limitInPlot;\n    this.id = id;\n    this.syncViewPadding = syncViewPadding;\n\n    //  theme\n    this.themeObject = isObject(theme) ? deepMix({}, getTheme('default'), createTheme(theme)) : getTheme(theme);\n    this.init();\n  }\n\n  /**\n   *  layout \n   * @param layout \n   * @returns void\n   */\n  public setLayout(layout: Layout) {\n    this.layoutFunc = layout;\n  }\n\n  /**\n   * \n   * @returns voids\n   */\n  public init() {\n    //  viewBBox\n    this.calculateViewBBox();\n\n    // \n    this.initEvents();\n\n    //  controller\n    this.initComponentController();\n\n    this.initOptions();\n  }\n\n  /**\n   * \n   * render  view  view\n   * @param isUpdate \n   * @param params render \n   */\n  public render(isUpdate: boolean = false, payload?: EventPayload) {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_RENDER, Event.fromData(this, VIEW_LIFE_CIRCLE.BEFORE_RENDER, payload));\n    // \n    this.paint(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_RENDER, Event.fromData(this, VIEW_LIFE_CIRCLE.AFTER_RENDER, payload));\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * chart \n   * @returns void\n   */\n  public clear() {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CLEAR);\n    // 1. \n    this.filteredData = [];\n    this.coordinateInstance = undefined;\n    this.isDataChanged = false; // \n    this.isCoordinateChanged = false; // \n\n    // 2.  geometries\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      geometries[i].clear();\n      // view  geometry  chart.geometry()  #2799\n      geometries[i].container.remove(true);\n      geometries[i].labelsContainer.remove(true);\n    }\n    this.geometries = [];\n\n    // 3.  controllers\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      if (controllers[i].name === 'annotation') {\n        // \n        (controllers[i] as Annotation).clear(true);\n      } else {\n        controllers[i].clear();\n      }\n    }\n\n    // 4.  scale \n    this.createdScaleKeys.forEach((v: boolean, k: string) => {\n      this.getRootView().scalePool.deleteScale(k);\n    });\n    this.createdScaleKeys.clear();\n\n    //  view\n    const views = this.views;\n    for (let i = 0; i < views.length; i++) {\n      views[i].clear();\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CLEAR);\n  }\n\n  /**\n   * \n   * @returns void\n   */\n  public destroy() {\n    // \n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_DESTROY);\n    const interactions = this.interactions;\n    //  interactions\n    each(interactions, (interaction) => {\n      if (interaction) {\n        //  undefined\n        interaction.destroy();\n      }\n    });\n\n    this.clear();\n\n    //  controller \n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.destroy();\n    }\n\n    this.backgroundGroup.remove(true);\n    this.middleGroup.remove(true);\n    this.foregroundGroup.remove(true);\n\n    super.destroy();\n  }\n  /* end  */\n\n  /**\n   *  view\n   * @param visible \n   * @returns View\n   */\n  public changeVisible(visible: boolean): View {\n    super.changeVisible(visible);\n\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      geometry.changeVisible(visible);\n    }\n\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.changeVisible(visible);\n    }\n\n    this.foregroundGroup.set('visible', visible);\n    this.middleGroup.set('visible', visible);\n    this.backgroundGroup.set('visible', visible);\n\n    // group.set('visible', visible) \n    this.getCanvas().draw();\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.data([{ city: '', sale: 100 }, { city: '', sale: 110 } ]);\n   * ```\n   *\n   * @param data json \n   * @returns View\n   */\n  public data(data: Data): View {\n    set(this.options, 'data', data);\n    this.isDataChanged = true;\n    return this;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #data(data)}\n   */\n  public source(data: Data): View {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.data() instead.');\n    return this.data(data);\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.filter('city', (value: any, datum: Datum) => value !== '');\n   *\n   * //  'city' \n   * view.filter('city', null);\n   * ```\n   *\n   * @param field \n   * @param condition \n   * @returns View\n   */\n  public filter(field: string, condition: FilterCondition | null): View {\n    if (isFunction(condition)) {\n      set(this.options, ['filters', field], condition);\n      return this;\n    }\n    // condition \n    if (!condition && get(this.options, ['filters', field])) {\n      delete this.options.filters[field];\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   *  view.axis(false); // \n   * ```\n   * @param field \n   */\n  public axis(field: boolean): View;\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.axis('city', false); //  'city' \n   *\n   * //  'city' \n   * view.axis('city', {\n   *   title: null,\n   * });\n   * ```\n   *\n   * @param field \n   * @param axisOption https://github.com/antvis/component#axis\n   */\n  public axis(field: string, axisOption: AxisOption): View;\n  public axis(field: string | boolean, axisOption?: AxisOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['axes'], field);\n    } else {\n      set(this.options, ['axes', field], axisOption);\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.legend(false); // \n   *\n   * view.legend({\n   *   position: 'right',\n   * }); // \n   * ```\n   * @param field\n   * @returns View\n   */\n  public legend(field: LegendOption): View;\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.legend('city', false); // \n   *\n   * // \n   * view.legend('city', {\n   *   position: 'right',\n   * });\n   * ```\n   *\n   * @param field \n   * @param legendOption https://github.com/antvis/component#axis\n   * @returns View\n   */\n  public legend(field: string, legendOption: LegendOption): View;\n  public legend(field: string | LegendOption, legendOption?: LegendOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['legends'], field);\n    } else if (isString(field)) {\n      set(this.options, ['legends', field], legendOption);\n      if (isPlainObject(legendOption) && legendOption?.selected) {\n        set(this.options, ['filters', field], (name: string) => {\n          return legendOption?.selected[name] ?? true;\n        });\n      }\n    } else {\n      //  legend \n      set(this.options, ['legends'], field);\n    }\n\n    return this;\n  }\n\n  /**\n   *  scale \n   *\n   * ```ts\n   * view.scale({\n   *   sale: {\n   *     min: 0,\n   *     max: 100,\n   *   }\n   * });\n   * ```\n   * Scale https://github.com/antvis/scale#api\n   * @returns View\n   */\n  public scale(field: Record<string, ScaleOption>): View;\n  /**\n   *  scale \n   *\n   * ```ts\n   * view.scale('sale', {\n   *   min: 0,\n   *   max: 100,\n   * });\n   * ```\n   *\n   * @returns View\n   */\n  public scale(field: string, scaleOption: ScaleOption): View;\n  public scale(field: string | Record<string, ScaleOption>, scaleOption?: ScaleOption): View {\n    if (isString(field)) {\n      set(this.options, ['scales', field], scaleOption);\n    } else if (isObject(field)) {\n      each(field, (v: ScaleOption, k: string) => {\n        set(this.options, ['scales', k], v);\n      });\n    }\n\n    return this;\n  }\n\n  /**\n   * tooltip \n   *\n   * ```ts\n   * view.tooltip(false); //  tooltip\n   *\n   * view.tooltip({\n   *   shared: true\n   * });\n   * ```\n   *\n   * @param cfg Tooltip https://github.com/antvis/component#tooltip\n   * @returns View\n   */\n  public tooltip(cfg: boolean | TooltipOption): View {\n    set(this.options, 'tooltip', cfg);\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.annotation().line({\n   *   start: ['min', 85],\n   *   end: ['max', 85],\n   *   style: {\n   *     stroke: '#595959',\n   *     lineWidth: 1,\n   *     lineDash: [3, 3],\n   *   },\n   * });\n   * ```\n   * https://github.com/antvis/component#annotation\n   * @returns [[Annotation]]\n   */\n  public annotation(): Annotation {\n    return this.getController('annotation');\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #guide()}\n   */\n  public guide(): Annotation {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.annotation() instead.');\n    return this.annotation();\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.coordinate({\n   *   type: 'polar',\n   *   cfg: {\n   *     radius: 0.85,\n   *   },\n   *   actions: [\n   *     [ 'transpose' ],\n   *   ],\n   * });\n   * ```\n   *\n   * @param option\n   * @returns\n   */\n  public coordinate(option?: CoordinateOption): CoordinateController;\n  /**\n   * \n   *\n   * ```ts\n   * // \n   * view.coordinate('rect').transpose();\n   *\n   * // \n   * view.coordinate();\n   * ```\n   *\n   * @param type \n   * @param [coordinateCfg] \n   * @returns\n   */\n  public coordinate(type: string, coordinateCfg?: CoordinateCfg): CoordinateController;\n  public coordinate(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    // \n    if (isString(type)) {\n      set(this.options, 'coordinate', { type, cfg: coordinateCfg } as CoordinateOption);\n    } else {\n      set(this.options, 'coordinate', type);\n    }\n\n    //  coordinate \n    this.coordinateController.update(this.options.coordinate);\n\n    return this.coordinateController;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #coordinate()}\n   */\n  public coord(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.coordinate() instead.');\n    // @ts-ignore\n    return this.coordinate(type, coordinateCfg);\n  }\n\n  /**\n   * view \n   *\n   * ```ts\n   * view.facet('rect', {\n   *   rowField: 'province',\n   *   columnField: 'category',\n   *   eachView: (innerView: View, facet?: FacetData) => {\n   *     innerView.line().position('city*sale');\n   *   },\n   * });\n   * ```\n   *\n   * @param type \n   * @param cfg  [[FacetCfgMap]]\n   * @returns View\n   */\n  public facet<T extends keyof FacetCfgMap>(type: T, cfg: FacetCfgMap[T]): View {\n    // \n    if (this.facetInstance) {\n      this.facetInstance.destroy();\n    }\n\n    // \n    const Ctor = getFacet(type);\n\n    if (!Ctor) {\n      throw new Error(`facet '${type}' is not exist!`);\n    }\n\n    this.facetInstance = new Ctor(this, { ...cfg, type });\n\n    return this;\n  }\n\n  /*\n   * \n   *\n   * ```ts\n   * view.animate(false);\n   * ```\n   *\n   * @param status true false \n   * @returns View\n   */\n  public animate(status: boolean): View {\n    set(this.options, 'animate', status);\n    return this;\n  }\n\n  /**\n   * \n   * @param options \n   */\n  public updateOptions(options: Options) {\n    this.clear(); // \n    mix(this.options, options);\n\n    //  view \n    //  view \n    this.views.forEach((view) => view.destroy());\n    this.views = [];\n\n    this.initOptions();\n    //  padding \n    this.coordinateBBox = this.viewBBox;\n    return this;\n  }\n\n  /**\n   *  `view.options` \n   * @param name \n   * @param opt \n   * @returns view\n   */\n  public option(name: string, opt: any): View {\n    //  option\n    // name  API option \n    if (View.prototype[name]) {\n      throw new Error(`Can't use built in variable name \"${name}\", please change another one.`);\n    }\n\n    //  option \n    set(this.options, name, opt);\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.theme('dark'); // 'dark'  `registerTheme()` \n   *\n   * view.theme({ defaultColor: 'red' });\n   * ```\n   *\n   * @param theme \n   * @returns View\n   */\n  public theme(theme: string | LooseObject): View {\n    this.themeObject = isObject(theme) ? deepMix({}, this.themeObject, createTheme(theme)) : getTheme(theme);\n\n    return this;\n  }\n\n  /* end  API */\n\n  /**\n   * Call the interaction based on the interaction name\n   *\n   * ```ts\n   * view.interaction('my-interaction', { extra: 'hello world' });\n   * ```\n   * https://g2.antv.vision/zh/docs/api/general/interaction\n   * @param name interaction name\n   * @param cfg interaction config\n   * @returns\n   */\n  public interaction(name: string, cfg?: LooseObject): View {\n    const existInteraction = this.interactions[name];\n    // \n    if (existInteraction) {\n      existInteraction.destroy();\n    }\n\n    // \n    const interaction = createInteraction(name, this, cfg);\n    if (interaction) {\n      interaction.init();\n      this.interactions[name] = interaction;\n    }\n    return this;\n  }\n\n  /**\n   *  View  interaction\n   * ```ts\n   * view.removeInteraction('my-interaction');\n   * ```\n   * @param name interaction name\n   */\n  public removeInteraction(name: string) {\n    const existInteraction = this.interactions[name];\n    // \n    if (existInteraction) {\n      existInteraction.destroy();\n      this.interactions[name] = undefined;\n    }\n  }\n\n  /**\n   *  view\n   *\n   * ```ts\n   * view.changeData([{ city: '', sale: '200' }]);\n   * ```\n   *\n   * @param data\n   * @returns void\n   */\n  public changeData(data: Data) {\n    this.isDataChanged = true;\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, Event.fromData(this, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null));\n    // 1. \n    this.data(data);\n\n    // 2. \n    this.paint(true);\n\n    // 3.  view  change data\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      // FIXME  view \n      view.changeData(data);\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, Event.fromData(this, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null));\n  }\n\n  /* View  API */\n\n  /**\n   *  view\n   *\n   * ```ts\n   * const innerView = view.createView({\n   *   start: { x: 0, y: 0 },\n   *   end: { x: 0.5, y: 0.5 },\n   *   padding: 8,\n   * });\n   * ```\n   *\n   * @param cfg\n   * @returns View\n   */\n  public createView(cfg?: Partial<ViewCfg>): View {\n    //  4.1  view chart - view \n    //  API  warning\n    if (this.parent && this.parent.parent) {\n      //  3  \n      console.warn('The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.');\n    }\n\n    //  view  options \n    const sharedOptions = {\n      data: this.options.data,\n      scales: clone(this.options.scales),\n      axes: clone(this.options.axes),\n      coordinate: clone(this.coordinateController.getOption()),\n      tooltip: clone(this.options.tooltip),\n      legends: clone(this.options.legends),\n      animate: this.options.animate,\n      visible: this.visible,\n    };\n\n    const v = new View({\n      parent: this,\n      canvas: this.canvas,\n      //  view  group\n      backgroundGroup: this.backgroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: this.middleGroup.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: this.foregroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      theme: this.themeObject,\n      padding: this.padding,\n      ...cfg,\n      options: {\n        ...sharedOptions,\n        ...get(cfg, 'options', {}),\n      },\n    });\n\n    this.views.push(v);\n\n    return v;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #createView()}\n   */\n  public view(cfg?: Partial<ViewCfg>) {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.createView() instead.');\n    return this.createView(cfg);\n  }\n\n  /**\n   *  view\n   * @param view\n   * @return removedView\n   */\n  public removeView(view: View): View {\n    const removedView = remove(this.views, (v: View) => v === view)[0];\n\n    if (removedView) {\n      removedView.destroy();\n    }\n\n    return removedView;\n  }\n  /* end View  API */\n\n  //  get \n\n  /**\n   * \n   * @returns [[Coordinate]]\n   */\n  public getCoordinate() {\n    return this.coordinateInstance;\n  }\n\n  /**\n   *  view \n   * @returns themeObject\n   */\n  public getTheme(): LooseObject {\n    return this.themeObject;\n  }\n\n  /**\n   *  x  scale \n   * @returns view  Geometry  x scale\n   */\n  public getXScale(): Scale {\n    //  Geometry  X scale\n    //  view  Geometry  x \n    const g = this.geometries[0];\n    return g ? g.getXScale() : null;\n  }\n\n  /**\n   *  y  scales \n   * @returns view  Geometry  y scale \n   */\n  public getYScales(): Scale[] {\n    //  Geometry  Y scale\n    const tmpMap = {};\n    const yScales = [];\n    this.geometries.forEach((g: Geometry) => {\n      const yScale = g.getYScale();\n      const field = yScale.field;\n      if (!tmpMap[field]) {\n        tmpMap[field] = true;\n        yScales.push(yScale);\n      }\n    });\n    return yScales;\n  }\n\n  /**\n   *  x  y  scale \n   * @param dimType x | y\n   * @returns x  y  scale \n   */\n  public getScalesByDim(dimType: 'x' | 'y'): Record<string, Scale> {\n    const geometries = this.geometries;\n    const scales = {};\n\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      const scale = dimType === 'x' ? geometry.getXScale() : geometry.getYScale();\n      if (scale && !scales[scale.field]) {\n        scales[scale.field] = scale;\n      }\n    }\n\n    return scales;\n  }\n\n  /**\n   *  scale \n   * @param field \n   * @param key id\n   */\n  public getScale(field: string, key?: string): Scale {\n    const defaultKey = key ? key : this.getScaleKey(field);\n    //  view \n    return this.getRootView().scalePool.getScale(defaultKey);\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Please use `getScale`.\n   */\n  public getScaleByField(field: string, key?: string): Scale {\n    return this.getScale(field, key);\n  }\n\n  /**\n   * \n   * @returns  view API \n   */\n  public getOptions(): Options {\n    return this.options;\n  }\n\n  /**\n   *  view \n   * @returns \n   */\n  public getData() {\n    return this.filteredData;\n  }\n\n  /**\n   * \n   * @returns  G2 \n   */\n  public getOriginalData() {\n    return this.options.data;\n  }\n\n  /**\n   *  padding\n   * @returns\n   */\n  public getPadding(): Padding {\n    return this.autoPadding.getPadding();\n  }\n\n  /**\n   *  view  geometries\n   * @returns\n   */\n  public getGeometries() {\n    return this.geometries;\n  }\n\n  /**\n   *  view  geome\n   */\n  public getElements(): Element[] {\n    return reduce(\n      this.geometries,\n      (elements: Element[], geometry: Geometry) => {\n        return elements.concat(geometry.getElements());\n      },\n      []\n    );\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElementsBy((element) => {\n   *   const data = element.getData();\n   *\n   *   return data.a === 'a';\n   * });\n   * ```\n   *\n   * @param condition \n   * @returns\n   */\n  public getElementsBy(condition: (element: Element) => boolean): Element[] {\n    return this.getElements().filter((el) => condition(el));\n  }\n\n  /**\n   *  group\n   * @param layer \n   * @returns  Group\n   */\n  public getLayer(layer: LAYER): IGroup {\n    return layer === LAYER.BG\n      ? this.backgroundGroup\n      : layer === LAYER.MID\n      ? this.middleGroup\n      : layer === LAYER.FORE\n      ? this.foregroundGroup\n      : this.foregroundGroup;\n  }\n\n  /**\n   * \n   * @param point \n   */\n  public isPointInPlot(point: Point): boolean {\n    return isPointInCoordinate(this.getCoordinate(), point);\n  }\n\n  /**\n   *  legend  attribute \n   * @returns  Attribute \n   */\n  public getLegendAttributes(): Attribute[] {\n    return flatten(this.geometries.map((g: Geometry) => g.getGroupAttributes())) as unknown as Attribute[];\n  }\n\n  /**\n   *  scale \n   * @returns  scale \n   */\n  public getGroupScales(): Scale[] {\n    //  Geometry   scale\n    const scales = this.geometries.map((g: Geometry) => g.getGroupScales());\n    return uniq(flatten(scales));\n  }\n\n  /**\n   *  G.Canvas \n   * @returns G.Canvas \n   */\n  public getCanvas(): ICanvas {\n    return (this.getRootView() as unknown as Chart).canvas;\n  }\n\n  /**\n   *  view\n   */\n  public getRootView(): View {\n    let v = this as View;\n\n    while (true) {\n      if (v.parent) {\n        v = v.parent;\n        continue;\n      }\n      break;\n    }\n    return v;\n  }\n\n  /**\n   * \n   * @param data \n   * @returns \n   */\n  public getXY(data: Datum): Point {\n    const coordinate = this.getCoordinate();\n    const xScales = this.getScalesByDim('x');\n    const yScales = this.getScalesByDim('y');\n    let x;\n    let y;\n\n    each(data, (value, key) => {\n      if (xScales[key]) {\n        x = xScales[key].scale(value);\n      }\n      if (yScales[key]) {\n        y = yScales[key].scale(value);\n      }\n    });\n\n    if (!isNil(x) && !isNil(y)) {\n      return coordinate.convert({ x, y });\n    }\n  }\n\n  public getController(name: 'tooltip'): Tooltip;\n  public getController(name: 'axis'): Axis;\n  public getController(name: 'legend'): Legend;\n  public getController(name: 'scrollbar'): Scrollbar;\n  public getController(name: 'slider'): Slider;\n  public getController(name: 'annotation'): Annotation;\n  public getController(name: 'gestucre'): Gesture;\n  public getController(name: string): Controller;\n  /**\n   *  name  controller \n   * @param name\n   */\n  public getController(name: string): Controller {\n    return find(this.controllers, (c: Controller) => c.name === name);\n  }\n\n  /**\n   *  point  tooltip\n   * @param point \n   * @returns View\n   */\n  public showTooltip(point: Point): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.showTooltip(point);\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip\n   * @returns View\n   */\n  public hideTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.hideTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip \n   * @returns View\n   */\n  public lockTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.lockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip \n   * @returns View\n   */\n  public unlockTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.unlockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip\n   * @returns \n   */\n  public isTooltipLocked() {\n    const tooltip = this.getController('tooltip');\n    return tooltip && tooltip.isTooltipLocked();\n  }\n\n  /**\n   *  point  tooltip \n   * @param point \n   * @returns tooltip \n   */\n  public getTooltipItems(point: Point) {\n    const tooltip = this.getController('tooltip');\n\n    return tooltip ? tooltip.getTooltipItems(point) : [];\n  }\n\n  /**\n   * \n   * @param point \n   * @returns  \n   */\n  public getSnapRecords(point: Point) {\n    const geometries = this.geometries;\n    let rst = [];\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geom = geometries[i];\n      const dataArray = geom.dataArray;\n      geom.sort(dataArray); //  tooltip \n      let record;\n      for (let j = 0, dataLen = dataArray.length; j < dataLen; j++) {\n        const data = dataArray[j];\n        record = findDataByPoint(point, data, geom);\n        if (record) {\n          rst.push(record);\n        }\n      }\n    }\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      const snapRecords = view.getSnapRecords(point);\n      rst = rst.concat(snapRecords);\n    }\n\n    return rst;\n  }\n\n  /**\n   *  pure component \n   */\n  public getComponents(): ComponentOption[] {\n    let components = [];\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      components = components.concat(controller.getComponents());\n    }\n\n    return components;\n  }\n\n  /**\n   *  data \n   * @param data\n   * @returns \n   */\n  public filterData(data: Data): Data {\n    const { filters } = this.options;\n    //  filters\n    if (size(filters) === 0) {\n      return data;\n    }\n\n    //   \n    return filter(data, (datum: Datum, idx: number) => {\n      //  filter \n      const fields = Object.keys(filters);\n\n      // \n      return fields.every((field: string) => {\n        const condition = filters[field];\n\n        // condition  true\n        return condition(datum[field], datum, idx);\n      });\n    });\n  }\n\n  /**\n   * \n   * @param field\n   * @param data\n   */\n  public filterFieldData(field: string, data: Data): Data {\n    const { filters } = this.options;\n    const condition = get(filters, field);\n\n    if (isUndefined(condition)) {\n      return data;\n    }\n    return data.filter((datum: Datum, idx: number) => condition(datum[field], datum, idx));\n  }\n\n  /**\n   *  coordinate \n   */\n  public adjustCoordinate() {\n    const { start: curStart, end: curEnd } = this.getCoordinate();\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n\n    //  defaultLayoutFn  coordinateBBox  adjustCoordinate()\n    if (isEqual(curStart, start) && isEqual(curEnd, end)) {\n      this.isCoordinateChanged = false;\n      // \n      return;\n    }\n    this.isCoordinateChanged = true;\n    this.coordinateInstance = this.coordinateController.adjust(start, end);\n  }\n\n  protected paint(isUpdate: boolean) {\n    this.renderDataRecursive(isUpdate);\n\n    //  sync scale \n    this.syncScale();\n\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_PAINT);\n\n    //  padding\n    this.renderPaddingRecursive(isUpdate);\n    // \n    this.renderLayoutRecursive(isUpdate);\n    //  shape\n    this.renderBackgroundStyleShape();\n    //  render\n    this.renderPaintRecursive(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_PAINT);\n\n    this.isDataChanged = false; // \n  }\n\n  /**\n   *  shape\n   *  view  view \n   */\n  private renderBackgroundStyleShape() {\n    // \n    if (this.parent) {\n      return;\n    }\n    const background = get(this.themeObject, 'background');\n    // \n    if (background) {\n      // 1. \n      if (!this.backgroundStyleRectShape) {\n        this.backgroundStyleRectShape = this.backgroundGroup.addShape('rect', {\n          attrs: {},\n          zIndex: -1,\n          //  shape \n          capture: false,\n        });\n        this.backgroundStyleRectShape.toBack();\n      }\n\n      // 2.  shape \n      const { x, y, width, height } = this.viewBBox;\n      this.backgroundStyleRectShape.attr({\n        fill: background,\n        x,\n        y,\n        width,\n        height,\n      });\n    } else {\n      // \n      if (this.backgroundStyleRectShape) {\n        this.backgroundStyleRectShape.remove(true);\n        this.backgroundStyleRectShape = undefined;\n      }\n    }\n  }\n\n  /**\n   *  view  padding coordinateBBox  coordinateInstance\n   * @param isUpdate\n   */\n  protected renderPaddingRecursive(isUpdate: boolean) {\n    // 1.  view  coordinateBBoxchangeSize \n    this.calculateViewBBox();\n    // 2.  coordinate\n    this.adjustCoordinate();\n    // 3.  component\n    this.initComponents(isUpdate);\n    // 4.  view  padding \n    // 4.1.  auto padding -> absolute padding appendPadding\n    this.autoPadding = calculatePadding(this).shrink(parsePadding(this.appendPadding));\n    // 4.2.  coordinateBBox Coordinate\n    //  view  viewBBox  parent  coordinateBBox\n    this.coordinateBBox = this.viewBBox.shrink(this.autoPadding.getPadding());\n    this.adjustCoordinate();\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderPaddingRecursive(isUpdate);\n    }\n  }\n\n  /**\n   *  view  view  coordinateBBox  coordinateInstance\n   * @param isUpdate\n   */\n  protected renderLayoutRecursive(isUpdate: boolean) {\n    // 1.  view padding\n    //  padding\n    const syncViewPaddingFn =\n      this.syncViewPadding === true\n        ? defaultSyncViewPadding\n        : isFunction(this.syncViewPadding)\n        ? this.syncViewPadding\n        : undefined;\n\n    if (syncViewPaddingFn) {\n      syncViewPaddingFn(this, this.views, PaddingCal);\n      //  padding  coordinate\n      this.views.forEach((v: View) => {\n        v.coordinateBBox = v.viewBBox.shrink(v.autoPadding.getPadding());\n        v.adjustCoordinate();\n      });\n    }\n\n    // 3.  view  view padding \n    this.doLayout();\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderLayoutRecursive(isUpdate);\n    }\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  protected renderPaintRecursive(isUpdate: boolean) {\n    const middleGroup = this.middleGroup;\n    if (this.limitInPlot) {\n      const { type, attrs } = getCoordinateClipCfg(this.coordinateInstance);\n      middleGroup.setClip({\n        type,\n        attrs,\n      });\n    } else {\n      //  clip\n      middleGroup.setClip(undefined);\n    }\n\n    // 1. \n    this.paintGeometries(isUpdate);\n    // 2. \n    this.renderComponents(isUpdate);\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderPaintRecursive(isUpdate);\n    }\n  }\n\n  // end Get \n\n  /**\n   *  scale view  scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  protected createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    // 1.  field  scaleDef\n    const currentScaleDef = get(this.options.scales, [field]);\n    const mergedScaleDef = { ...currentScaleDef, ...scaleDef };\n\n    // 2.  view\n    if (this.parent) {\n      return this.parent.createScale(field, data, mergedScaleDef, key);\n    }\n\n    // 3.  view  scalePool \n    return this.scalePool.createScale(field, data, mergedScaleDef, key);\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  private renderDataRecursive(isUpdate: boolean) {\n    // 1. \n    this.doFilterData();\n    // 2. \n    this.createCoordinate();\n    // 3.  Geometry\n    this.initGeometries(isUpdate);\n    // 4.  view  geometry\n    this.renderFacet(isUpdate);\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderDataRecursive(isUpdate);\n    }\n  }\n\n  /**\n   *  region\n   * @private\n   */\n  private calculateViewBBox() {\n    let x;\n    let y;\n    let width;\n    let height;\n\n    if (this.parent) {\n      const bbox = this.parent.coordinateBBox;\n      //  parent \n      x = bbox.x;\n      y = bbox.y;\n      width = bbox.width;\n      height = bbox.height;\n    } else {\n      //  canvas  \n      x = 0;\n      y = 0;\n      width = this.canvas.get('width');\n      height = this.canvas.get('height');\n    }\n\n    const { start, end } = this.region;\n\n    //  region  view  bbox \n    const viewBBox = new BBox(\n      x + width * start.x,\n      y + height * start.y,\n      width * (end.x - start.x),\n      height * (end.y - start.y)\n    );\n\n    if (!this.viewBBox || !this.viewBBox.isEqual(viewBBox)) {\n      // viewBBox \n      this.viewBBox = new BBox(\n        x + width * start.x,\n        y + height * start.y,\n        width * (end.x - start.x),\n        height * (end.y - start.y)\n      );\n    }\n\n    //  coordinate bbox \n    this.coordinateBBox = this.viewBBox;\n  }\n\n  /**\n   * G 4.0  name:event  name \n   *\n   * G2  view \n   *  view  view  Component  Geometry \n   * @private\n   */\n  private initEvents() {\n    //  group  shape  G \n    this.foregroundGroup.on('*', this.onDelegateEvents);\n    this.middleGroup.on('*', this.onDelegateEvents);\n    this.backgroundGroup.on('*', this.onDelegateEvents);\n\n    this.canvas.on('*', this.onCanvasEvent);\n  }\n\n  private onCanvasEvent = (evt: GEvent): void => {\n    const name = evt.name;\n    if (!name.includes(':')) {\n      // \n      const e = this.createViewEvent(evt);\n      //  plot \n      this.doPlotEvent(e);\n      this.emit(name, e);\n    }\n  };\n\n  /**\n   * \n   */\n  private initComponentController() {\n    const usedControllers = this.usedControllers;\n    for (let i = 0, len = usedControllers.length; i < len; i++) {\n      const controllerName = usedControllers[i];\n      const Ctor = getComponentController(controllerName);\n      if (Ctor) {\n        this.controllers.push(new Ctor(this));\n      }\n    }\n  }\n\n  private createViewEvent(evt: GEvent) {\n    const { shape, name } = evt;\n\n    const data = shape ? shape.get('origin') : null;\n    //  view \n    const e = new Event(this, evt, data);\n    e.type = name;\n    return e;\n  }\n  /**\n   * \n   * @param evt\n   */\n  private onDelegateEvents = (evt: GEvent): void => {\n    // \n    // evt.preventDefault();\n    const { name } = evt;\n    if (!name.includes(':')) {\n      return;\n    }\n    //  view \n    const e = this.createViewEvent(evt);\n\n    // \n    this.emit(name, e);\n    // const currentTarget = evt.currentTarget as IShape;\n    // const inheritNames = currentTarget.get('inheritNames');\n    // if (evt.delegateObject || inheritNames) {\n    //   const events = this.getEvents();\n    //   each(inheritNames, (subName) => {\n    //     const eventName = `${subName}:${type}`;\n    //     if (events[eventName]) {\n    //       this.emit(eventName, e);\n    //     }\n    //   });\n    // }\n  };\n\n  /**\n   *  PLOT_EVENTS\n   * plot event  emit\n   *  mouseentermouseleave \n   * @param e\n   */\n  private doPlotEvent(e: Event) {\n    const { type, x, y } = e;\n\n    const point = { x, y };\n\n    const ALL_EVENTS = [\n      'mousedown',\n      'mouseup',\n      'mousemove',\n      'mouseleave',\n      'mousewheel',\n      'touchstart',\n      'touchmove',\n      'touchend',\n      'touchcancel',\n      'click',\n      'dblclick',\n      'contextmenu',\n    ];\n\n    if (ALL_EVENTS.includes(type)) {\n      const currentInPlot = this.isPointInPlot(point);\n      const newEvent = e.clone();\n\n      if (currentInPlot) {\n        const TYPE = `plot:${type}`; //  plot \n        newEvent.type = TYPE;\n        this.emit(TYPE, newEvent);\n        if (type === 'mouseleave' || type === 'touchend') {\n          // plot \n          this.isPreMouseInPlot = false;\n        }\n      }\n\n      //  mouseenter, mouseleave \n      if (type === 'mousemove' || type === 'touchmove') {\n        if (this.isPreMouseInPlot && !currentInPlot) {\n          if (type === 'mousemove') {\n            newEvent.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, newEvent);\n        } else if (!this.isPreMouseInPlot && currentInPlot) {\n          if (type === 'mousemove') {\n            newEvent.type = PLOT_EVENTS.MOUSE_ENTER;\n            this.emit(PLOT_EVENTS.MOUSE_ENTER, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.ENTER;\n          this.emit(PLOT_EVENTS.ENTER, newEvent);\n        }\n        // \n        this.isPreMouseInPlot = currentInPlot;\n      } else if (type === 'mouseleave' || type === 'touchend') {\n        //  currentInPlot \n        if (this.isPreMouseInPlot) {\n          if (type === 'mouseleave') {\n            newEvent.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, newEvent);\n\n          this.isPreMouseInPlot = false;\n        }\n      }\n    }\n  }\n\n  // view   \n\n  /**\n   * \n   * @private\n   */\n  private doFilterData() {\n    const { data } = this.options;\n    this.filteredData = this.filterData(data);\n  }\n\n  /**\n   *  Geometries\n   * @private\n   */\n  private initGeometries(isUpdate: boolean) {\n    //  /  scales\n    this.createOrUpdateScales();\n    //  Geometry view  scale \n    const coordinate = this.getCoordinate();\n    const scaleDefs = get(this.options, 'scales', {});\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      //  scales \n      geometry.scales = this.getGeometryScales();\n      const cfg = {\n        coordinate, //  coordinate  coordinate \n        scaleDefs,\n        data: this.filteredData,\n        theme: this.themeObject,\n        isDataChanged: this.isDataChanged,\n        isCoordinateChanged: this.isCoordinateChanged,\n      };\n\n      if (isUpdate) {\n        // \n        geometry.update(cfg);\n      } else {\n        geometry.init(cfg);\n      }\n    }\n\n    // Geometry  scale scale \n    this.adjustScales();\n  }\n\n  /**\n   *  Geometry  scales\n   * \n   */\n  private createOrUpdateScales() {\n    const fields = this.getScaleFields();\n    const groupedFields = this.getGroupedFields();\n\n    const { data, scales = {} } = this.getOptions();\n    const filteredData = this.filteredData;\n\n    for (let i = 0, len = fields.length; i < len; i++) {\n      const field = fields[i];\n      const scaleDef = scales[field];\n\n      // \n      const key = this.getScaleKey(field);\n      this.createScale(\n        field,\n        //  scale \n        groupedFields.includes(field) ? data : filteredData,\n        scaleDef,\n        key\n      );\n\n      //  view  scale key\n      this.createdScaleKeys.set(key, true);\n    }\n  }\n\n  /**\n   *  scale \n   */\n  private syncScale() {\n    //  root view \n    this.getRootView().scalePool.sync(this.getCoordinate(), this.theme);\n  }\n\n  /**\n   *  Geometry  scale \n   */\n  private getGeometryScales(): Record<string, Scale> {\n    const fields = this.getScaleFields();\n\n    const scales = {};\n    for (let i = 0; i < fields.length; i++) {\n      const field = fields[i];\n      scales[field] = this.getScaleByField(field);\n    }\n\n    return scales;\n  }\n\n  private getScaleFields() {\n    const fields = [];\n    const tmpMap = new Map();\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const geometryScales = geometry.getScaleFields();\n      uniq(geometryScales, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  private getGroupedFields() {\n    const fields = [];\n    const tmpMap = new Map();\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const groupFields = geometry.getGroupFields();\n      uniq(groupFields, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  /**\n   *  scale \n   * @private\n   */\n  private adjustScales() {\n    // \n    //  scale range \n    this.adjustCategoryScaleRange();\n  }\n\n  /**\n   *  scale  range\n   * @private\n   */\n  private adjustCategoryScaleRange() {\n    const xyScales = [this.getXScale(), ...this.getYScales()].filter((e) => !!e);\n    const coordinate = this.getCoordinate();\n    const scaleOptions = this.options.scales;\n\n    each(xyScales, (scale: Scale) => {\n      const { field, values, isCategory, isIdentity } = scale;\n\n      //  identity  scale \n      if (isCategory || isIdentity) {\n        //  value  range \n        if (values && !get(scaleOptions, [field, 'range'])) {\n          //  range\n          scale.range = getDefaultCategoryScaleRange(scale, coordinate, this.theme);\n        }\n      }\n    });\n  }\n\n  /**\n   *  options Geometry  components\n   * @param isUpdate \n   * @private\n   */\n  private initComponents(isUpdate: boolean) {\n    //  render\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      const controller = controllers[i];\n      // \n      if (isUpdate) {\n        controller.update();\n      } else {\n        controller.clear();\n        controller.render();\n      }\n    }\n  }\n\n  private doLayout() {\n    this.layoutFunc(this);\n  }\n\n  /**\n   * \n   * @private\n   */\n  private createCoordinate() {\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n    this.coordinateInstance = this.coordinateController.create(start, end);\n  }\n\n  /**\n   *  options  geometry\n   * @private\n   */\n  private paintGeometries(isUpdate: boolean) {\n    const doAnimation = this.options.animate;\n    // geometry  paint \n    const coordinate = this.getCoordinate();\n    const canvasRegion = {\n      x: this.viewBBox.x,\n      y: this.viewBBox.y,\n      minX: this.viewBBox.minX,\n      minY: this.viewBBox.minY,\n      maxX: this.viewBBox.maxX,\n      maxY: this.viewBBox.maxY,\n      width: this.viewBBox.width,\n      height: this.viewBBox.height,\n    };\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      geometry.coordinate = coordinate;\n      geometry.canvasRegion = canvasRegion;\n      if (!doAnimation) {\n        //  view  view  geometry \n        geometry.animate(false);\n      }\n      geometry.paint(isUpdate);\n    }\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  private renderComponents(isUpdate: boolean) {\n    //  render\n    for (let i = 0; i < this.getComponents().length; i++) {\n      const co = this.getComponents()[i];\n      (co.component as GroupComponent).render();\n    }\n  }\n\n  /**\n   *  view \n   * @param isUpdate\n   */\n  private renderFacet(isUpdate: boolean) {\n    if (this.facetInstance) {\n      if (isUpdate) {\n        this.facetInstance.update();\n      } else {\n        this.facetInstance.clear();\n        // \n        this.facetInstance.init();\n        //  views\n        this.facetInstance.render();\n      }\n    }\n  }\n\n  private initOptions() {\n    const {\n      geometries = [],\n      interactions = [],\n      views = [],\n      annotations = [],\n      coordinate,\n      events,\n      facets,\n    } = this.options;\n\n    // \n    if (this.coordinateController) {\n      //  coordinate controller\n      coordinate && this.coordinateController.update(coordinate);\n    } else {\n      //  coordinate controller\n      this.coordinateController = new CoordinateController(coordinate);\n    }\n\n    //  geometry \n    for (let i = 0; i < geometries.length; i++) {\n      const geometryOption = geometries[i];\n      this.createGeometry(geometryOption);\n    }\n\n    //  interactions \n    for (let j = 0; j < interactions.length; j++) {\n      const interactionOption = interactions[j];\n      const { type, cfg } = interactionOption;\n      this.interaction(type, cfg);\n    }\n\n    //  view \n    for (let k = 0; k < views.length; k++) {\n      const viewOption = views[k];\n      this.createView(viewOption);\n    }\n\n    //  annotation\n    const annotationComponent = this.getController('annotation');\n    for (let l = 0; l < annotations.length; l++) {\n      const annotationOption = annotations[l];\n      annotationComponent.annotation(annotationOption);\n    }\n\n    //  events\n    if (events) {\n      each(events, (eventCallback, eventName) => {\n        this.on(eventName, eventCallback);\n      });\n    }\n\n    if (facets) {\n      each(facets, (facet) => {\n        const { type, ...rest } = facet;\n\n        this.facet(type, rest);\n      });\n    }\n  }\n\n  private createGeometry(geometryOption: GeometryOption) {\n    const { type, cfg = {} } = geometryOption;\n    if (this[type]) {\n      const geometry = this[type](cfg);\n      each(geometryOption, (v, k) => {\n        if (isFunction(geometry[k])) {\n          geometry[k](v);\n        }\n      });\n    }\n  }\n\n  /**\n   * scale key \n   * @param field\n   */\n  private getScaleKey(field: string): string {\n    return `${this.id}-${field}`;\n  }\n}\n\n/**\n *  geometry \n * @param name\n * @param Ctor\n * @returns Geometry\n */\nexport function registerGeometry(name: string, Ctor: any) {\n  //  view API \n  View.prototype[name.toLowerCase()] = function (cfg: any = {}) {\n    const props = {\n      /**  */\n      container: this.middleGroup.addGroup(),\n      labelsContainer: this.foregroundGroup.addGroup(),\n      ...cfg,\n    };\n\n    const geometry = new Ctor(props);\n    this.geometries.push(geometry);\n\n    return geometry;\n  };\n}\n\nexport default View;\n","import { debounce, each, isString } from '@antv/util';\nimport { ChartCfg } from '../interface';\nimport { GROUP_Z_INDEX, VIEW_LIFE_CIRCLE } from '../constant';\nimport { getEngine } from '../engine';\nimport { createDom, getChartSize, removeDom, modifyCSS } from '../util/dom';\nimport View from './view';\nimport { AriaOption } from '../interface';\n\n/**\n * Chart  G2 \n */\nexport default class Chart extends View {\n  /** Chart  DOM  */\n  public ele: HTMLElement;\n\n  /**  */\n  public width: number;\n  /**  */\n  public height: number;\n  /**  */\n  public localRefresh: boolean;\n  /**  DOM  false */\n  public autoFit: boolean;\n  /**  */\n  public renderer: 'canvas' | 'svg';\n\n  private wrapperElement: HTMLElement;\n\n  // @ts-ignore\n  constructor(props: ChartCfg) {\n    const {\n      container,\n      width,\n      height,\n      autoFit = false,\n      padding,\n      appendPadding,\n      renderer = 'canvas',\n      pixelRatio,\n      localRefresh = true,\n      visible = true,\n      supportCSSTransform = false,\n      defaultInteractions = ['tooltip', 'legend-filter', 'legend-active', 'continuous-filter', 'ellipsis-text', 'axis-description'],\n      options,\n      limitInPlot,\n      theme,\n      syncViewPadding,\n    } = props;\n\n    const ele: HTMLElement = isString(container) ? document.getElementById(container) : container;\n\n    //  div \n    const wrapperElement = createDom('<div style=\"position:relative;\"></div>');\n    ele.appendChild(wrapperElement);\n\n    // if autoFit, use the container size, to avoid the graph render twice.\n    const size = getChartSize(ele, autoFit, width, height);\n\n    const G = getEngine(renderer);\n\n    const canvas = new G.Canvas({\n      container: wrapperElement,\n      pixelRatio,\n      localRefresh,\n      supportCSSTransform,\n      ...size,\n    });\n\n    //  view \n    super({\n      parent: null,\n      canvas,\n      // create 3 group layers for views.\n      backgroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      padding,\n      appendPadding,\n      visible,\n      options,\n      limitInPlot,\n      theme,\n      syncViewPadding,\n    });\n\n    this.ele = ele;\n    this.canvas = canvas;\n    this.width = size.width;\n    this.height = size.height;\n    this.autoFit = autoFit;\n    this.localRefresh = localRefresh;\n    this.renderer = renderer;\n    this.wrapperElement = wrapperElement;\n\n    // \n    this.updateCanvasStyle();\n    this.bindAutoFit();\n    this.initDefaultInteractions(defaultInteractions);\n  }\n\n  private initDefaultInteractions(interactions) {\n    each(interactions, (interaction) => {\n      this.interaction(interaction);\n    });\n  }\n\n  /**\n   *  WAI-ARIA  arial \n   * @param ariaOption\n   */\n  public aria(ariaOption: AriaOption) {\n    const ATTR = 'aria-label';\n    if (ariaOption === false) {\n      this.ele.removeAttribute(ATTR);\n    } else {\n      this.ele.setAttribute(ATTR, ariaOption.label);\n    }\n  }\n\n  /**\n   * \n   * @param width \n   * @param height \n   * @returns\n   */\n  public changeSize(width: number, height: number) {\n    //  changeSize \n    if (this.width === width && this.height === height) {\n      return this;\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE);\n\n    this.width = width;\n    this.height = height;\n    this.canvas.changeSize(width, height);\n\n    // \n    this.render(true);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_SIZE);\n\n    return this;\n  }\n\n  /**\n   *  aria \n   */\n  public clear() {\n    super.clear();\n\n    this.aria(false);\n  }\n\n  /**\n   *  G.Canvas \n   * @returns void\n   */\n  public destroy() {\n    super.destroy();\n\n    this.unbindAutoFit();\n    this.canvas.destroy();\n\n    removeDom(this.wrapperElement);\n    this.wrapperElement = null;\n  }\n\n  /**\n   * \n   * @param visible true false \n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible); //  visible \n    this.wrapperElement.style.display = visible ? '' : 'none';\n\n    return this;\n  }\n\n  /**\n   *  resize \n   */\n  public forceFit() {\n    // skip if already destroyed\n    if (!this.destroyed) {\n      //  true autoFit = falseforceFit() \n      const { width, height } = getChartSize(this.ele, true, this.width, this.height);\n      this.changeSize(width, height);\n    }\n  }\n\n  private updateCanvasStyle() {\n    modifyCSS(this.canvas.get('el'), {\n      display: 'inline-block',\n      verticalAlign: 'middle',\n    });\n  }\n\n  private bindAutoFit() {\n    if (this.autoFit) {\n      window.addEventListener('resize', this.onResize);\n    }\n  }\n\n  private unbindAutoFit() {\n    if (this.autoFit) {\n      window.removeEventListener('resize', this.onResize);\n    }\n  }\n\n  /**\n   * when container size changed, change chart size props, and re-render.\n   */\n  private onResize = debounce(() => {\n    this.forceFit();\n  }, 300);\n}\n","import { each } from '@antv/util';\nimport { ComponentOption } from '../../interface';\nimport View from '../view';\n\n/** Component controller class type define */\nexport type ControllerCtor<O = any> = new (view: View) => Controller<O>;\n\n/**\n * Component Controller \n * 1.  option \n * 2.  API\n * 3. \n */\nexport abstract class Controller<O = unknown> {\n  /**  */\n  public visible: boolean = true;\n  protected view: View;\n  /** option  */\n  protected option: O;\n  /**  component */\n  protected components: ComponentOption[] = [];\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  public abstract get name(): string;\n\n  /**\n   * init the component\n   */\n  public abstract init();\n\n  /**\n   * render the components\n   */\n  public abstract render();\n\n  /**\n   * update the components\n   */\n  // public abstract update();\n\n  /**\n   * do layout\n   */\n  public abstract layout();\n\n  /**\n   * \n   *  -  id option \n   *  -  id  diff\n   *  - \n   *  - \n   *  - \n   */\n  public abstract update();\n\n  /**\n   * clear\n   * @param includeOption  option used in annotation\n   */\n  public clear(includeOption?: boolean) {\n    // destroy all components\n    each(this.components, (co: ComponentOption) => {\n      co.component.destroy();\n    });\n\n    // clear all component instance\n    this.components = [];\n  }\n\n  /**\n   * destroy the component\n   */\n  public destroy() {\n    this.clear();\n  }\n\n  /**\n   * get all components\n   * @returns components array\n   */\n  public getComponents(): ComponentOption[] {\n    return this.components;\n  }\n\n  /**\n   * change visibility of component\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.components.forEach((co: ComponentOption) => {\n      if (visible) {\n        co.component.show();\n      } else {\n        co.component.hide();\n      }\n    });\n    this.visible = visible;\n  }\n}\n","import { deepMix, find, get, isEqual, isFunction, mix, isString, isBoolean, flatten, isArray } from '@antv/util';\nimport { Crosshair, HtmlTooltip, IGroup } from '../../dependents';\nimport { Point, TooltipItem, TooltipOption } from '../../interface';\nimport { getAngleByPoint, getDistanceToCenter, isPointInCoordinate, getCoordinateClipCfg } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { findItemsFromView } from '../../util/tooltip';\nimport { BBox } from '../../util/bbox';\nimport { Controller } from './base';\nimport Event from '../event';\nimport View from '../view';\n\n// Filter duplicates, use `name`, `color`, `value` and `title` property values as condition\nfunction uniq(items) {\n  const uniqItems = [];\n  for (let index = 0; index < items.length; index++) {\n    const item = items[index];\n    const result = find(uniqItems, (subItem) => {\n      return (\n        subItem.color === item.color &&\n        subItem.name === item.name &&\n        subItem.value === item.value &&\n        subItem.title === item.title\n      );\n    });\n    if (!result) {\n      uniqItems.push(item);\n    }\n  }\n  return uniqItems;\n}\n\n/** @ignore */\nexport default class Tooltip extends Controller<TooltipOption> {\n  private tooltip;\n  private tooltipMarkersGroup: IGroup;\n  private tooltipCrosshairsGroup: IGroup;\n  private xCrosshair;\n  private yCrosshair;\n  private guideGroup: IGroup;\n\n  private isLocked: boolean = false;\n  private items;\n  private title: string;\n  private point: Point;\n\n  public get name(): string {\n    return 'tooltip';\n  }\n\n  public init() { }\n\n  private isVisible() {\n    const option = this.view.getOptions().tooltip;\n    return option !== false;\n  }\n\n  public render() { }\n\n  /**\n   * Shows tooltip\n   * @param point\n   */\n  public showTooltip(point: Point) {\n    this.point = point;\n    if (!this.isVisible()) {\n      //  tooltip(false) \n      return;\n    }\n    const view = this.view;\n    const items = this.getTooltipItems(point);\n    if (!items.length) {\n      //  tooltip \n      this.hideTooltip();\n      return;\n    }\n    const title = this.getTitle(items);\n    const dataPoint = {\n      x: items[0].x,\n      y: items[0].y,\n    }; // \n\n    view.emit(\n      'tooltip:show',\n      Event.fromData(view, 'tooltip:show', {\n        items,\n        title,\n        ...point,\n      })\n    );\n\n    const cfg = this.getTooltipCfg();\n    const { follow, showMarkers, showCrosshairs, showContent, marker } = cfg;\n    const lastItems = this.items;\n    const lastTitle = this.title;\n    if (!isEqual(lastTitle, title) || !isEqual(lastItems, items)) {\n      //  tooltip\n      view.emit(\n        'tooltip:change',\n        Event.fromData(view, 'tooltip:change', {\n          items,\n          title,\n          ...point,\n        })\n      );\n\n      if (isFunction(showContent) ? showContent(items) : showContent) {\n        //  tooltip  tooltip\n        if (!this.tooltip) {\n          // \n          this.renderTooltip();\n        }\n        this.tooltip.update(\n          mix(\n            {},\n            cfg,\n            {\n              items: this.getItemsAfterProcess(items),\n              title,\n            },\n            follow ? point : {}\n          )\n        );\n        this.tooltip.show();\n      }\n\n      if (showMarkers) {\n        //  tooltipMarkerstooltipMarkers \n        this.renderTooltipMarkers(items, marker);\n      }\n    } else {\n      // \n      if (this.tooltip && follow) {\n        this.tooltip.update(point);\n        this.tooltip.show(); // tooltip \n      }\n\n      if (this.tooltipMarkersGroup) {\n        this.tooltipMarkersGroup.show();\n      }\n    }\n\n    this.items = items;\n    this.title = title;\n\n    if (showCrosshairs) {\n      //  tooltip \n      const isCrosshairsFollowCursor = get(cfg, ['crosshairs', 'follow'], false); // \n      this.renderCrosshairs(isCrosshairsFollowCursor ? point : dataPoint, cfg);\n    }\n  }\n\n  public hideTooltip() {\n    const { follow } = this.getTooltipCfg();\n    if (!follow) {\n      this.point = null;\n      return;\n    }\n    // hide the tooltipMarkers\n    const tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.hide();\n    }\n\n    // hide crosshairs\n    const xCrosshair = this.xCrosshair;\n    const yCrosshair = this.yCrosshair;\n    if (xCrosshair) {\n      xCrosshair.hide();\n    }\n    if (yCrosshair) {\n      yCrosshair.hide();\n    }\n\n    const tooltip = this.tooltip;\n    if (tooltip) {\n      tooltip.hide();\n    }\n\n    this.view.emit('tooltip:hide', Event.fromData(this.view, 'tooltip:hide', {}));\n\n    this.point = null;\n  }\n\n  /**\n   * lockTooltip\n   */\n  public lockTooltip() {\n    this.isLocked = true;\n    if (this.tooltip) {\n      // tooltip contianer \n      this.tooltip.setCapture(true);\n    }\n  }\n\n  /**\n   * unlockTooltip\n   */\n  public unlockTooltip() {\n    this.isLocked = false;\n    const cfg = this.getTooltipCfg();\n    if (this.tooltip) {\n      //  capture \n      this.tooltip.setCapture(cfg.capture);\n    }\n  }\n\n  /**\n   * isTooltipLocked\n   */\n  public isTooltipLocked() {\n    return this.isLocked;\n  }\n\n  public clear() {\n    const { tooltip, xCrosshair, yCrosshair, tooltipMarkersGroup } = this;\n    if (tooltip) {\n      tooltip.hide();\n      tooltip.clear();\n    }\n\n    if (xCrosshair) {\n      xCrosshair.clear();\n    }\n\n    if (yCrosshair) {\n      yCrosshair.clear();\n    }\n\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.clear();\n    }\n\n    //  customContent  tooltip\n    if (tooltip?.get('customContent')) {\n      this.tooltip.destroy();\n      this.tooltip = null;\n    }\n\n    // title  items ,  tooltip \n    //  !isEqual(lastTitle, title) || !isEqual(lastItems, items)  tooltip \n    this.title = null;\n    this.items = null;\n  }\n\n  public destroy() {\n    if (this.tooltip) {\n      this.tooltip.destroy();\n    }\n    if (this.xCrosshair) {\n      this.xCrosshair.destroy();\n    }\n    if (this.yCrosshair) {\n      this.yCrosshair.destroy();\n    }\n\n    if (this.guideGroup) {\n      this.guideGroup.remove(true);\n    }\n\n    this.reset();\n  }\n\n  public reset() {\n    this.items = null;\n    this.title = null;\n    this.tooltipMarkersGroup = null;\n    this.tooltipCrosshairsGroup = null;\n    this.xCrosshair = null;\n    this.yCrosshair = null;\n    this.tooltip = null;\n    this.guideGroup = null;\n    this.isLocked = false;\n    this.point = null;\n  }\n\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    const { tooltip, tooltipMarkersGroup, xCrosshair, yCrosshair } = this;\n    if (visible) {\n      if (tooltip) {\n        tooltip.show();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.show();\n      }\n      if (xCrosshair) {\n        xCrosshair.show();\n      }\n      if (yCrosshair) {\n        yCrosshair.show();\n      }\n    } else {\n      if (tooltip) {\n        tooltip.hide();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.hide();\n      }\n      if (xCrosshair) {\n        xCrosshair.hide();\n      }\n      if (yCrosshair) {\n        yCrosshair.hide();\n      }\n    }\n    this.visible = visible;\n  }\n\n  public getTooltipItems(point: Point) {\n    let items = this.findItemsFromView(this.view, point);\n    if (items.length) {\n      // \n      items = flatten(items);\n      for (const itemArr of items) {\n        for (const item of itemArr) {\n          const { x, y } = item.mappingData;\n          item.x = isArray(x) ? x[x.length - 1] : x;\n          item.y = isArray(y) ? y[y.length - 1] : y;\n        }\n      }\n\n      const { shared } = this.getTooltipCfg();\n      // shared: false  shape  view  Geometry shape\n      if (shared === false && items.length > 1) {\n        let snapItem = items[0];\n        let min = Math.abs(point.y - snapItem[0].y);\n        for (const aItem of items) {\n          const yDistance = Math.abs(point.y - aItem[0].y);\n          if (yDistance <= min) {\n            snapItem = aItem;\n            min = yDistance;\n          }\n        }\n        items = [snapItem];\n      }\n\n      return uniq(flatten(items));\n    }\n\n    return [];\n  }\n\n  public layout() { }\n\n  public update() {\n    if (this.point) {\n      this.showTooltip(this.point);\n    }\n\n    if (this.tooltip) {\n      // #2279 resizetooltip\n      // tooltip\n      const canvas = this.view.getCanvas();\n      // TODO  tooltip  canvas \n      //  region\n      this.tooltip.set('region', {\n        start: { x: 0, y: 0 },\n        end: { x: canvas.get('width'), y: canvas.get('height') },\n      });\n    }\n  }\n\n  /**\n   *  enter tooltip \n   * @param point\n   */\n  public isCursorEntered(point: Point) {\n    //  tooltip dom \n    if (this.tooltip) {\n      const el: HTMLElement = this.tooltip.getContainer();\n      const capture = this.tooltip.get('capture');\n\n      if (el && capture) {\n        const { x, y, width, height } = el.getBoundingClientRect();\n        return new BBox(x, y, width, height).isPointIn(point);\n      }\n    }\n\n    return false;\n  }\n\n  //  tooltip  view.tooltip()  tooltip\n  public getTooltipCfg() {\n    const view = this.view;\n    const option = view.getOptions().tooltip;\n    const processOption = this.processCustomContent(option);\n    const theme = view.getTheme();\n    const defaultCfg = get(theme, ['components', 'tooltip'], {});\n    const enterable = get(processOption, 'enterable', defaultCfg.enterable);\n    return deepMix({}, defaultCfg, processOption, {\n      capture: enterable || this.isLocked ? true : false,\n    });\n  }\n\n  // process customContent\n  protected processCustomContent(option: TooltipOption) {\n    if (isBoolean(option) || !get(option, 'customContent')) {\n      return option;\n    }\n    const currentCustomContent = option.customContent;\n    const customContent = (title: string, items: any[]) => {\n      const content = currentCustomContent(title, items) || '';\n      return isString(content) ? '<div class=\"g2-tooltip\">' + content + '</div>' : content;\n    };\n    return {\n      ...option,\n      customContent,\n    };\n  }\n\n  private getTitle(items) {\n    const title = items[0].title || items[0].name;\n    this.title = title;\n\n    return title;\n  }\n\n  private renderTooltip() {\n    const canvas = this.view.getCanvas();\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n\n    const cfg = this.getTooltipCfg();\n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      ...cfg,\n      visible: false,\n      crosshairs: null,\n    });\n\n    tooltip.init();\n    this.tooltip = tooltip;\n  }\n\n  private renderTooltipMarkers(items, marker) {\n    const tooltipMarkersGroup = this.getTooltipMarkersGroup();\n    const rootView = this.view.getRootView();\n    const { limitInPlot } = rootView;\n    for (const item of items) {\n      const { x, y } = item;\n\n      // \n      if (limitInPlot || tooltipMarkersGroup?.getClip()) {\n        const { type, attrs } = getCoordinateClipCfg(rootView.getCoordinate());\n        tooltipMarkersGroup?.setClip({\n          type,\n          attrs,\n        });\n      } else {\n        //  clip\n        tooltipMarkersGroup?.setClip(undefined);\n      }\n\n      const attrs = {\n        fill: item.color,\n        symbol: 'circle',\n        shadowColor: item.color,\n        ...marker,\n        x,\n        y,\n      };\n\n      tooltipMarkersGroup.addShape('marker', {\n        attrs,\n      });\n    }\n  }\n\n  private renderCrosshairs(point: Point, cfg) {\n    const crosshairsType = get(cfg, ['crosshairs', 'type'], 'x'); //  x \n    if (crosshairsType === 'x') {\n      if (this.yCrosshair) {\n        this.yCrosshair.hide();\n      }\n      this.renderXCrosshairs(point, cfg);\n    } else if (crosshairsType === 'y') {\n      if (this.xCrosshair) {\n        this.xCrosshair.hide();\n      }\n      this.renderYCrosshairs(point, cfg);\n    } else if (crosshairsType === 'xy') {\n      this.renderXCrosshairs(point, cfg);\n      this.renderYCrosshairs(point, cfg);\n    }\n  }\n\n  //  x  tooltip \n  private renderXCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    if (!isPointInCoordinate(coordinate, point)) {\n      return;\n    }\n    let start;\n    let end;\n    if (coordinate.isRect) {\n      if (coordinate.isTransposed) {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      } else {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      }\n    } else {\n      //  x  crosshairs \n      const angle = getAngleByPoint(coordinate, point);\n      const center = coordinate.getCenter();\n      const radius = coordinate.getRadius();\n      end = polarToCartesian(center.x, center.y, radius, angle);\n      start = center;\n    }\n\n    const cfg = deepMix(\n      {\n        start,\n        end,\n        container: this.getTooltipCrosshairsGroup(),\n      },\n      get(tooltipCfg, 'crosshairs', {}),\n      this.getCrosshairsText('x', point, tooltipCfg)\n    );\n    delete cfg.type; //  Crosshairs  type \n\n    let xCrosshair = this.xCrosshair;\n    if (xCrosshair) {\n      xCrosshair.update(cfg);\n    } else {\n      xCrosshair = new Crosshair.Line(cfg);\n      xCrosshair.init();\n    }\n    xCrosshair.render();\n    xCrosshair.show();\n    this.xCrosshair = xCrosshair;\n  }\n\n  //  y \n  private renderYCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    if (!isPointInCoordinate(coordinate, point)) {\n      return;\n    }\n    let cfg;\n    let type;\n    if (coordinate.isRect) {\n      let start;\n      let end;\n      if (coordinate.isTransposed) {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      } else {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      }\n      cfg = {\n        start,\n        end,\n      };\n      type = 'Line';\n    } else {\n      //  y  crosshairs \n      cfg = {\n        center: coordinate.getCenter(),\n        // @ts-ignore\n        radius: getDistanceToCenter(coordinate, point),\n        startAngle: coordinate.startAngle,\n        endAngle: coordinate.endAngle,\n      };\n      type = 'Circle';\n    }\n\n    cfg = deepMix(\n      {\n        container: this.getTooltipCrosshairsGroup(),\n      },\n      cfg,\n      get(tooltipCfg, 'crosshairs', {}),\n      this.getCrosshairsText('y', point, tooltipCfg)\n    );\n    delete cfg.type; //  Crosshairs  type \n\n    let yCrosshair = this.yCrosshair;\n    if (yCrosshair) {\n      // \n      if (\n        (coordinate.isRect && yCrosshair.get('type') === 'circle') ||\n        (!coordinate.isRect && yCrosshair.get('type') === 'line')\n      ) {\n        yCrosshair = new Crosshair[type](cfg);\n        yCrosshair.init();\n      } else {\n        yCrosshair.update(cfg);\n      }\n    } else {\n      yCrosshair = new Crosshair[type](cfg);\n      yCrosshair.init();\n    }\n    yCrosshair.render();\n    yCrosshair.show();\n    this.yCrosshair = yCrosshair;\n  }\n\n  private getCrosshairsText(type, point: Point, tooltipCfg) {\n    let textCfg = get(tooltipCfg, ['crosshairs', 'text']);\n    const follow = get(tooltipCfg, ['crosshairs', 'follow']);\n    const items = this.items;\n\n    if (textCfg) {\n      const view = this.getViewWithGeometry(this.view);\n      // \n      const firstItem = items[0];\n      const xScale = view.getXScale();\n      const yScale = view.getYScales()[0];\n      let xValue;\n      let yValue;\n      if (follow) {\n        // \n        const invertPoint = this.view.getCoordinate().invert(point);\n        xValue = xScale.invert(invertPoint.x); // \n        yValue = yScale.invert(invertPoint.y); // \n      } else {\n        xValue = firstItem.data[xScale.field];\n        yValue = firstItem.data[yScale.field];\n      }\n\n      const content = type === 'x' ? xValue : yValue;\n      if (isFunction(textCfg)) {\n        textCfg = textCfg(type, content, items, point);\n      } else {\n        textCfg.content = content;\n      }\n\n      return {\n        text: textCfg,\n      };\n    }\n  }\n\n  //  tooltipMarkers  crosshairs \n  private getGuideGroup() {\n    if (!this.guideGroup) {\n      const foregroundGroup = this.view.foregroundGroup;\n      this.guideGroup = foregroundGroup.addGroup({\n        name: 'tooltipGuide',\n        capture: false,\n      });\n    }\n\n    return this.guideGroup;\n  }\n\n  //  tooltipMarkers \n  private getTooltipMarkersGroup() {\n    let tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup && !tooltipMarkersGroup.destroyed) {\n      tooltipMarkersGroup.clear();\n      tooltipMarkersGroup.show();\n    } else {\n      tooltipMarkersGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipMarkersGroup',\n      });\n      tooltipMarkersGroup.toFront();\n      this.tooltipMarkersGroup = tooltipMarkersGroup;\n    }\n    return tooltipMarkersGroup;\n  }\n\n  //  tooltip crosshairs \n  private getTooltipCrosshairsGroup() {\n    let tooltipCrosshairsGroup = this.tooltipCrosshairsGroup;\n    if (!tooltipCrosshairsGroup) {\n      tooltipCrosshairsGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipCrosshairsGroup',\n        capture: false,\n      });\n      tooltipCrosshairsGroup.toBack();\n      this.tooltipCrosshairsGroup = tooltipCrosshairsGroup;\n    }\n    return tooltipCrosshairsGroup;\n  }\n\n  private findItemsFromView(view: View, point: Point) {\n    if (view.getOptions().tooltip === false) {\n      //  view  tooltip\n      return [];\n    }\n\n    const tooltipCfg = this.getTooltipCfg();\n    let result = findItemsFromView(view, point, tooltipCfg);\n    // \n    for (const childView of view.views) {\n      result = result.concat(this.findItemsFromView(childView, point));\n    }\n\n    return result;\n  }\n\n  // FIXME: hack \n  //  tooltip  Chart chart  Geometry  View \n  private getViewWithGeometry(view) {\n    if (view.geometries.length) {\n      return view;\n    }\n\n    return find(view.views, (childView) => this.getViewWithGeometry(childView));\n  }\n\n  /**\n   *  items  items\n   * \n   */\n  private getItemsAfterProcess(originalItems: TooltipItem[]): TooltipItem[] {\n    const { customItems } = this.getTooltipCfg();\n    const fn = customItems ? customItems : (v) => v;\n\n    return fn(originalItems);\n  }\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/** @ignore */\ninterface AnimationMap {\n  [key: string]: Animation;\n}\n\ntype Animation = (element: IGroup | IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) => void;\n\nconst ANIMATIONS_MAP: AnimationMap = {};\n\n/**\n * \n * @param type \n */\nexport function getAnimation(type: string) {\n  return ANIMATIONS_MAP[type.toLowerCase()];\n}\n\n/**\n * \n * @param type \n * @param animation \n */\nexport function registerAnimation(type: string, animation: Animation) {\n  ANIMATIONS_MAP[type.toLowerCase()] = animation;\n}\n","import { deepMix, get, isFunction } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Coordinate, IGroup, IShape } from '../dependents';\nimport { AnimateCfg, Data, Datum, GAnimateCfg, Point } from '../interface';\nimport { AnimateExtraCfg } from './interface';\n\nimport { getAnimation } from './animation';\n\n// \nexport const DEFAULT_ANIMATE_CFG = {\n  appear: {\n    duration: 450,\n    easing: 'easeQuadOut',\n  }, // \n  update: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // \n  enter: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // \n  leave: {\n    duration: 350,\n    easing: 'easeQuadIn',\n  }, // \n};\n\n//  Geometry \nconst GEOMETRY_ANIMATE_CFG = {\n  interval: (coordinate: Coordinate) => {\n    return {\n      enter: {\n        animation: coordinate.isRect ? (coordinate.isTransposed ? 'scale-in-x' : 'scale-in-y') : 'fade-in',\n      },\n      update: {\n        animation: coordinate.isPolar && coordinate.isTransposed ? 'sector-path-update' : null,\n      },\n      leave: {\n        animation: 'fade-out',\n      },\n    };\n  },\n  line: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  path: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  point: {\n    appear: {\n      animation: 'zoom-in',\n    },\n    enter: {\n      animation: 'zoom-in',\n    },\n    leave: {\n      animation: 'zoom-out',\n    },\n  },\n  area: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  polygon: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  schema: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  edge: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  label: {\n    appear: {\n      animation: 'fade-in',\n      delay: 450,\n    },\n    enter: {\n      animation: 'fade-in',\n    },\n    update: {\n      animation: 'position-update',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n};\n\n//  Geometry \nconst GEOMETRY_GROUP_APPEAR_ANIMATION = {\n  line: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  area: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  path: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n  interval(coordinate: Coordinate) {\n    let animation;\n\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n      if (coordinate.isPolar && coordinate.isTransposed) {\n        // pie chart\n        animation = 'wave-in';\n      }\n    }\n    return {\n      animation,\n    };\n  },\n  schema: (coordinate) => {\n    let animation;\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n    }\n    return {\n      animation,\n    };\n  },\n  polygon: () => {\n    return {\n      animation: 'fade-in',\n      duration: 500,\n    };\n  },\n  edge: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n};\n\n// \nfunction parseAnimateConfig(animateCfg: AnimateCfg, data: Data | Datum): GAnimateCfg {\n  return {\n    delay: isFunction(animateCfg.delay) ? animateCfg.delay(data) : animateCfg.delay,\n    easing: isFunction(animateCfg.easing) ? animateCfg.easing(data) : animateCfg.easing,\n    duration: isFunction(animateCfg.duration) ? animateCfg.duration(data) : animateCfg.duration,\n    callback: animateCfg.callback,\n    repeat: animateCfg.repeat,\n  };\n}\n\n/**\n * @ignore\n *  elementName  `animateType` `animateType` \n * @param elementName \n * @param coordinate \n * @param animateType \n */\nexport function getDefaultAnimateCfg(elementName: string, coordinate: Coordinate, animateType?: string) {\n  let animateCfg = GEOMETRY_ANIMATE_CFG[elementName];\n\n  if (animateCfg) {\n    if (isFunction(animateCfg)) {\n      animateCfg = animateCfg(coordinate);\n    }\n    animateCfg = deepMix({}, DEFAULT_ANIMATE_CFG, animateCfg);\n\n    if (animateType) {\n      return animateCfg[animateType];\n    }\n  }\n  return animateCfg;\n}\n\n/**\n * @ignore\n * \n *  shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function doAnimate(shape: IGroup | IShape, animateCfg: AnimateCfg, cfg: AnimateExtraCfg) {\n  const data = get(shape.get('origin'), 'data', FIELD_ORIGIN);\n  const animation = animateCfg.animation; // \n  const parsedAnimateCfg = parseAnimateConfig(animateCfg, data);\n  if (animation) {\n    // \n    const animateFunction = getAnimation(animation);\n    if (animateFunction) {\n      animateFunction(shape, parsedAnimateCfg, cfg);\n    }\n  } else {\n    //  toAttrs \n    shape.animate(cfg.toAttrs, parsedAnimateCfg);\n  }\n}\n\n/**\n * @ignore\n *  Geometry \n * @param container \n * @param animateCfg \n * @param geometryType geometry \n * @param coordinate \n * @param minYPoint y \n */\nexport function doGroupAppearAnimate(\n  container: IGroup,\n  animateCfg: AnimateCfg,\n  geometryType: string,\n  coordinate: Coordinate,\n  minYPoint: Point\n) {\n  if (GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType]) {\n    const defaultCfg = GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType](coordinate);\n    const animation = getAnimation(get(defaultCfg, 'animation', ''));\n    if (animation) {\n      const cfg = {\n        ...DEFAULT_ANIMATE_CFG.appear,\n        ...defaultCfg,\n        ...animateCfg,\n      };\n      container.stopAnimate(); //  container \n      animation(container, cfg, {\n        coordinate,\n        minYPoint,\n        toAttrs: null,\n      });\n    }\n  }\n}\n","/**\n * Name of Background Shape\n */\nexport const BACKGROUND_SHAPE = 'element-background';\n","import { deepMix, each, get, isArray, isEmpty, isEqual, isFunction, isString } from '@antv/util';\n// \n// @ts-ignore\nimport { propagationDelegate } from '@antv/component';\nimport { doAnimate } from '../../animate';\nimport Base from '../../base';\nimport { BBox, IGroup, IShape } from '../../dependents';\nimport { AnimateOption, Datum, ShapeFactory, ShapeInfo, StateCfg } from '../../interface';\nimport { getReplaceAttrs } from '../../util/graphics';\nimport Geometry from '../base';\nimport { GEOMETRY_LIFE_CIRCLE } from '../../constant';\nimport { BACKGROUND_SHAPE } from '../shape/constant';\n\n/** Element  */\ninterface ElementCfg {\n  /**  shape  */\n  shapeFactory: ShapeFactory;\n  /** shape  */\n  container: IGroup;\n  /** element  */\n  elementIndex?: number;\n  /**  group */\n  offscreenGroup?: IGroup;\n  /**  */\n  visible?: boolean;\n}\n\n/**\n * Element \n *  G2 Element / Shape  Shape\n */\nexport default class Element extends Base {\n  /**  shape  */\n  public shapeFactory: ShapeFactory;\n  /** shape  */\n  public container: IGroup;\n  /** element  */\n  public elementIndex: number;\n  /**  */\n  public shape: IShape | IGroup;\n  /** shape  */\n  public animate: AnimateOption | boolean;\n\n  // \n  /** element  Geometry  */\n  public geometry: Geometry;\n  /**  shape  label */\n  public labelShape: IGroup[] = [];\n\n  /**  shape  */\n  private shapeType: string;\n\n  /** shape  */\n  private model: ShapeInfo;\n  /**  */\n  private data: Datum;\n  // \n  private states: string[] = [];\n  private statesStyle;\n  //  Group\n  private offscreenGroup: IGroup;\n\n  constructor(cfg: ElementCfg) {\n    super(cfg);\n\n    const { shapeFactory, container, offscreenGroup, elementIndex, visible = true } = cfg;\n    this.shapeFactory = shapeFactory;\n    this.container = container;\n    this.offscreenGroup = offscreenGroup;\n    this.visible = visible;\n    this.elementIndex = elementIndex;\n  }\n\n  /**\n   * \n   * @param model \n   * @param isUpdate \n   */\n  public draw(model: ShapeInfo, isUpdate: boolean = false) {\n    this.model = model;\n    this.data = model.data; // \n    this.shapeType = this.getShapeType(model);\n\n    // \n    this.drawShape(model, isUpdate);\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \n   * @param model \n   */\n  public update(model: ShapeInfo) {\n    const { shapeFactory, shape } = this;\n    if (!shape) {\n      return;\n    }\n\n    // \n    this.model = model;\n    this.data = model.data;\n    this.shapeType = this.getShapeType(model);\n\n    // step 1:  shape \n    this.setShapeInfo(shape, model);\n\n    // step 2:  Group  shape shape\n    const offscreenGroup = this.getOffscreenGroup();\n    const newShape = shapeFactory.drawShape(this.shapeType, model, offscreenGroup);\n    // @ts-ignore\n    newShape.cfg.data = this.data;\n    // @ts-ignore\n    newShape.cfg.origin = model;\n    // label \n    newShape.cfg.element = this;\n\n    // step 3:  shape \n    this.syncShapeStyle(shape, newShape, this.getStates(), this.getAnimateCfg('update'));\n  }\n\n  /**\n   *  element \n   */\n  public destroy() {\n    const { shapeFactory, shape } = this;\n\n    if (shape) {\n      const animateCfg = this.getAnimateCfg('leave');\n      if (animateCfg) {\n        // \n        doAnimate(shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...shape.attr(),\n          },\n        });\n      } else {\n        // \n        shape.remove(true);\n      }\n    }\n\n    // reset\n    this.states = [];\n    this.shapeFactory = undefined;\n    this.container = undefined;\n    this.shape = undefined;\n    this.animate = undefined;\n    this.geometry = undefined;\n    this.labelShape = [];\n    this.model = undefined;\n    this.data = undefined;\n    this.offscreenGroup = undefined;\n    this.statesStyle = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   *  element\n   * @param visible \n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n\n    if (visible) {\n      if (this.shape) {\n        this.shape.show();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.show();\n        });\n      }\n    } else {\n      if (this.shape) {\n        this.shape.hide();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.hide();\n        });\n      }\n    }\n  }\n\n  /**\n   *  Element \n   *\n   *  Element \n   * 1. active\n   * 2. selected\n   * 3. inactive\n   *\n   * \n   *\n   *  [[Theme]]  `geometry.state()` \n   *\n   * ```ts\n   * //  active \n   * setState('active', true);\n   * ```\n   *\n   * @param stateName \n   * @param stateStatus \n   */\n  public setState(stateName: string, stateStatus: boolean) {\n    const { states, shapeFactory, model, shape, shapeType } = this;\n\n    const index = states.indexOf(stateName);\n    if (stateStatus) {\n      // \n      if (index > -1) {\n        // \n        return;\n      }\n      states.push(stateName);\n      if (stateName === 'active' || stateName === 'selected') {\n        shape?.toFront();\n      }\n    } else {\n      if (index === -1) {\n        // \n        return;\n      }\n      states.splice(index, 1);\n      if (stateName === 'active' || stateName === 'selected') {\n        const { sortZIndex, zIndexReversed } = this.geometry;\n        const idx = zIndexReversed ? this.geometry.elements.length - this.elementIndex : this.elementIndex;\n        sortZIndex ? shape.setZIndex(idx) : shape.set('zIndex', idx);\n      }\n    }\n\n    //  group  shape shape  shape\n    const offscreenShape = shapeFactory.drawShape(shapeType, model, this.getOffscreenGroup());\n    if (states.length) {\n      // \n      this.syncShapeStyle(shape, offscreenShape, states, null);\n    } else {\n      // \n      this.syncShapeStyle(shape, offscreenShape, ['reset'], null);\n    }\n\n    offscreenShape.remove(true); // \n\n    const eventObject = {\n      state: stateName,\n      stateStatus,\n      element: this,\n      target: this.container,\n    };\n    this.container.emit('statechange', eventObject);\n    // @ts-ignore\n    propagationDelegate(this.shape, 'statechange', eventObject);\n  }\n\n  /**\n   * \n   */\n  public clearStates() {\n    const states = this.states;\n\n    each(states, (state) => {\n      this.setState(state, false);\n    });\n\n    this.states = [];\n  }\n\n  /**\n   *  Element  `stateName` \n   * @param stateName \n   * @returns true false \n   */\n  public hasState(stateName: string): boolean {\n    return this.states.includes(stateName);\n  }\n\n  /**\n   *  Element \n   * @returns  Element \n   */\n  public getStates(): string[] {\n    return this.states;\n  }\n\n  /**\n   *  Element \n   * @returns \n   */\n  public getData(): Datum {\n    return this.data;\n  }\n\n  /**\n   *  Element \n   * @returns \n   */\n  public getModel(): ShapeInfo {\n    return this.model;\n  }\n\n  /**\n   *  Element  bbox\n   * @returns \n   */\n  public getBBox(): BBox {\n    const { shape, labelShape } = this;\n    let bbox = {\n      x: 0,\n      y: 0,\n      minX: 0,\n      minY: 0,\n      maxX: 0,\n      maxY: 0,\n      width: 0,\n      height: 0,\n    };\n    if (shape) {\n      bbox = shape.getCanvasBBox();\n    }\n    if (labelShape) {\n      labelShape.forEach((label: IGroup) => {\n        const labelBBox = label.getCanvasBBox();\n        bbox.x = Math.min(labelBBox.x, bbox.x);\n        bbox.y = Math.min(labelBBox.y, bbox.y);\n        bbox.minX = Math.min(labelBBox.minX, bbox.minX);\n        bbox.minY = Math.min(labelBBox.minY, bbox.minY);\n        bbox.maxX = Math.max(labelBBox.maxX, bbox.maxX);\n        bbox.maxY = Math.max(labelBBox.maxY, bbox.maxY);\n      });\n    }\n\n    bbox.width = bbox.maxX - bbox.minX;\n    bbox.height = bbox.maxY - bbox.minY;\n\n    return bbox;\n  }\n\n  private getStatesStyle() {\n    if (!this.statesStyle) {\n      const { shapeType, geometry, shapeFactory } = this;\n      const stateOption = geometry.stateOption;\n      const defaultShapeType = shapeFactory.defaultShapeType;\n      const stateTheme = shapeFactory.theme[shapeType] || shapeFactory.theme[defaultShapeType];\n      this.statesStyle = deepMix({}, stateTheme, stateOption);\n    }\n\n    return this.statesStyle;\n  }\n\n  // \n  private getStateStyle(stateName: string, shapeKey?: string): StateCfg {\n    const statesStyle = this.getStatesStyle();\n    const stateCfg = get(statesStyle, [stateName, 'style'], {});\n    const shapeStyle = stateCfg[shapeKey] || stateCfg;\n    if (isFunction(shapeStyle)) {\n      return shapeStyle(this);\n    }\n\n    return shapeStyle;\n  }\n\n  // \n  private getAnimateCfg(animateType: string) {\n    const animate = this.animate;\n    if (animate) {\n      const cfg = animate[animateType];\n\n      if (cfg) {\n        //  geometry  animate \n        return {\n          ...cfg,\n          callback: () => {\n            isFunction(cfg.callback) && cfg.callback();\n            this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE);\n          },\n        };\n      }\n      return cfg;\n    }\n\n    return null;\n  }\n\n  // \n  private drawShape(model: ShapeInfo, isUpdate: boolean = false) {\n    const { shapeFactory, container, shapeType } = this;\n\n    //  shape  shape\n    this.shape = shapeFactory.drawShape(shapeType, model, container);\n\n    if (this.shape) {\n      this.setShapeInfo(this.shape, model); // \n      // @ts-ignore\n      const name = this.shape.cfg.name;\n      //  element  name, name \n      if (!name) {\n        //  name,  name  name\n        // @ts-ignore\n        this.shape.cfg.name = ['element', this.shapeFactory.geometryType];\n      } else if (isString(name)) {\n        // @ts-ignore\n        this.shape.cfg.name = ['element', name];\n      }\n      // \n      const animateType = isUpdate ? 'enter' : 'appear';\n      const animateCfg = this.getAnimateCfg(animateType);\n      if (animateCfg) {\n        // \n        this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n\n        doAnimate(this.shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...this.shape.attr(),\n          },\n        });\n      }\n    }\n  }\n\n  //  Group\n  private getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // \n      this.offscreenGroup = new GroupCtor({});\n    }\n\n    return this.offscreenGroup;\n  }\n\n  //  shape \n  private setShapeInfo(shape: IShape | IGroup, data: ShapeInfo) {\n    // @ts-ignore\n    shape.cfg.origin = data;\n    // @ts-ignore\n    shape.cfg.element = this;\n    if (shape.isGroup()) {\n      const children = shape.get('children');\n      children.forEach((child) => {\n        this.setShapeInfo(child, data);\n      });\n    }\n  }\n\n  //  shape \n  private syncShapeStyle(\n    sourceShape: IGroup | IShape,\n    targetShape: IGroup | IShape,\n    states: string[] = [],\n    animateCfg,\n    index: number = 0\n  ) {\n    if (!sourceShape || !targetShape) {\n      return;\n    }\n    //  shape  clip\n    const clip = sourceShape.get('clipShape');\n    const newClip = targetShape.get('clipShape');\n\n    this.syncShapeStyle(clip, newClip, states, animateCfg);\n\n    if (sourceShape.isGroup()) {\n      const children = sourceShape.get('children');\n      const newChildren = targetShape.get('children');\n      for (let i = 0; i < children.length; i++) {\n        this.syncShapeStyle(children[i], newChildren[i], states, animateCfg, index + i);\n      }\n    } else {\n      if (!isEmpty(states) && !isEqual(states, ['reset'])) {\n        let name = sourceShape.get('name');\n        if (isArray(name)) {\n          //  element  name\n          name = name[1];\n        }\n\n        each(states, (state) => {\n          // background shape \n          if (targetShape.get('name') !== BACKGROUND_SHAPE) {\n            const style = this.getStateStyle(state, name || index); //  name\n            targetShape.attr(style);\n          }\n        });\n      }\n      const newAttrs = getReplaceAttrs(sourceShape as IShape, targetShape as IShape);\n\n      if (this.animate) {\n        if (animateCfg) {\n          this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n          // \n          doAnimate(sourceShape, animateCfg, {\n            coordinate: this.shapeFactory.coordinate,\n            toAttrs: newAttrs,\n            shapeModel: this.model,\n          });\n        } else if (!isEmpty(states)) {\n          sourceShape.stopAnimate();\n          sourceShape.animate(newAttrs, {\n            duration: 300,\n          });\n        } else {\n          sourceShape.attr(newAttrs);\n        }\n      } else {\n        sourceShape.attr(newAttrs);\n      }\n    }\n  }\n\n  private getShapeType(model: ShapeInfo) {\n    const shape = get(model, 'shape');\n    return isArray(shape) ? shape[0] : shape;\n  }\n}\n","import { BBox, IGroup, IShape } from '../../dependents';\nimport { LooseObject } from '../../interface';\nimport { GeometryLabelConstructor } from './base';\nimport { LabelItem } from './interface';\n\n/**\n * label \n * @param items  label \n * @param labels  labels \n * @param shapes  label \n * @param region \n * @param cfg \n */\ntype GeometryLabelsLayoutFn = (\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg?: LooseObject\n) => void;\n\nconst GEOMETRY_LABELS_MAP: Record<string, GeometryLabelConstructor> = {};\nconst GEOMETRY_LABELS_LAYOUT_MAP: Record<string, GeometryLabelsLayoutFn> = {};\n\n/**\n *  `type`  [[GeometryLabel]] \n * @param type\n * @returns\n */\nexport function getGeometryLabel(type: string): GeometryLabelConstructor {\n  return GEOMETRY_LABELS_MAP[type.toLowerCase()];\n}\n\n/**\n *  GeometryLabel \n * @param type GeometryLabel \n * @param ctor GeometryLabel \n */\nexport function registerGeometryLabel(type: string, ctor: GeometryLabelConstructor) {\n  GEOMETRY_LABELS_MAP[type.toLowerCase()] = ctor;\n}\n\n/**\n *  `type`  [[GeometryLabelsLayoutFn]] label \n * @param type \n * @returns\n */\nexport function getGeometryLabelLayout(type: string): GeometryLabelsLayoutFn {\n  return GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()];\n}\n\n/**\n *  label \n * @param type label \n * @param layoutFn label \n */\nexport function registerGeometryLabelLayout(type: string, layoutFn: GeometryLabelsLayoutFn) {\n  GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()] = layoutFn;\n}\n","import { LooseObject } from '@antv/g-svg';\nimport { parsePathString } from '@antv/path-util';\nimport { deepMix, get, upperFirst } from '@antv/util';\nimport { IGroup, IShape, PathCommand } from '../../dependents';\nimport {\n  Point,\n  RegisterShape,\n  RegisterShapeFactory,\n  Shape,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerAttrs,\n  ShapeMarkerCfg,\n  ShapePoint,\n} from '../../interface';\n\nimport { convertNormalPath, convertPolarPath } from './util/path';\n\n/** ShapeFactory  */\nconst ShapeFactoryBase = {\n  /**  */\n  coordinate: null,\n  /**  Shape  */\n  defaultShapeType: null,\n  /**  */\n  theme: null,\n  /**\n   *  shape \n   * @param shapeType shape \n   * @param shapePoint  size \n   * @returns \n   */\n  getShapePoints(shapeType: string, shapePoint: ShapePoint) {\n    const shape = this.getShape(shapeType);\n    if (shape.getPoints) {\n      return shape.getPoints(shapePoint);\n    }\n\n    return this.getDefaultPoints(shapePoint);\n  },\n  /**\n   *  shape  shape \n   * @param shapeType string shape \n   * @returns\n   */\n  getShape(shapeType: string): Shape {\n    const shape = this[shapeType] || this[this.defaultShapeType];\n    shape.coordinate = this.coordinate;\n\n    return shape;\n  },\n  /**\n   *  shape \n   * @override\n   */\n  getDefaultPoints() {\n    return [];\n  },\n  /**\n   *  shape  ( shapeFactory )\n   */\n  getDefaultStyle(geometryTheme: LooseObject): LooseObject {\n    return get(geometryTheme, [this.defaultShapeType, 'default', 'style'], {});\n  },\n  /**\n   *  shape \n   * @param shapeType shape \n   * @param color \n   * @param isInPolar \n   * @returns  marker \n   */\n  getMarker(shapeType: string, markerCfg: ShapeMarkerCfg): ShapeMarkerAttrs {\n    let shape = this.getShape(shapeType);\n\n    if (!shape.getMarker) {\n      const defaultShapeType = this.defaultShapeType;\n      shape = this.getShape(defaultShapeType);\n    }\n\n    const theme = this.theme;\n    const shapeStyle = get(theme, [shapeType, 'default'], {});\n    const markerStyle = shape.getMarker(markerCfg);\n\n    return deepMix({}, shapeStyle, markerStyle);\n  },\n  /**\n   *  shape\n   * @override\n   * @param shapeType  shape \n   * @param cfg  shape \n   * @param element Element \n   * @returns\n   */\n  drawShape(shapeType: string, cfg: ShapeInfo, container: IGroup): IShape | IGroup {\n    const shape = this.getShape(shapeType);\n    return shape.draw(cfg, container);\n  },\n};\n\n/** Shape  */\nconst ShapeBase = {\n  /**  */\n  coordinate: null,\n  /**\n   *  path  path\n   * @param path \n   * @returns\n   */\n  parsePath(path: string): PathCommand[] {\n    const coordinate = this.coordinate;\n    let parsedPath = parsePathString(path);\n    if (coordinate.isPolar) {\n      parsedPath = convertPolarPath(coordinate, parsedPath);\n    } else {\n      parsedPath = convertNormalPath(coordinate, parsedPath);\n    }\n    return parsedPath;\n  },\n  /**\n   * \n   * @param point \n   * @returns\n   */\n  parsePoint(point: Point): Point {\n    const coordinate = this.coordinate;\n    return coordinate.convert(point);\n  },\n  /**\n   * 01 points   points\n   * @param points \n   * @returns\n   */\n  parsePoints(points: Point[]): Point[] {\n    const coordinate = this.coordinate;\n    return points.map((point) => {\n      return coordinate.convert(point);\n    });\n  },\n  /**\n   *  shape\n   * @override\n   */\n  draw(cfg: ShapeInfo, container: IGroup) {},\n};\n\nconst ShapeFactoryMap = {};\n\n/**\n *  ShapeFactory\n * @param factoryName  ShapeFactory  Geometry \n * @param cfg  ShapeFactory \n * @returns  ShapeFactory \n */\nexport function registerShapeFactory(factoryName: string, cfg: RegisterShapeFactory): ShapeFactory {\n  const className = upperFirst(factoryName);\n  const geomObj = {\n    ...ShapeFactoryBase,\n    ...cfg,\n    geometryType: factoryName,\n  };\n  ShapeFactoryMap[className] = geomObj;\n  return geomObj;\n}\n\n/**\n *  Shape\n * @param factoryName  ShapeFactory \n * @param shapeType  shape \n * @param cfg  Shape \n * @returns shape  shape \n */\nexport function registerShape(factoryName: string, shapeType: string, cfg: RegisterShape): Shape {\n  const className = upperFirst(factoryName);\n  const factory = ShapeFactoryMap[className];\n  const shapeObj = {\n    ...ShapeBase,\n    ...cfg,\n  };\n  factory[shapeType] = shapeObj;\n  return shapeObj;\n}\n\n/**\n *  factoryName  shapeFactory\n * @param factoryName\n * @returns shape factory\n */\nexport function getShapeFactory(factoryName: string): ShapeFactory {\n  const className = upperFirst(factoryName);\n  return ShapeFactoryMap[className];\n}\n","import { groupToMap } from '@antv/util';\nimport { Data } from '../../interface';\n\n/** @ignore */\nexport function group(data: Data, fields: string[], appendConditions: Record<string, any[]> = {}) {\n  if (!fields) {\n    return [data];\n  }\n  const groups = groupToMap(data, fields);\n  const array = [];\n  if (fields.length === 1 && appendConditions[fields[0]]) {\n    const values = appendConditions[fields[0]];\n    for (const value of values) {\n      const arr = groups[`_${value}`];\n      if (arr) {\n        //  values  arr  null\n        array.push(arr);\n      }\n    }\n  } else {\n    for (const k in groups) {\n      if (groups.hasOwnProperty(k)) {\n        const eachGroup = groups[k];\n        array.push(eachGroup);\n      }\n    }\n  }\n\n  return array;\n}\n","import { isEqual, some } from '@antv/util';\nimport { ShapeInfo } from '../../interface';\n\n/**\n * @ignore\n * Determines whether model is change\n * @param currentModel\n * @param preModel\n * @returns\n */\nexport function isModelChange(currentModel: ShapeInfo, preModel: ShapeInfo) {\n  return some(\n    ['color', 'shape', 'size', 'x', 'y', 'isInCircle', 'data', 'style', 'defaultStyle', 'points', 'mappingData'],\n    (key: string) => {\n      return !isEqual(currentModel[key], preModel[key]);\n    }\n  );\n}\n","import { isArray } from '@antv/util';\n\n/** @ignore */\nexport function parseFields(field: string | string[]): string[] {\n  if (isArray(field)) {\n    return field;\n  }\n\n  return field.split('*');\n}\n","/**\n *  added, updated, removed\n * @param keyItem  key-item  object \n * @param keys  array \n * @returns  added, updated, removed array  object\n */\nexport function diff(keyItem: Record<string, any>, keys: string[]) {\n  const added = [];\n  const updated = [];\n  const removed = [];\n  const keyIncluded = new Map<string, boolean>();\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    if (keyItem[key]) updated.push(key);\n    else added.push(key);\n    keyIncluded.set(key, true);\n  }\n\n  Object.keys(keyItem).forEach((key) => {\n    if (!keyIncluded.has(key)) removed.push(key);\n  });\n\n  return {\n    added,\n    updated,\n    removed,\n  };\n}\n","import { Adjust, getAdjust as getAdjustClass } from '@antv/adjust';\nimport { Attribute, getAttribute as getAttributeClass } from '@antv/attr';\nimport {\n  clone,\n  deepMix,\n  each,\n  flatten,\n  get,\n  isArray,\n  isEmpty,\n  isEqual,\n  isFunction,\n  isNil,\n  isNumber,\n  isObject,\n  isPlainObject,\n  isString,\n  set,\n} from '@antv/util';\nimport { doGroupAppearAnimate, getDefaultAnimateCfg } from '../animate';\nimport Base from '../base';\nimport { FIELD_ORIGIN, GEOMETRY_LIFE_CIRCLE, GROUP_ATTRS } from '../constant';\nimport { BBox, Coordinate, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AdjustOption,\n  AdjustType,\n  AnimateOption,\n  AttributeOption,\n  ColorAttrCallback,\n  Data,\n  Datum,\n  GeometryLabelCfg,\n  GeometryTooltipOption,\n  LabelCallback,\n  LabelOption,\n  LooseObject,\n  MappingDatum,\n  ScaleOption,\n  ShapeAttrCallback,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerCfg,\n  ShapeMarkerAttrs,\n  ShapePoint,\n  SizeAttrCallback,\n  StateOption,\n  StyleCallback,\n  StyleOption,\n  TooltipCallback,\n  CustomOption,\n} from '../interface';\nimport { uniq } from '../util/helper';\nimport Element from './element';\nimport { getGeometryLabel } from './label';\nimport GeometryLabel from './label/base';\nimport { getShapeFactory } from './shape/base';\nimport { group } from './util/group-data';\nimport { isModelChange } from './util/is-model-change';\nimport { parseFields } from './util/parse-fields';\nimport { diff } from './util/diff';\nimport { inferScaleType } from '../util/scale';\nimport { getXDimensionLength } from '../util/coordinate';\n\n/** @ignore */\ninterface AttributeInstanceCfg {\n  fields?: string[];\n  callback?: (...args) => any;\n  values?: string[] | number[];\n  scales?: Scale[];\n}\ninterface DimValuesMapType {\n  [dim: string]: number[];\n}\n/** @ignore */\ninterface AdjustInstanceCfg {\n  type: AdjustType;\n  adjustNames?: string[];\n  xField?: string;\n  yField?: string;\n\n  dodgeBy?: string;\n  marginRatio?: number;\n  dodgeRatio?: number;\n\n  size?: number;\n  height?: number;\n  reverseOrder?: boolean;\n\n  /** offset */\n  intervalPadding?: number;\n  dodgePadding?: number;\n  /** xpadding */\n  xDimensionLength?: number;\n  /** offset */\n  groupNum?: number;\n  /**  size */\n  defaultSize?: number;\n  /**  */\n  maxColumnWidth?: number;\n  minColumnWidth?: number;\n  /**  */\n  columnWidthRatio?: number;\n  /** dimValuesMap */\n  dimValuesMap?: DimValuesMapType;\n}\n\n/** geometry.init()  */\nexport interface InitCfg {\n  /**  */\n  coordinate?: Coordinate;\n  /**  */\n  data?: Data;\n  /**  */\n  theme?: LooseObject;\n  /**  */\n  scaleDefs?: Record<string, ScaleOption>;\n  /**  */\n  isDataChanged?: boolean;\n  isCoordinateChanged?: boolean;\n}\n\n/** Geometry  */\nexport interface GeometryCfg {\n  /** Geometry shape  */\n  container: IGroup;\n  /**  */\n  coordinate?: Coordinate;\n  /**  */\n  data?: Data;\n  /**  scales */\n  scales?: Record<string, Scale>;\n  /**  */\n  scaleDefs?: Record<string, ScaleOption>;\n  /** Geometry labels  */\n  labelsContainer?: IGroup;\n  /**  */\n  sortable?: boolean;\n  /** elements  zIndex  zIndexReversed  */\n  zIndexReversed?: boolean;\n  /**  zIndex  sort */\n  sortZIndex?: boolean;\n  /**  Geometry .  true ,  timeout  */\n  useDeferredLabel?: boolean | number;\n  /**  */\n  visible?: boolean;\n  /**  */\n  theme?: LooseObject;\n\n  /**  */\n  intervalPadding?: number;\n  /**  */\n  dodgePadding?: number;\n  /**  */\n  maxColumnWidth?: number;\n  /**  */\n  minColumnWidth?: number;\n  /** intervalschema */\n  columnWidthRatio?: number;\n  /**  */\n  roseWidthRatio?: number;\n  /** / */\n  multiplePieWidthRatio?: number;\n}\n\n/**\n * Geometry \n */\nexport default class Geometry<S extends ShapePoint = ShapePoint> extends Base {\n  /** Geometry  */\n  public readonly type: string = 'base';\n  /** ShapeFactory  */\n  public readonly shapeType: string;\n\n  //  Geometry \n  /** Coordinate  */\n  public coordinate: Coordinate;\n  /**  */\n  public data: Data;\n  /**  */\n  public readonly container: IGroup;\n  /** label  */\n  public readonly labelsContainer: IGroup;\n  /**  false  */\n  public sortable: boolean;\n  /**  Geometry   */\n  public theme: LooseObject;\n  /**  geometry  scales */\n  public scales: Record<string, Scale>;\n  /** scale  */\n  public scaleDefs: Record<string, ScaleOption>;\n  /**  label  */\n  public canvasRegion: BBox;\n\n  // \n  /** Attribute map  */\n  public attributes: Record<string, Attribute> = {};\n  /** Element map */\n  public elements: Element[] = [];\n  /**\n   * \n   * + init()  updateData() ,  Data[]\n   * + paint()  MappingDatum[][]\n   */\n  public dataArray: MappingDatum[][];\n  /**  tooltip  */\n  public tooltipOption: GeometryTooltipOption | boolean;\n  /**  label  */\n  public labelOption: LabelOption | false;\n  /**  */\n  public stateOption: StateOption;\n  /**  key-value  Elementkey  Element  ID */\n  public elementsMap: Record<string, Element> = {};\n  /** animate  */\n  public animateOption: AnimateOption | boolean = true;\n  /**  */\n  protected attributeOption: Record<string, AttributeOption> = {};\n  /** adjust  */\n  protected adjustOption: AdjustOption[];\n  /** style  */\n  protected styleOption: StyleOption;\n  /** custom  */\n  protected customOption: CustomOption;\n  /**  Geometry  Shape  Shape */\n  protected shapeFactory: ShapeFactory;\n  /**  element  */\n  protected lastElementsMap: Record<string, Element> = {};\n  /**  */\n  protected generatePoints: boolean = false;\n  /**  */\n  protected beforeMappingData: Data[] = null;\n  /**  shape  size IntervalSchema  */\n  protected defaultSize: number;\n\n  //  geometry \n  private userTheme: LooseObject;\n  private adjusts: Record<string, Adjust> = {};\n  private lastAttributeOption;\n  private idFields: string[] = [];\n  private geometryLabel: GeometryLabel;\n\n  // \n  /**  */\n  protected intervalPadding: number;\n  /**  */\n  protected dodgePadding: number;\n  /**  */\n  protected maxColumnWidth: number;\n  /**  */\n  protected minColumnWidth: number;\n  /**  */\n  protected columnWidthRatio: number;\n  /**  */\n  protected roseWidthRatio: number;\n  /** / */\n  protected multiplePieWidthRatio: number;\n  /** elements  zIndex  zIndexReversed  */\n  public zIndexReversed?: boolean;\n  /**  zIndex  sort */\n  public sortZIndex?: boolean;\n  protected useDeferredLabel?: null | number;\n\n  /**  Group */\n  private offscreenGroup: IGroup;\n  private groupScales: Scale[];\n  private hasSorted: boolean = false;\n  protected isCoordinateChanged: boolean = false;\n\n  /**\n   *  Geometry \n   * @param cfg\n   */\n  constructor(cfg: GeometryCfg) {\n    super(cfg);\n\n    const {\n      container,\n      labelsContainer,\n      coordinate,\n      data,\n      sortable = false,\n      visible = true,\n      theme,\n      scales = {},\n      scaleDefs = {},\n      // \n      intervalPadding,\n      dodgePadding,\n      maxColumnWidth,\n      minColumnWidth,\n      columnWidthRatio,\n      roseWidthRatio,\n      multiplePieWidthRatio,\n      zIndexReversed,\n      sortZIndex,\n      useDeferredLabel,\n    } = cfg;\n\n    this.container = container;\n    this.labelsContainer = labelsContainer;\n    this.coordinate = coordinate;\n    this.data = data;\n    this.sortable = sortable;\n    this.visible = visible;\n    this.userTheme = theme;\n    this.scales = scales;\n    this.scaleDefs = scaleDefs;\n    // \n    this.intervalPadding = intervalPadding;\n    this.dodgePadding = dodgePadding;\n    this.maxColumnWidth = maxColumnWidth;\n    this.minColumnWidth = minColumnWidth;\n    this.columnWidthRatio = columnWidthRatio;\n    this.roseWidthRatio = roseWidthRatio;\n    this.multiplePieWidthRatio = multiplePieWidthRatio;\n    this.zIndexReversed = zIndexReversed;\n    this.sortZIndex = sortZIndex;\n    this.useDeferredLabel = useDeferredLabel ? (typeof useDeferredLabel === 'number' ? useDeferredLabel : Infinity) : null;\n  }\n\n  /**\n   *  position \n   *\n   * @example\n   * ```typescript\n   * // : [{ x: 'A', y: 10, color: 'red' }]\n   * geometry.position('x*y');\n   * geometry.position([ 'x', 'y' ]);\n   * geometry.position({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   *\n   * @param cfg \n   * @returns\n   */\n  public position(cfg: string | string[] | AttributeOption): Geometry {\n    let positionCfg = cfg;\n    if (!isPlainObject(cfg)) {\n      // \n      positionCfg = {\n        fields: parseFields(cfg),\n      };\n    }\n\n    const fields = get(positionCfg, 'fields');\n    if (fields.length === 1) {\n      //  1*xx\n      fields.unshift('1');\n      set(positionCfg, 'fields', fields);\n    }\n    set(this.attributeOption, 'position', positionCfg);\n\n    return this;\n  }\n\n  /**\n   *  color \n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.color({\n   *   fields: [ 'x' ],\n   *   values: [ '#1890ff', '#5AD8A6' ],\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public color(field: AttributeOption): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * //  '#1890ff' \n   * geometry.color('#1890ff');\n   *\n   * //  x  G2 \n   * geometry.color('x');\n   *\n   * //  'x'  colors\n   * geometry.color('x', [ '#1890ff', '#5AD8A6' ]);\n   *\n   * // *\n   * geometry.color('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'red';\n   *   }\n   *   return 'blue';\n   * });\n   *\n   * // \n   * geometry.color('x', '#BAE7FF-#1890FF-#0050B3');\n   * ```\n   *\n   * @param field  '*' \n   * @param cfg Optional, color \n   * @returns\n   */\n  public color(field: string, cfg?: string | string[] | ColorAttrCallback): Geometry;\n  public color(field: AttributeOption | string, cfg?: string | string[] | ColorAttrCallback): Geometry {\n    this.createAttrOption('color', field, cfg);\n\n    return this;\n  }\n\n  /**\n   *  shape \n   *\n   * @example\n   *\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.shape({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public shape(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * //  shape\n   * geometry.shape('circle');\n   *\n   * //  shapes \n   * geometry.shape('x');\n   *\n   * //  shapes \n   * geometry.shape('x', [ 'circle', 'diamond', 'square' ]);\n   *\n   * //  shape shape \n   * geometry.shape('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'circle';\n   *   }\n   *   return 'diamond';\n   * });\n   * ```\n   *\n   * @param field  shape  '*' \n   * @param cfg Optional, shape \n   * @returns\n   */\n  public shape(field: string, cfg?: string[] | ShapeAttrCallback): Geometry;\n  public shape(field: AttributeOption | string, cfg?: string[] | ShapeAttrCallback): Geometry {\n    this.createAttrOption('shape', field, cfg);\n\n    return this;\n  }\n\n  /**\n   *  size \n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.size({\n   *   values: [ 10 ],\n   * })\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public size(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * // \n   * geometry.size(10);\n   *\n   * //  size  [1, 10]\n   * geometry.size('x');\n   *\n   * //  size  size \n   * geometry.size('x', [ 5, 30 ]);\n   *\n   * //  size size \n   * geometry.size('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 10;\n   *   }\n   *   return 5;\n   * });\n   * ```\n   *\n   * @param field  size  '*' \n   * @param cfg Optional, size \n   * @returns\n   */\n  public size(field: number | string, cfg?: [number, number] | SizeAttrCallback): Geometry;\n  public size(field: AttributeOption | number | string, cfg?: [number, number] | SizeAttrCallback): Geometry {\n    this.createAttrOption('size', field, cfg);\n\n    return this;\n  }\n\n  /**\n   * G2 \n   * 1. dodge\n   * 2. stack\n   * 3. symmetric\n   * 4. jitter\n   *\n   *\n   * **Tip**\n   * +  'dodge' :\n   * ```typescript\n   * geometry.adjust('dodge', {\n   *   marginRatio: 0, //  0  1 \n   *   dodgeBy: 'x', //  'dodge' \n   * });\n   * ```\n   *\n   * +  'stack' :\n   * ```typescript\n   * geometry.adjust('stack', {\n   *   reverseOrder: false, // \n   * });\n   * ```\n   *\n   * @example\n   * ```typescript\n   * geometry.adjust('stack');\n   *\n   * geometry.adjust({\n   *   type: 'stack',\n   *   reverseOrder: false,\n   * });\n   *\n   * //  adjust\n   * geometry.adjust([ 'stack', 'dodge' ]);\n   *\n   * geometry.adjust([\n   *   { type: 'stack' },\n   *   { type: 'dodge', dodgeBy: 'x' },\n   * ]);\n   * ```\n   *\n   * @param adjustCfg \n   * @returns\n   */\n  public adjust(adjustCfg: string | string[] | AdjustOption | AdjustOption[]): Geometry {\n    let adjusts: any = adjustCfg;\n    if (isString(adjustCfg) || isPlainObject(adjustCfg)) {\n      adjusts = [adjustCfg];\n    }\n    each(adjusts, (adjust, index) => {\n      if (!isObject(adjust)) {\n        adjusts[index] = { type: adjust };\n      }\n    });\n\n    this.adjustOption = adjusts;\n    return this;\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```typescript\n   * // \n   * style({\n   *   lineWidth: 2,\n   *   stroke: '#1890ff',\n   * });\n   *\n   * // \n   * style({\n   *   fields: [ 'x', 'y' ], // \n   *   callback: (xVal, yVal) => {\n   *     const style = { lineWidth: 2, stroke: '#1890ff' };\n   *     if (xVal === 'a') {\n   *       style.lineDash = [ 2, 2 ];\n   *     }\n   *     return style;\n   *   },\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public style(field: StyleOption | LooseObject): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * style('x*y', (xVal, yVal) => {\n   *   const style = { lineWidth: 2, stroke: '#1890ff' };\n   *   if (xVal === 'a') {\n   *     style.lineDash = [ 2, 2 ];\n   *   }\n   *   return style;\n   * });\n   * ```\n   *\n   * @param field \n   * @param styleFunc Optional, \n   * @returns\n   */\n  public style(field: string, styleFunc: StyleCallback): Geometry;\n  public style(field: StyleOption | LooseObject | string, styleFunc?: StyleCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.styleOption = {\n        fields,\n        callback: styleFunc,\n      };\n    } else {\n      const { fields, callback, cfg } = field as StyleOption;\n      if (fields || callback || cfg) {\n        this.styleOption = field;\n      } else {\n        this.styleOption = {\n          cfg: field,\n        };\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   *  Geometry  tooltip \n   *\n   * `tooltip(false)`  tooltip\n   * `tooltip(true)`  tooltip\n   *\n   * Geometry  tooltip  tooltip \n   *\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   * tooltip({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*268uQ50if60AAAAAAAAAAABkARQnAQ)\n   *\n   * ```typescript\n   * tooltip({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*A_ujSa8QhtcAAAAAAAAAAABkARQnAQ)\n   *\n   * tooltip() \n   *\n   * @example\n   * ```typescript\n   * chart.tooltip({\n   *   itemTpl: '<li>{x}: {y}</li>',\n   * });\n   *\n   * chart.line()\n   *   .position('x*y')\n   *   .tooltip({\n   *     fields: [ 'x', 'y' ],\n   *     callback: (x, y) => {\n   *       return {\n   *         x,\n   *         y,\n   *       };\n   *     },\n   *   });\n   * ```\n   *\n   *  chart.tooltip()  itemTpl  itemTpl \n   *\n   * @param field tooltip \n   * @returns\n   */\n  public tooltip(field: GeometryTooltipOption | boolean): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   *\n   * //  tooltip({ fields: [ 'x' ] })\n   * tooltip('x');\n   *\n   * //  tooltip({ fields: [ 'x', 'y' ] })\n   * tooltip('x*y');\n   *\n   * //  tooltip({ fields: [ 'x', 'y' ], callback: (x, y) => { x, y } })\n   * tooltip('x*y', (x, y) => {\n   *   return {\n   *     x,\n   *     y,\n   *   };\n   * });\n   * ```\n   *\n   * @param field \n   * @param cfg Optional, \n   * @returns\n   */\n  public tooltip(field: string, cfg?: TooltipCallback): Geometry;\n  public tooltip(field: GeometryTooltipOption | boolean | string, cfg?: TooltipCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.tooltipOption = {\n        fields,\n        callback: cfg,\n      };\n    } else {\n      this.tooltipOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * Geometry \n   *\n   * + `animate(false)` \n   * + `animate(true)` \n   *\n   * \n   * 1. appear: \n   * 2. enter: \n   * 3. update: \n   * 4. leave: \n   *\n   * @example\n   * ```typescript\n   * animate({\n   *   enter: {\n   *     duration: 1000, // enter \n   *   },\n   *   leave: false, //  leave \n   * });\n   * ```\n   *\n   * @param cfg \n   * @returns\n   */\n  public animate(cfg: AnimateOption | boolean): Geometry {\n    this.animateOption = cfg;\n    return this;\n  }\n\n  /**\n   * Geometry label \n   *\n   * @example\n   * ```ts\n   * // data: [ {x: 1, y: 2, z: 'a'}, {x: 2, y: 2, z: 'b'} ]\n   * //  z \n   * label({\n   *   fields: [ 'z' ]\n   * });\n   *\n   * label(false); //  label\n   *\n   * //  x \n   * label('x', {\n   *   style: {\n   *     fill: 'red',\n   *   },\n   * })\n   *\n   * //  type  label  x \n   * label('x', (xValue) => {\n   *   return {\n   *     content: xValue + '%',\n   *   };\n   * }, {\n   *   type: 'base' //  label \n   * })\n   * ```\n   *\n   * @param field\n   * @returns label\n   */\n  public label(field: LabelOption | false | string): Geometry;\n  public label(field: string, secondParam: GeometryLabelCfg | LabelCallback): Geometry;\n  public label(field: string, secondParam: LabelCallback, thirdParam: GeometryLabelCfg): Geometry;\n  public label(\n    field: string | LabelOption | false,\n    secondParam?: GeometryLabelCfg | LabelCallback,\n    thirdParam?: GeometryLabelCfg\n  ): Geometry {\n    if (isString(field)) {\n      const labelOption: LabelOption = {};\n      const fields = parseFields(field);\n      labelOption.fields = fields;\n      if (isFunction(secondParam)) {\n        labelOption.callback = secondParam;\n      } else if (isPlainObject(secondParam)) {\n        labelOption.cfg = secondParam;\n      }\n\n      if (thirdParam) {\n        labelOption.cfg = thirdParam;\n      }\n      this.labelOption = labelOption;\n    } else {\n      this.labelOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * chart.interval().state({\n   *   selected: {\n   *     animate: { duration: 100, easing: 'easeLinear' },\n   *     style: {\n   *       lineWidth: 2,\n   *       stroke: '#000',\n   *     },\n   *   },\n   * });\n   * ```\n   *\n   *  shape  shape  G.Group  group  shape\n   *  group  shape  'name' (shape.set('name', 'xx')) 'name'  key shape   key\n   *\n   * ```ts\n   * chart.interval().shape('groupShape').state({\n   *   selected: {\n   *     style: {\n   *       0: { lineWidth: 2 },\n   *       1: { fillOpacity: 1 },\n   *     }\n   *   }\n   * });\n   * ```\n   *\n   * @param cfg \n   */\n  public state(cfg: StateOption) {\n    this.stateOption = cfg;\n    return this;\n  }\n\n  /**\n   *  shape  shape  shape  shape \n   *\n   * @example\n   * ```ts\n   * chart.interval().customInfo({ yourData: 'hello, g2!' });\n   * ```\n   *\n   *  shape \n   *\n   * ```ts\n   * registerShape('interval', 'your-shape', {\n   *   draw(shapeInfo, container) {\n   *     const { customInfo } = shapeInfo;\n   *     console.log(customInfo); // will log { yourData: 'hello, g2!' }.\n   *   }\n   * });\n   * ```\n   *\n   * @param cfg\n   */\n  public customInfo(cfg: any) {\n    this.customOption = cfg;\n    return this;\n  }\n\n  /**\n   *  Geomtry \n   *  [[Attribute]] and [[Scale]] \n   */\n  public init(cfg: InitCfg = {}) {\n    this.setCfg(cfg);\n    this.initAttributes(); // \n\n    //  ->  -> adjust\n    this.processData(this.data);\n\n    //  scale\n    this.adjustScale();\n  }\n\n  /**\n   * Geometry \n   * @param [cfg] \n   */\n  public update(cfg: InitCfg = {}) {\n    const { data, isDataChanged, isCoordinateChanged } = cfg;\n    const { attributeOption, lastAttributeOption } = this;\n\n    if (!isEqual(attributeOption, lastAttributeOption)) {\n      // \n      this.init(cfg);\n    } else if (data && (isDataChanged || !isEqual(data, this.data))) {\n      // \n      this.setCfg(cfg);\n      this.initAttributes(); // \n      this.processData(data); //  ->  -> adjust\n    } else {\n      //  coordinate \n      this.setCfg(cfg);\n    }\n\n    //  scale\n    this.adjustScale();\n    this.isCoordinateChanged = isCoordinateChanged;\n  }\n\n  /**\n   * \n   */\n  public paint(isUpdate: boolean = false) {\n    if (this.animateOption) {\n      this.animateOption = deepMix({}, getDefaultAnimateCfg(this.type, this.coordinate), this.animateOption);\n    }\n\n    this.defaultSize = undefined;\n    this.elementsMap = {};\n    this.elements = [];\n    const offscreenGroup = this.getOffscreenGroup();\n    offscreenGroup.clear();\n\n    const beforeMappingData = this.beforeMappingData;\n    const dataArray = this.beforeMapping(beforeMappingData);\n\n    this.dataArray = new Array(dataArray.length);\n    for (let i = 0; i < dataArray.length; i++) {\n      const data = dataArray[i];\n      this.dataArray[i] = this.mapping(data);\n    }\n    this.updateElements(this.dataArray, isUpdate);\n    this.lastElementsMap = this.elementsMap;\n\n    if (this.canDoGroupAnimation(isUpdate)) {\n      //  appear.animation\n      const container = this.container;\n      const type = this.type;\n      const coordinate = this.coordinate;\n      const animateCfg = get(this.animateOption, 'appear');\n      const yScale = this.getYScale();\n      const yMinPoint = coordinate.convert({\n        x: 0,\n        y: yScale.scale(this.getYMinValue()),\n      });\n      doGroupAppearAnimate(container, animateCfg, type, coordinate, yMinPoint);\n    }\n\n    //  label\n    if (this.labelOption) {\n      const deferred = this.useDeferredLabel;\n      const callback = (() => this.renderLabels(flatten(this.dataArray) as unknown as MappingDatum[], isUpdate)).bind(this);\n      if (typeof deferred === 'number') {\n        // Use `requestIdleCallback` to render labels in idle time (like react fiber)\n        const timeout = (typeof deferred === 'number' && deferred !== Infinity) ? deferred : 0;\n        if (!window.requestIdleCallback) {\n          setTimeout(callback, timeout);\n        } else {\n          const options = timeout && timeout !== Infinity ? { timeout } : undefined;\n          window.requestIdleCallback(callback, options);\n        }\n      } else {\n        callback();\n      }\n    }\n\n    // \n    this.lastAttributeOption = {\n      ...this.attributeOption,\n    };\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   *  Geometry\n   * @override\n   */\n  public clear() {\n    const { container, geometryLabel, offscreenGroup } = this;\n    if (container) {\n      container.clear();\n    }\n\n    if (geometryLabel) {\n      geometryLabel.clear();\n    }\n\n    if (offscreenGroup) {\n      offscreenGroup.clear();\n    }\n\n    // \n    this.scaleDefs = undefined;\n    this.attributes = {};\n    this.scales = {};\n    this.elementsMap = {};\n    this.lastElementsMap = {};\n    this.elements = [];\n    this.adjusts = {};\n    this.dataArray = null;\n    this.beforeMappingData = null;\n    this.lastAttributeOption = undefined;\n    this.defaultSize = undefined;\n    this.idFields = [];\n    this.groupScales = undefined;\n    this.hasSorted = false;\n    this.isCoordinateChanged = false;\n  }\n\n  /**\n   *  Geometry \n   */\n  public destroy() {\n    this.clear();\n    const container = this.container;\n    container.remove(true);\n\n    if (this.offscreenGroup) {\n      this.offscreenGroup.remove(true);\n      this.offscreenGroup = null;\n    }\n\n    if (this.geometryLabel) {\n      this.geometryLabel.destroy();\n      this.geometryLabel = null;\n    }\n    this.theme = undefined;\n    this.shapeFactory = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   *  scale \n   * @returns\n   */\n  public getGroupScales(): Scale[] {\n    return this.groupScales;\n  }\n\n  /**\n   * \n   */\n  public getAttribute(name: string): Attribute {\n    return this.attributes[name];\n  }\n\n  /**  x  scale  */\n  public getXScale(): Scale {\n    return this.getAttribute('position').scales[0];\n  }\n\n  /**  y  scale  */\n  public getYScale(): Scale {\n    return this.getAttribute('position').scales[1];\n  }\n\n  /**\n   * \n   */\n  public getGroupAttributes(): Attribute[] {\n    const rst = [];\n    each(this.attributes, (attr: Attribute) => {\n      if (GROUP_ATTRS.includes(attr.type)) {\n        rst.push(attr);\n      }\n    });\n    return rst;\n  }\n\n  /**  */\n  public getDefaultValue(attrName: string) {\n    let value: any;\n    const attr = this.getAttribute(attrName);\n    if (attr && isEmpty(attr.scales)) {\n      // \n      value = attr.values[0];\n    }\n    return value;\n  }\n\n  /**\n   *  Attribute \n   * @param attr Attribute \n   * @param obj \n   * @returns\n   */\n  public getAttributeValues(attr: Attribute, obj: Datum) {\n    const params = [];\n    const scales = attr.scales;\n    for (let index = 0, length = scales.length; index < length; index++) {\n      const scale = scales[index];\n      const field = scale.field;\n      if (scale.isIdentity) {\n        params.push(scale.values);\n      } else {\n        params.push(obj[field]);\n      }\n    }\n\n    return attr.mapping(...params);\n  }\n\n  /**\n   *  adjust \n   * @param adjustType\n   * @returns\n   */\n  public getAdjust(adjustType: string) {\n    return this.adjusts[adjustType];\n  }\n\n  /**\n   *  coordinate \n   * @returns\n   */\n  public getCoordinate() {\n    return this.coordinate;\n  }\n\n  public getData() {\n    return this.data;\n  }\n\n  /**\n   *  shape  marker \n   * @param shapeName shape \n   * @param cfg marker \n   * @returns\n   */\n  public getShapeMarker(shapeName: string, cfg: ShapeMarkerCfg): ShapeMarkerAttrs {\n    const shapeFactory = this.getShapeFactory();\n    return shapeFactory.getMarker(shapeName, cfg);\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElementsBy((element) => {\n   *   const data = element.getData();\n   *\n   *   return data.a === 'a';\n   * });\n   * ```\n   *\n   * @param condition \n   * @returns\n   */\n  public getElementsBy(condition: (element: Element) => boolean): Element[] {\n    return this.elements.filter((element) => condition(element));\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElements();\n   * ```\n   */\n  public getElements() {\n    return this.elements;\n  }\n\n  /**\n   *  id\n   * @param data Element \n   * @returns\n   */\n  public getElementId(data: MappingDatum | MappingDatum[]) {\n    data = isArray(data) ? data[0] : data;\n    const originData = data[FIELD_ORIGIN];\n\n    //  id \n    if (this.idFields.length) {\n      let elementId = originData[this.idFields[0]];\n      for (let index = 1; index < this.idFields.length; index++) {\n        elementId += '-' + originData[this.idFields[index]];\n      }\n\n      return elementId;\n    }\n\n    const type = this.type;\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const xField = xScale.field || 'x';\n    const yField = yScale.field || 'y';\n    const yVal = originData[yField];\n    let xVal;\n    if (xScale.type === 'identity') {\n      xVal = xScale.values[0];\n    } else {\n      xVal = originData[xField];\n    }\n\n    let id: string;\n    if (type === 'interval' || type === 'schema') {\n      id = `${xVal}`;\n    } else if (type === 'line' || type === 'area' || type === 'path') {\n      id = type;\n    } else {\n      id = `${xVal}-${yVal}`;\n    }\n\n    const groupScales = this.groupScales;\n\n    for (let index = 0, length = groupScales.length; index < length; index++) {\n      const groupScale = groupScales[index];\n      const field = groupScale.field;\n      id = `${id}-${originData[field]}`;\n    }\n\n    //  dodge  adjust  dodgeBy \n    const dodgeAdjust = this.getAdjust('dodge');\n    if (dodgeAdjust) {\n      const dodgeBy = dodgeAdjust.dodgeBy;\n      if (dodgeBy) {\n        id = `${id}-${originData[dodgeBy]}`;\n      }\n    }\n\n    if (this.getAdjust('jitter')) {\n      id = `${id}-${data.x}-${data.y}`;\n    }\n\n    return id;\n  }\n\n  /**\n   *  scale \n   */\n  public getScaleFields(): string[] {\n    const fields = [];\n    const tmpMap = new Map();\n    const { attributeOption, labelOption, tooltipOption } = this;\n    //  fields\n    for (const attributeType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attributeType)) {\n        const eachOpt = attributeOption[attributeType];\n        if (eachOpt.fields) {\n          uniq(eachOpt.fields, fields, tmpMap);\n        } else if (eachOpt.values) {\n          //  size(10), shape('circle') \n          uniq(eachOpt.values, fields, tmpMap);\n        }\n      }\n    }\n    //  label \n    if (labelOption && labelOption.fields) {\n      uniq(labelOption.fields, fields, tmpMap);\n    }\n\n    //  tooltip \n    if (isObject(tooltipOption) && tooltipOption.fields) {\n      uniq(tooltipOption.fields, fields, tmpMap);\n    }\n\n    return fields;\n  }\n\n  /**\n   *  geometry\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n    const elements = this.elements;\n    for (let index = 0, length = elements.length; index < length; index++) {\n      const element = elements[index];\n      element.changeVisible(visible);\n    }\n    if (visible) {\n      if (this.container) {\n        this.container.show();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.show();\n      }\n    } else {\n      if (this.container) {\n        this.container.hide();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.hide();\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public getFields() {\n    const uniqMap = new Map<string, boolean>();\n    const fields = [];\n\n    Object.values(this.attributeOption).forEach((cfg) => {\n      const fs = cfg?.fields || [];\n      fs.forEach((f) => {\n        if (!uniqMap.has(f)) {\n          fields.push(f);\n        }\n        uniqMap.set(f, true);\n      });\n    }, []);\n\n    return fields;\n  }\n\n  /**\n   *  & \n   * @return fields string[]\n   */\n  public getGroupFields(): string[] {\n    const groupFields = [];\n    const tmpMap = new Map(); // \n    for (let index = 0, length = GROUP_ATTRS.length; index < length; index++) {\n      const attributeName = GROUP_ATTRS[index];\n      const cfg = this.attributeOption[attributeName];\n      if (cfg && cfg.fields) {\n        uniq(cfg.fields, groupFields, tmpMap);\n      }\n    }\n\n    return groupFields;\n  }\n\n  /**\n   *  x y \n   */\n  public getXYFields() {\n    const [x, y] = this.attributeOption.position.fields;\n    return [x, y];\n  }\n\n  /**\n   * x \n   * @returns\n   */\n  public getXField(): string {\n    return get(this.getXYFields(), [0]);\n  }\n\n  /**\n   * y \n   * @returns\n   */\n  public getYField(): string {\n    return get(this.getXYFields(), [1]);\n  }\n\n  /**\n   *  Geometry  shapes\n   * @returns shapes\n   */\n  public getShapes(): (IShape | IGroup)[] {\n    return this.elements.map((element: Element) => element.shape);\n  }\n\n  /**\n   *  Group\n   * @returns\n   */\n  public getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // \n      this.offscreenGroup = new GroupCtor({});\n    }\n    return this.offscreenGroup;\n  }\n\n  // \n  public sort(mappingArray: Data[]) {\n    if (!this.hasSorted) {\n      // \n      const xScale = this.getXScale();\n      const xField = xScale.field;\n      for (let index = 0; index < mappingArray.length; index++) {\n        const itemArr = mappingArray[index];\n        itemArr.sort((obj1: Datum, obj2: Datum) => {\n          return xScale.translate(obj1[FIELD_ORIGIN][xField]) - xScale.translate(obj2[FIELD_ORIGIN][xField]);\n        });\n      }\n    }\n\n    this.hasSorted = true;\n  }\n\n  /**\n   *  Geometry Interval  Y  0 \n   */\n  protected adjustScale() {\n    const yScale = this.getYScale();\n    //  stack adjust yScale \n    if (yScale && this.getAdjust('stack')) {\n      this.updateStackRange(yScale, this.beforeMappingData);\n    }\n  }\n\n  /**\n   *  Geometry  Shape \n   */\n  protected getShapeFactory() {\n    const shapeType = this.shapeType;\n    if (!getShapeFactory(shapeType)) {\n      return;\n    }\n    if (!this.shapeFactory) {\n      this.shapeFactory = clone(getShapeFactory(shapeType)); //  view  shapeFactory  coordinate \n    }\n    //  shapeFactory coordinate shapeFactory \n    this.shapeFactory.coordinate = this.coordinate;\n    // theme \n    this.shapeFactory.theme = this.theme.geometries[shapeType] || {};\n\n    return this.shapeFactory;\n  }\n\n  /**\n   *  Shape \n   * @param obj  ->  -> adjust \n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum): S {\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const x = this.normalizeValues(obj[xScale.field], xScale);\n    let y; //  y \n\n    if (yScale) {\n      y = this.normalizeValues(obj[yScale.field], yScale);\n    } else {\n      y = obj.y ? obj.y : 0.1;\n    }\n\n    return {\n      x,\n      y,\n      y0: yScale ? yScale.scale(this.getYMinValue()) : undefined,\n    } as S;\n  }\n\n  /**\n   *  Element \n   * @param mappingDatum Element \n   * @param [isUpdate] \n   * @returns element  Element \n   */\n  protected createElement(mappingDatum: MappingDatum, index: number, isUpdate: boolean = false): Element {\n    const { container } = this;\n\n    const shapeCfg = this.getDrawCfg(mappingDatum); // \n    const shapeFactory = this.getShapeFactory();\n\n    const element = new Element({\n      shapeFactory,\n      container,\n      offscreenGroup: this.getOffscreenGroup(),\n      elementIndex: index,\n    });\n    element.animate = this.animateOption;\n    element.geometry = this;\n    element.draw(shapeCfg, isUpdate); // \n\n    return element;\n  }\n\n  /**\n   * \n   * @param mappingDatum \n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const originData = mappingDatum[FIELD_ORIGIN]; // \n    const cfg: ShapeInfo = {\n      mappingData: mappingDatum, // \n      data: originData, // \n      x: mappingDatum.x,\n      y: mappingDatum.y,\n      color: mappingDatum.color,\n      size: mappingDatum.size,\n      isInCircle: this.coordinate.isPolar,\n      customInfo: this.customOption,\n    };\n\n    let shapeName = mappingDatum.shape;\n    if (!shapeName && this.getShapeFactory()) {\n      shapeName = this.getShapeFactory().defaultShapeType;\n    }\n    cfg.shape = shapeName;\n    // \n    const theme = this.theme.geometries[this.shapeType];\n    cfg.defaultStyle = get(theme, [shapeName, 'default'], {}).style;\n    if (!cfg.defaultStyle && this.getShapeFactory()) {\n      cfg.defaultStyle = this.getShapeFactory().getDefaultStyle(theme);\n    }\n\n    const styleOption = this.styleOption;\n    if (styleOption) {\n      cfg.style = this.getStyleCfg(styleOption, originData);\n    }\n    if (this.generatePoints) {\n      cfg.points = mappingDatum.points;\n      cfg.nextPoints = mappingDatum.nextPoints;\n    }\n\n    return cfg;\n  }\n\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false): void {\n    const keyDatum = new Map<string, MappingDatum>();\n    const keys: string[] = [];\n\n    //  diff  added, updated \n    const keyIndex = new Map<string, number>();\n    let index = 0;\n\n    //  keys\n    //  key \n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      for (let j = 0; j < mappingData.length; j++) {\n        const mappingDatum = mappingData[j];\n        const key = this.getElementId(mappingDatum);\n        const finalKey = keyDatum.has(key) ? `${key}-${i}-${j}` : key;\n        keys.push(finalKey);\n        keyDatum.set(finalKey, mappingDatum);\n        keyIndex.set(finalKey, index);\n        index++;\n      }\n    }\n\n    this.elements = new Array(index);\n\n    const { added, updated, removed } = diff(this.lastElementsMap, keys);\n\n    //  element\n    for (const key of added) {\n      const mappingDatum = keyDatum.get(key);\n      const i = keyIndex.get(key);\n      const element = this.createElement(mappingDatum, i, isUpdate);\n      this.elements[i] = element;\n      this.elementsMap[key] = element;\n      if (element.shape) {\n        element.shape.set('zIndex', this.zIndexReversed ? this.elements.length - i : i);\n      }\n    }\n\n    //  element\n    for (const key of updated) {\n      const element = this.lastElementsMap[key];\n      const mappingDatum = keyDatum.get(key);\n      const currentShapeCfg = this.getDrawCfg(mappingDatum);\n      const preShapeCfg = element.getModel();\n      const i = keyIndex.get(key);\n      if (this.isCoordinateChanged || isModelChange(currentShapeCfg, preShapeCfg)) {\n        element.animate = this.animateOption;\n        // \n        element.update(currentShapeCfg); //  element\n      }\n      this.elements[i] = element;\n      this.elementsMap[key] = element;\n      if (element.shape) {\n        element.shape.set('zIndex', this.zIndexReversed ? this.elements.length - i : i);\n      }\n    }\n\n    //  setZIndex  sort\n    if (this.container) {\n      this.container.sort();\n    }\n\n    //  elements\n    for (const key of removed) {\n      const element = this.lastElementsMap[key];\n      // \n      element.animate = this.animateOption;\n      element.destroy();\n    }\n  }\n\n  /**\n   *  label \n   */\n  protected getLabelType(): string {\n    const { labelOption, coordinate, type } = this;\n    const { type: coordinateType, isTransposed } = coordinate;\n    let labelType = get(labelOption, ['cfg', 'type']);\n    if (!labelType) {\n      // \n      if (coordinateType === 'polar') {\n        // \n        labelType = isTransposed ? 'pie' : 'polar';\n      } else if (coordinateType === 'theta') {\n        // theta \n        labelType = 'pie';\n      } else if (type === 'interval' || type === 'polygon') {\n        labelType = 'interval';\n      } else {\n        labelType = 'base';\n      }\n    }\n\n    return labelType;\n  }\n\n  /**\n   *  Y \n   */\n  protected getYMinValue(): number {\n    const yScale = this.getYScale();\n    const { min, max } = yScale;\n    let value: number;\n\n    if (min >= 0) {\n      value = min;\n    } else if (max <= 0) {\n      //  ymin  0\n      value = max;\n    } else {\n      value = 0;\n    }\n    return value;\n  }\n\n  // \n  protected createAttrOption(attrName: string, field: AttributeOption | string | number, cfg?) {\n    if (isNil(field) || isObject(field)) {\n      if (isObject(field) && isEqual(Object.keys(field), ['values'])) {\n        // shape({ values: [ 'funnel' ] })\n        set(this.attributeOption, attrName, {\n          fields: field.values,\n        });\n      } else {\n        set(this.attributeOption, attrName, field);\n      }\n    } else {\n      const attrCfg: AttributeOption = {};\n      if (isNumber(field)) {\n        // size(3)\n        attrCfg.values = [field];\n      } else {\n        attrCfg.fields = parseFields(field);\n      }\n\n      if (cfg) {\n        if (isFunction(cfg)) {\n          attrCfg.callback = cfg;\n        } else {\n          attrCfg.values = cfg;\n        }\n      }\n\n      set(this.attributeOption, attrName, attrCfg);\n    }\n  }\n\n  protected initAttributes() {\n    const { attributes, attributeOption, theme, shapeType } = this;\n    this.groupScales = [];\n    const tmpMap = {};\n\n    //  attrOption Attribute \n    for (const attrType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attrType)) {\n        const option: AttributeOption = attributeOption[attrType];\n        if (!option) {\n          return;\n        }\n        const attrCfg: AttributeInstanceCfg = {\n          ...option,\n        };\n        const { callback, values, fields = [] } = attrCfg;\n\n        //  scale\n        const scales = fields.map((field) => {\n          const scale = this.scales[field];\n          if (!tmpMap[field] && GROUP_ATTRS.includes(attrType)) {\n            const inferedScaleType = inferScaleType(scale, get(this.scaleDefs, field), attrType, this.type);\n            if (inferedScaleType === 'cat') {\n              this.groupScales.push(scale);\n              tmpMap[field] = true;\n            }\n          }\n          return scale;\n        });\n\n        attrCfg.scales = scales;\n\n        if (attrType !== 'position' && scales.length === 1 && scales[0].type === 'identity') {\n          //  color('red'), size(5)\n          attrCfg.values = scales[0].values;\n        } else if (!callback && !values) {\n          // \n          if (attrType === 'size') {\n            attrCfg.values = theme.sizes;\n          } else if (attrType === 'shape') {\n            attrCfg.values = theme.shapes[shapeType] || [];\n          } else if (attrType === 'color') {\n            if (scales.length) {\n              // \n              attrCfg.values = scales[0].values.length <= 10 ? theme.colors10 : theme.colors20;\n            } else {\n              attrCfg.values = theme.colors10;\n            }\n          }\n        }\n        const AttributeCtor = getAttributeClass(attrType);\n        attributes[attrType] = new AttributeCtor(attrCfg);\n      }\n    }\n  }\n\n  //  ->  -> adjust \n  private processData(data: Data) {\n    this.hasSorted = false;\n    const { scales } = this.getAttribute('position');\n    const categoryScales = scales.filter((scale: Scale) => scale.isCategory);\n\n    const groupedArray = this.groupData(data); // \n    const beforeAdjust = [];\n    for (let i = 0, len = groupedArray.length; i < len; i++) {\n      const subData = groupedArray[i];\n      const arr = [];\n      for (let j = 0, subLen = subData.length; j < subLen; j++) {\n        const originData = subData[j];\n        const item = {};\n        // tslint:disable-next-line: forin\n        for (const k in originData) {\n          item[k] = originData[k];\n        }\n        item[FIELD_ORIGIN] = originData;\n\n        // , \n        for (const scale of categoryScales) {\n          const field = scale.field;\n          item[field] = scale.translate(item[field]);\n        }\n        arr.push(item);\n      }\n      beforeAdjust.push(arr);\n    }\n\n    const dataArray = this.adjustData(beforeAdjust); //  adjust \n    this.beforeMappingData = dataArray;\n\n    return dataArray;\n  }\n\n  // \n  private adjustData(dataArray: Data[]): Data[] {\n    const adjustOption = this.adjustOption;\n    const { intervalPadding, dodgePadding, theme } = this;\n    // theme\n    const maxColumnWidth = this.maxColumnWidth || theme.maxColumnWidth;\n    const minColumnWidth = this.minColumnWidth || theme.minColumnWidth;\n    const columnWidthRatio = this.columnWidthRatio || theme.columnWidthRatio;\n    let result = dataArray;\n\n    if (adjustOption) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xField = xScale.field;\n      const yField = yScale ? yScale.field : null;\n      const xDimensionLength = getXDimensionLength(this.coordinate);\n      const groupNum = xScale.values.length;\n      // size\n      const sizeAttr = this.getAttribute('size');\n      let defaultSize;\n      if (sizeAttr) {\n        defaultSize = sizeAttr.values[0];\n      }\n      for (let i = 0, len = adjustOption.length; i < len; i++) {\n        const adjust = adjustOption[i];\n        const adjustCfg: AdjustInstanceCfg = {\n          xField,\n          yField,\n          intervalPadding,\n          dodgePadding,\n          xDimensionLength,\n          groupNum,\n          defaultSize,\n          maxColumnWidth,\n          minColumnWidth,\n          columnWidthRatio,\n          ...adjust,\n        };\n        const type = adjust.type;\n        if (type === 'dodge') {\n          const adjustNames = [];\n          if (xScale.isCategory || xScale.type === 'identity') {\n            adjustNames.push('x');\n          } else if (!yScale) {\n            adjustNames.push('y');\n          } else {\n            throw new Error('dodge is not support linear attribute, please use category attribute!');\n          }\n          adjustCfg.adjustNames = adjustNames;\n          //  columnWidthRatio \n          // theme\n          adjustCfg.dodgeRatio = columnWidthRatio;\n        } else if (type === 'stack') {\n          const coordinate = this.coordinate;\n          if (!yScale) {\n            // size\n            adjustCfg.height = coordinate.getHeight();\n            const size = this.getDefaultValue('size') || 3;\n            adjustCfg.size = size;\n          }\n          //  transpose \n          if (!coordinate.isTransposed && isNil(adjustCfg.reverseOrder)) {\n            adjustCfg.reverseOrder = true;\n          }\n        }\n        const adjustCtor = getAdjustClass(type);\n        adjustCfg.dimValuesMap = {};\n        //dimValuesMap\n        if (xScale && xScale.values) {\n          adjustCfg.dimValuesMap[xScale.field] = xScale.values.map((v) => xScale.translate(v));\n        }\n        const adjustInstance = new adjustCtor(adjustCfg);\n\n        result = adjustInstance.process(result);\n\n        this.adjusts[type] = adjustInstance;\n      }\n    }\n\n    return result;\n  }\n\n  // \n  private groupData(data: Data): Data[] {\n    const groupScales = this.getGroupScales();\n    const scaleDefs = this.scaleDefs;\n    const appendConditions = {};\n    const groupFields = [];\n    for (let index = 0; index < groupScales.length; index++) {\n      const scale = groupScales[index];\n      const field = scale.field;\n      groupFields.push(field);\n      if (get(scaleDefs, [field, 'values'])) {\n        //  view.scale()  values \n        appendConditions[field] = scaleDefs[field].values;\n      }\n    }\n\n    return group(data, groupFields, appendConditions);\n  }\n\n  // \n  private updateStackRange(scale: Scale, dataArray: Data[]) {\n    const mergeArray = flatten(dataArray);\n    const field = scale.field;\n    let min = scale.min;\n    let max = scale.max;\n    for (let index = 0; index < mergeArray.length; index++) {\n      const obj = mergeArray[index];\n      const tmpMin = Math.min.apply(null, obj[field]);\n      const tmpMax = Math.max.apply(null, obj[field]);\n      if (tmpMin < min) {\n        min = tmpMin;\n      }\n      if (tmpMax > max) {\n        max = tmpMax;\n      }\n    }\n    const scaleDefs = this.scaleDefs;\n    const cfg: LooseObject = {};\n    if (min < scale.min && !get(scaleDefs, [field, 'min'])) {\n      //  min\n      cfg.min = min;\n    }\n    if (max > scale.max && !get(scaleDefs, [field, 'max'])) {\n      //  max\n      cfg.max = max;\n    }\n\n    scale.change(cfg);\n  }\n\n  // \n  private beforeMapping(beforeMappingData: Data[]) {\n    //  clone  points  clone\n    // const source = clone(beforeMappingData);\n    const source = beforeMappingData;\n    if (this.sortable) {\n      this.sort(source);\n    }\n    if (this.generatePoints) {\n      // \n      for (let index = 0, length = source.length; index < length; index++) {\n        const currentData = source[index];\n        this.generateShapePoints(currentData);\n        const nextData = source[index + 1];\n        if (nextData) {\n          this.generateShapePoints(nextData);\n          currentData[0].nextPoints = nextData[0].points;\n        }\n      }\n    }\n\n    return source;\n  }\n\n  //  shape \n  private generateShapePoints(data: Data) {\n    const shapeFactory = this.getShapeFactory();\n    const shapeAttr = this.getAttribute('shape');\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const cfg = this.createShapePointsCfg(obj);\n      const shape = shapeAttr ? this.getAttributeValues(shapeAttr, obj) : null;\n      const points = shapeFactory.getShapePoints(shape, cfg);\n      obj.points = points;\n    }\n  }\n\n  // \n  private normalizeValues(values, scale) {\n    let rst = [];\n    if (isArray(values)) {\n      for (let index = 0; index < values.length; index++) {\n        const value = values[index];\n        rst.push(scale.scale(value));\n      }\n    } else {\n      rst = scale.scale(values);\n    }\n    return rst;\n  }\n\n  // \n  private mapping(data: Data): MappingDatum[] {\n    const attributes = this.attributes;\n    const mappingData = [];\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const newRecord: MappingDatum = {\n        _origin: record[FIELD_ORIGIN],\n        points: record.points,\n        nextPoints: record.nextPoints,\n      };\n      for (const k in attributes) {\n        if (attributes.hasOwnProperty(k)) {\n          const attr = attributes[k];\n          const names = attr.names;\n          const values = this.getAttributeValues(attr, record);\n          if (names.length > 1) {\n            // position \n            for (let j = 0; j < values.length; j += 1) {\n              const val = values[j];\n              const name = names[j];\n              newRecord[name] = isArray(val) && val.length === 1 ? val[0] : val; // \n            }\n          } else {\n            // values.length === 1 \n            // shape('a', ['dot', 'dash']), color('a', ['red', 'yellow'])\n            newRecord[names[0]] = values.length === 1 ? values[0] : values;\n          }\n        }\n      }\n\n      this.convertPoint(newRecord); //  xy \n      mappingData.push(newRecord);\n    }\n\n    return mappingData;\n  }\n\n  // \n  private convertPoint(mappingRecord: MappingDatum) {\n    const { x, y } = mappingRecord;\n\n    let rstX;\n    let rstY;\n    let obj;\n    const coordinate = this.coordinate;\n    if (isArray(x) && isArray(y)) {\n      rstX = [];\n      rstY = [];\n      for (let i = 0, j = 0, xLen = x.length, yLen = y.length; i < xLen && j < yLen; i += 1, j += 1) {\n        obj = coordinate.convert({\n          x: x[i],\n          y: y[j],\n        });\n        rstX.push(obj.x);\n        rstY.push(obj.y);\n      }\n    } else if (isArray(y)) {\n      rstY = [];\n      for (let index = 0; index < y.length; index++) {\n        const yVal = y[index];\n        obj = coordinate.convert({\n          x: x as number,\n          y: yVal,\n        });\n        if (rstX && rstX !== obj.x) {\n          if (!isArray(rstX)) {\n            rstX = [rstX];\n          }\n          rstX.push(obj.x);\n        } else {\n          rstX = obj.x;\n        }\n        rstY.push(obj.y);\n      }\n    } else if (isArray(x)) {\n      rstX = [];\n      for (let index = 0; index < x.length; index++) {\n        const xVal = x[index];\n        obj = coordinate.convert({\n          x: xVal,\n          y,\n        });\n        if (rstY && rstY !== obj.y) {\n          if (!isArray(rstY)) {\n            rstY = [rstY];\n          }\n          rstY.push(obj.y);\n        } else {\n          rstY = obj.y;\n        }\n        rstX.push(obj.x);\n      }\n    } else {\n      const point = coordinate.convert({\n        x,\n        y,\n      });\n      rstX = point.x;\n      rstY = point.y;\n    }\n    mappingRecord.x = rstX;\n    mappingRecord.y = rstY;\n  }\n\n  //  style \n  private getStyleCfg(styleOption: StyleOption, originData: Datum) {\n    const { fields = [], callback, cfg } = styleOption;\n    if (cfg) {\n      // \n      return cfg;\n    }\n\n    const params = fields.map((field) => {\n      return originData[field];\n    });\n\n    return callback(...params);\n  }\n\n  private setCfg(cfg: InitCfg) {\n    const { coordinate, data, theme, scaleDefs } = cfg;\n    if (coordinate) {\n      this.coordinate = coordinate;\n    }\n    if (data) {\n      this.data = data;\n    }\n    if (scaleDefs) {\n      this.scaleDefs = scaleDefs;\n      this.idFields = [];\n      each(scaleDefs, (scaleDef, field) => {\n        if (scaleDef && scaleDef.key) {\n          this.idFields.push(field);\n        }\n      });\n    }\n    if (theme) {\n      this.theme = this.userTheme ? deepMix({}, theme, this.userTheme) : theme; //  geometry \n    }\n  }\n\n  private async renderLabels(mappingArray: MappingDatum[], isUpdate: boolean = false) {\n    let geometryLabel = this.geometryLabel;\n\n    this.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_RENDER_LABEL);\n\n    if (!geometryLabel) {\n      // \n      const labelType = this.getLabelType();\n      const GeometryLabelsCtor = getGeometryLabel(labelType);\n      geometryLabel = new GeometryLabelsCtor(this);\n      this.geometryLabel = geometryLabel;\n    }\n    await geometryLabel.render(mappingArray, isUpdate);\n\n    //  label  element \n    const labelsMap = geometryLabel.labelsRenderer.shapesMap;\n    // Store labels for every element.\n    const elementLabels = new Map<Element, Set<IGroup>>();\n    each(labelsMap, (labelGroup: IGroup, labelGroupId: string) => {\n      const labelChildren = labelGroup.getChildren() || [];\n      for (let j = 0; j < labelChildren.length; j++) {\n        const labelShape = labelChildren[j];\n        const element = this.elementsMap[labelShape.get('elementId') || labelGroupId.split(' ')[0]];\n        if (element) {\n          labelShape.cfg.name = ['element', 'label'];\n          labelShape.cfg.element = element;\n          const labels = elementLabels.get(element) || new Set();\n          labels.add(labelGroup);\n          elementLabels.set(element, labels);\n        }\n      }\n    });\n    for (const [element, labels] of elementLabels.entries()) {\n      element.labelShape = [...labels];\n    }\n\n    this.emit(GEOMETRY_LIFE_CIRCLE.AFTER_RENDER_LABEL);\n  }\n  /**\n   * \n   * \n   * 1. \n   * 2.  geometry \n   * 3.  appear \n   * 4.  appear.animation\n   */\n  private canDoGroupAnimation(isUpdate: boolean) {\n    return (\n      !isUpdate &&\n      this.animateOption &&\n      (get(this.animateOption, 'appear') === undefined ||\n        (get(this.animateOption, 'appear') && get(this.animateOption, ['appear', 'animation']) === undefined))\n    );\n  }\n}\n","import { ext } from '@antv/matrix-util';\nimport { IElement, IGroup, IShape } from '../dependents';\n\nconst transform: (m: number[], actions: any[][]) => number[] = ext.transform;\n\nexport { transform };\n\n/**\n * \n * @param element \n * @param x x \n * @param y y \n */\nexport function translate(element: IGroup | IShape, x: number, y: number) {\n  const matrix = transform(element.getMatrix(), [['t', x, y]]);\n  element.setMatrix(matrix);\n}\n\n/**\n *  ()\n * @param element \n * @param rotateRadian \n */\nexport function getRotateMatrix(element: IElement, rotateRadian: number) {\n  const { x, y } = element.attr();\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['r', rotateRadian],\n    ['t', x, y],\n  ]);\n  return matrix;\n}\n\n/**\n * \n * @param element \n * @param rotateRadian \n */\nexport function rotate(element: IGroup | IShape, rotateRadian: number) {\n  const matrix = getRotateMatrix(element, rotateRadian);\n  element.setMatrix(matrix);\n}\n\n/**\n * \n * @returns identity matrix\n */\nexport function getIdentityMatrix(): number[] {\n  return [1, 0, 0, 0, 1, 0, 0, 0, 1];\n}\n\n/**\n * \n * @param element \n * @param ratio \n */\nexport function zoom(element: IGroup | IShape, ratio: number) {\n  const bbox = element.getBBox();\n  const x = (bbox.minX + bbox.maxX) / 2;\n  const y = (bbox.minY + bbox.maxY) / 2;\n  element.applyToMatrix([x, y, 1]);\n\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['s', ratio, ratio],\n    ['t', x, y],\n  ]);\n  element.setMatrix(matrix);\n}\n","/**\n * @file utils of label\n */\n\nimport { isNil, isNumber, some } from '@antv/util';\nimport { IElement, IGroup, BBox } from '../../../dependents';\nimport { rotate } from '../../../util/transform';\n\n/**\n *  Label Group  shape \n * @param label\n */\nexport function findLabelTextShape(label: IGroup): IElement {\n  return label.find((el) => el.get('type') === 'text');\n}\n\n/**\n * : box () + rotation ()\n */\nexport function getLabelBackgroundInfo(\n  labelGroup: IGroup,\n  labelItem: { rotate?: number;[key: string]: any },\n  padding: number | number[] = [0, 0, 0, 0]\n): { x: number; y: number; width: number; height: number; rotation: number } {\n  const content = labelGroup && labelGroup.getChildren()[0];\n  if (content) {\n    const labelShape = content.clone();\n\n    // revert rotate\n    if (labelItem?.rotate) {\n      rotate(labelShape as IGroup, -labelItem.rotate);\n    }\n\n    // use `getCanvasBBox`, because if Shape is been translated, `getBBox` is not the actual box position\n    const { x, y, width, height } = labelShape.getCanvasBBox();\n\n    labelShape.destroy();\n\n    let boxPadding = padding;\n    if (isNil(boxPadding)) {\n      boxPadding = [2, 2, 2, 2];\n    } else if (isNumber(boxPadding)) {\n      boxPadding = new Array(4).fill(boxPadding);\n    }\n\n    return {\n      x: x - boxPadding[3],\n      y: y - boxPadding[0],\n      width: width + boxPadding[1] + boxPadding[3],\n      height: height + boxPadding[0] + boxPadding[2],\n      rotation: labelItem?.rotate || 0,\n    };\n  }\n\n  return { x: 0, y: 0, width: 0, height: 0, rotation: 0 };\n}\n\n/**\n * \n */\nexport function getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**  */\nexport function checkShapeOverlap(cur: IElement, dones: IElement[]) {\n  const box = cur.getBBox();\n  return some(dones, (done) => {\n    const target = done.getBBox();\n    return getOverlapArea(box, target, 2) > 0;\n  });\n}\n","import { Coordinate } from '@antv/coord';\nimport { IGroup, IShape } from '@antv/g-base';\nimport { each, get } from '@antv/util';\nimport { doAnimate } from '../animate';\nimport { getReplaceAttrs } from '../util/graphics';\n\n/** label  */\ntype Cfg = {\n  data: any;\n  origin: any;\n  animateCfg: any;\n  coordinate: Coordinate;\n};\n\n/**\n * @desc  label ( id  idx )\n * @done shape \n * @done shape delete\n * @done shape append\n *\n * @param fromShape old labelShape\n * @param toShape new labelShape\n * @param cfg\n */\nexport function updateLabel(fromShape: IGroup, toShape: IGroup, cfg: Cfg): void {\n  const { data, origin, animateCfg, coordinate } = cfg;\n  const updateAnimateCfg = get(animateCfg, 'update');\n\n  fromShape.set('data', data);\n  fromShape.set('origin', origin);\n  fromShape.set('animateCfg', animateCfg);\n  fromShape.set('coordinate', coordinate);\n  fromShape.set('visible', toShape.get('visible'));\n\n  fromShape.getChildren().forEach((fromChild, idx) => {\n    const toChild = toShape.getChildByIndex(idx) as IShape;\n    if (!toChild) {\n      fromShape.removeChild(fromChild);\n      fromChild.remove(true);\n    } else {\n      fromChild.set('data', data);\n      fromChild.set('origin', origin);\n      fromChild.set('animateCfg', animateCfg);\n      fromChild.set('coordinate', coordinate);\n\n      const newAttrs = getReplaceAttrs(fromChild as IShape, toChild);\n      if (updateAnimateCfg) {\n        doAnimate(fromChild as IShape, updateAnimateCfg, {\n          toAttrs: newAttrs,\n          coordinate,\n        });\n      } else {\n        fromChild.attr(newAttrs);\n      }\n      if (toChild.isGroup()) {\n        updateLabel(fromChild as any, toChild as any, cfg);\n      }\n    }\n  });\n\n  // append\n  each(toShape.getChildren(), (child, idx) => {\n    if (idx >= fromShape.getCount()) {\n      if (!child.destroyed) {\n        fromShape.add(child);\n      }\n    }\n  });\n}\n","import { deepMix, each, get, isArray, isNull } from '@antv/util';\nimport { BBox, Coordinate, IGroup, IShape } from '../dependents';\nimport { LabelItem } from '../geometry/label/interface';\nimport { AnimateOption, GeometryLabelLayoutCfg } from '../interface';\nimport { doAnimate } from '../animate';\nimport { getGeometryLabelLayout } from '../geometry/label';\nimport { getLabelBackgroundInfo } from '../geometry/label/util';\nimport { polarToCartesian } from '../util/graphics';\nimport { rotate, translate } from '../util/transform';\nimport { FIELD_ORIGIN } from '../constant';\nimport { updateLabel } from './update-label';\n\n/**\n * Labels \n */\nexport interface LabelsGroupCfg {\n  /** label  */\n  container: IGroup;\n  /** label  */\n  layout?: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n}\n\n/**\n * Geometry labels \n */\nexport default class Labels {\n  /**  labels  */\n  public layout: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n  /**  */\n  public container: IGroup;\n  /**  */\n  public animate: AnimateOption | false;\n  /** label  */\n  public region: BBox;\n\n  /**  shape  shape id */\n  public shapesMap: Record<string, IGroup> = {};\n\n  constructor(cfg: LabelsGroupCfg) {\n    const { layout, container } = cfg;\n\n    this.layout = layout;\n    this.container = container;\n  }\n  /**\n   * \n   */\n  public async render(items: LabelItem[], shapes: Record<string, IShape | IGroup>, isUpdate: boolean = false) {\n    const shapesMap = {};\n    const offscreenGroup = this.createOffscreenGroup(); // \n    if (items.length) {\n      //  items \n      // step 1:  group  shapes\n      for (const item of items) {\n        if (item) {\n          shapesMap[item.id] = this.renderLabel(item, offscreenGroup);\n        }\n      }\n      // [todo] Move layout into Worker.\n      // step 2:  labels\n      await this.doLayout(items, shapes, shapesMap);\n\n      // step 3.1:  labelLine\n      this.renderLabelLine(items, shapesMap);\n      // step 3.2:  labelBackground\n      this.renderLabelBackground(items, shapesMap);\n      // step 4:  label\n      this.adjustLabel(items, shapesMap);\n    }\n\n    // \n    const lastShapesMap = this.shapesMap;\n    each(shapesMap, (shape, id) => {\n      if (shape.destroyed) {\n        // label doLayout\n        delete shapesMap[id];\n      } else {\n        if (lastShapesMap[id]) {\n          // \n          const data = shape.get('data');\n          const origin = shape.get('origin');\n          const coordinate = shape.get('coordinate');\n          const currentAnimateCfg = shape.get('animateCfg');\n\n          const currentShape = lastShapesMap[id]; //  shape\n          updateLabel(currentShape, shapesMap[id], {\n            data,\n            origin,\n            animateCfg: currentAnimateCfg,\n            coordinate,\n          });\n\n          shapesMap[id] = currentShape; // \n        } else {\n          //  shape\n          // If container has been destroyed, no need to render labels.\n          if (this.container.destroyed) return;\n          this.container.add(shape);\n          const animateCfg = get(shape.get('animateCfg'), isUpdate ? 'enter' : 'appear');\n          if (animateCfg) {\n            doAnimate(shape, animateCfg, {\n              toAttrs: {\n                ...shape.attr(),\n              },\n              coordinate: shape.get('coordinate'),\n            });\n          }\n        }\n        delete lastShapesMap[id];\n      }\n    });\n\n    // \n    each(lastShapesMap, (deleteShape) => {\n      const animateCfg = get(deleteShape.get('animateCfg'), 'leave');\n      if (animateCfg) {\n        doAnimate(deleteShape, animateCfg, {\n          toAttrs: null,\n          coordinate: deleteShape.get('coordinate'),\n        });\n      } else {\n        deleteShape.remove(true); // \n      }\n    });\n\n    this.shapesMap = shapesMap;\n    offscreenGroup.destroy();\n  }\n\n  /**  labels */\n  public clear() {\n    this.container.clear();\n    this.shapesMap = {};\n  }\n\n  /**  */\n  public destroy() {\n    this.container.destroy();\n    this.shapesMap = null;\n  }\n\n  private renderLabel(cfg: LabelItem, container: IGroup): IGroup {\n    const { id, elementId, data, mappingData, coordinate, animate, content } = cfg;\n    const shapeAppendCfg = {\n      id,\n      elementId,\n      data,\n      origin: {\n        ...mappingData,\n        data: mappingData[FIELD_ORIGIN],\n      },\n      coordinate,\n    };\n    const labelGroup = container.addGroup({\n      name: 'label',\n      //  this.animate === false  cfg.animate === false/null \n      animateCfg:\n        this.animate === false || animate === null || animate === false ? false : deepMix({}, this.animate, animate),\n      ...shapeAppendCfg,\n    });\n    let labelShape;\n    if ((content.isGroup && content.isGroup()) || (content.isShape && content.isShape())) {\n      //  content  Group  Shape textAlign  labelGroup\n      const { width, height } = content.getCanvasBBox();\n      const textAlign = get(cfg, 'textAlign', 'left');\n\n      let x = cfg.x;\n      const y = cfg.y - height / 2;\n\n      if (textAlign === 'center') {\n        x = x - width / 2;\n      } else if (textAlign === 'right' || textAlign === 'end') {\n        x = x - width;\n      }\n\n      translate(content, x, y); //  label  x, y \n      labelShape = content;\n      labelGroup.add(content);\n    } else {\n      const fill = get(cfg, ['style', 'fill']);\n      labelShape = labelGroup.addShape('text', {\n        attrs: {\n          x: cfg.x,\n          y: cfg.y,\n          textAlign: cfg.textAlign,\n          textBaseline: get(cfg, 'textBaseline', 'middle'),\n          text: cfg.content,\n          ...cfg.style,\n          fill: isNull(fill) ? cfg.color : fill,\n        },\n        ...shapeAppendCfg,\n      });\n    }\n\n    if (cfg.rotate) {\n      rotate(labelShape, cfg.rotate);\n    }\n    return labelGroup;\n  }\n\n  // typelabel\n  private async doLayout(items: LabelItem[], shapes: Record<string, IShape | IGroup>, shapesMap: Record<string, IGroup>) {\n    if (this.layout) {\n      const layouts = isArray(this.layout) ? this.layout : [this.layout];\n      await Promise.all(layouts.map((layout: GeometryLabelLayoutCfg) => {\n        const layoutFn = getGeometryLabelLayout(get(layout, 'type', ''));\n        if (!layoutFn) return;\n\n        const labelShapes = [];\n        const geometryShapes = [];\n        each(shapesMap, (labelShape, id) => {\n          labelShapes.push(labelShape);\n          geometryShapes.push(shapes[labelShape.get('elementId')]);\n        });\n        // [todo] Refactor more layout into Worker.\n        return layoutFn(items, labelShapes, geometryShapes, this.region, layout.cfg);\n      }));\n    }\n  }\n\n  private renderLabelLine(labelItems: LabelItem[], shapesMap) {\n    each(labelItems, (labelItem) => {\n      const coordinate: Coordinate = get(labelItem, 'coordinate');\n      if (!labelItem || !coordinate) {\n        return;\n      }\n      const center = coordinate.getCenter();\n      const radius = coordinate.getRadius();\n      if (!labelItem.labelLine) {\n        // labelLine: null | false label  labelLine\n        return;\n      }\n      const labelLineCfg = get(labelItem, 'labelLine', {});\n      const id = labelItem.id;\n      let path = labelLineCfg.path;\n      if (!path) {\n        const start = polarToCartesian(center.x, center.y, radius, labelItem.angle);\n        path = [\n          ['M', start.x, start.y],\n          ['L', labelItem.x, labelItem.y],\n        ];\n      }\n      const labelGroup = shapesMap[id];\n      if (!labelGroup.destroyed) {\n        labelGroup.addShape('path', {\n          capture: false, // labelLine \n          attrs: {\n            path,\n            stroke: labelItem.color ? labelItem.color : get(labelItem, ['style', 'fill'], '#000'),\n            fill: null,\n            ...labelLineCfg.style,\n          },\n          id,\n          origin: labelItem.mappingData,\n          data: labelItem.data,\n          coordinate: labelItem.coordinate,\n        });\n      }\n    });\n  }\n\n  /**\n   * \n   * @param labelItems\n   */\n  private renderLabelBackground(labelItems: LabelItem[], shapesMap) {\n    each(labelItems, (labelItem) => {\n      const coordinate: Coordinate = get(labelItem, 'coordinate');\n      const background: LabelItem['background'] = get(labelItem, 'background');\n      if (!background || !coordinate) {\n        return;\n      }\n\n      const id = labelItem.id;\n      const labelGroup = shapesMap[id];\n      if (!labelGroup.destroyed) {\n        const labelContentShape = labelGroup.getChildren()[0];\n        if (labelContentShape) {\n          const { rotation, ...box } = getLabelBackgroundInfo(labelGroup, labelItem, background.padding);\n          const backgroundShape = labelGroup.addShape('rect', {\n            attrs: {\n              ...box,\n              ...(background.style || {}),\n            },\n            id,\n            origin: labelItem.mappingData,\n            data: labelItem.data,\n            coordinate: labelItem.coordinate,\n          });\n          backgroundShape.setZIndex(-1);\n\n          if (rotation) {\n            const matrix = labelContentShape.getMatrix();\n            backgroundShape.setMatrix(matrix);\n          }\n        }\n      }\n    });\n  }\n\n  private createOffscreenGroup() {\n    const container = this.container;\n    const GroupClass = container.getGroupBase(); // \n    const newGroup = new GroupClass({});\n    return newGroup;\n  }\n\n  private adjustLabel(items: LabelItem[], shapesMap) {\n    each(items, (item) => {\n      if (item) {\n        const id = item.id;\n        const labelGroup = shapesMap[id];\n        if (!labelGroup.destroyed) {\n          // fix:  label content  group  content group   spider label  2  textShape  gorup\n          const labelShapes = labelGroup.findAll((ele) => ele.get('type') !== 'path');\n          each(labelShapes, (labelShape) => {\n            if (labelShape) {\n              if (item.offsetX) {\n                labelShape.attr('x', labelShape.attr('x') + item.offsetX);\n              }\n              if (item.offsetY) {\n                labelShape.attr('y', labelShape.attr('y') + item.offsetY);\n              }\n            }\n          });\n        }\n      }\n    });\n  }\n}\n","import { deepMix, each, get, isArray, isFunction, isNil, isNumber, isString, isUndefined } from '@antv/util';\n\nimport { FIELD_ORIGIN } from '../../constant';\nimport { Scale } from '../../dependents';\nimport { Datum, LabelOption, MappingDatum, Point } from '../../interface';\nimport { LabelCfg, LabelItem, LabelPointCfg, TextAlign } from './interface';\n\nimport { getDefaultAnimateCfg } from '../../animate';\nimport { getPolygonCentroid } from '../../util/graphics';\n\nimport Labels from '../../component/labels';\nimport Geometry from '../base';\nimport Element from '../element';\n\nexport type GeometryLabelConstructor = new (cfg: any) => GeometryLabel;\n\nfunction avg(arr: number[]) {\n  let sum = 0;\n  each(arr, (value: number) => {\n    sum += value;\n  });\n  return sum / arr.length;\n}\n\n/**\n * Geometry Label  Geometry  label \n */\nexport default class GeometryLabel {\n  /** geometry  */\n  public readonly geometry: Geometry;\n  public labelsRenderer: Labels;\n  /**  */\n  public defaultLayout: string;\n\n  constructor(geometry: Geometry) {\n    this.geometry = geometry;\n  }\n\n  public getLabelItems(mapppingArray: MappingDatum[]): LabelItem[] {\n    const items = [];\n    const labelCfgs = this.getLabelCfgs(mapppingArray);\n    //  label  xy  x, y\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const labelCfg = labelCfgs[index];\n      if (!labelCfg || isNil(mappingData.x) || isNil(mappingData.y)) {\n        items.push(null);\n        return;\n      }\n\n      const labelContent = !isArray(labelCfg.content) ? [labelCfg.content] : labelCfg.content;\n      labelCfg.content = labelContent;\n      const total = labelContent.length;\n      each(labelContent, (content, subIndex) => {\n        if (isNil(content) || content === '') {\n          items.push(null);\n          return;\n        }\n\n        const item = {\n          ...labelCfg,\n          ...this.getLabelPoint(labelCfg, mappingData, subIndex),\n        };\n        if (!item.textAlign) {\n          item.textAlign = this.getLabelAlign(item, subIndex, total);\n        }\n\n        if (item.offset <= 0) {\n          item.labelLine = null;\n        }\n\n        items.push(item);\n      });\n    });\n    return items;\n  }\n\n  public async render(mappingArray: MappingDatum[], isUpdate: boolean = false) {\n    const labelItems = this.getLabelItems(mappingArray);\n    const labelsRenderer = this.getLabelsRenderer();\n    const shapes = this.getGeometryShapes();\n    // \n    await labelsRenderer.render(labelItems, shapes, isUpdate);\n  }\n\n  public clear() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.clear();\n    }\n  }\n\n  public destroy() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.destroy();\n    }\n    this.labelsRenderer = null;\n  }\n\n  // geometry  Coordinate  Coordinate\n  public getCoordinate() {\n    return this.geometry.coordinate;\n  }\n\n  /**\n   *  label \n   */\n  protected getDefaultLabelCfg(offset?: number, position?: string) {\n    const geometry = this.geometry;\n    const { type, theme } = geometry;\n\n    if (\n      type === 'polygon' ||\n      (type === 'interval' && position === 'middle') ||\n      (offset < 0 && !['line', 'point', 'path'].includes(type))\n    ) {\n      // polygon  (interval  middle)  offset  0  \n      return get(theme, 'innerLabels', {});\n    }\n\n    return get(theme, 'labels', {});\n  }\n\n  /**\n   *  label \n   * @param labelCfg\n   */\n  protected getThemedLabelCfg(labelCfg: LabelCfg) {\n    const geometry = this.geometry;\n    const defaultLabelCfg = this.getDefaultLabelCfg();\n    const { type, theme } = geometry;\n    let themedLabelCfg;\n\n    if (type === 'polygon' || (labelCfg.offset < 0 && !['line', 'point', 'path'].includes(type))) {\n      // polygon  offset  0  \n      themedLabelCfg = deepMix({}, defaultLabelCfg, theme.innerLabels, labelCfg);\n    } else {\n      themedLabelCfg = deepMix({}, defaultLabelCfg, theme.labels, labelCfg);\n    }\n\n    return themedLabelCfg;\n  }\n\n  /**\n   *  label \n   * @param labelPointCfg\n   * @param mappingData\n   * @param index\n   * @param position\n   */\n  protected setLabelPosition(\n    labelPointCfg: LabelPointCfg,\n    mappingData: MappingDatum,\n    index: number,\n    position: string\n  ) {}\n\n  /**\n   * @desc  label offset\n   */\n  protected getLabelOffset(offset: number | string): number {\n    const coordinate = this.getCoordinate();\n    const vector = this.getOffsetVector(offset);\n    return coordinate.isTransposed ? vector[0] : vector[1];\n  }\n\n  /**\n   *  label  ()\n   * @param labelCfg\n   * @param index\n   * @param total\n   * @return {Point} offsetPoint\n   */\n  protected getLabelOffsetPoint(labelCfg: LabelCfg, index: number, total: number): Point {\n    const offset = labelCfg.offset;\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const dim = transposed ? 'x' : 'y';\n    const factor = transposed ? 1 : -1; // y transposed\n    const offsetPoint = {\n      x: 0,\n      y: 0,\n    };\n    if (index > 0 || total === 1) {\n      // 0\n      offsetPoint[dim] = offset * factor;\n    } else {\n      offsetPoint[dim] = offset * factor * -1;\n    }\n    return offsetPoint;\n  }\n\n  /**\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   * @returns label point\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    const coordinate = this.getCoordinate();\n    const total = labelCfg.content.length;\n\n    function getDimValue(value: number | number[], idx: number, isAvg = false) {\n      let v = value;\n      if (isArray(v)) {\n        if (labelCfg.content.length === 1) {\n          if (isAvg) {\n            v = avg(v);\n          } else {\n            //  label y,  y\n            if (v.length <= 2) {\n              v = v[(value as number[]).length - 1];\n            } else {\n              v = avg(v);\n            }\n          }\n        } else {\n          v = v[idx];\n        }\n      }\n      return v;\n    }\n\n    const label = {\n      content: labelCfg.content[index],\n      x: 0,\n      y: 0,\n      start: { x: 0, y: 0 },\n      color: '#fff',\n    };\n    const shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n    const isFunnel = shape === 'funnel' || shape === 'pyramid';\n\n    // \n    if (this.geometry.type === 'polygon') {\n      const centroid = getPolygonCentroid(mappingData.x, mappingData.y);\n      label.x = centroid[0];\n      label.y = centroid[1];\n    } else if (this.geometry.type === 'interval' && !isFunnel) {\n      // label X \n      label.x = getDimValue(mappingData.x, index, true);\n      label.y = getDimValue(mappingData.y, index);\n    } else {\n      label.x = getDimValue(mappingData.x, index);\n      label.y = getDimValue(mappingData.y, index);\n    }\n\n    // \n    if (isFunnel) {\n      const nextPoints = get(mappingData, 'nextPoints');\n      const points = get(mappingData, 'points');\n      if (nextPoints) {\n        // \n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(nextPoints[1] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      } else if (shape === 'pyramid') {\n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(points[2] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      }\n    }\n\n    if (labelCfg.position) {\n      //  label  position \n      this.setLabelPosition(label, mappingData, index, labelCfg.position);\n    }\n    const offsetPoint = this.getLabelOffsetPoint(labelCfg, index, total);\n    label.start = { x: label.x, y: label.y };\n    label.x += offsetPoint.x;\n    label.y += offsetPoint.y;\n    label.color = mappingData.color;\n    return label;\n  }\n\n  /**\n   * \n   * @param item\n   * @param index\n   * @param total\n   * @returns\n   */\n  protected getLabelAlign(item: LabelItem, index: number, total: number): TextAlign {\n    let align: TextAlign = 'center';\n    const coordinate = this.getCoordinate();\n    if (coordinate.isTransposed) {\n      const offset = item.offset;\n      if (offset < 0) {\n        align = 'right';\n      } else if (offset === 0) {\n        align = 'center';\n      } else {\n        align = 'left';\n      }\n      if (total > 1 && index === 0) {\n        if (align === 'right') {\n          align = 'left';\n        } else if (align === 'left') {\n          align = 'right';\n        }\n      }\n    }\n    return align;\n  }\n\n  /**\n   *  label  id\n   * @param mappingData label \n   */\n  protected getLabelId(mappingData: MappingDatum) {\n    const geometry = this.geometry;\n    const type = geometry.type;\n    const xScale = geometry.getXScale();\n    const yScale = geometry.getYScale();\n    const origin = mappingData[FIELD_ORIGIN]; // \n\n    let labelId = geometry.getElementId(mappingData);\n    if (type === 'line' || type === 'area') {\n      //  labels labels line id  x \n      labelId += ` ${origin[xScale.field]}`;\n    } else if (type === 'path') {\n      // path  x  y  x y  id\n      labelId += ` ${origin[xScale.field]}-${origin[yScale.field]}`;\n    }\n\n    return labelId;\n  }\n\n  //  labels \n  private getLabelsRenderer() {\n    const { labelsContainer, labelOption, canvasRegion, animateOption } = this.geometry;\n    const coordinate = this.geometry.coordinate;\n\n    let labelsRenderer = this.labelsRenderer;\n    if (!labelsRenderer) {\n      labelsRenderer = new Labels({\n        container: labelsContainer,\n        layout: get(labelOption, ['cfg', 'layout'], {\n          type: this.defaultLayout,\n        }),\n      });\n      this.labelsRenderer = labelsRenderer;\n    }\n    labelsRenderer.region = canvasRegion;\n    //  geometry  label \n    labelsRenderer.animate = animateOption ? getDefaultAnimateCfg('label', coordinate) : false;\n\n    return labelsRenderer;\n  }\n\n  private getLabelCfgs(mapppingArray: MappingDatum[]): LabelCfg[] {\n    const geometry = this.geometry;\n    const { labelOption, scales, coordinate } = geometry;\n    const { fields, callback, cfg } = labelOption as LabelOption;\n    const labelScales = fields.map((field: string) => {\n      return scales[field];\n    });\n\n    const labelCfgs: LabelCfg[] = [];\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const origin = mappingData[FIELD_ORIGIN]; // \n      const originText = this.getLabelText(origin, labelScales);\n      let callbackCfg;\n      if (callback) {\n        //  callback  cfg  callback \n        const originValues = fields.map((field: string) => origin[field]);\n        callbackCfg = callback(...originValues);\n        if (isNil(callbackCfg)) {\n          labelCfgs.push(null);\n          return;\n        }\n      }\n\n      let labelCfg = {\n        id: this.getLabelId(mappingData), //  ID \n        elementId: this.geometry.getElementId(mappingData), // label  Element  ID\n        data: origin, // \n        mappingData, // ,\n        coordinate, // \n        ...cfg,\n        ...callbackCfg,\n      };\n\n      if (isFunction(labelCfg.position)) {\n        labelCfg.position = labelCfg.position(origin, mappingData, index);\n      }\n\n      const offset = this.getLabelOffset(labelCfg.offset || 0);\n      // defaultCfg  innerLabels & labels\n      const defaultLabelCfg = this.getDefaultLabelCfg(offset, labelCfg.position);\n      // labelCfg priority: defaultCfg < cfg < callbackCfg\n      labelCfg = deepMix({}, defaultLabelCfg, labelCfg);\n      //  offset\n      labelCfg.offset = this.getLabelOffset(labelCfg.offset || 0);\n\n      const content = labelCfg.content;\n      if (isFunction(content)) {\n        labelCfg.content = content(origin, mappingData, index);\n      } else if (isUndefined(content)) {\n        //  content\n        labelCfg.content = originText[0];\n      }\n\n      labelCfgs.push(labelCfg);\n    });\n\n    return labelCfgs;\n  }\n\n  private getLabelText(origin: Datum, scales: Scale[]) {\n    const labelTexts = [];\n    each(scales, (scale: Scale) => {\n      let value = origin[scale.field];\n      if (isArray(value)) {\n        value = value.map((subVal) => {\n          return scale.getText(subVal);\n        });\n      } else {\n        value = scale.getText(value);\n      }\n\n      if (isNil(value) || value === '') {\n        labelTexts.push(null);\n      } else {\n        labelTexts.push(value);\n      }\n    });\n    return labelTexts;\n  }\n\n  private getOffsetVector(offset: number | string = 0) {\n    const coordinate = this.getCoordinate();\n    let actualOffset = 0;\n    if (isNumber(offset)) {\n      actualOffset = offset;\n    }\n    //  x,y  x y\n    return coordinate.isTransposed ? coordinate.applyMatrix(actualOffset, 0) : coordinate.applyMatrix(0, actualOffset);\n  }\n\n  private getGeometryShapes() {\n    const geometry = this.geometry;\n    const shapes = {};\n    each(geometry.elementsMap, (element: Element, id: string) => {\n      shapes[id] = element.shape;\n    });\n    //  shape  shape.getBBox()  offscreenGroup \n    each(geometry.getOffscreenGroup().getChildren(), (child) => {\n      const id = geometry.getElementId(child.get('origin').mappingData);\n      shapes[id] = child;\n    });\n\n    return shapes;\n  }\n}\n","import { Attribute } from '../dependents';\n\n/**\n * @ignore\n * get the mapping value by attribute, if mapping value is nil, return def\n * @param attr\n * @param value\n * @param def\n * @returns get mapping value\n */\nexport function getMappingValue(attr: Attribute, value: any, def: string): string {\n  if (!attr) {\n    return def;\n  }\n\n  let r;\n  // \n  if (attr.callback && attr.callback.length > 1) {\n    const restArgs = Array(attr.callback.length - 1).fill('');\n    r = attr.mapping(value, ...restArgs).join('');\n  } else {\n    r = attr.mapping(value).join('');\n  }\n\n  return r || def;\n}\n","/** @ignore */\nexport const MarkerSymbols = {\n  hexagon: (x: number, y: number, r: number) => {\n    const diffX = (r / 2) * Math.sqrt(3);\n    return [\n      ['M', x, y - r],\n      ['L', x + diffX, y - r / 2],\n      ['L', x + diffX, y + r / 2],\n      ['L', x, y + r],\n      ['L', x - diffX, y + r / 2],\n      ['L', x - diffX, y - r / 2],\n      ['Z'],\n    ];\n  },\n  bowtie: (x: number, y: number, r: number) => {\n    const diffY = r - 1.5;\n    return [['M', x - r, y - diffY], ['L', x + r, y + diffY], ['L', x + r, y - diffY], ['L', x - r, y + diffY], ['Z']];\n  },\n  cross: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y - r],\n      ['L', x + r, y + r],\n      ['M', x + r, y - r],\n      ['L', x - r, y + r],\n    ];\n  },\n  tick: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r / 2, y - r],\n      ['L', x + r / 2, y - r],\n      ['M', x, y - r],\n      ['L', x, y + r],\n      ['M', x - r / 2, y + r],\n      ['L', x + r / 2, y + r],\n    ];\n  },\n  plus: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n  hyphen: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n};\n","import { LegendMarkerCfg } from '@antv/component';\nimport { deepMix, isString, each, get, isFunction } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { Attribute, ShapeAttrs, Tick } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { LegendCfg, LegendItem, MarkerCfg } from '../interface';\nimport { getMappingValue } from './attr';\nimport { omit } from './helper';\nimport { MarkerSymbols } from './marker';\n\n/**  marker symbol */\nconst STROKES_SYMBOLS = ['line', 'cross', 'tick', 'plus', 'hyphen'];\n\n/**\n *  marker style\n * @param markerStyle\n * @param userMarker.style\n * @returns {ShapeAttrs} newStyle\n */\nfunction handleUserMarkerStyle(markerStyle: ShapeAttrs, style: MarkerCfg['style']): ShapeAttrs {\n  if (isFunction(style)) {\n    return style(markerStyle);\n  }\n  return deepMix({}, markerStyle, style);\n}\n\n/**\n *  marker  symbol, \n * @param symbol\n * @param style\n * @param color\n */\nfunction adpatorMarkerStyle(marker: LegendMarkerCfg, color: string): void {\n  const symbol = marker.symbol;\n  if (isString(symbol) && STROKES_SYMBOLS.indexOf(symbol) !== -1) {\n    const markerStyle = get(marker, 'style', {});\n    const lineWidth = get(markerStyle, 'lineWidth', 1);\n    const stroke = markerStyle.stroke || markerStyle.fill || color;\n    marker.style = deepMix({}, marker.style, { lineWidth, stroke, fill: null });\n  }\n}\n\n/**\n *  marker  symbol  symbol \n * @param marker\n */\nfunction setMarkerSymbol(marker: LegendMarkerCfg): void {\n  const symbol = marker.symbol;\n  if (isString(symbol) && MarkerSymbols[symbol]) {\n    marker.symbol = MarkerSymbols[symbol];\n  }\n}\n\n/**\n * @ignore\n * get the legend layout from direction\n * @param direction\n * @returns layout 'horizontal' | 'vertical'\n */\nexport function getLegendLayout(direction: DIRECTION): 'vertical' | 'horizontal' {\n  return direction.startsWith(DIRECTION.LEFT) || direction.startsWith(DIRECTION.RIGHT) ? 'vertical' : 'horizontal';\n}\n\n/** item of @antv/component legend  */\ntype ComponentLegendItem = Omit<LegendItem, 'marker'> & {\n  marker: any;\n};\n\n/**\n * @ignore\n * get the legend items\n * @param view\n * @param geometry\n * @param attr\n * @param themeMarker\n * @param markerCfg\n * @returns legend items\n */\nexport function getLegendItems(\n  view: View,\n  geometry: Geometry,\n  attr: Attribute,\n  themeMarker: object,\n  userMarker: LegendCfg['marker']\n): ComponentLegendItem[] {\n  const scale = attr.getScale(attr.type);\n  if (scale.isCategory) {\n    const field = scale.field;\n    const colorAttr = geometry.getAttribute('color');\n    const shapeAttr = geometry.getAttribute('shape');\n    const defaultColor = view.getTheme().defaultColor;\n    const isInPolar = geometry.coordinate.isPolar;\n\n    return scale.getTicks().map((tick: Tick, index: number) => {\n      const { text, value: scaleValue } = tick;\n      const name = text;\n      const value = scale.invert(scaleValue);\n\n      //  unchecked\n      let unchecked = view.filterFieldData(field, [{ [field]: value }]).length === 0;\n      each(view.views, (subView) => {\n        if (!subView.filterFieldData(field, [{ [field]: value }]).length) {\n          unchecked = true;\n        }\n      });\n\n      // @ts-ignore\n      const color = getMappingValue(colorAttr, value, defaultColor);\n      const shape = getMappingValue(shapeAttr, value, 'point');\n      let marker = geometry.getShapeMarker(shape, {\n        color,\n        isInPolar,\n      });\n\n      let markerCfg = userMarker;\n      if (isFunction(markerCfg)) {\n        markerCfg = markerCfg(name, index, { name, value, ...deepMix({}, themeMarker, marker) });\n      }\n\n      // the marker configure order should be ensure\n      marker = deepMix({}, themeMarker, marker, omit({ ...markerCfg }, ['style']));\n      adpatorMarkerStyle(marker, color);\n      if (markerCfg && markerCfg.style) {\n        // handle user's style settings\n        marker.style = handleUserMarkerStyle(marker.style, markerCfg.style);\n      }\n      setMarkerSymbol(marker);\n\n      return { id: value, name, value, marker, unchecked };\n    });\n  }\n  return [];\n}\n\n/**\n *\n * @ignore\n * custom legend  items \n * @param themeMarker\n * @param userMarker\n * @param customItems\n */\nexport function getCustomLegendItems(themeMarker: object, userMarker: object, customItems: LegendItem[]) {\n  //  item marker \n  return customItems.map((item: LegendItem, index: number) => {\n    let markerCfg = userMarker;\n    if (isFunction(markerCfg)) {\n      markerCfg = markerCfg(item.name, index, deepMix({}, themeMarker, item));\n    }\n\n    const itemMarker = isFunction(item.marker)\n      ? item.marker(item.name, index, deepMix({}, themeMarker, item))\n      : item.marker;\n\n    const marker = deepMix({}, themeMarker, markerCfg, itemMarker);\n    setMarkerSymbol(marker);\n\n    item.marker = marker;\n    return item;\n  });\n}\n\n/**\n * get the legend cfg from theme, will mix the common cfg of legend theme\n *\n * @param theme view theme object\n * @param direction legend direction\n * @returns legend theme cfg\n */\nexport function getLegendThemeCfg(theme: object, direction: string): object {\n  const legendTheme = get(theme, ['components', 'legend'], {});\n  return deepMix({}, get(legendTheme, ['common'], {}), deepMix({}, get(legendTheme, [direction], {})));\n}\n","import { isArray } from '@antv/util';\nimport { PathCommand } from '../../../dependents';\nimport { Point, RangePoint, ShapeVertices } from '../../../interface';\nimport { getSplinePath } from './path';\n\nfunction isValueEmpty(value) {\n  if (value) {\n    return false;\n  }\n  return value === null || value === undefined || isNaN(value);\n}\n\nfunction isYNil(point: Point[] | RangePoint) {\n  if (isArray(point)) {\n    //  area  [{x: 0, y: 1}, {x: 0, y: 2}]\n    return isValueEmpty(point[1].y);\n  }\n  const value = point.y;\n  return isArray(value) ? isValueEmpty(value[0]) : isValueEmpty(value);\n}\n\n/**\n * @ignore\n * y  null/undefined/NaN \n * \n *\n * ```typescript\n * // return [[{x: 1, y: 2}, {x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], true);\n * // return [[{x: 1, y: 2}], [{x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], false);\n * // return [[[{ x: 1, y: 10 }, { x: 2, y: 2 }], [{ x: 9, y: 34 }, { x: 1, y: 1 }]]]\n * getPathPoints([\n *   [{ x: 1, y: 10 }, { x: 2, y: 2 }],\n *   [{ x: 4, y: 2 }, { x: 8, y: NaN }],\n *   [{ x: 9, y: 34 }, { x: 1, y: 1 }],\n * ], true);\n * ```\n *\n * @param points \n * @param connectNulls \n * @param showSinglePoint \n * @returns \n */\nexport function getPathPoints(points: ShapeVertices, connectNulls: boolean = false, showSinglePoint: boolean = true) {\n  if (!points.length || (points.length === 1 && !showSinglePoint)) {\n    // \n    return [];\n  }\n\n  if (connectNulls) {\n    //  y \n    const filtered = [];\n    for (let i = 0, len = points.length; i < len; i++) {\n      const point = points[i];\n      if (!isYNil(point)) {\n        filtered.push(point);\n      }\n    }\n    return [filtered];\n  }\n\n  const result = [];\n  let tmp = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isYNil(point)) {\n      if (tmp.length) {\n        if (!(tmp.length === 1 && !showSinglePoint)) {\n          // \n          result.push(tmp);\n        }\n        tmp = [];\n      }\n    } else {\n      tmp.push(point);\n    }\n  }\n\n  if (tmp.length) {\n    result.push(tmp);\n  }\n  return result;\n}\n\n/**\n *  path\n * @param points\n * @returns\n */\nexport function getViolinPath(points: ShapeVertices): PathCommand[] {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i] as Point;\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n  const first = points[0] as Point;\n  if (first) {\n    path.push(['L', first.x, first.y]);\n    path.push(['z']);\n  }\n  return path;\n}\n\n/**\n *   path\n * @param points\n * @returns\n */\nexport function getSmoothViolinPath(points: ShapeVertices): PathCommand[] {\n  const half = points.length / 2;\n  const leftPoints = [];\n  const rightPoints = [];\n  for (let i = 0; i < points.length; i++) {\n    if (i < half) {\n      leftPoints.push(points[i]);\n    } else {\n      rightPoints.push(points[i]);\n    }\n  }\n  const leftPath = getSplinePath(leftPoints, false);\n  const rightPath = getSplinePath(rightPoints, false);\n  if (rightPoints.length) {\n    leftPath.push(['L', rightPoints[0].x, rightPoints[0].y]);\n  }\n  rightPath.shift();\n  const path = leftPath.concat(rightPath);\n  if (leftPoints.length) {\n    path.push(['L', leftPoints[0].x, leftPoints[0].y]);\n  }\n  path.push(['z']);\n  return path;\n}\n","import { deepMix, isNil, get } from '@antv/util';\nimport { ShapeInfo } from '../../../interface';\n\n/**\n * @ignore\n *  Shape \n * @param cfg\n * @param isStroke \n * @param isFill \n * @param [sizeName] lineWidth  r\n * @returns\n */\nexport function getStyle(cfg: ShapeInfo, isStroke: boolean, isFill: boolean, sizeName: string = '') {\n  const { style = {}, defaultStyle, color, size } = cfg;\n  const attrs = {\n    ...defaultStyle,\n    ...style,\n  };\n  if (color) {\n    if (isStroke) {\n      if (!style.stroke) {\n        //  style()  stroke\n        attrs.stroke = color;\n      }\n    }\n\n    if (isFill) {\n      if (!style.fill) {\n        //  style()  fill\n        attrs.fill = color;\n      }\n    }\n  }\n  if (sizeName && isNil(style[sizeName]) && !isNil(size)) {\n    //  style()  lineWidth  r \n    attrs[sizeName] = size;\n  }\n\n  return attrs;\n}\n\n/**\n *   \n * @param cfg\n */\nexport function getBackgroundRectStyle(cfg?: ShapeInfo) {\n  return deepMix(\n    {},\n    {\n      // copy from active-region\n      fill: '#CCD6EC',\n      fillOpacity: 0.3,\n    },\n    get(cfg, ['background', 'style'])\n  );\n}\n","import { isArray } from '@antv/util';\nimport { Point, RangePoint } from '../../../interface';\n\n/**\n * @ignore\n * \n * @example\n * // result: [{x: 20, y: 20}, {x: 20, y: 30}]\n * splitPoints({x: 20,y: [20, 30]});\n * @example\n * // result: [{x: 20, y: 20}, {x: 30, y: 30}]\n * splitPoints({x: [20, 30],y: [20, 30]});\n * @param obj\n */\nexport function splitPoints(obj: RangePoint): Point[] {\n  // y  y  [19, 30] x \n  const x = obj.x;\n  const y = isArray(obj.y) ? obj.y : [obj.y];\n\n  return y.map((eachY, index) => {\n    return {\n      x: isArray(x) ? x[index] : x,\n      y: eachY,\n    };\n  });\n}\n","import { ShapeMarkerCfg } from '../../../interface';\n\nconst LineSymbols = {\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dot: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dash: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  smooth: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['A', r / 2, r / 2, 0, 1, 1, x, y],\n      ['A', r / 2, r / 2, 0, 1, 0, x + r, y],\n    ];\n  },\n  hv: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y - 2.5],\n      ['L', x, y - 2.5],\n      ['L', x, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y + 2.5],\n      ['L', x, y + 2.5],\n      ['L', x, y - 2.5],\n      ['L', x + r + 1, y - 2.5],\n    ];\n  },\n  hvh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - (r + 1), y + 2.5],\n      ['L', x - r / 2, y + 2.5],\n      ['L', x - r / 2, y - 2.5],\n      ['L', x + r / 2, y - 2.5],\n      ['L', x + r / 2, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vhv: (x: number, y: number) => {\n    //  13px 8px\n    return [\n      ['M', x - 5, y + 2.5],\n      ['L', x - 5, y],\n      ['L', x, y],\n      ['L', x, y - 3],\n      ['L', x, y + 3],\n      ['L', x + 6.5, y + 3],\n    ];\n  },\n};\n\n/**\n * Gets line marker\n * @ignore\n * @param markerCfg\n * @param shapeType\n * @returns  Line  marker \n */\nexport function getLineMarker(markerCfg: ShapeMarkerCfg, shapeType: string) {\n  const { color } = markerCfg;\n  return {\n    symbol: LineSymbols[shapeType],\n    style: {\n      lineWidth: 2,\n      r: 6,\n      stroke: color,\n    },\n  };\n}\n","import { each, isArray } from '@antv/util';\nimport { IGroup, ShapeAttrs } from '../../../dependents';\nimport { Point, Position, RangePoint, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\nimport { getLineMarker } from './util';\n\nfunction getShapeAttrs(cfg: ShapeInfo, smooth?: boolean, constraint?: Position[]) {\n  const { isStack, connectNulls, isInCircle, showSinglePoint } = cfg;\n  const shapeAttrs = getStyle(cfg, true, false, 'lineWidth');\n\n  const points = getPathPoints(cfg.points, connectNulls, showSinglePoint); //  connectNulls  points\n  let path = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const eachLinePoints = points[i];\n    path = path.concat(getPath(eachLinePoints, isInCircle, isStack, smooth, constraint, shapeAttrs));\n  }\n  shapeAttrs.path = path;\n\n  return shapeAttrs;\n}\n\n//  path\nfunction getSinglePath(\n  points: Point[],\n  isInCircle: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  if (points.length === 1) {\n    // \n    return [\n      ['M', points[0].x, points[0].y - style.lineWidth / 2],\n      ['L', points[0].x, points[0].y],\n      ['L', points[0].x, points[0].y + style.lineWidth / 2],\n    ];\n  }\n\n  let path;\n  if (!smooth) {\n    path = getLinePath(points, false);\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  } else {\n    // \n    if (isInCircle && points.length) {\n      points.push({ x: points[0].x, y: points[0].y });\n    }\n    path = getSplinePath(points, false, constraint);\n  }\n\n  return path;\n}\n\nfunction getRangePath(\n  points: RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  const topPoints = [];\n  const bottomPoints = [];\n  each(points, (point: RangePoint) => {\n    const result = splitPoints(point);\n    topPoints.push(result[1]); // \n    bottomPoints.push(result[0]); // \n  });\n\n  const topPath = getSinglePath(topPoints, isInCircle, smooth, constraint, style);\n  const bottomPath = getSinglePath(bottomPoints, isInCircle, smooth, constraint, style);\n  if (isStack) {\n    return topPath;\n  }\n  return topPath.concat(bottomPath);\n}\n\n/**\n *  path\n */\nexport function getPath(\n  points: Point[] | RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  if (points.length) {\n    const first = points[0];\n\n    return isArray(first.y)\n      ? getRangePath(points as RangePoint[], isInCircle, isStack, smooth, constraint, style)\n      : getSinglePath(points as Point[], isInCircle, smooth, constraint, style);\n  }\n  return [];\n}\n\nconst LineShapeFactory = registerShapeFactory('line', {\n  defaultShapeType: 'line',\n});\n\n// \n// 'line' 'dot'  'dash'  - - -\neach(['line', 'dot', 'dash', 'smooth'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const smooth = shapeType === 'smooth';\n      let constraint;\n      if (smooth) {\n        const { start, end } = this.coordinate;\n        constraint = [\n          [start.x, end.y],\n          [end.x, start.y],\n        ];\n      }\n\n      const attrs = getShapeAttrs(cfg, smooth, constraint);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n        capture: !smooth,\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n\nexport default LineShapeFactory;\n","/* G2  Geometry */\n\nexport const VERSION = '4.2.0';\n\n// \nexport { Chart, View, Event } from './chart'; // Chart, View \nexport { Controller as ComponentController } from './chart/controller/base'; // G2 \nexport { default as TooltipController } from './chart/controller/tooltip'; // G2 tooltip \nexport { default as Geometry } from './geometry/base'; // Geometry \nexport { default as Element } from './geometry/element'; // Element \nexport { default as GeometryLabel } from './geometry/label/base'; // Geometry Label \nexport { Interaction, Action } from './interaction'; // Interaction, Action \nexport { Facet } from './facet'; // Facet \nexport { default as InteractionAction } from './interaction/action/base'; // Interaction Action \n\n//  ComponentController\nexport { registerComponentController } from './chart';\n\n//  Geometry\nexport { registerGeometry } from './chart';\n\n//  Geometry Shape\nexport { registerShape, registerShapeFactory, getShapeFactory } from './geometry/shape/base';\n\n//  Geometry label  Geometry Label \nexport {\n  registerGeometryLabel,\n  registerGeometryLabelLayout,\n  getGeometryLabel,\n  getGeometryLabelLayout,\n} from './geometry/label';\n\n//  interaction\nexport { getInteraction, registerInteraction, registerAction, getActionClass } from './interaction';\n\n//  facet\nexport { getFacet, registerFacet } from './facet';\n\n// \nexport { getTheme, registerTheme } from './theme';\n\n// G engine \nexport { registerEngine, getEngine } from './engine';\n\n// \nexport { registerAnimation, getAnimation } from './animate/animation';\n\nexport { LAYER, DIRECTION } from './constant';\n\n//  typescript  export * as \nimport * as Types from './interface';\nexport type { Types };\n\nexport { IGroup, ShapeAttrs, Coordinate, Scale, ScaleConfig } from './dependents';\n\n// \nimport { getMappingValue } from './util/attr';\nimport { getLegendItems } from './util/legend';\nimport { getAngle, getSectorPath, polarToCartesian } from './util/graphics';\nimport { rotate, transform, translate, zoom } from './util/transform';\nimport { getTooltipItems } from './util/tooltip';\nimport { getDelegationObject } from './interaction/action/util';\nimport { getPathPoints } from './geometry/shape/util/get-path-points';\nimport { getPath } from './geometry/shape/line';\n\nexport const Util = {\n  getLegendItems,\n  translate,\n  rotate,\n  zoom,\n  transform,\n  getAngle,\n  getSectorPath,\n  polarToCartesian,\n  getDelegationObject,\n  getTooltipItems,\n  getMappingValue,\n  // shape \n  getPath,\n  getPathPoints,\n};\n","import { StyleSheetCfg } from '../../interface';\n\nconst WHITE_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst BLACK_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#E86452',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#E86452',\n  '#F8D0CB',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\n/**  */\nconst SINGLE_SEQUENCE = [\n  '#B8E1FF',\n  '#9AC5FF',\n  '#7DAAFF',\n  '#5B8FF9',\n  '#3D76DD',\n  '#085EC0',\n  '#0047A5',\n  '#00318A',\n  '#001D70',\n];\n\nexport const createDarkStyleSheet = (cfg: StyleSheetCfg = {}) => {\n  const { paletteQualitative10 = QUALITATIVE_10, paletteQualitative20 = QUALITATIVE_20 } = cfg;\n  const { brandColor = paletteQualitative10[0] } = cfg;\n\n  const token = {\n    /**  */\n    backgroundColor: '#141414',\n    /**  */\n    brandColor,\n    /**  */\n    subColor: 'rgba(255,255,255,0.05)',\n    /**  1 10  */\n    paletteQualitative10,\n    /**  2 10  */\n    paletteQualitative20,\n    /**  */\n    paletteSemanticRed: '#F4664A',\n    /**  */\n    paletteSemanticGreen: '#30BF78',\n    /**  */\n    paletteSemanticYellow: '#FAAD14',\n    /** () */\n    paletteSequence: SINGLE_SEQUENCE,\n    /**  */\n    fontFamily: `\"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n    \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n    \"Noto Color Emoji\"`,\n\n    // --------------------  --------------------\n    /**  */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisLineBorder: 1,\n    /**  lineDash  */\n    axisLineDash: null,\n\n    /**  */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /**  */\n    axisTitleTextFontSize: 12,\n    /**  */\n    axisTitleTextLineHeight: 12,\n    /**  */\n    axisTitleTextFontWeight: 'normal',\n    /**  */\n    axisTitleSpacing: 12,\n    /** icon */\n    axisDescriptionIconFillColor: WHITE_COLORS[85],\n\n    /**  */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisTickLineLength: 4,\n    /**  */\n    axisTickLineBorder: 1,\n\n    /**  */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisSubTickLineLength: 2,\n    /**  */\n    axisSubTickLineBorder: 1,\n\n    /**  */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /**  */\n    axisLabelFontSize: 12,\n    /**  */\n    axisLabelLineHeight: 12,\n    /**  */\n    axisLabelFontWeight: 'normal',\n    /**  */\n    axisLabelOffset: 8,\n\n    /**  */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisGridBorder: 1,\n    /**  */\n    axisGridLineDash: null,\n\n    // --------------------  --------------------\n    /**  */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendTitleTextFontSize: 12,\n    /**  */\n    legendTitleTextLineHeight: 21,\n    /**  */\n    legendTitleTextFontWeight: 'normal',\n\n    /**  marker  */\n    legendMarkerColor: QUALITATIVE_10[0],\n    /**  marker  */\n    legendMarkerSpacing: 8,\n    /**  marker  */\n    legendMarkerSize: 4,\n    /**  'circle' marker  */\n    legendCircleMarkerSize: 4,\n    /**  'square' marker  */\n    legendSquareMarkerSize: 4,\n    /**  'line' marker  */\n    legendLineMarkerSize: 5,\n\n    /**  */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /**  */\n    legendItemNameFontSize: 12,\n    /**  */\n    legendItemNameLineHeight: 12,\n    /**  */\n    legendItemNameFontWeight: 'normal',\n    /**  */\n    legendItemSpacing: 24,\n    /**  */\n    legendItemMarginBottom: 12,\n    /**   */\n    legendSpacing: 16,\n    /**   */\n    legendPadding: [8, 8, 8, 8],\n    /**  */\n    legendHorizontalPadding: [8, 0, 8, 0],\n    /**  */\n    legendVerticalPadding: [0, 8, 0, 8],\n\n    // \n    /**  marker  */\n    legendPageNavigatorMarkerSize: 12,\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillColor: BLACK_COLORS[45],\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillOpacity: 0.45,\n    /**  marker  */\n    legendPageNavigatorMarkerFillColor: BLACK_COLORS[45],\n    /**  marker  */\n    legendPageNavigatorMarkerFillOpacity: 1,\n    /**  */\n    legendPageNavigatorTextFillColor: BLACK_COLORS[65],\n    /**  */\n    legendPageNavigatorTextFontSize: 12,\n\n    /**  */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /**  */\n    sliderRailBorder: 0,\n    /**  */\n    sliderRailBorderColor: null,\n    /**  */\n    sliderRailWidth: 100,\n    /**  */\n    sliderRailHeight: 12,\n\n    /**  */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /**  */\n    sliderLabelTextFontSize: 12,\n    /**  */\n    sliderLabelTextLineHeight: 12,\n    /**  */\n    sliderLabelTextFontWeight: 'normal',\n\n    /**  */\n    sliderHandlerFillColor: WHITE_COLORS[6],\n    /**  */\n    sliderHandlerWidth: 10,\n    /**  */\n    sliderHandlerHeight: 14,\n    /**  */\n    sliderHandlerBorder: 1,\n    /**  */\n    sliderHandlerBorderColor: WHITE_COLORS[25],\n\n    // -------------------- Annotation --------------------\n    /** arc  */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc  */\n    annotationArcBorder: 1,\n\n    /** line  */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line  */\n    annotationLineBorder: 1,\n    /** lube  */\n    annotationLineDash: null,\n\n    /** text  */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text  */\n    annotationTextFontSize: 12,\n    /** text  */\n    annotationTextLineHeight: 12,\n    /** text  */\n    annotationTextFontWeight: 'normal',\n    /** text  */\n    annotationTextBorderColor: null,\n    /** text  */\n    annotationTextBorder: 0,\n\n    /** region  */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region  */\n    annotationRegionFillOpacity: 0.06,\n    /** region  */\n    annotationRegionBorder: 0,\n    /** region  */\n    annotationRegionBorderColor: null,\n\n    /** dataMarker  */\n    annotationDataMarkerLineLength: 16,\n\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs  */\n    tooltipCrosshairsLineDash: null,\n\n    /** tooltip  */\n    tooltipContainerFillColor: '#1f1f1f',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip  */\n    tooltipContainerShadow: '0px 2px 4px rgba(0,0,0,.5)',\n    /** tooltip  */\n    tooltipContainerBorderRadius: 3,\n\n    /** tooltip  */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip  */\n    tooltipTextFontSize: 12,\n    /** tooltip  */\n    tooltipTextLineHeight: 12,\n    /** tooltip  */\n    tooltipTextFontWeight: 'bold',\n\n    // -------------------- Geometry labels --------------------\n    /** Geometry label  */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    labelFontSize: 12,\n    /** Geometry label  */\n    labelLineHeight: 12,\n    /** Geometry label  */\n    labelFontWeight: 'normal',\n    /** Geometry label  */\n    labelBorderColor: null,\n    /** Geometry label  */\n    labelBorder: 0,\n\n    /** Geometry innerLabel  */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel  */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel  */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel  */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel  */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel  */\n    innerLabelBorder: 0,\n\n    /** Geometry label  */\n    overflowLabelFillColor: BLACK_COLORS[65],\n    overflowLabelFillColorDark: '#2c3542',\n    overflowLabelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    overflowLabelFontSize: 12,\n    /** Geometry label  */\n    overflowLabelLineHeight: 12,\n    /** Geometry label  */\n    overflowLabelFontWeight: 'normal',\n    /** Geometry label  */\n    overflowLabelBorderColor: WHITE_COLORS[100],\n    /** Geometry label  */\n    overflowLabelBorder: 1,\n\n    /** Geometry label  */\n    labelLineBorder: 1,\n    /** Geometry label  */\n    labelLineBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Slider --------------------\n    /** slider  */\n    cSliderRailHieght: 16,\n    /** slider  */\n    cSliderBackgroundFillColor: '#416180',\n    /** slider  */\n    cSliderBackgroundFillOpacity: 0.05,\n    /** slider  */\n    cSliderForegroundFillColor: '#5B8FF9',\n    /** slider  */\n    cSliderForegroundFillOpacity: 0.15,\n    // slider handlerStyle \n    /** slider  */\n    cSliderHandlerHeight: 24,\n    /** Slider  */\n    cSliderHandlerWidth: 10,\n    /** Slider  */\n    cSliderHandlerFillColor: '#F7F7F7',\n    /** Slider  */\n    cSliderHandlerFillOpacity: 1,\n    /** Slider  */\n    cSliderHandlerHighlightFillColor: '#FFF',\n    /** Slider  */\n    cSliderHandlerBorderColor: '#BFBFBF',\n    /** Slider  */\n    cSliderHandlerBorder: 1,\n    /** Slider  */\n    cSliderHandlerBorderRadius: 2,\n    // slider textStyle \n    /** Slider  */\n    cSliderTextFillColor: '#fff',\n    /** Slider  */\n    cSliderTextFillOpacity: 0.45,\n    /** Slider  */\n    cSliderTextFontSize: 12,\n    /** Slider  */\n    cSliderTextLineHeight: 12,\n    /** Slider  */\n    cSliderTextFontWeight: 'normal',\n    /** Slider  */\n    cSliderTextBorderColor: null,\n    /** Slider  */\n    cSliderTextBorder: 0,\n\n    // -------------------- Scrollbar --------------------\n    /**   */\n    scrollbarTrackFillColor: 'rgba(255,255,255,0.65)',\n    /**   */\n    scrollbarThumbFillColor: 'rgba(0,0,0,0.35)',\n    /**   */\n    scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.45)',\n\n    // -------------------- Geometry --------------------\n    /**  */\n    pointFillColor: QUALITATIVE_10[0],\n    /**  */\n    pointFillOpacity: 0.95,\n    /**  */\n    pointSize: 4,\n    /**  */\n    pointBorder: 1,\n    /**  */\n    pointBorderColor: WHITE_COLORS[100],\n    /**  */\n    pointBorderOpacity: 1,\n\n    /**  active  */\n    pointActiveBorderColor: BLACK_COLORS[100],\n\n    /**  selected  */\n    pointSelectedBorder: 2,\n    /**  selected  */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n\n    /**  inactive  */\n    pointInactiveFillOpacity: 0.3,\n    /**  inactive  */\n    pointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    hollowPointSize: 4,\n    /**  */\n    hollowPointBorder: 1,\n    /**  */\n    hollowPointBorderColor: QUALITATIVE_10[0],\n    /**  */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n\n    /**  active  */\n    hollowPointActiveBorder: 1,\n    /**  active  */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /**  active  */\n    hollowPointActiveBorderOpacity: 1,\n\n    /**  selected  */\n    hollowPointSelectedBorder: 2,\n    /**  selected  */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /**  selected  */\n    hollowPointSelectedBorderOpacity: 1,\n\n    /**  inactive  */\n    hollowPointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    lineBorder: 2,\n    /**  */\n    lineBorderColor: QUALITATIVE_10[0],\n    /**  */\n    lineBorderOpacity: 1,\n\n    /**  Active  */\n    lineActiveBorder: 3,\n\n    /**  selected  */\n    lineSelectedBorder: 3,\n\n    /**  inactive  */\n    lineInactiveBorderOpacity: 0.3,\n\n    /** area  */\n    areaFillColor: QUALITATIVE_10[0],\n    /** area  */\n    areaFillOpacity: 0.25,\n\n    /** area  active  */\n    areaActiveFillColor: QUALITATIVE_10[0],\n    areaActiveFillOpacity: 0.5,\n\n    /** area  selected  */\n    areaSelectedFillColor: QUALITATIVE_10[0],\n    areaSelectedFillOpacity: 0.5,\n\n    /** area inactive  */\n    areaInactiveFillOpacity: 0.3,\n\n    /** hollowArea  */\n    hollowAreaBorderColor: QUALITATIVE_10[0],\n    /** hollowArea  */\n    hollowAreaBorder: 2,\n    /** hollowArea  */\n    hollowAreaBorderOpacity: 1,\n\n    /** hollowArea active  */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea selected  */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea inactive  */\n    hollowAreaInactiveBorderOpacity: 0.3,\n\n    /** interval  */\n    intervalFillColor: QUALITATIVE_10[0],\n    /** interval  */\n    intervalFillOpacity: 0.95,\n\n    /** interval active  */\n    intervalActiveBorder: 1,\n    /** interval active  */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n\n    /** interval selected  */\n    intervalSelectedBorder: 2,\n    /** interval selected  */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected  */\n    intervalSelectedBorderOpacity: 1,\n\n    /** interval inactive  */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive  */\n    intervalInactiveFillOpacity: 0.3,\n\n    /** interval  */\n    hollowIntervalBorder: 2,\n    /** hollowInterval  */\n    hollowIntervalBorderColor: QUALITATIVE_10[0],\n    /** hollowInterval  */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n\n    /** hollowInterval active  */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active  */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderOpacity: 1,\n\n    /** hollowInterval inactive  */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n  };\n\n  return { ...token, ...cfg };\n};\n\nexport const antvDark = createDarkStyleSheet();\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry, { GeometryCfg } from './base';\nimport Element from './element';\n/**  ShapeFactory */\nimport './shape/line';\nimport { isModelChange } from './util/is-model-change';\nimport { diff } from './util/diff';\n\n/** Path  */\nexport interface PathCfg extends GeometryCfg {\n  /**  */\n  connectNulls?: boolean;\n  /**  */\n  showSinglePoint?: boolean;\n}\n\n/**\n * Path \n * \n */\nexport default class Path extends Geometry {\n  public readonly type: string = 'path';\n  public readonly shapeType: string = 'line';\n  /**  */\n  public connectNulls: boolean;\n  /**  */\n  public showSinglePoint: boolean;\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { connectNulls = false, showSinglePoint = true } = cfg;\n    this.connectNulls = connectNulls;\n    this.showSinglePoint = showSinglePoint;\n  }\n\n  /**\n   *  Element  PathLineArea Element\n   * @param mappingData\n   * @param [isUpdate]\n   * @returns elements\n   */\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false) {\n    // Path  element \n    const keyData = new Map<string, MappingDatum[]>();\n    const keyIndex = new Map<string, number>();\n    const keys: string[] = [];\n\n    let index = 0;\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      const key = this.getElementId(mappingData);\n      keys.push(key);\n      keyData.set(key, mappingData);\n      keyIndex.set(key, index);\n      index++;\n    }\n\n    this.elements = new Array(index);\n\n    const { added, updated, removed } = diff(this.lastElementsMap, keys);\n\n    for (const key of added) {\n      const mappingData = keyData.get(key);\n      const shapeFactory = this.getShapeFactory();\n      const shapeCfg = this.getShapeInfo(mappingData);\n      const i = keyIndex.get(key);\n      const element = new Element({\n        shapeFactory,\n        container: this.container,\n        offscreenGroup: this.getOffscreenGroup(),\n        elementIndex: i,\n      });\n      element.geometry = this;\n      element.animate = this.animateOption;\n      element.draw(shapeCfg, isUpdate); //  shape\n      this.elementsMap[key] = element;\n      this.elements[i] = element;\n    }\n\n    for (const key of updated) {\n      const mappingData = keyData.get(key);\n      const element = this.lastElementsMap[key];\n      const i = keyIndex.get(key);\n      const shapeCfg = this.getShapeInfo(mappingData);\n      const preShapeCfg = element.getModel();\n      if (this.isCoordinateChanged || isModelChange(preShapeCfg, shapeCfg)) {\n        element.animate = this.animateOption;\n        // \n        element.update(shapeCfg); //  element\n      }\n      this.elementsMap[key] = element;\n      this.elements[i] = element;\n    }\n\n    for (const key of removed) {\n      const element = this.lastElementsMap[key];\n      // \n      element.animate = this.animateOption;\n      element.destroy();\n    }\n  }\n\n  /**\n   * \n   * @param mappingData \n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push({\n        x: obj.x,\n        y: obj.y,\n      });\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n    const { points, data } = this.getPointsAndData(mappingData);\n    shapeCfg.mappingData = mappingData;\n    shapeCfg.data = data;\n    shapeCfg.isStack = !!this.getAdjust('stack');\n    shapeCfg.points = points;\n    shapeCfg.connectNulls = this.connectNulls;\n    shapeCfg.showSinglePoint = this.showSinglePoint;\n\n    return shapeCfg;\n  }\n}\n","import { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position, Shape, ShapeInfo } from '../../../interface';\n\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\n\nfunction getPath(\n  points: Point[],\n  isInCircle: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n): PathCommand[] {\n  let path = [];\n\n  if (points.length) {\n    const topLinePoints = []; // area \n    let bottomLinePoints = []; // area \n    for (let i = 0, len = points.length; i < len; i++) {\n      const point = points[i];\n      topLinePoints.push(point[1]);\n      bottomLinePoints.push(point[0]);\n    }\n    bottomLinePoints = bottomLinePoints.reverse();\n\n    each([topLinePoints, bottomLinePoints], (pointsData, index) => {\n      let subPath = [];\n      const parsedPoints = registeredShape.parsePoints(pointsData);\n      const p1 = parsedPoints[0];\n\n      if (topLinePoints.length === 1 && bottomLinePoints.length === 1) {\n        // \n        subPath =\n          index === 0\n            ? [\n                ['M', p1.x - 0.5, p1.y],\n                ['L', p1.x + 0.5, p1.y],\n              ]\n            : [\n                ['L', p1.x + 0.5, p1.y],\n                ['L', p1.x - 0.5, p1.y],\n              ];\n      } else {\n        if (isInCircle) {\n          parsedPoints.push({ x: p1.x, y: p1.y });\n        }\n        if (smooth) {\n          subPath = getSplinePath(parsedPoints, false, constraint);\n        } else {\n          subPath = getLinePath(parsedPoints, false);\n        }\n        if (index > 0) {\n          subPath[0][0] = 'L';\n        }\n      }\n\n      path = path.concat(subPath);\n    });\n\n    path.push(['Z']);\n  }\n\n  return path;\n}\n\n/**\n * @ignore\n * Gets shape attrs\n * @param cfg\n * @param isStroke\n * @param smooth\n * @param registeredShape\n * @param [constraint]\n * @returns\n */\nexport function getShapeAttrs(\n  cfg: ShapeInfo,\n  isStroke: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n) {\n  const attrs = getStyle(cfg, isStroke, !isStroke, 'lineWidth');\n  const { connectNulls, isInCircle, points, showSinglePoint } = cfg;\n  const pathPoints = getPathPoints(points, connectNulls, showSinglePoint); //  connectNulls \n\n  let path = [];\n  for (let i = 0, len = pathPoints.length; i < len; i++) {\n    const eachPoints = pathPoints[i];\n    path = path.concat(getPath(eachPoints, isInCircle, smooth, registeredShape, constraint));\n  }\n  attrs.path = path;\n\n  return attrs;\n}\n\n/**\n * @ignore\n * Gets constraint\n * @param coordinate\n * @returns constraint\n */\nexport function getConstraint(coordinate: Coordinate): Position[] {\n  const { start, end } = coordinate;\n  return [\n    [start.x, end.y],\n    [end.x, start.y],\n  ];\n}\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getShapeAttrs } from './util';\n\nconst AreaShapeFactory = registerShapeFactory('area', {\n  defaultShapeType: 'area',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    // area \n    const { x, y0 } = pointInfo;\n    const y = isArray(pointInfo.y) ? pointInfo.y : [y0, pointInfo.y];\n\n    return y.map((yItem: number) => {\n      return {\n        x: x as number,\n        y: yItem,\n      };\n    });\n  },\n});\n\n// Area  shape\nregisterShape('area', 'area', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, false, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default AreaShapeFactory;\n","import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum } from '../interface';\nimport Path, { PathCfg } from './path';\nimport './shape/area';\n\n/** Area  */\nexport interface AreaCfg extends PathCfg {\n  /**\n   *  0 \n   * 1.  `true`\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2.  `false` \n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  startOnZero?: boolean;\n}\n\n/**\n * Area \n * \n */\nexport default class Area extends Path {\n  public readonly type: string = 'area';\n  public readonly shapeType: string = 'area';\n  /**  */\n  public readonly generatePoints: boolean = true;\n  /**\n   *  0 \n   * 1.  `true`\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2.  `false` \n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  public readonly startOnZero: boolean = true;\n\n  constructor(cfg: AreaCfg) {\n    super(cfg);\n\n    const { startOnZero = true, sortable = false, showSinglePoint = false } = cfg;\n    this.startOnZero = startOnZero; //  true\n    this.sortable = sortable; //  X \n    this.showSinglePoint = showSinglePoint;\n  }\n\n  /**\n   * \n   * @param mappingData \n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push(obj.points);\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  /**\n   *  Y \n   * @returns y \n   */\n  protected getYMinValue(): number {\n    if (this.startOnZero) {\n      return super.getYMinValue();\n    }\n    const yScale = this.getYScale();\n    return yScale.min;\n  }\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\n\nconst EdgeShapeFactory = registerShapeFactory('edge', {\n  defaultShapeType: 'line',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\nregisterShape('edge', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const path = getLinePath(this.parsePoints(cfg.points), this.coordinate.isPolar);\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n\nexport default EdgeShapeFactory;\n","import Geometry from './base';\nimport './shape/edge';\n\n/**\n * Edge ****\n * 1. \n * 2. \n * 3. \n * 4. \n * 5. \n */\nexport default class Edge extends Geometry {\n  public readonly type: string = 'edge';\n  public readonly shapeType: string = 'edge';\n  protected generatePoints: boolean = true;\n}\n","import ColorUtil from '@antv/color-util';\nimport { get, isNumber } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Color, IShape } from '../dependents';\nimport { Data, Datum, MappingDatum, ShapeInfo, AttributeOption, ColorAttrCallback } from '../interface';\nimport Geometry from './base';\n\n/**\n * \n */\nexport default class Heatmap extends Geometry {\n  public readonly type: string = 'heatmap';\n\n  private paletteCache: Record<number, number> = {};\n  private grayScaleBlurredCanvas: HTMLCanvasElement;\n  private shadowCanvas: HTMLCanvasElement;\n  private imageShape: IShape;\n\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false) {\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      const range = this.prepareRange(mappingData);\n      const radius = this.prepareSize();\n\n      let blur = get(this.styleOption, ['cfg', 'shadowBlur']);\n      if (!isNumber(blur)) {\n        blur = radius / 2;\n      }\n\n      this.prepareGreyScaleBlurredCircle(radius, blur);\n      this.drawWithRange(mappingData, range, radius, blur);\n    }\n  }\n\n  /**  callback  */\n  public color(field: AttributeOption | string, cfg?: string | string[] | ColorAttrCallback): Geometry {\n    this.createAttrOption('color', field, typeof cfg !== 'function' ? cfg : '');\n\n    return this;\n  }\n\n  /**\n   * clear\n   */\n  public clear() {\n    super.clear();\n    this.clearShadowCanvasCtx();\n    this.paletteCache = {};\n  }\n\n  private prepareRange(data: MappingDatum[]) {\n    const colorAttr = this.getAttribute('color');\n    const colorField = colorAttr.getFields()[0];\n\n    let min = Infinity;\n    let max = -Infinity;\n    data.forEach((row) => {\n      const value = row[FIELD_ORIGIN][colorField];\n      if (value > max) {\n        max = value;\n      }\n      if (value < min) {\n        min = value;\n      }\n    });\n\n    if (min === max) {\n      min = max - 1;\n    }\n\n    return [min, max];\n  }\n\n  private prepareSize() {\n    let radius = this.getDefaultValue('size');\n    if (!isNumber(radius)) {\n      radius = this.getDefaultSize();\n    }\n\n    return radius;\n  }\n\n  private prepareGreyScaleBlurredCircle(radius: number, blur: number) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    const r2 = radius + blur;\n    const ctx = grayScaleBlurredCanvas.getContext('2d');\n    grayScaleBlurredCanvas.width = grayScaleBlurredCanvas.height = r2 * 2;\n    ctx.clearRect(0, 0, grayScaleBlurredCanvas.width, grayScaleBlurredCanvas.height);\n    ctx.shadowOffsetX = ctx.shadowOffsetY = r2 * 2;\n    ctx.shadowBlur = blur;\n    ctx.shadowColor = 'black';\n\n    ctx.beginPath();\n    ctx.arc(-r2, -r2, radius, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n  }\n\n  private drawWithRange(data: MappingDatum[], range: number[], radius: number, blur: number) {\n    // canvas size\n    const { start, end } = this.coordinate;\n    const width = this.coordinate.getWidth();\n    const height = this.coordinate.getHeight();\n\n    // value, range, etc\n    const colorAttr = this.getAttribute('color');\n    const valueField = colorAttr.getFields()[0];\n\n    // prepare shadow canvas context\n    this.clearShadowCanvasCtx();\n    const ctx = this.getShadowCanvasCtx();\n    // filter data\n    if (range) {\n      data = data.filter((row) => {\n        return row[FIELD_ORIGIN][valueField] <= range[1] && row[FIELD_ORIGIN][valueField] >= range[0];\n      });\n    }\n\n    // step1. draw points with shadow\n    const scale = this.scales[valueField];\n    for (const obj of data) {\n      const { x, y } = this.getDrawCfg(obj);\n      const alpha = scale.scale(obj[FIELD_ORIGIN][valueField]);\n      this.drawGrayScaleBlurredCircle((x as number) - start.x, (y as number) - end.y, radius + blur, alpha, ctx);\n    }\n\n    // step2. convert pixels\n    const colored = ctx.getImageData(0, 0, width, height);\n    this.clearShadowCanvasCtx();\n    this.colorize(colored);\n    ctx.putImageData(colored, 0, 0);\n    const imageShape = this.getImageShape();\n    imageShape.attr('x', start.x);\n    imageShape.attr('y', end.y);\n    imageShape.attr('width', width);\n    imageShape.attr('height', height);\n    imageShape.attr('img', ctx.canvas);\n    imageShape.set('origin', this.getShapeInfo(data)); // \n  }\n\n  private getDefaultSize() {\n    const position = this.getAttribute('position');\n    const coordinate = this.coordinate;\n    return Math.min(\n      coordinate.getWidth() / (position.scales[0].ticks.length * 4),\n      coordinate.getHeight() / (position.scales[1].ticks.length * 4)\n    );\n  }\n\n  private clearShadowCanvasCtx() {\n    const ctx = this.getShadowCanvasCtx();\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  }\n\n  private getShadowCanvasCtx() {\n    let canvas = this.shadowCanvas;\n    if (!canvas) {\n      canvas = document.createElement('canvas');\n      this.shadowCanvas = canvas;\n    }\n    canvas.width = this.coordinate.getWidth();\n    canvas.height = this.coordinate.getHeight();\n    return canvas.getContext('2d');\n  }\n\n  private getGrayScaleBlurredCanvas() {\n    if (!this.grayScaleBlurredCanvas) {\n      this.grayScaleBlurredCanvas = document.createElement('canvas');\n    }\n\n    return this.grayScaleBlurredCanvas;\n  }\n\n  private drawGrayScaleBlurredCircle(x: number, y: number, r: number, alpha: number, ctx: CanvasRenderingContext2D) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    ctx.globalAlpha = alpha;\n    ctx.drawImage(grayScaleBlurredCanvas, x - r, y - r);\n  }\n\n  private colorize(img: ImageData) {\n    const colorAttr = this.getAttribute('color') as Color;\n    const pixels = img.data;\n    const paletteCache = this.paletteCache;\n    for (let i = 3; i < pixels.length; i += 4) {\n      const alpha = pixels[i]; // get gradient color from opacity value\n      if (isNumber(alpha)) {\n        const palette = paletteCache[alpha] ? paletteCache[alpha] : ColorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n        pixels[i - 3] = palette[0];\n        pixels[i - 2] = palette[1];\n        pixels[i - 1] = palette[2];\n        pixels[i] = alpha;\n      }\n    }\n  }\n\n  private getImageShape() {\n    let imageShape = this.imageShape;\n    if (imageShape) {\n      return imageShape;\n    }\n    const container = this.container;\n    imageShape = container.addShape({\n      type: 'image',\n      attrs: {},\n    });\n    this.imageShape = imageShape;\n    return imageShape;\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n\n    const data = mappingData.map((obj: Datum) => {\n      return obj[FIELD_ORIGIN];\n    });\n\n    return {\n      ...shapeCfg,\n      mappingData,\n      data,\n    };\n  }\n}\n","import { Coordinate } from '@antv/coord';\nimport { isArray, isNil, get } from '@antv/util';\nimport { getAngle, getSectorPath } from '../../../util/graphics';\nimport { PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapePoint } from '../../../interface';\n\n/**\n * @ignore\n * \n * @param pointInfo \n * @param [isPyramid] \n * @returns rect points \n */\nexport function getRectPoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  //  4 \n  // 1. x, y \n  // 2. yx\n  // 3. xy\n  // 4. x, y \n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  let xMin;\n  let xMax;\n  if (isArray(x)) {\n    [xMin, xMax] = x;\n  } else {\n    xMin = x - size / 2;\n    xMax = x + size / 2;\n  }\n\n  const points = [\n    { x: xMin, y: yMin },\n    { x: xMin, y: yMax },\n  ];\n\n  // \n  // 1 ---- 2\n  // |      |\n  // 0 ---- 3\n  points.push({ x: xMax, y: yMax }, { x: xMax, y: yMin });\n\n  return points;\n}\n\n/**\n * @ignore\n *  path\n * @param points \n * @param isClosed path \n * @returns  path\n */\nexport function getRectPath(points: Point[], isClosed: boolean = true): PathCommand[] {\n  const path = [];\n  const firstPoint = points[0];\n  path.push(['M', firstPoint.x, firstPoint.y]);\n  for (let i = 1, len = points.length; i < len; i++) {\n    path.push(['L', points[i].x, points[i].y]);\n  }\n  //  shape=\"line\" path  lineCap \n  if (isClosed) {\n    path.push(['L', firstPoint.x, firstPoint.y]); // \n    path.push(['z']);\n  }\n  return path;\n}\n\n/**\n *  rect path  radius\n * @returns  path  arc \n */\nexport function parseRadius(radius: number | number[], minLength: number): number[] {\n  let r1 = 0;\n  let r2 = 0;\n  let r3 = 0;\n  let r4 = 0;\n  if (isArray(radius)) {\n    if (radius.length === 1) {\n      r1 = r2 = r3 = r4 = radius[0];\n    } else if (radius.length === 2) {\n      r1 = r3 = radius[0];\n      r2 = r4 = radius[1];\n    } else if (radius.length === 3) {\n      r1 = radius[0];\n      r2 = r4 = radius[1];\n      r3 = radius[2];\n    } else {\n      r1 = radius[0];\n      r2 = radius[1];\n      r3 = radius[2];\n      r4 = radius[3];\n    }\n  } else {\n    r1 = r2 = r3 = r4 = radius;\n  }\n\n  //  \n  if (r1 + r2 > minLength) {\n    r1 = r1 ? minLength / (1 + r2 / r1) : 0;\n    r2 = minLength - r1;\n  }\n\n  if (r3 + r4 > minLength) {\n    r3 = r3 ? minLength / (1 + r4 / r3) : 0;\n    r4 = minLength - r3;\n  }\n\n  return [r1 || 0, r2 || 0, r3 || 0, r4 || 0];\n}\n\n/**\n *  interval  path\n * @param cfg \n * @param points  4 \n * @param coordinate \n * @returns  path\n */\nexport function getBackgroundRectPath(cfg: ShapeInfo, points: Point[], coordinate: Coordinate): PathCommand[] {\n  let path = [];\n  if (coordinate.isRect) {\n    const p0 = coordinate.isTransposed\n      ? { x: coordinate.start.x, y: points[0].y }\n      : { x: points[0].x, y: coordinate.start.y };\n    const p1 = coordinate.isTransposed\n      ? { x: coordinate.end.x, y: points[2].y }\n      : { x: points[3].x, y: coordinate.end.y };\n\n    // corner radius of background shape works only in \n    const radius = get(cfg, ['background', 'style', 'radius']);\n    if (radius) {\n      const width = coordinate.isTransposed ? Math.abs(points[0].y - points[2].y) : points[2].x - points[1].x;\n      const height = coordinate.isTransposed ? coordinate.getWidth() : coordinate.getHeight();\n      const [r1, r2, r3, r4] = parseRadius(radius, Math.min(width, height));\n\n      path.push(['M', p0.x, p1.y + r1]);\n      r1 !== 0 && path.push(['A', r1, r1, 0, 0, 1, p0.x + r1, p1.y]);\n      path.push(['L', p1.x - r2, p1.y]);\n      r2 !== 0 && path.push(['A', r2, r2, 0, 0, 1, p1.x, p1.y + r2]);\n      path.push(['L', p1.x, p0.y - r3]);\n      r3 !== 0 && path.push(['A', r3, r3, 0, 0, 1, p1.x - r3, p0.y]);\n      path.push(['L', p0.x + r4, p0.y]);\n      r4 !== 0 && path.push(['A', r4, r4, 0, 0, 1, p0.x, p0.y - r4]);\n    } else {\n      path.push(['M', p0.x, p0.y]);\n      path.push(['L', p1.x, p0.y]);\n      path.push(['L', p1.x, p1.y]);\n      path.push(['L', p0.x, p1.y]);\n      path.push(['L', p0.x, p0.y]);\n    }\n\n    path.push(['z']);\n  }\n\n  if (coordinate.isPolar) {\n    const center = coordinate.getCenter();\n    const { startAngle, endAngle } = getAngle(cfg, coordinate);\n    if (coordinate.type !== 'theta' && !coordinate.isTransposed) {\n      //  path\n      path = getSectorPath(center.x, center.y, coordinate.getRadius(), startAngle, endAngle);\n    } else {\n      const pow = (v) => Math.pow(v, 2);\n      const r1 = Math.sqrt(pow(center.x - points[0].x) + pow(center.y - points[0].y));\n      const r2 = Math.sqrt(pow(center.x - points[2].x) + pow(center.y - points[2].y));\n      //  path coordinate \n      path = getSectorPath(center.x, center.y, r1, coordinate.startAngle, coordinate.endAngle, r2);\n    }\n  }\n  return path;\n}\n\n/**\n * @ignore\n *  path\n * @param points \n * @param lineCap 'round'\n * @param coor \n * @returns  path\n */\nexport function getIntervalRectPath(points: Point[], lineCap: CanvasLineCap, coor: Coordinate): PathCommand[] {\n  const width = coor.getWidth();\n  const height = coor.getHeight();\n  const isRect = coor.type === 'rect';\n  let path = [];\n  const r = (points[2].x - points[1].x) / 2;\n  const ry = coor.isTransposed ? (r * height) / width : (r * width) / height;\n  if (lineCap === 'round') {\n    if (isRect) {\n      path.push(['M', points[0].x, points[0].y + ry]);\n      path.push(['L', points[1].x, points[1].y - ry]);\n      path.push(['A', r, r, 0, 0, 1, points[2].x, points[2].y - ry]);\n      path.push(['L', points[3].x, points[3].y + ry]);\n      path.push(['A', r, r, 0, 0, 1, points[0].x, points[0].y + ry]);\n    } else {\n      path.push(['M', points[0].x, points[0].y]);\n      path.push(['L', points[1].x, points[1].y]);\n      path.push(['A', r, r, 0, 0, 1, points[2].x, points[2].y]);\n      path.push(['L', points[3].x, points[3].y]);\n      path.push(['A', r, r, 0, 0, 1, points[0].x, points[0].y]);\n    }\n    path.push(['z']);\n  } else {\n    path = getRectPath(points);\n  }\n  return path;\n}\n\n/**\n * @ignore\n *  funnel  path\n * @param points \n * @param nextPoints \n * @param isPyramid \n * @returns  path\n */\nexport function getFunnelPath(points: Point[], nextPoints: Point[], isPyramid: boolean) {\n  const path = [];\n  if (!isNil(nextPoints)) {\n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', nextPoints[1].x, nextPoints[1].y],\n      ['L', nextPoints[0].x, nextPoints[0].y],\n      ['Z']\n    );\n  } else if (isPyramid) {\n    // \n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', (points[2].x + points[3].x) / 2, (points[2].y + points[3].y) / 2],\n      ['Z']\n    );\n  } else {\n    // \n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', points[2].x, points[2].y],\n      ['L', points[3].x, points[3].y],\n      ['Z']\n    );\n  }\n\n  return path;\n}\n\n/**\n * \n */\nfunction swap<T>(p0: T, p1: T) {\n  return [p1, p0];\n}\n\n/**\n *   \n * - \n */\nexport function getRectWithCornerRadius(points: Point[], coordinate: Coordinate, radius?: number | number[]) {\n  //  \n  let [p0, p1, p2, p3] = [...points];\n  let [r1, r2, r3, r4] = typeof radius === 'number' ? Array(4).fill(radius) : radius;\n\n  if (coordinate.isTransposed) {\n    [p1, p3] = swap(p1, p3);\n  }\n\n  /**\n   * \n   */\n  if (coordinate.isReflect('y')) {\n    [p0, p1] = swap(p0, p1);\n    [p2, p3] = swap(p2, p3);\n  }\n  if (coordinate.isReflect('x')) {\n    [p0, p3] = swap(p0, p3);\n    [p1, p2] = swap(p1, p2);\n  }\n\n  const path = [];\n\n\n  /**\n   *  p1  p2\n   *      \n   *  p0  p3\n   *\n   *  \n   *\n   *  p0  p3               p2  p1\n   *                           \n   *  p1  p2  --> ()  p3  p0\n   */\n  const abs = v => Math.abs(v);\n  [r1, r2, r3, r4] = parseRadius([r1, r2, r3, r4], Math.min(abs(p3.x - p0.x), abs(p1.y - p0.y))).map(d => abs(d));\n\n  if (coordinate.isTransposed) {\n    [r1, r2, r3, r4] = [r4, r1, r2, r3]\n  }\n\n  if (p0.y < p1.y /**  */) {\n    path.push(['M', p3.x, p3.y + r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 0, p3.x - r3, p3.y]);\n    path.push(['L', p0.x + r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 0, p0.x, p0.y + r4]);\n    path.push(['L', p1.x, p1.y - r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 0/**  */, p1.x + r1, p1.y]);\n    path.push(['L', p2.x - r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 0, p2.x, p2.y - r2]);\n    path.push(['L', p3.x, p3.y + r3]);\n    path.push(['z']);\n  } else if (p3.x < p0.x) {\n    path.push(['M', p2.x + r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 0, p2.x, p2.y + r2]);\n    path.push(['L', p3.x, p3.y - r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 0, p3.x + r3, p3.y]);\n    path.push(['L', p0.x - r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 0, p0.x, p0.y - r4]);\n    path.push(['L', p1.x, p1.y + r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 0, p1.x - r1, p1.y]);\n    path.push(['L', p2.x + r2, p2.y]);\n    path.push(['z']);\n  } else {\n    path.push(['M', p1.x, p1.y + r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 1, p1.x + r1, p1.y]);\n    path.push(['L', p2.x - r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 1, p2.x, p2.y + r2]);\n    path.push(['L', p3.x, p3.y - r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 1, p3.x - r3, p3.y]);\n    path.push(['L', p0.x + r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 1, p0.x, p0.y - r4]);\n    path.push(['L', p1.x, p1.y + r1]);\n    path.push(['z']);\n  }\n\n  return path;\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { BACKGROUND_SHAPE } from '../constant';\nimport { getBackgroundRectStyle, getStyle } from '../util/get-style';\nimport { getBackgroundRectPath, getIntervalRectPath, getRectPoints, getRectWithCornerRadius } from './util';\n\n/** Interval  shape  */\nconst IntervalShapeFactory = registerShapeFactory('interval', {\n  defaultShapeType: 'rect',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return getRectPoints(pointInfo);\n  },\n});\n\n/** Inerval  shape */\nregisterShape('interval', 'rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    let group = container;\n\n    const backgroundCfg = cfg?.background;\n    if (backgroundCfg) {\n      group = container.addGroup();\n      const backgroundStyle = getBackgroundRectStyle(cfg);\n      const backgroundPath = getBackgroundRectPath(cfg, this.parsePoints(cfg.points) as Point[], this.coordinate);\n      group.addShape('path', {\n        attrs: {\n          ...backgroundStyle,\n          path: backgroundPath,\n        },\n        zIndex: -1,\n        name: BACKGROUND_SHAPE,\n      });\n    }\n\n    let path;\n    if (style.radius && this.coordinate.isRect) {\n      path = getRectWithCornerRadius(this.parsePoints(cfg.points), this.coordinate, style.radius);\n    } else {\n      path = this.parsePath(getIntervalRectPath(cfg.points as Point[], style.lineCap, this.coordinate));\n    }\n\n    const shape = group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return backgroundCfg ? group : shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default IntervalShapeFactory;\n","import { flatten, isString, valuesOfKey, isNil } from '@antv/util';\nimport { getXDimensionLength } from '../../util/coordinate';\n\n// \nfunction findMinDistance(arr, scale) {\n  const count = arr.length;\n  let sourceArr = arr;\n  if (isString(sourceArr[0])) {\n    //  values \n    sourceArr = arr.map((v: string) => {\n      return scale.translate(v);\n    });\n  }\n  let distance = sourceArr[1] - sourceArr[0];\n  for (let i = 2; i < count; i++) {\n    const tmp = sourceArr[i] - sourceArr[i - 1];\n    if (distance > tmp) {\n      distance = tmp;\n    }\n  }\n  return distance;\n}\n\nfunction getDodgeCount(dataArray, dodgeBy) {\n  if (dodgeBy) {\n    const mergeData = flatten(dataArray);\n    const values = valuesOfKey(mergeData, dodgeBy);\n    return values.length;\n  }\n\n  return dataArray.length;\n}\n\n/** @ignore */\nexport function getDefaultSize(geometry): number {\n  const theme = geometry.theme;\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const xValues = xScale.values;\n  const dataArray = geometry.beforeMappingData;\n  let count: number = xValues.length;\n  const xDimensionLength = getXDimensionLength(geometry.coordinate);\n  // \n  const { intervalPadding, dodgePadding } = geometry;\n  // theme\n  const maxColumnWidth = geometry.maxColumnWidth || theme.maxColumnWidth;\n  const minColumnWidth = geometry.minColumnWidth || theme.minColumnWidth;\n  const columnWidthRatio = geometry.columnWidthRatio || theme.columnWidthRatio;\n  const multiplePieWidthRatio = geometry.multiplePieWidthRatio || theme.multiplePieWidthRatio;\n  const roseWidthRatio = geometry.roseWidthRatio || theme.roseWidthRatio;\n\n  // count\n  if (xScale.isLinear && xValues.length > 1) {\n    // Linear  min, max  count\n    xValues.sort();\n    const interval = findMinDistance(xValues, xScale);\n    count = (xScale.max - xScale.min) / interval;\n    if (xValues.length > count) {\n      count = xValues.length;\n    }\n  }\n\n  const range = xScale.range;\n  let normalizedSize = 1 / count;\n  let wr = 1;\n  if (coordinate.isPolar) {\n    // \n    if (coordinate.isTransposed && count > 1) {\n      // \n      wr = multiplePieWidthRatio;\n    } else {\n      wr = roseWidthRatio;\n    }\n  } else {\n    // \n    if (xScale.isLinear) {\n      normalizedSize *= range[1] - range[0];\n    }\n    wr = columnWidthRatio;\n  }\n\n  // \n  if (!isNil(intervalPadding) && intervalPadding >= 0) {\n    // \n    const normalizedIntervalPadding = intervalPadding / xDimensionLength;\n    normalizedSize = (1 - (count - 1) * normalizedIntervalPadding) / count;\n  } else {\n    // \n    normalizedSize *= wr;\n  }\n  // \n  if (geometry.getAdjust('dodge')) {\n    const dodgeAdjust = geometry.getAdjust('dodge');\n    const dodgeBy = dodgeAdjust.dodgeBy;\n    const dodgeCount = getDodgeCount(dataArray, dodgeBy);\n    if (!isNil(dodgePadding) && dodgePadding >= 0) {\n      // \n      const normalizedDodgePadding = dodgePadding / xDimensionLength;\n      normalizedSize = (normalizedSize - normalizedDodgePadding * (dodgeCount - 1)) / dodgeCount;\n    } else if (!isNil(intervalPadding) && intervalPadding >= 0) {\n      // wr\n      normalizedSize *= wr;\n      normalizedSize = normalizedSize / dodgeCount;\n    } else {\n      // \n      normalizedSize = normalizedSize / dodgeCount;\n    }\n    normalizedSize = normalizedSize >= 0 ? normalizedSize : 0;\n  }\n\n  // \n  if (!isNil(maxColumnWidth) && maxColumnWidth >= 0) {\n    const normalizedMaxColumnWidth = maxColumnWidth / xDimensionLength;\n    if (normalizedSize > normalizedMaxColumnWidth) {\n      normalizedSize = normalizedMaxColumnWidth;\n    }\n  }\n\n  // \bminColumnWidth0\n  if (!isNil(minColumnWidth) && minColumnWidth >= 0) {\n    const normalizedMinColumnWidth = minColumnWidth / xDimensionLength;\n    if (normalizedSize < normalizedMinColumnWidth) {\n      normalizedSize = normalizedMinColumnWidth;\n    }\n  }\n\n  return normalizedSize;\n}\n","import { get } from '@antv/util';\nimport { Datum, MappingDatum, ShapeInfo, LooseObject } from '../interface';\nimport { ShapeAttrs } from '../dependents';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry, { GeometryCfg } from './base';\n/**  ShapeFactory */\nimport './shape/interval';\nimport { getDefaultSize } from './util/shape-size';\nimport { getMaxScale } from '../util/scale';\n\n/** Path  */\nexport interface IntervalCfg extends GeometryCfg {\n  /** shape  Interval Geometry  interval-rect shape  */\n  background?: { style?: ShapeAttrs };\n}\n\n/**\n * Interval \n * \n */\nexport default class Interval extends Geometry {\n  public readonly type: string = 'interval';\n  public readonly shapeType: string = 'interval';\n  /** shape  interval-rect shape  */\n  protected background?: { style?: ShapeAttrs };\n  protected generatePoints: boolean = true;\n\n  constructor(cfg: IntervalCfg) {\n    super(cfg);\n\n    const { background } = cfg;\n    this.background = background;\n  }\n\n  /**\n   *  Shape \n   * @param obj  ->  -> adjust \n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg = super.createShapePointsCfg(obj);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, obj)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n\n  /**\n   *  y  scale \n   *  Y  0  \n   */\n  protected adjustScale() {\n    super.adjustScale();\n    const yScale = this.getYScale();\n    // \n    if (this.coordinate.type === 'theta') {\n      yScale.change({\n        nice: false,\n        min: 0,\n        //  stack yScale  max this.updateStackRange()\n        max: getMaxScale(yScale),\n      });\n    } else {\n      //  0 \n      const scaleDefs = this.scaleDefs;\n      const { field, min, max, type } = yScale;\n      if (type !== 'time') {\n        // time \n        //  Y  0 \n        if (min > 0 && !get(scaleDefs, [field, 'min'])) {\n          yScale.change({\n            min: 0,\n          });\n        }\n        //  0 \n        if (max <= 0 && !get(scaleDefs, [field, 'max'])) {\n          yScale.change({\n            max: 0,\n          });\n        }\n      }\n    }\n  }\n\n  /**\n   * @override\n   */\n  protected getDrawCfg(mappingData: MappingDatum): ShapeInfo {\n    const shapeCfg = super.getDrawCfg(mappingData);\n    shapeCfg.background = this.background;\n\n    return shapeCfg;\n  }\n}\n","import Path, { PathCfg } from './path';\n/**  Path  ShapeFactory */\nimport './shape/line';\n\n/**\n * Line \n * \n */\nexport default class Line extends Path {\n  public type: string = 'line';\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { sortable = false } = cfg; //  X \n    this.sortable = sortable;\n  }\n}\n","import { IGroup, IShape } from '../../../dependents';\nimport { ShapeInfo } from '../../../interface';\nimport { MarkerSymbols } from '../../../util/marker';\nimport { getStyle } from '../util/get-style';\n\nexport const SHAPES = ['circle', 'square', 'bowtie', 'diamond', 'hexagon', 'triangle', 'triangle-down'];\nexport const HOLLOW_SHAPES = ['cross', 'tick', 'plus', 'hyphen', 'line'];\n\n/**\n * @ignore\n * Draws points\n * @param shape\n * @param cfg\n * @param container\n * @param shapeName\n * @param isStroke\n * @returns points\n */\nexport function drawPoints(\n  shape,\n  cfg: ShapeInfo,\n  container: IGroup,\n  shapeName: string,\n  isStroke: boolean\n): IShape | IGroup {\n  const style = getStyle(cfg, isStroke, !isStroke, 'r');\n  const points = shape.parsePoints(cfg.points);\n  let pointPosition = points[0];\n  if (cfg.isStack) {\n    pointPosition = points[1];\n  } else if (points.length > 1) {\n    const group = container.addGroup();\n    for (const point of points) {\n      group.addShape({\n        type: 'marker',\n        attrs: {\n          ...style,\n          symbol: MarkerSymbols[shapeName] || shapeName,\n          ...point,\n        },\n      });\n    }\n    return group;\n  }\n\n  return container.addShape({\n    type: 'marker',\n    attrs: {\n      ...style,\n      symbol: MarkerSymbols[shapeName] || shapeName,\n      ...pointPosition,\n    },\n  });\n}\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { splitPoints } from '../util/split-points';\nimport { drawPoints, SHAPES } from './util';\n\nconst PointShapeFactory = registerShapeFactory('point', {\n  defaultShapeType: 'hollow-circle',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\neach(SHAPES, (shapeName: string) => {\n  //  shape  hollow-shape\n  registerShape('point', `hollow-${shapeName}`, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n\nexport default PointShapeFactory;\n","import { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry from './base';\n/**  Point  ShapeFactory */\nimport './shape/point';\n\n/**\n * Point \n * \n */\nexport default class Point extends Geometry {\n  public readonly type: string = 'point';\n  public readonly shapeType: string = 'point';\n  protected generatePoints: boolean = true;\n\n  /**\n   * \n   * @param mappingDatum\n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const shapeCfg = super.getDrawCfg(mappingDatum);\n\n    return {\n      ...shapeCfg,\n      isStack: !!this.getAdjust('stack'), // \n    };\n  }\n}\n","import { each, isEmpty, isEqual, last } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getPath(points: any[]) {\n  let flag: any = points[0];\n  let i = 1;\n\n  const path = [['M', flag.x, flag.y]];\n\n  while (i < points.length) {\n    const c: any = points[i];\n    if (c.x !== points[i - 1].x || c.y !== points[i - 1].y) {\n      path.push(['L', c.x, c.y]);\n      if (c.x === flag.x && c.y === flag.y && i < points.length - 1) {\n        flag = points[i + 1];\n        path.push(['Z']);\n        path.push(['M', flag.x, flag.y]);\n        i++;\n      }\n    }\n    i++;\n  }\n\n  if (!isEqual(last(path), flag)) {\n    path.push(['L', flag.x, flag.y]);\n  }\n\n  path.push(['Z']);\n\n  return path;\n}\n\nconst PolygonShapeFactory = registerShapeFactory('polygon', {\n  defaultShapeType: 'polygon',\n  getDefaultPoints(pointInfo: ShapePoint) {\n    const points = [];\n    each(pointInfo.x as number[], (subX, index) => {\n      const subY = pointInfo.y[index];\n      points.push({\n        x: subX,\n        y: subY,\n      });\n    });\n    return points;\n  },\n});\n\nregisterShape('polygon', 'polygon', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    if (!isEmpty(cfg.points)) {\n      const shapeAttrs = getStyle(cfg, true, true);\n      const path = this.parsePath(getPath(cfg.points));\n      return container.addShape('path', {\n        attrs: {\n          ...shapeAttrs,\n          path,\n        },\n        name: 'polygon',\n      });\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default PolygonShapeFactory;\n","import { isArray } from '@antv/util';\nimport { Datum } from '../interface';\nimport Geometry from './base';\n/**  Path  ShapeFactory */\nimport './shape/polygon';\n\n/**\n * Polygon \n * \n */\nexport default class Polygon extends Geometry {\n  public readonly type: string = 'polygon';\n  public readonly shapeType: string = 'polygon';\n  protected generatePoints: boolean = true;\n\n  /**\n   *  Shape \n   * @param obj\n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg: any = super.createShapePointsCfg(obj);\n    let x = cfg.x;\n    let y = cfg.y;\n    let temp;\n    // x y \n    if (!(isArray(x) && isArray(y))) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xCount = xScale.values.length;\n      const yCount = yScale.values.length;\n      const xOffset = (0.5 * 1) / xCount;\n      const yOffset = (0.5 * 1) / yCount;\n\n      if (xScale.isCategory && yScale.isCategory) {\n        // x,y\n        x = [x - xOffset, x - xOffset, x + xOffset, x + xOffset];\n        y = [y - yOffset, y + yOffset, y + yOffset, y - yOffset];\n      } else if (isArray(x)) {\n        // x \n        temp = x;\n        x = [temp[0], temp[0], temp[1], temp[1]];\n        y = [y - yOffset / 2, y + yOffset / 2, y + yOffset / 2, y - yOffset / 2];\n      } else if (isArray(y)) {\n        // y \n        temp = y;\n        y = [temp[0], temp[1], temp[1], temp[0]];\n        x = [x - xOffset / 2, x - xOffset / 2, x + xOffset / 2, x + xOffset / 2];\n      }\n      cfg.x = x;\n      cfg.y = y;\n    }\n    return cfg;\n  }\n}\n","import { LooseObject } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry from './base';\n/**  ShapeFactory */\nimport './shape/schema';\nimport { getDefaultSize } from './util/shape-size';\n\n/**\n * Schema \n */\nexport default class Schema extends Geometry {\n  public readonly type: string = 'schema';\n  public readonly shapeType: string = 'schema';\n  protected generatePoints: boolean = true;\n\n  /**\n   *  Shape \n   * @param record\n   * @returns\n   */\n  protected createShapePointsCfg(record: LooseObject) {\n    const cfg = super.createShapePointsCfg(record);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, record)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n}\n","import { registerShapeFactory } from '../base';\n\nconst SchemaShapeFactory = registerShapeFactory('schema', {\n  defaultShapeType: '', // 'schema' is for some custom shapes, so will not specify defaultShapeType\n});\n\nexport default SchemaShapeFactory;\n","import { each, max, map, isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg, ViolinShapePoint } from '../../../interface';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\nfunction normalizeSize(arr: number[]) {\n  if (!isArray(arr)) {\n    return [];\n  }\n  const maxValue = max(arr);\n  return map(arr, (num) => num / maxValue);\n}\n\nconst ViolinShapeFactory = registerShapeFactory('violin', {\n  defaultShapeType: 'violin',\n  getDefaultPoints(pointInfo: ViolinShapePoint) {\n    const radius = pointInfo.size / 2;\n    const points = [];\n    const sizeArr = normalizeSize(pointInfo._size);\n\n    each(pointInfo.y as number[], (y, index) => {\n      const offset = sizeArr[index] * radius;\n      const isMin = index === 0;\n      const isMax = index === (pointInfo.y as number[]).length - 1;\n      points.push({\n        isMin,\n        isMax,\n        x: (pointInfo.x as number) - offset,\n        y,\n      });\n      points.unshift({\n        isMin,\n        isMax,\n        x: (pointInfo.x as number) + offset,\n        y,\n      });\n    });\n    return points;\n  },\n});\n\nregisterShape('violin', 'violin', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const shapeAttrs = getStyle(cfg, true, true);\n    const path = this.parsePath(getViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...shapeAttrs,\n        path,\n      },\n      name: 'violin',\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default ViolinShapeFactory;\n","import { get } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Datum, ViolinShapePoint } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport { getDefaultSize } from './util/shape-size';\nimport Geometry from './base';\n/**  Path  ShapeFactory */\nimport './shape/violin';\n\n/**\n * Violin \n * \n */\nexport default class Violin extends Geometry<ViolinShapePoint> {\n  public readonly type: string = 'violin';\n  public readonly shapeType: string = 'violin';\n  protected generatePoints: boolean = true;\n  /** size  */\n  private _sizeField: string;\n\n  /**\n   *  Shape \n   * @param record\n   * @returns\n   */\n  protected createShapePointsCfg(record: Datum) {\n    const cfg = super.createShapePointsCfg(record);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, record)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n    cfg._size = get(record[FIELD_ORIGIN], [this._sizeField]);\n    return cfg;\n  }\n\n  /**\n   * @override\n   */\n  protected initAttributes() {\n    const { attributeOption } = this;\n    const sizeField = attributeOption.size\n      ? attributeOption.size.fields[0]\n      : this._sizeField\n      ? this._sizeField\n      : 'size';\n    this._sizeField = sizeField;\n    // fixme \n    delete attributeOption.size;\n    super.initAttributes();\n  }\n}\n","import { each } from '@antv/util';\nimport { Point } from '../../../interface';\n\n/**\n * @ignore\n * Gets cpath\n * @param from\n * @param to\n * @returns\n */\nexport function getCPath(from: Point, to: Point) {\n  return ['C', (from.x * 1) / 2 + (to.x * 1) / 2, from.y, (from.x * 1) / 2 + (to.x * 1) / 2, to.y, to.x, to.y];\n}\n\n/**\n * @ignore\n * Gets qpath\n * @param to\n * @param center\n * @returns\n */\nexport function getQPath(to: Point, center: Point) {\n  const points = [];\n  points.push({\n    x: center.x,\n    y: center.y,\n  });\n  points.push(to);\n\n  const sub = ['Q'];\n  each(points, (point) => {\n    sub.push(point.x, point.y);\n  });\n\n  return sub;\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { getArcPath } from '../../../util/graphics';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath, getQPath } from './util';\n\nfunction getArcShapePath(from: Point, to: Point, center: Point) {\n  const sub = getQPath(to, center);\n  const path = [['M', from.x, from.y]];\n  path.push(sub);\n  return path;\n}\n\nfunction getArcShapeWeightPath(points: Point[], center: Point) {\n  const arc1 = getQPath(points[1], center);\n  const arc2 = getQPath(points[3], center);\n  const path = [['M', points[0].x, points[0].y]];\n  path.push(arc2);\n  path.push(['L', points[3].x, points[3].y]);\n  path.push(['L', points[2].x, points[2].y]);\n  path.push(arc1);\n  path.push(['L', points[1].x, points[1].y]);\n  path.push(['L', points[0].x, points[0].y]);\n  path.push(['Z']);\n  return path;\n}\n\n// \nregisterShape('edge', 'arc', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n\n    let points = cfg.points as Point[];\n    const type = points.length > 2 ? 'weight' : 'normal';\n    let path;\n    if (cfg.isInCircle) {\n      const center = { x: 0, y: 1 };\n      if (type === 'normal') {\n        path = getArcShapePath(points[0], points[1], center);\n      } else {\n        style.fill = style.stroke;\n        path = getArcShapeWeightPath(points, center);\n      }\n      path = this.parsePath(path);\n\n      return container.addShape('path', {\n        attrs: {\n          ...style,\n          path,\n        },\n      });\n    } else {\n      if (type === 'normal') {\n        points = this.parsePoints(points);\n        path = getArcPath(\n          (points[1].x + points[0].x) / 2,\n          points[0].y,\n          Math.abs(points[1].x - points[0].x) / 2,\n          Math.PI,\n          Math.PI * 2\n        );\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      } else {\n        const c1 = getCPath(points[1], points[3]);\n        const c2 = getCPath(points[2], points[0]);\n\n        path = [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          c1,\n          ['L', points[3].x, points[3].y],\n          ['L', points[2].x, points[2].y],\n          c2,\n          ['Z'],\n        ];\n        path = this.parsePath(path);\n        style.fill = style.stroke;\n\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      }\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath } from './util';\n\nfunction getSmoothPath(from: Point, to: Point) {\n  const sub = getCPath(from, to);\n  const path = [['M', from.x, from.y]];\n\n  path.push(sub);\n  return path;\n}\n\nregisterShape('edge', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getSmoothPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getShapeAttrs } from './util';\n\n/**\n * \n */\nregisterShape('area', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, true, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/**\n * \n */\nregisterShape('area', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, false, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/**  */\nregisterShape('area', 'smooth-line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, true, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nconst CORNER_PERCENT = 1 / 3;\n\nfunction getVHVPath(from: Point, to: Point) {\n  const points = [];\n  points.push({\n    x: from.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push({\n    x: to.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push(to);\n\n  const path = [['M', from.x, from.y]];\n  each(points, (point) => {\n    path.push(['L', point.x, point.y]);\n  });\n\n  return path;\n}\n\nregisterShape('edge', 'vhv', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getVHVPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getRectPath } from './util';\nimport { omit } from '../../../util/helper';\n\n//  Line \nfunction getLinePoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0 } = pointInfo;\n\n  if (isArray(y)) {\n    return y.map((yItem, idx) => {\n      return {\n        x: isArray(x) ? x[idx] : x,\n        y: yItem,\n      };\n    });\n  }\n\n  //  y0 \n  return [\n    { x: x as number, y: y0 },\n    { x: x as number, y },\n  ];\n}\n\nregisterShape('interval', 'line', {\n  getPoints(shapePoint: ShapePoint) {\n    return getLinePoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const newStyle = omit({ ...style }, ['fill']);\n    const path = this.parsePath(getRectPath(cfg.points as Point[], false));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...newStyle,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x, y - r],\n          ['L', x, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\n//  tick shape  6 \nfunction getTickPoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  const xMax = (x as number) + size / 2;\n  const xMin = (x as number) - size / 2;\n\n  // tick \n  // 4 - 1 - 5\n  //     |\n  // 2 - 0 - 3\n  return [\n    { x: x as number, y: yMin },\n    { x: x as number, y: yMax },\n    { x: xMin, y: yMin },\n    { x: xMax, y: yMin },\n    { x: xMin, y: yMax },\n    { x: xMax, y: yMax },\n  ];\n}\n\n//  tick  path\nfunction getTickPath(points: Point[]) {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n  ];\n}\n\n/** I  error bar chart */\nregisterShape('interval', 'tick', {\n  getPoints(shapePoint: ShapePoint) {\n    return getTickPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getTickPath(cfg.points as Point[]));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x - r / 2, y - r],\n          ['L', x + r / 2, y - r],\n          ['M', x, y - r],\n          ['L', x, y + r],\n          ['M', x - r / 2, y + r],\n          ['L', x + r / 2, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/**  */\nregisterShape('interval', 'funnel', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; //  size \n    return getRectPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], false));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { BACKGROUND_SHAPE } from '../constant';\nimport { getBackgroundRectStyle, getStyle } from '../util/get-style';\nimport { getBackgroundRectPath, getRectPath } from './util';\n\n/**  */\nregisterShape('interval', 'hollow-rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    let group = container;\n    const backgroundCfg = cfg?.background;\n    if (backgroundCfg) {\n      group = container.addGroup();\n      const backgroundStyle = getBackgroundRectStyle(cfg);\n      const backgroundPath = getBackgroundRectPath(cfg, this.parsePoints(cfg.points) as Point[], this.coordinate);\n      group.addShape('path', {\n        attrs: {\n          ...backgroundStyle,\n          path: backgroundPath,\n        },\n        zIndex: -1,\n        name: BACKGROUND_SHAPE,\n      });\n    }\n\n    const path = this.parsePath(getRectPath(cfg.points as Point[]));\n    const shape = group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return backgroundCfg ? group : shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/**  */\nregisterShape('interval', 'pyramid', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; //  size \n    return getRectPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], true));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLineMarker } from './util';\n\nconst interpolateCallback = (point: Point, nextPoint: Point, shapeType: string) => {\n  const x = point.x as number;\n  const y = point.y as number;\n  const nextX = nextPoint.x as number;\n  const nextY = nextPoint.y as number;\n  let result;\n\n  switch (shapeType) {\n    case 'hv':\n      result = [{ x: nextX, y }];\n      break;\n    case 'vh':\n      result = [{ x, y: nextY }];\n      break;\n    case 'hvh':\n      const middleX = (nextX + x) / 2;\n      result = [\n        { x: middleX, y },\n        { x: middleX, y: nextY },\n      ];\n      break;\n    case 'vhv':\n      const middleY = (y + nextY) / 2;\n      result = [\n        { x, y: middleY },\n        { x: nextX, y: middleY },\n      ];\n      break;\n    default:\n      break;\n  }\n\n  return result;\n};\n\nfunction getInterpolatePoints(points: Point[], shapeType: string) {\n  let result = [];\n  each(points, (point: Point, index) => {\n    const nextPoint = points[index + 1];\n    result.push(point);\n    if (nextPoint) {\n      const interpolatePoint = interpolateCallback(point, nextPoint, shapeType);\n      result = result.concat(interpolatePoint);\n    }\n  });\n  return result;\n}\n\n// pathnull\nfunction getInterpolatePath(points: Point[]) {\n  return points.map((point, index) => {\n    return index === 0 ? ['M', point.x, point.y] : ['L', point.x, point.y];\n  });\n}\n\n// \nfunction getInterpolateShapeAttrs(cfg: ShapeInfo, shapeType: string) {\n  const points = getPathPoints(cfg.points, cfg.connectNulls, cfg.showSinglePoint); //  connectNulls  points\n  let path = [];\n  each(points, (eachLinePoints) => {\n    const interpolatePoints = getInterpolatePoints(eachLinePoints, shapeType);\n    path = path.concat(getInterpolatePath(interpolatePoints));\n  });\n\n  return {\n    ...getStyle(cfg, true, false, 'lineWidth'),\n    path,\n  };\n}\n\n// step line\neach(['hv', 'vh', 'hvh', 'vhv'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const attrs = getInterpolateShapeAttrs(cfg, shapeType);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n","import { isArray, isNil } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction parseValue(value: number[]) {\n  const array = !isArray(value) ? [value] : value;\n\n  const min = array[0]; // \n  const max = array[array.length - 1]; // \n  const min1 = array.length > 1 ? array[1] : min;\n  const max1 = array.length > 3 ? array[3] : max;\n  const median = array.length > 2 ? array[2] : min1;\n\n  return {\n    min, // \n    max, // \n    min1,\n    max1,\n    median,\n  };\n}\n\nfunction getBoxPoints(x: number | number[], y: number | number[], size: number): Point[] {\n  const halfSize = size / 2;\n  let pointsArray;\n  if (isArray(y)) {\n    // 2\n    const { min, max, median, min1, max1 } = parseValue(y);\n    const minX = (x as number) - halfSize;\n    const maxX = (x as number) + halfSize;\n    pointsArray = [\n      [minX, max],\n      [maxX, max],\n      [x as number, max],\n      [x as number, max1],\n      [minX, min1],\n      [minX, max1],\n      [maxX, max1],\n      [maxX, min1],\n      [x as number, min1],\n      [x as number, min],\n      [minX, min],\n      [maxX, min],\n      [minX, median],\n      [maxX, median],\n    ];\n  } else {\n    // \n    y = isNil(y) ? 0.5 : y;\n    const { min, max, median, min1, max1 } = parseValue(x as number[]);\n    const minY = y - halfSize;\n    const maxY = y + halfSize;\n    pointsArray = [\n      [min, minY],\n      [min, maxY],\n      [min, y],\n      [min1, y],\n      [min1, minY],\n      [min1, maxY],\n      [max1, maxY],\n      [max1, minY],\n      [max1, y],\n      [max, y],\n      [max, minY],\n      [max, maxY],\n      [median, minY],\n      [median, maxY],\n    ];\n  }\n\n  return pointsArray.map((arr) => {\n    return {\n      x: arr[0],\n      y: arr[1],\n    };\n  });\n}\n\nfunction getBoxPath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['L', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n    ['L', points[4].x, points[4].y], //  z\n    ['Z'],\n    ['M', points[8].x, points[8].y],\n    ['L', points[9].x, points[9].y],\n    ['M', points[10].x, points[10].y],\n    ['L', points[11].x, points[11].y],\n    ['M', points[12].x, points[12].y],\n    ['L', points[13].x, points[13].y],\n  ];\n}\n\n// box shape\nregisterShape('schema', 'box', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getBoxPoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getBoxPath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y - 6, y - 3, y, y + 3, y + 6];\n        const points = getBoxPoints(x, yValues, r);\n        return [\n          ['M', points[0].x + 1, points[0].y],\n          ['L', points[1].x - 1, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['M', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['L', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n          ['L', points[4].x, points[4].y],\n          ['Z'],\n          ['M', points[8].x, points[8].y],\n          ['L', points[9].x, points[9].y],\n          ['M', points[10].x + 1, points[10].y],\n          ['L', points[11].x - 1, points[11].y],\n          ['M', points[12].x, points[12].y],\n          ['L', points[13].x, points[13].y],\n        ];\n      },\n      style: {\n        r: 6,\n        lineWidth: 1,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { padEnd } from '../../../util/helper';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getCandleYValues(value: number | number[]) {\n  const array = !isArray(value) ? [value] : value;\n  // \n  const sorted = array.sort((a, b) => b - a);\n  return padEnd(sorted, 4, sorted[sorted.length - 1]);\n}\n\n// get candle shape's key points\nfunction getCandlePoints(x: number, y: number[], size: number): Point[] {\n  const yValues = getCandleYValues(y);\n  return [\n    { x, y: yValues[0] },\n    { x, y: yValues[1] },\n    { x: x - size / 2, y: yValues[2] },\n    { x: x - size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[2] },\n    { x, y: yValues[2] },\n    { x, y: yValues[3] },\n  ];\n}\n\nfunction getCandlePath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['L', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['Z'],\n    ['M', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n  ];\n}\n\n// k line shape\nregisterShape('schema', 'candle', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getCandlePoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, true);\n    const path = this.parsePath(getCandlePath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y + 7.5, y + 3, y - 3, y - 7.5];\n        const points = getCandlePoints(x, yValues, r);\n        return [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['L', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['Z'],\n          ['M', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n        ];\n      },\n      style: {\n        lineWidth: 1,\n        stroke: color,\n        fill: color,\n        r: 6,\n      },\n    };\n  },\n});\n","import { isEmpty, clamp } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getRectAttrs(points: any[], size: number) {\n  const width = Math.abs(points[0].x - points[2].x);\n  const height = Math.abs(points[0].y - points[2].y);\n\n  let len = Math.min(width, height);\n  if (size) {\n    len = clamp(size, 0, Math.min(width, height));\n  }\n  len = len / 2;\n  const centerX = (points[0].x + points[2].x) / 2;\n  const centerY = (points[0].y + points[2].y) / 2;\n\n  return {\n    x: centerX - len,\n    y: centerY - len,\n    width: len * 2,\n    height: len * 2,\n  };\n}\n\nregisterShape('polygon', 'square', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    if (!isEmpty(cfg.points)) {\n      const shapeAttrs = getStyle(cfg, true, true);\n      const points = this.parsePoints(cfg.points); // \n      return container.addShape('rect', {\n        attrs: {\n          ...shapeAttrs,\n          ...getRectAttrs(points, cfg.size), //  rect \n        },\n        name: 'polygon',\n      });\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, HOLLOW_SHAPES } from './util';\n\n//  hollowShape\neach(HOLLOW_SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName],\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nregisterShape('point', 'image', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const { r: size } = getStyle(cfg, false, false, 'r');\n    const points = this.parsePoints(cfg.points);\n    let pointPosition = points[0];\n    if (cfg.isStack) {\n      pointPosition = points[1];\n    } else if (points.length > 1) {\n      const group = container.addGroup();\n      for (const point of points) {\n        group.addShape('image', {\n          attrs: {\n            x: (point.x as number) - size / 2,\n            y: (point.y as number) - size,\n            width: size,\n            height: size,\n            img: cfg.shape[1],\n          },\n        });\n      }\n\n      return group;\n    }\n\n    return container.addShape('image', {\n      attrs: {\n        x: (pointPosition.x as number) - size / 2,\n        y: (pointPosition.y as number) - size,\n        width: size,\n        height: size,\n        img: cfg.shape[1],\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, SHAPES } from './util';\n\n//  SHAPES \neach(SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, false);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    },\n  });\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getSmoothViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\n/**\n * \n */\nregisterShape('violin', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, true);\n    const path = this.parsePath(getSmoothViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        stroke: null,\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup, Point } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getSmoothViolinPath, getViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\n/**\n * \n */\nregisterShape('violin', 'hollow', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, false);\n    const path = this.parsePath(getViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: null,\n        stroke: color,\n      },\n    };\n  },\n});\n\n/**\n * \n */\nregisterShape('violin', 'hollow-smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, false);\n    const path = this.parsePath(getSmoothViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: null,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { get, deepMix, isArray } from '@antv/util';\nimport { Writeable } from '../../util/types';\nimport { MappingDatum, Point } from '../../interface';\nimport GeometryLabel from './base';\nimport { LabelCfg, LabelItem, LabelPointCfg, TextAlign } from './interface';\n\n/**\n *  label\n */\nexport default class IntervalLabel extends GeometryLabel {\n  /**\n   *  interval label  value \n   * @param labelCfg\n   */\n  private getLabelValueDir(mappingData: MappingDatum) {\n    // points  x/y  transpose \n    const dim = 'y';\n    const { points } = mappingData;\n\n    return points[0][dim] <= points[2][dim] ? 1 : -1;\n  }\n\n  /**\n   *  interval  label \n   * @param labelCfg\n   * @param index\n   * @param total\n   */\n  protected getLabelOffsetPoint(labelCfg: LabelCfg, index: number, total: number, position?: string) {\n    let point = super.getLabelOffsetPoint(labelCfg, index, total);\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const dim = transposed ? 'x' : 'y';\n    const dir = this.getLabelValueDir(labelCfg.mappingData);\n    point = { ...point, [dim]: point[dim] * dir };\n\n    if (coordinate.isReflect('x')) {\n      point = {\n        ...point,\n        x: point.x * -1,\n      };\n    }\n    if (coordinate.isReflect('y')) {\n      point = {\n        ...point,\n        y: point.y * -1,\n      };\n    }\n\n    return point;\n  }\n\n  /**\n   *  interval label \n   * @param labelCfg\n   */\n  protected getThemedLabelCfg(labelCfg: LabelCfg) {\n    const geometry = this.geometry;\n    const defaultLabelCfg = this.getDefaultLabelCfg();\n    const { theme } = geometry;\n\n    //  interval label position  middle offset  0\n    return deepMix({}, defaultLabelCfg, theme.labels, labelCfg.position === 'middle' ? { offset: 0 } : {}, labelCfg);\n  }\n\n  protected setLabelPosition(\n    labelPointCfg: Writeable<LabelPointCfg>,\n    mappingData: MappingDatum,\n    index: number,\n    position: string\n  ) {\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const shapePoints = mappingData.points as Point[];\n    const point0 = coordinate.convert(shapePoints[0]);\n    const point2 = coordinate.convert(shapePoints[2]);\n    const dir = this.getLabelValueDir(mappingData);\n\n    let top;\n    let right;\n    let bottom;\n    let left;\n\n    const shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n    if (shape === 'funnel' || shape === 'pyramid') {\n      // \n      const nextPoints = get(mappingData, 'nextPoints');\n      const points = get(mappingData, 'points');\n      if (nextPoints) {\n        // \n        const p0 = coordinate.convert(points[0] as Point);\n        const p1 = coordinate.convert(points[1] as Point);\n        const nextP0 = coordinate.convert(nextPoints[0] as Point);\n        const nextP1 = coordinate.convert(nextPoints[1] as Point);\n\n        // TODO: \n        if (transposed) {\n          top = Math.min(nextP0.y, p0.y);\n          bottom = Math.max(nextP0.y, p0.y);\n          right = (p1.x + nextP1.x) / 2;\n          left = (p0.x + nextP0.x) / 2;\n        } else {\n          top = Math.min((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n          bottom = Math.max((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n          right = nextP1.x;\n          left = p0.x;\n        }\n      } else {\n        top = Math.min(point2.y, point0.y);\n        bottom = Math.max(point2.y, point0.y);\n        right = point2.x;\n        left = point0.x;\n      }\n    } else {\n      top = Math.min(point2.y, point0.y);\n      bottom = Math.max(point2.y, point0.y);\n      right = point2.x;\n      left = point0.x;\n    }\n\n    switch (position) {\n      case 'right':\n        labelPointCfg.x = right;\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n        break;\n      case 'left':\n        labelPointCfg.x = left;\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n        break;\n      case 'bottom':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = bottom;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n        break;\n      case 'middle':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', 'middle');\n        break;\n      case 'top':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = top;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n        break;\n      default:\n        break;\n    }\n  }\n}\n","import { each, get, isArray, map, isNumber, isString } from '@antv/util';\nimport { MappingDatum, Point } from '../../interface';\nimport { getDistanceToCenter } from '../../util/coordinate';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport GeometryLabel from './base';\nimport { LabelCfg, LabelItem, PolarLabelItem, LabelPointCfg, Writeable } from './interface';\n\nconst HALF_PI = Math.PI / 2;\n\n/**\n *  label\n */\nexport default class PolarLabel extends GeometryLabel {\n  /**\n   * @override\n   * @desc  label offset\n   * polar & theta coordinate supportstringtype, should transform to number\n   */\n  protected getLabelOffset(offset: number | string): number {\n    const coordinate = this.getCoordinate();\n    let actualOffset = 0;\n    if (isNumber(offset)) {\n      actualOffset = offset;\n    } else if (isString(offset) && offset.indexOf('%') !== -1) {\n      let r = coordinate.getRadius();\n      if (coordinate.innerRadius > 0) {\n        r = r * (1 - coordinate.innerRadius);\n      }\n      actualOffset = parseFloat(offset) * 0.01 * r;\n    }\n\n    return actualOffset;\n  }\n\n  /**\n   * @override\n   *  labelItems,  percent\n   * @param mapppingArray\n   */\n  public getLabelItems(mapppingArray: MappingDatum[]): PolarLabelItem[] {\n    const items = super.getLabelItems(mapppingArray);\n    const yScale = this.geometry.getYScale();\n\n    return map(items, (item) => {\n      if (item && yScale) {\n        const percent = yScale.scale(get(item.data, yScale.field));\n        return { ...item, percent };\n      }\n      return item;\n    });\n  }\n  /**\n   * @override\n   * \n   * @param point\n   */\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    let align;\n    if (point.labelEmit) {\n      align = point.angle <= Math.PI / 2 && point.angle >= -Math.PI / 2 ? 'left' : 'right';\n    } else if (!coordinate.isTransposed) {\n      align = 'center';\n    } else {\n      const center = coordinate.getCenter();\n      const offset = point.offset;\n      if (Math.abs(point.x - center.x) < 1) {\n        align = 'center';\n      } else if (point.angle > Math.PI || point.angle <= 0) {\n        align = offset > 0 ? 'left' : 'right';\n      } else {\n        align = offset > 0 ? 'right' : 'left';\n      }\n    }\n    return align;\n  }\n\n  /**\n   * @override\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    let factor = 1;\n    let arcPoint;\n    const content = labelCfg.content[index];\n    if (this.isToMiddle(mappingData)) {\n      arcPoint = this.getMiddlePoint(mappingData.points as Point[]);\n    } else {\n      if (labelCfg.content.length === 1 && index === 0) {\n        index = 1;\n      } else if (index === 0) {\n        factor = -1;\n      }\n      arcPoint = this.getArcPoint(mappingData, index);\n    }\n\n    const offset = labelCfg.offset * factor;\n    const middleAngle = this.getPointAngle(arcPoint);\n    const isLabelEmit = labelCfg.labelEmit;\n    const labelPositionCfg: Writeable<LabelPointCfg> = this.getCirclePoint(middleAngle, offset, arcPoint, isLabelEmit);\n    if (labelPositionCfg.r === 0) {\n      // \n      labelPositionCfg.content = '';\n    } else {\n      labelPositionCfg.content = content;\n      labelPositionCfg.angle = middleAngle;\n      labelPositionCfg.color = mappingData.color;\n    }\n\n    labelPositionCfg.rotate = labelCfg.autoRotate\n      ? this.getLabelRotate(middleAngle, offset, isLabelEmit)\n      : labelCfg.rotate;\n    labelPositionCfg.start = {\n      x: arcPoint.x,\n      y: arcPoint.y,\n    };\n    return labelPositionCfg;\n  }\n\n  /**\n   * \n   */\n  protected getArcPoint(mappingData: MappingDatum, index: number = 0): Point {\n    if (!isArray(mappingData.x) && !isArray(mappingData.y)) {\n      return {\n        x: mappingData.x,\n        y: mappingData.y,\n      };\n    }\n\n    return {\n      x: isArray(mappingData.x) ? mappingData.x[index] : mappingData.x,\n      y: isArray(mappingData.y) ? mappingData.y[index] : mappingData.y,\n    };\n  }\n\n  /**\n   * \n   * @param point\n   */\n  protected getPointAngle(point: Point): number {\n    return getAngleByPoint(this.getCoordinate(), point);\n  }\n\n  /**\n   * \n   * @param angle\n   * @param offset\n   * @param point\n   * @param isLabelEmit\n   */\n  protected getCirclePoint(angle: number, offset: number, point: Point, isLabelEmit: boolean) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    let r = getDistanceToCenter(coordinate, point);\n    if (r === 0) {\n      return {\n        ...center,\n        r,\n      };\n    }\n\n    let labelAngle = angle;\n    if (coordinate.isTransposed && r > offset && !isLabelEmit) {\n      const appendAngle = Math.asin(offset / (2 * r));\n      labelAngle = angle + appendAngle * 2;\n    } else {\n      r = r + offset;\n    }\n\n    return {\n      x: center.x + r * Math.cos(labelAngle),\n      y: center.y + r * Math.sin(labelAngle),\n      r,\n    };\n  }\n\n  /**\n   *  label \n   * @param angle\n   * @param offset\n   * @param isLabelEmit\n   */\n  protected getLabelRotate(angle: number, offset: number, isLabelEmit: boolean) {\n    let rotate = angle + HALF_PI;\n    if (isLabelEmit) {\n      rotate -= HALF_PI;\n    }\n    if (rotate) {\n      if (rotate > HALF_PI) {\n        rotate = rotate - Math.PI;\n      } else if (rotate < -HALF_PI) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  // \n  private getMiddlePoint(points: Point[]) {\n    const coordinate = this.getCoordinate();\n    const count = points.length;\n    let middlePoint = {\n      x: 0,\n      y: 0,\n    };\n    each(points, (point: Point) => {\n      middlePoint.x += point.x;\n      middlePoint.y += point.y;\n    });\n    middlePoint.x /= count;\n    middlePoint.y /= count;\n\n    middlePoint = coordinate.convert(middlePoint);\n    return middlePoint;\n  }\n\n  // \n  private isToMiddle(mappingData: MappingDatum) {\n    return (mappingData.x as number[]).length > 2;\n  }\n}\n","import { deepMix, get, isArray } from '@antv/util';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { LabelItem } from './interface';\nimport PolarLabel from './polar';\n\n/**\n *  label\n */\nexport default class PieLabel extends PolarLabel {\n  public defaultLayout = 'distribute';\n\n  protected getDefaultLabelCfg(offset?: number, position?: string) {\n    const cfg = super.getDefaultLabelCfg(offset, position);\n    return deepMix({}, cfg, get(this.geometry.theme, 'pieLabels', {}));\n  }\n\n  /** @override */\n  protected getLabelOffset(offset: string | number): number {\n    return super.getLabelOffset(offset) || 0;\n  }\n\n  protected getLabelRotate(angle: number, offset: number, isLabelLimit: boolean) {\n    let rotate;\n    if (offset < 0) {\n      rotate = angle;\n      if (rotate > Math.PI / 2) {\n        rotate = rotate - Math.PI;\n      }\n      if (rotate < -Math.PI / 2) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n\n    let align;\n    if (point.angle <= Math.PI / 2 && point.x >= center.x) {\n      align = 'left';\n    } else {\n      align = 'right';\n    }\n    if (point.offset <= 0) {\n      if (align === 'right') {\n        align = 'left';\n      } else {\n        align = 'right';\n      }\n    }\n    return align;\n  }\n\n  protected getArcPoint(point) {\n    return point;\n  }\n\n  protected getPointAngle(point) {\n    const coordinate = this.getCoordinate();\n    const startPoint = {\n      x: isArray(point.x) ? point.x[0] : point.x,\n      y: point.y[0],\n    };\n    const endPoint = {\n      x: isArray(point.x) ? point.x[1] : point.x,\n      y: point.y[1],\n    };\n    let angle;\n    const startAngle = getAngleByPoint(coordinate, startPoint);\n    if (point.points && point.points[0].y === point.points[1].y) {\n      angle = startAngle;\n    } else {\n      let endAngle = getAngleByPoint(coordinate, endPoint);\n      if (startAngle >= endAngle) {\n        // 100% pie slice\n        endAngle = endAngle + Math.PI * 2;\n      }\n      angle = startAngle + (endAngle - startAngle) / 2;\n    }\n    return angle;\n  }\n\n  /** @override */\n  protected getCirclePoint(angle: number, offset: number) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    const r = coordinate.getRadius() + offset;\n    return {\n      ...polarToCartesian(center.x, center.y, r, angle),\n      angle,\n      r,\n    };\n  }\n}\n","import { isObject, each, find, get } from '@antv/util';\n\nimport { BBox, IGroup, IShape } from '../../../../dependents';\nimport { LabelItem } from '../../interface';\n\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { IElement } from '@antv/g-base';\n\n/** label textline 4px */\nconst MARGIN = 4;\n\nfunction antiCollision(labelShapes, labels, lineHeight, plotRange, center, isRight) {\n  // adjust y position of labels to avoid overlapping\n  let overlapping = true;\n  const start = plotRange.start;\n  const end = plotRange.end;\n  const startY = Math.min(start.y, end.y);\n  let totalHeight = Math.abs(start.y - end.y);\n  let i;\n\n  let maxY = 0;\n  let minY = Number.MIN_VALUE;\n  const boxes = labels.map((label) => {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n    if (label.y < minY) {\n      minY = label.y;\n    }\n    return {\n      size: lineHeight,\n      targets: [label.y - startY],\n    };\n  });\n  minY -= startY;\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach((box) => {\n      const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n      // box.pos = Math.max(0, target - box.size / 2);\n    });\n\n    // detect overlapping and join boxes\n    overlapping = false;\n    i = boxes.length;\n    while (i--) {\n      if (i > 0) {\n        const previousBox = boxes[i - 1];\n        const box = boxes[i];\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets);\n\n          // overflow, shift up\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n          boxes.splice(i, 1); // removing box\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0;\n  // step 4: normalize y and adjust x\n  boxes.forEach((b) => {\n    let posInCompositeBox = startY + lineHeight / 2; // middle of the label\n    b.targets.forEach(() => {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += lineHeight;\n      i++;\n    });\n  });\n\n  const labelsMap = {};\n  for (const labelShape of labelShapes) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  // (x - cx)^2 + (y - cy)^2 = totalR^2\n  labels.forEach((label) => {\n    const rPow2 = label.r * label.r;\n    const dyPow2 = Math.pow(Math.abs(label.y - center.y), 2);\n    if (rPow2 < dyPow2) {\n      label.x = center.x;\n    } else {\n      const dx = Math.sqrt(rPow2 - dyPow2);\n      if (!isRight) {\n        // left\n        label.x = center.x - dx;\n      } else {\n        // right\n        label.x = center.x + dx;\n      }\n    }\n\n    // adjust labelShape\n    const labelShape = labelsMap[label.id];\n    labelShape.attr('x', label.x);\n    labelShape.attr('y', label.y);\n\n    // because group could not effect text-shape, should set text-shape position manually\n    const textShape = find(labelShape.getChildren(), (ele) => ele.get('type') === 'text') as IElement;\n    // @ts-ignore\n    if (textShape) {\n      textShape.attr('y', label.y);\n      textShape.attr('x', label.x);\n    }\n  });\n}\n\nexport function distribute(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  if (!items.length || !labels.length) {\n    return;\n  }\n  const offset = items[0] ? items[0].offset : 0;\n  const coordinate = labels[0].get('coordinate');\n  const radius = coordinate.getRadius();\n  const center = coordinate.getCenter();\n\n  if (offset > 0) {\n    // const lineHeight = get(this.geometry.theme, ['pieLabels', 'labelHeight'], 14);\n    const lineHeight = 14; // TODO\n    const totalR = radius + offset;\n    const totalHeight = totalR * 2 + lineHeight * 2;\n    const plotRange = {\n      start: coordinate.start,\n      end: coordinate.end,\n    };\n\n    // step 1: separate labels\n    const halves = [\n      [], // left\n      [], // right\n    ];\n    items.forEach((labelItem) => {\n      if (!labelItem) {\n        return;\n      }\n      if (labelItem.textAlign === 'right') {\n        // left\n        halves[0].push(labelItem);\n      } else {\n        // right or center will be put on the right side\n        halves[1].push(labelItem);\n      }\n    });\n\n    halves.forEach((half, index) => {\n      // step 2: reduce labels\n      const maxLabelsCountForOneSide = totalHeight / lineHeight;\n      if (half.length > maxLabelsCountForOneSide) {\n        half.sort((a, b) => {\n          // sort by percentage DESC\n          return b['..percent'] - a['..percent'];\n        });\n        half.splice(maxLabelsCountForOneSide, half.length - maxLabelsCountForOneSide);\n      }\n\n      // step 3: distribute position (x and y)\n      half.sort((a, b) => {\n        // sort by y ASC\n        return a.y - b.y;\n      });\n\n      antiCollision(labels, half, lineHeight, plotRange, center, index);\n    });\n  }\n\n  //  labelLine\n  each(items, (item) => {\n    if (item && item.labelLine) {\n      const distance = item.offset;\n      const angle = item.angle;\n      // \n      const startPoint = polarToCartesian(center.x, center.y, radius, angle);\n      const innerPoint = polarToCartesian(center.x, center.y, radius + distance / 2, angle);\n      const itemX = item.x + get(item, 'offsetX', 0);\n      const itemY = item.y + get(item, 'offsetY', 0);\n      const endPoint = {\n        x: itemX - Math.cos(angle) * MARGIN,\n        y: itemY - Math.sin(angle) * MARGIN,\n      };\n      if (!isObject(item.labelLine)) {\n        // labelLine: true\n        item.labelLine = {};\n      }\n      item.labelLine.path = [\n        `M ${startPoint.x}`,\n        `${startPoint.y} Q${innerPoint.x}`,\n        `${innerPoint.y} ${endPoint.x}`,\n        endPoint.y,\n      ].join(',');\n    }\n  });\n}\n","import { PolarLabelItem } from '../../interface';\n\n/**\n * \n */\nexport function antiCollision(\n  items: PolarLabelItem[],\n  labelHeight: number,\n  plotRange: { minY: number; maxY: number; minX: number; maxX: number }\n) {\n  const labels = items.filter((item) => !item.invisible);\n\n  // sorted by y, mutable\n  labels.sort((a, b) => a.y - b.y);\n  // adjust y position of labels to avoid overlapping\n  let overlapping = true;\n  const startY = plotRange.minY;\n  const endY = plotRange.maxY;\n  let totalHeight = Math.abs(startY - endY);\n  let i;\n\n  let maxY = 0;\n  let minY = Number.MIN_VALUE;\n  const boxes = labels.map((label) => {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n    if (label.y < minY) {\n      minY = label.y;\n    }\n    return {\n      content: label.content,\n      size: labelHeight,\n      targets: [label.y - startY],\n      pos: null,\n    };\n  });\n\n  minY -= startY;\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach((box) => {\n      const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n      box.pos = Math.max(0, box.pos);\n    });\n\n    // detect overlapping and join boxes\n    overlapping = false;\n    i = boxes.length;\n    while (i--) {\n      if (i > 0) {\n        const previousBox = boxes[i - 1];\n        const box = boxes[i];\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets);\n\n          // overflow, shift up\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n          boxes.splice(i, 1); // removing box\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0;\n  // step 4: normalize y and adjust x\n  boxes.forEach((b) => {\n    let posInCompositeBox = startY + labelHeight / 2; // middle of the label\n    b.targets.forEach(() => {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += labelHeight;\n      i++;\n    });\n  });\n}\n","import { Coordinate } from '@antv/coord';\nimport { BBox, IGroup, IShape, IElement } from '@antv/g-base';\nimport { isObject, each, get, groupBy, isNil, filter } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { PolarLabelItem } from '../../interface';\nimport { antiCollision } from './util';\n\n/** label textline 4px */\nconst MARGIN = 4;\n\n/**\n *  labelline\n * @param item PolarLabelItem\n */\nfunction drawLabelline(item: any /** PolarLabelItem */, coordinate: Coordinate) {\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n\n  if (item && item.labelLine) {\n    const { angle, offset: labelOffset } = item;\n    // \n    const startPoint = polarToCartesian(center.x, center.y, radius, angle);\n    const itemX = item.x + get(item, 'offsetX', 0) * (Math.cos(angle) > 0 ? 1 : -1);\n    const itemY = item.y + get(item, 'offsetY', 0) * (Math.sin(angle) > 0 ? 1 : -1);\n\n    const endPoint = {\n      x: itemX - Math.cos(angle) * MARGIN,\n      y: itemY - Math.sin(angle) * MARGIN,\n    };\n\n    const smoothConnector = item.labelLine.smooth;\n    const path = [];\n    const dx = endPoint.x - center.x;\n    const dy = endPoint.y - center.y;\n    let endAngle = Math.atan(dy / dx);\n    //  & \n    if (dx < 0) {\n      endAngle += Math.PI;\n    }\n\n    //  smooth, undefined  smooth\n    if (smoothConnector === false) {\n      if (!isObject(item.labelLine)) {\n        // labelLine: true\n        item.labelLine = {};\n      }\n\n      // 0 , 1 \n      let sweepFlag = 0;\n\n      // \n      if ((angle < 0 && angle > -Math.PI / 2) || angle > Math.PI * 1.5) {\n        if (endPoint.y > startPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle >= 0 && angle < Math.PI / 2) {\n        if (endPoint.y > startPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle >= Math.PI / 2 && angle < Math.PI) {\n        if (startPoint.y > endPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle < -Math.PI / 2 || (angle >= Math.PI && angle < Math.PI * 1.5)) {\n        if (startPoint.y > endPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      const distance = labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0);\n      const breakPoint = polarToCartesian(center.x, center.y, radius + distance, angle);\n      // \n      const breakPoint3 = polarToCartesian(center.x, center.y, radius + labelOffset / 2, endAngle);\n\n      /**\n       * @example\n       * M 100 100 L100 90 A 50 50 0 0 0 150 50\n       *  (100, 100),  (100, 90),  (50, 50)  (150, 50);\n       * A  4  large-arc-flag,  180 : 0 1 \n       *  5 : \n       */\n      // \n      const largeArcFlag = 0;\n      // step1: \n      path.push(`M ${startPoint.x} ${startPoint.y}`);\n      // step2: \n      path.push(`L ${breakPoint.x} ${breakPoint.y}`);\n      // step3:   \n      path.push(`A ${center.x} ${center.y} 0 ${largeArcFlag} ${sweepFlag} ${breakPoint3.x} ${breakPoint3.y}`);\n      // step4: \n      path.push(`L ${endPoint.x} ${endPoint.y}`);\n    } else {\n      const breakPoint = polarToCartesian(\n        center.x,\n        center.y,\n        radius + (labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0)),\n        angle\n      );\n      // G2 \n      // path.push('Q', `${breakPoint.x}`, `${breakPoint.y}`, `${endPoint.x}`, `${endPoint.y}`);\n      const xSign = startPoint.x < center.x ? 1 : -1;\n      // step1: \n      path.push(`M ${endPoint.x} ${endPoint.y}`);\n      const slope1 = (startPoint.y - center.y) / (startPoint.x - center.x);\n      const slope2 = (endPoint.y - center.y) / (endPoint.x - center.x);\n      if (Math.abs(slope1 - slope2) > Math.pow(Math.E, -16)) {\n        // step2:  curve line ( & , , )\n        path.push(\n          ...[\n            'C',\n            endPoint.x + xSign * 4,\n            endPoint.y,\n            2 * breakPoint.x - startPoint.x,\n            2 * breakPoint.y - startPoint.y,\n            startPoint.x,\n            startPoint.y,\n          ]\n        );\n      }\n      // step3: \n      path.push(`L ${startPoint.x} ${startPoint.y}`);\n    }\n    item.labelLine.path = path.join(' ');\n  }\n}\n\n/**\n *  outer-label ,  type = pie  label offset > 0 \n */\nexport function pieOuterLabelLayout(\n  originalItems: PolarLabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox\n) {\n  const items = filter(originalItems, (item) => !isNil(item));\n  /**  */\n  const coordinate = labels[0] && labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  /** label shapes */\n  const labelsMap: Record<string /** id */, IGroup> = {};\n  for (const labelShape of labels) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  // note labelHeight  label \n  const labelHeight: number = get(items[0], 'labelHeight', 14);\n  const labelOffset: number = get(items[0], 'offset', 0);\n\n  if (labelOffset <= 0) {\n    return;\n  }\n\n  const LEFT_HALF_KEY = 'left';\n  const RIGHT_HALF_KEY = 'right';\n  // step 1: separate labels\n  const separateLabels = groupBy(items, (item) => (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY));\n\n  const { start, end } = coordinate;\n  // step2: calculate totalHeight\n  const totalHeight = Math.min((radius + labelOffset + labelHeight) * 2, coordinate.getHeight());\n  const totalR = totalHeight / 2;\n\n  /** labels () */\n  const labelsContainerRange = {\n    minX: start.x,\n    maxX: end.x,\n    minY: center.y - totalR,\n    maxY: center.y + totalR,\n  };\n\n  // step 3: antiCollision\n  each(separateLabels, (half, key) => {\n    const maxLabelsCountForOneSide = Math.floor(totalHeight / labelHeight);\n    if (half.length > maxLabelsCountForOneSide) {\n      half.sort((a, b) => {\n        // sort by percentage DESC\n        return b.percent - a.percent;\n      });\n\n      each(half, (labelItem: PolarLabelItem, idx) => {\n        if (idx + 1 > maxLabelsCountForOneSide) {\n          labelsMap[labelItem.id].set('visible', false);\n          labelItem.invisible = true;\n        }\n      });\n    }\n    antiCollision(half, labelHeight, labelsContainerRange);\n  });\n\n  each(separateLabels, (half: PolarLabelItem[], key: string) => {\n    each(half, (item: PolarLabelItem) => {\n      const isRight = key === RIGHT_HALF_KEY;\n      const labelShape = labelsMap[item.id];\n\n      // because group could not effect content-shape, should set content-shape position manually\n      const content = labelShape.getChildByIndex(0) as IElement;\n\n      // textShape \n      if (content) {\n        const r = radius + labelOffset;\n        // (x - cx)^2 + (y - cy)^2 = totalR^2\n        const dy = item.y - center.y;\n\n        const rPow2 = Math.pow(r, 2);\n        const dyPow2 = Math.pow(dy, 2);\n        const dxPow2 = rPow2 - dyPow2 > 0 ? rPow2 - dyPow2 : 0;\n        const dx = Math.sqrt(dxPow2);\n\n        const dx_offset = Math.abs(Math.cos(item.angle) * r);\n        if (!isRight) {\n          // left\n          item.x = center.x - Math.max(dx, dx_offset);\n        } else {\n          // right\n          item.x = center.x + Math.max(dx, dx_offset);\n        }\n      }\n\n      // adjust labelShape\n      if (content) {\n        content.attr('y', item.y);\n        content.attr('x', item.x);\n      }\n\n      drawLabelline(item, coordinate);\n    });\n  });\n}\n","import { BBox, IGroup, IShape } from '@antv/g-base';\nimport { each, get, isNil, deepMix, groupBy } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { LabelItem, PolarLabelItem } from '../../interface';\nimport { antiCollision } from './util';\nimport { translate } from '../../../../util/transform';\nimport { Coordinate } from '@antv/coord';\n\n/** ,  */\nconst INFLECTION_OFFSET = 4;\n/** , distance between label and edge: offsetX */\nconst LABEL_OFFSET_X = 4;\n/**  */\nconst LABEL_TEXT_LINE_OFFSET = 4;\n\nfunction drawLabelline(item: PolarLabelItem, coordinate: Coordinate, inRight: boolean) {\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  const startPoint = {\n    x: item.x - (inRight ? LABEL_TEXT_LINE_OFFSET : -LABEL_TEXT_LINE_OFFSET),\n    y: item.y,\n  };\n  const inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n  const p1 = { x: startPoint.x, y: startPoint.y };\n  const p2 = { x: inflectionPoint.x, y: inflectionPoint.y };\n\n  const endPoint = polarToCartesian(center.x, center.y, radius, item.angle);\n  let path = '';\n\n  // \n  if (startPoint.y !== inflectionPoint.y) {\n    const offset = inRight ? 4 : -4;\n    p1.y = startPoint.y;\n\n    /**  */\n    if (item.angle < 0 && item.angle >= -Math.PI / 2) {\n      p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y < inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.max(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle > 0 && item.angle < Math.PI / 2) {\n      p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y > inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.max(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle > Math.PI / 2) {\n      p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y > inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.min(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle < -Math.PI / 2) {\n      p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y < inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.min(p2.x, p1.x - offset);\n      }\n    }\n  }\n\n  path = [\n    `M ${startPoint.x},${startPoint.y}`,\n    `L ${p1.x},${p1.y}`,\n    `L ${p2.x},${p2.y}`,\n    `L ${inflectionPoint.x},${inflectionPoint.y}`,\n    `L ${endPoint.x},${endPoint.y}`,\n  ].join(' ');\n  item.labelLine = deepMix({}, item.labelLine, { path });\n}\n\n/**\n *  spider ,  pie-spider \n * region  labelsRenderer ()\n */\nexport function pieSpiderLabelLayout(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  /**  */\n  const coordinate = labels[0] && labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  /** label shapes */\n  const labelsMap: Record<string /** id */, IGroup> = {};\n  for (const labelShape of labels) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  const labelHeight: number = get(items[0], 'labelHeight', 14);\n  const labelOffset: number = Math.max(get(items[0], 'offset', 0), INFLECTION_OFFSET);\n\n  // step 1: adjust items to spider\n  each(items, (item) => {\n    if (!item) return;\n    const label = get(labelsMap, [item.id]);\n    if (!label) return;\n\n    const inRight = item.x > center.x || (item.x === center.x && item.y > center.y);\n    const offsetX = !isNil(item.offsetX) ? item.offsetX : LABEL_OFFSET_X;\n    const inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n\n    const totalOffset = labelOffset + offsetX;\n    item.x = center.x + (inRight ? 1 : -1) * (radius + totalOffset);\n    item.y = inflectionPoint.y;\n  });\n\n  const { start, end } = coordinate;\n  const LEFT_HALF_KEY = 'left';\n  const RIGHT_HALF_KEY = 'right';\n  // step 1: separate labels\n  const separateLabels = groupBy(items, (item) => (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY));\n\n  // step2: calculate totalHeight\n  let totalHeight = (radius + labelOffset) * 2 + labelHeight;\n\n  each(separateLabels, (half: PolarLabelItem[]) => {\n    const halfHeight = half.length * labelHeight;\n    if (halfHeight > totalHeight) {\n      totalHeight = Math.min(halfHeight, Math.abs(start.y - end.y));\n    }\n  });\n\n  /** labels () */\n  const labelsContainerRange = {\n    minX: start.x,\n    maxX: end.x,\n    minY: center.y - totalHeight / 2,\n    maxY: center.y + totalHeight / 2,\n  };\n\n  // step 3: antiCollision\n  each(separateLabels, (half, key) => {\n    const maxLabelsCountForOneSide = totalHeight / labelHeight;\n    if (half.length > maxLabelsCountForOneSide) {\n      half.sort((a, b) => {\n        // sort by percentage DESC\n        return b.percent - a.percent;\n      });\n\n      each(half, (labelItem: PolarLabelItem, idx) => {\n        if (idx > maxLabelsCountForOneSide) {\n          labelsMap[labelItem.id].set('visible', false);\n          labelItem.invisible = true;\n        }\n      });\n    }\n    antiCollision(half, labelHeight, labelsContainerRange);\n  });\n\n  const startY = labelsContainerRange.minY;\n  const endY = labelsContainerRange.maxY;\n\n  // step4: applyTo labels and adjust labelLines\n  each(separateLabels, (half, key) => {\n    const inRight = key === RIGHT_HALF_KEY;\n\n    each(half, (item) => {\n      const label: IGroup = get(labelsMap, item && [item.id]);\n      if (!label) {\n        return;\n      }\n      // out of range, hidden\n      if (item.y < startY || item.y > endY) {\n        label.set('visible', false);\n        return;\n      }\n\n      const labelContent = label.getChildByIndex(0);\n      const box = labelContent.getCanvasBBox();\n      const originalPos = { x: inRight ? box.x : box.maxX, y: box.y + box.height / 2 /** vertical-align: middle */ };\n\n      translate(labelContent as any, item.x - originalPos.x /**  pos.x  item.x */, item.y - originalPos.y);\n\n      // adjust labelLines\n      if (item.labelLine) {\n        drawLabelline(item, coordinate, inRight);\n      }\n    });\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { translate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n *  label  label \n * @param labels\n * @param cfg\n */\nexport function limitInCanvas(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label: IGroup) => {\n    const { minX: regionMinX, minY: regionMinY, maxX: regionMaxX, maxY: regionMaxY } = region;\n    const { minX, minY, maxX, maxY, x, y, width, height } = label.getCanvasBBox();\n\n    let finalX = x;\n    let finalY = y;\n    if (minX < regionMinX || maxX < regionMinX) {\n      // \n      finalX = regionMinX;\n    }\n    if (minY < regionMinY || maxY < regionMinY) {\n      // \n      finalY = regionMinY;\n    }\n\n    if (minX > regionMaxX) {\n      // \n      finalX = regionMaxX - width;\n    } else if (maxX > regionMaxX) {\n      // \n      finalX = finalX - (maxX - regionMaxX);\n    }\n\n    if (minY > regionMaxY) {\n      // \n      finalY = regionMaxY - height;\n    } else if (maxY > regionMaxY) {\n      // \n      finalY = finalY - (maxY - regionMaxY);\n    }\n\n    if (finalX !== x || finalY !== y) {\n      translate(label, finalX - x, finalY - y);\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n *  label  bbox  label  shape  bbox \n */\nexport function limitInShape(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label, index) => {\n    const labelBBox = label.getCanvasBBox(); // \n    const shapeBBox = shapes[index].getBBox();\n    if (\n      labelBBox.minX < shapeBBox.minX ||\n      labelBBox.minY < shapeBBox.minY ||\n      labelBBox.maxX > shapeBBox.maxX ||\n      labelBBox.maxY > shapeBBox.maxY\n    ) {\n      label.remove(true); // \n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\nconst MAX_TIMES = 100;\n\n/** @ignore */\ninterface Bitmap {\n  [key: number]: {\n    [key: number]: boolean;\n  };\n}\n\n/** @ignore */\ninterface GreedyCfg {\n  readonly xGap?: number;\n  readonly yGap?: number;\n}\n\n/**\n * @ignore\n * Greedy \n */\nclass Greedy {\n  public readonly xGap: number;\n  /** optimizing for text overlapping detection: use a min text height as gap */\n  public readonly yGap: number;\n\n  private bitmap: Bitmap = {};\n\n  constructor(cfg: GreedyCfg = {}) {\n    const { xGap = 1, yGap = 8 } = cfg;\n    this.xGap = xGap;\n    this.yGap = yGap;\n  }\n\n  public hasGap(bbox: BBox): boolean {\n    let hasGap = true;\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n        continue;\n      }\n      if (i === minX || i === maxX) {\n        for (let j = minY; j <= maxY; j++) {\n          if (bitmap[i][j]) {\n            hasGap = false;\n            break;\n          }\n        }\n      } else {\n        if (bitmap[i][minY] || bitmap[i][maxY]) {\n          hasGap = false;\n          break;\n        }\n      }\n    }\n    return hasGap;\n  }\n\n  public fillGap(bbox: BBox): void {\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    // filling grid\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n      }\n    }\n    for (let i = minX; i <= maxX; i += this.xGap) {\n      for (let j = minY; j <= maxY; j += this.yGap) {\n        bitmap[i][j] = true;\n      }\n      bitmap[i][maxY] = true;\n    }\n\n    // filling y edges\n    if (this.yGap !== 1) {\n      for (let i = minY; i <= maxY; i += 1) {\n        bitmap[minX][i] = true;\n        bitmap[maxX][i] = true;\n      }\n    }\n\n    // filling x edges\n    if (this.xGap !== 1) {\n      for (let i = minX; i <= maxX; i += 1) {\n        bitmap[i][minY] = true;\n        bitmap[i][maxY] = true;\n      }\n    }\n  }\n\n  public destroy(): void {\n    this.bitmap = {};\n  }\n}\n\nfunction spiralFill(label: IShape, greedy: Greedy, maxTimes: number = MAX_TIMES) {\n  const dt = -1;\n  const { x, y } = label.attr();\n  const bbox = label.getCanvasBBox();\n  const maxDelta = Math.sqrt(bbox.width * bbox.width + bbox.height * bbox.height);\n  let dxdy;\n  let t = -dt;\n  let dx = 0;\n  let dy = 0;\n  const f = (param: number) => {\n    const nt = param * 0.1;\n    return [nt * Math.cos(nt), nt * Math.sin(nt)];\n  };\n\n  if (greedy.hasGap(bbox)) {\n    greedy.fillGap(bbox);\n    return true;\n  }\n  let canFill = false;\n  let times = 0;\n  const accessedCache = {};\n  while (Math.min(Math.abs(dx), Math.abs(dy)) < maxDelta && times < maxTimes) {\n    dxdy = f((t += dt));\n    dx = ~~dxdy[0];\n    dy = ~~dxdy[1];\n    if ((!dx && !dy) || accessedCache[`${dx}-${dy}`]) {\n      continue;\n    }\n    label.attr({ x: x + dx, y: y + dy });\n    if (dx + dy < 0) {\n      label.attr('textAlign', 'right');\n    }\n    times++;\n    if (greedy.hasGap(label.getCanvasBBox())) {\n      greedy.fillGap(label.getCanvasBBox());\n      canFill = true;\n      accessedCache[`${dx}-${dy}`] = true;\n      break;\n    }\n  }\n  return canFill;\n}\n\n/*\n *  label\n *                5\n *        ------------------\n *        |    1   |   0   |\n *    8   4   7\n *        |    2   |   3   |\n *        \n *                 6\n */\nfunction adjustLabelPosition(label: IShape, x: number, y: number, index: number) {\n  const { width, height } = label.getCanvasBBox();\n  const attrs = {\n    x,\n    y,\n    textAlign: 'center',\n  };\n  switch (index) {\n    case 0:\n      attrs.y -= height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 1:\n      attrs.y -= height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 2:\n      attrs.y += height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 3:\n      attrs.y += height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 5:\n      attrs.y -= height * 2 + 2;\n      break;\n    case 6:\n      attrs.y += height * 2 + 2;\n      break;\n    case 7:\n      attrs.x += width + 1;\n      attrs.textAlign = 'left';\n      break;\n    case 8:\n      attrs.x -= width + 1;\n      attrs.textAlign = 'right';\n      break;\n    default:\n      break;\n  }\n  label.attr(attrs);\n  return label.getCanvasBBox();\n}\n\n/**\n * @ignore\n * label  label  label \n *  'overlap'  label \n * @param labels  label \n */\nexport function fixedOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    if (!spiralFill(labelShape, greedy)) {\n      label.remove(true);\n    }\n  });\n  greedy.destroy();\n}\n\n/**\n * @ignore\n * label  label   label  label **** label\n * @param labels  label \n */\nexport function overlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    const { x, y } = labelShape.attr();\n    let canFill = false;\n    for (let i = 0; i <= 8; i++) {\n      const bbox = adjustLabelPosition(labelShape, x, y, i);\n      if (greedy.hasGap(bbox)) {\n        greedy.fillGap(bbox);\n        canFill = true;\n        break;\n      }\n    }\n    if (!canFill) {\n      label.remove(true);\n    }\n  });\n\n  greedy.destroy();\n}\n","import { isNumber } from '@antv/util';\nimport { Point } from '../dependents';\n\ntype Vec2 = [number, number];\n\ntype Item = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  rotation?: number;\n  visible?: boolean;\n};\n/**\n * \n */\ntype Projection = { min: number; max: number };\n\nfunction dot(a, b) {\n  return (a[0] || 0) * (b[0] || 0) + (a[1] || 0) * (b[1] || 0) + (a[2] || 0) * (b[2] || 0);\n}\n\n/**\n * @private\n * 1. \n */\nfunction getAxes(points: Point[] /**  */): Vec2[] {\n  //   , \n  if (points.length > 4) {\n    return [];\n  }\n  // \n  const vector = (start: Point, end: Point): Vec2 => {\n    return [end.x - start.x, end.y - start.y];\n  };\n\n  //   2 : A -> B, B -> C\n  const AB = vector(points[0], points[1]);\n  const BC = vector(points[1], points[2]);\n\n  return [AB, BC];\n}\n\n/**\n * @private\n * \n * \n */\nfunction rotateAtPoint(point: Point, deg = 0, origin = { x: 0, y: 0 }): Point {\n  const { x, y } = point;\n  return {\n    x: (x - origin.x) * Math.cos(-deg) + (y - origin.y) * Math.sin(-deg) + origin.x,\n    y: (origin.x - x) * Math.sin(-deg) + (y - origin.y) * Math.cos(-deg) + origin.y,\n  };\n}\n\n/**\n * @private\n * \n *\n * @param {Object} box\n */\nfunction getRectPoints(box: Item): Point[] {\n  const points = [\n    { x: box.x, y: box.y },\n    { x: box.x + box.width, y: box.y },\n    { x: box.x + box.width, y: box.y + box.height },\n    { x: box.x, y: box.y + box.height },\n  ];\n\n  const rotation = box.rotation;\n  if (rotation) {\n    return [\n      rotateAtPoint(points[0], rotation, points[0]),\n      rotateAtPoint(points[1], rotation, points[0]),\n      rotateAtPoint(points[2], rotation, points[0]),\n      rotateAtPoint(points[3], rotation, points[0]),\n    ];\n  }\n\n  return points;\n}\n\n/**\n * @private\n * 2. \n *\n * \n * 1 x1 * x2 + y1 * y2\n */\nfunction getProjection(points: Point[] /**  */, axis: Vec2): Projection {\n  // \n  if (points.length > 4) {\n    return { min: 0, max: 0 };\n  }\n\n  const scalars = [];\n  points.forEach((point) => {\n    scalars.push(dot([point.x, point.y], axis));\n  });\n\n  return { min: Math.min(...scalars), max: Math.max(...scalars) };\n}\n\nfunction isProjectionOverlap(projection1: Projection, projection2: Projection): boolean {\n  return projection1.max > projection2.min && projection1.min < projection2.max;\n}\n\nfunction isValidNumber(d: number) {\n  return typeof d === 'number' && !Number.isNaN(d) && d !== Infinity && d !== -Infinity;\n}\n\nfunction isValidBox(box: Item) {\n  return ['x', 'y', 'width', 'height'].every(attr => isValidNumber(box[attr]))\n}\n\n/**\n * \n */\nexport function isIntersectRect(box1: Item, box2: Item, margin: number = 0): boolean {\n  return !(\n    box2.x > box1.x + box1.width + margin ||\n    box2.x + box2.width < box1.x - margin ||\n    box2.y > box1.y + box1.height + margin ||\n    box2.y + box2.height < box1.y - margin\n  );\n}\n\n/**\n * detect whether two shape is intersected, useful when shape is been rotated\n * , \n *\n * - : \n */\nexport function intersect(box1: Item, box2: Item, margin: number = 0) {\n  //  box  box\n  if (!isValidBox(box1) || !isValidBox(box2)) return false;\n\n  // \n  if (!box1.rotation && !box2.rotation) {\n    return isIntersectRect(box1, box2, margin);\n  }\n\n  //  4 \n  const rect1Points = getRectPoints(box1);\n  const rect2Points = getRectPoints(box2);\n\n  // \n  const axes = getAxes(rect1Points).concat(getAxes(rect2Points));\n\n  for (let i = 0; i < axes.length; i++) {\n    const axis = axes[i];\n    const projection1 = getProjection(rect1Points, axis);\n    const projection2 = getProjection(rect2Points, axis);\n\n    // \n    if (!isProjectionOverlap(projection1, projection2)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","export function createWorker(f: any) {\n  let blob;\n  try {\n    blob = new Blob([f.toString()], { type: 'application/javascript' });\n  } catch (e) {\n    // @ts-ignore\n    blob = new window.BlobBuilder();\n    blob.append(f.toString());\n    blob = blob.getBlob();\n  }\n\n  return new Worker(URL.createObjectURL(blob));\n}\n","const onmessage = function (e) {\n  type Item = {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n    rotation?: number;\n    visible?: boolean;\n  };\n\n  // Copy from src/util/collision-detect.ts\n  function generateUtils() {\n    type Vec2 = [number, number];\n\n    type Point = { x: number; y: number };\n\n    /**\n     * \n     */\n    type Projection = { min: number; max: number };\n\n    function dot(a, b) {\n      return (a[0] || 0) * (b[0] || 0) + (a[1] || 0) * (b[1] || 0) + (a[2] || 0) * (b[2] || 0);\n    }\n    /**\n     * 1. \n     */\n    function getAxes(points: Point[] /**  */): Vec2[] {\n      //   , \n      if (points.length > 4) {\n        return [];\n      }\n      // \n      const vector = (start: Point, end: Point): Vec2 => {\n        return [end.x - start.x, end.y - start.y];\n      };\n\n      //   2 : A -> B, B -> C\n      const AB = vector(points[0], points[1]);\n      const BC = vector(points[1], points[2]);\n\n      return [AB, BC];\n    }\n\n    /**\n     * \n     * \n     */\n    function rotateAtPoint(point: Point, deg = 0, origin = { x: 0, y: 0 }): Point {\n      const { x, y } = point;\n      return {\n        x: (x - origin.x) * Math.cos(-deg) + (y - origin.y) * Math.sin(-deg) + origin.x,\n        y: (origin.x - x) * Math.sin(-deg) + (y - origin.y) * Math.cos(-deg) + origin.y,\n      };\n    }\n\n    /**\n     * @private\n     * \n     *\n     * @param {Object} box\n     */\n    function getRectPoints(box: Item): Point[] {\n      const points = [\n        { x: box.x, y: box.y },\n        { x: box.x + box.width, y: box.y },\n        { x: box.x + box.width, y: box.y + box.height },\n        { x: box.x, y: box.y + box.height },\n      ];\n\n      const rotation = box.rotation;\n      if (rotation) {\n        return [\n          rotateAtPoint(points[0], rotation, points[0]),\n          rotateAtPoint(points[1], rotation, points[0]),\n          rotateAtPoint(points[2], rotation, points[0]),\n          rotateAtPoint(points[3], rotation, points[0]),\n        ];\n      }\n\n      return points;\n    }\n\n    /**\n     * 2. \n     *\n     * \n     * 1 x1 * x2 + y1 * y2\n     */\n    function getProjection(points: Point[] /**  */, axis: Vec2): Projection {\n      // \n      if (points.length > 4) {\n        return { min: 0, max: 0 };\n      }\n\n      const scalars = [];\n      points.forEach((point) => {\n        scalars.push(dot([point.x, point.y], axis));\n      });\n\n      return { min: Math.min.apply(null, scalars), max: Math.max.apply(null, scalars) };\n    }\n\n    function isProjectionOverlap(projection1: Projection, projection2: Projection): boolean {\n      return projection1.max > projection2.min && projection1.min < projection2.max;\n    }\n\n    function isValidNumber(d: number) {\n      return typeof d === 'number' && !Number.isNaN(d) && d !== Infinity && d !== -Infinity;\n    }\n\n    function isValidBox(box: Item) {\n      return ['x', 'y', 'width', 'height'].every(attr => isValidNumber(box[attr]))\n    }\n\n    function isIntersectRect(box1: Item, box2: Item, margin: number = 0): boolean {\n      return !(\n        box2.x > box1.x + box1.width + margin ||\n        box2.x + box2.width < box1.x - margin ||\n        box2.y > box1.y + box1.height + margin ||\n        box2.y + box2.height < box1.y - margin\n      );\n    }\n    function intersect(box1: Item, box2: Item, margin: number = 0) {\n      if (!isValidBox(box1) || !isValidBox(box2)) return false;\n\n      // Quick detect, if rotation is null or zero.\n      if (!box1.rotation && !box2.rotation) {\n        return isIntersectRect(box1, box2, margin);\n      }\n\n      //  4 \n      const rect1Points = getRectPoints(box1);\n      const rect2Points = getRectPoints(box2);\n\n      // \n      const axes = getAxes(rect1Points).concat(getAxes(rect2Points));\n\n      for (let i = 0; i < axes.length; i++) {\n        const axis = axes[i];\n        const projection1 = getProjection(rect1Points, axis);\n        const projection2 = getProjection(rect2Points, axis);\n\n        if (!isProjectionOverlap(projection1, projection2)) return false;\n      }\n\n      return true;\n    }\n    return { intersect }\n  }\n  const { intersect } = generateUtils();\n\n  // Label layouts.\n  function hideOverlap(items: Item[]) {\n    const boxes = items.slice();\n    for (let i = 0; i < boxes.length; i++) {\n      const box1 = boxes[i];\n      if (box1.visible) {\n        for (let j = i + 1; j < boxes.length; j++) {\n          const box2 = boxes[j];\n          if (box1 !== box2 && box2.visible) {\n            if (intersect(box1, box2)) {\n              box2.visible = false;\n            }\n          }\n        }\n      }\n    }\n    return boxes;\n  }\n\n  const methods = {\n    'hide-overlap': hideOverlap,\n  }\n\n  // Main\n  try {\n    const eventData = JSON.parse(e.data);\n    if (!eventData || !eventData.type || !methods[eventData.type]) return;\n\n    const { type, items } = eventData;\n    const result = methods[type](items);\n    self.postMessage(result);\n  } catch (e) {\n    throw e;\n  }\n}\n\nconst code = `\n   self.onmessage = ${onmessage.toString()}\n`\nexport { code };\n","import { get, each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { intersect } from '../../../util/collision-detect';\nimport { LabelItem } from '../interface';\nimport { getLabelBackgroundInfo } from '../util';\nimport { createWorker } from '../util/createWorker';\nimport { code as layoutCode } from './worker/hide-overlap';\n\ntype Item = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  rotation?: number;\n  visible?: boolean;\n};\n\nconst layout = (items: Item[]): Item[] => {\n  const boxes = items.slice();\n  for (let i = 0; i < boxes.length; i++) {\n    const box1 = boxes[i];\n    if (box1.visible) {\n      for (let j = i + 1; j < boxes.length; j++) {\n        const box2 = boxes[j];\n        if (box1 !== box2 && box2.visible) {\n          if (intersect(box1, box2)) {\n            box2.visible = false;\n          }\n        }\n      }\n    }\n  }\n  return boxes;\n}\n\nconst cache: Map<string, any> = new Map();\nconst worker = createWorker(layoutCode);\n\n/**\n * label  label  label \n *  'overlap'  label \n * @param labels  label \n */\nexport function hideOverlap(labelItems: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  // todo  label rank\n  return new Promise((resolve) => {\n    const boxes = labels.map((d, idx) => ({\n      ...getLabelBackgroundInfo(d, labelItems[idx], get(labelItems[idx], 'background.padding')),\n      visible: true,\n    }));\n    const memoKey = JSON.stringify(boxes);\n    const cb = (items: Item[]) => {\n      cache.set(memoKey, items);\n      each(items, ({ visible }, idx) => {\n        const labelShape = labels[idx];\n        if (visible) {\n          labelShape?.show()\n        } else {\n          labelShape?.hide();\n        }\n      });\n      return resolve(items);\n    }\n    if (cache.get(memoKey)) {\n      cb(cache.get(memoKey))\n    } else if (worker) {\n      // Do layout in worker.\n      try {\n        worker.postMessage(JSON.stringify({ type: 'hide-overlap', items: boxes }));\n        worker.onmessage = (e) => cb(Array.isArray(e.data) ? e.data : []);\n        worker.onmessageerror = (e) => {\n          console.warn('[AntV G2] Web worker is not available');\n          // Normal layout in main thread.\n          cb(layout(boxes));\n        };\n      } catch (e) {\n        console.error(e);\n        cb(layout(boxes));\n      }\n    } else {\n      // Normal layout in main thread.\n      cb(layout(boxes));\n    }\n  });\n}\n","let ctx: CanvasRenderingContext2D;\n\n/**\n *  canvas context\n */\nexport function getCanvasContext() {\n  if (!ctx) {\n    ctx = document.createElement('canvas').getContext('2d');\n  }\n\n  return ctx;\n}\n","import { IGroup, IShape } from '../../../dependents';\nimport { BBox } from '../../../util/bbox';\nimport { isContrastColorWhite } from '../../../util/color';\nimport Element from '../../element';\nimport { LabelItem } from '../interface';\n\nexport function adjustColor(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0].get('element');\n  const theme = element.geometry.theme;\n  const { fillColorLight, fillColorDark } = theme.labels || {};\n\n  shapes.forEach((shape: IShape | IGroup, index: number) => {\n    const label = labels[index];\n    const textShape = label.find((el) => el.get('type') === 'text');\n    const shapeBBox = BBox.fromObject(shape.getBBox());\n    const textBBox = BBox.fromObject(textShape.getCanvasBBox());\n    const overflow = !shapeBBox.contains(textBBox);\n\n    const bgColor = shape.attr('fill');\n    const fillWhite = isContrastColorWhite(bgColor);\n\n    if (!overflow) {\n      if (fillWhite) {\n        if (fillColorLight) {\n          textShape.attr('fill', fillColorLight);\n        }\n      } else {\n        if (fillColorDark) {\n          textShape.attr('fill', fillColorDark);\n        }\n      }\n    } else {\n      //  overflowLabel \n      textShape.attr(theme.overflowLabels.style);\n    }\n  });\n}\n","import { IElement, IGroup, IShape } from '../../../../dependents';\nimport { BBox } from '../../../../util/bbox';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\nfunction shouldInShapeSingle(geometry: Geometry, label: IGroup, shape: IElement): boolean {\n  const coordinate = geometry.coordinate;\n  const textShape = findLabelTextShape(label);\n  const textBBox = BBox.fromObject(textShape.getCanvasBBox());\n  const shapeBBox = BBox.fromObject(shape.getBBox());\n\n  return coordinate.isTransposed ? shapeBBox.height >= textBBox.height : shapeBBox.width >= textBBox.width;\n}\n\nfunction shouldInShape(geometry: Geometry, labels: IGroup[], shapes: IShape[] | IGroup[]): boolean {\n  const isStack = !!geometry.getAdjust('stack');\n\n  return (\n    isStack ||\n    labels.every((label: IGroup, index: number) => {\n      const shape = shapes[index];\n      return shouldInShapeSingle(geometry, label, shape);\n    })\n  );\n}\n\nfunction moveInShape(geometry: Geometry, label: IGroup, shape: IElement): void {\n  const coordinate = geometry.coordinate;\n  const shapeBBox = BBox.fromObject(shape.getBBox());\n  const textShape = findLabelTextShape(label);\n\n  if (coordinate.isTransposed) {\n    // \n    textShape.attr({\n      x: shapeBBox.minX + shapeBBox.width / 2,\n      textAlign: 'center',\n    });\n  } else {\n    // \n    textShape.attr({\n      y: shapeBBox.minY + shapeBBox.height / 2,\n      textBaseline: 'middle',\n    });\n  }\n}\n\n/**\n *  interval geometry \n * @param items\n * @param labels\n * @param shapes\n */\nexport function intervalAdjustPosition(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'interval') {\n    return;\n  }\n\n  const inShape = shouldInShape(geometry, labels, shapes);\n  if (inShape) {\n    shapes.forEach((shape: IShape | IGroup, index: number) => {\n      const label = labels[index];\n      moveInShape(geometry, label, shape);\n    });\n  }\n}\n","import { IGroup, IShape } from '../../../../dependents';\nimport { each, groupBy, uniq, map, size, filter } from '@antv/util';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { checkShapeOverlap } from '../../util';\n\nfunction filterLabel(labels: IShape[] | IGroup[]) {\n  const MAX_CNT = 500; //  500 \n  const filteredLabels = [];\n  const pages = Math.max(Math.floor(labels.length / MAX_CNT), 1);\n  each(labels, (label, idx) => {\n    if (idx % pages === 0) {\n      filteredLabels.push(label);\n    } else {\n      label.set('visible', false);\n    }\n  });\n\n  return filteredLabels;\n}\n\n/**\n *  interval geometry \n * @param items\n * @param labels\n * @param shapes\n */\nexport function intervalHideOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'interval') {\n    return;\n  }\n\n  const filteredLabels = filterLabel(labels);\n  const [xField] = geometry.getXYFields();\n  const dones: IShape[] = [];\n  const todo: IShape[] = [];\n  const groupedLabels = groupBy(filteredLabels, (label) => label.get('data')[xField]);\n  const xValues = uniq(map(filteredLabels, (label: IShape) => label.get('data')[xField]));\n  let xValue;\n\n  filteredLabels.forEach((label) => {\n    label.set('visible', true);\n  });\n\n  const addCurrentGroup = (curItems: IShape[]) => {\n    if (curItems) {\n      if (curItems.length) {\n        // \n        todo.push(curItems.pop());\n      }\n      todo.push(...curItems);\n    }\n  };\n\n  if (size(xValues) > 0) {\n    // \n    xValue = xValues.shift();\n    addCurrentGroup(groupedLabels[xValue]);\n  }\n  if (size(xValues) > 0) {\n    // \n    xValue = xValues.pop();\n    addCurrentGroup(groupedLabels[xValue]);\n  }\n  each(xValues.reverse(), (val) => {\n    // \n    addCurrentGroup(groupedLabels[val]);\n  });\n\n  while (todo.length > 0) {\n    const cur = todo.shift();\n    if (cur.get('visible')) {\n      if (checkShapeOverlap(cur, dones)) {\n        cur.set('visible', false);\n      } else {\n        dones.push(cur);\n      }\n    }\n  }\n}\n","import { groupBy, keys, map } from '@antv/util';\nimport { IElement, IGroup, IShape, BBox } from '../../../../dependents';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\n/**\n * point-adjust-position layout \n */\nexport interface PointAdjustPositionLayoutCfg {\n  offset?: number;\n}\n\n/**\n * ( xField ) Label ...\n * @param geometry\n * @param labels\n */\nfunction sortLabels(geometry: Geometry, labels: IGroup[]) {\n  const yField = geometry.getXYFields()[1];\n  const result: IGroup[] = [];\n  const sortedLabels = labels.sort((left, right) => left.get('data')[yField] - left.get('data')[yField]);\n\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.shift());\n  }\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.pop());\n  }\n  result.push(...sortedLabels);\n\n  return result;\n}\n\nfunction hasSome(dones: IGroup[], current: IGroup, compare: (left: IGroup, right: IGroup) => boolean): boolean {\n  return dones.some((done) => compare(done, current));\n}\n\n/**\n * \n */\nfunction getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**\n *  Label \n * @param dones\n * @param current\n */\nfunction checkShapeOverlap(dones: IGroup[], current: IGroup): boolean {\n  return hasSome(dones, current, (left, right) => {\n    const leftText = findLabelTextShape(left);\n    const rightText = findLabelTextShape(right);\n\n    return getOverlapArea(leftText.getCanvasBBox(), rightText.getCanvasBBox(), 2) > 0;\n  });\n}\n/**\n *  point geometry \n * @param items\n * @param labels\n * @param shapes\n * @param region\n * @param cfg\n */\nexport function pointAdjustPosition(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg: PointAdjustPositionLayoutCfg\n): void {\n  if (shapes.length === 0) {\n    return;\n  }\n\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'point') {\n    return;\n  }\n  const [xField, yField] = geometry.getXYFields();\n  const groupedLabels = groupBy(labels, (label) => label.get('data')[xField]);\n  const dones: IGroup[] = [];\n  const offset = (cfg && cfg.offset) || items[0]?.offset || 12;\n\n  map(keys(groupedLabels).reverse(), (xValue) => {\n    const sortedCollections = sortLabels(geometry, groupedLabels[xValue]);\n    while (sortedCollections.length) {\n      const current = sortedCollections.shift();\n      const textShape = findLabelTextShape(current);\n      if (\n        hasSome(\n          dones,\n          current,\n          (left, right) =>\n            left.get('data')[xField] === right.get('data')[xField] &&\n            left.get('data')[yField] === right.get('data')[yField]\n        )\n      ) {\n        // \n        textShape.set('visible', false);\n        continue;\n      }\n      const upFail = checkShapeOverlap(dones, current);\n      let downFail: boolean = false;\n      if (upFail) {\n        textShape.attr('y', textShape.attr('y') + 2 * offset);\n        downFail = checkShapeOverlap(dones, current);\n      }\n      if (downFail) {\n        textShape.set('visible', false);\n        continue;\n      }\n      dones.push(current);\n    }\n  });\n}\n","import { groupBy, keys, map } from '@antv/util';\nimport { IGroup, IShape, BBox } from '../../../../dependents';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\n/**\n * point-adjust-position layout \n */\nexport interface PointAdjustPositionLayoutCfg {\n  offset?: number;\n}\n\n/**\n * ( xField ) Label ...\n * @param geometry\n * @param labels\n */\nfunction sortLabels(geometry: Geometry, labels: IGroup[]) {\n  const yField = geometry.getXYFields()[1];\n  const result: IGroup[] = [];\n  const sortedLabels = labels.sort((left, right) => left.get('data')[yField] - left.get('data')[yField]);\n\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.shift());\n  }\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.pop());\n  }\n  result.push(...sortedLabels);\n\n  return result;\n}\n\nfunction hasSome(dones: IGroup[], current: IGroup, compare: (left: IGroup, right: IGroup) => boolean): boolean {\n  return dones.some((done) => compare(done, current));\n}\n\n/**\n * \n */\nfunction getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**\n *  Label \n * @param dones\n * @param current\n */\nfunction checkShapeOverlap(dones: IGroup[], current: IGroup): boolean {\n  return hasSome(dones, current, (left, right) => {\n    const leftText = findLabelTextShape(left);\n    const rightText = findLabelTextShape(right);\n\n    return getOverlapArea(leftText.getCanvasBBox(), rightText.getCanvasBBox(), 2) > 0;\n  });\n}\n/**\n *  point geometry \n * @param items\n * @param labels\n * @param shapes\n * @param region\n * @param cfg\n */\nexport function pathAdjustPosition(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg: PointAdjustPositionLayoutCfg\n): void {\n  if (shapes.length === 0) {\n    return;\n  }\n\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || ['path', 'line', 'area'].indexOf(geometry.type) < 0) {\n    return;\n  }\n  const [xField, yField] = geometry.getXYFields();\n  const groupedLabels = groupBy(labels, (label) => label.get('data')[xField]);\n  const dones: IGroup[] = [];\n  const offset = (cfg && cfg.offset) || items[0]?.offset || 12;\n\n  map(keys(groupedLabels).reverse(), (xValue) => {\n    const sortedCollections = sortLabels(geometry, groupedLabels[xValue]);\n    while (sortedCollections.length) {\n      const current = sortedCollections.shift();\n      const textShape = findLabelTextShape(current);\n      if (\n        hasSome(\n          dones,\n          current,\n          (left, right) =>\n            left.get('data')[xField] === right.get('data')[xField] &&\n            left.get('data')[yField] === right.get('data')[yField]\n        )\n      ) {\n        // \n        textShape.set('visible', false);\n        continue;\n      }\n      const upFail = checkShapeOverlap(dones, current);\n      let downFail: boolean = false;\n      if (upFail) {\n        textShape.attr('y', textShape.attr('y') + 2 * offset);\n        downFail = checkShapeOverlap(dones, current);\n      }\n      if (downFail) {\n        textShape.set('visible', false);\n        continue;\n      }\n      dones.push(current);\n    }\n  });\n}\n","import { each, pick } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { getCoordinateBBox } from '../../../util/coordinate';\nimport { getEllipsisText } from '../../../util/text';\nimport { translate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/** limitInPlot layout  */\nexport interface LimitInPlotLayoutCfg {\n  /**  Plot  */\n  direction?: ('top' | 'right' | 'bottom' | 'left')[];\n  /**  margin */\n  margin?: number;\n  /**  translate ; ellipsis  text  */\n  action?: 'hide' | 'translate' | 'ellipsis';\n}\n\n/**\n * @ignore\n *  label  Plot  Plot  label \n * @param labels\n * @param cfg\n */\nexport function limitInPlot(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg?: LimitInPlotLayoutCfg\n) {\n  if (labels.length <= 0) {\n    return;\n  }\n  const direction = cfg?.direction || ['top', 'right', 'bottom', 'left'];\n  const action = cfg?.action || 'translate';\n  const margin = cfg?.margin || 0;\n  const coordinate = labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n  const {\n    minX: regionMinX,\n    minY: regionMinY,\n    maxX: regionMaxX,\n    maxY: regionMaxY,\n  } = getCoordinateBBox(coordinate, margin);\n\n  each(labels, (label: IGroup) => {\n    const { minX, minY, maxX, maxY, x, y, width, height } = label.getCanvasBBox();\n\n    let finalX = x;\n    let finalY = y;\n    if (direction.indexOf('left') >= 0 && (minX < regionMinX || maxX < regionMinX)) {\n      // \n      finalX = regionMinX;\n    }\n    if (direction.indexOf('top') >= 0 && (minY < regionMinY || maxY < regionMinY)) {\n      // \n      finalY = regionMinY;\n    }\n\n    if (direction.indexOf('right') >= 0) {\n      if (minX > regionMaxX) {\n        // \n        finalX = regionMaxX - width;\n      } else if (maxX > regionMaxX) {\n        // \n        finalX = finalX - (maxX - regionMaxX);\n      }\n    }\n\n    if (direction.indexOf('bottom') >= 0) {\n      if (minY > regionMaxY) {\n        // \n        finalY = regionMaxY - height;\n      } else if (maxY > regionMaxY) {\n        // \n        finalY = finalY - (maxY - regionMaxY);\n      }\n    }\n\n    if (finalX !== x || finalY !== y) {\n      const translateX = finalX - x;\n      if (action === 'translate') {\n        translate(label, translateX, finalY - y);\n      } else if (action === 'ellipsis') {\n        const textShapes = label.findAll((shape) => shape.get('type') === 'text');\n        textShapes.forEach((textShape) => {\n          const style = pick(textShape.attr(), ['fontSize', 'fontFamily', 'fontWeight', 'fontStyle', 'fontVariant']);\n          const textBox = textShape.getCanvasBBox();\n          const text = getEllipsisText(textShape.attr('text'), textBox.width - Math.abs(translateX), style);\n          textShape.attr('text', text);\n        });\n      } else {\n        label.hide();\n      }\n    }\n  });\n}\n","import { isNil } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n *  shape \n * \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function fadeIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: isNil(shape.attr('fillOpacity')) ? 1 : shape.attr('fillOpacity'),\n    strokeOpacity: isNil(shape.attr('strokeOpacity')) ? 1 : shape.attr('strokeOpacity'),\n    opacity: isNil(shape.attr('opacity')) ? 1 : shape.attr('opacity'),\n  };\n  shape.attr({\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  });\n  shape.animate(endState, animateCfg);\n}\n\n/**\n * @ignore\n *  shape \n * \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function fadeOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  };\n  const { easing, duration, delay } = animateCfg;\n  shape.animate(\n    endState,\n    duration,\n    easing,\n    () => {\n      shape.remove(true);\n    },\n    delay\n  );\n}\n","import { ext } from '@antv/matrix-util';\nimport { Coordinate, IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\n\n/**\n * @ignore\n * \n * @param shape \n * @param vector \n * @param direct \n */\nexport function transformShape(shape: IShape | IGroup, vector: [number, number], direct: string): number[] {\n  let scaledMatrix;\n\n  const [x, y] = vector;\n  shape.applyToMatrix([x, y, 1]);\n  if (direct === 'x') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 1],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 1],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'y') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 1, 100],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'xy') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 100],\n      ['t', x, y],\n    ]);\n  }\n  return scaledMatrix;\n}\n\n/**\n * \n * @param element \n * @param animateCfg \n * @param coordinate \n * @param yMinPoint y \n * @param type \n */\nexport function doScaleAnimate(\n  element: IGroup | IShape,\n  animateCfg: GAnimateCfg,\n  coordinate: Coordinate,\n  yMinPoint: Point,\n  type: string\n) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n  let x: number;\n  let y: number;\n\n  if (type === 'y') {\n    x = start.x + width / 2;\n    y = yMinPoint.y < start.y ? yMinPoint.y : start.y;\n  } else if (type === 'x') {\n    x = yMinPoint.x > start.x ? yMinPoint.x : start.x;\n    y = start.y + height / 2;\n  } else if (type === 'xy') {\n    if (coordinate.isPolar) {\n      x = coordinate.getCenter().x;\n      y = coordinate.getCenter().y;\n    } else {\n      x = (start.x + end.x) / 2;\n      y = (start.y + end.y) / 2;\n    }\n  }\n\n  const endMatrix = transformShape(element, [x, y], type);\n  element.animate(\n    {\n      matrix: endMatrix,\n    },\n    animateCfg\n  );\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { doScaleAnimate } from './util';\n\n/**\n * @ignore\n * \n * x \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInX(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'x');\n}\n\n/**\n * @ignore\n * \n * y \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'y');\n}\n\n/**\n * @ignore\n * \n * \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInXY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'xy');\n}\n","import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * path \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function pathIn(element: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  // @ts-ignore\n  const length = element.getTotalLength();\n  // \n  element.attr('lineDash', [length]);\n  element.animate((ratio: number) => {\n    return {\n      // \n      lineDashOffset: (1 - ratio) * length,\n    };\n  }, animateCfg);\n}\n","import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * @param shape \n * @param animateCfg\n * @param cfg\n */\nexport function positionUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs } = cfg;\n  // @ts-ignore\n  const x = toAttrs.x;\n  // @ts-ignore\n  const y = toAttrs.y;\n\n  // @ts-ignore\n  delete toAttrs.x;\n  // @ts-ignore\n  delete toAttrs.y;\n\n  shape.attr(toAttrs);\n\n  shape.animate(\n    {\n      x,\n      y,\n    },\n    animateCfg\n  );\n}\n","import { ext } from '@antv/matrix-util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n *  x \n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInX(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const points = mappingData.points as Point[];\n  // x \n  const x = points[0].y - points[1].y > 0 ? box.maxX : box.minX;\n  const y = (box.minY + box.maxY) / 2;\n\n  shape.applyToMatrix([x, y, 1]);\n\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 0.01, 1],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 100, 1],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n\n/**\n * @ignore\n *  y \n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInY(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const x = (box.minX + box.maxX) / 2;\n  const points = mappingData.points as Point[];\n  //  shape \n  const y = points[0].y - points[1].y <= 0 ? box.maxY : box.minY;\n\n  shape.applyToMatrix([x, y, 1]);\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 1, 0.01],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 100],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n","import { getArcParams } from '@antv/g-canvas';\nimport { isNumberEqual, isEqual } from '@antv/util';\n\nimport { IShape, PathCommand } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { getArcPath, getSectorPath } from '../../util/graphics';\n\nfunction getAngle(startPoint: number[], arcPath: PathCommand) {\n  let { startAngle, endAngle } = getArcParams(startPoint, arcPath);\n\n  if (!isNumberEqual(startAngle, -Math.PI * 0.5) && startAngle < -Math.PI * 0.5) {\n    startAngle += Math.PI * 2;\n  }\n  if (!isNumberEqual(endAngle, -Math.PI * 0.5) && endAngle < -Math.PI * 0.5) {\n    endAngle += Math.PI * 2;\n  }\n\n  if (arcPath[5] === 0) {\n    //  startAngle  endAngle  G2 \n    [startAngle, endAngle] = [endAngle, startAngle];\n  }\n\n  if (isNumberEqual(startAngle, Math.PI * 1.5)) {\n    startAngle = Math.PI * -0.5;\n  }\n\n  if (isNumberEqual(endAngle, Math.PI * -0.5)) {\n    endAngle = Math.PI * 1.5;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\nfunction getArcStartPoint(path: PathCommand) {\n  let startPoint;\n  if (path[0] === 'M' || path[0] === 'L') {\n    startPoint = [path[1], path[2]];\n  } else if (path[0] === 'a' || path[0] === 'A' || path[0] === 'C') {\n    startPoint = [path[path.length - 2], path[path.length - 1]];\n  }\n\n  return startPoint;\n}\n\n/**\n * path \n * 1.  path M, L, A, L, Z\n * 2.  path M, M, A, A, M, Z\n * 3.  path M, A, L, A, L, Z\n * 4.  path M, A, A, M, A, A, M, Z\n * 5. radial-line,  path,  M, A, A, Z\n * 6. radial-line,  path M, A, A, A, A, Z\n * @param path theta  path \n */\nfunction getArcInfo(path: PathCommand[]) {\n  let startAngle;\n  let endAngle;\n\n  const arcPaths = path.filter((command) => {\n    return command[0] === 'A' || command[0] === 'a';\n  });\n\n  if (arcPaths.length === 0) {\n    return {\n      startAngle: 0,\n      endAngle: 0,\n      radius: 0,\n      innerRadius: 0,\n    };\n  }\n\n  const firstArcPathCommand = arcPaths[0];\n  const lastArcPathCommand = arcPaths.length > 1 ? arcPaths[1] : arcPaths[0];\n  const firstIndex = path.indexOf(firstArcPathCommand);\n  const lastIndex = path.indexOf(lastArcPathCommand);\n  const firstStartPoint = getArcStartPoint(path[firstIndex - 1]);\n  const lastStartPoint = getArcStartPoint(path[lastIndex - 1]);\n\n  const { startAngle: firstStartAngle, endAngle: firstEndAngle } = getAngle(firstStartPoint, firstArcPathCommand);\n  const { startAngle: lastStartAngle, endAngle: lastEndAngle } = getAngle(lastStartPoint, lastArcPathCommand);\n\n  if (isNumberEqual(firstStartAngle, lastStartAngle) && isNumberEqual(firstEndAngle, lastEndAngle)) {\n    startAngle = firstStartAngle;\n    endAngle = firstEndAngle;\n  } else {\n    startAngle = Math.min(firstStartAngle, lastStartAngle);\n    endAngle = Math.max(firstEndAngle, lastEndAngle);\n  }\n\n  let radius = firstArcPathCommand[1];\n  let innerRadius = arcPaths[arcPaths.length - 1][1];\n  if (radius < innerRadius) {\n    [radius, innerRadius] = [innerRadius, radius];\n  } else if (radius === innerRadius) {\n    innerRadius = 0;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n    radius,\n    innerRadius,\n  };\n}\n\n/**\n * @ignore\n * \n * @param shape \n * @param animateCfg\n * @param cfg\n */\nexport function sectorPathUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs, coordinate } = cfg;\n  const path = (toAttrs as { path: PathCommand[] }).path || [];\n  const pathCommands = path.map((command) => command[0]);\n\n  if (path.length < 1) return;\n\n  const { startAngle: curStartAngle, endAngle: curEndAngle, radius, innerRadius } = getArcInfo(path);\n  const { startAngle: preStartAngle, endAngle: preEndAngle } = getArcInfo(shape.attr('path'));\n\n  const center = coordinate.getCenter();\n  const diffStartAngle = curStartAngle - preStartAngle;\n  const diffEndAngle = curEndAngle - preEndAngle;\n  //  diff  attrs\n  if (diffStartAngle === 0 && diffEndAngle === 0) {\n    shape.attr('path', path);\n    return;\n  }\n\n  shape.animate(\n    (ratio) => {\n      const onFrameStartAngle = preStartAngle + ratio * diffStartAngle;\n      const onFrameEndAngle = preEndAngle + ratio * diffEndAngle;\n      return {\n        ...toAttrs,\n        path:\n          // hack,  /examples/bar/basic/demo/radial-line.ts \n          isEqual(pathCommands, ['M', 'A', 'A', 'Z'])\n            ? getArcPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle)\n            : getSectorPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle, innerRadius),\n      };\n    },\n    {\n      ...animateCfg,\n      callback: () => {\n        //  path  setState() \n        shape.attr('path', path);\n      },\n    }\n  );\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { getCoordinateClipCfg } from '../../util/coordinate';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * \n * @todo \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function waveIn(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { type, startState, endState } = getCoordinateClipCfg(cfg.coordinate, 20); // \n  const clipShape = element.setClip({\n    type,\n    attrs: startState,\n  }) as IShape; //  shape \n\n  // \b\n  clipShape.animate(endState, {\n    ...animateCfg,\n    callback: () => {\n      if (element && !element.get('destroyed')) {\n        element.set('clipShape', null);\n      }\n      clipShape.remove(true); // \n    },\n  });\n}\n","import { ext } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nfunction doShapeZoom(shape: IShape | IGroup, animateCfg: GAnimateCfg, type: 'zoomIn' | 'zoomOut') {\n  if (shape.isGroup()) {\n    each((shape as IGroup).getChildren(), (child) => {\n      doShapeZoom(child, animateCfg, type);\n    });\n  } else {\n    const bbox = shape.getBBox();\n    const x = (bbox.minX + bbox.maxX) / 2;\n    const y = (bbox.minY + bbox.maxY) / 2;\n    shape.applyToMatrix([x, y, 1]);\n\n    if (type === 'zoomIn') {\n      // \n      const matrix = ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ]);\n      shape.setMatrix(matrix);\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 100, 100],\n            ['t', x, y],\n          ]),\n        },\n        animateCfg\n      );\n    } else {\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 0.01, 0.01],\n            ['t', x, y],\n          ]),\n        },\n        {\n          ...animateCfg,\n          callback: () => {\n            shape.remove(true);\n          },\n        }\n      );\n    }\n  }\n}\n\n/**\n * @ignore\n *  shape \n * shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function zoomIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomIn');\n}\n\n/**\n * @ignore\n *  shape \n * shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function zoomOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomOut');\n}\n","import { DIRECTION } from '../constant';\nimport { Point } from '../dependents';\nimport { FacetTitle } from '../interface';\n\n/**\n * @ignore\n *  facet title \n */\nexport function getFactTitleConfig(direction: DIRECTION): FacetTitle {\n  if ([DIRECTION.TOP, DIRECTION.BOTTOM].includes(direction)) {\n    return {\n      offsetX: 0,\n      offsetY: direction === DIRECTION.TOP ? -8 : 8,\n      style: {\n        textAlign: 'center',\n        textBaseline: direction === DIRECTION.TOP ? 'bottom' : 'top',\n      },\n    };\n  }\n\n  if ([DIRECTION.LEFT, DIRECTION.RIGHT].includes(direction)) {\n    return {\n      offsetX: direction === DIRECTION.LEFT ? -8 : 8,\n      offsetY: 0,\n      style: {\n        textAlign: direction === DIRECTION.LEFT ? 'right' : 'left',\n        textBaseline: 'middle',\n        rotate: Math.PI / 2, // \n      },\n    };\n  }\n\n  return {};\n}\n\n/**\n * @ignore\n *   \n * @param center\n * @param r\n * @param angle\n */\nexport function getAnglePoint(center: Point, r: number, angle: number): Point {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle),\n  };\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { AxisCfg, CircleCfg, CircleData, Datum } from '../interface';\n\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { getAnglePoint, getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Circle extends Facet<CircleCfg, CircleData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'circle',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   *  region\n   * @param count\n   * @param index\n   */\n  protected getRegion(count: number, index: number) {\n    const r = 1 / 2; // \n    // \n    const center = { x: 0.5, y: 0.5 };\n    // \n    const avgAngle = (Math.PI * 2) / count;\n\n    // \n    const angle = (-1 * Math.PI) / 2 + avgAngle * index;\n    // TODO \n    const facetR = r / (1 + 1 / Math.sin(avgAngle / 2));\n    // \n    const middle = getAnglePoint(center, r - facetR, angle);\n    const startAngle = (Math.PI * 5) / 4; // \n    const endAngle = (Math.PI * 1) / 4; // \n\n    return {\n      start: getAnglePoint(middle, facetR, startAngle),\n      end: getAnglePoint(middle, facetR, endAngle),\n    };\n  }\n\n  protected afterEachView(view: View, facet: CircleData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: CircleData) {}\n\n  protected generateFacets(data: Datum[]): CircleData[] {\n    const { fields, type } = this.cfg;\n    const [field] = fields;\n    if (!field) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const values = this.getFieldValues(data, field);\n    const count = values.length;\n\n    const rst = [];\n    values.forEach((value: any, index: number) => {\n      const conditions = [{ field, value, values }];\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: CircleData = {\n        type,\n        data: facetData,\n        region: this.getRegion(count, index),\n\n        columnValue: value,\n        columnField: field,\n        columnIndex: index,\n        columnValuesLength: count,\n\n        rowValue: null,\n        rowField: null,\n        rowIndex: 0,\n        rowValuesLength: 1,\n      };\n      rst.push(facet);\n    });\n    return rst;\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // \n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // \n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: CircleData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, ListCfg, ListData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class List extends Facet<ListCfg, ListData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'list',\n      cols: null, // \n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: ListData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: ListData) {}\n\n  protected generateFacets(data: Datum[]): ListData[] {\n    const { fields } = this.cfg;\n    let { cols } = this.cfg;\n\n    const [columnField] = fields;\n    if (!columnField) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const colValues = this.getFieldValues(data, columnField);\n\n    const count = colValues.length;\n    cols = cols || count; // \n\n    // \n    const rows = this.getPageCount(count, cols);\n    const rst = [];\n\n    colValues.forEach((val, index) => {\n      //  index \n      const { row, col } = this.getRowCol(index, cols);\n\n      const conditions = [{ field: columnField, value: val, values: colValues }];\n\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: ListData = {\n        type: this.cfg.type,\n        data: facetData,\n        region: this.getRegion(rows, cols, col, row),\n\n        columnValue: val,\n        rowValue: val,\n        columnField,\n        rowField: null,\n        columnIndex: col,\n        rowIndex: row,\n        columnValuesLength: cols,\n        rowValuesLength: rows,\n\n        total: count,\n      };\n\n      rst.push(facet);\n    });\n\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: ListData): object {\n    //  view \n    if (\n      facet.rowIndex !== facet.rowValuesLength - 1 &&\n      facet.columnValuesLength * facet.rowIndex + facet.columnIndex + 1 + facet.columnValuesLength <= facet.total\n    ) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: ListData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: ListData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n\n  /**\n   * \n   * @param total\n   * @param pageSize\n   */\n  private getPageCount(total: number, pageSize: number): number {\n    return Math.floor((total + pageSize - 1) / pageSize);\n  }\n\n  /**\n   * \n   * @param index\n   * @param pageSize\n   */\n  private getRowCol(index: number, pageSize: number) {\n    const row = Math.floor(index / pageSize);\n    const col = index % pageSize;\n\n    return { row, col };\n  }\n}\n","import { deepMix, each, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MatrixCfg, MatrixData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Matrix extends Facet<MatrixCfg, MatrixData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'matrix',\n      showTitle: false,\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: MatrixData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: MatrixData) {}\n\n  protected generateFacets(data: Datum[]): MatrixData[] {\n    const { fields, type } = this.cfg;\n\n    // \n    const rowValuesLength = fields.length;\n    const columnValuesLength = rowValuesLength;\n\n    const rst = [];\n    for (let i = 0; i < columnValuesLength; i++) {\n      const columnField = fields[i];\n      for (let j = 0; j < rowValuesLength; j++) {\n        const rowField = fields[j];\n\n        const facet: MatrixData = {\n          type,\n          data,\n          region: this.getRegion(rowValuesLength, columnValuesLength, i, j),\n\n          columnValue: columnField,\n          rowValue: rowField,\n          columnField,\n          rowField,\n          columnIndex: i,\n          rowIndex: j,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      }\n    }\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // \n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // \n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: MatrixData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, rowValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const formatter = get(this.cfg.columnTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.columnTitle\n        );\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const formatter = get(this.cfg.rowTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.rowTitle\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MirrorCfg, MirrorData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Mirror extends Facet<MirrorCfg, MirrorData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'mirror',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n      transpose: false,\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected beforeEachView(view: View, facet: MirrorData) {\n    // \n    if (this.cfg.transpose) {\n      if (facet.columnIndex % 2 === 0) {\n        view.coordinate().transpose().reflect('x');\n      } else {\n        view.coordinate().transpose();\n      }\n    } else {\n      if (facet.rowIndex % 2 !== 0) {\n        view.coordinate().reflect('y');\n      }\n    }\n  }\n\n  protected afterEachView(view: View, facet: MirrorData) {\n    this.processAxis(view, facet);\n  }\n\n  protected generateFacets(data: Datum[]): MirrorData[] {\n    const [f] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    let columnField;\n    let rowField;\n\n    if (this.cfg.transpose) {\n      columnField = f;\n      columnValues = this.getFieldValues(data, columnField).slice(0, 2); // \n      columnValuesLength = columnValues.length;\n    } else {\n      rowField = f;\n      rowValues = this.getFieldValues(data, rowField).slice(0, 2); // \n      rowValuesLength = rowValues.length;\n    }\n\n    // \n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: MirrorData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // \n    //  view \n    if (facet.columnIndex === 1 || facet.rowIndex === 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // do nothing\n    return option;\n  }\n\n  private renderTitle() {\n    each(this.facets, (facet: MirrorData, facetIndex: number) => {\n      const { columnValue, rowValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      if (this.cfg.transpose) {\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.title\n        );\n\n        view.annotation().text(config);\n      } else {\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.title\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, RectCfg, RectData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Rect extends Facet<RectCfg, RectData> {\n  protected afterEachView(view: View, facet: RectData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: RectData) {\n    // do nothing\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'rect',\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   * \n   * @param data\n   */\n  protected generateFacets(data: Datum[]): RectData[] {\n    const [columnField, rowField] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    if (columnField) {\n      columnValues = this.getFieldValues(data, columnField);\n      columnValuesLength = columnValues.length;\n    }\n    if (rowField) {\n      rowValues = this.getFieldValues(data, rowField);\n      rowValuesLength = rowValues.length;\n    }\n\n    // \n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: RectData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  private renderTitle(): void {\n    each(this.facets, (facet: RectData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const formatter = get(this.cfg.columnTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.columnTitle\n        );\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const formatter = get(this.cfg.rowTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.rowTitle\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: RectData): object {\n    // \n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.columnIndex !== Math.floor((facet.columnValuesLength - 1) / 2)) {\n      // \n      return {\n        ...option,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: RectData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.rowIndex !== Math.floor((facet.rowValuesLength - 1) / 2)) {\n      return {\n        ...option,\n        title: null,\n      };\n    }\n    return option;\n  }\n}\n","/**\n * Create By Bruce Too\n * On 2020-02-10\n */\nimport { assign, deepMix, each, get } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION, VIEW_LIFE_CIRCLE } from '../constant';\nimport { AxisCfg, Condition, Datum, TreeCfg, TreeData } from '../interface';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * Tree Facet\n */\nexport default class Tree extends Facet<TreeCfg, TreeData> {\n  protected afterEachView(view: View, facet: TreeData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: TreeData) {}\n\n  public init() {\n    super.init();\n    this.view.on(VIEW_LIFE_CIRCLE.AFTER_RENDER, this.afterChartRender);\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'tree',\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: '#ddd',\n        },\n        smooth: false,\n      },\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  protected generateFacets(data: Datum[]): TreeData[] {\n    const fields = this.cfg.fields;\n    if (!fields.length) {\n      throw new Error('Please specify for the fields for rootFacet!');\n    }\n    const rst = [];\n    const rootFacet: TreeData = {\n      type: this.cfg.type,\n      data,\n      region: null,\n      rowValuesLength: this.getRows(),\n      columnValuesLength: 1,\n      rowIndex: 0,\n      columnIndex: 0,\n      rowField: '',\n      columnField: '',\n      rowValue: '',\n      columnValue: '',\n    };\n    rst.push(rootFacet);\n    rootFacet.children = this.getChildFacets(data, 1, rst);\n    this.setRegion(rst);\n    return rst;\n  }\n\n  private setRegion(facets: TreeData[]) {\n    this.forceColIndex(facets);\n    facets.forEach((facet) => {\n      // @ts-ignore \n      facet.region = this.getRegion(facet.rowValuesLength, facet.columnValuesLength, facet.columnIndex, facet.rowIndex);\n    });\n  }\n\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number) {\n    const xWidth = 1 / cols; // x\n    const yWidth = 1 / rows; // y\n\n    const start = {\n      x: xWidth * xIndex,\n      y: yWidth * yIndex,\n    };\n\n    const end = {\n      x: start.x + xWidth,\n      y: start.y + (yWidth * 2) / 3, // 1/3\n    };\n    return {\n      start,\n      end,\n    };\n  }\n\n  private forceColIndex(facets: TreeData[]) {\n    const leafs: TreeData[] = [];\n    let index = 0;\n    facets.forEach((facet) => {\n      if (this.isLeaf(facet)) {\n        leafs.push(facet);\n        // @ts-ignore \n        facet.columnIndex = index;\n        index++;\n      }\n    });\n\n    leafs.forEach((facet) => {\n      // @ts-ignore\n      facet.columnValuesLength = leafs.length;\n    });\n    const maxLevel = this.cfg.fields.length;\n    for (let i = maxLevel - 1; i >= 0; i--) {\n      const levelFacets = this.getFacetsByLevel(facets, i);\n      // var yIndex = maxLevel - i;\n      for (const facet of levelFacets) {\n        if (!this.isLeaf(facet)) {\n          facet.originColIndex = facet.columnIndex;\n          // @ts-ignore\n          facet.columnIndex = this.getRegionIndex(facet.children);\n          // @ts-ignore\n          facet.columnValuesLength = leafs.length;\n        }\n      }\n    }\n  }\n\n  // get facet use level\n  private getFacetsByLevel(facets: TreeData[], level: number) {\n    const rst: TreeData[] = [];\n    facets.forEach((facet) => {\n      if (facet.rowIndex === level) {\n        rst.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  // if the facet has children , make it's column index in the middle of it's children\n  private getRegionIndex(children: TreeData[]) {\n    const first = children[0];\n    const last = children[children.length - 1];\n    return (last.columnIndex - first.columnIndex) / 2 + first.columnIndex;\n  }\n\n  // is  a leaf without children\n  private isLeaf(facet: TreeData) {\n    return !facet.children || !facet.children.length;\n  }\n\n  private getRows() {\n    return this.cfg.fields.length + 1;\n  }\n\n  // get child\n  private getChildFacets(data: Datum[], level: number, arr: TreeData[]) {\n    // [ 'grade', 'class' ]\n    const fields = this.cfg.fields;\n    const length = fields.length;\n    if (length < level) {\n      return;\n    }\n    const rst = [];\n    // get fist level except root node\n    const field = fields[level - 1];\n    // get field value\n    const values = this.getFieldValues(data, field);\n    values.forEach((value, index) => {\n      const conditions = [{ field, value, values } as Condition];\n      const subData = data.filter(this.getFacetDataFilter(conditions));\n      if (subData.length) {\n        const facet: TreeData = {\n          type: this.cfg.type,\n          data: subData,\n          region: null,\n          columnValue: value,\n          rowValue: '',\n          columnField: field,\n          rowField: '',\n          columnIndex: index,\n          rowValuesLength: this.getRows(),\n          columnValuesLength: 1,\n          rowIndex: level,\n          children: this.getChildFacets(subData, level + 1, arr),\n        };\n        rst.push(facet);\n        arr.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  public render() {\n    super.render();\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  private afterChartRender = () => {\n    if (this.facets && this.cfg.line) {\n      this.container.clear();\n      this.drawLines(this.facets);\n    }\n  };\n\n  private renderTitle() {\n    each(this.facets, (facet: TreeData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n\n  private drawLines(facets: TreeData[]) {\n    facets.forEach((facet) => {\n      if (!this.isLeaf(facet)) {\n        const children = facet.children;\n        this.addFacetLines(facet, children);\n      }\n    });\n  }\n\n  // add lines with it's children\n  private addFacetLines(facet: TreeData, children: TreeData[]) {\n    const view = facet.view;\n    const region = view.coordinateBBox;\n    // top, right, bottom, left\n    const start = {\n      x: region.x + region.width / 2,\n      y: region.y + region.height,\n    };\n\n    children.forEach((subFacet) => {\n      const subRegion = subFacet.view.coordinateBBox;\n      const end = {\n        x: subRegion.bl.x + (subRegion.tr.x - subRegion.bl.x) / 2,\n        y: subRegion.tr.y,\n      };\n\n      const middle1 = {\n        x: start.x,\n        y: start.y + (end.y - start.y) / 2,\n      };\n      const middle2 = {\n        x: end.x,\n        y: middle1.y,\n      };\n      this.drawLine([start, middle1, middle2, end]);\n    });\n  }\n\n  private getPath(points) {\n    const path = [];\n    const smooth = this.cfg.line.smooth;\n    if (smooth) {\n      path.push(['M', points[0].x, points[0].y]);\n      path.push(['C', points[1].x, points[1].y, points[2].x, points[2].y, points[3].x, points[3].y]);\n    } else {\n      points.forEach((point, index) => {\n        if (index === 0) {\n          path.push(['M', point.x, point.y]);\n        } else {\n          path.push(['L', point.x, point.y]);\n        }\n      });\n    }\n\n    return path;\n  }\n\n  // draw line width points\n  private drawLine(points) {\n    const path = this.getPath(points);\n    const line = this.cfg.line.style;\n    this.container.addShape('path', {\n      attrs: assign(\n        {\n          // @ts-ignore\n          path,\n        },\n        line\n      ),\n    });\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.originColIndex !== 0 && facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n}\n","import { reduce, isNumber } from '@antv/util';\n\n/**\n * \n * @param array\n */\nexport function getMedian(array: number[]) {\n  const arr = [...array];\n  // \n  arr.sort((a: number, b: number) => {\n    return a - b;\n  });\n\n  const len = arr.length;\n\n  // median\n  // 0\n  if (len === 0) {\n    return 0;\n  }\n\n  // \n  if (len % 2 === 1) {\n    return arr[(len - 1) / 2];\n  }\n\n  // \n  return (arr[len / 2] + arr[len / 2 - 1]) / 2;\n}\n\n/**\n * \n * @param array\n */\nexport function getMean(array: number[]) {\n  const sum = reduce(\n    array,\n    (r: number, num: number) => {\n      return (r += isNaN(num) || !isNumber(num) ? 0 : num);\n    },\n    0\n  );\n\n  return array.length === 0 ? 0 : sum / array.length;\n}\n","import { getMedian, getMean } from './stat';\nimport { Scale } from '../dependents';\n\n/**\n * parse the value position\n * @param val\n * @param scale\n */\nexport function getNormalizedValue(val: number | string, scale: Scale) {\n  if (!scale) {\n    return null;\n  }\n  let scaled: number;\n\n  switch (val) {\n    case 'start':\n      return 0;\n    case 'center':\n      return 0.5;\n    case 'end':\n      return 1;\n    case 'median': {\n      scaled = scale.isCategory ? getMedian(scale.values.map((_, idx: number) => idx)) : getMedian(scale.values);\n      break;\n    }\n    case 'mean': {\n      scaled = scale.isCategory ? (scale.values.length - 1) / 2 : getMean(scale.values);\n      break;\n    }\n    case 'min':\n      scaled = scale.isCategory ? 0 : scale[val];\n      break;\n    case 'max':\n      scaled = scale.isCategory ? scale.values.length - 1 : scale[val];\n      break;\n    default:\n      scaled = val as number;\n      break;\n  }\n\n  return scale.scale(scaled);\n}\n","import {\n  contains,\n  deepMix,\n  each,\n  get,\n  isArray,\n  isFunction,\n  isNil,\n  isString,\n  keys,\n  upperFirst,\n  find,\n  includes,\n} from '@antv/util';\nimport { Annotation as AnnotationComponent, IElement, IGroup } from '../../dependents';\nimport {\n  AnnotationBaseOption as BaseOption,\n  AnnotationPosition as Position,\n  ArcOption,\n  ComponentOption,\n  ShapeAnnotationOption,\n  Data,\n  DataMarkerOption,\n  DataRegionOption,\n  Datum,\n  HtmlAnnotationOption,\n  ImageOption,\n  LineOption,\n  Point,\n  RegionFilterOption,\n  RegionOption,\n  RegionPositionBaseOption,\n  TextOption,\n} from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\nimport { COMPONENT_TYPE, DIRECTION, GEOMETRY_LIFE_CIRCLE, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\n\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element';\nimport { getAngleByPoint, getDistanceToCenter } from '../../util/coordinate';\nimport { omit } from '../../util/helper';\nimport { getNormalizedValue } from '../../util/annotation';\nimport View from '../view';\nimport { Controller } from './base';\nimport { Scale } from '@antv/attr';\n\n/**  */\nconst ANNOTATIONS_AFTER_RENDER = ['regionFilter', 'shape'];\n\n/**\n * Annotation controller, :\n * 1.  Annotation: linetextarc ...\n * 2. : initlayoutrendercleardestroy\n */\nexport default class Annotation extends Controller<BaseOption[]> {\n  private foregroundContainer: IGroup;\n  private backgroundContainer: IGroup;\n\n  /*  cache object :  */\n  private cache = new Map<BaseOption, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    this.foregroundContainer = this.view.getLayer(LAYER.FORE).addGroup();\n    this.backgroundContainer = this.view.getLayer(LAYER.BG).addGroup();\n\n    this.option = [];\n  }\n\n  public get name(): string {\n    return 'annotation';\n  }\n\n  public init() { }\n\n  /**\n   *  annotation  render  layout \n   */\n  public layout() {\n    this.update();\n  }\n\n  //  Annotation  layout() \n  public render() { }\n\n  /**\n   * \n   */\n  public update() {\n    // 1.   Geometry \n    this.onAfterRender(() => {\n      const updated = new Map<BaseOption, ComponentOption>();\n      //  regionFilter/shape \n      each(this.option, (option: BaseOption) => {\n        if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n          const co = this.updateOrCreate(option);\n          // \n          if (co) {\n            updated.set(this.getCacheKey(option), co);\n          }\n        }\n      });\n\n      //  cache\n      // \n      this.cache = this.syncCache(updated);\n    });\n\n    // 2.  regionFilter\n    const updateCache = new Map<BaseOption, ComponentOption>();\n    each(this.option, (option: BaseOption) => {\n      if (!includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n        const co = this.updateOrCreate(option);\n        // \n        if (co) {\n          updateCache.set(this.getCacheKey(option), co);\n        }\n      }\n    });\n    this.cache = this.syncCache(updateCache);\n  }\n\n  /**\n   * \n   * @param includeOption  option \n   */\n  public clear(includeOption = false) {\n    super.clear();\n\n    this.clearComponents();\n    this.foregroundContainer.clear();\n    this.backgroundContainer.clear();\n\n    // clear all option\n    if (includeOption) {\n      this.option = [];\n    }\n  }\n\n  public destroy() {\n    this.clear(true);\n\n    this.foregroundContainer.remove(true);\n    this.backgroundContainer.remove(true);\n  }\n\n  /**\n   * \n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  /**\n   * \n   */\n  private clearComponents() {\n    this.getComponents().forEach((co) => {\n      co.component.destroy();\n    });\n\n    this.cache.clear();\n  }\n\n  /**\n   * region filter \n   * @param doWhat\n   */\n  private onAfterRender(doWhat: () => void) {\n    if (this.view.getOptions().animate) {\n      this.view.geometries.forEach((g: Geometry) => {\n        //  geometry \n        if (g.animateOption) {\n          g.once(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE, () => {\n            doWhat();\n          });\n        }\n      });\n    } else {\n      this.view.getRootView().once(VIEW_LIFE_CIRCLE.AFTER_RENDER, () => {\n        doWhat();\n      });\n    }\n  }\n\n  private createAnnotation(option: BaseOption) {\n    const { type } = option;\n\n    const Ctor = AnnotationComponent[upperFirst(type)];\n    if (Ctor) {\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n      // \n      if (!cfg) {\n        return null;\n      }\n      const annotation = new Ctor(cfg);\n\n      return {\n        component: annotation,\n        layer: this.isTop(cfg) ? LAYER.FORE : LAYER.BG,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.ANNOTATION,\n        extra: option,\n      };\n    }\n  }\n\n  // APIs for creating annotation component\n  public annotation(option: any) {\n    this.option.push(option);\n  }\n\n  /**\n   *  Arc\n   * @param option\n   * @returns AnnotationController\n   */\n  public arc(option: ArcOption) {\n    this.annotation({\n      type: 'arc',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  image\n   * @param option\n   * @returns AnnotationController\n   */\n  public image(option: ImageOption) {\n    this.annotation({\n      type: 'image',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Line\n   * @param option\n   * @returns AnnotationController\n   */\n  public line(option: LineOption) {\n    this.annotation({\n      type: 'line',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Region\n   * @param option\n   * @returns AnnotationController\n   */\n  public region(option: RegionOption) {\n    this.annotation({\n      type: 'region',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Text\n   * @param option\n   * @returns AnnotationController\n   */\n  public text(option: TextOption) {\n    this.annotation({\n      type: 'text',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  DataMarker\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataMarker(option: DataMarkerOption) {\n    this.annotation({\n      type: 'dataMarker',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  DataRegion\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataRegion(option: DataRegionOption) {\n    this.annotation({\n      type: 'dataRegion',\n      ...option,\n    });\n  }\n\n  /**\n   *  RegionFilter\n   * @param option\n   * @returns AnnotationController\n   */\n  public regionFilter(option: RegionFilterOption) {\n    this.annotation({\n      type: 'regionFilter',\n      ...option,\n    });\n  }\n\n  /**\n   *  ShapeAnnotation\n   * @param option\n   */\n  public shape(option: ShapeAnnotationOption) {\n    this.annotation({\n      type: 'shape',\n      ...option,\n    });\n  }\n\n  /**\n   *  HtmlAnnotation\n   * @param option\n   */\n  public html(option: HtmlAnnotationOption) {\n    this.annotation({\n      type: 'html',\n      ...option,\n    });\n  }\n  // end API\n\n  /**\n   * parse the point position to [x, y]\n   * @param p Position\n   * @returns { x, y }\n   */\n  private parsePosition(\n    p:\n      | [string | number, string | number]\n      | Datum\n      | ((xScale: Scale, yScale: Scale) => [string | number, string | number] | number | Datum)\n  ): Point {\n    const xScale = this.view.getXScale();\n    //  object\n    const yScales = this.view.getScalesByDim('y');\n\n    const position: Position = isFunction(p) ? p.call(null, xScale, yScales) : p;\n\n    let x = 0;\n    let y = 0;\n\n    //  [24, 24] \n    if (isArray(position)) {\n      const [xPos, yPos] = position;\n      //  ['50%', '50%'] \n      // fix:  'xxx5%xxx'  https://github.com/antvis/f2/issues/590\n      // @ts-ignore\n      if (isString(xPos) && xPos.indexOf('%') !== -1 && !isNaN(xPos.slice(0, -1))) {\n        return this.parsePercentPosition(position as [string, string]);\n      }\n\n      x = getNormalizedValue(xPos, xScale);\n      y = getNormalizedValue(yPos, Object.values(yScales)[0]);\n    } else if (!isNil(position)) {\n      //  object \n      for (const key of keys(position)) {\n        const value = position[key];\n        if (key === xScale.field) {\n          x = getNormalizedValue(value, xScale);\n        }\n        if (yScales[key]) {\n          y = getNormalizedValue(value, yScales[key]);\n        }\n      }\n    }\n\n    if (isNaN(x) || isNaN(y)) {\n      return null;\n    }\n\n    return this.view.getCoordinate().convert({ x, y });\n  }\n\n  /**\n   * parse all the points between start and end\n   * @param start\n   * @param end\n   * @return Point[]\n   */\n  private getRegionPoints(start: Position | Data, end: Position | Data): Point[] {\n    const xScale = this.view.getXScale();\n    const yScales = this.view.getScalesByDim('y');\n    const yScale = Object.values(yScales)[0];\n    const xField = xScale.field;\n    const viewData = this.view.getData();\n    const startXValue = isArray(start) ? start[0] : start[xField];\n    const endXValue = isArray(end) ? end[0] : end[xField];\n    const arr = [];\n\n    let startIndex;\n    each(viewData, (item, idx) => {\n      if (item[xField] === startXValue) {\n        startIndex = idx;\n      }\n      if (idx >= startIndex) {\n        const point = this.parsePosition([item[xField], item[yScale.field]]);\n        if (point) {\n          arr.push(point);\n        }\n      }\n      if (item[xField] === endXValue) {\n        return false;\n      }\n    });\n\n    return arr;\n  }\n\n  /**\n   * parse percent position\n   * @param position\n   */\n  private parsePercentPosition(position: [string, string]): Point {\n    const xPercent = parseFloat(position[0]) / 100;\n    const yPercent = parseFloat(position[1]) / 100;\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n    const x = coordinate.getWidth() * xPercent + topLeft.x;\n    const y = coordinate.getHeight() * yPercent + topLeft.y;\n    return { x, y };\n  }\n\n  /**\n   * get coordinate bbox\n   */\n  private getCoordinateBBox() {\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const width = coordinate.getWidth();\n    const height = coordinate.getHeight();\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n\n    return {\n      x: topLeft.x,\n      y: topLeft.y,\n      minX: topLeft.x,\n      minY: topLeft.y,\n      maxX: topLeft.x + width,\n      maxY: topLeft.y + height,\n      width,\n      height,\n    };\n  }\n\n  /**\n   * get annotation component config by different type\n   * @param type\n   * @param option \n   * @param theme\n   */\n  private getAnnotationCfg(type: string, option: any, theme: object): object | null {\n    const coordinate = this.view.getCoordinate();\n    const canvas = this.view.getCanvas();\n    let o = {};\n\n    if (isNil(option)) {\n      return null;\n    }\n    const { start, end, position } = option;;\n    const sp = this.parsePosition(start);\n    const ep = this.parsePosition(end);\n    const textPoint = this.parsePosition(position);\n    if (['arc', 'image', 'line', 'region', 'regionFilter'].includes(type) && (!sp || !ep)) {\n      return null;\n    } else if (['text', 'dataMarker', 'html'].includes(type) && !textPoint) {\n      return null;\n    }\n\n    if (type === 'arc') {\n      const { start, end, ...rest } = option as ArcOption;\n      const startAngle = getAngleByPoint(coordinate, sp);\n      let endAngle = getAngleByPoint(coordinate, ep);\n      if (startAngle > endAngle) {\n        endAngle = Math.PI * 2 + endAngle;\n      }\n\n      o = {\n        ...rest,\n        center: coordinate.getCenter(),\n        radius: getDistanceToCenter(coordinate, sp),\n        startAngle,\n        endAngle,\n      };\n    } else if (type === 'image') {\n      const { start, end, ...rest } = option as ImageOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n        src: option.src,\n      };\n    } else if (type === 'line') {\n      const { start, end, ...rest } = option as LineOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n        text: get(option, 'text', null),\n      };\n    } else if (type === 'region') {\n      const { start, end, ...rest } = option as RegionPositionBaseOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n      };\n    } else if (type === 'text') {\n      const filteredData = this.view.getData();\n      const { position, content, ...rest } = option as TextOption;\n      let textContent = content;\n      if (isFunction(content)) {\n        textContent = content(filteredData);\n      }\n      o = {\n        ...textPoint,\n        ...rest,\n        content: textContent,\n      };\n    } else if (type === 'dataMarker') {\n      const { position, point, line, text, autoAdjust, direction, ...rest } = option as DataMarkerOption;\n      o = {\n        ...rest,\n        ...textPoint,\n        coordinateBBox: this.getCoordinateBBox(),\n        point,\n        line,\n        text,\n        autoAdjust,\n        direction,\n      };\n    } else if (type === 'dataRegion') {\n      const { start, end, region, text, lineLength, ...rest } = option as DataRegionOption;\n      o = {\n        ...rest,\n        points: this.getRegionPoints(start, end),\n        region,\n        text,\n        lineLength,\n      };\n    } else if (type === 'regionFilter') {\n      const { start, end, apply, color, ...rest } = option as RegionFilterOption;\n      const geometries: Geometry[] = this.view.geometries;\n      const shapes = [];\n      const addShapes = (item?: IElement) => {\n        if (!item) {\n          return;\n        }\n        if (item.isGroup()) {\n          (item as IGroup).getChildren().forEach((child) => addShapes(child));\n        } else {\n          shapes.push(item);\n        }\n      };\n      each(geometries, (geom: Geometry) => {\n        if (apply) {\n          if (contains(apply, geom.type)) {\n            each(geom.elements, (elem: Element) => {\n              addShapes(elem.shape);\n            });\n          }\n        } else {\n          each(geom.elements, (elem: Element) => {\n            addShapes(elem.shape);\n          });\n        }\n      });\n      o = {\n        ...rest,\n        color,\n        shapes,\n        start: sp,\n        end: ep,\n      };\n    } else if (type === 'shape') {\n      const { render, ...restOptions } = option as ShapeAnnotationOption;\n      const wrappedRender = (container: IGroup) => {\n        if (isFunction(option.render)) {\n          return render(container, this.view, { parsePosition: this.parsePosition.bind(this) });\n        }\n      };\n      o = {\n        ...restOptions,\n        render: wrappedRender,\n      };\n    } else if (type === 'html') {\n      const { html, position, ...restOptions } = option as HtmlAnnotationOption;\n      const wrappedHtml = (container: HTMLElement) => {\n        if (isFunction(html)) {\n          return html(container, this.view);\n        }\n        return html;\n      };\n      o = {\n        ...restOptions,\n        ...textPoint,\n        // html  parent\n        parent: canvas.get('el').parentNode,\n        html: wrappedHtml,\n      };\n    }\n    // \n    const cfg = deepMix({}, theme, {\n      ...o,\n      top: option.top,\n      style: option.style,\n      offsetX: option.offsetX,\n      offsetY: option.offsetY,\n    });\n    if (type !== 'html') {\n      // html  G container\n      cfg.container = this.getComponentContainer(cfg);\n    }\n    cfg.animate = this.view.getOptions().animate && cfg.animate && get(option, 'animate', cfg.animate); //  view \n    cfg.animateOption = deepMix({}, DEFAULT_ANIMATE_CFG, cfg.animateOption, option.animateOption);\n\n    return cfg;\n  }\n\n  /**\n   * is annotation render on top\n   * @param option\n   * @return whethe on top\n   */\n  private isTop(option: any): boolean {\n    return get(option, 'top', true);\n  }\n\n  /**\n   * get the container by option.top\n   * default is on top\n   * @param option\n   * @returns the container\n   */\n  private getComponentContainer(option: any) {\n    return this.isTop(option) ? this.foregroundContainer : this.backgroundContainer;\n  }\n\n  private getAnnotationTheme(type: string) {\n    return get(this.view.getTheme(), ['components', 'annotation', type], {});\n  }\n\n  /**\n   *  annotation\n   * @param option\n   */\n  private updateOrCreate(option: BaseOption) {\n    // \n    let co = this.cache.get(this.getCacheKey(option));\n\n    // \n    if (co) {\n      const { type } = option;\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n\n      // \n      if (cfg) {\n        omit(cfg, ['container']);\n      }\n      co.component.update({ ...(cfg || {}), visible: !!cfg });\n      //  regionFilter/shape render\n      if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n        co.component.render();\n      }\n    } else {\n      // \n      co = this.createAnnotation(option);\n      if (co) {\n        co.component.init();\n        // NoteregionFilter/shape regionFilter/shape  Geometry  Shape view render \n        //  render \n        if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n          co.component.render();\n        }\n      }\n    }\n    return co;\n  }\n\n  /**\n   * \n   * @param updated \n   */\n  private syncCache(updated: Map<BaseOption, ComponentOption>) {\n    const newCache = new Map(this.cache); // clone \n\n    //  update  cache\n    updated.forEach((co: ComponentOption, key: BaseOption) => {\n      newCache.set(key, co);\n    });\n\n    //  options \n    newCache.forEach((co: ComponentOption, key: BaseOption) => {\n      // option \n      if (\n        !find(this.option, (option: BaseOption) => {\n          return key === this.getCacheKey(option);\n        })\n      ) {\n        co.component.destroy();\n        newCache.delete(key);\n      }\n    });\n\n    return newCache;\n  }\n\n  /**\n   *  key\n   * @param option\n   */\n  private getCacheKey(option: BaseOption) {\n    //  id id string option  key\n    return option;\n    //  id \n    // const id = get(option, 'id');\n    // return id ? id : option;\n  }\n}\n","import { deepMix, get, map } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale, Tick } from '../dependents';\n\n/**\n * @ignore\n * get the grid theme by type, will mix the common cfg of axis\n * @param theme\n * @param direction\n * @returns theme object\n */\nexport function getGridThemeCfg(theme: object, direction: DIRECTION | 'common'): object {\n  const axisTheme = deepMix(\n    {},\n    get(theme, ['components', 'axis', 'common']),\n    get(theme, ['components', 'axis', direction])\n  );\n  return get(axisTheme, ['grid'], {});\n}\n\n/**\n * @ignore\n * get axis grid items\n * @param coordinate\n * @param scale\n * @param dim\n * @return items\n */\nexport function getLineGridItems(coordinate: Coordinate, scale: Scale, dim: string, alignTick?: boolean) {\n  const items = [];\n  const ticks = scale.getTicks();\n  if (coordinate.isPolar) {\n    //  ticks\n    ticks.push({\n      value: 1,\n      text: '',\n      tickValue: '',\n    });\n  }\n  ticks.reduce((preTick: Tick, currentTick: Tick, currentIndex) => {\n    const currentValue = currentTick.value;\n    if (alignTick) {\n      items.push({\n        points: [\n          coordinate.convert(dim === 'y' ? { x: 0, y: currentValue } : { x: currentValue, y: 0 }),\n          coordinate.convert(dim === 'y' ? { x: 1, y: currentValue } : { x: currentValue, y: 1 }),\n        ],\n      });\n    } else {\n      if (currentIndex) {\n        const preValue = preTick.value;\n        const middleValue = (preValue + currentValue) / 2;\n        items.push({\n          points: [\n            coordinate.convert(dim === 'y' ? { x: 0, y: middleValue } : { x: middleValue, y: 0 }),\n            coordinate.convert(dim === 'y' ? { x: 1, y: middleValue } : { x: middleValue, y: 1 }),\n          ],\n        });\n      }\n    }\n    return currentTick;\n  }, ticks[0]);\n  return items;\n}\n\n/**\n * @ignore\n * get\n * @param coordinate\n * @param xScale\n * @param yScale\n * @param dim\n * @returns items\n */\nexport function getCircleGridItems(\n  coordinate: Coordinate,\n  xScale: Scale,\n  yScale: Scale,\n  alignTick: boolean,\n  dim: string\n) {\n  const count = xScale.values.length;\n  const items = [];\n  const ticks = yScale.getTicks();\n\n  ticks.reduce((preTick: Tick, currentTick: Tick) => {\n    const preValue = preTick ? preTick.value : currentTick.value; // \n    const currentValue = currentTick.value;\n    const middleValue = (preValue + currentValue) / 2;\n    if (dim === 'x') {\n      //  x \n      items.push({\n        points: [\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 0,\n          }),\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 1,\n          }),\n        ],\n      });\n    } else {\n      items.push({\n        points: map(Array(count + 1), (__: any, idx: number) => {\n          return coordinate.convert({\n            x: idx / count,\n            y: alignTick ? currentValue : middleValue,\n          });\n        }),\n      });\n    }\n\n    return currentTick;\n  }, ticks[0]);\n  return items;\n}\n\n/**\n * @ignore\n * show grid or not\n * @param axisTheme\n * @param axisOption\n */\nexport function showGrid(axisTheme: any, axisOption: any): boolean {\n  const userGrid = get(axisOption, 'grid');\n  if (userGrid === null) {\n    return false;\n  }\n\n  const themeGrid = get(axisTheme, 'grid');\n\n  return !(userGrid === undefined && themeGrid === null);\n}\n","import { deepMix, each, get, isUndefined } from '@antv/util';\nimport { DIRECTION, COMPONENT_TYPE, LAYER } from '../../constant';\nimport { CircleAxis, CircleGrid, IGroup, LineAxis, LineGrid, Scale } from '../../dependents';\nimport { AxisCfg, AxisOption, ComponentOption } from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\n\nimport {\n  getAxisDirection,\n  getAxisFactorByRegion,\n  getAxisRegion,\n  getAxisThemeCfg,\n  getAxisTitleOptions,\n  getAxisTitleText,\n  getCircleAxisCenterRadius,\n  isVertical,\n} from '../../util/axis';\nimport { getAxisOption } from '../../util/axis';\nimport { getCircleGridItems, getGridThemeCfg, getLineGridItems, showGrid } from '../../util/grid';\nimport { omit } from '../../util/helper';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype Option = Record<string, AxisOption> | boolean;\n\ntype Cache = Map<string, ComponentOption>;\n\n// update \nconst OMIT_CFG = ['container'];\n\n// \nconst AXIS_DEFAULT_ANIMATE_CFG = {\n  ...DEFAULT_ANIMATE_CFG,\n  appear: null,\n};\n\n/**\n * @ignore\n * G2 Axis controller, will:\n *  - create component\n *    - axis\n *    - grid\n *  - life circle\n */\nexport default class Axis extends Controller<Option> {\n  /** the draw group of axis */\n  private axisContainer: IGroup;\n  private axisForeContainer: IGroup;\n  private gridContainer: IGroup;\n  private gridForeContainer: IGroup;\n\n  /**  object  */\n  private cache: Cache = new Map<string, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    //  gridContainer grid  axis \n    this.gridContainer = this.view.getLayer(LAYER.BG).addGroup();\n    this.gridForeContainer = this.view.getLayer(LAYER.FORE).addGroup();\n    this.axisContainer = this.view.getLayer(LAYER.BG).addGroup();\n    this.axisForeContainer = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  public get name(): string {\n    return 'axis';\n  }\n\n  public init() {}\n\n  public render() {\n    this.update();\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    const coordinate = this.view.getCoordinate();\n\n    each(this.getComponents(), (co: ComponentOption) => {\n      const { component, direction, type, extra } = co;\n      const { dim, scale, alignTick } = extra;\n\n      let updated;\n\n      if (type === COMPONENT_TYPE.AXIS) {\n        if (coordinate.isPolar) {\n          if (dim === 'x') {\n            updated = coordinate.isTransposed\n              ? getAxisRegion(coordinate, direction)\n              : getCircleAxisCenterRadius(coordinate);\n          } else if (dim === 'y') {\n            updated = coordinate.isTransposed\n              ? getCircleAxisCenterRadius(coordinate)\n              : getAxisRegion(coordinate, direction);\n          }\n        } else {\n          updated = getAxisRegion(coordinate, direction);\n        }\n      } else if (type === COMPONENT_TYPE.GRID) {\n        if (coordinate.isPolar) {\n          let items;\n          if (coordinate.isTransposed) {\n            items =\n              dim === 'x'\n                ? getCircleGridItems(coordinate, this.view.getYScales()[0], scale, alignTick, dim)\n                : getLineGridItems(coordinate, scale, dim, alignTick);\n          } else {\n            items =\n              dim === 'x'\n                ? getLineGridItems(coordinate, scale, dim, alignTick)\n                : getCircleGridItems(coordinate, this.view.getXScale(), scale, alignTick, dim);\n          }\n          updated = {\n            items,\n            // coordinate center \n            center: this.view.getCoordinate().getCenter(),\n          };\n        } else {\n          updated = { items: getLineGridItems(coordinate, scale, dim, alignTick) };\n        }\n      }\n      component.update(updated);\n    });\n  }\n\n  /**\n   *  axis \n   */\n  public update() {\n    this.option = this.view.getOptions().axes;\n\n    const updatedCache = new Map<string, ComponentOption>();\n\n    this.updateXAxes(updatedCache);\n    this.updateYAxes(updatedCache);\n\n    // \n    // \n    const newCache = new Map<string, ComponentOption>();\n\n    this.cache.forEach((co: ComponentOption, key: string) => {\n      if (updatedCache.has(key)) {\n        newCache.set(key, co);\n      } else {\n        // \n        co.component.destroy();\n      }\n    });\n\n    // \n    this.cache = newCache;\n  }\n\n  public clear() {\n    super.clear();\n\n    this.cache.clear();\n    this.gridContainer.clear();\n    this.gridForeContainer.clear();\n    this.axisContainer.clear();\n    this.axisForeContainer.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.gridContainer.remove(true);\n    this.gridForeContainer.remove(true);\n    this.axisContainer.remove(true);\n    this.axisForeContainer.remove(true);\n  }\n\n  /**\n   * @override\n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  /**\n   *  x axis\n   * @param updatedCache\n   */\n  private updateXAxes(updatedCache: Cache) {\n    // x axis\n    const scale = this.view.getXScale();\n\n    if (!scale || scale.isIdentity) {\n      return;\n    }\n\n    const xAxisOption = getAxisOption(this.option, scale.field);\n    if (xAxisOption === false) {\n      return;\n    }\n\n    const direction = getAxisDirection(xAxisOption, DIRECTION.BOTTOM);\n    const layer = LAYER.BG;\n    const dim = 'x';\n\n    const coordinate = this.view.getCoordinate();\n\n    const axisId = this.getId('axis', scale.field);\n    const gridId = this.getId('grid', scale.field);\n\n    if (coordinate.isRect) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // \n      if (axis) {\n        const cfg = this.getLineAxisCfg(scale, xAxisOption, direction);\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // \n        axis = this.createLineAxis(scale, xAxisOption, layer, direction, dim);\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // \n      if (grid) {\n        const cfg = this.getLineGridCfg(scale, xAxisOption, direction, dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // \n        grid = this.createLineGrid(scale, xAxisOption, layer, direction, dim);\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else if (coordinate.isPolar) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // \n      if (axis) {\n        const cfg = coordinate.isTransposed\n          ? this.getLineAxisCfg(scale, xAxisOption, DIRECTION.RADIUS)\n          : this.getCircleAxisCfg(scale, xAxisOption, direction);\n\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // \n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            // \n            return;\n          } else {\n            //  chart.axis(true)/chart.axis('x', true)\n            //  x \n            axis = this.createLineAxis(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n          }\n        } else {\n          axis = this.createCircleAxis(scale, xAxisOption, layer, direction, dim);\n        }\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // \n      if (grid) {\n        const cfg = coordinate.isTransposed\n          ? this.getCircleGridCfg(scale, xAxisOption, DIRECTION.RADIUS, dim)\n          : this.getLineGridCfg(scale, xAxisOption, DIRECTION.CIRCLE, dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // \n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            return;\n          } else {\n            grid = this.createCircleGrid(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n          }\n        } else {\n          // grid x \n          grid = this.createLineGrid(scale, xAxisOption, layer, DIRECTION.CIRCLE, dim);\n        }\n\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else {\n      // helix and other, do not draw axis\n    }\n  }\n\n  private updateYAxes(updatedCache: Cache) {\n    // y axes\n    const yScales = this.view.getYScales();\n\n    each(yScales, (scale: Scale, idx: number) => {\n      // @ts-ignore\n      if (!scale || scale.isIdentity) {\n        return;\n      }\n      const { field } = scale;\n      const yAxisOption = getAxisOption(this.option, field);\n\n      if (yAxisOption !== false) {\n        const layer = LAYER.BG;\n        const dim = 'y';\n        const axisId = this.getId('axis', field);\n        const gridId = this.getId('grid', field);\n\n        const coordinate = this.view.getCoordinate();\n\n        if (coordinate.isRect) {\n          const direction = getAxisDirection(yAxisOption, idx === 0 ? DIRECTION.LEFT : DIRECTION.RIGHT);\n\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // \n          if (axis) {\n            const cfg = this.getLineAxisCfg(scale, yAxisOption, direction);\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // \n            axis = this.createLineAxis(scale, yAxisOption, layer, direction, dim);\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // \n          if (grid) {\n            const cfg = this.getLineGridCfg(scale, yAxisOption, direction, dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // \n            grid = this.createLineGrid(scale, yAxisOption, layer, direction, dim);\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else if (coordinate.isPolar) {\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // \n          if (axis) {\n            const cfg = coordinate.isTransposed\n              ? this.getCircleAxisCfg(scale, yAxisOption, DIRECTION.CIRCLE)\n              : this.getLineAxisCfg(scale, yAxisOption, DIRECTION.RADIUS);\n\n            // @ts-ignore\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // \n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                axis = this.createCircleAxis(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n              }\n            } else {\n              axis = this.createLineAxis(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n            }\n\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // \n          if (grid) {\n            const cfg = coordinate.isTransposed\n              ? this.getLineGridCfg(scale, yAxisOption, DIRECTION.CIRCLE, dim)\n              : this.getCircleGridCfg(scale, yAxisOption, DIRECTION.RADIUS, dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // \n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                grid = this.createLineGrid(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n              }\n            } else {\n              grid = this.createCircleGrid(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n            }\n\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else {\n          // helix and other, do not draw axis\n        }\n      }\n    });\n  }\n\n  /**\n   *  line axis\n   * @param scale\n   * @param option\n   * @param layer\n   * @param direction\n   * @param dim\n   */\n  private createLineAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    // axis\n    const axis = {\n      component: new LineAxis(this.getLineAxisCfg(scale, option, direction)),\n      layer,\n      direction: direction === DIRECTION.RADIUS ? DIRECTION.NONE : direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createLineGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getLineGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new LineGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n        },\n      };\n      grid.component.init();\n\n      return grid;\n    }\n  }\n\n  private createCircleAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const axis = {\n      component: new CircleAxis(this.getCircleAxisCfg(scale, option, direction)),\n      layer,\n      direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createCircleGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getCircleGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new CircleGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n        },\n      };\n\n      grid.component.init();\n      return grid;\n    }\n  }\n\n  /**\n   * generate line axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return line axis cfg\n   */\n  private getLineAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION) {\n    const container = get(axisOption, ['top']) ? this.axisForeContainer : this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n    const region = getAxisRegion(coordinate, direction);\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix(\n          { title: { style: { text: titleText } } },\n          { title: getAxisTitleOptions(this.view.getTheme(), direction, axisOption.title) },\n          axisOption\n        )\n      : axisOption;\n\n    const cfg = deepMix(\n      {\n        container,\n        ...region,\n        ticks: scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value })),\n        verticalFactor: coordinate.isPolar\n          ? getAxisFactorByRegion(region, coordinate.getCenter()) * -1\n          : getAxisFactorByRegion(region, coordinate.getCenter()),\n        theme: axisThemeCfg,\n      },\n      axisThemeCfg,\n      optionWithTitle\n    );\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animateOption = animateOption;\n    cfg.animate = animate;\n\n    //  verticalLimitLength\n    const isAxisVertical = isVertical(region);\n    // TODO: 1 / 3 \n    const verticalLimitLength = get(cfg, 'verticalLimitLength', isAxisVertical ? 1 / 3 : 1 / 2);\n    if (verticalLimitLength <= 1) {\n      // \n      const canvasWidth = this.view.getCanvas().get('width');\n      const canvasHeight = this.view.getCanvas().get('height');\n      cfg.verticalLimitLength = verticalLimitLength * (isAxisVertical ? canvasWidth : canvasHeight);\n    }\n\n    return cfg;\n  }\n\n  /**\n   * generate line grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @param dim\n   * @return line grid cfg\n   */\n  private getLineGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string) {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    // grid  axis \n    const gridCfg = deepMix(\n      {\n        container: get(axisOption, ['top']) ? this.gridForeContainer : this.gridContainer,\n      },\n      gridThemeCfg,\n      get(axisOption, 'grid'),\n      this.getAnimateCfg(axisOption)\n    );\n    gridCfg.items = getLineGridItems(this.view.getCoordinate(), scale, dim, get(gridCfg, 'alignTick', true));\n\n    return gridCfg;\n  }\n\n  /**\n   * generate circle axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle axis cfg\n   */\n  private getCircleAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION) {\n    const container = get(axisOption, ['top']) ? this.axisForeContainer : this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n\n    const ticks = scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value }));\n    if (!scale.isCategory && Math.abs(coordinate.endAngle - coordinate.startAngle) === Math.PI * 2) {\n      // x  cat \n      ticks.pop();\n    }\n\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), DIRECTION.CIRCLE);\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix(\n          { title: { style: { text: titleText } } },\n          { title: getAxisTitleOptions(this.view.getTheme(), direction, axisOption.title) },\n          axisOption\n        )\n      : axisOption;\n    const cfg = deepMix(\n      {\n        container,\n        ...getCircleAxisCenterRadius(this.view.getCoordinate()),\n        ticks,\n        verticalFactor: 1,\n        theme: axisThemeCfg,\n      },\n      axisThemeCfg,\n      optionWithTitle\n    );\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animate = animate;\n    cfg.animateOption = animateOption;\n\n    return cfg;\n  }\n\n  /**\n   * generate circle grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle grid cfg\n   */\n  private getCircleGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string) {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n\n    // the cfg order should be ensure\n    // grid  axis \n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), DIRECTION.RADIUS);\n    const gridCfg = deepMix(\n      {\n        container: get(axisOption, ['top']) ? this.gridForeContainer : this.gridContainer,\n        center: this.view.getCoordinate().getCenter(),\n      },\n      gridThemeCfg,\n      get(axisOption, 'grid'),\n      this.getAnimateCfg(axisOption)\n    );\n    const alignTick = get(gridCfg, 'alignTick', true);\n    const verticalScale = dim === 'x' ? this.view.getYScales()[0] : this.view.getXScale();\n    gridCfg.items = getCircleGridItems(this.view.getCoordinate(), verticalScale, scale, alignTick, dim);\n    // the cfg order should be ensure\n    // grid  axis \n    return gridCfg;\n  }\n\n  private getId(name: string, key: string): string {\n    const coordinate = this.view.getCoordinate();\n    //  key\n    return `${name}-${key}-${coordinate.type}`;\n  }\n\n  private getAnimateCfg(cfg) {\n    return {\n      animate: this.view.getOptions().animate && get(cfg, 'animate'), //  view \n      animateOption:\n        cfg && cfg.animateOption ? deepMix({}, AXIS_DEFAULT_ANIMATE_CFG, cfg.animateOption) : AXIS_DEFAULT_ANIMATE_CFG,\n    };\n  }\n}\n","import { DIRECTION } from '../constant';\nimport { Coordinate } from '../dependents';\nimport { Position } from '../interface';\nimport { BBox } from './bbox';\n\n/**\n * @ignore\n *  bbox \n * @param parentBBox\n * @param bbox\n * @param direction\n */\nexport function directionToPosition(parentBBox: BBox, bbox: BBox, direction: DIRECTION): Position {\n  if (direction === DIRECTION.TOP) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.minY];\n  }\n  if (direction === DIRECTION.BOTTOM) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.maxY - bbox.height];\n  }\n  if (direction === DIRECTION.LEFT) {\n    return [parentBBox.minX, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n  if (direction === DIRECTION.RIGHT) {\n    return [parentBBox.maxX - bbox.width, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n\n  if (direction === DIRECTION.TOP_LEFT || direction === DIRECTION.LEFT_TOP) {\n    return [parentBBox.tl.x, parentBBox.tl.y];\n  }\n  if (direction === DIRECTION.TOP_RIGHT || direction === DIRECTION.RIGHT_TOP) {\n    return [parentBBox.tr.x - bbox.width, parentBBox.tr.y];\n  }\n  if (direction === DIRECTION.BOTTOM_LEFT || direction === DIRECTION.LEFT_BOTTOM) {\n    return [parentBBox.bl.x, parentBBox.bl.y - bbox.height];\n  }\n  if (direction === DIRECTION.BOTTOM_RIGHT || direction === DIRECTION.RIGHT_BOTTOM) {\n    return [parentBBox.br.x - bbox.width, parentBBox.br.y - bbox.height];\n  }\n\n  return [0, 0];\n}\n\n/**\n * get direction after coordinate transpose\n * @param direction\n * @param coordinate\n * @returns direction after transpose or not\n */\nfunction getTransposedDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  if (coordinate.isTransposed) {\n    switch (direction) {\n      case DIRECTION.BOTTOM:\n        return DIRECTION.LEFT;\n      case DIRECTION.LEFT:\n        return DIRECTION.BOTTOM;\n      case DIRECTION.RIGHT:\n        return DIRECTION.TOP;\n      case DIRECTION.TOP:\n        return DIRECTION.RIGHT;\n    }\n  }\n  return direction;\n}\n\nfunction reflectX(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.LEFT) {\n    return DIRECTION.RIGHT;\n  }\n\n  if (direct === DIRECTION.RIGHT) {\n    return DIRECTION.LEFT;\n  }\n\n  return direct;\n}\n\nfunction reflectY(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.TOP) {\n    return DIRECTION.BOTTOM;\n  }\n  if (direct === DIRECTION.BOTTOM) {\n    return DIRECTION.TOP;\n  }\n\n  return direct;\n}\n\n/**\n * get direction after coordinate.scale\n * @param direction\n * @param coordinate\n */\nfunction getScaleDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  const x = coordinate.matrix[0];\n  const y = coordinate.matrix[4];\n\n  let d = direction;\n  if (x < 0) {\n    d = reflectX(d);\n  }\n  if (y < 0) {\n    d = reflectY(d);\n  }\n  return d;\n}\n\n/**\n *\n * @param direction\n * @param coordinate\n */\nfunction getReflectDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n\n  if (coordinate.isReflect('x')) {\n    d = reflectX(d);\n  }\n  if (coordinate.isReflect('y')) {\n    d = reflectY(d);\n  }\n\n  return d;\n}\n\n/**\n * @ignore\n * get direction after coordinate translate\n * @param direction\n * @param coordinate\n */\nexport function getTranslateDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n  d = getTransposedDirection(d, coordinate);\n  d = getScaleDirection(d, coordinate);\n  d = getReflectDirection(d, coordinate);\n\n  return d;\n}\n","import { deepMix, each, find, get, head, isBoolean, last } from '@antv/util';\nimport { COMPONENT_MAX_VIEW_PERCENTAGE, COMPONENT_TYPE, DIRECTION, LAYER } from '../../constant';\nimport { Attribute, CategoryLegend, ContinuousLegend, GroupComponent, IGroup, Scale, Tick } from '../../dependents';\nimport { ComponentOption, LegendCfg, LegendOption, LooseObject, AllLegendsOptions, Padding } from '../../interface';\nimport { DEFAULT_ANIMATE_CFG } from '../../animate';\nimport Geometry from '../../geometry/base';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { omit } from '../../util/helper';\nimport { getCustomLegendItems, getLegendItems, getLegendLayout, getLegendThemeCfg } from '../../util/legend';\nimport { getName } from '../../util/scale';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype DoEach = (geometry: Geometry, attr: Attribute, scale: Scale) => void;\n\n/**\n *  legend \n * @param legends\n * @param field\n * @returns the option of one legend field\n */\nfunction getLegendOption(legends: AllLegendsOptions, field: string) {\n  if (isBoolean(legends)) {\n    return legends === false ? false : {};\n  }\n\n  return get(legends, [field], legends);\n}\n\nfunction getDirection(legendOption: any): DIRECTION {\n  return get(legendOption, 'position', DIRECTION.BOTTOM);\n}\n\n/**\n * @ignore\n * legend Controller\n */\nexport default class Legend extends Controller<AllLegendsOptions> {\n  /** the draw group of axis */\n  private container: IGroup;\n  /**  legend  bbox */\n  private layoutBBox: BBox;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  public get name(): string {\n    return 'legend';\n  }\n\n  public init() {}\n\n  /**\n   * render the legend component by legend options\n   */\n  public render() {\n    //  update \n    this.update();\n  }\n\n  /**\n   * layout legend\n   *  legend  direction  x, y\n   */\n  public layout() {\n    this.layoutBBox = this.view.viewBBox;\n\n    each(this.components, (co: ComponentOption) => {\n      const { component, direction } = co;\n      const layout = getLegendLayout(direction);\n      const maxWidthRatio = component.get('maxWidthRatio');\n      const maxHeightRatio = component.get('maxHeightRatio');\n\n      const maxSize = this.getCategoryLegendSizeCfg(layout, maxWidthRatio, maxHeightRatio);\n\n      const maxWidth = component.get('maxWidth');\n      const maxHeight = component.get('maxHeight');\n\n      //  maxSize layoutBBox x y\n      component.update({\n        maxWidth: Math.min(maxSize.maxWidth, maxWidth || 0),\n        maxHeight: Math.min(maxSize.maxHeight, maxHeight || 0),\n      });\n\n      const padding = component.get('padding') as Padding;\n\n      const bboxObject = component.getLayoutBBox(); //  widthheight \n      const bbox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(padding);\n\n      const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, direction);\n      const [x2, y2] = directionToPosition(this.layoutBBox, bbox, direction);\n\n      let x = 0;\n      let y = 0;\n\n      //  legend x y  coordinateBBox \n      if (direction.startsWith('top') || direction.startsWith('bottom')) {\n        x = x1;\n        y = y2;\n      } else {\n        x = x2;\n        y = y1;\n      }\n\n      // \n      component.setLocation({ x: x + padding[3], y: y + padding[0] });\n\n      this.layoutBBox = this.layoutBBox.cut(bbox, direction);\n    });\n  }\n\n  /**\n   * legend \n   */\n  public update() {\n    this.option = this.view.getOptions().legends;\n\n    //  legend\n    const updated: Record<string, true> = {};\n\n    const eachLegend = (geometry: Geometry, attr: Attribute, scale: Scale) => {\n      const id = this.getId(scale.field);\n\n      const existCo = this.getComponentById(id);\n\n      //  update\n      if (existCo) {\n        let cfg;\n        const legendOption = getLegendOption(this.option, scale.field);\n\n        // if the legend option is not false, means legend should be created.\n        if (legendOption !== false) {\n          if (get(legendOption, 'custom')) {\n            cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n          } else {\n            if (scale.isLinear) {\n              // linear field, create continuous legend\n              cfg = this.getContinuousCfg(geometry, attr, scale, legendOption);\n            } else if (scale.isCategory) {\n              // category field, create category legend\n              cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n            }\n          }\n        }\n\n        //  cfg  updated \n        if (cfg) {\n          // omit  container \n          omit(cfg, ['container']);\n\n          existCo.direction = getDirection(legendOption);\n\n          existCo.component.update(cfg);\n\n          // \n          updated[id] = true;\n        }\n      } else {\n        //  create\n        const legend = this.createFieldLegend(geometry, attr, scale);\n\n        if (legend) {\n          (legend.component as GroupComponent).init();\n          this.components.push(legend);\n\n          // \n          updated[id] = true;\n        }\n      }\n    };\n\n    // \n    if (get(this.option, 'custom')) {\n      const id = 'global-custom';\n      const existCo = this.getComponentById(id);\n      if (existCo) {\n        const customCfg = this.getCategoryCfg(undefined, undefined, undefined, this.option, true);\n        omit(customCfg, ['container']);\n        existCo.component.update(customCfg);\n\n        updated[id] = true;\n      } else {\n        const component = this.createCustomLegend(undefined, undefined, undefined, this.option as LegendCfg);\n        if (component) {\n          component.init();\n\n          const layer = LAYER.FORE;\n          const direction = getDirection(this.option);\n\n          this.components.push({\n            id,\n            component,\n            layer,\n            direction,\n            type: COMPONENT_TYPE.LEGEND,\n            extra: undefined,\n          });\n\n          // \n          updated[id] = true;\n        }\n      }\n    } else {\n      // \n      this.loopLegends(eachLegend);\n    }\n\n    // \n    // \n    const components = [];\n    each(this.getComponents(), (co: ComponentOption) => {\n      if (updated[co.id]) {\n        components.push(co);\n      } else {\n        co.component.destroy();\n      }\n    });\n\n    //  components\n    this.components = components;\n  }\n\n  public clear() {\n    super.clear();\n    this.container.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.container.remove(true);\n  }\n\n  /**\n   *  Geometry\n   */\n  private getGeometries(view: View): Geometry[] {\n    let geometries = view.geometries;\n\n    each(view.views, (v: View) => {\n      geometries = geometries.concat(this.getGeometries(v));\n    });\n\n    return geometries;\n  }\n\n  /**\n   *  Geometry legend \n   * @param doEach  loop \n   */\n  private loopLegends(doEach: DoEach) {\n    const isRootView = this.view.getRootView() === this.view;\n    //  view legend\n    if (!isRootView) {\n      return;\n    }\n\n    //  view  Geometry legend\n    const geometries = this.getGeometries(this.view);\n\n    const looped: Record<string, true> = {}; //  legend\n\n    each(geometries, (geometry: Geometry) => {\n      const attributes = geometry.getGroupAttributes();\n\n      each(attributes, (attr: Attribute) => {\n        const scale = attr.getScale(attr.type);\n        //  size(2) shape('circle')  legend\n        if (!scale || scale.type === 'identity' || looped[scale.field]) {\n          return;\n        }\n\n        doEach(geometry, attr, scale);\n\n        looped[scale.field] = true;\n      });\n    });\n  }\n\n  /**\n   *  legend\n   * @param geometry\n   * @param attr\n   * @param scale\n   */\n  private createFieldLegend(geometry: Geometry, attr: Attribute, scale: Scale): ComponentOption {\n    let component;\n\n    const legendOption = getLegendOption(this.option, scale.field);\n    const layer = LAYER.FORE;\n    const direction = getDirection(legendOption);\n\n    // if the legend option is not false, means legend should be created.\n    if (legendOption !== false) {\n      if (get(legendOption, 'custom')) {\n        component = this.createCustomLegend(geometry, attr, scale, legendOption);\n      } else {\n        if (scale.isLinear) {\n          // linear field, create continuous legend\n          component = this.createContinuousLegend(geometry, attr, scale, legendOption);\n        } else if (scale.isCategory) {\n          // category field, create category legend\n          component = this.createCategoryLegend(geometry, attr, scale, legendOption);\n        }\n      }\n    }\n\n    if (component) {\n      component.set('field', scale.field);\n\n      return {\n        id: this.getId(scale.field),\n        component,\n        layer,\n        direction,\n        type: COMPONENT_TYPE.LEGEND,\n        extra: { scale },\n      };\n    }\n  }\n\n  /**\n   *  category \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCustomLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: LegendCfg) {\n    //  \n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createContinuousLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getContinuousCfg(geometry, attr, scale, omit(legendOption, ['value']));\n    return new ContinuousLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCategoryLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private getContinuousCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const ticks = scale.getTicks();\n\n    const containMin = find(ticks, (tick: Tick) => tick.value === 0);\n    const containMax = find(ticks, (tick: Tick) => tick.value === 1);\n    const items = ticks.map((tick: Tick) => {\n      const { value, tickValue } = tick;\n      const attrValue = attr.mapping(scale.invert(value)).join('');\n\n      return {\n        value: tickValue,\n        attrValue,\n        color: attrValue,\n        scaleValue: value,\n      };\n    });\n\n    if (!containMin) {\n      items.push({\n        value: scale.min,\n        attrValue: attr.mapping(scale.invert(0)).join(''),\n        color: attr.mapping(scale.invert(0)).join(''),\n        scaleValue: 0,\n      });\n    }\n    if (!containMax) {\n      items.push({\n        value: scale.max,\n        attrValue: attr.mapping(scale.invert(1)).join(''),\n        color: attr.mapping(scale.invert(1)).join(''),\n        scaleValue: 1,\n      });\n    }\n\n    // \n    items.sort((a: any, b: any) => a.value - b.value);\n\n    //  attr \n    // size color \n    const attrLegendCfg: LooseObject = {\n      min: head(items).value,\n      max: last(items).value,\n      colors: [],\n      rail: {\n        type: attr.type,\n      },\n      track: {},\n    };\n\n    if (attr.type === 'size') {\n      attrLegendCfg.track = {\n        style: {\n          // size  color color \n          // @ts-ignore\n          fill: attr.type === 'size' ? this.view.getTheme().defaultColor : undefined,\n        },\n      };\n    }\n\n    if (attr.type === 'color') {\n      attrLegendCfg.colors = items.map((item) => item.attrValue);\n    }\n\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = getDirection(legendOption);\n\n    const layout = getLegendLayout(direction);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix(\n        {\n          text: getName(scale),\n        },\n        title\n      );\n    }\n\n    // \n    attrLegendCfg.container = container;\n    attrLegendCfg.layout = layout;\n    attrLegendCfg.title = title;\n    attrLegendCfg.animateOption = DEFAULT_ANIMATE_CFG;\n    // @ts-ignore\n    return this.mergeLegendCfg(attrLegendCfg, legendOption, 'continuous');\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param custom\n   * @param legendOption\n   */\n  private getCategoryCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any, custom?: boolean) {\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = get(legendOption, 'position', DIRECTION.BOTTOM);\n\n    const legendTheme = getLegendThemeCfg(this.view.getTheme(), direction);\n\n    // the default marker style\n    const themeMarker = get(legendTheme, ['marker']);\n    const userMarker = get(legendOption, 'marker');\n    const layout = getLegendLayout(direction);\n    const themePageNavigator = get(legendTheme, ['pageNavigator']);\n    const userPageNavigator = get(legendOption, 'pageNavigator');\n\n    const items = custom\n      ? getCustomLegendItems(themeMarker, userMarker, legendOption.items)\n      : getLegendItems(this.view, geometry, attr, themeMarker, userMarker);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix(\n        {\n          text: scale ? getName(scale) : '',\n        },\n        title\n      );\n    }\n    const maxWidthRatio = get(legendOption, 'maxWidthRatio');\n    const maxHeightRatio = get(legendOption, 'maxHeightRatio');\n\n    const baseCfg: LooseObject = this.getCategoryLegendSizeCfg(layout, maxWidthRatio, maxHeightRatio);\n    baseCfg.container = container;\n    baseCfg.layout = layout;\n    baseCfg.items = items;\n    baseCfg.title = title;\n    baseCfg.animateOption = DEFAULT_ANIMATE_CFG;\n    baseCfg.pageNavigator = deepMix({}, themePageNavigator, userPageNavigator);\n\n    const categoryCfg = this.mergeLegendCfg(baseCfg, legendOption, direction);\n    if (categoryCfg.reversed) {\n      // \n      categoryCfg.items.reverse();\n    }\n\n    const maxItemWidth = get(categoryCfg, 'maxItemWidth');\n    if (maxItemWidth && maxItemWidth <= 1) {\n      // \n      categoryCfg.maxItemWidth = this.view.viewBBox.width * maxItemWidth;\n    }\n\n    return categoryCfg;\n  }\n\n  /**\n   * get legend config, use option > suggestion > theme\n   * @param baseCfg\n   * @param legendOption\n   * @param direction\n   */\n  private mergeLegendCfg(baseCfg: object, legendOption: LegendOption, direction: DIRECTION) {\n    const position = direction.split('-')[0];\n    const themeObject = getLegendThemeCfg(this.view.getTheme(), position);\n\n    return deepMix({}, themeObject, baseCfg, legendOption);\n  }\n\n  /**\n   *  id\n   * @param key\n   */\n  private getId(key: string): string {\n    return `${this.name}-${key}`;\n  }\n\n  /**\n   *  id \n   * @param id\n   */\n  private getComponentById(id: string): ComponentOption {\n    return find(this.components, (co) => co.id === id);\n  }\n\n  private getCategoryLegendSizeCfg(\n    layout: 'horizontal' | 'vertical',\n    maxWidthRatio = COMPONENT_MAX_VIEW_PERCENTAGE,\n    maxHeightRatio = COMPONENT_MAX_VIEW_PERCENTAGE\n  ) {\n    const { width: vw, height: vh } = this.view.viewBBox;\n    //  legend  viewBBox \n    // const { width: cw, height: ch } = this.view.coordinateBBox;\n    return layout === 'vertical'\n      ? {\n          maxWidth: vw * maxWidthRatio,\n          maxHeight: vh,\n        }\n      : {\n          maxWidth: vw,\n          maxHeight: vh * maxHeightRatio,\n        };\n  }\n}\n","import { deepMix, get, isObject, size, clamp, isNil, noop, throttle, isEmpty, valuesOfKey } from '@antv/util';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { IGroup, Slider as SliderComponent } from '../../dependents';\nimport { ComponentOption, Datum, Padding } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { isBetween } from '../../util/helper';\nimport { Writeable } from '../../util/types';\nimport View from '../view';\nimport { Controller } from './base';\nimport { SliderOption, SliderCfg } from '../../interface';\n\n/**\n * @ignore\n * slider Controller\n */\nexport default class Slider extends Controller<SliderOption> {\n  private slider: ComponentOption;\n  private container: IGroup;\n\n  private width: number;\n  private start: number;\n  private end: number;\n\n  private onChangeFn: (evt: {}) => void = noop;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n    this.onChangeFn = throttle(this.onValueChange, 20, {\n      leading: true,\n    }) as (evt: {}) => void;\n\n    this.width = 0;\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  get name(): string {\n    return 'slider';\n  }\n\n  public destroy() {\n    super.destroy();\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  /**\n   * \n   */\n  public init() {}\n\n  /**\n   * \n   */\n  public render() {\n    this.option = this.view.getOptions().slider;\n    const { start, end } = this.getSliderCfg();\n    if (isNil(this.start)) {\n      this.start = start;\n      this.end = end;\n    }\n\n    const { data: viewData } = this.view.getOptions();\n    if (this.option && !isEmpty(viewData)) {\n      if (this.slider) {\n        // exist, update\n        this.slider = this.updateSlider();\n      } else {\n        // not exist, create\n        this.slider = this.createSlider();\n        // \n        this.slider.component.on('sliderchange', this.onChangeFn);\n      }\n    } else {\n      if (this.slider) {\n        // exist, destroy\n        this.slider.component.destroy();\n        this.slider = undefined;\n      } else {\n        // do nothing\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    if (this.option && !this.width) {\n      this.measureSlider();\n      setTimeout(() => {\n        //  view \n        if (!this.view.destroyed) {\n          this.changeViewData(this.start, this.end);\n        }\n      }, 0);\n    }\n    if (this.slider) {\n      const width = this.view.coordinateBBox.width;\n      //  layout bbox\n      const padding: Padding = this.slider.component.get('padding') as Padding;\n      const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n      const bboxObject = this.slider.component.getLayoutBBox();\n      const bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(\n        padding\n      );\n      const { minText, maxText } = this.getMinMaxText(this.start, this.end);\n\n      const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM);\n      const [x2, y2] = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM);\n\n      //  bottom\n      this.slider.component.update({\n        ...this.getSliderCfg(),\n        x: x2 + paddingLeft,\n        y: y1 + paddingTop,\n        width: this.width,\n        start: this.start,\n        end: this.end,\n        minText,\n        maxText,\n      });\n\n      this.view.viewBBox = this.view.viewBBox.cut(bbox, DIRECTION.BOTTOM);\n    }\n  }\n\n  /**\n   * \n   */\n  public update() {\n    //  render \n    this.render();\n  }\n\n  /**\n   *  slider \n   */\n  private createSlider(): ComponentOption {\n    const cfg: any = this.getSliderCfg();\n    //  slider \n    const component = new SliderComponent({\n      container: this.container,\n      ...cfg,\n    });\n\n    component.init();\n\n    return {\n      component,\n      layer: LAYER.FORE,\n      direction: DIRECTION.BOTTOM,\n      type: COMPONENT_TYPE.SLIDER,\n    };\n  }\n\n  /**\n   * \n   */\n  private updateSlider() {\n    let cfg = this.getSliderCfg();\n    if (this.width) {\n      const { minText, maxText } = this.getMinMaxText(this.start, this.end);\n      cfg = { ...cfg, width: this.width, start: this.start, end: this.end, minText, maxText };\n    }\n\n    this.slider.component.update(cfg);\n\n    return this.slider;\n  }\n\n  /**\n   * \n   */\n  private measureSlider() {\n    const { width } = this.getSliderCfg();\n\n    this.width = width;\n  }\n\n  /**\n   * \n   */\n  private resetMeasure = () => {\n    this.clear();\n  };\n\n  /**\n   *  slider \n   */\n  private getSliderCfg() {\n    let cfg: Writeable<SliderCfg> & { x: number; y: number; width: number; minText: string; maxText: string } = {\n      height: 16,\n      start: 0,\n      end: 1,\n      minText: '',\n      maxText: '',\n      x: 0,\n      y: 0,\n      width: this.view.coordinateBBox.width,\n    };\n    if (isObject(this.option)) {\n      // \n      const trendCfg = {\n        data: this.getData(),\n        ...get(this.option, 'trendCfg', {}),\n      };\n\n      // \n      cfg = deepMix({}, cfg, this.getThemeOptions(), this.option);\n\n      // trendCfg \n      cfg = { ...cfg, trendCfg };\n    }\n\n    cfg.start = clamp(Math.min(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n    cfg.end = clamp(Math.max(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n\n    return cfg;\n  }\n\n  /**\n   *  view \n   */\n  private getData(): number[] {\n    const data = this.view.getOptions().data;\n    const [yScale] = this.view.getYScales();\n    const groupScales = this.view.getGroupScales();\n    if (groupScales.length) {\n      const { field, ticks } = groupScales[0];\n      return data.reduce((pre, cur) => {\n        if (cur[field] === ticks[0]) {\n          pre.push(cur[yScale.field] as number);\n        }\n        return pre;\n      }, []) as number[];\n    }\n\n    return data.map((datum) => datum[yScale.field] || 0);\n  }\n\n  /**\n   *  slider \n   */\n  private getThemeOptions() {\n    const theme = this.view.getTheme();\n    return get(theme, ['components', 'slider', 'common'], {});\n  }\n\n  /**\n   * \n   * @param v\n   */\n  private onValueChange = (v: any) => {\n    const [min, max] = v;\n\n    this.start = min;\n    this.end = max;\n\n    this.changeViewData(min, max);\n  };\n\n  /**\n   *  start/end  minText/maxText\n   * @param min\n   * @param max\n   */\n  private getMinMaxText(min: number, max: number) {\n    const data = this.view.getOptions().data;\n    const xScale = this.view.getXScale();\n    const isHorizontal = true;\n    let values = valuesOfKey(data, xScale.field);\n\n    //  xScale \n    if (xScale.isLinear) {\n      values = values.sort();\n    }\n\n    const xValues = isHorizontal ? values : values.reverse();\n    const dataSize = size(data);\n\n    if (!xScale || !dataSize) {\n      return {}; // fix: \n    }\n\n    const xTickCount = size(xValues);\n\n    const minIndex = Math.floor(min * (xTickCount - 1));\n    const maxIndex = Math.floor(max * (xTickCount - 1));\n\n    let minText = get(xValues, [minIndex]);\n    let maxText = get(xValues, [maxIndex]);\n\n    const formatter = this.getSliderCfg().formatter as SliderCfg['formatter'];\n    if (formatter) {\n      minText = formatter(minText, data[minIndex], minIndex);\n      maxText = formatter(maxText, data[maxIndex], maxIndex);\n    }\n\n    return {\n      minText,\n      maxText,\n    };\n  }\n\n  /**\n   *  view \n   * @param min\n   * @param max\n   */\n  private changeViewData(min: number, max: number) {\n    const data = this.view.getOptions().data;\n    const xScale = this.view.getXScale();\n    const dataSize = size(data);\n    if (!xScale || !dataSize) {\n      return;\n    }\n    const isHorizontal = true;\n    const values = valuesOfKey(data, xScale.field);\n\n    //  xScale \n    const xScaleValues = this.view.getXScale().isLinear ? values.sort((a, b) => Number(a) - Number(b)) : values;\n\n    const xValues = isHorizontal ? xScaleValues : xScaleValues.reverse();\n    const xTickCount = size(xValues);\n\n    const minIndex = Math.floor(min * (xTickCount - 1));\n    const maxIndex = Math.floor(max * (xTickCount - 1));\n\n    //  x \n    this.view.filter(xScale.field, (value: any, datum: Datum) => {\n      const idx: number = xValues.indexOf(value);\n      return idx > -1 ? isBetween(idx, minIndex, maxIndex) : true;\n    });\n    this.view.render(true);\n  }\n\n  /**\n   * \n   */\n  public getComponents() {\n    return this.slider ? [this.slider] : [];\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    if (this.slider) {\n      this.slider.component.destroy();\n      this.slider = undefined;\n    }\n    this.width = 0;\n    this.start = undefined;\n    this.end = undefined;\n  }\n}\n","import { Controller } from './base';\nimport { IGroup, Scrollbar as ScrollbarComponent, Scale } from '../../dependents';\nimport { ScrollbarOption, ComponentOption, ScrollbarCfg, Data, ScaleOption, Padding } from '../../interface';\nimport View from '../view';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { isObject, clamp, size, throttle, noop, get, valuesOfKey, deepMix } from '@antv/util';\nimport { isBetween } from '../../util/helper';\n\nconst DEFAULT_PADDING: number = 0;\nconst DEFAULT_SIZE: number = 8;\nconst DEFAULT_CATEGORY_SIZE: number = 32;\nconst MIN_THUMB_LENGTH: number = 20;\n\nexport default class Scrollbar extends Controller<ScrollbarOption> {\n  private scrollbar: ComponentOption;\n  private container: IGroup;\n\n  private trackLen: number;\n  private thumbLen: number;\n  private cnt: number;\n  private step: number;\n  private ratio: number;\n  private data: Data;\n  private xScaleCfg: {\n    field: string;\n    values: string[];\n  };\n  private yScalesCfg: Scale[];\n\n  private onChangeFn: (evt: {}) => void = noop;\n\n  constructor(view: View) {\n    super(view);\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n    this.onChangeFn = throttle(this.onValueChange, 20, {\n      leading: true,\n    }) as (evt: {}) => void;\n    this.trackLen = 0;\n    this.thumbLen = 0;\n    this.ratio = 0;\n\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  get name(): string {\n    return 'scrollbar';\n  }\n\n  public destroy() {\n    super.destroy();\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  public init() { }\n\n  /**\n   * \n   */\n  public render() {\n    this.option = this.view.getOptions().scrollbar;\n\n    if (this.option) {\n      if (this.scrollbar) {\n        // exist, update\n        this.scrollbar = this.updateScrollbar();\n      } else {\n        // not exist, create\n        this.scrollbar = this.createScrollbar();\n        this.scrollbar.component.on('scrollchange', this.onChangeFn);\n      }\n    } else {\n      if (this.scrollbar) {\n        // exist, destroy\n        this.scrollbar.component.destroy();\n        this.scrollbar = undefined;\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    if (this.option && !this.trackLen) {\n      this.measureScrollbar();\n      setTimeout(() => {\n        if (!this.view.destroyed) {\n          this.changeViewData(this.getScrollRange(), true);\n        }\n      });\n    }\n    if (this.scrollbar) {\n      const width = this.view.coordinateBBox.width;\n      const padding: Padding = this.scrollbar.component.get('padding') as Padding;\n      const bboxObject = this.scrollbar.component.getLayoutBBox();\n      const bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(\n        padding\n      );\n      const cfg = this.getScrollbarComponentCfg();\n\n      let x: number;\n      let y: number;\n\n      if (cfg.isHorizontal) {\n        const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM);\n        const [x2, y2] = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM);\n        x = x2;\n        y = y1;\n      } else {\n        const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT);\n        const [x2, y2] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT);\n        x = x2;\n        y = y1;\n      }\n\n      x += padding[3];\n      y += padding[0];\n\n      //  bottom\n      if (this.trackLen) {\n        this.scrollbar.component.update({\n          ...cfg,\n          x,\n          y,\n          trackLen: this.trackLen,\n          thumbLen: this.thumbLen,\n          thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,\n        });\n      } else {\n        this.scrollbar.component.update({\n          ...cfg,\n          x,\n          y,\n        });\n      }\n\n      this.view.viewBBox = this.view.viewBBox.cut(bbox, cfg.isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT);\n    }\n  }\n\n  /**\n   * \n   */\n  public update() {\n    //  render \n    this.render();\n  }\n\n  public getComponents() {\n    return this.scrollbar ? [this.scrollbar] : [];\n  }\n\n  public clear() {\n    if (this.scrollbar) {\n      this.scrollbar.component.destroy();\n      this.scrollbar = undefined;\n    }\n    this.trackLen = 0;\n    this.thumbLen = 0;\n    this.ratio = 0;\n    this.cnt = 0;\n    this.step = 0;\n    this.data = undefined;\n    this.xScaleCfg = undefined;\n    this.yScalesCfg = [];\n  }\n\n  /**   */\n  public setValue(ratio: number) {\n    this.onValueChange({ ratio });\n  }\n\n  /**   */\n  public getValue() {\n    return this.ratio;\n  }\n\n  /**\n   *  scrollbar \n   */\n  private getThemeOptions() {\n    const theme = this.view.getTheme();\n    return get(theme, ['components', 'scrollbar', 'common'], {});\n  }\n\n  /**\n   *  scrollbar \n   */\n  private getScrollbarTheme(style?: ScrollbarCfg['style']) {\n    const theme = get(this.view.getTheme(), ['components', 'scrollbar']);\n    const { thumbHighlightColor, ...restStyles } = style || {};\n    return {\n      default: deepMix({}, get(theme, ['default', 'style'], {}), restStyles),\n      hover: deepMix({}, get(theme, ['hover', 'style'], {}), { thumbColor: thumbHighlightColor }),\n    };\n  }\n\n  private resetMeasure = () => {\n    this.clear();\n  };\n\n  private onValueChange = ({ ratio }: { ratio: number }) => {\n    const { animate } = this.getValidScrollbarCfg();\n    this.ratio = clamp(ratio, 0, 1);\n    const originalAnimate = this.view.getOptions().animate;\n    if (!animate) {\n      this.view.animate(false);\n    }\n    this.changeViewData(this.getScrollRange(), true);\n    this.view.animate(originalAnimate);\n  };\n\n  private measureScrollbar(): void {\n    const xScale = this.view.getXScale();\n    const yScales = this.view.getYScales().slice();\n    this.data = this.getScrollbarData();\n    this.step = this.getStep();\n    this.cnt = this.getCnt();\n    const { trackLen, thumbLen } = this.getScrollbarComponentCfg();\n    this.trackLen = trackLen;\n    this.thumbLen = thumbLen;\n    this.xScaleCfg = {\n      field: xScale.field,\n      values: xScale.values || [],\n    };\n    this.yScalesCfg = yScales;\n  }\n\n  private getScrollRange(): [number, number] {\n    const startIdx: number = Math.floor((this.cnt - this.step) * clamp(this.ratio, 0, 1));\n    const endIdx: number = Math.min(startIdx + this.step - 1, this.cnt - 1);\n    return [startIdx, endIdx];\n  }\n\n  private changeViewData([startIdx, endIdx]: [number, number], render?: boolean): void {\n    const { type } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const values = valuesOfKey(this.data, this.xScaleCfg.field);\n\n    //  xScale \n    const xScaleValues = this.view.getXScale().isLinear ? values.sort((a, b) => Number(a) - Number(b)) : values;\n\n    const xValues = isHorizontal ? xScaleValues : xScaleValues.reverse();\n    this.yScalesCfg.forEach((cfg) => {\n      this.view.scale(cfg.field, {\n        formatter: cfg.formatter,\n        type: cfg.type as ScaleOption['type'],\n        min: cfg.min,\n        max: cfg.max,\n        tickMethod: cfg.tickMethod\n      });\n    });\n    this.view.filter(this.xScaleCfg.field, (val) => {\n      const idx = xValues.indexOf(val);\n      return idx > -1 ? isBetween(idx, startIdx, endIdx) : true;\n    });\n    this.view.render(true);\n  }\n\n  private createScrollbar(): ComponentOption {\n    const { type } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const component = new ScrollbarComponent({\n      container: this.container,\n      ...this.getScrollbarComponentCfg(),\n      x: 0,\n      y: 0,\n    });\n\n    component.init();\n\n    return {\n      component,\n      layer: LAYER.FORE,\n      direction: isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT,\n      type: COMPONENT_TYPE.SCROLLBAR,\n    };\n  }\n\n  private updateScrollbar(): ComponentOption {\n    const config = this.getScrollbarComponentCfg();\n    const realConfig = this.trackLen\n      ? {\n        ...config,\n        trackLen: this.trackLen,\n        thumbLen: this.thumbLen,\n        thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,\n      }\n      : { ...config };\n    this.scrollbar.component.update(realConfig);\n\n    return this.scrollbar;\n  }\n\n  private getStep() {\n    if (this.step) {\n      return this.step;\n    }\n    const { coordinateBBox } = this.view;\n    const { type, categorySize } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n\n    return Math.floor((isHorizontal ? coordinateBBox.width : coordinateBBox.height) / categorySize);\n  }\n\n  private getCnt() {\n    if (this.cnt) {\n      return this.cnt;\n    }\n    const xScale = this.view.getXScale();\n    const data = this.getScrollbarData();\n    const values = valuesOfKey(data, xScale.field);\n    return size(values);\n  }\n\n  private getScrollbarComponentCfg() {\n    const { coordinateBBox, viewBBox } = this.view;\n    const { type, padding, width, height, style } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n    const position = isHorizontal\n      ? {\n        x: coordinateBBox.minX + paddingLeft,\n        y: viewBBox.maxY - height - paddingBottom,\n      }\n      : {\n        x: viewBBox.maxX - width - paddingRight,\n        y: coordinateBBox.minY + paddingTop,\n      };\n    const step = this.getStep();\n    const cnt = this.getCnt();\n    const trackLen = isHorizontal\n      ? coordinateBBox.width - paddingLeft - paddingRight\n      : coordinateBBox.height - paddingTop - paddingBottom;\n    const thumbLen = Math.max(trackLen * clamp(step / cnt, 0, 1), MIN_THUMB_LENGTH);\n\n    return {\n      ...this.getThemeOptions(),\n      x: position.x,\n      y: position.y,\n      size: isHorizontal ? height : width,\n      isHorizontal,\n      trackLen,\n      thumbLen,\n      thumbOffset: 0,\n      theme: this.getScrollbarTheme(style),\n    };\n  }\n\n  /**\n   * \n   */\n  private getValidScrollbarCfg(): Required<ScrollbarCfg> {\n    let cfg: Required<ScrollbarCfg> = {\n      type: 'horizontal',\n      categorySize: DEFAULT_CATEGORY_SIZE,\n      width: DEFAULT_SIZE,\n      height: DEFAULT_SIZE,\n      padding: [0, 0, 0, 0],\n      animate: true,\n      style: {},\n    };\n    if (isObject(this.option)) {\n      cfg = { ...cfg, ...this.option };\n    }\n    if (!isObject(this.option) || !this.option.padding) {\n      cfg.padding =\n        cfg.type === 'horizontal' ? [DEFAULT_PADDING, 0, DEFAULT_PADDING, 0] : [0, DEFAULT_PADDING, 0, DEFAULT_PADDING];\n    }\n\n    return cfg;\n  }\n\n  /**\n   * \n   */\n  private getScrollbarData(): Data {\n    const coordinate = this.view.getCoordinate();\n    const cfg = this.getValidScrollbarCfg();\n    let data = this.view.getOptions().data || [];\n    //  y \n    if (coordinate.isReflect('y') && cfg.type === 'vertical') {\n      data = [...data].reverse();\n    }\n\n    return data;\n  }\n}\n","import { each, head, isEqual, last, get, flatten, isArray, uniq, isNil } from '@antv/util';\nimport { View } from 'src/chart';\nimport { findItemsFromViewRecurisive } from '../../util/tooltip';\nimport { IShape, Point, ShapeAttrs } from '../../dependents';\nimport Element from '../../geometry/element';\nimport { LooseObject, TooltipCfg } from '../../interface';\nimport { getAngle, getSectorPath } from '../../util/graphics';\nimport Action from './base';\n\nconst DEFAULT_REGION_PATH_STYLE = {\n  fill: '#CCD6EC',\n  opacity: 0.3,\n};\n\nexport function getItemsOfView(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  let items = findItemsFromViewRecurisive(view, point, tooltipCfg);\n  if (items.length) {\n    // \n    items = flatten(items);\n    for (const itemArr of items) {\n      for (const item of itemArr) {\n        const { x, y } = item.mappingData;\n        item.x = isArray(x) ? x[x.length - 1] : x;\n        item.y = isArray(y) ? y[y.length - 1] : y;\n      }\n    }\n\n    const { shared } = tooltipCfg;\n    // shared: false  shape  view  Geometry shape\n    if (shared === false && items.length > 1) {\n      let snapItem = items[0];\n      let min = Math.abs(point.y - snapItem[0].y);\n      for (const aItem of items) {\n        const yDistance = Math.abs(point.y - aItem[0].y);\n        if (yDistance <= min) {\n          snapItem = aItem;\n          min = yDistance;\n        }\n      }\n      items = [snapItem];\n    }\n\n    return uniq(flatten(items));\n  }\n\n  return [];\n}\n\n/**\n *  Action.  interval  schema geometry\n * @ignore\n */\nclass ActiveRegion extends Action {\n  private items: any[];\n  private regionPath: IShape;\n  /**\n   * \n   * @param {ShapeAttrs} style region-path \n   * @param {number} appendRatio .  x  linear : 0.25, x  linear :  0\n   * @param {number} appendWidth  .  > appendRatio\n   */\n  public show(args?: { style: ShapeAttrs; appendRatio?: number; appendWidth?: number }) {\n    const view = this.context.view;\n    const ev = this.context.event;\n\n    const tooltipCfg = view.getController('tooltip').getTooltipCfg();\n    const tooltipItems = getItemsOfView(\n      view,\n      {\n        x: ev.x,\n        y: ev.y,\n      },\n      tooltipCfg\n    );\n\n    if (isEqual(tooltipItems, this.items)) {\n      // \n      return;\n    }\n    this.items = tooltipItems;\n    if (tooltipItems.length) {\n      const xField = view.getXScale().field;\n      const xValue = tooltipItems[0].data[xField];\n      //  x  elements\n      let elements: Element[] = [];\n      const geometries = view.geometries;\n      each(geometries, (geometry) => {\n        if (geometry.type === 'interval' || geometry.type === 'schema') {\n          const result = geometry.getElementsBy((ele) => {\n            const eleData = ele.getData();\n            return eleData[xField] === xValue;\n          });\n\n          elements = elements.concat(result);\n        }\n      });\n\n      //  bbox \n      if (elements.length) {\n        const coordinate = view.getCoordinate();\n\n        let firstBBox = elements[0].shape.getCanvasBBox();\n        let lastBBox = elements[0].shape.getCanvasBBox();\n        const groupBBox: LooseObject = firstBBox;\n\n        each(elements, (ele: Element) => {\n          const bbox = ele.shape.getCanvasBBox();\n          if (coordinate.isTransposed) {\n            if (bbox.minY < firstBBox.minY) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxY > lastBBox.maxY) {\n              lastBBox = bbox;\n            }\n          } else {\n            if (bbox.minX < firstBBox.minX) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxX > lastBBox.maxX) {\n              lastBBox = bbox;\n            }\n          }\n\n          groupBBox.x = Math.min(bbox.minX, groupBBox.minX);\n          groupBBox.y = Math.min(bbox.minY, groupBBox.minY);\n          groupBBox.width = Math.max(bbox.maxX, groupBBox.maxX) - groupBBox.x;\n          groupBBox.height = Math.max(bbox.maxY, groupBBox.maxY) - groupBBox.y;\n        });\n\n        const { backgroundGroup, coordinateBBox } = view;\n        let path;\n        if (coordinate.isRect) {\n          const xScale = view.getXScale();\n\n          let { appendRatio, appendWidth } = args || {};\n          if (isNil(appendWidth)) {\n            appendRatio = isNil(appendRatio) ? (xScale.isLinear ? 0 : 0.25) : appendRatio; //  x \n            appendWidth = coordinate.isTransposed ? appendRatio * lastBBox.height : appendRatio * firstBBox.width;\n          }\n\n          let minX: number;\n          let minY: number;\n          let width: number;\n          let height: number;\n          if (coordinate.isTransposed) {\n            minX = coordinateBBox.minX;\n            minY = Math.min(lastBBox.minY, firstBBox.minY) - appendWidth;\n            width = coordinateBBox.width;\n            height = groupBBox.height + appendWidth * 2;\n          } else {\n            minX = Math.min(firstBBox.minX, lastBBox.minX) - appendWidth;\n            //    minY\n            minY = coordinateBBox.minY;\n            width = groupBBox.width + appendWidth * 2;\n            height = coordinateBBox.height;\n          }\n\n          path = [\n            ['M', minX, minY],\n            ['L', minX + width, minY],\n            ['L', minX + width, minY + height],\n            ['L', minX, minY + height],\n            ['Z'],\n          ];\n        } else {\n          const firstElement = head(elements);\n          const lastElement = last(elements);\n          const { startAngle } = getAngle(firstElement.getModel(), coordinate);\n          const { endAngle } = getAngle(lastElement.getModel(), coordinate);\n          const center = coordinate.getCenter();\n          const radius = coordinate.getRadius();\n          const innterRadius = coordinate.innerRadius * radius;\n          path = getSectorPath(center.x, center.y, radius, startAngle, endAngle, innterRadius);\n        }\n\n        if (this.regionPath) {\n          this.regionPath.attr('path', path);\n          this.regionPath.show();\n        } else {\n          const style = get(args, 'style', DEFAULT_REGION_PATH_STYLE);\n          this.regionPath = backgroundGroup.addShape({\n            type: 'path',\n            name: 'active-region',\n            capture: false,\n            attrs: {\n              ...style,\n              path,\n            },\n          });\n        }\n      }\n    }\n  }\n  /**\n   * \n   */\n  public hide() {\n    if (this.regionPath) {\n      this.regionPath.hide();\n    }\n    // this.regionPath = null;\n    this.items = null;\n  }\n  /**\n   * \n   */\n  public destroy() {\n    this.hide();\n    if (this.regionPath) {\n      this.regionPath.remove(true);\n    }\n    super.destroy();\n  }\n}\n\nexport default ActiveRegion;\n","import { isEqual, get } from '@antv/util';\nimport { View } from '../../../../chart';\nimport { Point } from '../../../../interface';\nimport Action from '../../base';\nimport Tooltip from '../../../../chart/controller/tooltip';\n\n/**\n * Tooltip  Action\n * @ignore\n */\nclass TooltipAction extends Action {\n  private timeStamp: number = 0;\n  private location: Point;\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public show() {\n    const context = this.context;\n    const ev = context.event;\n    const view = context.view;\n    const isTooltipLocked = view.isTooltipLocked();\n    if (isTooltipLocked) {\n      //  tooltip\n      return;\n    }\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    //  showDelay  16ms tooltip  enterable\n    const showDelay = get(context.view.getOptions(), 'tooltip.showDelay', 16);\n    if (timeStamp - lastTimeStamp > showDelay) {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(view, curLoc);\n      }\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hide() {\n    const view = this.context.view;\n\n    const tooltip = view.getController('tooltip');\n    const { clientX, clientY } = this.context.event;\n\n    //  enterable +  tooltip \n    if (tooltip.isCursorEntered({ x: clientX, y: clientY })) {\n      return;\n    }\n\n    //  tooltip \n    if (view.isTooltipLocked()) {\n      return;\n    }\n    this.hideTooltip(view);\n    this.location = null;\n  }\n\n  protected showTooltip(view: View, point: Point) {\n    // \n    view.showTooltip(point);\n  }\n\n  protected hideTooltip(view) {\n    view.hideTooltip();\n  }\n}\n\nexport default TooltipAction;\n","import { each } from '@antv/util';\nimport { View } from '../../../../chart';\nimport { Point } from '../../../../interface';\nimport { getSiblingPoint, getSilbings } from '../../util';\nimport TooltipAction from './geometry';\n\n/**\n *  view  view  tooltip \n * @ignore\n */\nclass SiblingTooltip extends TooltipAction {\n  /**\n   *  tooltip \n   * @param view\n   * @param point\n   */\n  protected showTooltip(view: View, point: Point) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const siblingPoint = getSiblingPoint(view, sibling, point);\n      sibling.showTooltip(siblingPoint);\n    });\n  }\n  /**\n   *  tooltip\n   * @param view\n   */\n  protected hideTooltip(view) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.hideTooltip();\n    });\n  }\n}\n\nexport default SiblingTooltip;\n","import { isEqual, get, deepMix } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { Point } from '../../../../interface';\nimport Action from '../../base';\nimport { HtmlTooltip } from '../../../../dependents';\n\n/**\n *  Tooltip Action\n * @ignore\n */\nexport default class EllipsisText extends Action {\n  private timeStamp: number = 0;\n  private location: Point;\n  private tooltip;\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public show() {\n    const context = this.context;\n    const ev = context.event;\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    if (timeStamp - lastTimeStamp > 16) {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(curLoc);\n      }\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hide() {\n    this.hideTooltip();\n    this.location = null;\n  }\n\n  protected showTooltip(curLoc: Point) {\n    const context = this.context;\n    const ev = context.event;\n    const target = ev.target;\n\n    if (target && target.get('tip')) {\n      if (!this.tooltip) {\n        this.renderTooltip(); // \n      }\n      const tipContent = target.get('tip');\n      //  tooltip\n      this.tooltip.update({\n        title: tipContent,\n        ...curLoc,\n      });\n      this.tooltip.show();\n    }\n  }\n\n  protected hideTooltip() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  private renderTooltip() {\n    const view = this.context.view;\n    const canvas = view.canvas;\n\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n\n    const theme = view.getTheme();\n    const tooltipStyles = get(theme, ['components', 'tooltip', 'domStyles'], {}); //  tooltip \n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      visible: false,\n      crosshairs: null,\n      domStyles: {\n        ...deepMix({}, tooltipStyles, {\n          // tooltip tip  50%\n          [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: { 'max-width': '50%' },\n          [TOOLTIP_CSS_CONST.TITLE_CLASS]: { 'word-break': 'break-all' },\n        }),\n      },\n    });\n    tooltip.init();\n    tooltip.setCapture(false); // \n    this.tooltip = tooltip;\n  }\n}\n","import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport Action from '../base';\nimport { getElementsByState } from '../util';\n\n/**\n *  Action \n * @abstract\n * @class\n * @ignore\n */\nabstract class StateBase extends Action {\n  /**\n   * \n   */\n  protected stateName: string = '';\n\n  /**\n   * \n   * @param enable \n   */\n  protected abstract setStateEnable(enable: boolean);\n\n  /**\n   * \n   * @param element  Element \n   */\n  protected hasState(element: Element): boolean {\n    return element.hasState(this.stateName);\n  }\n  /**\n   * \n   * @param enable \n   */\n  protected setElementState(element: Element, enable: boolean) {\n    // \n    element.setState(this.stateName, enable);\n  }\n\n  /**\n   * \n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   *  Element \n   */\n  public clear() {\n    const view = this.context.view;\n    this.clearViewState(view);\n  }\n\n  protected clearViewState(view) {\n    const elements = getElementsByState(view, this.stateName);\n    each(elements, (el: Element) => {\n      this.setElementState(el, false);\n    });\n  }\n}\n\nexport default StateBase;\n","import { each, isNil, get } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport {\n  getCurrentElement,\n  getDelegationObject,\n  getElements,\n  getElementValue,\n  getScaleByField,\n  isElementChange,\n  isList,\n} from '../util';\nimport StateBase from './state-base';\n\nfunction getItem(shape) {\n  return get(shape.get('delegateObject'), 'item');\n}\n\n/**\n *  Action  Element \n * @class\n * @ignore\n */\nclass ElementState extends StateBase {\n  protected ignoreListItemStates = ['unchecked'];\n\n  // \n  private isItemIgnore(item: ListItem, list) {\n    const states = this.ignoreListItemStates;\n    const filtered = states.filter((state) => {\n      return list.hasState(item, state);\n    });\n    return !!filtered.length;\n  }\n\n  // \n  private setStateByComponent(component, item: ListItem, enable: boolean) {\n    const view = this.context.view;\n    const field = component.get('field');\n    const elements = getElements(view);\n    this.setElementsStateByItem(elements, field, item, enable);\n  }\n\n  //  element \n  protected setStateByElement(element: Element, enable: boolean) {\n    this.setElementState(element, enable);\n  }\n\n  /**  element  */\n  protected isMathItem(element: Element, field: string, item: ListItem) {\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    return !isNil(value) && item.name === scale.getText(value);\n  }\n\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    each(elements, (el) => {\n      if (this.isMathItem(el, field, item)) {\n        el.setState(this.stateName, enable);\n      }\n    });\n  }\n\n  /**  */\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      //  element \n      if (isElementChange(this.context)) {\n        this.setStateByElement(element, enable);\n      }\n    } else {\n      // \n      const delegateObject = getDelegationObject(this.context);\n      // \n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (item && component && !this.isItemIgnore(item, component)) {\n          const event = this.context.event.gEvent;\n          // \n          if (event && event.fromShape && event.toShape && getItem(event.fromShape) === getItem(event.toShape)) {\n            return;\n          }\n          this.setStateByComponent(component, item, enable);\n        }\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = element.hasState(this.stateName);\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementState;\n","import StateAction from './state';\n\n/**\n *  active  Action active\n * @class\n * @ignore\n */\nclass ElementActive extends StateAction {\n  protected stateName: string = 'active';\n  /**\n   * Active Element\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementActive;\n","import Action from '../base';\nimport { getCurrentElement, getElementValue, getElementsByField } from '../util';\nimport Element from '../../../geometry/element/';\nimport { deepMix, each, isFunction } from '@antv/util';\nimport { LooseObject } from '../../../interface';\nimport { IGroup, ShapeAttrs } from '../../../dependents';\n\ntype LinkActiveStyle = ShapeAttrs | ((style: ShapeAttrs, Element: Element) => ShapeAttrs);\n\n/**\n * Link Elements by color\n *\n * public element-link-by-color:link, element-link-by-color:unlink, element-link-by-color:clear\n */\nclass LinkByColor extends Action {\n  private linkGroup: IGroup;\n  private cache: LooseObject = {};\n  //  scale\n  private getColorScale(view, element) {\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return null;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0]);\n    return scale;\n  }\n  //  path\n  private getLinkPath(element: Element, nextElement: Element) {\n    const view = this.context.view;\n    const { isTransposed } = view.getCoordinate();\n    const bbox = element.shape.getCanvasBBox();\n    const nextBBox = nextElement.shape.getCanvasBBox();\n    const path = isTransposed\n      ? [\n          ['M', bbox.minX, bbox.minY],\n          ['L', nextBBox.minX, nextBBox.maxY],\n          ['L', nextBBox.maxX, nextBBox.maxY],\n          ['L', bbox.maxX, bbox.minY],\n          ['Z'],\n        ]\n      : [\n          ['M', bbox.maxX, bbox.minY],\n          ['L', nextBBox.minX, nextBBox.minY],\n          ['L', nextBBox.minX, nextBBox.maxY],\n          ['L', bbox.maxX, bbox.maxY],\n          ['Z'],\n        ];\n    return path;\n  }\n  // \n  private addLinkShape(group: IGroup, element: Element, nextElement: Element, activeStyle?: LinkActiveStyle) {\n    const style = {\n      opacity: 0.4,\n      fill: element.shape.attr('fill'),\n    };\n    group.addShape({\n      type: 'path',\n      attrs: {\n        ...deepMix({}, style, isFunction(activeStyle) ? activeStyle(style, element) : activeStyle),\n        path: this.getLinkPath(element, nextElement),\n      },\n    });\n  }\n  // \n  private linkByElement(element: Element, activeStyle?: LinkActiveStyle) {\n    const view = this.context.view;\n    const scale = this.getColorScale(view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (!this.cache[value]) {\n      const elements = getElementsByField(view, scale.field, value);\n      const linkGroup = this.linkGroup;\n      const group = linkGroup.addGroup();\n      this.cache[value] = group; // \n      const count = elements.length;\n      each(elements, (el, index) => {\n        if (index < count - 1) {\n          const nextEl = elements[index + 1];\n          this.addLinkShape(group, el, nextEl, activeStyle);\n        }\n      });\n    }\n  }\n  // \n  private removeLink(element) {\n    const scale = this.getColorScale(this.context.view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (this.cache[value]) {\n      this.cache[value].remove();\n      this.cache[value] = null;\n    }\n  }\n\n  /**\n   *  elements\n   *\n   * @usage\n   * registerInteraction('xxx', {\n   *   start: [\n   *    {\n   *      trigger: 'interval:mouseenter',\n   *      action: 'element-link-by-color:link',\n   *      arg: {\n   *        // style: { fill: 'red' }\n   *        style: (style, element) => ({ fill: 'red' })\n   *     },\n   *   },\n   *  ],\n   * });\n   */\n  public link(args?: { style: LinkActiveStyle }) {\n    const context = this.context;\n    if (!this.linkGroup) {\n      // \n      this.linkGroup = context.view.foregroundGroup.addGroup({\n        id: 'link-by-color-group',\n        capture: false,\n      });\n    }\n    const element = getCurrentElement(context);\n    if (element) {\n      this.linkByElement(element, args?.style);\n    }\n  }\n\n  /**\n   *  elements\n   */\n  public unlink() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      this.removeLink(element);\n    }\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    if (this.linkGroup) {\n      this.linkGroup.clear();\n    }\n    this.cache = {};\n  }\n\n  /**\n   * \n   */\n  destroy() {\n    super.destroy();\n    if (this.linkGroup) {\n      this.linkGroup.remove();\n    }\n  }\n}\nexport default LinkByColor;\n","import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport {\n  getElements,\n  getIntersectElements,\n  getMaskedElements,\n  getSiblingMaskElements,\n  getSilbings,\n  isInRecords,\n  isMask,\n} from '../util';\nimport StateBase from './state-base';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementRangeState extends StateBase {\n  private startPoint = null;\n  private endPoint = null;\n  private isStarted: boolean = false;\n  /**\n   *  view  siblings false \n   */\n  protected effectSiblings = false;\n  /**\n   *  element \n   */\n  protected effectByRecord = false;\n  // \n  private getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n\n  /**\n   * \n   */\n  public start() {\n    this.clear(); // \n    this.startPoint = this.getCurrentPoint();\n    this.isStarted = true;\n  }\n\n  protected getIntersectElements() {\n    let elements = null;\n    if (isMask(this.context)) {\n      elements = getMaskedElements(this.context, 10);\n    } else {\n      const startPoint = this.startPoint;\n      const endPoint = this.isStarted ? this.getCurrentPoint() : this.endPoint;\n      // \n      if (!startPoint || !endPoint) {\n        return;\n      }\n      // \n      const box = {\n        minX: Math.min(startPoint.x, endPoint.x),\n        minY: Math.min(startPoint.y, endPoint.y),\n        maxX: Math.max(startPoint.x, endPoint.x),\n        maxY: Math.max(startPoint.y, endPoint.y),\n      };\n      // this.clear(); // \n      const view = this.context.view;\n      elements = getIntersectElements(view, box);\n    }\n    return elements;\n  }\n  /**\n   * \n   */\n  public setStateEnable(enable: boolean) {\n    if (this.effectSiblings && !this.effectByRecord) {\n      this.setSiblingsState(enable);\n    } else {\n      const allElements = getElements(this.context.view);\n      const elements = this.getIntersectElements();\n      if (elements && elements.length) {\n        if (this.effectByRecord) {\n          this.setSiblingsStateByRecord(elements, enable);\n        } else {\n          this.setElementsState(elements, enable, allElements);\n        }\n      } else {\n        this.clear();\n      }\n    }\n  }\n  //  element \n  private setSiblingsStateByRecord(elements, enable) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    const records = elements.map((el) => {\n      return el.getModel().data;\n    });\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    each(siblings, (sibling) => {\n      const allElements = getElements(sibling);\n      const effectElements = allElements.filter((el) => {\n        const record = el.getModel().data;\n        return isInRecords(records, record, xFiled, yField);\n      });\n      this.setElementsState(effectElements, enable, allElements);\n    });\n  }\n\n  //  view \n  private setSiblingsState(enable: boolean) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    if (isMask(this.context)) {\n      //  mask \n      each(siblings, (sibling) => {\n        const allElements = getElements(sibling);\n        const effectElements = getSiblingMaskElements(this.context, sibling, 10);\n        if (effectElements && effectElements.length) {\n          this.setElementsState(effectElements, enable, allElements);\n        } else {\n          this.clearViewState(sibling);\n        }\n      });\n    }\n  }\n\n  protected setElementsState(elements: Element[], enable, allElements: Element[]) {\n    each(allElements, (el) => {\n      if (!elements.includes(el)) {\n        this.setElementState(el, false);\n      } else {\n        this.setElementState(el, enable);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isStarted = false;\n    this.endPoint = this.getCurrentPoint();\n  }\n\n  //  clear\n  public clear() {\n    const view = this.context.view;\n    //  siblings\n    if (this.effectSiblings) {\n      const siblings = getSilbings(view);\n      each(siblings, (sibling) => {\n        this.clearViewState(sibling);\n      });\n    } else {\n      this.clearViewState(view);\n    }\n  }\n}\n\nexport default ElementRangeState;\n","import ElementRangeState from './range-state';\n\n/**\n * @ignore\n *  Active  Action\n */\nclass ElementRangeActive extends ElementRangeState {\n  protected stateName: string = 'active';\n  /**\n   *  Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeActive;\n","import { getCurrentElement, isElementChange } from '../util';\nimport StateBase from './state-base';\n\n/**\n *  Action \n * @class\n * @ignore\n */\nclass ElementSingleState extends StateBase {\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      //  element  label  shape \n      if (!isElementChange(this.context)) {\n        return;\n      }\n      //  element \n      if (enable) {\n        this.clear();\n        this.setElementState(element, true);\n      } else if (this.hasState(element)) {\n        this.setElementState(element, false);\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = this.hasState(element); // \n      if (!hasState) {\n        this.clear();\n      }\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementSingleState;\n","import ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Element Active  Action\n */\nclass ElementSingleActive extends ElementSingleState {\n  protected stateName: string = 'active';\n  /**\n   *  Element Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleActive;\n","import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport Element from '../../../geometry/element/';\nimport { getElements } from '../util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n * @ignore\n *  highlight \n * @param view View  Chart\n */\nexport function clearHighlight(view: View) {\n  const elements = getElements(view);\n  each(elements, (el) => {\n    if (el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_ACTIVE, false);\n    }\n    if (el.hasState(STATUS_UNACTIVE)) {\n      el.setState(STATUS_UNACTIVE, false);\n    }\n  });\n}\n\ntype MatchCallback = (el: Element) => boolean;\n\n/**\n * @ignore\n *  highlight\n * @param elements \n * @param callback \n * @param enable \n */\nexport function setHighlightBy(elements: Element[], callback: MatchCallback, enable: boolean) {\n  each(elements, (el) => {\n    //  active  unactive \n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, enable);\n    } else {\n      if (el.hasState(STATUS_ACTIVE)) {\n        el.setState(STATUS_ACTIVE, false);\n      }\n      el.setState(STATUS_UNACTIVE, enable);\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport { getElements, getElementsByState } from '../util';\nimport { clearHighlight } from './highlight-util';\nimport StateAction from './state';\n\nimport { ELEMENT_STATE } from '../../../constant';\n\nexport const STATUS_UNACTIVE = ELEMENT_STATE.INACTIVE;\nexport const STATUS_ACTIVE = ELEMENT_STATE.ACTIVE;\nexport type Callback = (el) => boolean;\n\n/**\n * @ignore\n * highlight\n */\nclass ElementHighlight extends StateAction {\n  protected stateName: string = STATUS_ACTIVE;\n\n  //  highlight\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    const callback = (el) => this.isMathItem(el, field, item);\n    this.setHighlightBy(elements, callback, enable);\n  }\n\n  //  highlight\n  protected setElementHighlight(el: Element, callback: Callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else if (!el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_UNACTIVE, true);\n    }\n  }\n\n  protected setHighlightBy(elements: Element[], callback: Callback, enable: boolean) {\n    if (enable) {\n      //  highlight  element  active\n      //  active unactive\n      each(elements, (el) => {\n        this.setElementHighlight(el, callback);\n      });\n    } else {\n      //  highlight highlight\n      const activeElements = getElementsByState(this.context.view, STATUS_ACTIVE);\n      let allCancel = true;\n      //  activeElements  highlight\n      each(activeElements, (el) => {\n        if (!callback(el)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        //  activeunactive \n        this.clear();\n      } else {\n        //  highlight,  element  unactive\n        //  element \n        each(elements, (el) => {\n          if (callback(el)) {\n            if (el.hasState(STATUS_ACTIVE)) {\n              el.setState(STATUS_ACTIVE, false);\n            }\n            el.setState(STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  //  highlight\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    this.setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  public highlight() {\n    this.setState();\n  }\n\n  //  active unactive \n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementHighlight;\n","import Element from '../../../geometry/element';\nimport { Event } from '../../../chart';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementRangeState from './range-state';\n\nenum EVENTS {\n  BEFORE_HIGHLIGHT = 'element-range-highlight:beforehighlight',\n  AFTER_HIGHLIGHT = 'element-range-highlight:afterhighlight',\n  BEFORE_CLEAR = 'element-range-highlight:beforeclear',\n  AFTER_CLEAR = 'element-range-highlight:afterclear',\n}\n\nexport { EVENTS as ELEMENT_RANGE_HIGHLIGHT_EVENTS };\n\n/**\n * @ignore\n *  highlight  Action\n */\nclass ElementRangeHighlight extends ElementRangeState {\n  protected stateName: string = 'active';\n\n  //  active unactive \n  protected clearViewState(view) {\n    clearHighlight(view);\n  }\n\n  /**\n   *  highlight\n   */\n  public highlight() {\n    const { view, event } = this.context;\n    const elements = this.getIntersectElements();\n    const payload = { view, event, highlightElements: elements };\n    view.emit(EVENTS.BEFORE_HIGHLIGHT, Event.fromData(view, EVENTS.BEFORE_HIGHLIGHT, payload));\n    this.setState();\n    view.emit(EVENTS.AFTER_HIGHLIGHT, Event.fromData(view, EVENTS.AFTER_HIGHLIGHT, payload));\n  }\n\n  /**\n   * @overrider \n   */\n  public clear() {\n    const view = this.context.view;\n    view.emit(EVENTS.BEFORE_CLEAR, Event.fromData(view, EVENTS.BEFORE_CLEAR, {}));\n    super.clear();\n    view.emit(EVENTS.AFTER_CLEAR, Event.fromData(view, EVENTS.AFTER_CLEAR, {}));\n  }\n\n  protected setElementsState(elements: Element[], enable: boolean, allElements: Element[]) {\n    setHighlightBy(allElements, (el) => elements.indexOf(el) >= 0, enable);\n  }\n}\n\nexport default ElementRangeHighlight;\n","import Element from '../../../geometry/element/';\nimport { getElements, getElementValue } from '../util';\nimport Highlight from './highlight';\n\n/**\n * Highlight color\n * @ignore\n */\nclass HighlightColor extends Highlight {\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0]);\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter((el) => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n}\n\nexport default HighlightColor;\n","import Element from '../../../geometry/element/';\nimport { getElements, getElementValue, getCurrentElement } from '../util';\nimport Highlight, { STATUS_ACTIVE, STATUS_UNACTIVE, Callback } from './highlight';\n\n/**\n * Highlight x\n * @ignore\n */\nclass HighlightX extends Highlight {\n  // \n  protected setElementHighlight(el: Element, callback: Callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else {\n      el.setState(STATUS_UNACTIVE, true);\n      if (el.hasState(STATUS_ACTIVE)) {\n        el.setState(STATUS_ACTIVE, false);\n      }\n    }\n  }\n\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const scale = view.getXScale();\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter((el) => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = element.hasState(this.stateName);\n      this.setStateByElement(element, !hasState);\n    }\n  }\n}\n\nexport default HighlightX;\n","import Element from '../../../geometry/element/';\nimport { getElements } from '../util';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Element Highlight  Action\n */\nclass ElementSingleHighlight extends ElementSingleState {\n  protected stateName: string = 'active';\n\n  /**\n   * Element Highlight\n   */\n  public highlight() {\n    this.setState();\n  }\n\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  //  active unactive \n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementSingleHighlight;\n","import ElementRangeState from './range-state';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementRangeSelected extends ElementRangeState {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeSelected;\n","import StateAction from './state';\n\n/**\n * @ignore\n *  Action\n * @class\n */\nclass ElementMultipleSelected extends StateAction {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementMultipleSelected;\n","import ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementSingleSelected extends ElementSingleState {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleSelected;\n","import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element';\nimport { LooseObject } from '../../../interface';\nimport Action from '../base';\nimport { getComponents } from '../util';\nimport { getCurrentElement, getDelegationObject, getElementValue, isList, getScaleByField } from '../util';\n\n/** @ignore */\ninterface ListStateCfg {\n  componentNames: string[];\n}\n\n/**\n *  Action \n * @class\n * @ignore\n */\nclass ListState extends Action<ListStateCfg> {\n  protected stateName: string = '';\n  protected ignoreItemStates = [];\n\n  /**  */\n  protected getTriggerListInfo() {\n    const delegateObject = getDelegationObject(this.context);\n    let info: LooseObject = null;\n    if (isList(delegateObject)) {\n      info = {\n        item: delegateObject.item,\n        list: delegateObject.component,\n      };\n    }\n    return info;\n  }\n  //  Action \n  protected getAllowComponents() {\n    const view = this.context.view;\n    const components = getComponents(view);\n    const rst = [];\n    each(components, (component) => {\n      if (component.isList() && this.allowSetStateByElement(component)) {\n        rst.push(component);\n      }\n    });\n    return rst;\n  }\n\n  /**  */\n  protected hasState(list: IList, item: ListItem) {\n    return list.hasState(item, this.stateName);\n  }\n\n  /**  */\n  protected clearAllComponentsState() {\n    const components = this.getAllowComponents();\n    each(components, (component) => {\n      component.clearItemsState(this.stateName);\n    });\n  }\n\n  //  component  active scale \n  protected allowSetStateByElement(component): boolean {\n    const field = component.get('field');\n    if (!field) {\n      return false;\n    }\n    if (this.cfg && this.cfg.componentNames) {\n      const name = component.get('name');\n      //  component name\n      if (this.cfg.componentNames.indexOf(name) === -1) {\n        return false;\n      }\n    }\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    return scale && scale.isCategory;\n  }\n  // \n  private allowSetStateByItem(item: ListItem, list: IList) {\n    const ignoreStates = this.ignoreItemStates;\n    if (ignoreStates.length) {\n      const filterStates = ignoreStates.filter((state) => {\n        return list.hasState(item, state);\n      });\n      return filterStates.length === 0;\n    }\n    return true; // \n  }\n\n  //  item active\n  private setStateByElement(component, element: Element, enable: boolean) {\n    const field = component.get('field');\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    const text = scale.getText(value);\n    this.setItemsState(component, text, enable);\n  }\n\n  // \n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      // trigger by element\n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        this.setStateByElement(component, element, enable);\n      });\n    } else {\n      // \n      const delegateObject = getDelegationObject(this.context);\n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (this.allowSetStateByElement(component) && this.allowSetStateByItem(item, component)) {\n          this.setItemState(component, item, enable);\n        }\n      }\n    }\n  }\n\n  //  item \n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    const items = list.getItems();\n    each(items, (item) => {\n      if (item.name === name) {\n        this.setItemState(list, item, enable);\n      }\n    });\n  }\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    list.setItemState(item, this.stateName, enable);\n  }\n\n  /**\n   * \n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      const { list, item } = triggerInfo;\n      const enable = this.hasState(list, item);\n      this.setItemState(list, item, !enable);\n    }\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      triggerInfo.list.clearItemsState(this.stateName);\n    } else {\n      this.clearAllComponentsState();\n    }\n  }\n}\n\nexport default ListState;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @class\n * @ignore\n */\nclass ListActive extends ListState {\n  protected stateName: string = 'active';\n  /**\n   * \n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ListActive;\n","import { IList } from '@antv/component';\nimport { each } from '@antv/util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n *  Highlight \n * @param list \n * @ignore\n */\nexport function clearList(list: IList) {\n  const items = list.getItems();\n  each(items, (item) => {\n    if (list.hasState(item, STATUS_ACTIVE)) {\n      list.setItemState(item, STATUS_ACTIVE, false);\n    }\n    if (list.hasState(item, STATUS_UNACTIVE)) {\n      list.setItemState(item, STATUS_UNACTIVE, false);\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport { clearList } from './list-highlight-util';\nimport ListState from './list-state';\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\ntype MatchCallback = (item: ListItem) => boolean;\n\n/**\n * highlight Action  active  inactive \n * @class\n * @ignore\n */\nclass ListHighlight extends ListState {\n  protected stateName: string = STATUS_ACTIVE;\n  protected ignoreItemStates = ['unchecked']; //  unchecked \n  //  item.name  highlight \n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    this.setHighlightBy(list, (item) => item.name === name, enable);\n  }\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    const items = list.getItems();\n    this.setHighlightBy(list, (el) => el === item, enable);\n  }\n\n  //  highlight\n  private setHighlightBy(list: IList, callback: MatchCallback, enable: boolean) {\n    const items = list.getItems();\n    if (enable) {\n      //  highlight  Highlight \n      each(items, (item) => {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNACTIVE)) {\n            list.setItemState(item, STATUS_UNACTIVE, false);\n          }\n          list.setItemState(item, STATUS_ACTIVE, true);\n        } else if (!list.hasState(item, STATUS_ACTIVE)) {\n          list.setItemState(item, STATUS_UNACTIVE, true);\n        }\n      });\n    } else {\n      const activeItems = list.getItemsByState(STATUS_ACTIVE);\n      let allCancel = true;\n      //  activeItems \n      each(activeItems, (item) => {\n        if (!callback(item)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        this.clear();\n      } else {\n        //  highlight,  element  unactive\n        //  element \n        each(items, (item) => {\n          if (callback(item)) {\n            if (list.hasState(item, STATUS_ACTIVE)) {\n              list.setItemState(item, STATUS_ACTIVE, false);\n            }\n            list.setItemState(item, STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  /**\n   * highlight \n   */\n  public highlight() {\n    this.setState();\n  }\n\n  //  active  unactive\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      clearList(triggerInfo.list);\n    } else {\n      //  component \n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        component.clearItemsState(STATUS_ACTIVE);\n        component.clearItemsState(STATUS_UNACTIVE);\n      });\n    }\n  }\n}\n\nexport default ListHighlight;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @ignore\n */\nclass ListSelected extends ListState {\n  protected stateName: string = 'selected';\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ListSelected;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @ignore\n */\nclass ListUnchecked extends ListState {\n  protected stateName: string = 'unchecked';\n  /**\n   * \n   */\n  public unchecked() {\n    this.setState();\n  }\n}\n\nexport default ListUnchecked;\n","import { each, some } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport ListState from './list-state';\n\nconst STATUS_UNCHECKED = 'unchecked';\nconst STATUS_CHECKED = 'checked';\ntype MatchCallback = (item: ListItem) => boolean;\n\n/**\n * checked Action\n * \n * 1. toggle \n * 2. checked \n * 3. reset \n */\nclass ListChecked extends ListState {\n  protected stateName: string = STATUS_CHECKED;\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    this.setCheckedBy(list, (el) => el === item, enable);\n  }\n\n  //  checked\n  private setCheckedBy(list: IList, callback: MatchCallback, enable: boolean) {\n    const items = list.getItems();\n    if (enable) {\n      //  checked  checked \n      each(items, (item) => {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNCHECKED)) {\n            list.setItemState(item, STATUS_UNCHECKED, false);\n          }\n          list.setItemState(item, STATUS_CHECKED, true);\n        } else if (!list.hasState(item, STATUS_CHECKED)) {\n          list.setItemState(item, STATUS_UNCHECKED, true);\n        }\n      });\n    }\n  }\n\n  /**\n   * .\n   * 1.    item \n   * 2. \n   * @override\n   */\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      const { list, item } = triggerInfo;\n\n      //    unchecked status\n      const allChecked = !some(list.getItems(), (t) => list.hasState(t, STATUS_UNCHECKED));\n\n      //\n      if (allChecked || list.hasState(item, STATUS_UNCHECKED)) {\n        this.setItemState(list, item, true);\n      } else {\n        this.reset();\n      }\n    }\n  }\n\n  /**\n   * checked \n   */\n  public checked() {\n    this.setState();\n  }\n\n  /**\n   *  checked  unchecked\n   */\n  public reset() {\n    const components = this.getAllowComponents();\n    each(components, (component) => {\n      component.clearItemsState(STATUS_CHECKED);\n      component.clearItemsState(STATUS_UNCHECKED);\n    });\n  }\n}\n\nexport default ListChecked;\n","import ListState from './list-state';\n\nconst STATUS_UNCHECKED = 'unchecked';\n\nclass ListFocus extends ListState {\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item: clickedItem } = triggerInfo;\n      const items = list.getItems();\n      const checkedItems = items.filter((t) => !list.hasState(t, STATUS_UNCHECKED));\n      const uncheckedItems = items.filter((t) => list.hasState(t, STATUS_UNCHECKED));\n      const checkedItem = checkedItems[0]\n      /**\n       * 1.  checked radio, clickItem \n       * 2. \n       *    2.1  item  clickItem\n       *    2.2  item\n       * 3.  2.2\n       */\n      if (items.length === checkedItems.length) {\n        for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n      } else if (items.length - uncheckedItems.length === 1) {\n        if (checkedItem.id === clickedItem.id) {\n          for (const item of items) list.setItemState(item, STATUS_UNCHECKED, false);\n        } else {\n          for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n        }\n      } else {\n        for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n      }\n    }\n  }\n}\n\nexport default ListFocus;\n","import ListState from './list-state';\nimport { isEqual } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { HtmlTooltip } from '../../../dependents';\nimport { Point } from '../../../interface';\n\nconst STATUS_SHOW = 'showRadio';\nconst TIP_ID = 'legend-radio-tip';\n\nclass ListRadio extends ListState {\n  public show() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item } = triggerInfo;\n      list.setItemState(item, STATUS_SHOW, true);\n    }\n  }\n\n  public hide() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item } = triggerInfo;\n      list.setItemState(item, STATUS_SHOW, false);\n    }\n  }\n\n  private timeStamp: number = 0;\n  private location: Point;\n  private tooltip;\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  /**\n   *  Tooltip ()\n   * @returns\n   */\n  public showTip() {\n    const context = this.context;\n    const ev = context.event;\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    const target = this.context.event.target;\n    if (timeStamp - lastTimeStamp > 16 && target.get('name') === 'legend-item-radio') {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      this.timeStamp = timeStamp;\n      this.location = curLoc;      \n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(curLoc);\n      }\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hideTip() {\n    this.hideTooltip();\n    this.location = null;\n  }\n\n  protected showTooltip(curLoc: Point) {\n    const context = this.context;\n    const ev = context.event;\n    const target = ev.target;\n\n    if (target && target.get('tip')) {\n      if (!this.tooltip) {\n        this.renderTooltip(); // \n      }\n      //  tooltip\n      const { x: offsetX, y: offsetY } = context.view.getCanvas().get('el').getBoundingClientRect();\n      this.tooltip.update({\n        title: target.get('tip'),\n        ...curLoc,\n        x: curLoc.x + offsetX,\n        y: curLoc.y + offsetY,\n      });\n      this.tooltip.show();\n    }\n  }\n\n  protected hideTooltip() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  private renderTooltip() {\n    const tooltipStyles = {\n      [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: {\n        padding: '6px 8px',\n        transform: 'translate(-50%, -80%)',\n        background: 'rgba(0,0,0,0.75)',\n        color: '#fff',\n        'border-radius': '2px',\n        // \n        'z-index': 100,\n      },\n      [TOOLTIP_CSS_CONST.TITLE_CLASS]: {\n        'font-size': '12px',\n        'line-height': '14px',\n        'margin-bottom': 0,\n        'word-break': 'break-all',\n      }\n    };\n    if (document.getElementById(TIP_ID)) {\n      document.body.removeChild(document.getElementById(TIP_ID));\n    }\n    const tooltip = new HtmlTooltip({\n      parent: document.body,\n      // tooltip \n      region: null,\n      visible: false,\n      crosshairs: null,\n      domStyles: tooltipStyles,\n      containerId: TIP_ID,\n    });\n    tooltip.init();\n    tooltip.setCapture(false); // \n    this.tooltip = tooltip;\n  }\n}\n\nexport default ListRadio;\n","import { deepMix, each } from '@antv/util';\nimport Action from '../base';\nimport { LooseObject } from '../../../interface';\n\n/**\n * @ignore\n *  Action \n */\nabstract class MaskBase extends Action {\n  // mask \n  protected maskShape = null;\n  //  mask \n  protected points = [];\n  //  mask \n  protected starting = false;\n  // \n  protected moving = false;\n  protected preMovePoint = null;\n\n  protected shapeType = 'path';\n  // \n  protected getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n  //  mask \n  protected emitEvent(type) {\n    const eventName = `mask:${type}`;\n    const view = this.context.view;\n    const event = this.context.event;\n    view.emit(eventName, {\n      target: this.maskShape,\n      shape: this.maskShape,\n      points: this.points,\n      x: event.x,\n      y: event.y,\n    });\n  }\n\n  //  mask\n  private createMask() {\n    const view = this.context.view;\n    const maskAttrs = this.getMaskAttrs();\n    const maskShape = view.foregroundGroup.addShape({\n      type: this.shapeType,\n      name: 'mask',\n      draggable: true,\n      attrs: {\n        fill: '#C5D4EB',\n        opacity: 0.3,\n        ...maskAttrs,\n      },\n    });\n    return maskShape;\n  }\n\n  protected abstract getMaskAttrs(): LooseObject;\n\n  //  mask \n  protected getMaskPath() {\n    return [];\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (this.maskShape) {\n      this.maskShape.show();\n      this.emitEvent('show');\n    }\n  }\n\n  /**\n   * \n   */\n  public start(arg?: { maskStyle: LooseObject }) {\n    this.starting = true;\n    // \n    this.moving = false;\n    this.points = [this.getCurrentPoint()];\n    if (!this.maskShape) {\n      this.maskShape = this.createMask();\n      //  capture: falseresize \n      this.maskShape.set('capture', false);\n    }\n    this.updateMask(arg?.maskStyle);\n    this.emitEvent('start');\n  }\n\n  /**\n   * \n   */\n  public moveStart() {\n    this.moving = true;\n    this.preMovePoint = this.getCurrentPoint();\n  }\n  /**\n   *  mask\n   */\n  public move() {\n    if (!this.moving || !this.maskShape) {\n      return;\n    }\n    const currentPoint = this.getCurrentPoint();\n    const preMovePoint = this.preMovePoint;\n    const dx = currentPoint.x - preMovePoint.x;\n    const dy = currentPoint.y - preMovePoint.y;\n    const points = this.points;\n    each(points, (point) => {\n      point.x += dx;\n      point.y += dy;\n    });\n    this.updateMask();\n    this.emitEvent('change');\n    this.preMovePoint = currentPoint;\n  }\n\n  protected updateMask(maskStyle?: LooseObject) {\n    const attrs = deepMix({}, this.getMaskAttrs(), maskStyle);\n    this.maskShape.attr(attrs);\n  }\n\n  /**\n   * \n   */\n  public moveEnd() {\n    this.moving = false;\n    this.preMovePoint = null;\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.starting = false;\n    this.emitEvent('end');\n    if (this.maskShape) {\n      this.maskShape.set('capture', true);\n    }\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.maskShape) {\n      this.maskShape.hide();\n      this.emitEvent('hide');\n    }\n  }\n\n  /**\n   * \n   */\n  public resize() {\n    // \n    if (this.starting && this.maskShape) {\n      this.points.push(this.getCurrentPoint());\n      this.updateMask();\n      this.emitEvent('change');\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.points = [];\n    if (this.maskShape) {\n      this.maskShape.remove();\n    }\n    this.maskShape = null;\n    this.preMovePoint = null;\n    super.destroy();\n  }\n}\n\nexport default MaskBase;\n","import { last } from '@antv/util';\nimport { distance } from '../util';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Action\n */\nclass CircleMask extends MaskBase {\n  protected shapeType = 'circle';\n  protected getMaskAttrs() {\n    const points = this.points;\n    const currentPoint = last(this.points);\n    let r = 0;\n    let x = 0;\n    let y = 0;\n    if (points.length) {\n      const first = points[0];\n      r = distance(first, currentPoint) / 2;\n      x = (currentPoint.x + first.x) / 2;\n      y = (currentPoint.y + first.y) / 2;\n    }\n    return {\n      x,\n      y,\n      r,\n    };\n  }\n}\n\nexport default CircleMask;\n","import { head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Action\n */\nclass RectMask extends MaskBase {\n  protected shapeType = 'rect';\n  protected getRegion(): Region {\n    const points = this.points;\n    return {\n      start: head(points),\n      end: last(points),\n    };\n  }\n  // \n  protected getMaskAttrs() {\n    const { start, end } = this.getRegion();\n    const x = Math.min(start.x, end.x);\n    const y = Math.min(start.y, end.y);\n    const width = Math.abs(end.x - start.x);\n    const height = Math.abs(end.y - start.y);\n    return {\n      x,\n      y,\n      width,\n      height,\n    };\n  }\n}\n\nexport default RectMask;\n","import { clamp, head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport RectMask from './rect';\n\nfunction clampPoint(point) {\n  point.x = clamp(point.x, 0, 1);\n  point.y = clamp(point.y, 0, 1);\n}\n\n/**\n * @ignore\n */\nclass DimRect extends RectMask {\n  protected dim = 'x';\n  protected inPlot = true;\n  protected getRegion(): Region {\n    let start = null;\n    let end = null;\n    const points = this.points;\n    const dim = this.dim;\n    const coord = this.context.view.getCoordinate();\n    const normalStart = coord.invert(head(points));\n    const normalEnd = coord.invert(last(points));\n    if (this.inPlot) {\n      //  0 - 1 \n      clampPoint(normalStart);\n      clampPoint(normalEnd);\n    }\n    if (dim === 'x') {\n      // x , y \n      start = coord.convert({\n        x: normalStart.x,\n        y: 0,\n      });\n      end = coord.convert({\n        x: normalEnd.x,\n        y: 1,\n      });\n    } else {\n      // y , x \n      start = coord.convert({\n        x: 0,\n        y: normalStart.y,\n      });\n      end = coord.convert({\n        x: 1,\n        y: normalEnd.y,\n      });\n    }\n    return {\n      start,\n      end,\n    };\n  }\n}\n\nexport default DimRect;\n","import { Point, Scale } from '../../../dependents';\nimport { FilterCondition, EventPayload } from '../../../interface';\nimport { View, Event } from '../../../chart';\nimport Action from '../base';\nimport { isMask } from '../util';\n\n//  scale\nfunction getFilter(scale: Scale, dim: string, point1: Point, point2: Point): FilterCondition {\n  let min = Math.min(point1[dim], point2[dim]);\n  let max = Math.max(point1[dim], point2[dim]);\n  const [rangeMin, rangeMax] = scale.range;\n  //  scale  range \n  if (min < rangeMin) {\n    min = rangeMin;\n  }\n  if (max > rangeMax) {\n    max = rangeMax;\n  }\n  //  view  null\n  if (min === rangeMax && max === rangeMax) {\n    return null;\n  }\n  const minValue = scale.invert(min);\n  const maxValue = scale.invert(max);\n  if (scale.isCategory) {\n    const minIndex = scale.values.indexOf(minValue);\n    const maxIndex = scale.values.indexOf(maxValue);\n    const arr = scale.values.slice(minIndex, maxIndex + 1);\n    return (value) => {\n      return arr.includes(value);\n    };\n  } else {\n    return (value) => {\n      return value >= minValue && value <= maxValue;\n    };\n  }\n}\n\n/** range-filter brush-filter, brush-x-filter, brush-y-filter */\nenum EVENTS {\n  FILTER = 'brush-filter-processing',\n  RESET = 'brush-filter-reset',\n  BEFORE_FILTER = 'brush-filter:beforefilter',\n  AFTER_FILTER = 'brush-filter:afterfilter',\n  BEFORE_RESET = 'brush-filter:beforereset',\n  AFTER_RESET = 'brush-filter:afterreset',\n}\n\nexport { EVENTS as BRUSH_FILTER_EVENTS };\n\n/**\n *  Action\n * @ignore\n */\nclass RangeFilter extends Action {\n  /**  dims */\n  protected cfgFields: ['dims'];\n  /**\n   * / x, y\n   */\n  protected dims: string[] = ['x', 'y'];\n  /**  */\n  protected startPoint: Point = null;\n\n  private isStarted: boolean = false;\n\n  // x,y \n  private hasDim(dim: string) {\n    return this.dims.includes(dim);\n  }\n\n  /**\n   * \n   */\n  public start() {\n    const context = this.context;\n    this.isStarted = true;\n    this.startPoint = context.getCurrentPoint();\n  }\n\n  /**\n   * \n   */\n  public filter() {\n    let startPoint;\n    let currentPoint;\n    if (isMask(this.context)) {\n      const maskShape = this.context.event.target;\n      const bbox = maskShape.getCanvasBBox();\n      startPoint = { x: bbox.x, y: bbox.y };\n      currentPoint = { x: bbox.maxX, y: bbox.maxY };\n    } else {\n      if (!this.isStarted) {\n        // \n        return;\n      }\n      startPoint = this.startPoint;\n      currentPoint = this.context.getCurrentPoint();\n    }\n    if (Math.abs(startPoint.x - currentPoint.x) < 5 || Math.abs(startPoint.x - currentPoint.y) < 5) {\n      // \n      return;\n    }\n    const { view, event } = this.context;\n    const payload = { view, event, dims: this.dims };\n    view.emit(EVENTS.BEFORE_FILTER, Event.fromData(view, EVENTS.BEFORE_FILTER, payload));\n\n    const coord = view.getCoordinate();\n    const normalCurrent = coord.invert(currentPoint);\n    const normalStart = coord.invert(startPoint);\n    //  x  filter\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      const filter = getFilter(xScale, 'x', normalCurrent, normalStart);\n      this.filterView(view, xScale.field, filter);\n    }\n    //  y  filter\n    if (this.hasDim('y')) {\n      const yScale = view.getYScales()[0];\n      const filter = getFilter(yScale, 'y', normalCurrent, normalStart);\n      this.filterView(view, yScale.field, filter);\n    }\n    this.reRender(view, { source: EVENTS.FILTER });\n\n    view.emit(EVENTS.AFTER_FILTER, Event.fromData(view, EVENTS.AFTER_FILTER, payload));\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isStarted = false;\n  }\n\n  /**\n   *  Action  x,y\n   */\n  public reset() {\n    const view = this.context.view;\n    view.emit(EVENTS.BEFORE_RESET, Event.fromData(view, EVENTS.BEFORE_RESET, {}));\n\n    this.isStarted = false;\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      this.filterView(view, xScale.field, null); // \n    }\n    if (this.hasDim('y')) {\n      // y  yScale\n      const yScale = view.getYScales()[0];\n      this.filterView(view, yScale.field, null); // \n    }\n    this.reRender(view, { source: EVENTS.RESET });\n\n    view.emit(EVENTS.AFTER_RESET, Event.fromData(view, EVENTS.AFTER_RESET, {}));\n  }\n\n  /**\n   *  view \n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    view.filter(field, filter);\n  }\n\n  /**\n   * \n   * @param view\n   */\n  protected reRender(view: View, payload?: EventPayload) {\n    view.render(true, payload);\n  }\n}\n\nexport default RangeFilter;\n","import { each } from '@antv/util';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Path  Action\n */\nclass PathMask extends MaskBase {\n  //  mask \n  protected getMaskPath() {\n    const points = this.points;\n    const path = [];\n    if (points.length) {\n      each(points, (point, index) => {\n        if (index === 0) {\n          path.push(['M', point.x, point.y]);\n        } else {\n          path.push(['L', point.x, point.y]);\n        }\n      });\n      path.push(['L', points[0].x, points[0].y]);\n    }\n    return path;\n  }\n\n  protected getMaskAttrs() {\n    return {\n      path: this.getMaskPath(),\n    };\n  }\n\n  /**\n   * \n   */\n  public addPoint() {\n    this.resize();\n  }\n}\n\nexport default PathMask;\n","import { getSpline } from '../util';\nimport PathMask from './path';\n\n/**\n * Smooth path mask\n * @ignore\n */\nclass SmoothPathMask extends PathMask {\n  //  mask \n  protected getMaskPath() {\n    const points = this.points;\n    return getSpline(points, true);\n  }\n}\n\nexport default SmoothPathMask;\n","/**\n * @fileoverview https://www.w3school.com.cn/jsref/prop_style_cursor.asp\n * @author dxq613\n */\nimport Action from './base';\n\n/**\n *  Action\n * @ignore\n */\nclass CursorAction extends Action {\n  private setCursor(cursor) {\n    const view = this.context.view;\n    view.getCanvas().setCursor(cursor);\n  }\n\n  /**\n   * \n   */\n  public default() {\n    this.setCursor('default');\n  }\n\n  /**  */\n  public pointer() {\n    this.setCursor('pointer');\n  }\n  /**  */\n  public move() {\n    this.setCursor('move');\n  }\n  /**  */\n  public crosshair() {\n    this.setCursor('crosshair');\n  }\n  /**  */\n  public wait() {\n    this.setCursor('wait');\n  }\n\n  /**  */\n  public help() {\n    this.setCursor('help');\n  }\n\n  /**  */\n  public text() {\n    this.setCursor('text');\n  }\n\n  /**\n   * \n   */\n  public eResize() {\n    this.setCursor('e-resize');\n  }\n\n  /**\n   * \n   */\n  public wResize() {\n    this.setCursor('w-resize');\n  }\n\n  /**\n   * \n   */\n  public nResize() {\n    this.setCursor('n-resize');\n  }\n\n  /**\n   * \n   */\n  public sResize() {\n    this.setCursor('s-resize');\n  }\n  /**\n   *  \n   */\n  public neResize() {\n    this.setCursor('ne-resize');\n  }\n  /**\n   *  \n   */\n  public nwResize() {\n    this.setCursor('nw-resize');\n  }\n  /**\n   * \n   */\n  public seResize() {\n    this.setCursor('se-resize');\n  }\n  /**\n   * \n   */\n  public swResize() {\n    this.setCursor('sw-resize');\n  }\n\n  /**\n   * \n   */\n  public nsResize() {\n    this.setCursor('ns-resize');\n  }\n  /**\n   * \n   */\n  public ewResize() {\n    this.setCursor('ew-resize');\n  }\n}\n\nexport default CursorAction;\n","import { each } from '@antv/util';\nimport { View } from 'src/chart';\nimport Action from '../base';\nimport { getDelegationObject, getScaleByField, isList, isSlider } from '../util';\n\n/**\n * \n * @ignore\n */\nclass DataFilter extends Action {\n  private filterView(view: View, field, filter) {\n    //  scale \n    if (view.getScaleByField(field)) {\n      view.filter(field, filter);\n    }\n    if (view.views && view.views.length) {\n      each(view.views, (subView) => {\n        this.filterView(subView, field, filter);\n      });\n    }\n  }\n  /**\n   * \n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    if (delegateObject) {\n      const view = this.context.view;\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // \n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names: string[] = unCheckedItems.map((item) => item.name);\n          if (names.length) {\n            this.filterView(view, field, (value) => {\n              const text = scale.getText(value);\n              return !names.includes(text);\n            });\n          } else {\n            this.filterView(view, field, null);\n          }\n          view.render(true);\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        this.filterView(view, field, (value) => {\n          return value >= min && value <= max;\n        });\n        view.render(true);\n      }\n    }\n  }\n}\n\nexport default DataFilter;\n","import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport { FilterCondition } from '../../../interface';\nimport RangeFilter from './range-filter';\n\nimport { getSilbings } from '../util';\n\n/**\n *  view  view  views \n * @ignore\n */\nclass SiblingFilter extends RangeFilter {\n  /**\n   *  view \n   * @param view\n   * @param field\n   * @param filter\n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.filter(field, filter);\n    });\n  }\n\n  /**\n   * \n   * @param view\n   */\n  protected reRender(view: View) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.render(true);\n    });\n  }\n}\n\nexport default SiblingFilter;\n","import { each } from '@antv/util';\nimport Action from '../base';\nimport {\n  getDelegationObject,\n  getElements,\n  getElementValue,\n  getScaleByField,\n  isList,\n  isSlider,\n  isMask,\n  getMaskedElements,\n} from '../util';\n/**\n *  Action\n * @ignore\n */\nclass ElementFilter extends Action {\n  /**\n   * \n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    const view = this.context.view;\n    const elements = getElements(view);\n    if (isMask(this.context)) {\n      const maskElements = getMaskedElements(this.context, 10);\n      if (maskElements) {\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    } else if (delegateObject) {\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // \n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names = unCheckedItems.map((item) => item.name);\n          // \n          each(elements, (el) => {\n            const value = getElementValue(el, field);\n            const text = scale.getText(value);\n            if (names.indexOf(text) >= 0) {\n              el.hide();\n            } else {\n              el.show();\n            }\n          });\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        each(elements, (el) => {\n          const value = getElementValue(el, field);\n          if (value >= min && value <= max) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    }\n  }\n  /**\n   * \n   */\n  public clear() {\n    const elements = getElements(this.context.view);\n    each(elements, (el) => {\n      el.show();\n    });\n  }\n\n  /**\n   *  data-filter \n   */\n  public reset() {\n    this.clear();\n  }\n}\n\nexport default ElementFilter;\n","import { each } from '@antv/util';\nimport Action from '../base';\nimport { getElements, getMaskedElements, getSiblingMaskElements, getSilbings, isInRecords, isMask } from '../util';\n\n/**\n * Sibling filter\n * @ignore\n */\nclass SiblingFilter extends Action {\n  protected byRecord = false;\n  /**\n   * \n   */\n  public filter() {\n    //  mask \n    if (isMask(this.context)) {\n      if (this.byRecord) {\n        this.filterByRecord();\n      } else {\n        this.filterByBBox();\n      }\n    }\n  }\n  // \n  private filterByRecord() {\n    const view = this.context.view;\n    const maskElements = getMaskedElements(this.context, 10);\n    if (!maskElements) {\n      return;\n    }\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    const records = maskElements.map((el) => {\n      return el.getModel().data;\n    });\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const elements = getElements(sibling);\n      each(elements, (el) => {\n        const record = el.getModel().data;\n        // records.includes(record) \n        if (isInRecords(records, record, xFiled, yField)) {\n          el.show();\n        } else {\n          el.hide();\n        }\n      });\n    });\n  }\n\n  // \n  private filterByBBox() {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const maskElements = getSiblingMaskElements(this.context, sibling, 10);\n      const elements = getElements(sibling);\n      if (maskElements) {\n        // mask  null\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    const siblings = getSilbings(this.context.view);\n    each(siblings, (sibling) => {\n      const elements = getElements(sibling);\n      each(elements, (el) => {\n        el.show();\n      });\n    });\n  }\n}\n\nexport default SiblingFilter;\n","import { LooseObject } from '../../../interface';\nimport { IGroup } from '@antv/g-base';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport { parsePadding } from '../../../util/padding';\nimport Action from '../base';\nconst PADDING_RIGHT = 10;\nconst PADDING_TOP = 5;\n\n/**\n * Button action\n * @ignore\n */\nclass ButtonAction extends Action {\n  private buttonGroup: IGroup = null;\n  private buttonCfg = {\n    name: 'button',\n    text: 'button',\n    textStyle: {\n      x: 0,\n      y: 0,\n      fontSize: 12,\n      fill: '#333333',\n      cursor: 'pointer',\n    },\n    padding: [8, 10],\n    style: {\n      fill: '#f7f7f7',\n      stroke: '#cccccc',\n      cursor: 'pointer',\n    },\n    activeStyle: {\n      fill: '#e6e6e6',\n    },\n  };\n  // mix \n  private getButtonCfg(): LooseObject {\n    return deepMix(this.buttonCfg, this.cfg);\n  }\n  //  Button  \n  private drawButton() {\n    const config = this.getButtonCfg();\n    const group = this.context.view.foregroundGroup.addGroup({\n      name: config.name,\n    });\n    // \n    const textShape = group.addShape({\n      type: 'text',\n      name: 'button-text',\n      attrs: {\n        text: config.text,\n        ...config.textStyle,\n      },\n    });\n    const textBBox = textShape.getBBox();\n    const padding = parsePadding(config.padding);\n    // \n    const buttonShape = group.addShape({\n      type: 'rect',\n      name: 'button-rect',\n      attrs: {\n        x: textBBox.x - padding[3],\n        y: textBBox.y - padding[0],\n        width: textBBox.width + padding[1] + padding[3],\n        height: textBBox.height + padding[0] + padding[2],\n        ...config.style,\n      },\n    });\n    buttonShape.toBack(); // \n    // active \n    group.on('mouseenter', () => {\n      buttonShape.attr(config.activeStyle);\n    });\n    group.on('mouseleave', () => {\n      buttonShape.attr(config.style);\n    });\n    this.buttonGroup = group;\n  }\n\n  // \n  private resetPosition() {\n    const view = this.context.view;\n    const coord = view.getCoordinate();\n    const point = coord.convert({ x: 1, y: 1 }); // \n    const buttonGroup = this.buttonGroup;\n    const bbox = buttonGroup.getBBox();\n    const matrix = ext.transform(null, [\n      ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n    ]);\n    buttonGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (!this.buttonGroup) {\n      this.drawButton();\n    }\n    this.resetPosition();\n    this.buttonGroup.show();\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.buttonGroup) {\n      this.buttonGroup.hide();\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    const buttonGroup = this.buttonGroup;\n    if (buttonGroup) {\n      buttonGroup.remove();\n    }\n    super.destroy();\n  }\n}\n\nexport default ButtonAction;\n","import { Point } from '../../../dependents';\nimport Action from '../base';\nimport { distance } from '../util';\n\nconst DISTANCE = 4; // \n\n/**\n * @ignore\n * View  Drag  Action\n */\nclass Drag extends Action {\n  // Action  \n  protected starting = false;\n  // \n  protected dragStart = false;\n  // \n  protected startPoint: Point;\n\n  /**\n   * \n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n  }\n\n  /**\n   * \n   */\n  public drag() {\n    if (!this.startPoint) {\n      return;\n    }\n    const current = this.context.getCurrentPoint();\n    const view = this.context.view;\n    const event = this.context.event;\n    if (!this.dragStart) {\n      if (distance(current, this.startPoint) > DISTANCE) {\n        view.emit('dragstart', {\n          target: event.target,\n          x: event.x,\n          y: event.y,\n        });\n        this.dragStart = true;\n      }\n    } else {\n      view.emit('drag', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    if (this.dragStart) {\n      const view = this.context.view;\n      const event = this.context.event;\n      view.emit('dragend', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n    this.starting = false;\n    this.dragStart = false;\n  }\n}\n\nexport default Drag;\n","import { ext } from '@antv/matrix-util';\nimport { Action } from '..';\nimport { distance } from '../util';\n\nconst MIN_DISTANCE = 5;\n\n/**\n * @ignore\n * View  Action\n */\nclass Move extends Action {\n  private starting = false;\n  private isMoving = false;\n  // private cacheRange = null;\n  private startPoint = null;\n  private startMatrix = null;\n  /**\n   * \n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n    // \n    this.startMatrix = this.context.view.middleGroup.getMatrix();\n  }\n\n  /**\n   * \n   */\n  public move() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const currentPoint = this.context.getCurrentPoint();\n    const d = distance(startPoint, currentPoint);\n    if (d > MIN_DISTANCE && !this.isMoving) {\n      this.isMoving = true;\n    }\n    if (this.isMoving) {\n      const view = this.context.view;\n      const matrix = ext.transform(this.startMatrix, [\n        ['t', currentPoint.x - startPoint.x, currentPoint.y - startPoint.y],\n      ]);\n      view.backgroundGroup.setMatrix(matrix);\n      view.foregroundGroup.setMatrix(matrix);\n      view.middleGroup.setMatrix(matrix);\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    if (this.isMoving) {\n      this.isMoving = false;\n    }\n    this.startMatrix = null;\n    this.starting = false;\n    this.startPoint = null;\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.starting = false;\n    this.startPoint = null;\n    this.isMoving = false;\n\n    const view = this.context.view;\n    view.backgroundGroup.resetMatrix();\n    view.foregroundGroup.resetMatrix();\n    view.middleGroup.resetMatrix();\n    this.isMoving = false;\n  }\n}\n\nexport default Move;\n","import { Action } from '..';\n\nconst DIM_X = 'x';\nconst DIM_Y = 'y';\n\n/**\n * Scale translate\n * @ignore\n */\nclass ScaleTranslate extends Action {\n  protected dims = [DIM_X, DIM_Y];\n  protected cfgFields = ['dims'];\n  protected cacheScaleDefs = {};\n\n  // \n  protected hasDim(dim) {\n    return this.dims.includes(dim);\n  }\n\n  protected getScale(dim) {\n    const view = this.context.view;\n    if (dim === 'x') {\n      return view.getXScale();\n    } else {\n      return view.getYScales()[0];\n    }\n  }\n\n  private resetDim(dim) {\n    const view = this.context.view;\n    if (this.hasDim(dim) && this.cacheScaleDefs[dim]) {\n      const scale = this.getScale(dim);\n      view.scale(scale.field, this.cacheScaleDefs[dim]);\n      this.cacheScaleDefs[dim] = null;\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.resetDim(DIM_X);\n    this.resetDim(DIM_Y);\n    const view = this.context.view;\n    view.render(true);\n  }\n}\n\nexport default ScaleTranslate;\n","import { each } from '@antv/util';\nimport { Point } from '../../../dependents';\nimport TransformAction from './scale-transform';\n\n/**\n *  Scale  Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  protected startPoint: Point = null;\n  protected starting = false;\n  private startCache = {};\n  /**\n   * \n   */\n  public start() {\n    this.startPoint = this.context.getCurrentPoint();\n    this.starting = true;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      const scale = this.getScale(dim);\n      const { min, max, values } = scale;\n      this.startCache[dim] = { min, max, values };\n    });\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * \n   */\n  public end() {\n    this.startPoint = null;\n    this.starting = false;\n    this.startCache = {};\n  }\n\n  /**\n   * \n   */\n  public translate() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const coord = this.context.view.getCoordinate();\n    const currentPoint = this.context.getCurrentPoint();\n    const normalStart = coord.invert(startPoint);\n    const noramlCurrent = coord.invert(currentPoint);\n    const dx = noramlCurrent.x - normalStart.x;\n    const dy = noramlCurrent.y - normalStart.y;\n    const view = this.context.view;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.translateDim(dim, { x: dx * -1, y: dy * -1 });\n    });\n    view.render(true);\n  }\n\n  // \n  private translateDim(dim, normalPoint) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.translateLinear(dim, scale, normalPoint);\n      }\n      //  else { // \n      // this.translateCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear \n  private translateLinear(dim, scale, normalPoint) {\n    const view = this.context.view;\n    const { min, max } = this.startCache[dim];\n    const range = max - min;\n    const d = normalPoint[dim] * range;\n    // \n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min,\n        max,\n      };\n    }\n    view.scale(scale.field, {\n      // @ts-ignore\n      nice: false,\n      min: min + d,\n      max: max + d,\n    });\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * \n   */\n  public reset() {\n    super.reset();\n    this.startPoint = null;\n    this.starting = false;\n  }\n}\n\nexport default ScaleTranslate;\n","import { each, throttle } from '@antv/util';\nimport TransformAction from './scale-transform';\n\n/**\n *  Scale  Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  private zoomRatio = 0.05;\n  /**\n   * \n   */\n  public zoomIn() {\n    this.zoom(this.zoomRatio);\n  }\n\n  private zoom(scale) {\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.zoomDim(dim, scale);\n    });\n    this.context.view.render(true);\n  }\n\n  /**\n   * \n   */\n  public zoomOut() {\n    this.zoom(-1 * this.zoomRatio);\n  }\n\n  // \n  private zoomDim(dim, dRatio) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.zoomLinear(dim, scale, dRatio);\n      }\n      //  else { // \n      // this.zoomCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear \n  private zoomLinear(dim, scale, dRatio) {\n    const view = this.context.view;\n    // \n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min: scale.min,\n        max: scale.max,\n      };\n    }\n    // \n    const scaleDef = this.cacheScaleDefs[dim];\n    const range = scaleDef.max - scaleDef.min;\n    const { min, max } = scale;\n    const d = dRatio * range;\n    const toMin = min - d;\n    const toMax = max + d;\n    const curRange = toMax - toMin;\n    const scaled = curRange / range;\n    if (toMax > toMin && scaled < 100 && scaled > 0.01) {\n      view.scale(scale.field, {\n        // @ts-ignore\n        nice: false,\n        min: min - d,\n        max: max + d,\n      });\n    }\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n}\n\nexport default ScaleTranslate;\n","import { clamp, size, valuesOfKey } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../../constant';\nimport { Action } from '..';\nimport { LooseObject } from '../../../interface';\n\nfunction isWheelDown(event: LooseObject) {\n  const wheelEvent = event.gEvent.originalEvent as WheelEvent;\n  return wheelEvent.deltaY > 0;\n}\n\nconst DEFAULT_WHEELDELTA = 1;\nclass MousewheelScroll extends Action {\n  public scroll(arg?) {\n    const { view, event } = this.context;\n\n    if (!view.getOptions().scrollbar) {\n      return;\n    }\n\n    const wheelDelta = arg?.wheelDelta || DEFAULT_WHEELDELTA;\n    const scrollbarController = view.getController('scrollbar');\n\n    const xScale = view.getXScale();\n    const data = view.getOptions().data;\n    const dataSize = size(valuesOfKey(data, xScale.field));\n    const step = size(xScale.values);\n\n    const currentRatio = scrollbarController.getValue();\n    const currentStart = Math.floor((dataSize - step) * currentRatio);\n\n    const nextStart = currentStart + (isWheelDown(event) ? wheelDelta : -wheelDelta);\n    const correction = wheelDelta / (dataSize - step) / 10000;\n    const nextRatio = clamp(nextStart / (dataSize - step) + correction, 0, 1);\n    scrollbarController.setValue(nextRatio);\n  }\n}\n\nexport default MousewheelScroll;\n","/**\n * Simplified from https://github.com/zertosh/invariant.\n */\n\nexport enum LEVEL {\n  ERROR = 'error',\n  WARN = 'warn',\n  INFO = 'log',\n}\n\nconst BRAND = 'AntV/G2Plot';\n\n/**\n * \n * @param format\n * @param args\n */\nfunction getMessage(format: string, ...args: any[]): string {\n  let argIndex = 0;\n  return `${BRAND}: ${format.replace(/%s/g, (): string => `${args[argIndex++]}`)}`;\n}\n\n/**\n * invariant error\n * @param condition\n * @param format\n * @param args\n */\nexport function invariant(condition: boolean, format: string, ...args: any[]): void {\n  if (!condition) {\n    const error = new Error(getMessage(format, ...args));\n    error.name = BRAND;\n    // error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\n/**\n * \n * @param level\n * @param condition\n * @param format\n * @param args\n */\nexport function log(level: LEVEL, condition: boolean, format, ...args: any[]): void {\n  if (!condition) {\n    console[level](getMessage(format, ...args));\n  }\n}\n","import { TOOLTIP_CSS_CONST } from \"@antv/component\";\nimport { deepMix } from \"@antv/util\";\nimport { HtmlTooltip } from \"../../../../dependents\";\nimport Action from \"../../base\";\nimport { getDelegationObject } from \"../../util\";\n\nconst AXIS_DESCRIPTION_TOOLTIP = 'aixs-description-tooltip'\n\nclass AxisDescription extends Action {\n  private tooltip;\n\n  public show() {\n    const context = this.context;\n    const { axis } = getDelegationObject(context);\n    const { description, text } = axis.cfg.title;\n    const { x, y } = context.event;\n    if(!this.tooltip) {\n      this.renderTooltip()\n    };\n    this.tooltip.update({\n      title: text || '',\n      customContent: () => {\n        return (`\n          <div class=\"${TOOLTIP_CSS_CONST.CONTAINER_CLASS}\">\n            <div class=\"${TOOLTIP_CSS_CONST.TITLE_CLASS}\">\n              ${text}\n            </div>\n            <div class=\"${TOOLTIP_CSS_CONST.LIST_CLASS}\">\n              ${description}\n            </div>\n          </div>\n        `)\n      },\n      x,\n      y\n    });\n    this.tooltip.show()\n  }\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  public hide() {\n    this.tooltip && this.tooltip.hide()\n  }\n\n  public renderTooltip() {\n    const view = this.context.view;\n    const canvas = view.canvas;\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      visible: false,\n      containerId: AXIS_DESCRIPTION_TOOLTIP,\n      domStyles: {\n        ...deepMix({}, {\n          // tooltip tip  50%\n          [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: {\n            'max-width': '50%',\n            'padding': '5px',\n            'line-height': '15px'\n          },\n          [TOOLTIP_CSS_CONST.TITLE_CLASS]: {\n            'word-break': 'break-all',\n            'font-size': '14px',\n            'margin-bottom': '3px'\n          },\n          [TOOLTIP_CSS_CONST.LIST_CLASS]: {\n            'word-break': 'break-all',\n            'opacity': '.5'\n          }\n        }),\n      },\n    });\n    tooltip.init();\n    tooltip.setCapture(false);\n    this.tooltip = tooltip\n  }\n}\nexport default AxisDescription\n","type FlowFunction<P> = (param: P) => P;\n\n/**\n *  lodash.flow \n * @param flows\n */\nexport function flow<P>(...flows: FlowFunction<P>[]): FlowFunction<P> {\n  return (param: P) => {\n    return flows.reduce((result: P, f: FlowFunction<P>) => {\n      return f(result);\n    }, param);\n  };\n}\n","/**\n *  lodash.pick \n * @param obj\n * @param keys\n */\nexport function pick(obj: any, keys: string[]): object {\n  const r = {};\n\n  if (obj !== null && typeof obj === 'object') {\n    keys.forEach((key: string) => {\n      const v = obj[key];\n      if (v !== undefined) {\n        r[key] = v;\n      }\n    });\n  }\n  return r;\n}\n","import { reduce } from '@antv/util';\n/**\n * \n * template('hello, {name}', { name: 'AntV' }); // hello, AntV\n * @param string\n * @param options\n */\nexport function template(source: string, data?: object): string {\n  if (!data) {\n    return source;\n  }\n  return reduce(\n    // @ts-ignore\n    data,\n    (r: string, v: string, k: string) => r.replace(new RegExp(`{\\\\s*${k}\\\\s*}`, 'g'), v),\n    source\n  );\n}\n","import { Size } from '../types';\n\n/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nexport function getContainerSize(ele: HTMLElement): Size {\n  if (!ele) {\n    return { width: 0, height: 0 };\n  }\n  const style = getComputedStyle(ele);\n\n  return {\n    width:\n      (ele.clientWidth || parseInt(style.width, 10)) -\n      parseInt(style.paddingLeft, 10) -\n      parseInt(style.paddingRight, 10),\n    height:\n      (ele.clientHeight || parseInt(style.height, 10)) -\n      parseInt(style.paddingTop, 10) -\n      parseInt(style.paddingBottom, 10),\n  };\n}\n","import { Geometry, View, Element } from '@antv/g2';\nimport { reduce, get } from '@antv/util';\n\n/**\n *  View  type  geometry\n * @param view\n * @param type\n */\nexport function findGeometry(view: View, type: string): Geometry {\n  return view.geometries.find((g: Geometry) => g.type === type);\n}\n\n/**\n *  View   elements\n */\nexport function getAllElements(view: View): Element[] {\n  return reduce(\n    view.geometries,\n    (r: Element[], geometry: Geometry) => {\n      return r.concat(geometry.elements);\n    },\n    []\n  );\n}\n\n/**\n *  View   elements,  View  View\n */\nexport function getAllElementsRecursively(view: View): Element[] {\n  if (get(view, ['views', 'length'], 0) <= 0) {\n    return getAllElements(view);\n  }\n\n  return reduce(\n    view.views,\n    (ele: Element[], subView: View) => {\n      return ele.concat(getAllElementsRecursively(subView));\n    },\n    getAllElements(view)\n  );\n}\n\n/**\n *  View   geometries,  View  View\n */\nexport function getAllGeometriesRecursively(view: View): Geometry[] {\n  if (get(view, ['views', 'length'], 0) <= 0) {\n    return view.geometries;\n  }\n\n  return reduce(\n    view.views,\n    (ele: Geometry[], subView: View) => {\n      return ele.concat(subView.geometries);\n    },\n    view.geometries\n  );\n}\n","import { View } from '@antv/g2';\n\n/**\n *  Chart  id  View\n * @param chart\n * @param id\n */\nexport function findViewById(chart: View, id: string): View {\n  return chart.views.find((view: View) => view.id === id);\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getViews(view: View): View[] {\n  const parent = view.parent;\n  return parent ? parent.views : [];\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getSiblingViews(view: View): View[] {\n  return getViews(view).filter((sub) => sub !== view);\n}\n","import { isType } from '@antv/util';\n/**\n *  v1 label formatter\n * @param labelOptions\n */\nexport function transformLabel(labelOptions: any) {\n  if (!isType(labelOptions, 'Object')) {\n    return labelOptions;\n  }\n  const label = { ...labelOptions };\n  if (label.formatter && !label.content) {\n    label.content = label.formatter;\n  }\n  return label;\n}\n","import { vec2 } from '@antv/matrix-util';\nimport { Position, Point } from '../types/common';\n\nexport function points2Path(points: Point[], isInCircle: boolean) {\n  const path = [];\n  if (points.length) {\n    path.push(['M', points[0].x, points[0].y]);\n    for (let i = 1, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      path.push(['L', item.x, item.y]);\n    }\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n  return path;\n}\n\n/**\n * @ignore\n * \n */\nexport const smoothBezier = (\n  points: Position[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: Position[]\n): Position[] => {\n  const cps = [];\n  let prevPoint: Position;\n  let nextPoint: Position;\n  const hasConstraint = !!constraint;\n  let min: Position;\n  let max: Position;\n  if (hasConstraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vec2.min([0, 0], min, point) as [number, number];\n      max = vec2.max([0, 0], max, point) as [number, number];\n    }\n    min = vec2.min([0, 0], min, constraint[0]) as [number, number];\n    max = vec2.max([0, 0], max, constraint[1]) as [number, number];\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isLoop) {\n      prevPoint = points[i ? i - 1 : len - 1];\n      nextPoint = points[(i + 1) % len];\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push(point);\n        continue;\n      } else {\n        prevPoint = points[i - 1];\n        nextPoint = points[i + 1];\n      }\n    }\n    let v: [number, number] = [0, 0];\n    v = vec2.sub(v, nextPoint, prevPoint) as [number, number];\n    v = vec2.scale(v, v, smooth) as [number, number];\n\n    let d0 = vec2.distance(point, prevPoint);\n    let d1 = vec2.distance(point, nextPoint);\n\n    const sum = d0 + d1;\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n\n    const v1 = vec2.scale([0, 0], v, -d0);\n    const v2 = vec2.scale([0, 0], v, d1);\n\n    let cp0 = vec2.add([0, 0], point, v1);\n    let cp1 = vec2.add([0, 0], point, v2);\n\n    if (hasConstraint) {\n      cp0 = vec2.max([0, 0], cp0, min);\n      cp0 = vec2.min([0, 0], cp0, max);\n      cp1 = vec2.max([0, 0], cp1, min);\n      cp1 = vec2.min([0, 0], cp1, max);\n    }\n\n    cps.push(cp0);\n    cps.push(cp1);\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n  return cps;\n};\n\n/**\n * @ignore\n * \n */\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: Position[]) {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: Position;\n  let cp2: Position;\n  let p: Position;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n/**\n * @ignore\n * \n */\nexport function getSplinePath(points: Point[], isInCircle?: boolean, constaint?: Position[]) {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // \n    return points2Path(points, isInCircle);\n  }\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  }\n  const constraint = constaint || [\n    // \n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n","const MAX_MIX_LEVEL = 5; // \n\nconst toString = {}.toString;\n\n// \nconst isType = (value: any, type: string): boolean => toString.call(value) === '[object ' + type + ']';\n\nconst isArray = (value: any): value is Array<any> => {\n  return isType(value, 'Array');\n};\n\nconst isObjectLike = (value: any): value is object => {\n  /**\n   * isObjectLike({}) => true\n   * isObjectLike([1, 2, 3]) => true\n   * isObjectLike(Function) => false\n   */\n  return typeof value === 'object' && value !== null;\n};\n\nconst isPlainObject = (value: any): value is object => {\n  /**\n   * isObjectLike(new Foo) => false\n   * isObjectLike([1, 2, 3]) => false\n   * isObjectLike({ x: 0, y: 0 }) => true\n   */\n  if (!isObjectLike(value) || !isType(value, 'Object')) {\n    return false;\n  }\n  let proto = value;\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n  return Object.getPrototypeOf(value) === proto;\n};\n\n/***\n * @param {any} dist\n * @param {any} src\n * @param {number} level \n * @param {number} maxLevel \n */\nconst deep = (dist, src, level?, maxLevel?) => {\n  level = level || 0;\n  maxLevel = maxLevel || MAX_MIX_LEVEL;\n  for (const key in src) {\n    if (Object.prototype.hasOwnProperty.call(src, key)) {\n      const value = src[key];\n      if (!value) {\n        // null  undefined \n        dist[key] = value;\n      } else {\n        if (isPlainObject(value)) {\n          if (!isPlainObject(dist[key])) {\n            dist[key] = {};\n          }\n          if (level < maxLevel) {\n            deep(dist[key], value, level + 1, maxLevel);\n          } else {\n            // \n            dist[key] = src[key];\n          }\n        } else if (isArray(value)) {\n          dist[key] = [];\n          dist[key] = dist[key].concat(value);\n        } else {\n          dist[key] = value;\n        }\n      }\n    }\n  }\n};\n\n/**\n * deepAssign  deepMix\n *  deepAssign  null undefined  source\n *  __tests__/unit/utils/deep-assign-spec.ts\n */\nexport const deepAssign = (rst: any, ...args: any[]) => {\n  for (let i = 0; i < args.length; i += 1) {\n    deep(rst, args[i]);\n  }\n  return rst;\n};\n","/**\n * @desc simple kebabCase like lodash\n *\n * kebabCase('fooBar'); => 'foo-bar'\n */\nexport function kebabCase(word: string) {\n  if (!word) {\n    return word;\n  }\n  const result = word.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);\n  return result.map((s: string) => s.toLowerCase()).join('-');\n}\n","import { View, IGroup } from '@antv/g2';\nimport { each, get, isNumber, isFunction, isString } from '@antv/util';\nimport { Datum, ShapeStyle, Statistic, StatisticText } from '../types';\nimport { pick, kebabCase } from '.';\n\n/**\n * @desc  html-statistic  style  ( canvas  shapeStyle  css)\n *\n * @param width\n * @param style\n */\nexport function adapteStyle(style?: StatisticText['style']): object {\n  const styleObject = {\n    overflow: 'hidden',\n    'white-space': 'nowrap',\n    'text-overflow': 'ellipsis',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  };\n\n  const shapeStyleKeys = [\n    'stroke',\n    'lineWidth',\n    'shadowColor',\n    'strokeOpacity',\n    'shadowBlur',\n    'shadowOffsetX',\n    'shadowOffsetY',\n    'fill',\n  ];\n\n  //  shapeStyle   start\n  if (get(style, 'fill')) {\n    styleObject['color'] = style['fill'];\n  }\n  const {\n    shadowColor,\n    shadowBlur = 0,\n    shadowOffsetX = 0,\n    shadowOffsetY = 0,\n  } = pick(style, shapeStyleKeys) as ShapeStyle;\n  styleObject['text-shadow'] = `${[shadowColor, `${shadowOffsetX}px`, `${shadowOffsetY}px`, `${shadowBlur}px`].join(\n    ' '\n  )}`;\n\n  const { stroke, lineWidth = 0 } = pick(style, shapeStyleKeys) as ShapeStyle;\n  styleObject['-webkit-text-stroke'] = `${[`${lineWidth}px`, stroke].join(' ')}`;\n  //  shapeStyle   end\n\n  each(style, (v, k) => {\n    //   shapeStyle  fontSize \n    if (['fontSize'].includes(k) && isNumber(v)) {\n      styleObject[kebabCase(k)] = `${v}px`;\n    } else if (k && !shapeStyleKeys.includes(k)) {\n      styleObject[kebabCase(k)] = `${v}`;\n    }\n  });\n\n  return styleObject;\n}\n\n/**\n * @desc  html-statistic \n *\n * - \n */\nexport function setStatisticContainerStyle(container: HTMLElement, style: Partial<CSSStyleDeclaration>) {\n  container.style['pointer-events'] = 'none';\n  each(style, (v, k) => {\n    if (k && v) {\n      container.style[k] = v;\n    }\n  });\n}\n\n/**\n *  html-annotation position  [50%, 50%]\n * @param chart\n * @param options\n * @param meta \n * @param {optional} datum \n */\nexport const renderStatistic = (chart: View, options: { statistic: Statistic; plotType: string }, datum?: Datum) => {\n  const { statistic, plotType } = options;\n  const { title: titleOpt, content: contentOpt } = statistic;\n\n  [titleOpt, contentOpt].forEach((option, idx) => {\n    if (!option) {\n      return;\n    }\n    let transform = '';\n    if (idx === 0) {\n      transform = contentOpt ? 'translate(-50%, -100%)' : 'translate(-50%, -50%)';\n    } else {\n      transform = titleOpt ? 'translate(-50%, 0)' : 'translate(-50%, -50%)';\n    }\n    const style = isFunction(option.style) ? option.style(datum) : option.style;\n\n    chart.annotation().html({\n      position: ['50%', '50%'],\n      html: (container, view) => {\n        const coordinate = view.getCoordinate();\n        let containerW = 0;\n        if (plotType === 'pie' || plotType === 'ring-progress') {\n          containerW = coordinate.getRadius() * coordinate.innerRadius * 2;\n        } else if (plotType === 'liquid') {\n          const liquidShape = get(view.geometries, [0, 'elements', 0, 'shape']);\n          if (liquidShape) {\n            // \n            const path = (liquidShape as IGroup).find((t) => t.get('name') === 'wrap');\n            const { width } = path.getCanvasBBox();\n            containerW = width;\n          }\n        } else if (!containerW) {\n          // \n          containerW = coordinate.getWidth();\n        }\n        setStatisticContainerStyle(container, {\n          width: `${containerW}px`,\n          transform,\n          // user's style setting has high priority\n          ...adapteStyle(style),\n        });\n\n        const filteredData = view.getData();\n        if (option.customHtml) {\n          return option.customHtml(container, view, datum, filteredData);\n        }\n\n        let text = option.content;\n        if (option.formatter) {\n          text = option.formatter(datum, filteredData);\n        }\n        // todo G2  & G2  number\n        return text ? (isString(text) ? text : `${text}`) : '<div></div>';\n      },\n      // @ts-ignore\n      key: `${idx === 0 ? 'top' : 'bottom'}-statistic`,\n      ...pick(option, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']) /**  */,\n    });\n  });\n};\n\n/**\n *  html-annotation for gauge ( plot),  position  [50%, 100%]\n * @param chart\n * @param options\n * @param meta \n * @param {optional} datum \n */\nexport const renderGaugeStatistic = (chart: View, options: { statistic: Statistic }, datum?: Datum) => {\n  const { statistic } = options;\n  const { title: titleOpt, content: contentOpt } = statistic;\n\n  [titleOpt, contentOpt].forEach((option) => {\n    if (!option) {\n      return;\n    }\n    const style = isFunction(option.style) ? option.style(datum) : option.style;\n    chart.annotation().html({\n      position: ['50%', '100%'],\n      html: (container, view) => {\n        const coordinate = view.getCoordinate();\n        // \n        const polarCoord = view.views[0].getCoordinate();\n        const polarCenter = polarCoord.getCenter();\n        const polarRadius = polarCoord.getRadius();\n        const polarMaxY = Math.max(Math.sin(polarCoord.startAngle), Math.sin(polarCoord.endAngle)) * polarRadius;\n        const offsetY = polarCenter.y + polarMaxY - coordinate.y.start - parseFloat(get(style, 'fontSize', 0));\n\n        const containerWidth = coordinate.getRadius() * coordinate.innerRadius * 2;\n        setStatisticContainerStyle(container, {\n          width: `${containerWidth}px`,\n          transform: `translate(-50%, ${offsetY}px)`,\n          // user's style setting has high priority\n          ...adapteStyle(style),\n        });\n\n        const filteredData = view.getData();\n        if (option.customHtml) {\n          return option.customHtml(container, view, datum, filteredData);\n        }\n\n        let text = option.content;\n        if (option.formatter) {\n          text = option.formatter(datum, filteredData);\n        }\n\n        // todo G2  & G2  number\n        return text ? (isString(text) ? text : `${text}`) : '<div></div>';\n      },\n      ...pick(option, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']) /**  */,\n    });\n  });\n};\n","let ctx: CanvasRenderingContext2D;\n\n/**\n *  canvas context\n */\nexport function getCanvasContext() {\n  if (!ctx) {\n    ctx = document.createElement('canvas').getContext('2d');\n  }\n\n  return ctx;\n}\n","import { isString, memoize, values } from '@antv/util';\nimport { getCanvasContext } from './context';\n\n/**\n * \n * @param text \n * @param font \n */\nexport const measureTextWidth = memoize(\n  (text: string, font: any = {}): number => {\n    const { fontSize, fontFamily = 'sans-serif', fontWeight, fontStyle, fontVariant } = font;\n    const ctx = getCanvasContext();\n    // @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/font\n    ctx.font = [fontStyle, fontWeight, fontVariant, `${fontSize}px`, fontFamily].join(' ');\n    const metrics = ctx.measureText(isString(text) ? text : '');\n    return metrics.width;\n  },\n  (text: string, font = {}) => [text, ...values(font)].join('')\n);\n","/**\n * \n * @param v\n */\nexport function isRealNumber(v: any) {\n  return typeof v === 'number' && !isNaN(v);\n}\n\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value: number, start: number, end: number): boolean {\n  const min = Math.min(start, end);\n  const max = Math.max(start, end);\n\n  return value >= min && value <= max;\n}\n","import { get, isNumber, filter } from '@antv/util';\nimport { Data, Datum, Meta, Options } from '../types';\nimport { Node, NodeLinkData } from '../types/relation-data';\nimport { LEVEL, log } from './invariant';\nimport { pick } from './pick';\n\n/**\n * \n * @param data\n * @param field\n */\nexport function adjustYMetaByZero(data: Data, field: string): Meta {\n  if (!data) return {};\n  // \n  const numberData = data.filter((datum: Datum) => {\n    const v = get(datum, [field]);\n    return isNumber(v) && !isNaN(v);\n  });\n\n  const gtZero = numberData.every((datum: Datum) => get(datum, [field]) >= 0);\n  const ltZero = numberData.every((datum: Datum) => get(datum, [field]) <= 0);\n\n  //  { min: 0, max: undefined }  update({ max: 0 })  { min: 0, max: 0 }\n  if (gtZero) {\n    return { min: 0 };\n  }\n  if (ltZero) {\n    return { max: 0 };\n  }\n  return {};\n}\n\n/**\n * \n * @param data\n * @param sourceField\n * @param targetField\n * @param weightField\n * @param rawFields \n */\nexport function transformDataToNodeLinkData(\n  data: Data,\n  sourceField: string,\n  targetField: string,\n  weightField: string,\n  rawFields: string[] = []\n): NodeLinkData {\n  if (!Array.isArray(data)) {\n    return {\n      nodes: [],\n      links: [],\n    };\n  }\n\n  //   const nodes = [];\n  const links = [];\n  // \n  const nodesMap: Record<string, Node> = {};\n  let nodesIndex = -1;\n  //  chord layout \n  data.forEach((datum: Datum) => {\n    const source = datum[sourceField];\n    const target = datum[targetField];\n    const weight = datum[weightField];\n\n    const rawData = pick(datum, rawFields);\n\n    // source node\n    if (!nodesMap[source]) {\n      nodesMap[source] = {\n        id: ++nodesIndex,\n        name: source,\n        ...rawData,\n      };\n    }\n    if (!nodesMap[target]) {\n      nodesMap[target] = {\n        id: ++nodesIndex,\n        name: target,\n        ...rawData,\n      };\n    }\n    // links\n    links.push({\n      source: nodesMap[source].id,\n      target: nodesMap[target].id,\n      // sourceName: source,\n      // targetName: target,\n      value: weight,\n      ...rawData,\n    });\n  });\n  return {\n    //  id \n    nodes: Object.values(nodesMap).sort((a, b) => a.id - b.id),\n    links,\n  };\n}\n\n/**\n * (   NaN null)\n * @param data\n * @param angleField\n */\nexport function processIllegalData(data: Options['data'], field: string) {\n  const processData = filter(data, (d) => {\n    const v = d[field];\n    return v === null || (typeof v === 'number' && !isNaN(v));\n  });\n\n  // \n  log(LEVEL.WARN, processData.length === data.length, 'illegal data existed in chart data.');\n\n  return processData;\n}\n","import { Types } from '@antv/g2';\nimport { isNumber, isArray } from '@antv/util';\n\n/**\n *  padding \n * @param padding\n */\nexport function normalPadding(padding: number | number[] | 'auto'): [number, number, number, number] {\n  if (isNumber(padding)) {\n    return [padding, padding, padding, padding];\n  }\n  if (isArray(padding)) {\n    const length = padding.length;\n\n    if (length === 1) {\n      return [padding[0], padding[0], padding[0], padding[0]];\n    }\n    if (length === 2) {\n      return [padding[0], padding[1], padding[0], padding[1]];\n    }\n    if (length === 3) {\n      return [padding[0], padding[1], padding[2], padding[1]];\n    }\n    if (length === 4) {\n      return padding as [number, number, number, number];\n    }\n  }\n\n  return [0, 0, 0, 0];\n}\n\n/**\n *  appendPadding\n */\nexport function getAdjustAppendPadding(padding: Types.ViewAppendPadding, position = 'bottom', append = 25) {\n  const currentAppendPadding = normalPadding(padding);\n\n  const PADDING = [\n    position.startsWith('top') ? append : 0,\n    position.startsWith('right') ? append : 0,\n    position.startsWith('bottom') ? append : 0,\n    position.startsWith('left') ? append : 0,\n  ];\n  return [\n    currentAppendPadding[0] + PADDING[0],\n    currentAppendPadding[1] + PADDING[1],\n    currentAppendPadding[2] + PADDING[2],\n    currentAppendPadding[3] + PADDING[3],\n  ];\n}\n\n/**\n *  padding  appendPadding  padding\n * @param array\n */\nexport function resolveAllPadding(paddings: Types.ViewPadding[]) {\n  //  padding  normal\n  const normalPaddings = paddings.map((item) => normalPadding(item));\n  let finalPadding = [0, 0, 0, 0];\n  if (normalPaddings.length > 0) {\n    finalPadding = finalPadding.map((item, index) => {\n      //  padding \n      normalPaddings.forEach((d, i) => {\n        item += normalPaddings[i][index];\n      });\n      return item;\n    });\n  }\n  return finalPadding;\n}\n","import { each } from '@antv/util';\n/**\n * @file ...\n */\nexport const GLOBAL = {\n  /**  */\n  locale: 'en-US',\n};\n\n/**\n * \n * @param key\n * @param value\n */\nexport function setGlobal(datum: Record<string, any>): void {\n  each(datum, (v, k) => (GLOBAL[k] = v));\n}\n","import { get } from '@antv/util';\nimport { Locale } from '../types/locale';\nimport { template } from '../utils';\nimport { GLOBAL } from './global';\n\nconst LocaleMap = {};\n\n/**\n * register a locale\n * @param locale\n * @param localeObj\n */\nexport function registerLocale(locale: string, localeObj: Locale) {\n  LocaleMap[locale] = localeObj;\n}\n\n/**\n * get locale of specific language\n * @param lang\n * @returns\n */\nexport function getLocale(locale: string) {\n  return {\n    get: (key: string | string[], obj?: Record<string, any>) => {\n      return template(\n        get(LocaleMap[locale], key) || get(LocaleMap[GLOBAL.locale], key) || get(LocaleMap['en-US'], key) || key,\n        obj\n      );\n    },\n  };\n}\n","import { Locale } from '../types/locale';\n\nexport const EN_US_LOCALE: Locale = {\n  locale: 'en-US',\n\n  // General\n  general: {\n    increase: 'Increase',\n    decrease: 'Decrease',\n    root: 'Root',\n  },\n\n  // Plot Components\n  /** statistic text component */\n  statistic: {\n    total: 'Total',\n  },\n  /** conversionTag component */\n  conversionTag: {\n    label: 'Rate',\n  },\n  legend: {},\n  tooltip: {},\n  slider: {},\n  scrollbar: {},\n\n  // Plots\n  waterfall: {\n    total: 'Total',\n  },\n};\n","import { Locale } from '../types/locale';\n\nexport const ZH_CN_LOCALE: Locale = {\n  locale: 'zh-CN',\n\n  // \n  general: {\n    increase: '',\n    decrease: '',\n    root: '',\n  },\n\n  // \n  /**  */\n  statistic: {\n    total: '',\n  },\n  /**  */\n  conversionTag: {\n    label: '',\n  },\n  legend: {},\n  tooltip: {},\n  slider: {},\n  scrollbar: {},\n\n  // \n  waterfall: {\n    total: '',\n  },\n};\n","import { Chart, Event, Element, View } from '@antv/g2';\nimport { each } from '@antv/util';\nimport EE from '@antv/event-emitter';\nimport { bind } from 'size-sensor';\nimport { Options, StateName, StateCondition, Size, StateObject, Annotation } from '../types';\nimport { getContainerSize, getAllElementsRecursively, deepAssign, pick } from '../utils';\nimport { Adaptor } from './adaptor';\n\n/**  pick  */\nexport type PickOptions = Pick<\n  Options,\n  | 'width'\n  | 'height'\n  | 'padding'\n  | 'appendPadding'\n  | 'renderer'\n  | 'pixelRatio'\n  | 'autoFit'\n  | 'syncViewPadding'\n  | 'supportCSSTransform'\n  | 'limitInPlot'\n  | 'locale'\n  | 'defaultInteractions'\n>;\n\nconst SOURCE_ATTRIBUTE_NAME = 'data-chart-source-type';\n\n/** plot  */\nexport const PLOT_CONTAINER_OPTIONS = [\n  'padding',\n  'appendPadding',\n  'renderer',\n  'pixelRatio',\n  'syncViewPadding',\n  'supportCSSTransform',\n  'limitInPlot',\n];\n\n/**\n *  plot \n */\nexport abstract class Plot<O extends PickOptions> extends EE {\n  /**\n   *  options \n   * \n   */\n  static getDefaultOptions(): any {\n    return {\n      renderer: 'canvas',\n      xAxis: {\n        nice: true,\n        label: {\n          autoRotate: false,\n          autoHide: { type: 'equidistance', cfg: { minGap: 6 } },\n        },\n      },\n      yAxis: {\n        nice: true,\n        label: {\n          autoHide: true,\n          autoRotate: false,\n        },\n      },\n      animation: true,\n    };\n  }\n\n  /** plot  */\n  public abstract readonly type: string;\n  /** plot  schema  */\n  public options: O;\n  /** plot  dom */\n  public readonly container: HTMLElement;\n  /** G2 chart  */\n  public chart: Chart;\n  /** resizer unbind  */\n  private unbind: () => void;\n\n  constructor(container: string | HTMLElement, options: O) {\n    super();\n    this.container = typeof container === 'string' ? document.getElementById(container) : container;\n\n    this.options = deepAssign({}, this.getDefaultOptions(), options);\n\n    this.createG2();\n\n    this.bindEvents();\n  }\n\n  /**\n   *  G2 \n   */\n  private createG2() {\n    const { width, height, defaultInteractions } = this.options;\n\n    this.chart = new Chart({\n      container: this.container,\n      autoFit: false, // G2Plot  size-sensor  autoFit\n      ...this.getChartSize(width, height),\n      localRefresh: false, //  G \n      ...pick(this.options, PLOT_CONTAINER_OPTIONS),\n      defaultInteractions,\n    });\n\n    //  G2\n    this.container.setAttribute(SOURCE_ATTRIBUTE_NAME, 'G2Plot');\n  }\n\n  /**\n   *  chart  width  height\n   * @param width\n   * @param height\n   */\n  private getChartSize(width: number, height: number): Size {\n    const chartSize = getContainerSize(this.container);\n    return { width: width || chartSize.width || 400, height: height || chartSize.height || 400 };\n  }\n\n  /**\n   *  G2 \n   */\n  private bindEvents() {\n    if (this.chart) {\n      this.chart.on('*', (e: Event) => {\n        if (e?.type) {\n          this.emit(e.type, e);\n        }\n      });\n    }\n  }\n\n  /**\n   *  options \n   * \n   */\n  protected getDefaultOptions(): any {\n    return Plot.getDefaultOptions();\n  }\n\n  /**\n   *  schema adaptor\n   */\n  protected abstract getSchemaAdaptor(): Adaptor<O>;\n\n  /**\n   * \n   */\n  public render() {\n    //  G2 \n    this.chart.clear();\n    //  view  view  options  legend legend \n    //  chart  options \n    //  G2 view.clear  options  resetOptions\n    // #1684  view  custom legend\n    // @ts-ignore\n    this.chart.options = {\n      data: [],\n      animate: true,\n    };\n    this.chart.views = []; //  views\n    //  adaptor\n    this.execAdaptor();\n    // \n    this.chart.render();\n    // \n    this.bindSizeSensor();\n  }\n\n  /**\n   * : \n   * @param options\n   */\n  public update(options: Partial<O>) {\n    this.updateOption(options);\n    this.render();\n  }\n\n  /**\n   * \n   * @param options\n   */\n  protected updateOption(options: Partial<O>) {\n    this.options = deepAssign({}, this.options, options);\n  }\n\n  /**\n   * \n   * @param type  'active' | 'inactive' | 'selected' \n   * @param conditions \n   * @param status  true\n   */\n  public setState(type: StateName, condition: StateCondition, status: boolean = true) {\n    const elements = getAllElementsRecursively(this.chart);\n\n    each(elements, (ele: Element) => {\n      if (condition(ele.getData())) {\n        ele.setState(type, status);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public getStates(): StateObject[] {\n    const elements = getAllElementsRecursively(this.chart);\n\n    const stateObjects: StateObject[] = [];\n    each(elements, (element: Element) => {\n      const data = element.getData();\n      const states = element.getStates();\n      each(states, (state) => {\n        stateObjects.push({ data, state, geometry: element.geometry, element });\n      });\n    });\n\n    return stateObjects;\n  }\n\n  /**\n   * \n   * @override\n   * @param options\n   */\n  public changeData(data: any) {\n    // @ts-ignore\n    this.update({ data });\n    // TODO: \n    // this.chart.changeData(data);\n  }\n\n  /**\n   * \n   * @param width\n   * @param height\n   */\n  public changeSize(width: number, height: number) {\n    this.chart.changeSize(width, height);\n  }\n\n  /**\n   *  id \n   */\n  public addAnnotations(annotations: Annotation[], view?: View): void {\n    view = view ? view : this.chart;\n    const incoming = [...annotations];\n    const controller = view.getController('annotation');\n    const current = controller.getComponents().map((co) => co.extra);\n\n    controller.clear(true);\n    for (let i = 0; i < current.length; i++) {\n      let annotation = current[i];\n\n      const findIndex = incoming.findIndex((item) => item.id && item.id === annotation.id);\n      if (findIndex !== -1) {\n        annotation = deepAssign({}, annotation, incoming[findIndex]);\n        incoming.splice(findIndex, 1);\n      }\n      controller.annotation(annotation);\n    }\n\n    incoming.forEach((annotation) => controller.annotation(annotation));\n    view.render(true);\n  }\n\n  /**\n   *  id \n   */\n  public removeAnnotations(annotations: Array<{ id: string } & Partial<Annotation>>): void {\n    const controller = this.chart.getController('annotation');\n    const current = controller.getComponents().map((co) => co.extra);\n\n    controller.clear(true);\n    for (let i = 0; i < current.length; i++) {\n      const annotation = current[i];\n\n      if (!annotations.find((item) => item.id && item.id === annotation.id)) {\n        controller.annotation(annotation);\n      }\n    }\n\n    this.chart.render(true);\n  }\n  /**\n   * \n   */\n  public destroy() {\n    //  size-sensor \n    this.unbindSizeSensor();\n    // G2 \n    this.chart.destroy();\n    // \n    this.off();\n\n    this.container.removeAttribute(SOURCE_ATTRIBUTE_NAME);\n  }\n\n  /**\n   *  adaptor \n   */\n  protected execAdaptor() {\n    const adaptor = this.getSchemaAdaptor();\n\n    const { padding, appendPadding } = this.options;\n    //  padding\n    this.chart.padding = padding;\n    //  appendPadding\n    this.chart.appendPadding = appendPadding;\n\n    //  G2 API\n    adaptor({\n      chart: this.chart,\n      options: this.options,\n    });\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    this.chart.forceFit();\n  }\n\n  /**\n   *  dom \n   */\n  private bindSizeSensor() {\n    if (this.unbind) {\n      return;\n    }\n\n    const { autoFit = true } = this.options;\n    if (autoFit) {\n      this.unbind = bind(this.container, () => {\n        // \n        const { width, height } = getContainerSize(this.container);\n\n        //  resize \n        if (width !== this.chart.width || height !== this.chart.height) {\n          this.triggerResize();\n        }\n      });\n    }\n  }\n\n  /**\n   * \n   */\n  private unbindSizeSensor() {\n    if (this.unbind) {\n      this.unbind();\n      this.unbind = undefined;\n    }\n  }\n}\n","import { PatternCfg } from '../../types/pattern';\n\n/**\n * \n */\nexport function getPixelRatio(): number {\n  return typeof window === 'object' ? window?.devicePixelRatio : 2;\n}\n\n/**\n *  cavnas\n */\nexport function initCanvas(width: number, height: number = width): HTMLCanvasElement {\n  const canvas = document.createElement('canvas');\n\n  const pixelRatio = getPixelRatio();\n  // \n  canvas.width = width * pixelRatio;\n  canvas.height = height * pixelRatio;\n  // \n  canvas.style.width = `${width}px`;\n  canvas.style.height = `${height}px`;\n\n  const ctx = canvas.getContext('2d');\n  ctx.scale(pixelRatio, pixelRatio);\n\n  return canvas;\n}\n\n/**\n * \n *\n * @param context\n * @param cfg\n * @param width\n * @param height\n */\nexport function drawBackground(\n  context: CanvasRenderingContext2D,\n  cfg: PatternCfg,\n  width: number,\n  height: number = width\n) {\n  const { backgroundColor, opacity } = cfg;\n\n  context.globalAlpha = opacity;\n  context.fillStyle = backgroundColor;\n\n  context.beginPath();\n  context.fillRect(0, 0, width, height);\n  context.closePath();\n}\n\n/**\n * \n *\n * @param size \n * @param padding \n * @param isStagger \n * @reutrn \n */\nexport function getUnitPatternSize(size: number, padding: number, isStagger: boolean): number {\n  // , unitSize \n  const unitSize = size + padding;\n  return isStagger ? unitSize * 2 : unitSize;\n}\n\n/**\n * \n *\n * @param unitSize \n * @param isStagger \n * @reutrn  x,y \n */\nexport function getSymbolsPosition(unitSize: number, isStagger: boolean): number[][] {\n  // ,  dot\n  const symbolsPos = isStagger\n    ? [\n        [unitSize * (1 / 4), unitSize * (1 / 4)],\n        [unitSize * (3 / 4), unitSize * (3 / 4)],\n      ]\n    : [[unitSize * (1 / 2), unitSize * (1 / 2)]];\n  return symbolsPos;\n}\n\n/**\n *  pattern , \n *\n * @param pattern \n * @param dpr  \n * @param rotation \n */\nexport function transformMatrix(dpr: number, rotation: number) {\n  const radian = (rotation * Math.PI) / 180;\n  const matrix = {\n    a: Math.cos(radian) * (1 / dpr),\n    b: Math.sin(radian) * (1 / dpr),\n    c: -Math.sin(radian) * (1 / dpr),\n    d: Math.cos(radian) * (1 / dpr),\n    e: 0,\n    f: 0,\n  };\n  return matrix;\n}\n","import { DotPatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport {\n  getUnitPatternSize,\n  initCanvas,\n  drawBackground,\n  getSymbolsPosition,\n  transformMatrix,\n  getPixelRatio,\n} from './util';\n\n/**\n * dotPattern\n */\nexport const defaultDotPatternCfg = {\n  size: 6,\n  padding: 2,\n  backgroundColor: 'transparent',\n  opacity: 1,\n  rotation: 0,\n  fill: '#fff',\n  fillOpacity: 0.5,\n  stroke: 'transparent',\n  lineWidth: 0,\n  isStagger: true,\n};\n\n/**\n * \n *\n * @param context\n * @param cfg\n * @param x x\n * @param y y\n */\nexport function drawDot(context: CanvasRenderingContext2D, cfg: DotPatternCfg, x: number, y: number) {\n  const { size, fill, lineWidth, stroke, fillOpacity } = cfg;\n\n  context.beginPath();\n  context.globalAlpha = fillOpacity;\n  context.fillStyle = fill;\n  context.strokeStyle = stroke;\n  context.lineWidth = lineWidth;\n  context.arc(x, y, size / 2, 0, 2 * Math.PI, false);\n  context.fill();\n  if (lineWidth) {\n    context.stroke();\n  }\n  context.closePath();\n}\n\n/**\n *  dot pattern HTMLCanvasElement\n *\n * @param cfg\n * @returns HTMLCanvasElement\n */\nexport function createDotPattern(cfg?: DotPatternCfg): CanvasPattern {\n  const dotCfg = deepAssign({}, defaultDotPatternCfg, cfg);\n\n  const { size, padding, isStagger, rotation } = dotCfg;\n\n  //  dots\n  const unitSize = getUnitPatternSize(size, padding, isStagger);\n  const dots = getSymbolsPosition(unitSize, isStagger);\n\n  //  patternCanvas\n  const canvas = initCanvas(unitSize, unitSize);\n  const ctx = canvas.getContext('2d');\n\n  //  backgrounddots\n  drawBackground(ctx, dotCfg, unitSize);\n  for (const [x, y] of dots) {\n    drawDot(ctx, dotCfg, x, y);\n  }\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  return pattern;\n}\n","import { LinePatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport { initCanvas, drawBackground, transformMatrix, getPixelRatio } from './util';\n\n/**\n * linePattern  \n */\nexport const defaultLinePatternCfg = {\n  rotation: 45,\n  spacing: 5,\n  opacity: 1,\n  backgroundColor: 'transparent',\n  strokeOpacity: 0.5,\n  stroke: '#fff',\n  lineWidth: 2,\n};\n\n/**\n * line\n *\n * @param context canvasContext\n * @param cfg linePattern \n * @param d  path  d\n */\nexport function drawLine(context: CanvasRenderingContext2D, cfg: LinePatternCfg, d: string) {\n  const { stroke, lineWidth, strokeOpacity } = cfg;\n  const path = new Path2D(d);\n\n  context.globalAlpha = strokeOpacity;\n  context.lineCap = 'square';\n  context.strokeStyle = lineWidth ? stroke : 'transparent';\n  context.lineWidth = lineWidth;\n  context.stroke(path);\n}\n\n/**\n *  linePattern\n */\nexport function createLinePattern(cfg?: LinePatternCfg): CanvasPattern {\n  const lineCfg = deepAssign({}, defaultLinePatternCfg, cfg);\n\n  const { spacing, rotation, lineWidth } = lineCfg;\n\n  //  pattern  path  d\n  const width = spacing + lineWidth || 1;\n  const height = spacing + lineWidth || 1;\n  const d = `\n            M 0 0 L ${width} 0\n            M 0 ${height} L ${width} ${height}\n            `;\n\n  //  patternCanvas\n  const canvas = initCanvas(width, height);\n  const ctx = canvas.getContext('2d');\n\n  //  backgroundline\n  drawBackground(ctx, lineCfg, width, height);\n  drawLine(ctx, lineCfg, d);\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  //  Pattern \n  return pattern;\n}\n","import { SquarePatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport {\n  getUnitPatternSize,\n  initCanvas,\n  drawBackground,\n  getSymbolsPosition,\n  transformMatrix,\n  getPixelRatio,\n} from './util';\n\n/**\n * squarePattern  \n */\nexport const defaultSquarePatternCfg = {\n  size: 6,\n  padding: 1,\n  isStagger: true,\n  backgroundColor: 'transparent',\n  opacity: 1,\n  rotation: 0,\n  fill: '#fff',\n  fillOpacity: 0.5,\n  stroke: 'transparent',\n  lineWidth: 0,\n};\n\n/**\n * square\n *\n * @param context canvasContext\n * @param cfg squarePattern \n * @param xy square\n */\nexport function drawSquare(context: CanvasRenderingContext2D, cfg: SquarePatternCfg, x: number, y: number) {\n  const { stroke, size, fill, lineWidth, fillOpacity } = cfg;\n\n  context.globalAlpha = fillOpacity;\n  context.strokeStyle = stroke;\n  context.lineWidth = lineWidth;\n  context.fillStyle = fill;\n  // xy\n  context.strokeRect(x - size / 2, y - size / 2, size, size);\n  context.fillRect(x - size / 2, y - size / 2, size, size);\n}\n\n/**\n *  squarePattern\n */\nexport function createSquarePattern(cfg?: SquarePatternCfg): CanvasPattern {\n  const squareCfg = deepAssign({}, defaultSquarePatternCfg, cfg);\n\n  const { size, padding, isStagger, rotation } = squareCfg;\n\n  //  squares\n  const unitSize = getUnitPatternSize(size, padding, isStagger);\n  const squares = getSymbolsPosition(unitSize, isStagger); //  dots \n\n  //  patternCanvas\n  const canvas = initCanvas(unitSize, unitSize);\n  const ctx = canvas.getContext('2d');\n\n  //  backgroundsquares\n  drawBackground(ctx, squareCfg, unitSize);\n  for (const [x, y] of squares) {\n    drawSquare(ctx, squareCfg, x, y);\n  }\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  return pattern;\n}\n","import { DotPatternCfg, LinePatternCfg, SquarePatternCfg } from '../../types/pattern';\nimport { createDotPattern } from './dot';\nimport { createLinePattern } from './line';\nimport { createSquarePattern } from './square';\n\nexport type PatternOption =\n  | {\n      type: 'dot';\n      cfg?: DotPatternCfg;\n    }\n  | {\n      type: 'line';\n      cfg?: LinePatternCfg;\n    }\n  | {\n      type: 'square';\n      cfg?: SquarePatternCfg;\n    };\n\n/**\n *  CanvasPattern \n * @param options\n * @returns\n */\nexport function getCanvasPattern(options: PatternOption): CanvasPattern | undefined {\n  const { type, cfg } = options;\n\n  let pattern;\n\n  switch (type) {\n    case 'dot':\n      pattern = createDotPattern(cfg);\n      break;\n    case 'line':\n      pattern = createLinePattern(cfg);\n      break;\n    case 'square':\n      pattern = createSquarePattern(cfg);\n      break;\n    default:\n      break;\n  }\n\n  return pattern;\n}\n","import { Util } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { getCanvasPattern } from '../utils/pattern';\nimport { Params } from '../core/adaptor';\nimport { Datum, Options, StyleAttr } from '../types';\nimport { deepAssign } from '../utils';\n\n/**\n *  Pattern  options colorField/seriesField/stackField \n */\ntype OptionsRequiredInPattern = Omit<Options, 'data'>;\n\n/**\n * Pattern \n *   view \n *\n * @param key key of style property\n * @returns\n */\nexport function pattern(key: string) {\n  return <O extends OptionsRequiredInPattern = OptionsRequiredInPattern>(params: Params<O>): Params<O> => {\n    const { options, chart } = params;\n    const { pattern: patternOption } = options;\n\n    //  pattern \n    if (!patternOption) {\n      return params;\n    }\n\n    /** ~~~~~~~  ~~~~~~~ */\n\n    const style: StyleAttr = (datum?: Datum, ...args: any[]) => {\n      const { defaultColor } = chart.getTheme();\n      let color = defaultColor;\n\n      const colorAttribute = chart.geometries?.[0]?.getAttribute('color');\n      if (colorAttribute) {\n        const colorField = colorAttribute.getFields()[0];\n        const seriesValue = get(datum, colorField);\n        color = Util.getMappingValue(colorAttribute, seriesValue, colorAttribute.values?.[0] || defaultColor);\n      }\n\n      let pattern: CanvasPattern = patternOption as CanvasPattern;\n\n      // 1.  patternOption `(datum: Datum, color: string) => CanvasPattern`\n      if (typeof patternOption === 'function') {\n        pattern = patternOption.call(this, datum, color);\n      }\n\n      // 2.  pattern  CanvasPattern fill\n      if (pattern instanceof CanvasPattern === false) {\n        //  createPattern(PatternStyle)  CanvasPattern\n        pattern = getCanvasPattern(deepAssign({}, { cfg: { backgroundColor: color } }, pattern));\n      }\n\n      const styleOption = options[key] as StyleAttr;\n\n      return {\n        ...(typeof styleOption === 'function' ? styleOption.call(this, datum, ...args) : styleOption || {}),\n        fill: pattern || color,\n      };\n    };\n\n    return deepAssign({}, params, { options: { [key]: style } });\n  };\n}\n","import { Geometry, Types } from '@antv/g2';\nimport { each, isNil, isObject } from '@antv/util';\nimport { Params } from '../core/adaptor';\nimport { Options } from '../types';\nimport { Interaction } from '../types/interaction';\nimport { Transformations } from '../types/coordinate';\nimport { Axis } from '../types/axis';\nimport { AXIS_META_CONFIG_KEYS } from '../constant';\nimport { pick, deepAssign } from '../utils';\n\n/**\n *  legend ,  colorField  seriesField \n * @param params\n */\nexport function legend<O extends Pick<Options, 'legend'> & { colorField?: string; seriesField?: string }>(\n  params: Params<O>\n): Params<O> {\n  const { chart, options } = params;\n  const { legend, colorField, seriesField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (colorField || seriesField) {\n    chart.legend(colorField || seriesField, legend);\n  }\n\n  return params;\n}\n\n/**\n *  tooltip \n * @param params\n */\nexport function tooltip<O extends Pick<Options, 'tooltip'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip !== undefined) {\n    chart.tooltip(tooltip);\n  }\n\n  return params;\n}\n\n/**\n * Interaction \n * @param params\n */\nexport function interaction<O extends Pick<Options, 'interactions'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { interactions } = options;\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation<O extends Pick<Options, 'animation'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  view \n  if (typeof animation === 'boolean') {\n    chart.animate(animation);\n  } else {\n    chart.animate(true);\n  }\n\n  //  Geometry \n  each(chart.geometries, (g: Geometry) => {\n    g.animate(animation);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function theme<O extends Pick<Options, 'theme'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { theme } = options;\n\n  // \n  if (theme) {\n    chart.theme(theme);\n  }\n  return params;\n}\n\n/**\n *  state \n * @param params\n */\nexport function state<O extends Options>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { state } = options;\n\n  if (state) {\n    each(chart.geometries, (geometry: Geometry) => {\n      geometry.state(state);\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adaptor\n * @param params\n */\nexport function slider(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { slider } = options;\n\n  chart.option('slider', slider);\n\n  return params;\n}\n\n/**\n *  adaptor\n * @param params\n */\nexport function scrollbar(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { scrollbar } = options;\n\n  chart.option('scrollbar', scrollbar);\n\n  return params;\n}\n\n/**\n * scale  adaptor\n * @param axes\n */\nexport function scale(axes: Record<string, Axis>, meta?: Options['meta']) {\n  return function <O extends Pick<Options, 'meta'>>(params: Params<O>): Params<O> {\n    const { chart, options } = params;\n\n    // 1.  scale \n    let scales: Record<string, any> = {};\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n\n    // 2. meta  scale \n    scales = deepAssign({}, meta, options.meta, scales);\n\n    chart.scale(scales);\n\n    return params;\n  };\n}\n\n/**\n * annotation \n * @param params\n */\nexport function annotation(annotationOptions?: Options['annotations']) {\n  return function <O extends Pick<Options, 'annotations'>>(params: Params<O>): Params<O> {\n    const { chart, options } = params;\n\n    const annotationController = chart.getController('annotation');\n\n    /**  annotation */\n    each([...(options.annotations || []), ...(annotationOptions || [])], (annotationOption) => {\n      // @ts-ignore\n      annotationController.annotation(annotationOption);\n    });\n\n    return params;\n  };\n}\n\n/**\n *  limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { yAxis, limitInPlot } = options;\n\n  let value = limitInPlot;\n\n  //  limitInPlot yAxis  min/max  limitInPlot\n  if (isObject(yAxis) && isNil(limitInPlot)) {\n    if (Object.values(pick(yAxis, ['min', 'max', 'minLimit', 'maxLimit'])).some((value) => !isNil(value))) {\n      value = true;\n    } else {\n      value = false;\n    }\n  }\n  chart.limitInPlot = value;\n\n  return params;\n}\n\n/**\n * \n */\nexport function transformations(coordinateType: Types.CoordinateOption['type'] = 'rect') {\n  return (params: Params<Options & { coordinate: Transformations }>) => {\n    const { chart, options } = params;\n    const { coordinate } = options;\n\n    const actions: Types.CoordinateActions[] = Array.from(coordinate || [])\n      .map((cfg) => {\n        if (cfg.type === 'reflectX') return ['reflect', 'x'] as Types.CoordinateActions;\n        if (cfg.type === 'reflectY') return ['reflect', 'y'] as Types.CoordinateActions;\n        if (cfg.type === 'transpose') return ['transpose'] as Types.CoordinateActions;\n\n        return null;\n      })\n      .filter((d) => !!d);\n\n    if (actions.length !== 0) {\n      chart.coordinate({ type: coordinateType, actions });\n    }\n\n    return params;\n  };\n}\n\nexport { pattern } from './pattern';\n","import { get } from '@antv/util';\nimport { Tooltip, TooltipMapping } from '../types/tooltip';\n\n/**\n *  tooltip \n * @param tooltip\n * @param defaultFields\n */\nexport function getTooltipMapping(tooltip: Tooltip, defaultFields: string[]): TooltipMapping {\n  if (tooltip === false) {\n    return {\n      fields: false, //  tooltip\n    };\n  }\n\n  let fields = get(tooltip, 'fields');\n  const formatter = get(tooltip, 'formatter');\n\n  if (formatter && !fields) {\n    fields = defaultFields;\n  }\n\n  return {\n    fields,\n    formatter,\n  };\n}\n","import { uniq, isFunction, isObject, isString, isNumber, isEmpty } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { ColorAttr, ShapeAttr, SizeAttr, StyleAttr, TooltipAttr, Options, Datum } from '../../types';\nimport { Label } from '../../types/label';\nimport { State } from '../../types/state';\nimport { transformLabel } from '../../utils';\n\n/**\n * \n */\nexport type MappingOptions = {\n  /** color  */\n  readonly color?: ColorAttr;\n  /** shape  */\n  readonly shape?: ShapeAttr;\n  /** ,  */\n  readonly size?: SizeAttr;\n  /**  */\n  readonly style?: StyleAttr;\n  /** tooltip  */\n  readonly tooltip?: TooltipAttr;\n};\n\n/**\n * \n * // TODO  adjust  field  styleFieldlabelField \n */\nexport type Geometry = {\n  /** geometry , 'line' | 'interval' | 'point' | 'area' | 'polygon' */\n  readonly type?: string;\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly colorField?: string;\n  /** shape  */\n  readonly shapeField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** style  */\n  readonly styleField?: string;\n  /** tooltip  */\n  readonly tooltipFields?: string[] | false;\n  /** ,  mapping  */\n  readonly rawFields?: string[];\n  /**  */\n  readonly mapping?: MappingOptions;\n  /** label  */\n  readonly label?: Label;\n  /**  */\n  readonly state?: State;\n  /**  registerShape  */\n  readonly customInfo?: any;\n  /** geometry params */\n  readonly args?: any;\n};\n\n/**\n * geometry options\n */\nexport type GeometryOptions = Geometry & Partial<Options>;\n\n/**\n * \n * @param options\n * @param field\n */\nexport function getMappingField(\n  o: GeometryOptions,\n  field: 'color' | 'shape' | 'size' | 'style'\n): {\n  mappingFields: string[];\n  tileMappingField: string;\n} {\n  const { type, xField, yField, colorField, shapeField, sizeField, styleField, rawFields = [] } = o;\n\n  let fields = [];\n\n  //  color  bar  widthRatio \n  //  color  colorField  + rawFields\n  // shape, size \n  if (field === 'color') {\n    fields = [colorField || xField, ...rawFields];\n  } else if (field === 'shape') {\n    fields = [shapeField || xField, ...rawFields];\n  } else if (field === 'size') {\n    fields = [sizeField || xField, ...rawFields];\n  } else {\n    fields = [xField, yField, colorField, shapeField, sizeField, styleField, ...rawFields];\n\n    // \n    const idx = ['x', 'y', 'color', 'shape', 'size', 'style'].indexOf(field);\n\n    const f = fields[idx];\n    // \n    fields.splice(idx, 1);\n    // \n    fields.unshift(f);\n  }\n\n  const mappingFields = uniq(fields.filter((f) => !!f));\n  /**\n   *  line geometry  color \n   * eg:\n   *   geometry.color(xField, ()=> '#f24')\n   */\n  const tileMappingField =\n    type === 'line' && [xField, yField].includes(mappingFields.join('*')) ? '' : mappingFields.join('*');\n  return {\n    mappingFields,\n    tileMappingField,\n  };\n}\n\n/**\n * \n * @param mappingFields\n * @param func\n */\nexport function getMappingFunction(mappingFields: string[], func: (datum: Datum) => any) {\n  if (!func) return undefined;\n  // \n  return (...args: any[]) => {\n    const params: Datum = {};\n\n    mappingFields.forEach((f: string, idx: number) => {\n      params[f] = args[idx];\n    });\n\n    //  undefined\n    delete params['undefined'];\n\n    return func(params);\n  };\n}\n\n/**\n *  geometry  adaptor\n * @param params\n */\nexport function geometry<O extends GeometryOptions>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const {\n    type,\n    args,\n    mapping,\n    xField,\n    yField,\n    colorField,\n    shapeField,\n    sizeField,\n    tooltipFields,\n    label,\n    state,\n    customInfo,\n  } = options;\n\n  //  mapping \n  if (!mapping) {\n    return params;\n  }\n\n  const { color, shape, size, style, tooltip } = mapping;\n\n  //  geometry\n  const geometry = chart[type](args).position(`${xField}*${yField}`);\n\n  /**\n   * color \n   * g.color('red');\n   * g.color('color', ['red', 'blue']);\n   * g.color('x', (x, y) => 'red');\n   * g.color('color', (color, x, y) => 'red');\n   */\n  if (isString(color)) {\n    colorField ? geometry.color(colorField, color) : geometry.color(color);\n  } else if (isFunction(color)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'color');\n    geometry.color(tileMappingField, getMappingFunction(mappingFields, color));\n  } else {\n    colorField && geometry.color(colorField, color);\n  }\n\n  /**\n   * shape \n   * g.shape('rect');\n   * g.shape('shape', ['rect', 'circle']);\n   * g.shape('x*y', (x, y) => 'rect');\n   * g.shape('shape*x*y', (shape, x, y) => 'rect');\n   */\n  if (isString(shape)) {\n    shapeField ? geometry.shape(shapeField, [shape]) : geometry.shape(shape); // [shape]  G2 \n  } else if (isFunction(shape)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'shape');\n    geometry.shape(tileMappingField, getMappingFunction(mappingFields, shape));\n  } else {\n    shapeField && geometry.shape(shapeField, shape);\n  }\n\n  /**\n   * size \n   * g.size(10);\n   * g.size('size', [10, 20]);\n   * g.size('x*y', (x, y) => 10);\n   * g.color('size*x*y', (size, x, y) => 1-);\n   */\n  if (isNumber(size)) {\n    sizeField ? geometry.size(sizeField, size) : geometry.size(size);\n  } else if (isFunction(size)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'size');\n    geometry.size(tileMappingField, getMappingFunction(mappingFields, size));\n  } else {\n    sizeField && geometry.size(sizeField, size);\n  }\n\n  /**\n   * style \n   * g.style({ fill: 'red' });\n   * g.style('x*y*color', (x, y, color) => ({ fill: 'red' }));\n   */\n  if (isFunction(style)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'style');\n    geometry.style(tileMappingField, getMappingFunction(mappingFields, style));\n  } else if (isObject(style)) {\n    geometry.style(style);\n  }\n\n  /**\n   * tooltip  API\n   * g.tooltip('x*y*color', (x, y, color) => ({ name, value }));\n   * g.tooltip(false);\n   */\n  if (tooltipFields === false) {\n    geometry.tooltip(false);\n  } else if (!isEmpty(tooltipFields)) {\n    geometry.tooltip(tooltipFields.join('*'), getMappingFunction(tooltipFields, tooltip));\n  }\n\n  /**\n   * label \n   */\n  if (label === false) {\n    geometry.label(false);\n  } else if (label) {\n    const { callback, fields, ...cfg } = label;\n    geometry.label({\n      fields: fields || [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  /**\n   * state \n   */\n  if (state) {\n    geometry.state(state);\n  }\n\n  /**\n   * \n   */\n  if (customInfo) {\n    geometry.customInfo(customInfo);\n  }\n\n  //  x y \n  [xField, yField]\n    .filter((f: string) => f !== colorField)\n    .forEach((f: string) => {\n      chart.legend(f, false);\n    });\n  return {\n    ...params,\n    // geometry adaptor  geometry  adaptor type \n    ext: { geometry },\n  };\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { GeometryOptions, geometry, MappingOptions } from './base';\n\nexport interface AreaGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /**  */\n  readonly smooth?: boolean;\n  /** area  */\n  readonly area?: MappingOptions;\n}\n\n/**\n * area geometry \n * @param params\n */\nexport function area<O extends AreaGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { area, xField, yField, seriesField, smooth, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  // \n  return area\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'area',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              shape: smooth ? 'smooth' : 'area',\n              tooltip: formatter,\n              ...area,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { deepMix } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { GeometryOptions, geometry, MappingOptions } from './base';\n\nexport interface LineGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /**  */\n  readonly smooth?: boolean;\n  /**  */\n  readonly connectNulls?: boolean;\n  /** line  */\n  readonly line?: MappingOptions;\n  /**  */\n  readonly stepType?: string;\n}\n\n/**\n * line \n * @param params\n */\nexport function line<O extends LineGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { line, stepType, xField, yField, seriesField, smooth, connectNulls, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  // \n  return line\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'line',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: deepMix(\n              {\n                shape: stepType || (smooth ? 'smooth' : 'line'),\n                tooltip: formatter,\n              },\n              line\n            ),\n            args: { connectNulls, useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface PointGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** shape  */\n  readonly shapeField?: string;\n  /** point  */\n  readonly point?: MappingOptions;\n}\n\n/**\n * point \n * @param params\n */\nexport function point<O extends PointGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { point, xField, yField, seriesField, sizeField, shapeField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField, shapeField]);\n\n  return point\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'point',\n            colorField: seriesField,\n            shapeField: shapeField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...point,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Geometry, getTheme, ShapeAttrs } from '@antv/g2';\nimport { isNil, isObject } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { GeometryOptions, MappingOptions, geometry } from './base';\n\nexport interface IntervalGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField: string;\n  /** y  */\n  readonly yField: string;\n  /**  groupFieldcolorField stackFieldcolorField  */\n  readonly seriesField?: string;\n  /**  */\n  readonly isGroup?: boolean;\n  /**  */\n  readonly isStack?: boolean;\n  /**  [0-1] */\n  readonly widthRatio?: number;\n  /** () */\n  readonly intervalPadding?: number;\n  /**  [0-1] */\n  readonly marginRatio?: number;\n  /** () */\n  readonly dodgePadding?: number;\n  /**  */\n  readonly minColumnWidth?: number;\n  /**  */\n  readonly maxColumnWidth?: number;\n  /**  */\n  readonly columnBackground?: { style: ShapeAttrs };\n  /**  colorshapesizestyletooltip */\n  readonly interval?: MappingOptions;\n  /**  seriesField , isGroup: true  groupField */\n  readonly groupField?: string;\n}\n\n/**\n *  adaptor\n * @param params\n */\nfunction otherAdaptor<O extends IntervalGeometryOptions>(params: Params<O>): Params<O> {\n  const { chart, options, ext } = params;\n  const { seriesField, isGroup, isStack, marginRatio, widthRatio, groupField, theme } = options;\n\n  /**\n   * adjust\n   */\n  const adjust = [];\n  if (seriesField) {\n    // group\n    if (isGroup) {\n      adjust.push({\n        type: 'dodge',\n        dodgeBy: groupField || seriesField,\n        marginRatio,\n      });\n    }\n    // stack\n    if (isStack) {\n      adjust.push({\n        type: 'stack',\n        marginRatio,\n      });\n    }\n  }\n\n  if (adjust.length && ext?.geometry) {\n    const g = ext?.geometry as Geometry;\n    g.adjust(adjust);\n  }\n\n  // widthRatio\n  if (!isNil(widthRatio)) {\n    chart.theme(\n      deepAssign({}, isObject(theme) ? theme : getTheme(theme), {\n        // columWidthRatio  theme \n        columnWidthRatio: widthRatio,\n      })\n    );\n  }\n\n  return params;\n}\n\nexport function interval<O extends IntervalGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const {\n    xField,\n    yField,\n    interval,\n    seriesField,\n    tooltip,\n    minColumnWidth,\n    maxColumnWidth,\n    columnBackground,\n    dodgePadding,\n    intervalPadding,\n    useDeferredLabel,\n  } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  //  interval \n  const { ext } = interval\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'interval',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...interval,\n            },\n            args: {\n              dodgePadding,\n              intervalPadding,\n              minColumnWidth,\n              maxColumnWidth,\n              background: columnBackground,\n              useDeferredLabel,\n            },\n          },\n        })\n      )\n    : params;\n\n  return otherAdaptor({\n    ...params,\n    ext,\n  });\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface PolygonGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** point  */\n  readonly polygon?: MappingOptions;\n}\n\n/**\n * polygon \n * @param params\n */\nexport function polygon<O extends PolygonGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { polygon, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return polygon\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'polygon',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...polygon,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface EdgeGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** edge  */\n  readonly edge?: MappingOptions;\n}\n\n/**\n * edge \n * @param params\n */\nexport function edge<O extends EdgeGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { edge, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return edge\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'edge',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...edge,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface SchemaGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** point  */\n  readonly schema?: MappingOptions;\n}\n\n/**\n * schema \n * @param params\n */\nexport function schema<O extends SchemaGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { schema, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return schema\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'schema',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...schema,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface ViolinGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y Y */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** violin  */\n  readonly violin?: MappingOptions;\n}\n\n/**\n * violin \n * @param params\n */\nexport function violin<O extends ViolinGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { violin, xField, yField, seriesField, sizeField, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField]);\n\n  return violin\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'violin',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...violin,\n            },\n          },\n        })\n      )\n    : params;\n}\n","import { Geometry } from '@antv/g2';\nimport { each, isArray } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport {\n  tooltip,\n  slider,\n  interaction,\n  animation,\n  theme,\n  scale,\n  annotation,\n  limitInPlot,\n  scrollbar,\n} from '../../adaptor/common';\nimport { findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { point, line, area } from '../../adaptor/geometries';\nimport { flow } from '../../utils';\nimport { adjustYMetaByZero } from '../../utils/data';\nimport { LineOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { data, color, lineStyle, lineShape, point: pointMapping, area: areaMapping, seriesField } = options;\n  const pointState = pointMapping?.state;\n  const areaState = areaMapping?.state;\n\n  chart.data(data);\n\n  // line geometry \n  const primary = deepAssign({}, params, {\n    options: {\n      shapeField: seriesField,\n      line: {\n        color,\n        style: lineStyle,\n        shape: lineShape,\n      },\n      //  tooltip \n      // \n      point: pointMapping && {\n        color,\n        shape: 'circle',\n        ...pointMapping,\n      },\n      // \n      area: areaMapping && {\n        color,\n        ...areaMapping,\n      },\n      // label  geometry adaptor label adaptor \n      label: undefined,\n    },\n  });\n  const second = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n  const areaParams = deepAssign({}, primary, { options: { tooltip: false, state: areaState } });\n\n  line(primary);\n  point(second);\n  area(areaParams);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<LineOptions>): Params<LineOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, data } = options;\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n      },\n      {\n        [xField]: {\n          type: 'cat',\n        },\n        [yField]: adjustYMetaByZero(data, yField),\n      }\n    )\n  )(params);\n}\n\n/**\n * .  reflect \n * @param params\n */\nfunction coordinate(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { reflect } = options;\n  if (reflect) {\n    let p = reflect as any;\n    if (!isArray(p)) {\n      p = [p];\n    }\n    const actions = p.map((d) => ['reflect', d]);\n\n    chart.coordinate({ type: 'rect', actions });\n  }\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend && seriesField) {\n    chart.legend(seriesField, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const lineGeometry = findGeometry(chart, 'line');\n\n  // label  false,   label\n  if (!label) {\n    lineGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    lineGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        layout: [\n          { type: 'limit-in-plot' },\n          { type: 'path-adjust-position' },\n          { type: 'point-adjust-position' },\n          { type: 'limit-in-plot', cfg: { action: 'hide' } },\n        ],\n        ...transformLabel(cfg),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adjust\n * @param params\n */\nexport function adjust(params: Params<Pick<LineOptions, 'isStack'>>): Params<any> {\n  const { chart, options } = params;\n  const { isStack } = options;\n\n  if (isStack) {\n    each(chart.geometries, (g: Geometry) => {\n      g.adjust('stack');\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<LineOptions>) {\n  // flow  G2 API\n  return flow(\n    geometry,\n    meta,\n    adjust,\n    theme,\n    coordinate,\n    axis,\n    legend,\n    tooltip,\n    label,\n    slider,\n    scrollbar,\n    interaction,\n    animation,\n    annotation(),\n    limitInPlot\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  tooltip: {\n    shared: true,\n    showMarkers: true,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'x',\n    },\n  },\n  legend: {\n    position: 'top-left',\n    radio: {},\n  },\n  isStack: false,\n});\n","import { each, findIndex } from '@antv/util';\nimport { InteractionAction, View, Geometry } from '@antv/g2';\n\nexport class MarkerActiveAction extends InteractionAction {\n  public active() {\n    const view = this.getView();\n    const evt = this.context.event;\n    if (evt.data) {\n      // items:  tooltip \n      const { items } = evt.data;\n      const points = view.geometries.filter((geom) => geom.type === 'point');\n      each(points, (point: Geometry) => {\n        each(point.elements, (element) => {\n          const active = findIndex(items, (item) => (item as any).data === element.data) !== -1;\n          element.setState('active', active);\n        });\n      });\n    }\n  }\n\n  public reset() {\n    const view = this.getView();\n    const points = view.geometries.filter((geom) => geom.type === 'point');\n    each(points, (point: Geometry) => {\n      each(point.elements, (element) => {\n        element.setState('active', false);\n      });\n    });\n  }\n\n  private getView(): View {\n    return this.context.view;\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { MarkerActiveAction } from './marker-active';\n\nregisterAction('marker-active', MarkerActiveAction);\nregisterInteraction('marker-active', {\n  start: [\n    {\n      trigger: 'tooltip:show',\n      action: 'marker-active:active',\n    },\n  ],\n  end: [\n    {\n      trigger: 'tooltip:hide',\n      action: 'marker-active:reset',\n    },\n  ],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { LineOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport './interactions';\n\nexport type { LineOptions };\n\nexport class Line extends Plot<LineOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<LineOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'line';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: LineOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Line.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<LineOptions> {\n    return adaptor;\n  }\n}\n","import { map, reduce } from '@antv/util';\nimport { Data, Datum } from '../../types';\nimport { isRealNumber } from '../number';\n\n/**\n * \n * @param data\n * @param measure\n * @param groupField\n * @param as\n */\nexport function percent(data: Data, measure: string, groupField: string, as: string) {\n  // 1.  max \n  const sumMap = reduce(\n    data,\n    (map, datum: Datum) => {\n      const groupValue = datum[groupField];\n      let sum = map.has(groupValue) ? map.get(groupValue) : 0;\n\n      const v = datum[measure];\n\n      sum = isRealNumber(v) ? sum + v : sum;\n      map.set(groupValue, sum);\n\n      return map;\n    },\n    new Map<string, number>()\n  );\n\n  // 2. \n  return map(data, (datum: Datum) => {\n    const v = datum[measure];\n    const groupValue = datum[groupField];\n    const percentage = isRealNumber(v) && sumMap.get(groupValue) !== 0 ? v / sumMap.get(groupValue) : 0;\n\n    return {\n      ...datum,\n      [as]: percentage,\n    };\n  });\n}\n\n/**\n * \n * @param data\n * @param measure  // \n * @param fields //  field\n * @param as // percent \n */\nexport function getDeepPercent(data: Record<string, any>[], measure: string, fields: string[], percent: string) {\n  const sumMap = reduce(\n    data,\n    (map, datum: Datum) => {\n      // key\n      const groupValue = reduce(fields, (value, field) => `${value}${datum[field]}`, '');\n\n      let sum = map.has(groupValue) ? map.get(groupValue) : 0;\n\n      const v = datum[measure];\n\n      sum = isRealNumber(v) ? sum + v : sum;\n      map.set(groupValue, sum);\n\n      return map;\n    },\n    new Map<string, number>()\n  );\n\n  // 2. \n  return map(data, (datum: Datum) => {\n    const v = datum[measure];\n    // key\n    const groupValue = reduce(fields, (value, field) => `${value}${datum[field]}`, '');\n\n    const percentage = isRealNumber(v) && sumMap.get(groupValue) !== 0 ? v / sumMap.get(groupValue) : 0;\n\n    return {\n      ...datum,\n      [percent]: percentage,\n    };\n  });\n}\n\n/**\n *  ()\n * @param isPercent \n */\nexport function getDataWhetherPercentage(\n  data: Record<string, any>[],\n  yField: string,\n  groupField: string,\n  asField: string,\n  isPercent?: boolean\n) {\n  return !isPercent ? data : percent(data, yField, groupField, asField);\n}\n","import { Geometry } from '@antv/g2';\nimport { each, omit } from '@antv/util';\nimport {\n  tooltip,\n  slider,\n  interaction,\n  animation,\n  theme,\n  annotation,\n  limitInPlot,\n  pattern,\n  transformations,\n} from '../../adaptor/common';\nimport { findGeometry } from '../../utils';\nimport { Params } from '../../core/adaptor';\nimport { area, point, line } from '../../adaptor/geometries';\nimport { flow, transformLabel, deepAssign } from '../../utils';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { Datum } from '../../types';\nimport { meta, legend, axis } from '../line/adaptor';\nimport { AreaOptions } from './types';\n\nexport { meta };\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    areaStyle,\n    color,\n    point: pointMapping,\n    line: lineMapping,\n    isPercent,\n    xField,\n    yField,\n    tooltip,\n    seriesField,\n    startOnZero,\n  } = options;\n  const pointState = pointMapping?.state;\n\n  const chartData = getDataWhetherPercentage(data, yField, xField, yField, isPercent);\n  chart.data(chartData);\n  //  % , \n  const tooltipOptions = isPercent\n    ? {\n        formatter: (datum: Datum) => ({\n          name: datum[seriesField] || datum[xField],\n          value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n        }),\n        ...tooltip,\n      }\n    : tooltip;\n  const primary = deepAssign({}, params, {\n    options: {\n      area: { color, style: areaStyle },\n      point: pointMapping && {\n        color,\n        ...pointMapping,\n      },\n      tooltip: tooltipOptions,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n      args: {\n        startOnZero,\n      },\n    },\n  });\n  //  2px ( state fill  stroke )\n  const lineParams = {\n    chart,\n    options: deepAssign({ line: { size: 2 } }, omit(options as any, ['state']), {\n      //  tooltip \n      // \n      line: lineMapping && {\n        color,\n        ...lineMapping,\n      },\n      sizeField: seriesField,\n      state: lineMapping?.state,\n      tooltip: false,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n      args: {\n        startOnZero,\n      },\n    }),\n  };\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  // area geometry \n  area(primary);\n  line(lineParams);\n  point(pointParams);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const areaGeometry = findGeometry(chart, 'area');\n\n  // label  false,   label\n  if (!label) {\n    areaGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    areaGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        layout: [\n          { type: 'limit-in-plot' },\n          { type: 'path-adjust-position' },\n          { type: 'point-adjust-position' },\n          { type: 'limit-in-plot', cfg: { action: 'hide' } },\n        ],\n        ...transformLabel(cfg),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adjust\n * @param params\n */\nfunction adjust(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const { isStack, isPercent, seriesField } = options;\n  if ((isPercent || isStack) && seriesField) {\n    each(chart.geometries, (g: Geometry) => {\n      g.adjust('stack');\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<AreaOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('areaStyle'),\n    transformations('rect'),\n    geometry,\n    meta,\n    adjust,\n    axis,\n    legend,\n    tooltip,\n    label,\n    slider,\n    annotation(),\n    interaction,\n    animation,\n    limitInPlot\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  tooltip: {\n    shared: true,\n    showMarkers: true,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'x',\n    },\n  },\n  isStack: true,\n  // \n  line: {},\n  legend: {\n    position: 'top-left',\n    radio: {},\n  },\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { AreaOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { AreaOptions };\n\nexport class Area extends Plot<AreaOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<AreaOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'area';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Area.getDefaultOptions();\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: AreaOptions['data']) {\n    this.updateOption({ data });\n    const { isPercent, xField, yField } = this.options;\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(getDataWhetherPercentage(data, yField, xField, yField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<AreaOptions> {\n    return adaptor;\n  }\n}\n","import { isNumber } from '@antv/util';\n/**\n * \n * @param prev\n * @param next\n */\nexport function conversionTagFormatter(prev: number, next: number): string {\n  if (!isNumber(prev) || !isNumber(next)) {\n    return '-';\n  }\n\n  if (prev === next) {\n    return '100%';\n  }\n  if (prev === 0) {\n    return '';\n  }\n  if (next === 0) {\n    return '-';\n  }\n\n  return `${((100 * next) / prev).toFixed(2)}%`;\n}\n","import { map, find, each, isObject } from '@antv/util';\nimport { Coordinate, IGroup, ShapeAttrs, Element, Geometry, View, getTheme } from '@antv/g2';\nimport { Params } from '../core/adaptor';\nimport { deepAssign } from '../utils';\nimport { conversionTagFormatter } from '../utils/conversion';\nimport { Options } from '../types';\n\n/**  */\nexport interface ConversionTagOptions {\n  /** tag  */\n  size?: number;\n  /** tag  */\n  spacing?: number;\n  /** tag  */\n  offset?: number;\n  /**  */\n  arrow?:\n    | {\n        /**  */\n        headSize?: number;\n        /**  */\n        style?: ShapeAttrs;\n      }\n    | false;\n  /**  */\n  text?:\n    | {\n        /**  */\n        size?: number;\n        /**  */\n        style?: ShapeAttrs;\n        /**  */\n        formatter?: (prev: number, next: number) => string;\n      }\n    | false;\n}\n\nexport interface OptionWithConversionTag {\n  conversionTag?: ConversionTagOptions | false;\n}\n\n/**  */\ntype TagRenderConfig = {\n  /**  View */\n  view: View;\n  /**  geometry */\n  geometry: Geometry;\n  /**  group */\n  group: IGroup;\n  /**  */\n  options: ConversionTagOptions;\n  /**  */\n  field: string;\n  /** / */\n  horizontal: boolean;\n};\n\nfunction getConversionTagOptionsWithDefaults(options: ConversionTagOptions, horizontal: boolean): ConversionTagOptions {\n  return deepAssign(\n    {\n      size: horizontal ? 32 : 80,\n      spacing: horizontal ? 8 : 12,\n      offset: horizontal ? 32 : 0,\n      arrow: options.arrow !== false && {\n        headSize: 12,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.05)',\n        },\n      },\n      text: options.text !== false && {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, 0.85)',\n          textAlign: 'center',\n          textBaseline: 'middle',\n        },\n        formatter: conversionTagFormatter,\n      },\n    },\n    options\n  );\n}\n\nfunction parsePoints(coordinate: Coordinate, element: Element): { x: number; y: number }[] {\n  // @ts-ignore\n  return map(element.getModel().points, (point) => coordinate.convertPoint(point));\n}\n\nfunction renderArrowTag(config: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  const { view, geometry, group, options, horizontal } = config;\n  const { offset, size, arrow } = options;\n  const coordinate = view.getCoordinate();\n  const pointPrev = parsePoints(coordinate, elemPrev)[3];\n  const pointNext = parsePoints(coordinate, elemNext)[0];\n  const totalHeight = pointNext.y - pointPrev.y;\n  const totalWidth = pointNext.x - pointPrev.x;\n\n  if (typeof arrow === 'boolean') {\n    return;\n  }\n  const { headSize } = arrow;\n  let spacing = options.spacing;\n  let points;\n\n  if (horizontal) {\n    if ((totalWidth - headSize) / 2 < spacing) {\n      // \n      spacing = Math.max(1, (totalWidth - headSize) / 2);\n      points = [\n        [pointPrev.x + spacing, pointPrev.y - offset],\n        [pointPrev.x + spacing, pointPrev.y - offset - size],\n        [pointNext.x - spacing, pointNext.y - offset - size / 2],\n      ];\n    } else {\n      // \n      points = [\n        [pointPrev.x + spacing, pointPrev.y - offset],\n        [pointPrev.x + spacing, pointPrev.y - offset - size],\n        [pointNext.x - spacing - headSize, pointNext.y - offset - size],\n        [pointNext.x - spacing, pointNext.y - offset - size / 2],\n        [pointNext.x - spacing - headSize, pointNext.y - offset],\n      ];\n    }\n  } else {\n    if ((totalHeight - headSize) / 2 < spacing) {\n      // \n      spacing = Math.max(1, (totalHeight - headSize) / 2);\n      points = [\n        [pointPrev.x + offset, pointPrev.y + spacing],\n        [pointPrev.x + offset + size, pointPrev.y + spacing],\n        [pointNext.x + offset + size / 2, pointNext.y - spacing],\n      ];\n    } else {\n      // \n      points = [\n        [pointPrev.x + offset, pointPrev.y + spacing],\n        [pointPrev.x + offset + size, pointPrev.y + spacing],\n        [pointNext.x + offset + size, pointNext.y - spacing - headSize],\n        [pointNext.x + offset + size / 2, pointNext.y - spacing],\n        [pointNext.x + offset, pointNext.y - spacing - headSize],\n      ];\n    }\n  }\n\n  group.addShape('polygon', {\n    id: `${view.id}-conversion-tag-arrow-${geometry.getElementId(elemPrev.getModel().mappingData)}`,\n    name: 'conversion-tag-arrow',\n    origin: {\n      element: elemPrev,\n      nextElement: elemNext,\n    },\n    attrs: {\n      ...(arrow.style || {}),\n      points,\n    },\n  });\n}\n\nfunction renderTextTag(config: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  const { view, geometry, group, options, field, horizontal } = config;\n  const { offset, size } = options;\n  if (typeof options.text === 'boolean') {\n    return;\n  }\n  const coordinate = view.getCoordinate();\n  const text = options.text?.formatter && options.text?.formatter(elemPrev.getData()[field], elemNext.getData()[field]);\n\n  const pointPrev = parsePoints(coordinate, elemPrev)[horizontal ? 3 : 0];\n  const pointNext = parsePoints(coordinate, elemNext)[horizontal ? 0 : 3];\n\n  const textShape = group.addShape('text', {\n    id: `${view.id}-conversion-tag-text-${geometry.getElementId(elemPrev.getModel().mappingData)}`,\n    name: 'conversion-tag-text',\n    origin: {\n      element: elemPrev,\n      nextElement: elemNext,\n    },\n    attrs: {\n      ...(options.text?.style || {}),\n      text,\n      x: horizontal ? (pointPrev.x + pointNext.x) / 2 : pointPrev.x + offset + size / 2,\n      y: horizontal ? pointPrev.y - offset - size / 2 : (pointPrev.y + pointNext.y) / 2,\n    },\n  });\n\n  if (horizontal) {\n    const totalWidth = pointNext.x - pointPrev.x;\n    const { width: textWidth } = textShape.getBBox();\n    if (textWidth > totalWidth) {\n      const cWidth = textWidth / text.length;\n      const cEnd = Math.max(1, Math.ceil(totalWidth / cWidth) - 1);\n      const textAdjusted = `${text.slice(0, cEnd)}...`;\n      textShape.attr('text', textAdjusted);\n    }\n  }\n}\n\nfunction renderTag(options: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  renderArrowTag(options, elemPrev, elemNext);\n  renderTextTag(options, elemPrev, elemNext);\n}\n\n/**\n *  adaptor/\n * @param field \n * @param horizontal \n * @param disabled \n */\nexport function conversionTag<O extends OptionWithConversionTag & Options>(\n  field: string,\n  horizontal = true,\n  disabled = false\n) {\n  return function (params: Params<O>): Params<O> {\n    const { options, chart } = params;\n    const { conversionTag, theme } = options;\n\n    if (conversionTag && !disabled) {\n      //  1/3\n      chart.theme(\n        deepAssign({}, isObject(theme) ? theme : getTheme(theme), {\n          columnWidthRatio: 1 / 3,\n        })\n      );\n      //   shape annotation \n      chart.annotation().shape({\n        render: (container, view) => {\n          const group = container.addGroup({\n            id: `${chart.id}-conversion-tag-group`,\n            name: 'conversion-tag-group',\n          });\n          const interval = find(chart.geometries, (geom: Geometry) => geom.type === 'interval');\n          const config: TagRenderConfig = {\n            view,\n            geometry: interval,\n            group,\n            field,\n            horizontal,\n            options: getConversionTagOptionsWithDefaults(conversionTag, horizontal),\n          };\n          const elements = interval.elements;\n          each(elements, (elem: Element, idx: number) => {\n            if (idx > 0) {\n              renderTag(config, elements[idx - 1], elem);\n            }\n          });\n        },\n      });\n    }\n\n    return params;\n  };\n}\n","import { registerInteraction, ShapeAttrs, Element } from '@antv/g2';\nimport { Params } from '../core/adaptor';\n\nexport interface ConnectedAreaOptions {\n  /** ,  hover */\n  trigger?: 'hover' | 'click';\n  /**  */\n  style?: ShapeAttrs | ((style: ShapeAttrs, element: Element) => ShapeAttrs);\n}\n\n/**  */\nexport interface OptionWithConnectedArea {\n  connectedArea?: ConnectedAreaOptions | false;\n}\n\nconst INTERACTION_MAP = {\n  hover: '__interval-connected-area-hover__',\n  click: '__interval-connected-area-click__',\n};\n\nconst getStartStages = (trigger: string, style?: ConnectedAreaOptions['style']) => {\n  if (trigger === 'hover') {\n    return [\n      {\n        trigger: `interval:mouseenter`,\n        action: ['element-highlight-by-color:highlight', 'element-link-by-color:link'],\n        arg: [null, { style }],\n      },\n    ];\n  }\n  return [\n    {\n      trigger: `interval:click`,\n      action: [\n        'element-highlight-by-color:clear',\n        'element-highlight-by-color:highlight',\n        'element-link-by-color:clear',\n        'element-link-by-color:unlink',\n        'element-link-by-color:link',\n      ],\n      arg: [null, null, null, null, { style }],\n    },\n  ];\n};\n\n/** hover  */\nregisterInteraction(INTERACTION_MAP.hover, {\n  start: getStartStages(INTERACTION_MAP.hover),\n  end: [\n    {\n      trigger: 'interval:mouseleave',\n      action: ['element-highlight-by-color:reset', 'element-link-by-color:unlink'],\n    },\n  ],\n});\n\n/** click  */\nregisterInteraction(INTERACTION_MAP.click, {\n  start: getStartStages(INTERACTION_MAP.click),\n  end: [\n    {\n      trigger: 'document:mousedown',\n      action: ['element-highlight-by-color:clear', 'element-link-by-color:clear'],\n    },\n  ],\n});\n\n/**\n *  adaptor/\n * @param disable\n */\nexport function connectedArea<O extends OptionWithConnectedArea>(disable = false) {\n  return function (params: Params<O>): Params<O> {\n    const { chart, options } = params;\n    const { connectedArea } = options;\n\n    const clear = () => {\n      chart.removeInteraction(INTERACTION_MAP.hover);\n      chart.removeInteraction(INTERACTION_MAP.click);\n    };\n\n    if (!disable && connectedArea) {\n      const trigger = connectedArea.trigger || 'hover';\n      clear();\n      chart.interaction(INTERACTION_MAP[trigger], {\n        start: getStartStages(trigger, connectedArea.style),\n      });\n    } else {\n      clear();\n    }\n\n    return params;\n  };\n}\n","import { Action, IGroup, Util } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { BBox, ButtonCfg } from '../../types';\nimport { deepAssign, normalPadding } from '../../utils';\n\nconst PADDING_RIGHT = 10;\nconst PADDING_TOP = 5;\n\n/**\n * Action  Button \n *\n * brush filter\n */\nexport const BUTTON_ACTION_CONFIG: ButtonCfg = {\n  padding: [8, 10],\n  text: 'reset',\n  textStyle: {\n    default: {\n      x: 0,\n      y: 0,\n      fontSize: 12,\n      fill: '#333333',\n      cursor: 'pointer',\n    },\n  },\n  buttonStyle: {\n    default: {\n      fill: '#f7f7f7',\n      stroke: '#cccccc',\n      cursor: 'pointer',\n    },\n    active: {\n      fill: '#e6e6e6',\n    },\n  },\n};\n\n/**\n * @override  G2 Button Action,  GUI\n */\nclass ButtonAction extends Action {\n  private buttonGroup: IGroup = null;\n  private buttonCfg = {\n    name: 'button',\n    ...BUTTON_ACTION_CONFIG,\n  };\n\n  /**\n   *  mix \n   */\n  private getButtonCfg(): ButtonCfg & { name: string } {\n    const { view } = this.context;\n    const buttonCfg: ButtonCfg = get(view, ['interactions', 'filter-action', 'cfg', 'buttonConfig']);\n\n    return deepAssign(this.buttonCfg, buttonCfg, this.cfg);\n  }\n\n  /**\n   *  Button  \n   */\n  private drawButton() {\n    const config = this.getButtonCfg();\n    const group = this.context.view.foregroundGroup.addGroup({\n      name: config.name,\n    });\n    const textShape = this.drawText(group);\n    this.drawBackground(group, textShape.getBBox());\n\n    this.buttonGroup = group;\n  }\n\n  /**\n   * \n   */\n  private drawText(group: IGroup) {\n    const config = this.getButtonCfg();\n    // \n    return group.addShape({\n      type: 'text',\n      name: 'button-text',\n      attrs: {\n        text: config.text,\n        ...config.textStyle?.default,\n      },\n    });\n  }\n\n  private drawBackground(group: IGroup, bbox: BBox) {\n    const config = this.getButtonCfg();\n    const padding = normalPadding(config.padding);\n    // \n    const buttonShape = group.addShape({\n      type: 'rect',\n      name: 'button-rect',\n      attrs: {\n        x: bbox.x - padding[3],\n        y: bbox.y - padding[0],\n        width: bbox.width + padding[1] + padding[3],\n        height: bbox.height + padding[0] + padding[2],\n        ...config.buttonStyle?.default,\n      },\n    });\n    buttonShape.toBack(); // \n\n    // active \n    group.on('mouseenter', () => {\n      buttonShape.attr(config.buttonStyle?.active);\n    });\n    group.on('mouseleave', () => {\n      buttonShape.attr(config.buttonStyle?.default);\n    });\n\n    return buttonShape;\n  }\n\n  // \n  private resetPosition() {\n    const view = this.context.view;\n    const coord = view.getCoordinate();\n    const point = coord.convert({ x: 1, y: 1 }); // \n    const buttonGroup = this.buttonGroup;\n    const bbox = buttonGroup.getBBox();\n    const matrix = Util.transform(null, [\n      ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n    ]);\n    buttonGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (!this.buttonGroup) {\n      this.drawButton();\n    }\n    this.resetPosition();\n    this.buttonGroup.show();\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.buttonGroup) {\n      this.buttonGroup.hide();\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    const buttonGroup = this.buttonGroup;\n    if (buttonGroup) {\n      buttonGroup.remove();\n    }\n    super.destroy();\n  }\n}\n\nexport { ButtonAction };\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { BrushCfg } from '../types';\nimport { ButtonAction } from './actions/reset-button';\n\nregisterAction('brush-reset-button', ButtonAction, {\n  name: 'brush-reset-button',\n});\n\nregisterInteraction('filter-action', {});\n\n/**\n * G2  brushbrush-xbrush-y \n *\n * 1. element-range-highlight  brush-highlight(mask )\n * 2. brush-visible  brush \n */\n\nfunction isPointInView(context) {\n  return context.isInPlot();\n}\n\n/**\n *   start \n */\nexport function getInteractionCfg(interactionType: string, brushType?: string, options?: BrushCfg) {\n  const { mask, isStartEnable } = options || {};\n  const maskType = brushType || 'rect';\n\n  switch (interactionType) {\n    case 'brush':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isStartEnable || isPointInView,\n            action: ['brush:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: [\n              'brush:filter',\n              'brush:end',\n              `${maskType}-mask:end`,\n              `${maskType}-mask:hide`,\n              'brush-reset-button:show',\n            ],\n          },\n        ],\n        rollback: [\n          {\n            trigger: 'brush-reset-button:click',\n            action: ['brush:reset', 'brush-reset-button:hide', 'cursor:crosshair'],\n          },\n        ],\n      };\n    case 'brush-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mousemove', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          {\n            trigger: 'plot:mousemove',\n            action: 'cursor:default',\n            isEnable: (context) => (isStartEnable ? !isStartEnable(context) : false),\n          },\n          { trigger: 'mask:mouseenter', action: 'cursor:move', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable:\n              isStartEnable ||\n              ((context) => {\n                //  mask \n                return !context.isInShape('mask');\n              }),\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n    case 'brush-x':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isStartEnable || isPointInView,\n            action: ['brush-x:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: ['brush-x:filter', 'brush-x:end', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['brush-x:reset'] }],\n      };\n    case 'brush-x-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'mask:mouseenter', action: 'cursor:move', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable:\n              isStartEnable ||\n              ((context) => {\n                //  mask \n                return !context.isInShape('mask');\n              }),\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n    case 'brush-y':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isStartEnable || isPointInView,\n            action: ['brush-y:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: ['brush-y:filter', 'brush-y:end', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['brush-y:reset'] }],\n      };\n    case 'brush-y-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'mask:mouseenter', action: 'cursor:move', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable:\n              isStartEnable ||\n              ((context) => {\n                //  mask \n                return !context.isInShape('mask');\n              }),\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n\n    default:\n      return {};\n  }\n}\n\n// \nregisterInteraction('brush', getInteractionCfg('brush'));\n//  element-range-highlight interaction\nregisterInteraction('brush-highlight', getInteractionCfg('brush-highlight'));\n// \nregisterInteraction('brush-x', getInteractionCfg('brush-x', 'x-rect'));\n// \nregisterInteraction('brush-y', getInteractionCfg('brush-y', 'y-rect'));\n// , x \nregisterInteraction('brush-x-highlight', getInteractionCfg('brush-x-highlight', 'x-rect'));\n// , y \nregisterInteraction('brush-y-highlight', getInteractionCfg('brush-y-highlight', 'y-rect'));\n","import { filter } from '@antv/util';\nimport { Params } from '../core/adaptor';\nimport { getInteractionCfg } from '../interactions/brush';\nimport { deepAssign } from '../utils';\nimport { Options as BaseOptions, BrushCfg, Interaction, Writable } from '../types';\n\n/** brush  */\nimport '../interactions/brush';\n\ntype Options = Pick<BaseOptions, 'interactions'> & { brush?: BrushCfg };\n\nconst BRUSH_TYPES = ['brush', 'brush-x', 'brush-y', 'brush-highlight', 'brush-x-highlight', 'brush-y-highlight'];\n\n/**\n * brush \n */\nexport function brushInteraction<O extends Options = Options>(params: Params<O>): Params<O> {\n  const { options } = params;\n\n  const { brush } = options;\n\n  //  brush \n  const interactions = filter(options.interactions || [], (i) => BRUSH_TYPES.indexOf(i.type) === -1);\n\n  //  brush \n  if (brush?.enabled) {\n    BRUSH_TYPES.forEach((type) => {\n      let enable = false;\n      switch (brush.type) {\n        case 'x-rect':\n          enable = type === (brush.action === 'highlight' ? 'brush-x-highlight' : 'brush-x');\n          break;\n        case 'y-rect':\n          enable = type === (brush.action === 'highlight' ? 'brush-y-highlight' : 'brush-y');\n          break;\n        default:\n          enable = type === (brush.action === 'highlight' ? 'brush-highlight' : 'brush');\n          break;\n      }\n      const obj: Writable<Interaction> = { type, enable };\n\n      if (brush) {\n        obj.cfg = getInteractionCfg(type, brush.type, brush);\n      }\n      interactions.push(obj);\n    });\n\n    //  button  (G2Plot )\n    if (brush?.action !== 'highlight') {\n      interactions.push({\n        type: 'filter-action',\n        cfg: {\n          buttonConfig: brush.button,\n        },\n      });\n    }\n  }\n  return deepAssign({}, params, { options: { interactions } });\n}\n","import { Types } from '@antv/g2';\nimport { each, filter, isMatch } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport {\n  slider,\n  interaction,\n  animation,\n  theme,\n  scale,\n  annotation,\n  scrollbar,\n  limitInPlot,\n  state,\n  transformations,\n} from '../../adaptor/common';\nimport { conversionTag } from '../../adaptor/conversion-tag';\nimport { connectedArea } from '../../adaptor/connected-area';\nimport { interval } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { brushInteraction } from '../../adaptor/brush';\nimport { flow, transformLabel, deepAssign, findGeometry, adjustYMetaByZero, pick } from '../../utils';\nimport { getDataWhetherPercentage, getDeepPercent } from '../../utils/transform/percent';\nimport { Datum } from '../../types';\nimport { ColumnOptions } from './types';\n\n/**\n * defaultOptions\n * @param params\n */\nfunction defaultOptions(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { options } = params;\n  //  legend \n  let { legend } = options;\n  const { seriesField, isStack } = options;\n\n  if (seriesField) {\n    if (legend !== false) {\n      legend = {\n        position: isStack ? 'right-top' : 'top-left',\n        ...legend,\n      };\n    }\n  } else {\n    legend = false;\n  }\n\n  // @ts-ignore \n  params.options.legend = legend;\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    columnStyle,\n    color,\n    columnWidthRatio,\n    isPercent,\n    isGroup,\n    isStack,\n    xField,\n    yField,\n    seriesField,\n    groupField,\n    tooltip,\n    shape,\n  } = options;\n\n  const percentData =\n    isPercent && isGroup && isStack\n      ? getDeepPercent(data, yField, [xField, groupField], yField)\n      : getDataWhetherPercentage(data, yField, xField, yField, isPercent);\n\n  let chartData = [];\n\n  // ,seriesField \n  if (isStack && seriesField && !isGroup) {\n    percentData.forEach((item) => {\n      const stackedItem = chartData.find((v) => v[xField] === item[xField] && v[seriesField] === item[seriesField]);\n      if (stackedItem) {\n        stackedItem[yField] += item[yField] || 0;\n      } else {\n        chartData.push({ ...item });\n      }\n    });\n  } else {\n    chartData = percentData;\n  }\n\n  chart.data(chartData);\n\n  //  % , \n  const tooltipOptions = isPercent\n    ? {\n        formatter: (datum: Datum) => ({\n          name:\n            isGroup && isStack ? `${datum[seriesField]} - ${datum[groupField]}` : datum[seriesField] || datum[xField],\n          value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n        }),\n        ...tooltip,\n      }\n    : tooltip;\n\n  const p = deepAssign({}, params, {\n    options: {\n      data: chartData,\n      widthRatio: columnWidthRatio,\n      tooltip: tooltipOptions,\n      interval: {\n        shape,\n        style: columnStyle,\n        color,\n      },\n    },\n  });\n  interval(p);\n\n  return p;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, data, isPercent } = options;\n\n  const percentYMeta = isPercent ? { max: 1, min: 0, minLimit: 0, maxLimit: 1 } : {};\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n      },\n      {\n        [xField]: {\n          type: 'cat',\n        },\n        [yField]: {\n          ...adjustYMetaByZero(data, yField),\n          ...percentYMeta,\n        },\n      }\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend && seriesField) {\n    chart.legend(seriesField, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { label, yField, isRange } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        //  label layout  layout  position  layout\n        layout: cfg?.position\n          ? undefined\n          : [\n              { type: 'interval-adjust-position' },\n              { type: 'interval-hide-overlap' },\n              { type: 'adjust-color' },\n              { type: 'limit-in-plot', cfg: { action: 'hide' } },\n            ],\n        ...transformLabel(\n          isRange\n            ? {\n                content: (item: object) => {\n                  return item[yField]?.join('-');\n                },\n                ...cfg,\n              }\n            : cfg\n        ),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  tooltip  ()\n * @param params\n */\nfunction columnTooltip(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { tooltip, isGroup, isStack, groupField, data, xField, yField, seriesField } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    // fix: https://github.com/antvis/G2Plot/issues/2572\n    if (isGroup && isStack) {\n      const tooltipFormatter =\n        tooltipOptions?.formatter ||\n        ((datum: Datum) => ({ name: `${datum[seriesField]} - ${datum[groupField]}`, value: datum[yField] }));\n      tooltipOptions = {\n        ...tooltipOptions,\n        customItems: (originalItems: Types.TooltipItem[]) => {\n          const items: Types.TooltipItem[] = [];\n          each(originalItems, (item: Types.TooltipItem) => {\n            // Find datas in same cluster\n            const datas = filter(data, (d) => isMatch(d, pick(item.data, [xField, seriesField])));\n            datas.forEach((datum) => {\n              items.push({\n                ...item,\n                value: datum[yField],\n                data: datum,\n                mappingData: { _origin: datum },\n                ...tooltipFormatter(datum),\n              });\n            });\n          });\n          return items;\n        },\n      };\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<ColumnOptions>, isBar = false) {\n  const { options } = params;\n  const { seriesField } = options;\n  return flow(\n    defaultOptions, // \n    theme, // theme  geometry \n    pattern('columnStyle'),\n    state,\n    transformations('rect'),\n    geometry,\n    meta,\n    axis,\n    legend,\n    columnTooltip,\n    slider,\n    scrollbar,\n    label,\n    brushInteraction,\n    interaction,\n    animation,\n    annotation(),\n    conversionTag<ColumnOptions>(options.yField, !isBar, !!seriesField), // \n    connectedArea<ColumnOptions>(!options.isStack),\n    limitInPlot\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  columnWidthRatio: 0.6,\n  marginRatio: 1 / 32,\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n  },\n  legend: {\n    radio: {},\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { ColumnOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { ColumnOptions };\n\n/**\n * \n */\nexport class Column extends Plot<ColumnOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ColumnOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'column';\n\n  /**\n   * @override\n   */\n  public changeData(data: ColumnOptions['data']) {\n    this.updateOption({ data });\n    const { yField, xField, isPercent } = this.options;\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(getDataWhetherPercentage(data, yField, xField, yField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Column.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ColumnOptions> {\n    return adaptor;\n  }\n}\n","import { Params } from '../../core/adaptor';\nimport { tooltip } from '../../adaptor/common';\nimport { deepAssign, flow } from '../../utils';\nimport { Axis } from '../../types';\nimport { adaptor as columnAdaptor } from '../column/adaptor';\nexport { meta } from '../column/adaptor';\nimport { BarOptions } from './types';\n\n/**\n * \n * 1. switch xField yField\n * 2. switch xAxis yAxis and adjust axis.position configuration\n */\nfunction defaultOptions(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n  const { xField, yField, xAxis, yAxis } = options;\n\n  const position = {\n    left: 'bottom',\n    right: 'top',\n    top: 'left',\n    bottom: 'right',\n  };\n\n  const verticalAxis =\n    yAxis !== false\n      ? {\n          position: position[yAxis?.position || 'left'],\n          ...yAxis,\n        }\n      : false;\n  const horizontalAxis =\n    xAxis !== false\n      ? {\n          position: position[xAxis?.position || 'bottom'],\n          ...xAxis,\n        }\n      : false;\n\n  return {\n    ...params,\n    options: {\n      ...options,\n      xField: yField,\n      yField: xField,\n      //  xAxisyAxis  deepAssign\n      xAxis: verticalAxis as Axis,\n      yAxis: horizontalAxis as Axis,\n    },\n  };\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n  const { label } = options;\n  // label of bar charts default position is left, if plot has label\n  if (label && !label.position) {\n    label.position = 'left';\n    //  label layout  layout  position  layout\n    if (!label.layout) {\n      label.layout = [\n        { type: 'interval-adjust-position' },\n        { type: 'interval-hide-overlap' },\n        { type: 'adjust-color' },\n        { type: 'limit-in-plot', cfg: { action: 'hide' } },\n      ];\n    }\n  }\n\n  return deepAssign({}, params, { options: { label } });\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n\n  //  legend \n  const { seriesField, isStack } = options;\n  let { legend } = options;\n  if (seriesField) {\n    if (legend !== false) {\n      legend = {\n        position: isStack ? 'top-left' : 'right-top',\n        ...(legend || {}),\n      };\n    }\n  } else {\n    legend = false;\n  }\n\n  return deepAssign({}, params, { options: { legend } });\n}\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<BarOptions>): Params<BarOptions> {\n  // transpose column to bar  & y \n  const { options } = params;\n  const coordinateOptions = [{ type: 'transpose' }, { type: 'reflectY' }].concat(options.coordinate || []);\n  return deepAssign({}, params, { options: { coordinate: coordinateOptions } });\n}\n\n/**\n * \n * @param params\n */\nexport function geometry(params: Params<BarOptions>) {\n  const { chart, options } = params;\n\n  const { barStyle, barWidthRatio, minBarWidth, maxBarWidth, barBackground } = options;\n\n  return columnAdaptor(\n    {\n      chart,\n      options: {\n        ...options,\n        // rename attrs as column\n        columnStyle: barStyle,\n        columnWidthRatio: barWidthRatio,\n        minColumnWidth: minBarWidth,\n        maxColumnWidth: maxBarWidth,\n        columnBackground: barBackground,\n      },\n    },\n    true\n  ) as Params<BarOptions>;\n}\n\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BarOptions>): Params<BarOptions> {\n  // flow  G2 API\n  return flow<Params<BarOptions>>(defaultOptions, label, legend, tooltip, coordinate, geometry)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  barWidthRatio: 0.6,\n  marginRatio: 1 / 32,\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n  },\n  legend: {\n    radio: {},\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { BarOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { BarOptions };\n\n/**\n * \n */\nexport class Bar extends Plot<BarOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<BarOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'bar';\n\n  /**\n   * @override\n   */\n  public changeData(data: BarOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    const { isPercent } = options;\n    let { xField, yField, xAxis, yAxis } = options;\n    [xField, yField] = [yField, xField];\n    [xAxis, yAxis] = [yAxis, xAxis];\n    const switchedFieldOptions = { ...options, xField, yField, yAxis, xAxis };\n    meta({ chart, options: switchedFieldOptions });\n    chart.changeData(getDataWhetherPercentage(data, xField, yField, xField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Bar.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<BarOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  legend: {\n    position: 'right',\n    radio: {},\n  },\n  tooltip: {\n    shared: false,\n    showTitle: false,\n    showMarkers: false,\n  },\n  label: {\n    layout: { type: 'limit-in-plot', cfg: { action: 'ellipsis' } },\n  },\n  /** ,  */\n  pieStyle: {\n    stroke: 'white',\n    lineWidth: 1,\n  },\n  /**  */\n  statistic: {\n    title: {\n      style: { fontWeight: 300, color: '#4B535E', textAlign: 'center', fontSize: '20px', lineHeight: 1 },\n    },\n    content: {\n      style: {\n        fontWeight: 'bold',\n        color: 'rgba(44,53,66,0.85)',\n        textAlign: 'center',\n        fontSize: '32px',\n        lineHeight: 1,\n      },\n    },\n  },\n  /**  text-annotation  */\n  theme: {\n    components: {\n      annotation: {\n        text: {\n          animate: false,\n        },\n      },\n    },\n  },\n});\n","import { each, every, isString } from '@antv/util';\nimport { Data } from '../../types';\nimport { processIllegalData } from '../../utils';\nimport { PieOptions } from './types';\n\n/**\n * \n * @param data\n * @param field\n */\nexport function getTotalValue(data: Data, field: string) {\n  let total = null;\n  each(data, (item) => {\n    if (typeof item[field] === 'number') {\n      total += item[field];\n    }\n  });\n  return total;\n}\n\n/**\n * pie label offset adaptor\n */\nexport function adaptOffset(type: string, offset?: string | number): string | number {\n  let defaultOffset;\n  switch (type) {\n    case 'inner':\n      defaultOffset = '-30%';\n      if (isString(offset) && offset.endsWith('%')) {\n        return parseFloat(offset) * 0.01 > 0 ? defaultOffset : offset;\n      }\n      return offset < 0 ? offset : defaultOffset;\n    case 'outer':\n      defaultOffset = 12;\n      if (isString(offset) && offset.endsWith('%')) {\n        return parseFloat(offset) * 0.01 < 0 ? defaultOffset : offset;\n      }\n      return offset > 0 ? offset : defaultOffset;\n    default:\n      return offset;\n  }\n}\n\n/**\n *  0\n * @param data\n * @param angleField\n */\nexport function isAllZero(data: PieOptions['data'], angleField: string): boolean {\n  return every(processIllegalData(data, angleField), (d) => d[angleField] === 0);\n}\n","import { Util } from '@antv/g2';\n\nconst ORIGIN_MATRIX = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n/**\n * \n * @param actions\n * @param matrix\n */\nexport function transform(actions: any[][], matrix?: number[]) {\n  const ulMatrix = matrix ? [...matrix] : [...ORIGIN_MATRIX];\n  return Util.transform(ulMatrix, actions);\n}\n","import { IElement, IGroup } from '@antv/g-base';\nimport { Util, Element, Action } from '@antv/g2';\nimport { isEqual } from '@antv/util';\nimport { transform } from '../../../../utils/matrix';\n\n/**\n *   action\n */\nexport class PieLegendAction extends Action {\n  /**\n   * \n   */\n  private getActiveElements(): Element[] {\n    const delegateObject = Util.getDelegationObject(this.context);\n    if (delegateObject) {\n      const view = this.context.view;\n      const { component, item } = delegateObject;\n      const field = component.get('field');\n      if (field) {\n        const elements = view.geometries[0].elements;\n        return elements.filter((ele) => ele.getModel().data[field] === item.value);\n      }\n    }\n    return [];\n  }\n\n  /**\n   * \n   */\n  private getActiveElementLabels(): (IElement | IGroup)[] {\n    const view = this.context.view;\n    const elements = this.getActiveElements();\n    const labels = view.geometries[0].labelsContainer.getChildren();\n    return labels.filter((label) => elements.find((ele) => isEqual(ele.getData(), label.get('data'))));\n  }\n\n  protected transfrom(offset: number = 7.5) {\n    const elements = this.getActiveElements();\n    const elementLabels = this.getActiveElementLabels();\n    elements.forEach((element, idx) => {\n      const labelShape = elementLabels[idx];\n      const coordinate = element.geometry.coordinate;\n      if (coordinate.isPolar && coordinate.isTransposed) {\n        const { startAngle, endAngle } = Util.getAngle(element.getModel(), coordinate);\n        const middleAngle = (startAngle + endAngle) / 2;\n        const r = offset;\n        const x = r * Math.cos(middleAngle);\n        const y = r * Math.sin(middleAngle);\n        element.shape.setMatrix(transform([['t', x, y]]));\n        labelShape.setMatrix(transform([['t', x, y]]));\n      }\n    });\n  }\n\n  public active() {\n    this.transfrom();\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.transfrom(0);\n  }\n}\n","import { Element } from '@antv/g2';\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getCurrentElement(context): Element | undefined {\n  const event = context.event;\n  let element;\n  const target = event.target;\n  if (target) {\n    element = target.get('element');\n  }\n  return element;\n}\n","import { View, Action, Util, Types } from '@antv/g2';\nimport { each, get } from '@antv/util';\nimport { Annotation } from '../../../../types/annotation';\nimport { renderStatistic } from '../../../../utils/statistic';\nimport { PieOptions } from '../../types';\nimport { getCurrentElement } from '../util';\n\n/**\n * Pie  Action\n */\nexport class StatisticAction extends Action {\n  private initialAnnotation;\n\n  private getAnnotations(_view?: View): object[] {\n    const view = _view || this.context.view;\n    // @ts-ignore\n    return view.getController('annotation').option;\n  }\n\n  private getInitialAnnotation(): Types.ComponentOption[] | null {\n    return this.initialAnnotation;\n  }\n\n  init() {\n    const { view } = this.context;\n    view.removeInteraction('tooltip');\n\n    view.on('afterchangesize', () => {\n      const annotations = this.getAnnotations(view);\n      this.initialAnnotation = annotations;\n    });\n  }\n\n  public change(arg?: Pick<PieOptions, 'annotations' | 'statistic'>) {\n    const { view, event } = this.context;\n    if (!this.initialAnnotation) {\n      this.initialAnnotation = this.getAnnotations();\n    }\n\n    let data = get(event, ['data', 'data']);\n    if (event.type.match('legend-item')) {\n      const delegateObject = Util.getDelegationObject(this.context);\n      // @ts-ignore\n      const colorField = view.getGroupedFields()[0];\n      if (delegateObject && colorField) {\n        const { item } = delegateObject;\n        data = view.getData().find((d) => d[colorField] === item.value);\n      }\n    }\n\n    if (data) {\n      const annotations = get(arg, 'annotations', []);\n      const statistic = get(arg, 'statistic', {});\n      // \n      view.getController('annotation').clear(true);\n      //  annotations\n      each(annotations, (annotation: Annotation) => {\n        if (typeof annotation === 'object') {\n          view.annotation()[annotation.type](annotation);\n        }\n      });\n      renderStatistic(view, { statistic, plotType: 'pie' }, data);\n      view.render(true);\n    }\n\n    //  shape \n    const ele = getCurrentElement(this.context);\n    if (ele) {\n      ele.shape.toFront();\n    }\n  }\n\n  public reset() {\n    const { view } = this.context;\n    const annotationController = view.getController('annotation');\n    annotationController.clear(true);\n    const initialStatistic = this.getInitialAnnotation();\n    each(initialStatistic, (a) => {\n      view.annotation()[a.type](a);\n    });\n    view.render(true);\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { PieLegendAction } from './actions/legend-active';\nimport { StatisticAction } from './actions/statistic-active';\n\nexport const PIE_STATISTIC = 'pie-statistic';\n\nregisterAction(PIE_STATISTIC, StatisticAction);\nregisterInteraction('pie-statistic-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'pie-statistic:change' }],\n  end: [{ trigger: 'element:mouseleave', action: 'pie-statistic:reset' }],\n});\n\nregisterAction('pie-legend', PieLegendAction);\nregisterInteraction('pie-legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: 'pie-legend:active' }],\n  end: [{ trigger: 'legend-item:mouseleave', action: 'pie-legend:reset' }],\n});\n","import { isFunction, isString, isNil, get, isArray, isNumber, each, toString, isEmpty } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { legend, animation, theme, state, annotation } from '../../adaptor/common';\nimport { getMappingFunction } from '../../adaptor/geometries/base';\nimport { interval } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { getLocale } from '../../core/locale';\nimport { Interaction } from '../../types/interaction';\nimport { flow, template, transformLabel, deepAssign, renderStatistic, processIllegalData } from '../../utils';\nimport { Data, Datum } from '../../types';\nimport { DEFAULT_OPTIONS } from './contants';\nimport { adaptOffset, getTotalValue, isAllZero } from './utils';\nimport { PIE_STATISTIC } from './interactions';\nimport { PieOptions } from './types';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { data, angleField, colorField, color, pieStyle } = options;\n\n  // \n  let processData = processIllegalData(data, angleField);\n\n  if (isAllZero(processData, angleField)) {\n    //  0  position \n    const percentageField = '$$percentage$$';\n    processData = processData.map((d) => ({ ...d, [percentageField]: 1 / processData.length }));\n    chart.data(processData);\n\n    const p = deepAssign({}, params, {\n      options: {\n        xField: '1',\n        yField: percentageField,\n        seriesField: colorField,\n        isStack: true,\n        interval: {\n          color,\n          style: pieStyle,\n        },\n        args: {\n          zIndexReversed: true,\n          sortZIndex: true,\n        },\n      },\n    });\n\n    interval(p);\n  } else {\n    chart.data(processData);\n\n    const p = deepAssign({}, params, {\n      options: {\n        xField: '1',\n        yField: angleField,\n        seriesField: colorField,\n        isStack: true,\n        interval: {\n          color,\n          style: pieStyle,\n        },\n        args: {\n          zIndexReversed: true,\n          sortZIndex: true,\n        },\n      },\n    });\n\n    interval(p);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { meta, colorField } = options;\n\n  // meta  scale \n  const scales = deepAssign({}, meta);\n  chart.scale(scales, {\n    [colorField]: { type: 'cat' },\n  });\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart.coordinate({\n    type: 'theta',\n    cfg: {\n      radius,\n      innerRadius,\n      startAngle,\n      endAngle,\n    },\n  });\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { label, colorField, angleField } = options;\n\n  const geometry = chart.geometries[0];\n  // label  false,   label\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    const labelCfg = transformLabel(cfg);\n\n    //   label content \n    if (labelCfg.content) {\n      const { content } = labelCfg;\n      labelCfg.content = (data: object, dataum: any, index: number) => {\n        const name = data[colorField];\n        const value = data[angleField];\n        // dymatic get scale, scale is ready this time\n        const angleScale = chart.getScaleByField(angleField);\n        const percent = angleScale?.scale(value);\n        return isFunction(content)\n          ? // append percent (number) to data, users can get origin data from `dataum._origin`\n            content({ ...data, percent }, dataum, index)\n          : isString(content)\n          ? template(content as string, {\n              value,\n              name,\n              // percentage (string), default keep 2\n              percentage: isNumber(percent) && !isNil(value) ? `${(percent * 100).toFixed(2)}%` : null,\n            })\n          : content;\n      };\n    }\n\n    const LABEL_LAYOUT_TYPE_MAP = {\n      inner: '',\n      outer: 'pie-outer',\n      spider: 'pie-spider',\n    };\n    const labelLayoutType = labelCfg.type ? LABEL_LAYOUT_TYPE_MAP[labelCfg.type] : 'pie-outer';\n    const labelLayoutCfg = labelCfg.layout ? (!isArray(labelCfg.layout) ? [labelCfg.layout] : labelCfg.layout) : [];\n    labelCfg.layout = (labelLayoutType ? [{ type: labelLayoutType }] : []).concat(labelLayoutCfg);\n\n    geometry.label({\n      // fix: could not create scale, when field is undefinedattributes  fields  scale\n      fields: colorField ? [angleField, colorField] : [angleField],\n      callback,\n      cfg: {\n        ...labelCfg,\n        offset: adaptOffset(labelCfg.type, labelCfg.offset),\n        type: 'pie',\n      },\n    });\n  }\n  return params;\n}\n\n/**\n * statistic options \n * 1.  default options \n * 2.  meta  formatter\n */\nexport function transformStatisticOptions(options: PieOptions): PieOptions {\n  const { innerRadius, statistic, angleField, colorField, meta, locale } = options;\n\n  const i18n = getLocale(locale);\n\n  if (innerRadius && statistic) {\n    let { title: titleOpt, content: contentOpt } = deepAssign({}, DEFAULT_OPTIONS.statistic, statistic);\n    if (titleOpt !== false) {\n      titleOpt = deepAssign(\n        {},\n        {\n          formatter: (datum: Datum) => {\n            // , datum existed.\n            const text = datum\n              ? datum[colorField]\n              : !isNil(titleOpt.content)\n              ? titleOpt.content\n              : i18n.get(['statistic', 'total']);\n            const metaFormatter = get(meta, [colorField, 'formatter']) || ((v) => v);\n            return metaFormatter(text);\n          },\n        },\n        titleOpt\n      );\n    }\n    if (contentOpt !== false) {\n      contentOpt = deepAssign(\n        {},\n        {\n          formatter: (datum: Datum, data: Data) => {\n            const dataValue = datum ? datum[angleField] : getTotalValue(data, angleField);\n            const metaFormatter = get(meta, [angleField, 'formatter']) || ((v) => v);\n            // \n            if (datum) {\n              return metaFormatter(dataValue);\n            }\n            return !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(dataValue);\n          },\n        },\n        contentOpt\n      );\n    }\n\n    return deepAssign({}, { statistic: { title: titleOpt, content: contentOpt } }, options);\n  }\n  return options;\n}\n\n/**\n * statistic \n * @param params\n */\nexport function pieAnnotation(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { innerRadius, statistic } = transformStatisticOptions(options);\n  // \n  chart.getController('annotation').clear(true);\n\n  //  annotations\n  flow(annotation())(params);\n\n  /**   */\n  if (innerRadius && statistic) {\n    renderStatistic(chart, { statistic, plotType: 'pie' });\n  }\n\n  return params;\n}\n\n/**\n *  tooltip \n * 1.  tooltip.shared  false\n * @param params\n */\nfunction tooltip(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { tooltip, colorField, angleField, data } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(tooltip);\n  } else {\n    chart.tooltip(deepAssign({}, tooltip, { shared: false }));\n\n    //  all zero  all zero \n    if (isAllZero(data, angleField)) {\n      let fields = get(tooltip, 'fields');\n      let formatter = get(tooltip, 'formatter');\n\n      if (isEmpty(get(tooltip, 'fields'))) {\n        fields = [colorField, angleField];\n        formatter = formatter || ((datum) => ({ name: datum[colorField], value: toString(datum[angleField]) }));\n      }\n      chart.geometries[0].tooltip(fields.join('*'), getMappingFunction(fields, formatter));\n    }\n  }\n\n  return params;\n}\n\n/**\n * Interaction  ( interaction, \n * @param params\n */\nexport function interaction(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { interactions, statistic, annotations } = transformStatisticOptions(options);\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else if (i.type === 'pie-statistic-active') {\n      //  start \n      let startStages = [];\n      if (!i.cfg?.start) {\n        startStages = [\n          {\n            trigger: 'element:mouseenter',\n            action: `${PIE_STATISTIC}:change`,\n            arg: { statistic, annotations },\n          },\n        ];\n      }\n      each(i.cfg?.start, (stage) => {\n        startStages.push({ ...stage, arg: { statistic, annotations } });\n      });\n      chart.interaction(i.type, deepAssign({}, i.cfg, { start: startStages }));\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<PieOptions>) {\n  // flow  G2 API\n  return flow<Params<PieOptions>>(\n    pattern('pieStyle'),\n    geometry,\n    meta,\n    theme,\n    coordinate,\n    legend,\n    tooltip,\n    label,\n    state,\n    /**   */\n    pieAnnotation,\n    interaction,\n    animation\n  )(params);\n}\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { processIllegalData } from '../../utils';\nimport { adaptor, pieAnnotation } from './adaptor';\nimport { DEFAULT_OPTIONS } from './contants';\nimport { PieOptions } from './types';\nimport { isAllZero } from './utils';\nimport './interactions';\n\nexport type { PieOptions };\n\nexport class Pie extends Plot<PieOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<PieOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'pie';\n\n  /**\n   * \n   * @param data\n   */\n  public changeData(data: PieOptions['data']) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    const prevOptions = this.options;\n    const { angleField } = this.options;\n    const prevData = processIllegalData(prevOptions.data, angleField);\n    const curData = processIllegalData(data, angleField);\n    //  0\n    if (isAllZero(prevData, angleField) || isAllZero(curData, angleField)) {\n      this.update({ data });\n    } else {\n      this.updateOption({ data });\n      this.chart.data(curData);\n      // todo  G2  afterrender  annotations\n      pieAnnotation({ chart: this.chart, options: this.options });\n      this.chart.render(true);\n    }\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   *   ,  base \n   */\n  protected getDefaultOptions(): Partial<PieOptions> {\n    return Pie.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<PieOptions> {\n    return adaptor;\n  }\n}\n","import { filter, isObject, isArray } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { flow, findGeometry, log, LEVEL, transformLabel, deepAssign } from '../../utils';\nimport { tooltip, interaction, animation, theme, scale, annotation, state, pattern } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { RoseOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { data, sectorStyle, color } = options;\n\n  // \n  chart.data(data);\n\n  flow(interval)(\n    deepAssign({}, params, {\n      options: {\n        marginRatio: 1,\n        interval: {\n          style: sectorStyle,\n          color,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { label, xField } = options;\n  const geometry = findGeometry(chart, 'interval');\n\n  // label  false  label\n  if (label === false) {\n    geometry.label(false);\n  } else if (isObject(label)) {\n    const { callback, fields, ...cfg } = label;\n    const { offset } = cfg;\n    let layout = cfg.layout;\n\n    //  label  shape  'limit-in-shape' \n    //  label \n    if (offset === undefined || offset >= 0) {\n      layout = layout ? (isArray(layout) ? layout : [layout]) : [];\n      cfg.layout = filter(layout, (v) => v.type !== 'limit-in-shape');\n      cfg.layout.length || delete cfg.layout;\n    }\n\n    geometry.label({\n      fields: fields || [xField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  } else {\n    log(LEVEL.WARN, label === null, 'the label option must be an Object.');\n    geometry.label({ fields: [xField] });\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (seriesField) {\n    chart.legend(seriesField, legend);\n  }\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart.coordinate({\n    type: 'polar',\n    cfg: {\n      radius,\n      innerRadius,\n      startAngle,\n      endAngle,\n    },\n  });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  falsy \n  if (!xAxis) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (!yAxis) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RoseOptions>) {\n  // flow  G2 API\n  flow(\n    pattern('sectorStyle'),\n    geometry,\n    meta,\n    label,\n    coordinate,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    theme,\n    annotation(),\n    state\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  xAxis: false,\n  yAxis: false,\n  legend: {\n    position: 'right',\n    radio: {},\n  },\n  sectorStyle: {\n    stroke: '#fff',\n    lineWidth: 1,\n  },\n  label: {\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { isNil, isFunction, assign } from '@antv/util';\r\nimport { Tag, Word } from '../../plots/word-cloud/types';\r\n\r\ntype FontWeight = number | 'normal' | 'bold' | 'bolder' | 'lighter';\r\n\r\nexport interface Options {\r\n  size: [number, number];\r\n  font?: string | ((row: Word, index?: number, words?: Word[]) => string);\r\n  fontSize?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  fontWeight?: FontWeight | ((row: Word, index?: number, words?: Word[]) => FontWeight);\r\n  rotate?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  padding?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  spiral?: 'archimedean' | 'rectangular' | ((size: [number, number]) => (t: number) => number[]);\r\n  random?: number | (() => number);\r\n  timeInterval?: number;\r\n  imageMask?: HTMLImageElement;\r\n}\r\n\r\nconst DEFAULT_OPTIONS: Options = {\r\n  font: () => 'serif',\r\n  padding: 1,\r\n  size: [500, 500],\r\n  spiral: 'archimedean', // 'archimedean' || 'rectangular' || {function}\r\n  // timeInterval: Infinity // max execute time\r\n  timeInterval: 3000, // max execute time\r\n  // imageMask: '', // instance of Image, must be loaded\r\n};\r\n\r\n/**\r\n * \r\n * \r\n * \r\n * @param words\r\n * @param options\r\n */\r\nexport function wordCloud(words: Word[], options?: Partial<Options>): Tag[] {\r\n  // \r\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\r\n  return transform(words, options as Options);\r\n}\r\n\r\n/**\r\n * \r\n * @param words\r\n * @param options\r\n */\r\nexport function transform(words: Word[], options: Options) {\r\n  // \r\n  const layout = tagCloud();\r\n  ['font', 'fontSize', 'fontWeight', 'padding', 'rotate', 'size', 'spiral', 'timeInterval', 'random'].forEach(\r\n    (key: string) => {\r\n      if (!isNil(options[key])) {\r\n        layout[key](options[key]);\r\n      }\r\n    }\r\n  );\r\n\r\n  layout.words(words);\r\n  if (options.imageMask) {\r\n    layout.createMask(options.imageMask);\r\n  }\r\n\r\n  const result = layout.start();\r\n  const tags: any[] = result._tags;\r\n\r\n  tags.forEach((tag) => {\r\n    tag.x += options.size[0] / 2;\r\n    tag.y += options.size[1] / 2;\r\n  });\r\n\r\n  const [w, h] = options.size;\r\n  // \r\n  // \r\n  // \r\n  // \r\n  tags.push({\r\n    text: '',\r\n    value: 0,\r\n    x: 0,\r\n    y: 0,\r\n    opacity: 0,\r\n  });\r\n  tags.push({\r\n    text: '',\r\n    value: 0,\r\n    x: w,\r\n    y: h,\r\n    opacity: 0,\r\n  });\r\n\r\n  return tags;\r\n}\r\n\r\n/*\r\n * Synchronous version of d3-cloud\r\n */\r\n// Word cloud layout by Jason Davies, https://www.jasondavies.com/wordcloud/\r\n// Algorithm due to Jonathan Feinberg, http://static.mrfeinberg.com/bv_ch03.pdf\r\n/* eslint-disable no-return-assign, no-cond-assign */\r\n\r\ninterface Item {\r\n  value: number;\r\n  text: string;\r\n  sprite: boolean;\r\n}\r\n\r\nconst cloudRadians = Math.PI / 180,\r\n  cw = (1 << 11) >> 5,\r\n  ch = 1 << 11;\r\n\r\nfunction cloudText(d: Item) {\r\n  return d.text;\r\n}\r\n\r\nfunction cloudFont() {\r\n  return 'serif';\r\n}\r\n\r\nfunction cloudFontNormal() {\r\n  return 'normal';\r\n}\r\n\r\nfunction cloudFontSize(d: Item) {\r\n  return d.value;\r\n}\r\n\r\nfunction cloudRotate() {\r\n  return ~~(Math.random() * 2) * 90;\r\n}\r\n\r\nfunction cloudPadding() {\r\n  return 1;\r\n}\r\n\r\n// Fetches a monochrome sprite bitmap for the specified text.\r\n// Load in batches for speed.\r\nfunction cloudSprite(contextAndRatio, d, data, di) {\r\n  if (d.sprite) return;\r\n  const c = contextAndRatio.context,\r\n    ratio = contextAndRatio.ratio;\r\n\r\n  c.clearRect(0, 0, (cw << 5) / ratio, ch / ratio);\r\n  let x = 0,\r\n    y = 0,\r\n    maxh = 0;\r\n  const n = data.length;\r\n  --di;\r\n  while (++di < n) {\r\n    d = data[di];\r\n    c.save();\r\n    c.font = d.style + ' ' + d.weight + ' ' + ~~((d.size + 1) / ratio) + 'px ' + d.font;\r\n    let w = c.measureText(d.text + 'm').width * ratio,\r\n      h = d.size << 1;\r\n    if (d.rotate) {\r\n      const sr = Math.sin(d.rotate * cloudRadians),\r\n        cr = Math.cos(d.rotate * cloudRadians),\r\n        wcr = w * cr,\r\n        wsr = w * sr,\r\n        hcr = h * cr,\r\n        hsr = h * sr;\r\n      w = ((Math.max(Math.abs(wcr + hsr), Math.abs(wcr - hsr)) + 0x1f) >> 5) << 5;\r\n      h = ~~Math.max(Math.abs(wsr + hcr), Math.abs(wsr - hcr));\r\n    } else {\r\n      w = ((w + 0x1f) >> 5) << 5;\r\n    }\r\n    if (h > maxh) maxh = h;\r\n    if (x + w >= cw << 5) {\r\n      x = 0;\r\n      y += maxh;\r\n      maxh = 0;\r\n    }\r\n    if (y + h >= ch) break;\r\n    c.translate((x + (w >> 1)) / ratio, (y + (h >> 1)) / ratio);\r\n    if (d.rotate) c.rotate(d.rotate * cloudRadians);\r\n    c.fillText(d.text, 0, 0);\r\n    if (d.padding) {\r\n      c.lineWidth = 2 * d.padding;\r\n      c.strokeText(d.text, 0, 0);\r\n    }\r\n    c.restore();\r\n    d.width = w;\r\n    d.height = h;\r\n    d.xoff = x;\r\n    d.yoff = y;\r\n    d.x1 = w >> 1;\r\n    d.y1 = h >> 1;\r\n    d.x0 = -d.x1;\r\n    d.y0 = -d.y1;\r\n    d.hasText = true;\r\n    x += w;\r\n  }\r\n  const pixels = c.getImageData(0, 0, (cw << 5) / ratio, ch / ratio).data,\r\n    sprite = [];\r\n  while (--di >= 0) {\r\n    d = data[di];\r\n    if (!d.hasText) continue;\r\n    const w = d.width,\r\n      w32 = w >> 5;\r\n    let h = d.y1 - d.y0;\r\n    // Zero the buffer\r\n    for (let i = 0; i < h * w32; i++) sprite[i] = 0;\r\n    x = d.xoff;\r\n    if (x == null) return;\r\n    y = d.yoff;\r\n    let seen = 0,\r\n      seenRow = -1;\r\n    for (let j = 0; j < h; j++) {\r\n      for (let i = 0; i < w; i++) {\r\n        const k = w32 * j + (i >> 5),\r\n          m = pixels[((y + j) * (cw << 5) + (x + i)) << 2] ? 1 << (31 - (i % 32)) : 0;\r\n        sprite[k] |= m;\r\n        seen |= m;\r\n      }\r\n      if (seen) seenRow = j;\r\n      else {\r\n        d.y0++;\r\n        h--;\r\n        j--;\r\n        y++;\r\n      }\r\n    }\r\n    d.y1 = d.y0 + seenRow;\r\n    d.sprite = sprite.slice(0, (d.y1 - d.y0) * w32);\r\n  }\r\n}\r\n\r\n// Use mask-based collision detection.\r\nfunction cloudCollide(tag, board, sw) {\r\n  sw >>= 5;\r\n  const sprite = tag.sprite,\r\n    w = tag.width >> 5,\r\n    lx = tag.x - (w << 4),\r\n    sx = lx & 0x7f,\r\n    msx = 32 - sx,\r\n    h = tag.y1 - tag.y0;\r\n  let x = (tag.y + tag.y0) * sw + (lx >> 5),\r\n    last;\r\n  for (let j = 0; j < h; j++) {\r\n    last = 0;\r\n    for (let i = 0; i <= w; i++) {\r\n      if (((last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0)) & board[x + i]) return true;\r\n    }\r\n    x += sw;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction cloudBounds(bounds, d) {\r\n  const b0 = bounds[0],\r\n    b1 = bounds[1];\r\n  if (d.x + d.x0 < b0.x) b0.x = d.x + d.x0;\r\n  if (d.y + d.y0 < b0.y) b0.y = d.y + d.y0;\r\n  if (d.x + d.x1 > b1.x) b1.x = d.x + d.x1;\r\n  if (d.y + d.y1 > b1.y) b1.y = d.y + d.y1;\r\n}\r\n\r\nfunction collideRects(a, b) {\r\n  return a.x + a.x1 > b[0].x && a.x + a.x0 < b[1].x && a.y + a.y1 > b[0].y && a.y + a.y0 < b[1].y;\r\n}\r\n\r\nfunction archimedeanSpiral(size) {\r\n  const e = size[0] / size[1];\r\n  return function (t) {\r\n    return [e * (t *= 0.1) * Math.cos(t), t * Math.sin(t)];\r\n  };\r\n}\r\n\r\nfunction rectangularSpiral(size) {\r\n  const dy = 4,\r\n    dx = (dy * size[0]) / size[1];\r\n  let x = 0,\r\n    y = 0;\r\n  return function (t) {\r\n    const sign = t < 0 ? -1 : 1;\r\n    // See triangular numbers: T_n = n * (n + 1) / 2.\r\n    switch ((Math.sqrt(1 + 4 * sign * t) - sign) & 3) {\r\n      case 0:\r\n        x += dx;\r\n        break;\r\n      case 1:\r\n        y += dy;\r\n        break;\r\n      case 2:\r\n        x -= dx;\r\n        break;\r\n      default:\r\n        y -= dy;\r\n        break;\r\n    }\r\n    return [x, y];\r\n  };\r\n}\r\n\r\n// TODO reuse arrays?\r\nfunction zeroArray(n) {\r\n  const a = [];\r\n  let i = -1;\r\n  while (++i < n) a[i] = 0;\r\n  return a;\r\n}\r\n\r\nfunction cloudCanvas() {\r\n  return document.createElement('canvas');\r\n}\r\n\r\nexport function functor(d) {\r\n  return isFunction(d)\r\n    ? d\r\n    : function () {\r\n        return d;\r\n      };\r\n}\r\n\r\nconst spirals = {\r\n  archimedean: archimedeanSpiral,\r\n  rectangular: rectangularSpiral,\r\n};\r\n\r\nfunction tagCloud() {\r\n  let size = [256, 256],\r\n    font = cloudFont,\r\n    fontSize = cloudFontSize,\r\n    fontWeight = cloudFontNormal,\r\n    rotate = cloudRotate,\r\n    padding = cloudPadding,\r\n    spiral = archimedeanSpiral,\r\n    random = Math.random,\r\n    words = [],\r\n    timeInterval = Infinity;\r\n\r\n  const text = cloudText;\r\n  const fontStyle = cloudFontNormal;\r\n  const canvas = cloudCanvas;\r\n  const cloud: any = {};\r\n\r\n  cloud.start = function () {\r\n    const [width, height] = size;\r\n    const contextAndRatio = getContext(canvas()),\r\n      board = cloud.board ? cloud.board : zeroArray((size[0] >> 5) * size[1]),\r\n      n = words.length,\r\n      tags = [],\r\n      data = words\r\n        .map(function (d, i, data) {\r\n          d.text = text.call(this, d, i, data);\r\n          d.font = font.call(this, d, i, data);\r\n          d.style = fontStyle.call(this, d, i, data);\r\n          d.weight = fontWeight.call(this, d, i, data);\r\n          d.rotate = rotate.call(this, d, i, data);\r\n          d.size = ~~fontSize.call(this, d, i, data);\r\n          d.padding = padding.call(this, d, i, data);\r\n          return d;\r\n        })\r\n        .sort(function (a, b) {\r\n          return b.size - a.size;\r\n        });\r\n    let i = -1,\r\n      bounds = !cloud.board\r\n        ? null\r\n        : [\r\n            {\r\n              x: 0,\r\n              y: 0,\r\n            },\r\n            {\r\n              x: width,\r\n              y: height,\r\n            },\r\n          ];\r\n\r\n    step();\r\n\r\n    function step() {\r\n      const start = Date.now();\r\n      while (Date.now() - start < timeInterval && ++i < n) {\r\n        const d = data[i];\r\n        d.x = (width * (random() + 0.5)) >> 1;\r\n        d.y = (height * (random() + 0.5)) >> 1;\r\n        cloudSprite(contextAndRatio, d, data, i);\r\n        if (d.hasText && place(board, d, bounds)) {\r\n          tags.push(d);\r\n          if (bounds) {\r\n            if (!cloud.hasImage) {\r\n              // update bounds if image mask not set\r\n              cloudBounds(bounds, d);\r\n            }\r\n          } else {\r\n            bounds = [\r\n              { x: d.x + d.x0, y: d.y + d.y0 },\r\n              { x: d.x + d.x1, y: d.y + d.y1 },\r\n            ];\r\n          }\r\n          // Temporary hack\r\n          d.x -= size[0] >> 1;\r\n          d.y -= size[1] >> 1;\r\n        }\r\n      }\r\n      cloud._tags = tags;\r\n      cloud._bounds = bounds;\r\n    }\r\n\r\n    return cloud;\r\n  };\r\n\r\n  function getContext(canvas: HTMLCanvasElement) {\r\n    canvas.width = canvas.height = 1;\r\n    const ratio = Math.sqrt(canvas.getContext('2d')!.getImageData(0, 0, 1, 1).data.length >> 2);\r\n    canvas.width = (cw << 5) / ratio;\r\n    canvas.height = ch / ratio;\r\n\r\n    const context = canvas.getContext('2d') as CanvasRenderingContext2D;\r\n    context.fillStyle = context.strokeStyle = 'red';\r\n    context.textAlign = 'center';\r\n    return { context, ratio };\r\n  }\r\n\r\n  function place(board, tag, bounds) {\r\n    // const perimeter = [{ x: 0, y: 0 }, { x: size[0], y: size[1] }],\r\n    const startX = tag.x,\r\n      startY = tag.y,\r\n      maxDelta = Math.sqrt(size[0] * size[0] + size[1] * size[1]),\r\n      s = spiral(size),\r\n      dt = random() < 0.5 ? 1 : -1;\r\n    let dxdy,\r\n      t = -dt,\r\n      dx,\r\n      dy;\r\n\r\n    while ((dxdy = s((t += dt)))) {\r\n      dx = ~~dxdy[0];\r\n      dy = ~~dxdy[1];\r\n\r\n      if (Math.min(Math.abs(dx), Math.abs(dy)) >= maxDelta) break;\r\n\r\n      tag.x = startX + dx;\r\n      tag.y = startY + dy;\r\n\r\n      if (tag.x + tag.x0 < 0 || tag.y + tag.y0 < 0 || tag.x + tag.x1 > size[0] || tag.y + tag.y1 > size[1]) continue;\r\n      // TODO only check for collisions within current bounds.\r\n      if (!bounds || !cloudCollide(tag, board, size[0])) {\r\n        if (!bounds || collideRects(tag, bounds)) {\r\n          const sprite = tag.sprite,\r\n            w = tag.width >> 5,\r\n            sw = size[0] >> 5,\r\n            lx = tag.x - (w << 4),\r\n            sx = lx & 0x7f,\r\n            msx = 32 - sx,\r\n            h = tag.y1 - tag.y0;\r\n          let last,\r\n            x = (tag.y + tag.y0) * sw + (lx >> 5);\r\n          for (let j = 0; j < h; j++) {\r\n            last = 0;\r\n            for (let i = 0; i <= w; i++) {\r\n              board[x + i] |= (last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0);\r\n            }\r\n            x += sw;\r\n          }\r\n          delete tag.sprite;\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  cloud.createMask = (img: HTMLImageElement) => {\r\n    const can: HTMLCanvasElement = document.createElement('canvas');\r\n    const [width, height] = size;\r\n\r\n    //  width  height  0  cxt.getImageData \r\n    if (!width || !height) {\r\n      return;\r\n    }\r\n    const w32 = width >> 5;\r\n    const board = zeroArray((width >> 5) * height);\r\n    can.width = width;\r\n    can.height = height;\r\n    const cxt = can.getContext('2d') as CanvasRenderingContext2D;\r\n    cxt.drawImage(img, 0, 0, img.width, img.height, 0, 0, width, height);\r\n    const imageData = cxt.getImageData(0, 0, width, height).data;\r\n    for (let j = 0; j < height; j++) {\r\n      for (let i = 0; i < width; i++) {\r\n        const k = w32 * j + (i >> 5);\r\n        const tmp = (j * width + i) << 2;\r\n        const flag = imageData[tmp] >= 250 && imageData[tmp + 1] >= 250 && imageData[tmp + 2] >= 250;\r\n        const m = flag ? 1 << (31 - (i % 32)) : 0;\r\n        board[k] |= m;\r\n      }\r\n    }\r\n    cloud.board = board;\r\n    cloud.hasImage = true;\r\n  };\r\n\r\n  cloud.timeInterval = function (_) {\r\n    timeInterval = _ == null ? Infinity : _;\r\n  };\r\n\r\n  cloud.words = function (_) {\r\n    words = _;\r\n  };\r\n\r\n  cloud.size = function (_) {\r\n    size = [+_[0], +_[1]];\r\n  };\r\n\r\n  cloud.font = function (_) {\r\n    font = functor(_);\r\n  };\r\n\r\n  cloud.fontWeight = function (_) {\r\n    fontWeight = functor(_);\r\n  };\r\n\r\n  cloud.rotate = function (_) {\r\n    rotate = functor(_);\r\n  };\r\n\r\n  cloud.spiral = function (_) {\r\n    spiral = spirals[_] || _;\r\n  };\r\n\r\n  cloud.fontSize = function (_) {\r\n    fontSize = functor(_);\r\n  };\r\n\r\n  cloud.padding = function (_) {\r\n    padding = functor(_);\r\n  };\r\n\r\n  cloud.random = function (_) {\r\n    random = functor(_);\r\n  };\r\n\r\n  return cloud;\r\n}\r\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { RoseOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { RoseOptions };\n\nexport class Rose extends Plot<RoseOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<RoseOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'rose';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *  options \n   */\n  protected getDefaultOptions(): Partial<RoseOptions> {\n    return Rose.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RoseOptions> {\n    return adaptor;\n  }\n}\n","import { Chart } from '@antv/g2';\r\nimport { Types } from '@antv/g2';\r\nimport { isArray, isFunction, isString } from '@antv/util';\r\nimport { normalPadding } from '../../utils/padding';\r\nimport { Params } from '../../core/adaptor';\r\nimport { Datum } from '../../types';\r\nimport { log, LEVEL, getContainerSize } from '../../utils';\r\nimport { functor, wordCloud } from '../../utils/transform/word-cloud';\r\nimport { Tag, Word, WordCloudOptions, WordStyle } from './types';\r\n\r\n/**\r\n *  DataSet \r\n * @param params\r\n */\r\nexport function transform(params: Params<WordCloudOptions>): Tag[] {\r\n  const { options: rawOptions, chart } = params;\r\n  const { width, height, padding: chartPadding, appendPadding, ele } = chart as Chart;\r\n  const {\r\n    data,\r\n    imageMask,\r\n    wordField,\r\n    weightField,\r\n    colorField,\r\n    wordStyle,\r\n    timeInterval,\r\n    random,\r\n    spiral,\r\n    autoFit = true,\r\n    placementStrategy,\r\n  } = rawOptions;\r\n  if (!data || !data.length) {\r\n    return [];\r\n  }\r\n  const { fontFamily, fontWeight, padding, fontSize } = wordStyle;\r\n  const arr = getSingleKeyValues(data, weightField);\r\n  const range = [min(arr), max(arr)] as [number, number];\r\n\r\n  //  text  value \r\n  const words = data.map(\r\n    (datum: Datum): Word => ({\r\n      text: datum[wordField],\r\n      value: datum[weightField],\r\n      color: datum[colorField],\r\n      datum, // \r\n    })\r\n  );\r\n\r\n  const options = {\r\n    imageMask: imageMask as HTMLImageElement,\r\n    font: fontFamily,\r\n    fontSize: getFontSizeMapping(fontSize, range),\r\n    fontWeight: fontWeight,\r\n    //  padding \r\n    size: getSize({\r\n      width,\r\n      height,\r\n      padding: chartPadding,\r\n      appendPadding,\r\n      autoFit,\r\n      container: ele,\r\n    }),\r\n    padding: padding,\r\n    timeInterval,\r\n    random,\r\n    spiral,\r\n    rotate: getRotate(rawOptions),\r\n  };\r\n\r\n  // \r\n  if (isFunction(placementStrategy)) {\r\n    const result = words.map((word: Word, index: number, words: Word[]) => ({\r\n      ...word,\r\n      hasText: !!word.text,\r\n      font: functor(options.font)(word, index, words),\r\n      weight: functor(options.fontWeight)(word, index, words),\r\n      rotate: functor(options.rotate)(word, index, words),\r\n      size: functor(options.fontSize)(word, index, words),\r\n      style: 'normal',\r\n      ...placementStrategy.call(chart, word, index, words),\r\n    }));\r\n\r\n    // \r\n    result.push({\r\n      text: '',\r\n      value: 0,\r\n      x: 0,\r\n      y: 0,\r\n      opacity: 0,\r\n    });\r\n    result.push({\r\n      text: '',\r\n      value: 0,\r\n      x: options.size[0],\r\n      y: options.size[1],\r\n      opacity: 0,\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  // wordCloud \r\n  return wordCloud(words, options);\r\n}\r\n\r\n/**\r\n * [width, height]\r\n * @param chart\r\n */\r\nexport function getSize(options: {\r\n  width: number;\r\n  height: number;\r\n  padding: Types.ViewPadding;\r\n  appendPadding: Types.ViewAppendPadding;\r\n  autoFit: boolean;\r\n  container: HTMLElement;\r\n}): [number, number] {\r\n  let { width, height } = options;\r\n  const { container, autoFit, padding, appendPadding } = options;\r\n\r\n  //  DataSet \r\n  //  DataSet \r\n  //  DataSet \r\n  // \r\n  if (autoFit) {\r\n    const containerSize = getContainerSize(container);\r\n    width = containerSize.width;\r\n    height = containerSize.height;\r\n  }\r\n\r\n  //  0\r\n  width = width || 400;\r\n  height = height || 400;\r\n\r\n  const [top, right, bottom, left] = resolvePadding({ padding, appendPadding });\r\n  const result = [width - (left + right), height - (top + bottom)];\r\n\r\n  return result as [number, number];\r\n}\r\n\r\n/**\r\n *  padding  appendPadding  padding\r\n * @param chart\r\n */\r\nfunction resolvePadding(options: { padding: Types.ViewPadding; appendPadding: Types.ViewAppendPadding }) {\r\n  const padding = normalPadding(options.padding);\r\n  const appendPadding = normalPadding(options.appendPadding);\r\n  const top = padding[0] + appendPadding[0];\r\n  const right = padding[1] + appendPadding[1];\r\n  const bottom = padding[2] + appendPadding[2];\r\n  const left = padding[3] + appendPadding[3];\r\n\r\n  return [top, right, bottom, left];\r\n}\r\n\r\n/**\r\n *  imageMask  url \r\n * @param  {HTMLImageElement | string} img\r\n * @return {Promise}\r\n */\r\nexport function processImageMask(img: HTMLImageElement | string): Promise<HTMLImageElement> {\r\n  return new Promise((res, rej) => {\r\n    if (img instanceof HTMLImageElement) {\r\n      res(img);\r\n      return;\r\n    }\r\n    if (isString(img)) {\r\n      const image = new Image();\r\n      image.crossOrigin = 'anonymous';\r\n      image.src = img;\r\n      image.onload = () => {\r\n        res(image);\r\n      };\r\n      image.onerror = () => {\r\n        log(LEVEL.ERROR, false, 'image %s load failed !!!', img);\r\n        rej();\r\n      };\r\n      return;\r\n    }\r\n    log(LEVEL.WARN, img === undefined, 'The type of imageMask option must be String or HTMLImageElement.');\r\n    rej();\r\n  });\r\n}\r\n\r\n/**\r\n *  fontSize  DataSet \r\n * @param options\r\n * @param range\r\n */\r\nexport function getFontSizeMapping(fontSize: WordStyle['fontSize'], range?: [number, number]) {\r\n  if (isFunction(fontSize)) {\r\n    return fontSize;\r\n  }\r\n  if (isArray(fontSize)) {\r\n    const [fMin, fMax] = fontSize;\r\n    if (!range) {\r\n      return () => (fMax + fMin) / 2;\r\n    }\r\n    const [min, max] = range;\r\n    if (max === min) {\r\n      return () => (fMax + fMin) / 2;\r\n    }\r\n    return function fontSize({ value }) {\r\n      return ((fMax - fMin) / (max - min)) * (value - min) + fMin;\r\n    };\r\n  }\r\n  return () => fontSize;\r\n}\r\n\r\nexport function getSingleKeyValues(data: Datum[], key: string) {\r\n  return data\r\n    .map((v) => v[key])\r\n    .filter((v) => {\r\n      //  number\r\n      if (typeof v === 'number' && !isNaN(v)) return true;\r\n      return false;\r\n    });\r\n}\r\n\r\n/**\r\n *  DataSet \r\n * @param options\r\n */\r\nfunction getRotate(options: WordCloudOptions) {\r\n  const { rotation, rotationSteps } = resolveRotate(options);\r\n  if (!isArray(rotation)) return rotation;\r\n  const min = rotation[0];\r\n  const max = rotation[1];\r\n  //  1  0\r\n  const perSize = rotationSteps === 1 ? 0 : (max - min) / (rotationSteps - 1);\r\n  return function rotate() {\r\n    if (max === min) return max;\r\n    return Math.floor(Math.random() * rotationSteps) * perSize;\r\n  };\r\n}\r\n\r\n/**\r\n * \r\n * @param options\r\n */\r\nfunction resolveRotate(options: WordCloudOptions) {\r\n  let { rotationSteps } = options.wordStyle;\r\n  if (rotationSteps < 1) {\r\n    log(LEVEL.WARN, false, 'The rotationSteps option must be greater than or equal to 1.');\r\n    rotationSteps = 1;\r\n  }\r\n  return {\r\n    rotation: options.wordStyle.rotation,\r\n    rotationSteps,\r\n  };\r\n}\r\n\r\n/**\r\n * \r\n * \r\n * @param numbers\r\n */\r\nfunction min(numbers: number[]) {\r\n  return Math.min(...numbers);\r\n}\r\n\r\n/**\r\n * \r\n * \r\n * @param numbers\r\n */\r\nfunction max(numbers: number[]) {\r\n  return Math.max(...numbers);\r\n}\r\n","import { Plot } from '../../core/plot';\nimport { Datum } from '../../types';\nimport { deepAssign } from '../../utils';\n\n/**  color  */\nexport const WORD_CLOUD_COLOR_FIELD = 'color';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  timeInterval: 2000,\n  legend: false,\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    showCrosshairs: false,\n    fields: ['text', 'value', WORD_CLOUD_COLOR_FIELD],\n    formatter: (datum: Datum) => {\n      return { name: datum.text, value: datum.value };\n    },\n  },\n  wordStyle: {\n    fontFamily: 'Verdana',\n    fontWeight: 'normal',\n    padding: 1,\n    fontSize: [12, 60],\n    rotation: [0, 90],\n    rotationSteps: 2,\n    rotateRatio: 0.5,\n  },\n});\n","import { isFunction, get } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme, scale, state } from '../../adaptor/common';\nimport { flow, deepAssign } from '../../utils';\nimport { point } from '../../adaptor/geometries';\nimport { WordCloudOptions } from './types';\nimport { transform } from './utils';\nimport { WORD_CLOUD_COLOR_FIELD } from './constant';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart, options } = params;\n  const { colorField, color } = options;\n  const data = transform(params);\n\n  chart.data(data);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'x',\n      yField: 'y',\n      seriesField: colorField && WORD_CLOUD_COLOR_FIELD,\n      rawFields: isFunction(color) && [...get(options, 'rawFields', []), 'datum'],\n      point: {\n        color,\n        shape: 'word-cloud',\n      },\n    },\n  });\n\n  const { ext } = point(p);\n  ext.geometry.label(false);\n\n  chart.coordinate().reflect('y');\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  return flow(\n    scale({\n      x: { nice: false },\n      y: { nice: false },\n    })\n  )(params);\n}\n\n/**\n *  legend \n * @param params\n */\nexport function legend(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart, options } = params;\n  const { legend, colorField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (colorField) {\n    chart.legend(WORD_CLOUD_COLOR_FIELD, legend);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<WordCloudOptions>) {\n  // flow  G2 API\n  flow(geometry, meta, tooltip, legend, interaction, animation, theme, state)(params);\n}\n","import { registerShape, Util, Types, IGroup, ShapeAttrs } from '@antv/g2';\nimport { Tag } from '../types';\n\ntype Config = Types.ShapeInfo & { data: Tag };\n\nregisterShape('point', 'word-cloud', {\n  draw(cfg: Config, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const shape = group.addShape('text', {\n      attrs: {\n        ...getTextAttrs(cfg),\n        x: cx,\n        y: cy,\n      },\n    });\n    const rotate = cfg.data.rotate;\n    if (typeof rotate === 'number') {\n      Util.rotate(shape, (rotate * Math.PI) / 180);\n    }\n\n    return shape;\n  },\n});\n\nfunction getTextAttrs(cfg: Config): ShapeAttrs {\n  return {\n    fontSize: cfg.data.size,\n    text: cfg.data.text,\n    textAlign: 'center',\n    fontFamily: cfg.data.font,\n    fontWeight: cfg.data.weight,\n    fill: cfg.color || cfg.defaultStyle.stroke,\n    textBaseline: 'alphabetic',\n  };\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { WordCloudOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { processImageMask, transform } from './utils';\n// shape\nimport './shapes/word-cloud';\n\nexport type { WordCloudOptions };\n\nexport class WordCloud extends Plot<WordCloudOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<WordCloudOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'word-cloud';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    if (this.options.imageMask) {\n      this.render();\n    } else {\n      this.chart.changeData(transform({ chart: this.chart, options: this.options }));\n    }\n  }\n\n  /**\n   *  options \n   */\n  protected getDefaultOptions(): Partial<WordCloudOptions> {\n    return WordCloud.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  public render() {\n    return new Promise<void>((res) => {\n      const { imageMask } = this.options;\n\n      if (!imageMask) {\n        // \n        super.render();\n        res();\n        return;\n      }\n\n      const handler = (img: HTMLImageElement) => {\n        this.options = {\n          ...this.options,\n          imageMask: img || null,\n        };\n\n        // \n        super.render();\n        res();\n      };\n\n      processImageMask(imageMask).then(handler).catch(handler);\n    });\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<WordCloudOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      //  adaptor\n      // \n      this.execAdaptor();\n\n      // \n      // TODO: \n      window.setTimeout(() => {\n        // \n        super.triggerResize();\n      });\n    }\n  }\n}\n","import {\n  regressionLinear,\n  regressionExp,\n  regressionLoess,\n  regressionLog,\n  regressionPoly,\n  regressionPow,\n  regressionQuad,\n} from 'd3-regression';\nimport { isArray, get, isNumber } from '@antv/util';\nimport { View } from '@antv/g2';\nimport { getSplinePath } from '../../utils';\nimport { ScatterOptions } from './types';\n\nconst REGRESSION_MAP = {\n  exp: regressionExp,\n  linear: regressionLinear,\n  loess: regressionLoess,\n  log: regressionLog,\n  poly: regressionPoly,\n  pow: regressionPow,\n  quad: regressionQuad,\n};\n\ntype RenderOptions = {\n  view: View;\n  options: ScatterOptions;\n};\n\n/**\n * \n * @param {number} xBaseline\n * @param {number} yBaseline\n */\nexport function getQuadrantDefaultConfig(xBaseline: number, yBaseline: number) {\n  // \n  const textOffset = 10;\n  // \n  const defaultConfig: { [key: string]: any } = {\n    regionStyle: [\n      {\n        position: {\n          start: [xBaseline, 'max'],\n          end: ['max', yBaseline],\n        },\n        style: {\n          fill: '#d8d0c0',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: ['min', 'max'],\n          end: [xBaseline, yBaseline],\n        },\n        style: {\n          fill: '#a3dda1',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: ['min', yBaseline],\n          end: [xBaseline, 'min'],\n        },\n        style: {\n          fill: '#d8d0c0',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: [xBaseline, yBaseline],\n          end: ['max', 'min'],\n        },\n        style: {\n          fill: '#a3dda1',\n          opacity: 0.4,\n        },\n      },\n    ],\n    lineStyle: {\n      stroke: '#9ba29a',\n      lineWidth: 1,\n    },\n    labelStyle: [\n      {\n        position: ['max', yBaseline],\n        offsetX: -textOffset,\n        offsetY: -textOffset,\n        style: {\n          textAlign: 'right',\n          textBaseline: 'bottom',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['min', yBaseline],\n        offsetX: textOffset,\n        offsetY: -textOffset,\n        style: {\n          textAlign: 'left',\n          textBaseline: 'bottom',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['min', yBaseline],\n        offsetX: textOffset,\n        offsetY: textOffset,\n        style: {\n          textAlign: 'left',\n          textBaseline: 'top',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['max', yBaseline],\n        offsetX: -textOffset,\n        offsetY: textOffset,\n        style: {\n          textAlign: 'right',\n          textBaseline: 'top',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n    ],\n  };\n  return defaultConfig;\n}\n\nconst splinePath = (data: number[][], config: RenderOptions) => {\n  const {\n    view,\n    options: { xField, yField },\n  } = config;\n  const xScaleView = view.getScaleByField(xField);\n  const yScaleView = view.getScaleByField(yField);\n  const pathData = data.map((d: [number, number]) =>\n    view.getCoordinate().convert({ x: xScaleView.scale(d[0]), y: yScaleView.scale(d[1]) })\n  );\n  return getSplinePath(pathData, false);\n};\n\nexport const getPath = (config: RenderOptions) => {\n  const { options } = config;\n  const { xField, yField, data, regressionLine } = options;\n  const { type = 'linear', algorithm } = regressionLine;\n  let pathData: Array<[number, number]>;\n  if (algorithm) {\n    pathData = isArray(algorithm) ? algorithm : algorithm(data);\n  } else {\n    const reg = REGRESSION_MAP[type]()\n      .x((d) => d[xField])\n      .y((d) => d[yField]);\n    pathData = reg(data);\n  }\n  return splinePath(pathData, config);\n};\n\n/**\n *  meta: { min, max }  data.length === 1   y    x \n * @param options\n * @returns\n */\nexport const getMeta = (\n  options: Pick<ScatterOptions, 'meta' | 'xField' | 'yField' | 'data'>\n): ScatterOptions['meta'] => {\n  const { meta = {}, xField, yField, data } = options;\n  const xFieldValue = data[0][xField];\n  const yFieldValue = data[0][yField];\n  const xIsPositiveNumber = xFieldValue > 0;\n  const yIsPositiveNumber = yFieldValue > 0;\n\n  /**\n   *  min max scale \n   */\n  function getMetaMinMax(field: string, axis: 'x' | 'y') {\n    const fieldMeta = get(meta, [field]);\n\n    function getCustomValue(type: 'min' | 'max') {\n      return get(fieldMeta, type);\n    }\n\n    const range = {};\n\n    if (axis === 'x') {\n      if (isNumber(xFieldValue)) {\n        if (!isNumber(getCustomValue('min'))) {\n          range['min'] = xIsPositiveNumber ? 0 : xFieldValue * 2;\n        }\n\n        if (!isNumber(getCustomValue('max'))) {\n          range['max'] = xIsPositiveNumber ? xFieldValue * 2 : 0;\n        }\n      }\n\n      return range;\n    }\n\n    if (isNumber(yFieldValue)) {\n      if (!isNumber(getCustomValue('min'))) {\n        range['min'] = yIsPositiveNumber ? 0 : yFieldValue * 2;\n      }\n\n      if (!isNumber(getCustomValue('max'))) {\n        range['max'] = yIsPositiveNumber ? yFieldValue * 2 : 0;\n      }\n    }\n\n    return range;\n  }\n\n  return {\n    ...meta,\n    [xField]: {\n      ...meta[xField],\n      ...getMetaMinMax(xField, 'x'),\n    },\n    [yField]: {\n      ...meta[yField],\n      ...getMetaMinMax(yField, 'y'),\n    },\n  };\n};\n","import { isNumber } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign, pick } from '../../utils';\nimport { point } from '../../adaptor/geometries';\nimport { brushInteraction } from '../../adaptor/brush';\nimport { interaction, animation, theme, scale, annotation, slider, scrollbar } from '../../adaptor/common';\nimport { findGeometry, transformLabel } from '../../utils';\nimport { getQuadrantDefaultConfig, getPath, getMeta } from './util';\nimport { ScatterOptions } from './types';\n\n/**\n * \n *  data.length === 1   y    x \n * @param params\n * @returns params\n */\nexport function transformOptions(options: ScatterOptions): ScatterOptions {\n  const { data = [], xField, yField } = options;\n\n  if (data.length) {\n    // x y \n    let isOneX = true;\n    let isOneY = true;\n\n    let prev = data[0];\n    let curr;\n\n    for (let i = 1; i < data.length; i++) {\n      curr = data[i];\n\n      if (prev[xField] !== curr[xField]) {\n        isOneX = false;\n      }\n\n      if (prev[yField] !== curr[yField]) {\n        isOneY = false;\n      }\n\n      //  oneValue\n      if (!isOneX && !isOneY) {\n        break;\n      }\n\n      prev = curr;\n    }\n\n    const keys = [];\n    isOneX && keys.push(xField);\n    isOneY && keys.push(yField);\n\n    const meta = pick(getMeta(options), keys);\n\n    return deepAssign({}, options, { meta });\n  }\n\n  return options;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { data, type, color, shape, pointStyle, shapeField, colorField, xField, yField, sizeField } = options;\n  let { size } = options;\n\n  let { tooltip } = options;\n\n  if (sizeField) {\n    if (!size) {\n      size = [2, 8];\n    }\n    if (isNumber(size)) {\n      size = [size, size];\n    }\n  }\n\n  if (tooltip && !tooltip.fields) {\n    tooltip = {\n      ...tooltip,\n      fields: [xField, yField, colorField, sizeField, shapeField],\n    };\n  }\n  // \n  chart.data(data);\n\n  // geometry\n  point(\n    deepAssign({}, params, {\n      options: {\n        seriesField: colorField,\n        point: {\n          color,\n          shape,\n          size,\n          style: pointStyle,\n        },\n        tooltip,\n      },\n    })\n  );\n\n  const geometry = findGeometry(chart, 'point');\n\n  // \n  if (type) {\n    geometry.adjust(type);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  const newOptions = transformOptions(options);\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(deepAssign({}, params, { options: newOptions }));\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  chart.axis(xField, xAxis);\n  chart.axis(yField, yAxis);\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { legend, colorField, shapeField, sizeField, shapeLegend, sizeLegend } = options;\n\n  /** legend  false, ,  color  */\n  const showLegend = legend !== false;\n\n  if (colorField) {\n    chart.legend(colorField, showLegend ? legend : false);\n  }\n\n  //  shapeLegend,  legend\n  if (shapeField) {\n    if (shapeLegend) {\n      chart.legend(shapeField, shapeLegend);\n    } else {\n      chart.legend(shapeField, shapeLegend === false ? false : legend);\n    }\n  }\n\n  if (sizeField) {\n    chart.legend(sizeField, sizeLegend ? sizeLegend : false);\n  }\n\n  /**  shape  shapeLegend  undefined  */\n  /**  sizeField */\n  if (!showLegend && !shapeLegend && !sizeLegend) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const scatterGeometry = findGeometry(chart, 'point');\n\n  // label  false,   label\n  if (!label) {\n    scatterGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    scatterGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * annotation \n * -  annotation: quadrant()\n * @param params\n */\nfunction scatterAnnotation(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options } = params;\n  const { quadrant } = options;\n\n  const annotationOptions = [];\n\n  if (quadrant) {\n    const { xBaseline = 0, yBaseline = 0, labels, regionStyle, lineStyle } = quadrant;\n    const defaultConfig = getQuadrantDefaultConfig(xBaseline, yBaseline);\n    // \n    const quadrants = new Array(4).join(',').split(',');\n    quadrants.forEach((_: string, index: number) => {\n      annotationOptions.push(\n        {\n          type: 'region',\n          top: false,\n          ...defaultConfig.regionStyle[index].position,\n          style: deepAssign({}, defaultConfig.regionStyle[index].style, regionStyle?.[index]),\n        },\n        {\n          type: 'text',\n          top: true,\n          ...deepAssign({}, defaultConfig.labelStyle[index], labels?.[index]),\n        }\n      );\n    });\n    // \n    annotationOptions.push(\n      {\n        type: 'line',\n        top: false,\n        start: ['min', yBaseline],\n        end: ['max', yBaseline],\n        style: deepAssign({}, defaultConfig.lineStyle, lineStyle),\n      },\n      {\n        type: 'line',\n        top: false,\n        start: [xBaseline, 'min'],\n        end: [xBaseline, 'max'],\n        style: deepAssign({}, defaultConfig.lineStyle, lineStyle),\n      }\n    );\n  }\n\n  return flow(annotation(annotationOptions))(params);\n}\n\n// \nfunction regressionLine(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options, chart } = params;\n  const { regressionLine } = options;\n  if (regressionLine) {\n    const { style, top = false } = regressionLine;\n    const defaultStyle = {\n      stroke: '#9ba29a',\n      lineWidth: 2,\n      opacity: 0.5,\n    };\n    chart.annotation().shape({\n      top,\n      render: (container, view) => {\n        const group = container.addGroup({\n          id: `${chart.id}-regression-line`,\n          name: 'regression-line-group',\n        });\n        const path = getPath({\n          view,\n          options,\n        });\n        group.addShape('path', {\n          name: 'regression-line',\n          attrs: {\n            path,\n            ...defaultStyle,\n            ...style,\n          },\n        });\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip) {\n    chart.tooltip(tooltip);\n  } else if (tooltip === false) {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ScatterOptions>) {\n  // flow  G2 API\n  return flow(\n    geometry,\n    meta,\n    axis,\n    legend,\n    tooltip,\n    label,\n    //  interaction \n    brushInteraction,\n    slider,\n    scrollbar,\n    interaction,\n    scatterAnnotation,\n    animation,\n    theme,\n    regressionLine\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  size: 4,\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'xy',\n    },\n  },\n});\n","import { registerInteraction } from '@antv/g2';\n\nregisterInteraction('drag-move', {\n  start: [{ trigger: 'plot:mousedown', action: 'scale-translate:start' }],\n  processing: [\n    {\n      trigger: 'plot:mousemove',\n      action: 'scale-translate:translate',\n      throttle: { wait: 100, leading: true, trailing: false },\n    },\n  ],\n  end: [{ trigger: 'plot:mouseup', action: 'scale-translate:end' }],\n});\n","import { BRUSH_FILTER_EVENTS, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { ScatterOptions } from './types';\nimport { adaptor, transformOptions, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport './interactions';\n\nexport type { ScatterOptions };\n\nexport class Scatter extends Plot<ScatterOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ScatterOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'scatter';\n\n  constructor(container: string | HTMLElement, options: ScatterOptions) {\n    super(container, options);\n\n    //  brush  meta\n    this.on(VIEW_LIFE_CIRCLE.BEFORE_RENDER, (evt) => {\n      //  option\n      const { options, chart } = this;\n      if (evt.data?.source === BRUSH_FILTER_EVENTS.FILTER) {\n        const filteredData = this.chart.filterData(this.chart.getData());\n        meta({ chart, options: { ...options, data: filteredData } });\n      }\n\n      if (evt.data?.source === BRUSH_FILTER_EVENTS.RESET) {\n        meta({ chart, options });\n      }\n    });\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: ScatterOptions['data']) {\n    this.updateOption(transformOptions(deepAssign({}, this.options, { data })));\n    const { options, chart } = this;\n    meta({ chart, options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ScatterOptions> {\n    return adaptor;\n  }\n\n  protected getDefaultOptions() {\n    return Scatter.getDefaultOptions();\n  }\n}\n","import { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme, scale, annotation, legend } from '../../adaptor/common';\nimport { area, point, line } from '../../adaptor/geometries';\nimport { findGeometry, flow, transformLabel, deepAssign } from '../../utils';\nimport { RadarOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { data, lineStyle, color, point: pointOptions, area: areaOptions } = options;\n\n  chart.data(data);\n\n  //   geometry\n  const primary = deepAssign({}, params, {\n    options: {\n      line: {\n        style: lineStyle,\n        color,\n      },\n      point: pointOptions\n        ? {\n            color,\n            ...pointOptions,\n          }\n        : pointOptions,\n      area: areaOptions\n        ? {\n            color,\n            ...areaOptions,\n          }\n        : areaOptions,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n    },\n  });\n  //  Geometry\n  const second = deepAssign({}, primary, {\n    options: {\n      tooltip: false,\n    },\n  });\n  //  point.state,  state \n  const pointState = pointOptions?.state || options.state;\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  line(primary);\n  point(pointParams);\n  area(second);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * coord \n * @param params\n */\nfunction coord(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { radius, startAngle, endAngle } = options;\n\n  chart.coordinate('polar', {\n    radius,\n    startAngle,\n    endAngle,\n  });\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { xField, xAxis, yField, yAxis } = options;\n\n  chart.axis(xField, xAxis);\n  chart.axis(yField, yAxis);\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const geometry = findGeometry(chart, 'line');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RadarOptions>) {\n  // flow  G2 API\n  return flow(geometry, meta, theme, coord, axis, legend, tooltip, label, interaction, animation, annotation())(params);\n}\n","import { registerComponentController, Util, TooltipController, Action } from '@antv/g2';\nimport { isNil } from '@antv/util';\nimport { Point } from '../../../types';\n\nexport class RadarTooltipController extends TooltipController {\n  public get name(): string {\n    return 'radar-tooltip';\n  }\n\n  public getTooltipItems(point: Point) {\n    const { shared, title: cfgTitle } = this.getTooltipCfg();\n    const hintItems = super.getTooltipItems(point);\n\n    if (hintItems.length > 0) {\n      const geometry = this.view.geometries[0];\n      const dataArray = geometry.dataArray;\n      const title = hintItems[0].name;\n      const result = [];\n      dataArray.forEach((mappingData) => {\n        mappingData.forEach((d) => {\n          const items = Util.getTooltipItems(d, geometry);\n          const item = items[0];\n          if (!shared && item && item.name === title) {\n            const displayTitle = isNil(cfgTitle) ? title : cfgTitle;\n            result.push({ ...item, name: item.title, title: displayTitle });\n          } else if (shared && item) {\n            const displayTitle = isNil(cfgTitle) ? item.name || title : cfgTitle;\n            result.push({ ...item, name: item.title, title: displayTitle });\n          }\n        });\n      });\n\n      return result;\n    }\n    return [];\n  }\n}\nregisterComponentController('radar-tooltip', RadarTooltipController);\n\n/**\n *  tooltip  action\n */\nexport class RadarTooltipAction extends Action {\n  init() {\n    const { view } = this.context;\n    view.removeInteraction('tooltip');\n  }\n\n  public show() {\n    const { event } = this.context;\n    const controller = this.getTooltipController();\n    controller.showTooltip({ x: event.x, y: event.y });\n  }\n\n  public hide() {\n    const controller = this.getTooltipController();\n    controller.hideTooltip();\n  }\n\n  private getTooltipController() {\n    const { view } = this.context;\n    return view.getController('radar-tooltip') as TooltipController;\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { RadarTooltipAction } from './radar-tooltip-action';\n\nregisterAction('radar-tooltip', RadarTooltipAction);\nregisterInteraction('radar-tooltip', {\n  start: [{ trigger: 'plot:mousemove', action: 'radar-tooltip:show' }],\n  end: [{ trigger: 'plot:mouseleave', action: 'radar-tooltip:hide' }],\n});\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { Adaptor } from '../../core/adaptor';\nimport { RadarOptions } from './types';\nimport { adaptor } from './adaptor';\nimport './interactions';\n\nexport type { RadarOptions };\n\nexport class Radar extends Plot<RadarOptions> {\n  /**  */\n  public type: string = 'radar';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<RadarOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      xAxis: {\n        label: {\n          offset: 15,\n        },\n        grid: {\n          line: {\n            type: 'line',\n          },\n        },\n      },\n      yAxis: {\n        grid: {\n          line: {\n            type: 'circle',\n          },\n        },\n      },\n      legend: {\n        position: 'top',\n      },\n      tooltip: {\n        shared: true,\n        showCrosshairs: true,\n        showMarkers: true,\n        crosshairs: {\n          type: 'xy',\n          line: {\n            style: {\n              stroke: '#565656',\n              lineDash: [4],\n            },\n          },\n          follow: true,\n        },\n      },\n    });\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RadarOptions> {\n    return adaptor;\n  }\n}\n","import { Options, ShapeAttr, SizeAttr, StyleAttr } from '../../types';\nimport { LineOptions } from '../line/types';\nimport { ColumnOptions } from '../column/types';\n\nexport enum AxisType {\n  Left = 'Left',\n  Right = 'Right',\n}\n\nexport enum DualAxesGeometry {\n  Line = 'line',\n  Column = 'column',\n}\n\nexport interface PointConfig {\n  readonly shape?: ShapeAttr;\n  readonly size?: SizeAttr;\n  readonly style?: StyleAttr;\n}\n\ntype CommonGeometryOption = {\n  /**\n   * @title \n   */\n  readonly geometry?: string;\n  /**\n   * @title \n   */\n  readonly label?: Options['label'];\n  /**\n   * @title legend\n   */\n  readonly legend?: Options['legend'];\n  /**\n   * @title \n   */\n  readonly color?: Options['color'];\n  /**\n   * @title \n   * @default false\n   */\n  readonly isGroup?: boolean;\n  /**\n   * @title \n   * @description  seriesField\n   */\n  readonly groupField?: string;\n};\n\n// ,  LineOption \nexport type GeometryLineOption = Pick<\n  LineOptions,\n  'seriesField' | 'smooth' | 'connectNulls' | 'lineStyle' | 'point' | 'isStack' | 'stepType'\n> &\n  CommonGeometryOption;\n\n// \nexport type GeometryColumnOption = Pick<\n  ColumnOptions,\n  | 'seriesField'\n  | 'isGroup'\n  | 'isStack'\n  | 'isRange'\n  | 'isPercent'\n  | 'columnWidthRatio'\n  | 'marginRatio'\n  | 'columnStyle'\n  | 'pattern'\n> &\n  CommonGeometryOption;\n\nexport type GeometryOption = GeometryColumnOption | GeometryLineOption;\n\nexport type DualAxesOptions = Omit<Options, 'data' | 'yAxis' | 'color' | 'annotations'> & {\n  /**\n   * @title \n   * @description \n   */\n  readonly data: Array<Record<string, any>[]>;\n  /**\n   * @title  x \n   * @description x \n   */\n  readonly xField: string;\n  /**\n   * @title  y \n   * @description \n   */\n  readonly yField: string[];\n  /**\n   * @title  yAxis \n   * @description  object key  y \n   */\n  readonly yAxis?: Options['yAxis'][] | Record<string, Options['yAxis']>;\n  /**\n   * @title \n   */\n  readonly geometryOptions?: GeometryOption[];\n  /**\n   * @title  annotation \n   * @description object  field \n   */\n  readonly annotations?: Options['annotations'][] | Record<string, Options['annotations']>;\n};\n","export const LEFT_AXES_VIEW = 'left-axes-view';\nexport const RIGHT_AXES_VIEW = 'right-axes-view';\n\nexport const DEFAULT_YAXIS_CONFIG = {\n  nice: true,\n  label: {\n    autoHide: true,\n    autoRotate: false,\n  },\n};\n\nexport const DEFAULT_LEFT_YAXIS_CONFIG = {\n  ...DEFAULT_YAXIS_CONFIG,\n  position: 'left',\n};\n\nexport const DEFAULT_RIGHT_YAXIS_CONFIG = {\n  ...DEFAULT_YAXIS_CONFIG,\n  position: 'right',\n  grid: null,\n};\n","import { get, isArray } from '@antv/util';\nimport { Axis } from '../../../types/axis';\nimport { deepAssign } from '../../../utils';\nimport {\n  DualAxesOptions,\n  GeometryOption,\n  DualAxesGeometry,\n  GeometryLineOption,\n  GeometryColumnOption,\n  AxisType,\n} from '../types';\nimport { DEFAULT_LEFT_YAXIS_CONFIG, DEFAULT_RIGHT_YAXIS_CONFIG } from '../constant';\n\n/**\n *  GeometryOption  geometry  line\n */\nexport function isLine(geometryOption: GeometryOption): geometryOption is GeometryLineOption {\n  return get(geometryOption, 'geometry') === DualAxesGeometry.Line;\n}\n\n/**\n *  GeometryOption  geometry  Column\n */\nexport function isColumn(geometryOption: GeometryOption): geometryOption is GeometryColumnOption {\n  return get(geometryOption, 'geometry') === DualAxesGeometry.Column;\n}\n\n/**\n *  GeometryOption\n * @param geometryOption\n * @param axis\n */\nexport function getGeometryOption(xField: string, yField: string, geometryOption: GeometryOption): GeometryOption {\n  // \n  return isColumn(geometryOption)\n    ? deepAssign(\n        {},\n        {\n          geometry: DualAxesGeometry.Column,\n          label:\n            geometryOption.label && geometryOption.isRange\n              ? {\n                  content: (item: object) => {\n                    return item[yField]?.join('-');\n                  },\n                }\n              : undefined,\n        },\n        geometryOption\n      )\n    : {\n        geometry: DualAxesGeometry.Line,\n        ...geometryOption,\n      };\n}\n\n/**\n *   arr  obj   yAxisannotations\n *  yField  object \n * @param yField\n * @param transformAttribute\n */\nexport function transformObjectToArray(\n  yField: DualAxesOptions['yField'],\n  transformAttribute: Record<string, any> | any[]\n): any[] {\n  const [y1, y2] = yField;\n\n  if (isArray(transformAttribute)) {\n    // \n    const [a1, a2] = transformAttribute;\n    return [a1, a2];\n  }\n  const a1 = get(transformAttribute, y1);\n  const a2 = get(transformAttribute, y2);\n  return [a1, a2];\n}\n\n/**\n * \n * @param yAxis\n * @param axisType\n */\nexport function getYAxisWithDefault(yAxis: Axis, axisType: AxisType): Axis {\n  if (axisType === AxisType.Left) {\n    return yAxis === false ? false : deepAssign({}, DEFAULT_LEFT_YAXIS_CONFIG, yAxis);\n  } else if (axisType === AxisType.Right) {\n    return yAxis === false ? false : deepAssign({}, DEFAULT_RIGHT_YAXIS_CONFIG, yAxis);\n  }\n  return yAxis;\n}\n","import { reduce, get, isEmpty, isFunction } from '@antv/util';\nimport { View, Util } from '@antv/g2';\nimport { deepAssign, findGeometry } from '../../../utils';\nimport { GeometryOption } from '../types';\nimport { Legend } from '../../../types/legend';\nimport { isLine } from './option';\n\n/**\n *  view  legendItem seriesField \n * @param params\n */\nexport function getViewLegendItems(params: {\n  view: View;\n  yField: string;\n  geometryOption: GeometryOption;\n  legend: Legend;\n}) {\n  const { view, geometryOption, yField, legend } = params;\n  const userMarker = get(legend, 'marker');\n\n  const geometry = findGeometry(view, isLine(geometryOption) ? 'line' : 'interval');\n  if (!geometryOption.seriesField) {\n    const legendItemName = get(view, `options.scales.${yField}.alias`) || yField;\n    //  g2 \n    const colorAttribute = geometry.getAttribute('color');\n    let color = view.getTheme().defaultColor;\n    if (colorAttribute) {\n      color = Util.getMappingValue(colorAttribute, legendItemName, get(colorAttribute, ['values', 0], color));\n    }\n\n    const marker =\n      (isFunction(userMarker)\n        ? userMarker\n        : !isEmpty(userMarker) &&\n          deepAssign(\n            {},\n            {\n              style: {\n                stroke: color,\n                fill: color,\n              },\n            },\n            userMarker\n          )) ||\n      (isLine(geometryOption)\n        ? {\n            symbol: (x: number, y: number, r: number) => {\n              return [\n                ['M', x - r, y],\n                ['L', x + r, y],\n              ];\n            },\n            style: {\n              lineWidth: 2,\n              r: 6,\n              stroke: color,\n            },\n          }\n        : {\n            symbol: 'square',\n            style: {\n              fill: color,\n            },\n          });\n    return [\n      {\n        value: yField,\n        name: legendItemName,\n        marker,\n        isGeometry: true,\n        viewId: view.id,\n      },\n    ];\n  }\n\n  const attributes = geometry.getGroupAttributes();\n  return reduce(\n    attributes,\n    (items, attr) => {\n      const attrItems = Util.getLegendItems(view, geometry, attr, view.getTheme(), userMarker);\n      return items.concat(attrItems);\n    },\n    []\n  );\n}\n","import { each } from '@antv/util';\nimport { Geometry } from '@antv/g2';\nimport { Params } from '../../../core/adaptor';\nimport { point, line } from '../../../adaptor/geometries';\nimport { pick, deepAssign } from '../../../utils';\nimport { adaptor as columnAdaptor } from '../../column/adaptor';\nimport { GeometryOption } from '../types';\nimport { isLine, isColumn } from './option';\n\n/**\n * \n * @param params\n */\nexport function drawSingleGeometry<O extends { xField: string; yField: string; geometryOption: GeometryOption }>(\n  params: Params<O>\n): Params<O> {\n  const { options, chart } = params;\n  const { geometryOption } = options;\n  const { isStack, color, seriesField, groupField, isGroup } = geometryOption;\n\n  const FIELD_KEY = ['xField', 'yField'];\n  if (isLine(geometryOption)) {\n    // \n    line(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          line: {\n            color: geometryOption.color,\n            style: geometryOption.lineStyle,\n          },\n        },\n      })\n    );\n    // \n    point(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          point: geometryOption.point && {\n            color,\n            shape: 'circle',\n            ...geometryOption.point,\n          },\n        },\n      })\n    );\n    // adjust\n    const adjust = [];\n    if (isGroup) {\n      adjust.push({\n        type: 'dodge',\n        dodgeBy: groupField || seriesField,\n        customOffset: 0,\n      });\n    }\n    if (isStack) {\n      adjust.push({\n        type: 'stack',\n      });\n    }\n    if (adjust.length) {\n      each(chart.geometries, (g: Geometry) => {\n        g.adjust(adjust);\n      });\n    }\n  }\n\n  if (isColumn(geometryOption)) {\n    columnAdaptor(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          widthRatio: geometryOption.columnWidthRatio,\n          interval: {\n            ...pick(geometryOption, ['color']),\n            style: geometryOption.columnStyle,\n          },\n        },\n      })\n    );\n  }\n\n  return params;\n}\n","import { View } from '@antv/g2';\nimport { size, valuesOfKey } from '@antv/util';\nimport { isBetween } from '../../../utils';\n\n/**\n *  View  slider \n *  View ,  Slider  change  View\n * @param { View } view \n * @param { number[] } sliderValue \n * @returns void\n */\nexport const doSliderFilter = (view: View, sliderValue: [number, number]) => {\n  const [min, max] = sliderValue;\n  const data = view.getOptions().data;\n  const xScale = view.getXScale();\n  const dataSize = size(data);\n  if (!xScale || !dataSize) {\n    return;\n  }\n  const isHorizontal = true;\n  const values = valuesOfKey(data, xScale.field);\n  const xValues = isHorizontal ? values : values.reverse();\n  const xTickCount = size(xValues);\n  const minIndex = Math.floor(min * (xTickCount - 1));\n  const maxIndex = Math.floor(max * (xTickCount - 1));\n\n  //  x \n  view.filter(xScale.field, (value: any) => {\n    const idx: number = xValues.indexOf(value);\n    return idx > -1 ? isBetween(idx, minIndex, maxIndex) : true;\n  });\n  view.getRootView().render(true);\n};\n","import { each, findIndex, get, find, isObject, every, isEqual, isBoolean } from '@antv/util';\nimport { Scale, Types, Event } from '@antv/g2';\nimport {\n  theme as commonTheme,\n  animation as commonAnimation,\n  scale,\n  interaction as commonInteraction,\n  annotation as commonAnnotation,\n  limitInPlot as commonLimitInPlot,\n} from '../../adaptor/common';\nimport { percent } from '../../utils/transform/percent';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport { flow, deepAssign } from '../../utils';\nimport { findViewById } from '../../utils/view';\nimport { isColumn, getYAxisWithDefault, getGeometryOption, transformObjectToArray } from './util/option';\nimport { getViewLegendItems } from './util/legend';\nimport { drawSingleGeometry } from './util/geometry';\nimport { doSliderFilter } from './util/render-sider';\nimport { DualAxesOptions, AxisType, DualAxesGeometry } from './types';\nimport { LEFT_AXES_VIEW, RIGHT_AXES_VIEW } from './constant';\n\n/**\n * transformOptions\n * 1. get index getOptions:  appendPaddingsyncView \n * 2. get adpator transformOption: deepAssign \n *    2.1 defaultoption tooltiplegend\n *    2.2  options\n *    2.3  options  options yaxisGeometryOption deepAssign  assign \n *\n * @param params\n */\nexport function transformOptions(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { options } = params;\n  const { geometryOptions = [], xField, yField } = options;\n  const allLine = every(\n    geometryOptions,\n    ({ geometry }) => geometry === DualAxesGeometry.Line || geometry === undefined\n  );\n  return deepAssign(\n    {},\n    {\n      options: {\n        geometryOptions: [],\n        meta: {\n          [xField]: {\n            //  cat \n            type: 'cat',\n            // x  scale \n            sync: true,\n            // \n            range: allLine ? [0, 1] : undefined,\n          },\n        },\n        tooltip: {\n          showMarkers: allLine,\n          //  crosshairs\n          showCrosshairs: allLine,\n          shared: true,\n          crosshairs: {\n            type: 'x',\n          },\n        },\n        interactions: !allLine\n          ? [{ type: 'legend-visible-filter' }, { type: 'active-region' }]\n          : [{ type: 'legend-visible-filter' }],\n        legend: {\n          position: 'top-left',\n        },\n      },\n    },\n    params,\n    {\n      options: {\n        // yAxis\n        yAxis: transformObjectToArray(yField, options.yAxis),\n        // geometryOptions\n        geometryOptions: [\n          getGeometryOption(xField, yField[0], geometryOptions[0]),\n          getGeometryOption(xField, yField[1], geometryOptions[1]),\n        ],\n        // annotations\n        annotations: transformObjectToArray(yField, options.annotations),\n      },\n    }\n  );\n}\n\n/**\n *    view theme \n * @param params\n */\nfunction createViews(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { geometryOptions } = options;\n\n  const SORT_MAP = { line: 0, column: 1 };\n\n  // id\n  const geometries = [\n    { type: geometryOptions[0]?.geometry, id: LEFT_AXES_VIEW },\n    { type: geometryOptions[1]?.geometry, id: RIGHT_AXES_VIEW },\n  ];\n\n  //  view \n  geometries.sort((a, b) => -SORT_MAP[a.type] + SORT_MAP[b.type]).forEach((g) => chart.createView({ id: g.id }));\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { xField, yField, geometryOptions, data, tooltip } = options;\n\n  // id\n  const geometries = [\n    { ...geometryOptions[0], id: LEFT_AXES_VIEW, data: data[0], yField: yField[0] },\n    { ...geometryOptions[1], id: RIGHT_AXES_VIEW, data: data[1], yField: yField[1] },\n  ];\n\n  geometries.forEach((geometry) => {\n    const { id, data, yField } = geometry;\n    // \n    const isPercent = isColumn(geometry) && geometry.isPercent;\n    const formatData = isPercent ? percent(data, yField, xField, yField) : data;\n    const view = findViewById(chart, id).data(formatData);\n\n    const tooltipOptions = isPercent\n      ? {\n          formatter: (datum: Datum) => ({\n            name: datum[geometry.seriesField] || yField,\n            value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n          }),\n          ...tooltip,\n        }\n      : tooltip;\n\n    // \n    drawSingleGeometry({\n      chart: view,\n      options: {\n        xField,\n        yField,\n        tooltip: tooltipOptions,\n        geometryOption: geometry,\n      },\n    });\n  });\n  return params;\n}\n\nexport function color(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { geometryOptions } = options;\n  const themeColor = chart.getTheme()?.colors10 || [];\n\n  let start = 0;\n  /*  geometry  color\n   * 1.  geometryOptions  color drawGeometry \n   * 2.   color Geometry group scales theme color 10 \n   * 3.  group  view  N   concat  themeColor\n   * 4.  Geometry group scales color\n   * 5.  view  g2\n   */\n  chart.once('beforepaint', () => {\n    each(geometryOptions, (geometryOption, index) => {\n      const view = findViewById(chart, index === 0 ? LEFT_AXES_VIEW : RIGHT_AXES_VIEW);\n      if (geometryOption.color) return;\n      const groupScale = view.getGroupScales();\n      const count = get(groupScale, [0, 'values', 'length'], 1);\n      const color = themeColor.slice(start, start + count).concat(index === 0 ? [] : themeColor);\n      view.geometries.forEach((geometry) => {\n        if (geometryOption.seriesField) {\n          geometry.color(geometryOption.seriesField, color);\n        } else {\n          geometry.color(color[0]);\n        }\n      });\n      start += count;\n    });\n    chart.render(true);\n  });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  scale({\n    [xField]: xAxis,\n    [yField[0]]: yAxis[0],\n  })(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n\n  scale({\n    [xField]: xAxis,\n    [yField[1]]: yAxis[1],\n  })(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  const { xField, yField, xAxis, yAxis } = options;\n\n  chart.axis(xField, false);\n  chart.axis(yField[0], false);\n  chart.axis(yField[1], false);\n\n  //  View\n  leftView.axis(xField, xAxis);\n  leftView.axis(yField[0], getYAxisWithDefault(yAxis[0], AxisType.Left));\n\n  //  Y \n  rightView.axis(xField, false);\n  rightView.axis(yField[1], getYAxisWithDefault(yAxis[1], AxisType.Right));\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  // tooltip  getDefaultOption  undefined\n  chart.tooltip(tooltip);\n  //  view  tooltip shared  interaction active-region \n  // view  chart  shared\n  leftView.tooltip({\n    shared: true,\n  });\n  rightView.tooltip({\n    shared: true,\n  });\n  return params;\n}\n\n/**\n * interaction \n * @param params\n */\nexport function interaction(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * annotation \n * @param params\n */\nexport function annotation(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { annotations } = options;\n\n  const a1 = get(annotations, [0]);\n  const a2 = get(annotations, [1]);\n\n  commonAnnotation(a1)(\n    deepAssign({}, params, {\n      chart: findViewById(chart, LEFT_AXES_VIEW),\n      options: {\n        annotations: a1,\n      },\n    })\n  );\n  commonAnnotation(a2)(\n    deepAssign({}, params, {\n      chart: findViewById(chart, RIGHT_AXES_VIEW),\n      options: {\n        annotations: a2,\n      },\n    })\n  );\n  return params;\n}\n\nexport function theme(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  /*\n   *  view  axisline chart  legend)\n   *  chart   view  theme G2 theme geometry > view > chart \n   */\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n  commonTheme(params);\n\n  return params;\n}\n\nexport function animation(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n *  limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { yAxis } = options;\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, LEFT_AXES_VIEW),\n      options: {\n        yAxis: yAxis[0],\n      },\n    })\n  );\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, RIGHT_AXES_VIEW),\n      options: {\n        yAxis: yAxis[1],\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * legend \n *  custom-\n * @param params\n */\nexport function legend(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { legend, geometryOptions, yField, data } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (isObject(legend) && legend.custom === true) {\n    chart.legend(legend);\n  } else {\n    const leftLegend = get(geometryOptions, [0, 'legend'], legend);\n    const rightLegend = get(geometryOptions, [1, 'legend'], legend);\n    // \n    chart.once('beforepaint', () => {\n      const leftItems = data[0].length\n        ? getViewLegendItems({\n            view: leftView,\n            geometryOption: geometryOptions[0],\n            yField: yField[0],\n            legend: leftLegend,\n          })\n        : [];\n\n      const rightItems = data[1].length\n        ? getViewLegendItems({\n            view: rightView,\n            geometryOption: geometryOptions[1],\n            yField: yField[1],\n            legend: rightLegend,\n          })\n        : [];\n\n      chart.legend(\n        deepAssign({}, legend, {\n          custom: true,\n          // todo \n          // @ts-ignore\n          items: leftItems.concat(rightItems),\n        })\n      );\n    });\n\n    if (geometryOptions[0].seriesField) {\n      leftView.legend(geometryOptions[0].seriesField, leftLegend);\n    }\n    if (geometryOptions[1].seriesField) {\n      rightView.legend(geometryOptions[1].seriesField, rightLegend);\n    }\n\n    // \n    chart.on('legend-item:click', (evt) => {\n      const delegateObject = get(evt, 'gEvent.delegateObject', {});\n      if (delegateObject && delegateObject.item) {\n        const { value: field, isGeometry, viewId } = delegateObject.item;\n        // geometry  view.changeVisible\n        if (isGeometry) {\n          const idx = findIndex(yField, (yF: string) => yF === field);\n          if (idx > -1) {\n            const geometries = get(findViewById(chart, viewId), 'geometries');\n            each(geometries, (g) => {\n              g.changeVisible(!delegateObject.item.unchecked);\n            });\n          }\n        } else {\n          const legendItem = get(chart.getController('legend'), 'option.items', []);\n          // \n          each(chart.views, (view) => {\n            // \n            const groupScale = view.getGroupScales();\n            each(groupScale, (scale: Scale) => {\n              if (scale.values && scale.values.indexOf(field) > -1) {\n                view.filter(scale.field, (value) => {\n                  const curLegendItem: Types.LegendItem = find(\n                    legendItem,\n                    (item: Types.LegendItem) => item.value === value\n                  );\n                  //  legend  unchecked \n                  return !curLegendItem.unchecked;\n                });\n              }\n            });\n            chart.render(true);\n          });\n        }\n      }\n    });\n  }\n\n  return params;\n}\n\n/**\n *  slider \n * @param params\n */\nexport function slider(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { slider } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  if (slider) {\n    //  View\n    leftView.option('slider', slider);\n    //  slider   View \n    leftView.on('slider:valuechanged', (evt: Event) => {\n      const {\n        event: { value, originValue },\n      } = evt;\n      if (isEqual(value, originValue)) {\n        return;\n      }\n      doSliderFilter(rightView, value);\n    });\n    chart.once('afterpaint', () => {\n      // \n      if (!isBoolean(slider)) {\n        const { start, end } = slider;\n        if (start || end) {\n          doSliderFilter(rightView, [start, end]);\n        }\n      }\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  // transformOptions color legend  beforepaint\n  return flow(\n    transformOptions,\n    createViews,\n    // \n    theme,\n    geometry,\n    meta,\n    axis,\n    limitInPlot,\n    tooltip,\n    interaction,\n    annotation,\n    animation,\n    color,\n    legend,\n    slider\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { DualAxesOptions } from './types';\nimport { adaptor } from './adaptor';\n\nexport type { DualAxesOptions };\n\nexport class DualAxes extends Plot<DualAxesOptions> {\n  /** :  */\n  public type: string = 'dual-axes';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<DualAxesOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      yAxis: [],\n      syncViewPadding: true,\n    });\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<DualAxesOptions> {\n    return adaptor;\n  }\n}\n","import { get } from '@antv/util';\n\nexport const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\n\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showTitle: false,\n  shared: true,\n  showMarkers: false,\n  customContent: (x: string, data: any[]) => `${get(data, [0, 'data', 'y'], 0)}`, // \n  containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n  itemTpl: '<span>{value}</span>',\n  domStyles: {\n    'g2-tooltip': {\n      padding: '2px 4px',\n      fontSize: '10px',\n    },\n  },\n  showCrosshairs: true,\n  crosshairs: {\n    type: 'x' as const,\n  },\n};\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  animation: {},\n};\n","import { map } from '@antv/util';\n\nexport function getTinyData(data: number[]) {\n  return map(data || [], (y: number, x: number) => ({ x: `${x}`, y }));\n}\n","import { theme, scale, animation, annotation, tooltip, pattern } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { area, line, point } from '../../adaptor/geometries';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { adjustYMetaByZero } from '../../utils/data';\nimport { TinyAreaOptions } from './types';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyAreaOptions>): Params<TinyAreaOptions> {\n  const { chart, options } = params;\n  const { data, color, areaStyle, point: pointOptions, line: lineOptions } = options;\n  const pointState = pointOptions?.state;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  const primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      area: { color, style: areaStyle },\n      line: lineOptions,\n      point: pointOptions,\n    },\n  });\n  const second = deepAssign({}, primary, { options: { tooltip: false } });\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  // area geometry \n  area(primary);\n  line(second);\n  point(pointParams);\n\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<TinyAreaOptions>): Params<TinyAreaOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, data } = options;\n  const seriesData = getTinyData(data);\n\n  return flow(\n    scale(\n      {\n        [X_FIELD]: xAxis,\n        [Y_FIELD]: yAxis,\n      },\n      {\n        [X_FIELD]: {\n          type: 'cat',\n        },\n        [Y_FIELD]: adjustYMetaByZero(seriesData, Y_FIELD),\n      }\n    )\n  )(params);\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyAreaOptions>) {\n  return flow(pattern('areaStyle'), geometry, meta, tooltip, theme, animation, annotation())(params);\n}\n","import { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { theme, animation, annotation, tooltip } from '../../adaptor/common';\nimport { line, point } from '../../adaptor/geometries';\nimport { meta } from '../tiny-area/adaptor';\nimport { getTinyData } from './utils';\nimport { TinyLineOptions } from './types';\nimport { X_FIELD, Y_FIELD } from './constants';\n\nexport { meta };\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyLineOptions>): Params<TinyLineOptions> {\n  const { chart, options } = params;\n  const { data, color, lineStyle, point: pointMapping } = options;\n\n  const pointState = pointMapping?.state;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  // line geometry \n  const primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      line: {\n        color,\n        style: lineStyle,\n      },\n      point: pointMapping,\n    },\n  });\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  line(primary);\n  point(pointParams);\n\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyLineOptions>) {\n  return flow(geometry, meta, theme, tooltip, animation, annotation())(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { TinyLineOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getTinyData } from './utils';\n\nexport type { TinyLineOptions };\n\nexport class TinyLine extends Plot<TinyLineOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyLineOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-line';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyLineOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyLine.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyLineOptions> {\n    return adaptor;\n  }\n}\n","import { theme, animation, annotation, tooltip, pattern } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { meta } from '../tiny-area/adaptor';\nimport { TinyColumnOptions } from './types';\n\nexport { meta };\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyColumnOptions>): Params<TinyColumnOptions> {\n  const { chart, options } = params;\n  const { data, color, columnStyle, columnWidthRatio } = options;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: columnStyle,\n        color,\n      },\n    },\n  });\n  interval(p);\n\n  chart.axis(false);\n  chart.legend(false);\n  chart.interaction('element-active');\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyColumnOptions>) {\n  return flow(theme, pattern('columnStyle'), geometry, meta, tooltip, animation, annotation())(params);\n}\n","import { get } from '@antv/util';\n\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showTitle: false,\n  shared: true,\n  showMarkers: false,\n  customContent: (x: string, data: any[]) => `${get(data, [0, 'data', 'y'], 0)}`, // \n  containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n  itemTpl: '<span>{value}</span>',\n  domStyles: {\n    'g2-tooltip': {\n      padding: '2px 4px',\n      fontSize: '10px',\n    },\n  },\n};\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  animation: {},\n};\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getTinyData } from '../tiny-line/utils';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { TinyColumnOptions } from './types';\n\nexport type { TinyColumnOptions };\n\nexport class TinyColumn extends Plot<TinyColumnOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyColumnOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-column';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyColumnOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyColumn.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyColumnOptions> {\n    return adaptor;\n  }\n}\n","import { DEFAULT_TOOLTIP_OPTIONS } from '../tiny-line/constants';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  // \n  color: 'l(90) 0:#E5EDFE 1:#ffffff',\n  areaStyle: {\n    fillOpacity: 0.6,\n  },\n  line: {\n    size: 1,\n    color: '#5B8FF9',\n  },\n  animation: {},\n};\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getTinyData } from '../tiny-line/utils';\nimport { TinyAreaOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { TinyAreaOptions };\n\nexport class TinyArea extends Plot<TinyAreaOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyAreaOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-area';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyAreaOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyArea.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyAreaOptions> {\n    return adaptor;\n  }\n}\n","import { clone, sortBy, valuesOfKey, getRange, each, hasKey, groupBy, isEmpty } from '@antv/util';\nimport { Data } from '../../types';\n\ntype StatisticData = {\n  range: Array<number>;\n  count: number;\n};\ntype StatisticBin = {\n  [key: string]: StatisticData;\n};\n\n//  range\nfunction getBinKey(value: number, binWidth: number, binNumber?: number): [number, number] {\n  // \n  if (binNumber === 1) {\n    return [0, binWidth];\n  }\n  const index = Math.floor(value / binWidth);\n  return [binWidth * index, binWidth * (index + 1)];\n}\n\n//  sturges \nfunction sturges(values: Array<number>): number {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n/**\n * \n * @param data\n * @param binField\n * @param binWidth\n * @param binNumber\n * @param stackField\n */\nexport function binHistogram(data: Data, binField: string, binWidth: number, binNumber?: number, stackField?: string) {\n  const originData_copy = clone(data);\n\n  //  binField \n  sortBy(originData_copy, binField);\n\n  //  binField  range\n  const values = valuesOfKey(originData_copy, binField);\n  const range = getRange(values);\n  const rangeWidth = range.max - range.min;\n\n  //  binWidth binNumber  binWidth \n  let _binWidth = binWidth;\n  if (!binWidth && binNumber) {\n    _binWidth = binNumber > 1 ? rangeWidth / (binNumber - 1) : range.max;\n  }\n  //  binWidth  binNumber  Sturges formula  binWidth\n  if (!binWidth && !binNumber) {\n    const _defaultBinNumber = sturges(values);\n    _binWidth = rangeWidth / _defaultBinNumber;\n  }\n  //  key - StatisticData \n  const bins: StatisticBin = {};\n  const groups = groupBy(originData_copy, stackField);\n  //  stackField \n  if (isEmpty(groups)) {\n    each(originData_copy, (data: any) => {\n      const value = data[binField];\n      const bin = getBinKey(value, _binWidth, binNumber);\n      const binKey = `${bin[0]}-${bin[1]}`;\n      if (!hasKey(bins, binKey)) {\n        bins[binKey] = { range: bin, count: 0 };\n      }\n      bins[binKey].count += 1;\n    });\n  } else {\n    Object.keys(groups).forEach((groupKey: string) => {\n      each(groups[groupKey], (data: any) => {\n        const value = data[binField];\n        const bin = getBinKey(value, _binWidth, binNumber);\n        const binKey = `${bin[0]}-${bin[1]}`;\n        const groupKeyBinKey = `${binKey}-${groupKey}`;\n        if (!hasKey(bins, groupKeyBinKey)) {\n          bins[groupKeyBinKey] = { range: bin, count: 0 };\n          bins[groupKeyBinKey][stackField] = groupKey;\n        }\n        bins[groupKeyBinKey].count += 1;\n      });\n    });\n  }\n  //  plotData \n  const plotData: Array<StatisticData> = [];\n  each(bins, (bin: StatisticData) => {\n    plotData.push(bin);\n  });\n  return plotData;\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**  xField */\nexport const HISTOGRAM_X_FIELD = 'range';\n/**  yField */\nexport const HISTOGRAM_Y_FIELD = 'count';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  columnStyle: {\n    stroke: '#FFFFFF',\n  },\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme, scale, state } from '../../adaptor/common';\nimport { pattern } from '../../adaptor/pattern';\nimport { findGeometry, deepAssign } from '../../utils';\nimport { flow, transformLabel } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { binHistogram } from '../../utils/transform/histogram';\nimport { HistogramOptions } from './types';\nimport { HISTOGRAM_X_FIELD, HISTOGRAM_Y_FIELD } from './constant';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { data, binField, binNumber, binWidth, color, stackField, legend, columnStyle } = options;\n\n  // \n  const plotData = binHistogram(data, binField, binWidth, binNumber, stackField);\n\n  chart.data(plotData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: HISTOGRAM_X_FIELD,\n      yField: HISTOGRAM_Y_FIELD,\n      seriesField: stackField,\n      isStack: true,\n      interval: {\n        color,\n        style: columnStyle,\n      },\n    },\n  });\n\n  interval(p);\n\n  // \n  if (legend && stackField) {\n    chart.legend(stackField, legend);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { options } = params;\n  const { xAxis, yAxis } = options;\n\n  return flow(\n    scale({\n      [HISTOGRAM_X_FIELD]: xAxis,\n      [HISTOGRAM_Y_FIELD]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(HISTOGRAM_X_FIELD, false);\n  } else {\n    chart.axis(HISTOGRAM_X_FIELD, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(HISTOGRAM_Y_FIELD, false);\n  } else {\n    chart.axis(HISTOGRAM_Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [HISTOGRAM_Y_FIELD],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<HistogramOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('columnStyle'),\n    geometry,\n    meta,\n    axis,\n    state,\n    label,\n    tooltip,\n    interaction,\n    animation\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { binHistogram } from '../../utils/transform/histogram';\nimport { HistogramOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { HistogramOptions };\n\nexport class Histogram extends Plot<HistogramOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<HistogramOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'histogram';\n\n  public changeData(data: HistogramOptions['data']) {\n    this.updateOption({ data });\n\n    const { binField, binNumber, binWidth, stackField } = this.options;\n    this.chart.changeData(binHistogram(data, binField, binWidth, binNumber, stackField));\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions() {\n    return Histogram.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<HistogramOptions> {\n    return adaptor;\n  }\n}\n","export const DEFAULT_COLOR = ['#FAAD14', '#E8EDF3'];\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0.2,\n  color: DEFAULT_COLOR,\n  animation: {},\n};\n","import { clamp } from '@antv/util';\nimport { isRealNumber } from '../../utils/number';\n\n/**\n * \n */\nexport function getProgressData(percent: number) {\n  const clampPercent = clamp(isRealNumber(percent) ? percent : 0, 0, 1);\n  return [\n    {\n      type: 'current',\n      percent: clampPercent,\n    },\n    {\n      type: 'target',\n      percent: 1 - clampPercent,\n    },\n  ];\n}\n","import { isString } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { scale, animation, theme, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { ProgressOptions } from './types';\nimport { DEFAULT_COLOR } from './constants';\nimport { getProgressData } from './utils';\n\n/**\n * \n * @param params\n */\nexport function geometry(params: Params<ProgressOptions>): Params<ProgressOptions> {\n  const { chart, options } = params;\n  const { percent, progressStyle, color, barWidthRatio } = options;\n\n  chart.data(getProgressData(percent));\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: '1',\n      yField: 'percent',\n      seriesField: 'type',\n      isStack: true,\n      widthRatio: barWidthRatio,\n      interval: {\n        style: progressStyle,\n        color: isString(color) ? [color, DEFAULT_COLOR[1]] : color,\n      },\n      args: {\n        zIndexReversed: true,\n        sortZIndex: true,\n      },\n    },\n  });\n\n  interval(p);\n\n  // \n  chart.tooltip(false);\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * other \n * @param params\n */\nfunction coordinate(params: Params<ProgressOptions>): Params<ProgressOptions> {\n  const { chart } = params;\n\n  chart.coordinate('rect').transpose();\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ProgressOptions>) {\n  // @ts-ignore\n  return flow(geometry, scale({}), coordinate, animation, theme, annotation())(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { ProgressOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getProgressData } from './utils';\n\nexport type { ProgressOptions };\n\nexport class Progress extends Plot<ProgressOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ProgressOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'process';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.updateOption({ percent });\n    this.chart.changeData(getProgressData(percent));\n  }\n\n  protected getDefaultOptions() {\n    return Progress.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ProgressOptions> {\n    return adaptor;\n  }\n}\n","import { get, isNil } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, renderStatistic } from '../../utils';\nimport { scale, animation, theme, annotation } from '../../adaptor/common';\nimport { geometry } from '../progress/adaptor';\nimport { RingProgressOptions } from './types';\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<RingProgressOptions>): Params<RingProgressOptions> {\n  const { chart, options } = params;\n  const { innerRadius, radius } = options;\n\n  // coordinate\n  chart.coordinate('theta', {\n    innerRadius,\n    radius,\n  });\n\n  return params;\n}\n\n/**\n * statistic \n * @param params\n */\nexport function statistic(params: Params<RingProgressOptions>, updated?: boolean): Params<RingProgressOptions> {\n  const { chart, options } = params;\n  const { innerRadius, statistic, percent, meta } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n\n  /**   */\n  if (innerRadius && statistic) {\n    const metaFormatter = get(meta, ['percent', 'formatter']) || ((v) => `${(v * 100).toFixed(2)}%`);\n    let contentOpt = statistic.content;\n    if (contentOpt) {\n      contentOpt = deepAssign({}, contentOpt, {\n        content: !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(percent),\n      });\n    }\n    renderStatistic(\n      chart,\n      { statistic: { ...statistic, content: contentOpt }, plotType: 'ring-progress' },\n      { percent }\n    );\n  }\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RingProgressOptions>) {\n  return flow(geometry, scale({}), coordinate, statistic, animation, theme, annotation())(params);\n}\n","/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0.2,\n  innerRadius: 0.8,\n  radius: 0.98,\n  color: ['#FAAD14', '#E8EDF3'],\n  statistic: {\n    title: false as const,\n    content: {\n      style: {\n        fontSize: '14px',\n        fontWeight: 300,\n        fill: '#4D4D4D',\n        textAlign: 'center' as const,\n        textBaseline: 'middle' as const,\n      },\n    },\n  },\n  animation: {},\n};\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getProgressData } from '../progress/utils';\nimport { RingProgressOptions } from './types';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { RingProgressOptions };\n\nexport class RingProgress extends Plot<RingProgressOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<RingProgressOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'ring-process';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    this.updateOption({ percent });\n\n    this.chart.data(getProgressData(percent));\n    // todo  G2  afterrender  annotations\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  protected getDefaultOptions() {\n    return RingProgress.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RingProgressOptions> {\n    return adaptor;\n  }\n}\n","import { get } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry } from '../../utils';\nimport { flow, transformLabel } from '../../utils';\nimport { tooltip, interaction, animation, theme, scale, annotation, state, pattern } from '../../adaptor/common';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { HeatmapOptions } from './types';\n\nfunction geometry(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { data, type, xField, yField, colorField, sizeField, sizeRatio, shape, color, tooltip, heatmapStyle } = options;\n\n  chart.data(data);\n  let geometryType = 'polygon';\n  if (type === 'density') {\n    geometryType = 'heatmap';\n  }\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, colorField]);\n\n  /**\n   * The ratio between the actual size and the max available size, must be in range `[0,1]`.\n   *\n   * If the `sizeRatio` attribute is undefined or it exceeds the range,\n   * `checkedSizeRatio` would be set to 1 as default.\n   */\n  let checkedSizeRatio = 1;\n  if (sizeRatio || sizeRatio === 0) {\n    if (!shape && !sizeField) {\n      console.warn('sizeRatio is not in effect: Must define shape or sizeField first');\n    } else if (sizeRatio < 0 || sizeRatio > 1) {\n      console.warn('sizeRatio is not in effect: It must be a number in [0,1]');\n    } else {\n      checkedSizeRatio = sizeRatio;\n    }\n  }\n\n  geometryAdaptor(\n    deepAssign({}, params, {\n      options: {\n        type: geometryType,\n        colorField,\n        tooltipFields: fields,\n        shapeField: sizeField || '',\n        label: undefined,\n        mapping: {\n          tooltip: formatter,\n          shape:\n            shape &&\n            (sizeField\n              ? (dautm) => {\n                  const field = data.map((row) => row[sizeField]);\n                  const min = Math.min(...field);\n                  const max = Math.max(...field);\n                  return [shape, (get(dautm, sizeField) - min) / (max - min), checkedSizeRatio];\n                }\n              : () => [shape, 1, checkedSizeRatio]),\n          color: color || (colorField && chart.getTheme().sequenceColors.join('-')),\n          style: heatmapStyle,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { legend, colorField, sizeField, sizeLegend } = options;\n\n  /** legend  false, ,  color  */\n  const showLegend = legend !== false;\n\n  if (colorField) {\n    chart.legend(colorField, showLegend ? legend : false);\n  }\n\n  // :  sizeField  sizeLegend.  legend \n  if (sizeField) {\n    chart.legend(sizeField, sizeLegend === undefined ? legend : sizeLegend);\n  }\n\n  /**  sizeField */\n  if (!showLegend && !sizeLegend) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * fixme \n * \n * @param params\n */\nfunction label(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { label, colorField, type } = options;\n\n  const geometry = findGeometry(chart, type === 'density' ? 'heatmap' : 'polygon');\n\n  if (!label) {\n    geometry.label(false);\n  } else if (colorField) {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [colorField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction coordinate(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { coordinate, reflect } = options;\n\n  if (coordinate) {\n    chart.coordinate({\n      type: coordinate.type || 'rect',\n      cfg: coordinate.cfg,\n    });\n  }\n\n  if (reflect) {\n    chart.coordinate().reflect(reflect);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<HeatmapOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('heatmapStyle'),\n    meta,\n    coordinate,\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    label,\n    annotation(),\n    interaction,\n    animation,\n    state\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  type: 'polygon',\n  legend: false,\n  coordinate: {\n    type: 'rect',\n  },\n  xAxis: {\n    tickLine: null,\n    line: null,\n    grid: {\n      alignTick: false,\n      line: {\n        style: {\n          lineWidth: 1,\n          lineDash: null,\n          stroke: '#f0f0f0',\n        },\n      },\n    },\n  },\n  yAxis: {\n    grid: {\n      alignTick: false,\n      line: {\n        style: {\n          lineWidth: 1,\n          lineDash: null,\n          stroke: '#f0f0f0',\n        },\n      },\n    },\n  },\n});\n","import { registerShape, Types, IGroup } from '@antv/g2';\n\nregisterShape('polygon', 'circle', {\n  draw(cfg: Types.ShapeInfo, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const points = this.parsePoints(cfg.points);\n    const width = Math.abs(points[2].x - points[1].x);\n    const height = Math.abs(points[1].y - points[0].y);\n    const maxRadius = Math.min(width, height) / 2;\n\n    const value = Number(cfg.shape[1]);\n    const sizeRatio = Number(cfg.shape[2]);\n    const radiusRatio = Math.sqrt(sizeRatio);\n    const radius = maxRadius * radiusRatio * Math.sqrt(value);\n    const fill = cfg.style?.fill || cfg.color || cfg.defaultStyle?.fill;\n    const polygon = group.addShape('circle', {\n      attrs: {\n        x: cx,\n        y: cy,\n        r: radius,\n        ...cfg.defaultStyle,\n        ...cfg.style,\n        fill,\n      },\n    });\n    return polygon;\n  },\n});\n","import { registerShape, Types, IGroup } from '@antv/g2';\n\nregisterShape('polygon', 'square', {\n  draw(cfg: Types.ShapeInfo, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const points = this.parsePoints(cfg.points);\n    const width = Math.abs(points[2].x - points[1].x);\n    const height = Math.abs(points[1].y - points[0].y);\n    const maxSideLength = Math.min(width, height);\n\n    const value = Number(cfg.shape[1]);\n    const sizeRatio = Number(cfg.shape[2]);\n    const lenRatio = Math.sqrt(sizeRatio);\n    const sideLength = maxSideLength * lenRatio * Math.sqrt(value);\n    const fill = cfg.style?.fill || cfg.color || cfg.defaultStyle?.fill;\n    const polygon = group.addShape('rect', {\n      attrs: {\n        x: cx - sideLength / 2,\n        y: cy - sideLength / 2,\n        width: sideLength,\n        height: sideLength,\n        ...cfg.defaultStyle,\n        ...cfg.style,\n        fill,\n      },\n    });\n    return polygon;\n  },\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { HeatmapOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n// registered shapes\nimport './shapes/circle';\nimport './shapes/square';\n\nexport type { HeatmapOptions };\n\nexport class Heatmap extends Plot<HeatmapOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<HeatmapOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'heatmap';\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<HeatmapOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Heatmap.getDefaultOptions();\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\nexport const BOX_RANGE = '$$range$$';\nexport const BOX_RANGE_ALIAS = 'low-q1-median-q3-high';\n\nexport const BOX_SYNC_NAME = '$$y_outliers$$';\n\nexport const OUTLIERS_VIEW_ID = 'outliers_view';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  meta: {\n    [BOX_RANGE]: { min: 0, alias: BOX_RANGE_ALIAS },\n  },\n\n  // \n  interactions: [{ type: 'active-region' }],\n\n  //  tooltips  markers\n  tooltip: {\n    showMarkers: false,\n    shared: true,\n  },\n  boxStyle: {\n    lineWidth: 1,\n  },\n});\n","import { map } from '@antv/util';\nimport { BOX_RANGE } from './constant';\nimport { BoxOptions } from './types';\n\n/**\n * @desc  box ,yField,datadata,data\n * @param data\n * @param yField\n */\nexport const transformData = (data: BoxOptions['data'], yField: BoxOptions['yField']) => {\n  let newData = data;\n  // formate data when `yField` is Array\n  if (Array.isArray(yField)) {\n    const [low, q1, median, q3, high] = yField;\n    newData = map(data, (obj) => {\n      obj[BOX_RANGE] = [obj[low], obj[q1], obj[median], obj[q3], obj[high]];\n      return obj;\n    });\n  }\n\n  return newData;\n};\n","import { isArray } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, tooltip } from '../../adaptor/common';\nimport { point, schema } from '../../adaptor/geometries';\nimport { flow, pick, deepAssign } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { BoxOptions } from './types';\nimport { BOX_RANGE, BOX_SYNC_NAME, OUTLIERS_VIEW_ID } from './constant';\nimport { transformData } from './utils';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xField, yField, groupField, color, tooltip, boxStyle } = options;\n\n  chart.data(transformData(options.data, yField));\n\n  const yFieldName = isArray(yField) ? BOX_RANGE : yField;\n  const rawFields = yField ? (isArray(yField) ? yField : [yField]) : [];\n\n  let tooltipOptions = tooltip;\n  if (tooltipOptions !== false) {\n    tooltipOptions = deepAssign({}, { fields: isArray(yField) ? yField : [] }, tooltipOptions);\n  }\n\n  const { ext } = schema(\n    deepAssign({}, params, {\n      options: {\n        xField,\n        yField: yFieldName,\n        seriesField: groupField,\n        tooltip: tooltipOptions,\n        rawFields,\n        //  label\n        label: false,\n        schema: {\n          shape: 'box',\n          color,\n          style: boxStyle,\n        },\n      },\n    })\n  );\n\n  if (groupField) {\n    ext.geometry.adjust('dodge');\n  }\n\n  return params;\n}\n\n/**\n *  view\n */\nfunction outliersPoint(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xField, data, outliersField, outliersStyle, padding, label } = options;\n\n  if (!outliersField) return params;\n\n  const outliersView = chart.createView({ padding, id: OUTLIERS_VIEW_ID });\n  const outliersViewData = data.reduce((ret, datum) => {\n    const outliersData = datum[outliersField];\n    outliersData.forEach((d) => ret.push({ ...datum, [outliersField]: d }));\n    return ret;\n  }, []) as Types.Datum[];\n\n  outliersView.data(outliersViewData);\n  point({\n    chart: outliersView,\n    options: {\n      xField,\n      yField: outliersField,\n      point: { shape: 'circle', style: outliersStyle },\n      label,\n    },\n  });\n\n  outliersView.axis(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis, xField, yField, outliersField } = options;\n  const yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n\n  let baseMeta = {};\n\n  // make yField and outliersField share y mate\n  if (outliersField) {\n    const syncName = BOX_SYNC_NAME;\n    baseMeta = {\n      [outliersField]: { sync: syncName, nice: true },\n      [yFieldName]: { sync: syncName, nice: true },\n    };\n  }\n\n  const scales = deepAssign(baseMeta, meta, {\n    [xField]: pick(xAxis, AXIS_META_CONFIG_KEYS),\n    [yFieldName]: pick(yAxis, AXIS_META_CONFIG_KEYS),\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n  const yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(BOX_RANGE, false);\n  } else {\n    chart.axis(yFieldName, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { legend, groupField } = options;\n\n  if (groupField) {\n    if (legend) {\n      chart.legend(groupField, legend);\n    } else {\n      // Grouped Box Chart default has legend, and it's position is `bottom`\n      chart.legend(groupField, { position: 'bottom' });\n    }\n  } else {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<BoxOptions>) {\n  return flow(field, outliersPoint, meta, axis, legend, tooltip, interaction, animation, theme)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { BoxOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { transformData } from './utils';\nimport { DEFAULT_OPTIONS, OUTLIERS_VIEW_ID } from './constant';\nexport type { BoxOptions };\n\nexport class Box extends Plot<BoxOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<BoxOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'box';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    const { yField } = this.options;\n\n    const outliersView = this.chart.views.find((v) => v.id === OUTLIERS_VIEW_ID);\n    if (outliersView) {\n      outliersView.data(data);\n    }\n\n    this.chart.changeData(transformData(data, yField));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<BoxOptions> {\n    return Box.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<BoxOptions> {\n    return adaptor;\n  }\n}\n","// from https://github.com/simple-statistics\n\n/**\n * This is the internal implementation of quantiles: when you know\n * that the order is sorted, you don't need to re-sort it, and the computations\n * are faster.\n *\n * @param {Array<number>} x sample of one or more data points\n * @param {number} p desired quantile: a number between 0 to 1, inclusive\n * @returns {number} quantile value\n * @throws {Error} if p ix outside of the range from 0 to 1\n * @throws {Error} if x is empty\n * @example\n * quantileSorted([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nexport function quantileSorted(x: number[], p: number) {\n  const idx = x.length * p;\n  if (x.length === 0) {\n    throw new Error('quantile requires at least one data point.');\n  } else if (p < 0 || p > 1) {\n    throw new Error('quantiles must be between 0 and 1');\n  } else if (p === 1) {\n    // If p is 1, directly return the last element\n    return x[x.length - 1];\n  } else if (p === 0) {\n    // If p is 0, directly return the first element\n    return x[0];\n  } else if (idx % 1 !== 0) {\n    // If p is not integer, return the next element in array\n    return x[Math.ceil(idx) - 1];\n  } else if (x.length % 2 === 0) {\n    // If the list has even-length, we'll take the average of this number\n    // and the next value, if there is one\n    return (x[idx - 1] + x[idx]) / 2;\n  } else {\n    // Finally, in the simple case of an integer value\n    // with an odd-length list, return the x value at the index.\n    return x[idx];\n  }\n}\n\n/**\n * \n * @param arr T[]\n * @param i number\n * @param j number\n */\nexport function swap<T = any>(arr: T[], i: number, j: number): void {\n  const tmp = arr[i];\n  arr[i] = arr[j];\n  arr[j] = tmp;\n}\n\n/**\n * Rearrange items in `arr` so that all items in `[left, k]` range are the smallest.\n * The `k`-th element will have the `(k - left + 1)`-th smallest value in `[left, right]`.\n *\n * Implements Floyd-Rivest selection algorithm https://en.wikipedia.org/wiki/Floyd-Rivest_algorithm\n *\n * @param {Array<number>} arr input array\n * @param {number} k pivot index\n * @param {number} [left] left index\n * @param {number} [right] right index\n * @returns {void} mutates input array\n * @example\n * var arr = [65, 28, 59, 33, 21, 56, 22, 95, 50, 12, 90, 53, 28, 77, 39];\n * quickselect(arr, 8);\n * // = [39, 28, 28, 33, 21, 12, 22, 50, 53, 56, 59, 65, 90, 77, 95]\n */\nexport function quickselect(arr: number[], k, left?: number, right?: number): void {\n  left = left || 0;\n  right = right || arr.length - 1;\n\n  while (right > left) {\n    // 600 and 0.5 are arbitrary constants chosen in the original paper to minimize execution time\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp((2 * z) / 3);\n      let sd = 0.5 * Math.sqrt((z * s * (n - s)) / n);\n      if (m - n / 2 < 0) sd *= -1;\n      const newLeft = Math.max(left, Math.floor(k - (m * s) / n + sd));\n      const newRight = Math.min(right, Math.floor(k + ((n - m) * s) / n + sd));\n      quickselect(arr, k, newLeft, newRight);\n    }\n\n    const t = arr[k];\n    let i = left;\n    let j = right;\n\n    swap(arr, left, k);\n    if (arr[right] > t) swap(arr, left, right);\n\n    while (i < j) {\n      swap(arr, i, j);\n      i++;\n      j--;\n      while (arr[i] < t) i++;\n      while (arr[j] > t) j--;\n    }\n\n    if (arr[left] === t) swap(arr, left, j);\n    else {\n      j++;\n      swap(arr, j, right);\n    }\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n}\n\n/**\n * The [quantile](https://en.wikipedia.org/wiki/Quantile):\n * this is a population quantile, since we assume to know the entire\n * dataset in this library. This is an implementation of the\n * [Quantiles of a Population](http://en.wikipedia.org/wiki/Quantile#Quantiles_of_a_population)\n * algorithm from wikipedia.\n *\n * Sample is a one-dimensional array of numbers,\n * and p is either a decimal number from 0 to 1 or an array of decimal\n * numbers from 0 to 1.\n * In terms of a k/q quantile, p = k/q - it's just dealing with fractions or dealing\n * with decimal values.\n * When p is an array, the result of the function is also an array containing the appropriate\n * quantiles in input order\n *\n * @param {Array<number>} x sample of one or more numbers\n * @param {Array<number> | number} p the desired quantile, as a number between 0 and 1\n * @returns {number} quantile\n * @example\n * quantile([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nfunction quantile(x: number[], p: number): number;\nfunction quantile(x: number[], p: number[]): number[];\nfunction quantile(x: any, p: any): any {\n  const copy = x.slice();\n\n  if (Array.isArray(p)) {\n    // rearrange elements so that each element corresponding to a requested\n    // quantile is on a place it would be if the array was fully sorted\n    multiQuantileSelect(copy, p);\n    // Initialize the result array\n    const results: number[] = [];\n    // For each requested quantile\n    for (let i = 0; i < p.length; i++) {\n      results[i] = quantileSorted(copy, p[i]);\n    }\n    return results;\n  } else {\n    const idx = quantileIndex(copy.length, p);\n    quantileSelect(copy, idx, 0, copy.length - 1);\n    return quantileSorted(copy, p);\n  }\n}\n\nfunction quantileSelect(arr, k, left, right) {\n  if (k % 1 === 0) {\n    quickselect(arr, k, left, right);\n  } else {\n    k = Math.floor(k);\n    quickselect(arr, k, left, right);\n    quickselect(arr, k + 1, k + 1, right);\n  }\n}\n\nfunction multiQuantileSelect(arr, p) {\n  const indices = [0];\n  for (let i = 0; i < p.length; i++) {\n    indices.push(quantileIndex(arr.length, p[i]));\n  }\n  indices.push(arr.length - 1);\n  indices.sort(compare);\n\n  const stack = [0, indices.length - 1];\n\n  while (stack.length) {\n    const r = Math.ceil(stack.pop());\n    const l = Math.floor(stack.pop());\n    if (r - l <= 1) continue;\n\n    const m = Math.floor((l + r) / 2);\n    quantileSelect(arr, indices[m], Math.floor(indices[l]), Math.ceil(indices[r]));\n\n    stack.push(l, m, m, r);\n  }\n}\n\nfunction compare(a, b) {\n  return a - b;\n}\n\nfunction quantileIndex(len, p) {\n  const idx = len * p;\n  if (p === 1) {\n    // If p is 1, directly return the last index\n    return len - 1;\n  } else if (p === 0) {\n    // If p is 0, directly return the first index\n    return 0;\n  } else if (idx % 1 !== 0) {\n    // If index is not integer, return the next index in array\n    return Math.ceil(idx) - 1;\n  } else if (len % 2 === 0) {\n    // If the list has even-length, we'll return the middle of two indices\n    // around quantile to indicate that we need an average value of the two\n    return idx - 0.5;\n  } else {\n    // Finally, in the simple case of an integer index\n    // with an odd-length list, return the index\n    return idx;\n  }\n}\n\nexport { quantile };\n","import { groupBy, min, max } from '@antv/util';\nimport pdf from 'pdfast';\nimport { quantile } from '../../utils/transform/quantile';\nimport { ViolinOptions } from './types';\n\nexport type ViolinData = {\n  /** X */\n  x: string;\n\n  /**  size  */\n  violinSize: number[];\n  /**  y  */\n  violinY: number[];\n\n  // \n  /**  */\n  high: number;\n  /**  */\n  low: number;\n  /**  */\n  q1: number;\n  /**  */\n  q3: number;\n  /**  */\n  median: number[];\n\n  /**  */\n  minMax: number[];\n  /**  */\n  quantile: number[];\n};\n\nexport type PdfOptions = {\n  min: number;\n  max: number;\n  size: number;\n  width: number;\n};\n\nexport const toBoxValue = (values: number[]) => {\n  return {\n    low: min(values),\n    high: max(values),\n    q1: quantile(values, 0.25),\n    q3: quantile(values, 0.75),\n    median: quantile(values, [0.5]),\n    minMax: [min(values), max(values)],\n    quantile: [quantile(values, 0.25), quantile(values, 0.75)],\n  };\n};\n\nexport const toViolinValue = (values: number[], pdfOptions: PdfOptions) => {\n  const pdfResults: Array<{ x: number; y: number }> = pdf.create(values, pdfOptions);\n  return {\n    violinSize: pdfResults.map((result) => result.y),\n    violinY: pdfResults.map((result) => result.x),\n  };\n};\n\nexport const transformViolinData = (options: ViolinOptions): ViolinData[] => {\n  const { xField, yField, seriesField, data, kde } = options;\n\n  /**  */\n  const pdfOptions: PdfOptions = {\n    min: kde.min,\n    max: kde.max,\n    size: kde.sampleSize,\n    width: kde.width,\n  };\n\n  // \n  if (!seriesField) {\n    const group = groupBy(data, xField);\n    return Object.keys(group).map((x) => {\n      const records = group[x];\n      const values = records.map((record) => record[yField]);\n      return {\n        x,\n        ...toViolinValue(values, pdfOptions),\n        ...toBoxValue(values),\n      };\n    });\n  }\n\n  // \n  const resultList: ViolinData[] = [];\n  const seriesGroup = groupBy(data, seriesField);\n  Object.keys(seriesGroup).forEach((series) => {\n    const group = groupBy(seriesGroup[series], xField);\n    return Object.keys(group).forEach((key) => {\n      const records = group[key];\n      const values = records.map((record) => record[yField]);\n      resultList.push({\n        x: key,\n        [seriesField]: series,\n        ...toViolinValue(values, pdfOptions),\n        ...toBoxValue(values),\n      });\n    });\n  });\n  return resultList;\n};\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { ViolinOptions } from './types';\n\nexport const X_FIELD = 'x';\nexport const VIOLIN_Y_FIELD = 'violinY';\nexport const VIOLIN_SIZE_FIELD = 'violinSize';\nexport const MIN_MAX_FIELD = 'minMax';\nexport const QUANTILE_FIELD = 'quantile';\nexport const MEDIAN_FIELD = 'median';\n\nexport const VIOLIN_VIEW_ID = 'violin_view';\nexport const MIN_MAX_VIEW_ID = 'min_max_view';\nexport const QUANTILE_VIEW_ID = 'quantile_view';\nexport const MEDIAN_VIEW_ID = 'median_view';\n\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  //  view  view padding \n  syncViewPadding: true,\n  // \n  kde: {\n    type: 'triangular',\n    sampleSize: 32,\n    width: 3,\n  },\n\n  // \n  violinStyle: {\n    lineWidth: 1,\n    fillOpacity: 0.3,\n    strokeOpacity: 0.75,\n  },\n  // \n  xAxis: {\n    grid: {\n      line: null,\n    },\n    tickLine: {\n      alignTick: false,\n    },\n  },\n  yAxis: {\n    grid: {\n      line: {\n        style: {\n          lineWidth: 0.5,\n          lineDash: [4, 4],\n        },\n      },\n    },\n  },\n  // \n  legend: {\n    position: 'top-left',\n  },\n  // Tooltip\n  tooltip: {\n    showMarkers: false,\n  },\n  // \n  // interactions: [{ type: 'active-region' }],\n} as Partial<ViolinOptions>);\n","import { Geometry } from '@antv/g2';\nimport { get, set, omit, each } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { interaction, theme, tooltip, annotation as baseAnnotation } from '../../adaptor/common';\nimport { interval, point, violin } from '../../adaptor/geometries';\nimport { flow, pick, deepAssign, findViewById } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { ViolinOptions } from './types';\nimport { transformViolinData } from './utils';\nimport {\n  MEDIAN_FIELD,\n  MEDIAN_VIEW_ID,\n  MIN_MAX_FIELD,\n  MIN_MAX_VIEW_ID,\n  QUANTILE_FIELD,\n  QUANTILE_VIEW_ID,\n  VIOLIN_SIZE_FIELD,\n  VIOLIN_VIEW_ID,\n  VIOLIN_Y_FIELD,\n  X_FIELD,\n} from './constant';\n\nconst TOOLTIP_FIELDS = ['low', 'high', 'q1', 'q3', 'median'];\n\nconst adjustCfg = [\n  {\n    type: 'dodge',\n    marginRatio: 1 / 32,\n  } as const,\n];\n\n/**  */\nfunction data(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  chart.data(transformViolinData(options));\n  return params;\n}\n\n/**  */\nfunction violinView(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { seriesField, color, shape = 'violin', violinStyle, tooltip, state } = options;\n\n  const view = chart.createView({ id: VIOLIN_VIEW_ID });\n  violin({\n    chart: view,\n    options: {\n      xField: X_FIELD,\n      yField: VIOLIN_Y_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      sizeField: VIOLIN_SIZE_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      violin: {\n        style: violinStyle,\n        color,\n        shape,\n      },\n      state,\n    },\n  });\n  view.geometries[0].adjust(adjustCfg);\n\n  return params;\n}\n\n/**  */\nfunction boxView(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { seriesField, color, tooltip, box } = options;\n\n  //  `box`  false \n  if (box === false) return params;\n\n  // \n  const minMaxView = chart.createView({ id: MIN_MAX_VIEW_ID });\n  interval({\n    chart: minMaxView,\n    options: {\n      xField: X_FIELD,\n      yField: MIN_MAX_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      interval: {\n        color,\n        size: 1,\n        style: {\n          lineWidth: 0,\n        },\n      },\n    },\n  });\n  minMaxView.geometries[0].adjust(adjustCfg);\n\n  // \n  const quantileView = chart.createView({ id: QUANTILE_VIEW_ID });\n  interval({\n    chart: quantileView,\n    options: {\n      xField: X_FIELD,\n      yField: QUANTILE_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      interval: {\n        color,\n        size: 8,\n        style: {\n          fillOpacity: 1,\n        },\n      },\n    },\n  });\n  quantileView.geometries[0].adjust(adjustCfg);\n\n  // \n  const medianView = chart.createView({ id: MEDIAN_VIEW_ID });\n  point({\n    chart: medianView,\n    options: {\n      xField: X_FIELD,\n      yField: MEDIAN_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      point: {\n        color,\n        size: 1,\n        style: {\n          fill: 'white',\n          lineWidth: 0,\n        },\n      },\n    },\n  });\n  medianView.geometries[0].adjust(adjustCfg);\n\n  //  view \n  quantileView.axis(false);\n  minMaxView.axis(false);\n  medianView.axis(false);\n\n  //  view \n  medianView.legend(false);\n  minMaxView.legend(false);\n  quantileView.legend(false);\n\n  return params;\n}\n\n/**\n * meta \n */\nfunction meta(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis } = options;\n\n  const baseMeta = {};\n\n  const scales = deepAssign(baseMeta, meta, {\n    [X_FIELD]: {\n      sync: true,\n      ...pick(xAxis, AXIS_META_CONFIG_KEYS),\n      // fix:  dodge is not support linear attribute, please use category attribute!\n      //  x \n      type: 'cat',\n    },\n    [VIOLIN_Y_FIELD]: {\n      sync: true,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [MIN_MAX_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [QUANTILE_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [MEDIAN_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n */\nfunction axis(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis } = options;\n\n  const view = findViewById(chart, VIOLIN_VIEW_ID);\n\n  //  false \n  if (xAxis === false) {\n    view.axis(X_FIELD, false);\n  } else {\n    view.axis(X_FIELD, xAxis);\n  }\n\n  if (yAxis === false) {\n    view.axis(VIOLIN_Y_FIELD, false);\n  } else {\n    view.axis(VIOLIN_Y_FIELD, yAxis);\n  }\n\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n *\n * @param params\n * @returns\n */\nfunction legend(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField, shape } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    const legendField = seriesField ? seriesField : X_FIELD;\n    // fixme \n    const legendOptions = omit(legend as any, ['selected']);\n    if (!shape || !shape.startsWith('hollow')) {\n      if (!get(legendOptions, ['marker', 'style', 'lineWidth'])) {\n        set(legendOptions, ['marker', 'style', 'lineWidth'], 0);\n      }\n    }\n    chart.legend(legendField, legendOptions);\n    //  fixme G2 \n    if (get(legend, 'selected')) {\n      each(chart.views, (view) => view.legend(legendField, legend));\n    }\n  }\n\n  return params;\n}\n\n/**\n * annotation, apply to violin view.\n * @param params\n * @returns\n */\nfunction annotation(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart } = params;\n\n  const violinView = findViewById(chart, VIOLIN_VIEW_ID);\n  baseAnnotation()({ ...params, chart: violinView });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  Geometry \n  each(chart.views, (view) => {\n    //  view \n    if (typeof animation === 'boolean') {\n      view.animate(animation);\n    } else {\n      view.animate(true);\n    }\n\n    each(view.geometries, (g: Geometry) => {\n      g.animate(animation);\n    });\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<ViolinOptions>) {\n  return flow(\n    theme,\n    data,\n    violinView,\n    boxView,\n    meta,\n    tooltip,\n    axis,\n    legend,\n    interaction,\n    annotation,\n    animation\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { ViolinOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { transformViolinData } from './utils';\nexport type { ViolinOptions };\n\nexport class Violin extends Plot<ViolinOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<ViolinOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'violin';\n\n  /**\n   * @override\n   */\n  public changeData(data: ViolinOptions['data']) {\n    this.updateOption({ data });\n    this.chart.changeData(transformViolinData(this.options));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<ViolinOptions> {\n    return Violin.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ViolinOptions> {\n    return adaptor;\n  }\n}\n","import colorUtil from '@antv/color-util';\n/*\n * interpolates between a set of colors uzing a bezier spline\n * blend mode formulas taken from http://www.venture-ware.com/kevin/coding/lets-learn-math-photoshop-blend-modes/\n */\n\nconst each =\n  (f) =>\n  (c0: number[], c1: number[]): number[] => {\n    const out = [];\n    out[0] = f(c0[0], c1[0]);\n    out[1] = f(c0[1], c1[1]);\n    out[2] = f(c0[2], c1[2]);\n    return out;\n  };\n\n/**\n * \n */\nconst blendObject = {\n  normal: (a: number) => a,\n  multiply: (a: number, b: number) => (a * b) / 255,\n  screen: (a: number, b: number) => 255 * (1 - (1 - a / 255) * (1 - b / 255)),\n  overlay: (a: number, b: number) => (b < 128 ? (2 * a * b) / 255 : 255 * (1 - 2 * (1 - a / 255) * (1 - b / 255))),\n  darken: (a: number, b: number) => (a > b ? b : a),\n  lighten: (a: number, b: number) => (a > b ? a : b),\n  dodge: (a: number, b: number) => {\n    if (a === 255) return 255;\n    a = (255 * (b / 255)) / (1 - a / 255);\n    return a > 255 ? 255 : a;\n  },\n  burn: (a: number, b: number) => {\n    //  w3c  0 \n    if (b === 255) return 255;\n    else if (a === 0) return 0;\n    else return 255 * (1 - Math.min(1, (1 - b / 255) / (a / 255)));\n  },\n};\n\n/**\n * \n */\nexport const innerBlend = (mode: string) => {\n  if (!blendObject[mode]) {\n    throw new Error('unknown blend mode ' + mode);\n  }\n  return blendObject[mode];\n};\n\n/**\n * \n * https://www.w3.org/TR/compositing/#blending\n * @param c0\n * @param c1\n * @param mode \n * @return rbga\n */\nexport function blend(c0: string, c1: string, mode = 'normal') {\n  // blendRgbArr:  blend color: [r, g, b]\n  const blendRgbArr = each(innerBlend(mode))(colorToArr(c0), colorToArr(c1));\n\n  const [r0, g0, b0, a0] = colorToArr(c0);\n  const [r1, g1, b1, a1] = colorToArr(c1);\n\n  const a = Number((a0 + a1 * (1 - a0)).toFixed(2));\n\n  const r = Math.round(\n    ((a0 * (1 - a1) * (r0 / 255) + a0 * a1 * (blendRgbArr[0] / 255) + (1 - a0) * a1 * (r1 / 255)) / a) * 255\n  );\n  const g = Math.round(\n    ((a0 * (1 - a1) * (g0 / 255) + a0 * a1 * (blendRgbArr[1] / 255) + (1 - a0) * a1 * (g1 / 255)) / a) * 255\n  );\n  const b = Math.round(\n    ((a0 * (1 - a1) * (b0 / 255) + a0 * a1 * (blendRgbArr[2] / 255) + (1 - a0) * a1 * (b1 / 255)) / a) * 255\n  );\n\n  return `rgba(${r}, ${g}, ${b}, ${a})`;\n}\n\n/**\n *  [r, g, b, a]\n * https://www.w3.org/TR/compositing/#blending\n * @param c color\n * @return [r, g, b, a]\n */\nexport function colorToArr(c: string): number[] {\n  const color = c.replace('/s+/g', ''); // \n  let rgbaArr: any[];\n\n  // 'red' -> [r, g, b, 1]\n  if (typeof color === 'string' && !color.startsWith('rgba') && !color.startsWith('#')) {\n    return (rgbaArr = colorUtil.rgb2arr(colorUtil.toRGB(color)).concat([1]));\n  }\n\n  // rgba(255, 200, 125, 0.5) -> [r, g, b, a]\n  if (color.startsWith('rgba')) rgbaArr = color.replace('rgba(', '').replace(')', '').split(',');\n\n  // '#fff000' -> [r, g, b, 1]\n  if (color.startsWith('#')) rgbaArr = colorUtil.rgb2arr(color).concat([1]); //  16 6  1\n\n  // [r, g, b, a] \n  return rgbaArr.map((item, index) => (index === 3 ? Number(item) : item | 0));\n}\n","const SMALL = 1e-10;\n\n/** Returns the intersection area of a bunch of circles (where each circle\n is an object having an x,y and radius property) */\nexport function intersectionArea(circles, stats?: any) {\n  // get all the intersection points of the circles\n  const intersectionPoints = getIntersectionPoints(circles);\n\n  // filter out points that aren't included in all the circles\n  const innerPoints = intersectionPoints.filter(function (p) {\n    return containedInCircles(p, circles);\n  });\n\n  let arcArea = 0,\n    polygonArea = 0,\n    i;\n  const arcs = [];\n  // if we have intersection points that are within all the circles,\n  // then figure out the area contained by them\n  if (innerPoints.length > 1) {\n    // sort the points by angle from the center of the polygon, which lets\n    // us just iterate over points to get the edges\n    const center = getCenter(innerPoints);\n    for (i = 0; i < innerPoints.length; ++i) {\n      const p = innerPoints[i];\n      p.angle = Math.atan2(p.x - center.x, p.y - center.y);\n    }\n    innerPoints.sort(function (a, b) {\n      return b.angle - a.angle;\n    });\n\n    // iterate over all points, get arc between the points\n    // and update the areas\n    let p2 = innerPoints[innerPoints.length - 1];\n    for (i = 0; i < innerPoints.length; ++i) {\n      const p1 = innerPoints[i];\n\n      // polygon area updates easily ...\n      polygonArea += (p2.x + p1.x) * (p1.y - p2.y);\n\n      // updating the arc area is a little more involved\n      const midPoint = { x: (p1.x + p2.x) / 2, y: (p1.y + p2.y) / 2 };\n      let arc = null;\n\n      for (let j = 0; j < p1.parentIndex.length; ++j) {\n        if (p2.parentIndex.indexOf(p1.parentIndex[j]) > -1) {\n          // figure out the angle halfway between the two points\n          // on the current circle\n          const circle = circles[p1.parentIndex[j]],\n            a1 = Math.atan2(p1.x - circle.x, p1.y - circle.y),\n            a2 = Math.atan2(p2.x - circle.x, p2.y - circle.y);\n\n          let angleDiff = a2 - a1;\n          if (angleDiff < 0) {\n            angleDiff += 2 * Math.PI;\n          }\n\n          // and use that angle to figure out the width of the\n          // arc\n          const a = a2 - angleDiff / 2;\n          let width = distance(midPoint, {\n            x: circle.x + circle.radius * Math.sin(a),\n            y: circle.y + circle.radius * Math.cos(a),\n          });\n\n          // clamp the width to the largest is can actually be\n          // (sometimes slightly overflows because of FP errors)\n          if (width > circle.radius * 2) {\n            width = circle.radius * 2;\n          }\n\n          // pick the circle whose arc has the smallest width\n          if (arc === null || arc.width > width) {\n            arc = { circle: circle, width: width, p1: p1, p2: p2 };\n          }\n        }\n      }\n\n      if (arc !== null) {\n        arcs.push(arc);\n        arcArea += circleArea(arc.circle.radius, arc.width);\n        p2 = p1;\n      }\n    }\n  } else {\n    // no intersection points, is either disjoint - or is completely\n    // overlapped. figure out which by examining the smallest circle\n    let smallest = circles[0];\n    for (i = 1; i < circles.length; ++i) {\n      if (circles[i].radius < smallest.radius) {\n        smallest = circles[i];\n      }\n    }\n\n    // make sure the smallest circle is completely contained in all\n    // the other circles\n    let disjoint = false;\n    for (i = 0; i < circles.length; ++i) {\n      if (distance(circles[i], smallest) > Math.abs(smallest.radius - circles[i].radius)) {\n        disjoint = true;\n        break;\n      }\n    }\n\n    if (disjoint) {\n      arcArea = polygonArea = 0;\n    } else {\n      arcArea = smallest.radius * smallest.radius * Math.PI;\n      arcs.push({\n        circle: smallest,\n        p1: { x: smallest.x, y: smallest.y + smallest.radius },\n        p2: { x: smallest.x - SMALL, y: smallest.y + smallest.radius },\n        width: smallest.radius * 2,\n      });\n    }\n  }\n\n  polygonArea /= 2;\n  if (stats) {\n    stats.area = arcArea + polygonArea;\n    stats.arcArea = arcArea;\n    stats.polygonArea = polygonArea;\n    stats.arcs = arcs;\n    stats.innerPoints = innerPoints;\n    stats.intersectionPoints = intersectionPoints;\n  }\n\n  return arcArea + polygonArea;\n}\n\n/** returns whether a point is contained by all of a list of circles */\nexport function containedInCircles(point, circles) {\n  for (let i = 0; i < circles.length; ++i) {\n    if (distance(point, circles[i]) > circles[i].radius + SMALL) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/** Gets all intersection points between a bunch of circles */\nfunction getIntersectionPoints(circles) {\n  const ret = [];\n  for (let i = 0; i < circles.length; ++i) {\n    for (let j = i + 1; j < circles.length; ++j) {\n      const intersect = circleCircleIntersection(circles[i], circles[j]);\n      for (let k = 0; k < intersect.length; ++k) {\n        const p: any = intersect[k];\n        p.parentIndex = [i, j];\n        ret.push(p);\n      }\n    }\n  }\n  return ret;\n}\n\n/** Circular segment area calculation. See http://mathworld.wolfram.com/CircularSegment.html */\nexport function circleArea(r, width) {\n  return r * r * Math.acos(1 - width / r) - (r - width) * Math.sqrt(width * (2 * r - width));\n}\n\n/** euclidean distance between two points */\nexport function distance(p1, p2) {\n  return Math.sqrt((p1.x - p2.x) * (p1.x - p2.x) + (p1.y - p2.y) * (p1.y - p2.y));\n}\n\n/** Returns the overlap area of two circles of radius r1 and r2 - that\nhave their centers separated by distance d. Simpler faster\ncircle intersection for only two circles */\nexport function circleOverlap(r1, r2, d) {\n  // no overlap\n  if (d >= r1 + r2) {\n    return 0;\n  }\n\n  // completely overlapped\n  if (d <= Math.abs(r1 - r2)) {\n    return Math.PI * Math.min(r1, r2) * Math.min(r1, r2);\n  }\n\n  const w1 = r1 - (d * d - r2 * r2 + r1 * r1) / (2 * d),\n    w2 = r2 - (d * d - r1 * r1 + r2 * r2) / (2 * d);\n  return circleArea(r1, w1) + circleArea(r2, w2);\n}\n\n/** Given two circles (containing a x/y/radius attributes),\nreturns the intersecting points if possible.\nnote: doesn't handle cases where there are infinitely many\nintersection points (circles are equivalent):, or only one intersection point*/\nexport function circleCircleIntersection(p1, p2) {\n  const d = distance(p1, p2),\n    r1 = p1.radius,\n    r2 = p2.radius;\n\n  // if to far away, or self contained - can't be done\n  if (d >= r1 + r2 || d <= Math.abs(r1 - r2)) {\n    return [];\n  }\n\n  const a = (r1 * r1 - r2 * r2 + d * d) / (2 * d),\n    h = Math.sqrt(r1 * r1 - a * a),\n    x0 = p1.x + (a * (p2.x - p1.x)) / d,\n    y0 = p1.y + (a * (p2.y - p1.y)) / d,\n    rx = -(p2.y - p1.y) * (h / d),\n    ry = -(p2.x - p1.x) * (h / d);\n\n  return [\n    { x: x0 + rx, y: y0 - ry },\n    { x: x0 - rx, y: y0 + ry },\n  ];\n}\n\n/** Returns the center of a bunch of points */\nexport function getCenter(points) {\n  const center = { x: 0, y: 0 };\n  for (let i = 0; i < points.length; ++i) {\n    center.x += points[i].x;\n    center.y += points[i].y;\n  }\n  center.x /= points.length;\n  center.y /= points.length;\n  return center;\n}\n","import { nelderMead, bisect, conjugateGradient, zeros, zerosM, norm2, scale } from 'fmin';\nimport { intersectionArea, circleOverlap, circleCircleIntersection, distance } from './circleintersection';\n\n/** given a list of set objects, and their corresponding overlaps.\nupdates the (x, y, radius) attribute on each set such that their positions\nroughly correspond to the desired overlaps */\nexport function venn(areas, parameters?: any) {\n  parameters = parameters || {};\n  parameters.maxIterations = parameters.maxIterations || 500;\n  const initialLayout = parameters.initialLayout || bestInitialLayout;\n  const loss = parameters.lossFunction || lossFunction;\n\n  // add in missing pairwise areas as having 0 size\n  areas = addMissingAreas(areas);\n\n  // initial layout is done greedily\n  const circles = initialLayout(areas, parameters);\n\n  // transform x/y coordinates to a vector to optimize\n  const initial = [],\n    setids = [];\n  let setid;\n  for (setid in circles) {\n    // eslint-disable-next-line\n    if (circles.hasOwnProperty(setid)) {\n      initial.push(circles[setid].x);\n      initial.push(circles[setid].y);\n      setids.push(setid);\n    }\n  }\n\n  // optimize initial layout from our loss function\n  const solution = nelderMead(\n    function (values) {\n      const current = {};\n      for (let i = 0; i < setids.length; ++i) {\n        const setid = setids[i];\n        current[setid] = {\n          x: values[2 * i],\n          y: values[2 * i + 1],\n          radius: circles[setid].radius,\n          // size : circles[setid].size\n        };\n      }\n      return loss(current, areas);\n    },\n    initial,\n    parameters\n  );\n\n  // transform solution vector back to x/y points\n  const positions = solution.x;\n  for (let i = 0; i < setids.length; ++i) {\n    setid = setids[i];\n    circles[setid].x = positions[2 * i];\n    circles[setid].y = positions[2 * i + 1];\n  }\n\n  return circles;\n}\n\nconst SMALL = 1e-10;\n\n/** Returns the distance necessary for two circles of radius r1 + r2 to\nhave the overlap area 'overlap' */\nexport function distanceFromIntersectArea(r1, r2, overlap) {\n  // handle complete overlapped circles\n  if (Math.min(r1, r2) * Math.min(r1, r2) * Math.PI <= overlap + SMALL) {\n    return Math.abs(r1 - r2);\n  }\n\n  return bisect(\n    function (distance) {\n      return circleOverlap(r1, r2, distance) - overlap;\n    },\n    0,\n    r1 + r2\n  );\n}\n\n/** Missing pair-wise intersection area data can cause problems:\n treating as an unknown means that sets will be laid out overlapping,\n which isn't what people expect. To reflect that we want disjoint sets\n here, set the overlap to 0 for all missing pairwise set intersections */\nfunction addMissingAreas(areas) {\n  areas = areas.slice();\n\n  // two circle intersections that aren't defined\n  const ids: number[] = [],\n    pairs: any = {};\n  let i, j, a, b;\n  for (i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      ids.push(area.sets[0]);\n    } else if (area.sets.length == 2) {\n      a = area.sets[0];\n      b = area.sets[1];\n      // @ts-ignore\n      pairs[[a, b]] = true;\n      // @ts-ignore\n      pairs[[b, a]] = true;\n    }\n  }\n  ids.sort((a, b) => {\n    return a > b ? 1 : -1;\n  });\n\n  for (i = 0; i < ids.length; ++i) {\n    a = ids[i];\n    for (j = i + 1; j < ids.length; ++j) {\n      b = ids[j];\n      // @ts-ignore\n      if (!([a, b] in pairs)) {\n        areas.push({ sets: [a, b], size: 0 });\n      }\n    }\n  }\n  return areas;\n}\n\n/// Returns two matrices, one of the euclidean distances between the sets\n/// and the other indicating if there are subset or disjoint set relationships\nexport function getDistanceMatrices(areas, sets, setids) {\n  // initialize an empty distance matrix between all the points\n  const distances = zerosM(sets.length, sets.length),\n    constraints = zerosM(sets.length, sets.length);\n\n  // compute required distances between all the sets such that\n  // the areas match\n  areas\n    .filter(function (x) {\n      return x.sets.length == 2;\n    })\n    .map(function (current) {\n      const left = setids[current.sets[0]],\n        right = setids[current.sets[1]],\n        r1 = Math.sqrt(sets[left].size / Math.PI),\n        r2 = Math.sqrt(sets[right].size / Math.PI),\n        distance = distanceFromIntersectArea(r1, r2, current.size);\n\n      distances[left][right] = distances[right][left] = distance;\n\n      // also update constraints to indicate if its a subset or disjoint\n      // relationship\n      let c = 0;\n      if (current.size + 1e-10 >= Math.min(sets[left].size, sets[right].size)) {\n        c = 1;\n      } else if (current.size <= 1e-10) {\n        c = -1;\n      }\n      constraints[left][right] = constraints[right][left] = c;\n    });\n\n  return { distances: distances, constraints: constraints };\n}\n\n/// computes the gradient and loss simulatenously for our constrained MDS optimizer\nfunction constrainedMDSGradient(x, fxprime, distances, constraints) {\n  let loss = 0,\n    i;\n  for (i = 0; i < fxprime.length; ++i) {\n    fxprime[i] = 0;\n  }\n\n  for (i = 0; i < distances.length; ++i) {\n    const xi = x[2 * i],\n      yi = x[2 * i + 1];\n    for (let j = i + 1; j < distances.length; ++j) {\n      const xj = x[2 * j],\n        yj = x[2 * j + 1],\n        dij = distances[i][j],\n        constraint = constraints[i][j];\n\n      const squaredDistance = (xj - xi) * (xj - xi) + (yj - yi) * (yj - yi),\n        distance = Math.sqrt(squaredDistance),\n        delta = squaredDistance - dij * dij;\n\n      if ((constraint > 0 && distance <= dij) || (constraint < 0 && distance >= dij)) {\n        continue;\n      }\n\n      loss += 2 * delta * delta;\n\n      fxprime[2 * i] += 4 * delta * (xi - xj);\n      fxprime[2 * i + 1] += 4 * delta * (yi - yj);\n\n      fxprime[2 * j] += 4 * delta * (xj - xi);\n      fxprime[2 * j + 1] += 4 * delta * (yj - yi);\n    }\n  }\n  return loss;\n}\n\n/// takes the best working variant of either constrained MDS or greedy\nexport function bestInitialLayout(areas, params) {\n  let initial = greedyLayout(areas, params);\n  const loss = params.lossFunction || lossFunction;\n\n  // greedylayout is sufficient for all 2/3 circle cases. try out\n  // constrained MDS for higher order problems, take its output\n  // if it outperforms. (greedy is aesthetically better on 2/3 circles\n  // since it axis aligns)\n  if (areas.length >= 8) {\n    const constrained = constrainedMDSLayout(areas, params),\n      constrainedLoss = loss(constrained, areas),\n      greedyLoss = loss(initial, areas);\n\n    if (constrainedLoss + 1e-8 < greedyLoss) {\n      initial = constrained;\n    }\n  }\n  return initial;\n}\n\n/// use the constrained MDS variant to generate an initial layout\nexport function constrainedMDSLayout(areas, params) {\n  params = params || {};\n  const restarts = params.restarts || 10;\n\n  // bidirectionally map sets to a rowid  (so we can create a matrix)\n  const sets = [],\n    setids = {};\n  let i;\n  for (i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      setids[area.sets[0]] = sets.length;\n      sets.push(area);\n    }\n  }\n\n  const matrices = getDistanceMatrices(areas, sets, setids);\n  let distances = matrices.distances;\n  const constraints = matrices.constraints;\n\n  // keep distances bounded, things get messed up otherwise.\n  // TODO: proper preconditioner?\n  const norm = norm2(distances.map(norm2)) / distances.length;\n  distances = distances.map(function (row) {\n    return row.map(function (value) {\n      return value / norm;\n    });\n  });\n\n  const obj = function (x, fxprime) {\n    return constrainedMDSGradient(x, fxprime, distances, constraints);\n  };\n\n  let best, current;\n  for (i = 0; i < restarts; ++i) {\n    const initial = zeros(distances.length * 2).map(Math.random);\n\n    current = conjugateGradient(obj, initial, params);\n    if (!best || current.fx < best.fx) {\n      best = current;\n    }\n  }\n  const positions = best.x;\n\n  // translate rows back to (x,y,radius) coordinates\n  const circles = {};\n  for (i = 0; i < sets.length; ++i) {\n    const set = sets[i];\n    circles[set.sets[0]] = {\n      x: positions[2 * i] * norm,\n      y: positions[2 * i + 1] * norm,\n      radius: Math.sqrt(set.size / Math.PI),\n    };\n  }\n\n  if (params.history) {\n    for (i = 0; i < params.history.length; ++i) {\n      scale(params.history[i].x, norm);\n    }\n  }\n  return circles;\n}\n\n/** Lays out a Venn diagram greedily, going from most overlapped sets to\nleast overlapped, attempting to position each new set such that the\noverlapping areas to already positioned sets are basically right */\nexport function greedyLayout(areas, params) {\n  const loss = params && params.lossFunction ? params.lossFunction : lossFunction;\n  // define a circle for each set\n  const circles = {},\n    setOverlaps = {};\n  let set;\n  for (let i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      set = area.sets[0];\n      circles[set] = {\n        x: 1e10,\n        y: 1e10,\n        // rowid: circles.length, // fix to ->\n        rowid: Object.keys(circles).length,\n        size: area.size,\n        radius: Math.sqrt(area.size / Math.PI),\n      };\n      setOverlaps[set] = [];\n    }\n  }\n  areas = areas.filter(function (a) {\n    return a.sets.length == 2;\n  });\n\n  // map each set to a list of all the other sets that overlap it\n  for (let i = 0; i < areas.length; ++i) {\n    const current = areas[i];\n    // eslint-disable-next-line\n    let weight = current.hasOwnProperty('weight') ? current.weight : 1.0;\n    const left = current.sets[0],\n      right = current.sets[1];\n\n    // completely overlapped circles shouldn't be positioned early here\n    if (current.size + SMALL >= Math.min(circles[left].size, circles[right].size)) {\n      weight = 0;\n    }\n\n    setOverlaps[left].push({ set: right, size: current.size, weight: weight });\n    setOverlaps[right].push({ set: left, size: current.size, weight: weight });\n  }\n\n  // get list of most overlapped sets\n  const mostOverlapped = [];\n  for (set in setOverlaps) {\n    // eslint-disable-next-line\n    if (setOverlaps.hasOwnProperty(set)) {\n      let size = 0;\n      for (let i = 0; i < setOverlaps[set].length; ++i) {\n        size += setOverlaps[set][i].size * setOverlaps[set][i].weight;\n      }\n\n      mostOverlapped.push({ set: set, size: size });\n    }\n  }\n\n  // sort by size desc\n  function sortOrder(a, b) {\n    return b.size - a.size;\n  }\n  mostOverlapped.sort(sortOrder);\n\n  // keep track of what sets have been laid out\n  const positioned = {};\n  function isPositioned(element) {\n    return element.set in positioned;\n  }\n\n  // adds a point to the output\n  function positionSet(point, index) {\n    circles[index].x = point.x;\n    circles[index].y = point.y;\n    positioned[index] = true;\n  }\n\n  // add most overlapped set at (0,0)\n  positionSet({ x: 0, y: 0 }, mostOverlapped[0].set);\n\n  // get distances between all points. TODO, necessary?\n  // answer: probably not\n  // var distances = venn.getDistanceMatrices(circles, areas).distances;\n  for (let i = 1; i < mostOverlapped.length; ++i) {\n    const setIndex = mostOverlapped[i].set,\n      overlap = setOverlaps[setIndex].filter(isPositioned);\n    set = circles[setIndex];\n    overlap.sort(sortOrder);\n\n    if (overlap.length === 0) {\n      // this shouldn't happen anymore with addMissingAreas\n      throw 'ERROR: missing pairwise overlap information';\n    }\n\n    const points = [];\n    for (let j = 0; j < overlap.length; ++j) {\n      // get appropriate distance from most overlapped already added set\n      const p1 = circles[overlap[j].set],\n        d1 = distanceFromIntersectArea(set.radius, p1.radius, overlap[j].size);\n\n      // sample positions at 90 degrees for maximum aesthetics\n      points.push({ x: p1.x + d1, y: p1.y });\n      points.push({ x: p1.x - d1, y: p1.y });\n      points.push({ y: p1.y + d1, x: p1.x });\n      points.push({ y: p1.y - d1, x: p1.x });\n\n      // if we have at least 2 overlaps, then figure out where the\n      // set should be positioned analytically and try those too\n      for (let k = j + 1; k < overlap.length; ++k) {\n        const p2 = circles[overlap[k].set],\n          d2 = distanceFromIntersectArea(set.radius, p2.radius, overlap[k].size);\n\n        const extraPoints = circleCircleIntersection(\n          { x: p1.x, y: p1.y, radius: d1 },\n          { x: p2.x, y: p2.y, radius: d2 }\n        );\n\n        for (let l = 0; l < extraPoints.length; ++l) {\n          points.push(extraPoints[l]);\n        }\n      }\n    }\n\n    // we have some candidate positions for the set, examine loss\n    // at each position to figure out where to put it at\n    let bestLoss = 1e50,\n      bestPoint = points[0];\n    for (let j = 0; j < points.length; ++j) {\n      circles[setIndex].x = points[j].x;\n      circles[setIndex].y = points[j].y;\n      const localLoss = loss(circles, areas);\n      if (localLoss < bestLoss) {\n        bestLoss = localLoss;\n        bestPoint = points[j];\n      }\n    }\n\n    positionSet(bestPoint, setIndex);\n  }\n\n  return circles;\n}\n\n/** Given a bunch of sets, and the desired overlaps between these sets - computes\nthe distance from the actual overlaps to the desired overlaps. Note that\nthis method ignores overlaps of more than 2 circles */\nexport function lossFunction(sets, overlaps) {\n  let output = 0;\n\n  function getCircles(indices) {\n    return indices.map(function (i) {\n      return sets[i];\n    });\n  }\n\n  for (let i = 0; i < overlaps.length; ++i) {\n    const area = overlaps[i];\n    let overlap;\n    if (area.sets.length == 1) {\n      continue;\n    } else if (area.sets.length == 2) {\n      const left = sets[area.sets[0]],\n        right = sets[area.sets[1]];\n      overlap = circleOverlap(left.radius, right.radius, distance(left, right));\n    } else {\n      overlap = intersectionArea(getCircles(area.sets));\n    }\n\n    // eslint-disable-next-line\n    const weight = area.hasOwnProperty('weight') ? area.weight : 1.0;\n    output += weight * (overlap - area.size) * (overlap - area.size);\n  }\n\n  return output;\n}\n\n// orientates a bunch of circles to point in orientation\nfunction orientateCircles(circles, orientation, orientationOrder) {\n  if (orientationOrder === null) {\n    circles.sort(function (a, b) {\n      return b.radius - a.radius;\n    });\n  } else {\n    circles.sort(orientationOrder);\n  }\n\n  let i;\n  // shift circles so largest circle is at (0, 0)\n  if (circles.length > 0) {\n    const largestX = circles[0].x,\n      largestY = circles[0].y;\n\n    for (i = 0; i < circles.length; ++i) {\n      circles[i].x -= largestX;\n      circles[i].y -= largestY;\n    }\n  }\n\n  if (circles.length == 2) {\n    // if the second circle is a subset of the first, arrange so that\n    // it is off to one side. hack for https://github.com/benfred/venn.js/issues/120\n    const dist = distance(circles[0], circles[1]);\n    if (dist < Math.abs(circles[1].radius - circles[0].radius)) {\n      circles[1].x = circles[0].x + circles[0].radius - circles[1].radius - 1e-10;\n      circles[1].y = circles[0].y;\n    }\n  }\n\n  // rotate circles so that second largest is at an angle of 'orientation'\n  // from largest\n  if (circles.length > 1) {\n    const rotation = Math.atan2(circles[1].x, circles[1].y) - orientation;\n    let x, y;\n    const c = Math.cos(rotation),\n      s = Math.sin(rotation);\n    for (i = 0; i < circles.length; ++i) {\n      x = circles[i].x;\n      y = circles[i].y;\n      circles[i].x = c * x - s * y;\n      circles[i].y = s * x + c * y;\n    }\n  }\n\n  // mirror solution if third solution is above plane specified by\n  // first two circles\n  if (circles.length > 2) {\n    let angle = Math.atan2(circles[2].x, circles[2].y) - orientation;\n    while (angle < 0) {\n      angle += 2 * Math.PI;\n    }\n    while (angle > 2 * Math.PI) {\n      angle -= 2 * Math.PI;\n    }\n    if (angle > Math.PI) {\n      const slope = circles[1].y / (1e-10 + circles[1].x);\n      for (i = 0; i < circles.length; ++i) {\n        const d = (circles[i].x + slope * circles[i].y) / (1 + slope * slope);\n        circles[i].x = 2 * d - circles[i].x;\n        circles[i].y = 2 * d * slope - circles[i].y;\n      }\n    }\n  }\n}\n\nexport function disjointCluster(circles) {\n  // union-find clustering to get disjoint sets\n  circles.map(function (circle) {\n    circle.parent = circle;\n  });\n\n  // path compression step in union find\n  function find(circle) {\n    if (circle.parent !== circle) {\n      circle.parent = find(circle.parent);\n    }\n    return circle.parent;\n  }\n\n  function union(x, y) {\n    const xRoot = find(x),\n      yRoot = find(y);\n    xRoot.parent = yRoot;\n  }\n\n  // get the union of all overlapping sets\n  for (let i = 0; i < circles.length; ++i) {\n    for (let j = i + 1; j < circles.length; ++j) {\n      const maxDistance = circles[i].radius + circles[j].radius;\n      if (distance(circles[i], circles[j]) + 1e-10 < maxDistance) {\n        union(circles[j], circles[i]);\n      }\n    }\n  }\n\n  // find all the disjoint clusters and group them together\n  const disjointClusters = {};\n  let setid;\n  for (let i = 0; i < circles.length; ++i) {\n    setid = find(circles[i]).parent.setid;\n    if (!(setid in disjointClusters)) {\n      disjointClusters[setid] = [];\n    }\n    disjointClusters[setid].push(circles[i]);\n  }\n\n  // cleanup bookkeeping\n  circles.map(function (circle) {\n    delete circle.parent;\n  });\n\n  // return in more usable form\n  const ret = [];\n  for (setid in disjointClusters) {\n    // eslint-disable-next-line\n    if (disjointClusters.hasOwnProperty(setid)) {\n      ret.push(disjointClusters[setid]);\n    }\n  }\n  return ret;\n}\n\nfunction getBoundingBox(circles) {\n  const minMax = function (d) {\n    const hi = Math.max.apply(\n        null,\n        circles.map(function (c) {\n          return c[d] + c.radius;\n        })\n      ),\n      lo = Math.min.apply(\n        null,\n        circles.map(function (c) {\n          return c[d] - c.radius;\n        })\n      );\n    return { max: hi, min: lo };\n  };\n\n  return { xRange: minMax('x'), yRange: minMax('y') };\n}\n\nexport function normalizeSolution(solution, orientation, orientationOrder) {\n  if (orientation === null) {\n    orientation = Math.PI / 2;\n  }\n\n  // work with a list instead of a dictionary, and take a copy so we\n  // don't mutate input\n  let circles = [],\n    i,\n    setid;\n  for (setid in solution) {\n    // eslint-disable-next-line\n    if (solution.hasOwnProperty(setid)) {\n      const previous = solution[setid];\n      circles.push({ x: previous.x, y: previous.y, radius: previous.radius, setid: setid });\n    }\n  }\n\n  // get all the disjoint clusters\n  const clusters = disjointCluster(circles);\n\n  // orientate all disjoint sets, get sizes\n  for (i = 0; i < clusters.length; ++i) {\n    orientateCircles(clusters[i], orientation, orientationOrder);\n    const bounds = getBoundingBox(clusters[i]);\n    clusters[i].size = (bounds.xRange.max - bounds.xRange.min) * (bounds.yRange.max - bounds.yRange.min);\n    clusters[i].bounds = bounds;\n  }\n  clusters.sort(function (a, b) {\n    return b.size - a.size;\n  });\n\n  // orientate the largest at 0,0, and get the bounds\n  circles = clusters[0];\n  // @ts-ignore fixme \n  let returnBounds = circles.bounds;\n\n  const spacing = (returnBounds.xRange.max - returnBounds.xRange.min) / 50;\n\n  function addCluster(cluster, right, bottom) {\n    if (!cluster) return;\n\n    const bounds = cluster.bounds;\n    let xOffset, yOffset, centreing;\n\n    if (right) {\n      xOffset = returnBounds.xRange.max - bounds.xRange.min + spacing;\n    } else {\n      xOffset = returnBounds.xRange.max - bounds.xRange.max;\n      centreing = (bounds.xRange.max - bounds.xRange.min) / 2 - (returnBounds.xRange.max - returnBounds.xRange.min) / 2;\n      if (centreing < 0) xOffset += centreing;\n    }\n\n    if (bottom) {\n      yOffset = returnBounds.yRange.max - bounds.yRange.min + spacing;\n    } else {\n      yOffset = returnBounds.yRange.max - bounds.yRange.max;\n      centreing = (bounds.yRange.max - bounds.yRange.min) / 2 - (returnBounds.yRange.max - returnBounds.yRange.min) / 2;\n      if (centreing < 0) yOffset += centreing;\n    }\n\n    for (let j = 0; j < cluster.length; ++j) {\n      cluster[j].x += xOffset;\n      cluster[j].y += yOffset;\n      circles.push(cluster[j]);\n    }\n  }\n\n  let index = 1;\n  while (index < clusters.length) {\n    addCluster(clusters[index], true, false);\n    addCluster(clusters[index + 1], false, true);\n    addCluster(clusters[index + 2], true, true);\n    index += 3;\n\n    // have one cluster (in top left). lay out next three relative\n    // to it in a grid\n    returnBounds = getBoundingBox(circles);\n  }\n\n  // convert back to solution form\n  const ret = {};\n  for (i = 0; i < circles.length; ++i) {\n    ret[circles[i].setid] = circles[i];\n  }\n  return ret;\n}\n\n/** Scales a solution from venn.venn or venn.greedyLayout such that it fits in\na rectangle of width/height - with padding around the borders. also\ncenters the diagram in the available space at the same time */\nexport function scaleSolution(solution, width, height, padding) {\n  const circles = [],\n    setids = [];\n  for (const setid in solution) {\n    // eslint-disable-next-line\n    if (solution.hasOwnProperty(setid)) {\n      setids.push(setid);\n      circles.push(solution[setid]);\n    }\n  }\n\n  width -= 2 * padding;\n  height -= 2 * padding;\n\n  const bounds = getBoundingBox(circles),\n    xRange = bounds.xRange,\n    yRange = bounds.yRange;\n\n  if (xRange.max == xRange.min || yRange.max == yRange.min) {\n    console.log('not scaling solution: zero size detected');\n    return solution;\n  }\n\n  const xScaling = width / (xRange.max - xRange.min),\n    yScaling = height / (yRange.max - yRange.min),\n    scaling = Math.min(yScaling, xScaling),\n    // while we're at it, center the diagram too\n    xOffset = (width - (xRange.max - xRange.min) * scaling) / 2,\n    yOffset = (height - (yRange.max - yRange.min) * scaling) / 2;\n\n  const scaled = {};\n  for (let i = 0; i < circles.length; ++i) {\n    const circle = circles[i];\n    scaled[setids[i]] = {\n      radius: scaling * circle.radius,\n      x: padding + xOffset + (circle.x - xRange.min) * scaling,\n      y: padding + yOffset + (circle.y - yRange.min) * scaling,\n    };\n  }\n\n  return scaled;\n}\n","import { nelderMead } from 'fmin';\nimport { intersectionArea, distance, getCenter } from './circleintersection';\n\nfunction circleMargin(current, interior, exterior) {\n  let margin = interior[0].radius - distance(interior[0], current),\n    i,\n    m;\n  for (i = 1; i < interior.length; ++i) {\n    m = interior[i].radius - distance(interior[i], current);\n    if (m <= margin) {\n      margin = m;\n    }\n  }\n\n  for (i = 0; i < exterior.length; ++i) {\n    m = distance(exterior[i], current) - exterior[i].radius;\n    if (m <= margin) {\n      margin = m;\n    }\n  }\n  return margin;\n}\n\n// compute the center of some circles by maximizing the margin of\n// the center point relative to the circles (interior) after subtracting\n// nearby circles (exterior)\nexport function computeTextCentre(interior, exterior) {\n  // get an initial estimate by sampling around the interior circles\n  // and taking the point with the biggest margin\n  const points = [];\n  let i;\n  for (i = 0; i < interior.length; ++i) {\n    const c = interior[i];\n    points.push({ x: c.x, y: c.y });\n    points.push({ x: c.x + c.radius / 2, y: c.y });\n    points.push({ x: c.x - c.radius / 2, y: c.y });\n    points.push({ x: c.x, y: c.y + c.radius / 2 });\n    points.push({ x: c.x, y: c.y - c.radius / 2 });\n  }\n  let initial = points[0],\n    margin = circleMargin(points[0], interior, exterior);\n  for (i = 1; i < points.length; ++i) {\n    const m = circleMargin(points[i], interior, exterior);\n    if (m >= margin) {\n      initial = points[i];\n      margin = m;\n    }\n  }\n\n  // maximize the margin numerically\n  const solution = nelderMead(\n    function (p) {\n      return -1 * circleMargin({ x: p[0], y: p[1] }, interior, exterior);\n    },\n    [initial.x, initial.y],\n    { maxIterations: 500, minErrorDelta: 1e-10 }\n  ).x;\n  let ret: any = { x: solution[0], y: solution[1] };\n\n  // check solution, fallback as needed (happens if fully overlapped\n  // etc)\n  let valid = true;\n  for (i = 0; i < interior.length; ++i) {\n    if (distance(ret, interior[i]) > interior[i].radius) {\n      valid = false;\n      break;\n    }\n  }\n\n  for (i = 0; i < exterior.length; ++i) {\n    if (distance(ret, exterior[i]) < exterior[i].radius) {\n      valid = false;\n      break;\n    }\n  }\n\n  if (!valid) {\n    if (interior.length == 1) {\n      ret = { x: interior[0].x, y: interior[0].y };\n    } else {\n      const areaStats: any = {};\n      intersectionArea(interior, areaStats);\n\n      if (areaStats.arcs.length === 0) {\n        ret = { x: 0, y: -1000, disjoint: true };\n      } else if (areaStats.arcs.length == 1) {\n        ret = { x: areaStats.arcs[0].circle.x, y: areaStats.arcs[0].circle.y };\n      } else if (exterior.length) {\n        // try again without other circles\n        ret = computeTextCentre(interior, []);\n      } else {\n        // take average of all the points in the intersection\n        // polygon. this should basically never happen\n        // and has some issues:\n        // https://github.com/benfred/venn.js/issues/48#issuecomment-146069777\n        ret = getCenter(\n          areaStats.arcs.map(function (a) {\n            return a.p1;\n          })\n        );\n      }\n    }\n  }\n\n  return ret;\n}\n\n// given a dictionary of {setid : circle}, returns\n// a dictionary of setid to list of circles that completely overlap it\nfunction getOverlappingCircles(circles) {\n  const ret = {},\n    circleids = [];\n  for (const circleid in circles) {\n    circleids.push(circleid);\n    ret[circleid] = [];\n  }\n  for (let i = 0; i < circleids.length; i++) {\n    const a = circles[circleids[i]];\n    for (let j = i + 1; j < circleids.length; ++j) {\n      const b = circles[circleids[j]],\n        d = distance(a, b);\n\n      if (d + b.radius <= a.radius + 1e-10) {\n        ret[circleids[j]].push(circleids[i]);\n      } else if (d + a.radius <= b.radius + 1e-10) {\n        ret[circleids[i]].push(circleids[j]);\n      }\n    }\n  }\n  return ret;\n}\n\nexport function computeTextCentres(circles, areas) {\n  const ret = {},\n    overlapped = getOverlappingCircles(circles);\n  for (let i = 0; i < areas.length; ++i) {\n    const area = areas[i].sets,\n      areaids = {},\n      exclude = {};\n    for (let j = 0; j < area.length; ++j) {\n      areaids[area[j]] = true;\n      const overlaps = overlapped[area[j]];\n      // keep track of any circles that overlap this area,\n      // and don't consider for purposes of computing the text\n      // centre\n      for (let k = 0; k < overlaps.length; ++k) {\n        exclude[overlaps[k]] = true;\n      }\n    }\n\n    const interior = [],\n      exterior = [];\n    for (const setid in circles) {\n      if (setid in areaids) {\n        interior.push(circles[setid]);\n      } else if (!(setid in exclude)) {\n        exterior.push(circles[setid]);\n      }\n    }\n    const centre = computeTextCentre(interior, exterior);\n    ret[area] = centre;\n    if (centre.disjoint && areas[i].size > 0) {\n      console.log('WARNING: area ' + area + ' not represented on screen');\n    }\n  }\n  return ret;\n}\n\n/**\n * (x, y)  r  path\n * @param x  x\n * @param y  y\n * @param r \n * @returns  path\n */\nexport function circlePath(x, y, r) {\n  const ret = [];\n  // ret.push('\\nM', x, y);\n  // ret.push('\\nm', -r, 0);\n  // ret.push('\\na', r, r, 0, 1, 0, r * 2, 0);\n  // ret.push('\\na', r, r, 0, 1, 0, -r * 2, 0);\n  const x0 = x - r;\n  const y0 = y;\n  ret.push('M', x0, y0);\n  ret.push('A', r, r, 0, 1, 0, x0 + 2 * r, y0);\n  ret.push('A', r, r, 0, 1, 0, x0, y0);\n\n  return ret.join(' ');\n}\n\n// inverse of the circlePath function, returns a circle object from an svg path\nexport function circleFromPath(path) {\n  const tokens = path.split(' ');\n  return { x: parseFloat(tokens[1]), y: parseFloat(tokens[2]), radius: -parseFloat(tokens[4]) };\n}\n\n/** returns a svg path of the intersection area of a bunch of circles */\nexport function intersectionAreaPath(circles) {\n  const stats: any = {};\n  intersectionArea(circles, stats);\n  const arcs = stats.arcs;\n\n  if (arcs.length === 0) {\n    return 'M 0 0';\n  } else if (arcs.length == 1) {\n    const circle = arcs[0].circle;\n    return circlePath(circle.x, circle.y, circle.radius);\n  } else {\n    // draw path around arcs\n    const ret = ['\\nM', arcs[0].p2.x, arcs[0].p2.y];\n    for (let i = 0; i < arcs.length; ++i) {\n      const arc = arcs[i],\n        r = arc.circle.radius,\n        wide = arc.width > r;\n      ret.push('\\nA', r, r, 0, wide ? 1 : 0, 1, arc.p1.x, arc.p1.y);\n    }\n    return ret.join(' ');\n  }\n}\n","import { VennOptions } from './types';\n\n// \nexport const ID_FIELD = 'id';\nexport const PATH_FIELD = 'path';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS: Partial<VennOptions> = {\n  appendPadding: [10, 0, 20, 0],\n  blendMode: 'multiply',\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    fields: ['id', 'size'],\n    formatter: (datum) => {\n      return { name: datum.id, value: datum.size };\n    },\n  },\n  legend: { position: 'top-left' },\n  label: {\n    style: {\n      textAlign: 'center',\n      fill: '#fff',\n    },\n  },\n  //  \n  interactions: [{ type: 'legend-filter', enable: false }],\n  state: {\n    active: {\n      style: {\n        stroke: '#000',\n      },\n    },\n    selected: {\n      style: {\n        stroke: '#000',\n        lineWidth: 2,\n      },\n    },\n    inactive: {\n      style: {\n        fillOpacity: 0.3,\n        strokeOpacity: 0.3,\n      },\n    },\n  },\n  // \n  defaultInteractions: ['tooltip', 'venn-legend-active'],\n};\n","import { assign, memoize } from '@antv/util';\nimport { blend } from '../../utils/color/blend';\nimport { log, LEVEL } from '../../utils';\nimport { venn, scaleSolution } from './layout/layout';\nimport { intersectionAreaPath, computeTextCentres } from './layout/diagram';\nimport { ID_FIELD, PATH_FIELD } from './constant';\nimport { VennData, VennOptions } from './types';\n\ntype ColorMapFunction = (\n  colorPalette: string[],\n  data: VennData,\n  blendMode: VennOptions['blendMode'],\n  setsField: VennOptions['setsField']\n) => Map<string, string>;\n\n/**\n *  \n * @usage colorMap.get(id) => color\n *\n * @returns Map<string, string>\n */\nexport const getColorMap = memoize(\n  ((colorPalette, data, blendMode, setsField) => {\n    const colorMap = new Map<string /** id */, string /** color */>();\n    const colorPaletteLen = colorPalette.length;\n    data.forEach((d, idx) => {\n      if (d[setsField].length === 1) {\n        colorMap.set(d[ID_FIELD], colorPalette[(idx + colorPaletteLen) % colorPaletteLen]);\n      } else {\n        /**   */\n        const colorArr = d[setsField].map((id) => colorMap.get(id));\n        colorMap.set(\n          d[ID_FIELD],\n          colorArr.slice(1).reduce((a, b) => blend(a, b, blendMode), colorArr[0])\n        );\n      }\n    });\n\n    return colorMap;\n  }) as ColorMapFunction,\n  (...params) => JSON.stringify(params)\n) as ColorMapFunction;\n\n/**\n * \n *\n * @param data\n * @param width\n * @param height\n * @param padding\n * @returns \n */\nexport function layoutVennData(options: VennOptions, width: number, height: number, padding: number = 0): VennData {\n  const { data, setsField, sizeField } = options;\n\n  // \n  if (data.length === 0) {\n    log(LEVEL.WARN, false, 'warn: %s', '');\n    return [];\n  }\n\n  const vennData: VennData = data.map((d) => ({\n    ...d,\n    sets: d[setsField] || [],\n    size: d[sizeField],\n    [PATH_FIELD]: '',\n    [ID_FIELD]: '',\n  }));\n  // 1. \n  vennData.sort((a, b) => a.sets.length - b.sets.length);\n  // todo 2.  crash\n\n  const solution = venn(vennData);\n  const circles = scaleSolution(solution, width, height, padding);\n  const textCenters = computeTextCentres(circles, vennData);\n  vennData.forEach((row) => {\n    const sets = row.sets;\n    const id = sets.join(',');\n    row[ID_FIELD] = id;\n    //  vennText \n    const setCircles = sets.map((set) => circles[set]);\n    let path = intersectionAreaPath(setCircles);\n    if (!/[zZ]$/.test(path)) {\n      path += ' Z';\n    }\n    row[PATH_FIELD] = path;\n    const center = textCenters[id] || { x: 0, y: 0 };\n    assign(row, center);\n  });\n  return vennData;\n}\n\n/**\n *  \n * @param legalArr ['A', 'B']\n * @param testArr ['A', 'B', 'C'] or ['A', 'C'] 'C'\n * @return boolean\n */\nexport function islegalSets(legalArr: any[], testArr: any[]): boolean {\n  for (let i = 0; i < testArr.length; i++) {\n    if (!legalArr.includes(testArr[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n","import { IGroup } from '@antv/g-base';\nimport { registerShape, Types, Util } from '@antv/g2';\nimport { parsePathString } from '@antv/path-util';\nimport { deepAssign } from '../../utils';\nimport { Datum, Point } from '../../types';\nimport { CustomInfo } from './types';\nimport { PATH_FIELD } from './constant';\n\n/**\n * \n * @param cfg \n */\nfunction getFillAttrs(cfg: Types.ShapeInfo) {\n  // style.fill \n  return deepAssign({}, cfg.defaultStyle, { fill: cfg.color }, cfg.style);\n}\n\nregisterShape('schema', 'venn', {\n  draw(cfg: Types.ShapeInfo & { points: Point[]; nextPoints: Point[] }, container: IGroup) {\n    const data = cfg.data as Datum;\n    const segments = parsePathString(data[PATH_FIELD]);\n    const fillAttrs = getFillAttrs(cfg);\n\n    const group = container.addGroup({ name: 'venn-shape' });\n\n    group.addShape('path', {\n      attrs: {\n        ...fillAttrs,\n        path: segments,\n      },\n      name: 'venn-path',\n    });\n\n    const { offsetX, offsetY } = cfg.customInfo as CustomInfo;\n\n    const matrix = Util.transform(null, [['t', offsetX, offsetY]]);\n    group.setMatrix(matrix);\n\n    return group;\n  },\n  getMarker(markerCfg: Types.ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        lineWidth: 0,\n        stroke: color,\n        fill: color,\n        r: 4,\n      },\n    };\n  },\n});\n","import { registerGeometryLabel, GeometryLabel } from '@antv/g2';\n\n// Step 1\n//  Label \n//  GeometryLabel \nclass VennLabel extends GeometryLabel {\n  /**\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   * @returns label point\n   */\n  protected getLabelPoint(labelCfg, mappingData, index: number) {\n    const { x, y } = labelCfg.data;\n    const { offsetX, offsetY } = labelCfg.customLabelInfo;\n    return {\n      content: labelCfg.content[index],\n      x: x + offsetX,\n      y: y + offsetY,\n    };\n  }\n}\n\n// Step 2:  CustomLabel\nregisterGeometryLabel('venn', VennLabel);\n","import { View } from '@antv/g2';\n\n/** tofront:   */\nexport function placeElementsOrdered(view: View) {\n  if (!view) {\n    return;\n  }\n  const elements = view.geometries[0].elements;\n  elements.forEach((elem) => {\n    elem.shape.toFront();\n  });\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementActiveAction: any = getActionClass('element-active');\n\nexport class VennElementActive extends ElementActiveAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public active() {\n    super.active();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementHighlightAction: any = getActionClass('element-highlight');\n\nexport class VennElementHighlight extends ElementHighlightAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public highlight() {\n    super.highlight();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public clear() {\n    super.clear();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementSelectedAction: any = getActionClass('element-selected');\nconst ElementSingleSelectedAction: any = getActionClass('element-single-selected');\n\n/**\n *  \n */\nexport class VennElementSelected extends ElementSelectedAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public selected() {\n    super.selected();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n\n/**\n *  \n */\nexport class VennElementSingleSelected extends ElementSingleSelectedAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public selected() {\n    super.selected();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { registerInteraction, registerAction } from '@antv/g2';\nimport { VennElementActive } from './actions/active';\nimport { VennElementHighlight } from './actions/highlight';\nimport { VennElementSelected, VennElementSingleSelected } from './actions/selected';\n\n/** ==================  aciton ================== */\n\nregisterAction('venn-element-active', VennElementActive as any);\nregisterAction('venn-element-highlight', VennElementHighlight as any);\nregisterAction('venn-element-selected', VennElementSelected as any);\nregisterAction('venn-element-single-selected', VennElementSingleSelected as any);\n\n/** ==================  ================== */\n\n// ========= Active  =========\nregisterInteraction('venn-element-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'venn-element-active:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'venn-element-active:reset' }],\n});\n\n// =========   =========\nregisterInteraction('venn-element-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'venn-element-highlight:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'venn-element-highlight:reset' }],\n});\n\n// ========= Selected  =========\n//  venn element \nregisterInteraction('venn-element-selected', {\n  start: [{ trigger: 'element:click', action: 'venn-element-selected:toggle' }],\n  rollback: [{ trigger: 'dblclick', action: ['venn-element-selected:reset'] }],\n});\n//  venn element \nregisterInteraction('venn-element-single-selected', {\n  start: [{ trigger: 'element:click', action: 'venn-element-single-selected:toggle' }],\n  rollback: [{ trigger: 'dblclick', action: ['venn-element-single-selected:reset'] }],\n});\n\n// =========  =========\n// legend hoverelement active\nregisterInteraction('venn-legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: ['list-active:active', 'venn-element-active:active'] }],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['list-active:reset', 'venn-element-active:reset'] }],\n});\n\n// legend hoverelement active\nregisterInteraction('venn-legend-highlight', {\n  start: [\n    {\n      trigger: 'legend-item:mouseenter',\n      action: ['legend-item-highlight:highlight', 'venn-element-highlight:highlight'],\n    },\n  ],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['legend-item-highlight:reset', 'venn-element-highlight:reset'] }],\n});\n","import { Geometry } from '@antv/g2';\nimport { isArray, get, deepMix, isEqual } from '@antv/util';\nimport { interaction, animation, theme, tooltip, scale } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { schema as schemaGeometry } from '../../adaptor/geometries';\nimport {\n  deepAssign,\n  flow,\n  findGeometry,\n  transformLabel,\n  getAdjustAppendPadding,\n  normalPadding,\n  resolveAllPadding,\n} from '../../utils';\nimport { Datum } from '../../types';\nimport { log, LEVEL } from '../../utils';\nimport { getColorMap, layoutVennData, islegalSets } from './utils';\nimport { CustomInfo, VennData, VennOptions } from './types';\nimport { ID_FIELD } from './constant';\nimport './shape';\nimport './label';\nimport './interactions';\n\n/**  */\nexport const LEGEND_SPACE = 40;\n\n/**\n *  color \n */\nfunction colorMap(params: Params<VennOptions>, data: VennData, colorPalette?: string[]) {\n  const { chart, options } = params;\n  const { blendMode, setsField } = options;\n  const { colors10, colors20 } = chart.getTheme();\n  let palette = colorPalette;\n  if (!isArray(palette)) {\n    palette = data.filter((d) => d[setsField].length === 1).length <= 10 ? colors10 : colors20;\n  }\n  const map = getColorMap(palette, data, blendMode, setsField);\n\n  return (id: string) => map.get(id) || palette[0];\n}\n\n/**\n * color options \n */\nfunction transformColor(params: Params<VennOptions>, data: VennData): VennOptions['color'] {\n  const { options } = params;\n  const { color } = options;\n\n  if (typeof color !== 'function') {\n    const colorPalette = typeof color === 'string' ? [color] : color;\n    const map = colorMap(params, data, colorPalette);\n    return (datum: Datum) => map(datum[ID_FIELD]);\n  }\n  return color;\n}\n\n/**\n *  padding\n */\nfunction padding(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { legend, appendPadding, padding } = options;\n\n  //  legend .  40px,  appendPadding \n  let tempPadding: number[] = normalPadding(appendPadding);\n  if (legend !== false) {\n    tempPadding = getAdjustAppendPadding(appendPadding, get(legend, 'position'), LEGEND_SPACE);\n  }\n\n  chart.appendPadding = resolveAllPadding([tempPadding, padding]);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction data(params: Params<VennOptions>): Params<VennOptions> {\n  const { options } = params;\n\n  /*     \n   * \n   * data = [\n   *   { sets: ['A'], size: 3 }, // \n   *   { sets: ['B'], size: 4 }, // \n   *   { sets: ['A', 'B'], size: 2 }, // \n   *   { sets: ['A', 'B', 'C'], size: 2 }, //  ( C)\n   *   ...\n   * ]\n   */\n\n  let data = options['data'];\n  if (!data) {\n    log(LEVEL.WARN, false, 'warn: %s', '');\n    data = [];\n  }\n\n  // ['A', 'B']\n  const currSets = data.filter((datum) => datum.sets.length === 1).map((datum) => datum.sets[0]);\n  //  data\n  const filterSets = data.filter((datum) => {\n    const sets = datum.sets;\n    // \n    return islegalSets(currSets, sets);\n  });\n\n  if (!isEqual(filterSets, data)) log(LEVEL.WARN, false, 'warn: %s', ', ');\n\n  return deepMix({}, params, {\n    options: {\n      data: filterSets,\n    },\n  });\n}\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { pointStyle, setsField, sizeField } = options;\n\n  // \n  const [t, r, b, l] = normalPadding(chart.appendPadding);\n  //  legend .  40px,  appendPadding \n  const customInfo: CustomInfo = { offsetX: l, offsetY: t };\n  // coordinateBBox + appendPadding = viewBBox,  appendPadding  viewBBox\n  const { width, height } = chart.viewBBox;\n  // padding w  h \n  const vennData: VennData = layoutVennData(options, Math.max(width - (r + l), 0), Math.max(height - (t + b), 0), 0);\n  chart.data(vennData);\n\n  const { ext } = schemaGeometry(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        sizeField: sizeField,\n        seriesField: ID_FIELD,\n        rawFields: [setsField, sizeField],\n        schema: {\n          shape: 'venn',\n          style: pointStyle,\n        },\n      },\n    })\n  );\n\n  const geometry = ext.geometry as Geometry;\n  geometry.customInfo(customInfo);\n\n  const colorOptions = transformColor(params, vennData);\n  // , color .  datum\n  if (typeof colorOptions === 'function') {\n    geometry.color(ID_FIELD, (id) => {\n      const datum = vennData.find((d) => d[ID_FIELD] === id);\n      const defaultColor = colorMap(params, vennData)(id);\n      return colorOptions(datum, defaultColor);\n    });\n  }\n\n  return params;\n}\n\n/**\n *  label\n * @param params\n */\nfunction label(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  // \n  const [t, , , l] = normalPadding(chart.appendPadding);\n  //  label  \n  const customLabelInfo = { offsetX: l, offsetY: t };\n\n  const geometry = findGeometry(chart, 'schema');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: ['id'],\n      callback,\n      cfg: deepMix({}, transformLabel(cfg), {\n        //  G2  label \n        type: 'venn',\n        customLabelInfo,\n      }),\n    });\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { legend, sizeField } = options;\n\n  chart.legend(ID_FIELD, legend);\n  //  \n  chart.legend(sizeField, false);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function axis(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart } = params;\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n *  interaction \n */\nfunction vennInteraction(params: Params<VennOptions>): Params<VennOptions> {\n  const { options, chart } = params;\n  const { interactions } = options;\n\n  if (interactions) {\n    const MAP = {\n      'legend-active': 'venn-legend-active',\n      'legend-highlight': 'venn-legend-highlight',\n    };\n    interaction(\n      deepAssign({}, params, {\n        options: {\n          interactions: interactions.map((i) => ({\n            ...i,\n            type: MAP[i.type] || i.type,\n          })),\n        },\n      })\n    );\n  }\n\n  chart.removeInteraction('legend-active');\n  chart.removeInteraction('legend-highlight');\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<VennOptions>) {\n  // flow  G2 API\n  return flow(\n    padding,\n    theme,\n    data,\n    geometry,\n    label,\n    scale({}),\n    legend,\n    axis,\n    tooltip,\n    vennInteraction,\n    animation\n    // ...  adaptor flow\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { VennOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { VennOptions };\n\n/**\n *  \n */\nexport class Venn extends Plot<VennOptions> {\n  /**  */\n  public type: string = 'venn';\n\n  static getDefaultOptions() {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Venn.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<VennOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      this.chart.forceFit(); // g2  changeSizechangeSize  render(true)\n      this.chart.clear();\n      this.execAdaptor(); // \n      // \n      this.chart.render(true);\n    }\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\nexport const Y_FIELD = '$$stock-range$$';\n\nexport const TREND_FIELD = 'trend';\nexport const TREND_UP = 'up';\nexport const TREND_DOWN = 'down';\n\n/** tooltip  */\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showMarkers: false,\n  showCrosshairs: true,\n  shared: true,\n  crosshairs: {\n    type: 'xy',\n    follow: true,\n    text: (type, defaultContent, items) => {\n      let textContent;\n      if (type === 'x') {\n        const item = items[0];\n        textContent = item ? item.title : defaultContent;\n      } else {\n        textContent = defaultContent;\n      }\n      return {\n        position: type === 'y' ? 'start' : 'end',\n        content: textContent,\n        style: {\n          fill: '#dfdfdf',\n        },\n      };\n    },\n    //  crosshairs textBackground \n    textBackground: {\n      padding: [2, 4],\n      style: {\n        fill: '#666',\n      },\n    },\n  },\n};\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  //  tooltips\n  tooltip: DEFAULT_TOOLTIP_OPTIONS,\n  interactions: [{ type: 'tooltip' }],\n  legend: {\n    position: 'top-left',\n  },\n  risingFill: '#ef5350',\n  fallingFill: '#26a69a',\n});\n","import { isArray, map } from '@antv/util';\nimport { TREND_FIELD, TREND_DOWN, TREND_UP, Y_FIELD } from './constant';\n\n/**\n * @desc \n * @param data\n * @param yField\n */\nexport function getStockData(data, yField) {\n  return map(data, (obj) => {\n    if (isArray(yField)) {\n      const [open, close, high, low] = yField;\n      obj[TREND_FIELD] = obj[open] <= obj[close] ? TREND_UP : TREND_DOWN;\n      obj[Y_FIELD] = [obj[open], obj[close], obj[high], obj[low]];\n    }\n    return obj;\n  });\n}\n","import { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, annotation, slider } from '../../adaptor/common';\nimport { schema } from '../../adaptor/geometries';\nimport { flow, pick, deepAssign } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\n\nimport { Y_FIELD, TREND_FIELD, TREND_UP, TREND_DOWN } from './constant';\nimport { StockOptions } from './types';\nimport { getStockData } from './utils';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { yField } = options;\n\n  const { data, risingFill, fallingFill, tooltip, stockStyle } = options;\n\n  chart.data(getStockData(data, yField));\n\n  let tooltipOptions = tooltip;\n  if (tooltipOptions !== false) {\n    tooltipOptions = deepAssign({}, { fields: yField }, tooltipOptions);\n  }\n\n  schema(\n    deepAssign({}, params, {\n      options: {\n        schema: {\n          shape: 'candle',\n          color: [risingFill, fallingFill],\n          style: stockStyle,\n        },\n        yField: Y_FIELD,\n        seriesField: TREND_FIELD,\n        rawFields: yField,\n        tooltip: tooltipOptions,\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis, xField } = options;\n\n  const baseMeta = {\n    [xField]: {\n      type: 'timeCat',\n      tickCount: 6,\n    },\n    [TREND_FIELD]: {\n      values: [TREND_UP, TREND_DOWN],\n    },\n  };\n\n  const scales = deepAssign(baseMeta, meta, {\n    [xField]: pick(xAxis, AXIS_META_CONFIG_KEYS),\n    [Y_FIELD]: pick(yAxis, AXIS_META_CONFIG_KEYS),\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(Y_FIELD, false);\n  } else {\n    chart.axis(Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip !== false) {\n    chart.tooltip(tooltip);\n  } else {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n\n  if (legend) {\n    chart.legend(TREND_FIELD, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * K\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<StockOptions>) {\n  // flow  G2 API\n  flow(theme, geometry, meta, axis, tooltip, legend, interaction, animation, annotation(), slider)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { StockOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { getStockData } from './utils';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { StockOptions };\n\nexport class Stock extends Plot<StockOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<StockOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'stock';\n\n  /**\n   * \n   *  g2/g2plot    -->         -->          -->      \n   */\n  protected getDefaultOptions(): Partial<StockOptions> {\n    return Stock.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<StockOptions> {\n    return adaptor;\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: StockOptions['data']) {\n    this.updateOption({ data });\n    const { yField } = this.options;\n    this.chart.changeData(getStockData(data, yField));\n  }\n}\n","// : data[n][yField] / data[0][yField]\nexport const FUNNEL_PERCENT = '$$percentage$$';\n// \nexport const FUNNEL_MAPPING_VALUE = '$$mappingValue$$';\n// : data[n][yField] / data[n-1][yField];\nexport const FUNNEL_CONVERSATION = '$$conversion$$';\n// \n// data[n][yField] / sum(data[0-n][yField])\nexport const FUNNEL_TOTAL_PERCENT = '$$totalPercentage$$';\n//  x \nexport const PLOYGON_X = '$$x$$';\nexport const PLOYGON_Y = '$$y$$';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: [0, 80],\n  minSize: 0,\n  maxSize: 1,\n  meta: {\n    [FUNNEL_MAPPING_VALUE]: {\n      min: 0,\n      max: 1,\n      nice: false,\n    },\n  },\n  label: {\n    style: {\n      fill: '#fff',\n      fontSize: 12,\n    },\n  },\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    shared: false,\n  },\n  conversionTag: {\n    offsetX: 10,\n    offsetY: 0,\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.45)',\n    },\n  },\n};\n","import { Types } from '@antv/g2';\nimport { isFunction, map, isNumber, maxBy, get } from '@antv/util';\nimport { Datum, Data } from '../../../types/common';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { Params } from '../../../core/adaptor';\nimport { FunnelOptions } from '../types';\n\n/**\n *  transform\n * @param geometry\n */\nexport function transformData(\n  data: FunnelOptions['data'],\n  originData: FunnelOptions['data'],\n  options: Pick<FunnelOptions, 'yField' | 'maxSize' | 'minSize'>\n): FunnelOptions['data'] {\n  let formatData = [];\n  const { yField, maxSize, minSize } = options;\n  const maxYFieldValue = get(maxBy(originData, yField), [yField]);\n  const max = isNumber(maxSize) ? maxSize : 1;\n  const min = isNumber(minSize) ? minSize : 0;\n\n  // format \n  formatData = map(data, (row, index) => {\n    const percent = (row[yField] || 0) / maxYFieldValue;\n    row[FUNNEL_PERCENT] = percent;\n    row[FUNNEL_MAPPING_VALUE] = (max - min) * percent + min;\n    // \n    row[FUNNEL_CONVERSATION] = [get(data, [index - 1, yField]), row[yField]];\n    return row;\n  });\n\n  return formatData;\n}\n\n/**\n * \n * @param getLineCoordinate  line \n */\nexport function conversionTagComponent(\n  getLineCoordinate: (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ) => Types.LineOption\n) {\n  return function (params: Params<FunnelOptions>): Params<FunnelOptions> {\n    const { chart, options } = params;\n    const { conversionTag } = options;\n\n    const { data } = chart.getOptions();\n\n    if (conversionTag) {\n      const { formatter } = conversionTag;\n      data.forEach((obj, index) => {\n        if (index <= 0 || Number.isNaN(obj[FUNNEL_MAPPING_VALUE])) return;\n        const lineOption = getLineCoordinate(obj, index, data, {\n          top: true,\n          text: {\n            content: isFunction(formatter) ? formatter(obj, data) : formatter,\n            offsetX: conversionTag.offsetX,\n            offsetY: conversionTag.offsetY,\n            position: 'end',\n            autoRotate: false,\n            style: {\n              textAlign: 'start',\n              textBaseline: 'middle',\n              ...conversionTag.style,\n            },\n          },\n        });\n\n        chart.annotation().line(lineOption);\n      });\n    }\n    return params;\n  };\n}\n","import { Types } from '@antv/g2';\nimport { isArray } from '@antv/util';\nimport { flow, findGeometry } from '../../../utils';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { Params } from '../../../core/adaptor';\nimport { Datum, Data } from '../../../types/common';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { FunnelOptions } from '../types';\nimport { FUNNEL_CONVERSATION, FUNNEL_PERCENT, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { conversionTagComponent, transformData } from './common';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField, maxSize, minSize } = options;\n  const formatData = transformData(data, data, {\n    yField,\n    maxSize,\n    minSize,\n  });\n\n  // \n  chart.data(formatData);\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { xField, yField, color, tooltip, label, shape = 'funnel', funnelStyle, state } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField]);\n\n  baseGeometry({\n    chart,\n    options: {\n      type: 'interval',\n      xField: xField,\n      yField: FUNNEL_MAPPING_VALUE,\n      colorField: xField,\n      tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n      mapping: {\n        shape,\n        tooltip: formatter,\n        color,\n        style: funnelStyle,\n      },\n      label,\n      state,\n    },\n  });\n\n  const geo = findGeometry(params.chart, 'interval');\n  geo.adjust('symmetric');\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction transpose(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { isTransposed } = options;\n  chart.coordinate({\n    type: 'rect',\n    actions: !isTransposed ? [['transpose'], ['scale', 1, -1]] : [],\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { maxSize } = options;\n\n  const getLineCoordinate = (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ): Types.LineOption => {\n    const percent = maxSize - (maxSize - datum[FUNNEL_MAPPING_VALUE]) / 2;\n    return {\n      ...initLineOption,\n      start: [datumIndex - 0.5, percent],\n      end: [datumIndex - 0.5, percent + 0.05],\n    };\n  };\n\n  conversionTagComponent(getLineCoordinate)(params);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function basicFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, transpose, conversionTag)(params);\n}\n","import { Types } from '@antv/g2';\nimport { isArray } from '@antv/util';\nimport { flow, deepAssign } from '../../../utils';\nimport { Params } from '../../../core/adaptor';\nimport { Datum, Data } from '../../../types/common';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { FunnelOptions } from '../types';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { conversionTagComponent, transformData } from './common';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n\n  // \n  chart.data(data);\n  chart.scale({\n    [yField]: {\n      sync: true,\n    },\n  });\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    xField,\n    yField,\n    color,\n    compareField,\n    isTransposed,\n    tooltip,\n    maxSize,\n    minSize,\n    label,\n    funnelStyle,\n    state,\n    showFacetTitle,\n  } = options;\n\n  chart.facet('mirror', {\n    fields: [compareField],\n    // \n    transpose: !isTransposed,\n    padding: isTransposed ? 0 : [32, 0, 0, 0],\n    showTitle: showFacetTitle,\n    eachView(view, facet) {\n      const index = isTransposed ? facet.rowIndex : facet.columnIndex;\n\n      if (!isTransposed) {\n        view.coordinate({\n          type: 'rect',\n          actions: [['transpose'], ['scale', index === 0 ? -1 : 1, -1]],\n        });\n      }\n\n      const formatterData = transformData(facet.data, data, {\n        yField,\n        maxSize,\n        minSize,\n      });\n\n      view.data(formatterData);\n\n      // \n      const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, compareField]);\n\n      const defaultFacetLabel = isTransposed\n        ? {\n            offset: index === 0 ? 10 : -23,\n            position: (index === 0 ? 'bottom' : 'top') as Types.IntervalGeometryLabelPosition,\n          }\n        : {\n            offset: 10,\n            position: 'left' as Types.IntervalGeometryLabelPosition,\n            style: {\n              textAlign: index === 0 ? 'end' : 'start',\n            },\n          };\n\n      baseGeometry({\n        chart: view,\n        options: {\n          type: 'interval',\n          xField: xField,\n          yField: FUNNEL_MAPPING_VALUE,\n          colorField: xField,\n          tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n          mapping: {\n            // todo   shape\n            shape: 'funnel',\n            tooltip: formatter,\n            color,\n            style: funnelStyle,\n          },\n          label: label === false ? false : deepAssign({}, defaultFacetLabel, label),\n          state,\n        },\n      });\n    },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { conversionTag, isTransposed } = options;\n  // @ts-ignore\n  chart.once('beforepaint', () => {\n    chart.views.forEach((view, viewIndex) => {\n      const getLineCoordinate = (\n        datum: Datum,\n        datumIndex: number,\n        data: Data,\n        initLineOption: Record<string, any>\n      ): Types.LineOption => {\n        const ratio = viewIndex === 0 ? -1 : 1;\n        return deepAssign({}, initLineOption, {\n          start: [datumIndex - 0.5, datum[FUNNEL_MAPPING_VALUE]],\n          end: [datumIndex - 0.5, datum[FUNNEL_MAPPING_VALUE] + 0.05],\n          text: isTransposed\n            ? {\n                style: {\n                  textAlign: 'start',\n                },\n              }\n            : {\n                offsetX: conversionTag !== false ? ratio * conversionTag.offsetX : 0,\n                style: {\n                  textAlign: viewIndex === 0 ? 'end' : 'start',\n                },\n              },\n        });\n      };\n\n      conversionTagComponent(getLineCoordinate)(\n        deepAssign(\n          {},\n          {\n            chart: view,\n            options,\n          }\n        )\n      );\n    });\n  });\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function compareFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, conversionTag)(params);\n}\n","import { flow, deepAssign } from '../../../utils';\nimport { Params } from '../../../core/adaptor';\nimport { FunnelOptions } from '../types';\nimport { basicFunnel } from './basic';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n  // \n  chart.data(data);\n  chart.scale({\n    [yField]: {\n      sync: true,\n    },\n  });\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { seriesField, isTransposed, showFacetTitle } = options;\n\n  chart.facet('rect', {\n    fields: [seriesField],\n    padding: [isTransposed ? 0 : 32, 10, 0, 10],\n    showTitle: showFacetTitle,\n    eachView(view, facet) {\n      basicFunnel(\n        deepAssign({}, params, {\n          chart: view,\n          options: {\n            data: facet.data,\n          },\n        })\n      );\n    },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function facetFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry)(params);\n}\n","import { map, reduce, maxBy, isArray, get } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { flow } from '../../../utils';\nimport { Params } from '../../../core/adaptor';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_TOTAL_PERCENT, PLOYGON_X, PLOYGON_Y } from '../constant';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { Datum, Data } from '../../../types/common';\nimport { FunnelOptions } from '../types';\nimport { conversionTagComponent } from './common';\n\n/**\n * \n * @param params\n * :  yfield 2 2\n * :  g2 data ->  -> \n *  -0.5 <= x <= 0.5, 0 <= y <= 1 \n * ,  x \n *  data.length + 1  y = 4x - 1 [0.5, 1], [0.25, 0] data  y  y \n */\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n\n  // \n  const sum = reduce(\n    data,\n    (total, item) => {\n      return total + (item[yField] || 0);\n    },\n    0\n  );\n\n  const max = maxBy(data, yField)[yField];\n\n  const formatData = map(data, (row, index) => {\n    //  xy  [, ]\n    const x = [];\n    const y = [];\n\n    row[FUNNEL_TOTAL_PERCENT] = (row[yField] || 0) / sum;\n\n    // \n    if (index) {\n      const preItemX = data[index - 1][PLOYGON_X];\n      const preItemY = data[index - 1][PLOYGON_Y];\n      x[0] = preItemX[3];\n      y[0] = preItemY[3];\n      x[1] = preItemX[2];\n      y[1] = preItemY[2];\n    } else {\n      x[0] = -0.5;\n      y[0] = 1;\n      x[1] = 0.5;\n      y[1] = 1;\n    }\n\n    // \n    y[2] = y[1] - row[FUNNEL_TOTAL_PERCENT];\n    x[2] = (y[2] + 1) / 4;\n    y[3] = y[2];\n    x[3] = -x[2];\n\n    // \n    row[PLOYGON_X] = x;\n    row[PLOYGON_Y] = y;\n    row[FUNNEL_PERCENT] = (row[yField] || 0) / max;\n    row[FUNNEL_CONVERSATION] = [get(data, [index - 1, yField]), row[yField]];\n    return row;\n  });\n\n  chart.data(formatData);\n\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { xField, yField, color, tooltip, label, funnelStyle, state } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField]);\n  // \n  baseGeometry({\n    chart,\n    options: {\n      type: 'polygon',\n      xField: PLOYGON_X,\n      yField: PLOYGON_Y,\n      colorField: xField,\n      tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n      label,\n      state,\n      mapping: {\n        tooltip: formatter,\n        color,\n        style: funnelStyle,\n      },\n    },\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction transpose(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { isTransposed } = options;\n  chart.coordinate({\n    type: 'rect',\n    actions: isTransposed ? [['transpose'], ['reflect', 'x']] : [],\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const getLineCoordinate = (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ): Types.LineOption => {\n    return {\n      ...initLineOption,\n      start: [datum[PLOYGON_X][1], datum[PLOYGON_Y][1]],\n      end: [datum[PLOYGON_X][1] + 0.05, datum[PLOYGON_Y][1]],\n    };\n  };\n\n  conversionTagComponent(getLineCoordinate)(params);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function dynamicHeightFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, transpose, conversionTag)(params);\n}\n","import { isFunction, clone } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, scale, annotation, tooltip } from '../../adaptor/common';\nimport { getLocale } from '../../core/locale';\nimport { Datum } from '../../types';\nimport { flow, deepAssign } from '../../utils';\nimport { conversionTagFormatter } from '../../utils/conversion';\nimport { FunnelOptions } from './types';\nimport { basicFunnel } from './geometries/basic';\nimport { compareFunnel } from './geometries/compare';\nimport { facetFunnel } from './geometries/facet';\nimport { dynamicHeightFunnel } from './geometries/dynamic-height';\nimport { FUNNEL_CONVERSATION, FUNNEL_PERCENT } from './constant';\n\n/**\n *\n * geometry,\n * 1. interval.shape('funnel')\n * 2. \n * 3. polypon\n * 4.  + list \n* /\n\n/**\n * options \n * @param params\n */\nfunction defaultOptions(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { compareField, xField, yField, locale, funnelStyle, data } = options;\n  const i18n = getLocale(locale);\n\n  const defaultOption = {\n    label: compareField\n      ? {\n          fields: [xField, yField, compareField, FUNNEL_PERCENT, FUNNEL_CONVERSATION],\n          formatter: (datum) => `${datum[yField]}`,\n        }\n      : {\n          fields: [xField, yField, FUNNEL_PERCENT, FUNNEL_CONVERSATION],\n          offset: 0,\n          position: 'middle',\n          formatter: (datum) => `${datum[xField]} ${datum[yField]}`,\n        },\n    tooltip: {\n      title: xField,\n      formatter: (datum) => {\n        return { name: datum[xField], value: datum[yField] };\n      },\n    },\n    conversionTag: {\n      // conversionTag \n      formatter: (datum) =>\n        `${i18n.get(['conversionTag', 'label'])}: ${conversionTagFormatter(\n          ...(datum[FUNNEL_CONVERSATION] as [number, number])\n        )}`,\n    },\n  };\n\n  // \n  let style;\n  if (compareField || funnelStyle) {\n    style = (datum: Datum) => {\n      return deepAssign(\n        {},\n        // \n        compareField && { lineWidth: 1, stroke: '#fff' },\n        isFunction(funnelStyle) ? funnelStyle(datum) : funnelStyle\n      );\n    };\n  }\n\n  return deepAssign({ options: defaultOption }, params, { options: { funnelStyle: style, data: clone(data) } });\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { compareField, dynamicHeight, seriesField } = options;\n  if (seriesField) {\n    return facetFunnel(params);\n  }\n  if (compareField) {\n    return compareFunnel(params);\n  }\n  if (dynamicHeight) {\n    return dynamicHeightFunnel(params);\n  }\n\n  return basicFunnel(params);\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * \n * @param params\n */\nfunction axis(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    chart.legend(legend);\n    // TODO FIX: legend-click \n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<FunnelOptions>) {\n  return flow(\n    defaultOptions,\n    geometry,\n    meta,\n    axis,\n    tooltip,\n    interaction,\n    legend,\n    animation,\n    theme,\n    annotation()\n  )(params);\n}\n","import { each } from '@antv/util';\nimport { Element } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { StateName, StateCondition, StateObject } from '../..';\nimport { getAllElementsRecursively } from '../../utils';\nimport { FunnelOptions } from './types';\nimport { adaptor } from './adaptor';\nimport {\n  DEFAULT_OPTIONS,\n  FUNNEL_CONVERSATION as FUNNEL_CONVERSATION_FIELD,\n  FUNNEL_PERCENT,\n  FUNNEL_TOTAL_PERCENT,\n} from './constant';\n\nexport type { FunnelOptions };\n\nexport { FUNNEL_CONVERSATION_FIELD };\n\nexport class Funnel extends Plot<FunnelOptions> {\n  /**  */\n  public type: string = 'funnel';\n\n  static getDefaultOptions(): Partial<FunnelOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  // \n  /**    */\n  static CONVERSATION_FIELD = FUNNEL_CONVERSATION_FIELD;\n  /**    */\n  static PERCENT_FIELD = FUNNEL_PERCENT;\n  /**    */\n  static TOTAL_PERCENT_FIELD = FUNNEL_TOTAL_PERCENT;\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<FunnelOptions> {\n    //  defaultOption  core.getDefaultOptions funnel  defaulOption  adaptor  defaultOption \n    return Funnel.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<FunnelOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   * @param type  'active' | 'inactive' | 'selected' \n   * @param conditions \n   * @param status  true\n   */\n  public setState(type: StateName, condition: StateCondition, status: boolean = true) {\n    const elements = getAllElementsRecursively(this.chart);\n\n    each(elements, (ele: Element) => {\n      if (condition(ele.getData())) {\n        ele.setState(type, status);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public getStates(): StateObject[] {\n    const elements = getAllElementsRecursively(this.chart);\n\n    const stateObjects: StateObject[] = [];\n    each(elements, (element: Element) => {\n      const data = element.getData();\n      const states = element.getStates();\n      each(states, (state) => {\n        stateObjects.push({ data, state, geometry: element.geometry, element });\n      });\n    });\n\n    return stateObjects;\n  }\n}\n","const CAT_VALUE = 'liquid';\n\n/**\n * \n */\nexport function getLiquidData(percent: number) {\n  return [{ percent, type: CAT_VALUE }];\n}\n","import { Geometry } from '@antv/g2';\nimport { get, isNil } from '@antv/util';\nimport { interaction, animation, theme, scale, pattern } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign, renderStatistic } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { LiquidOptions, CustomInfo } from './types';\nimport { getLiquidData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<LiquidOptions>): Params<LiquidOptions> {\n  const { chart, options } = params;\n  const { percent, liquidStyle, radius, outline, wave, shape, animation } = options;\n\n  chart.scale({\n    percent: {\n      min: 0,\n      max: 1,\n    },\n  });\n\n  chart.data(getLiquidData(percent));\n\n  const color = options.color || chart.getTheme().defaultColor;\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'type',\n      yField: 'percent',\n      // radius  columnWidthRatio \n      //   radius \n      widthRatio: radius,\n      interval: {\n        color,\n        style: liquidStyle,\n        shape: 'liquid-fill-gauge',\n      },\n    },\n  });\n  const { ext } = interval(p);\n  const geometry = ext.geometry as Geometry;\n  const { background } = chart.getTheme();\n  const customInfo: CustomInfo = {\n    radius,\n    outline,\n    wave,\n    shape,\n    background,\n    animation,\n  };\n\n  //  radius  shape \n  geometry.customInfo(customInfo);\n\n  // \n  chart.legend(false);\n  chart.axis(false);\n  chart.tooltip(false);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function statistic(params: Params<LiquidOptions>, updated?: boolean): Params<LiquidOptions> {\n  const { chart, options } = params;\n  const { statistic, percent, meta } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n\n  const metaFormatter = get(meta, ['percent', 'formatter']) || ((v) => `${(v * 100).toFixed(2)}%`);\n  let contentOpt = statistic.content;\n  if (contentOpt) {\n    contentOpt = deepAssign({}, contentOpt, {\n      content: !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(percent),\n    });\n  }\n\n  renderStatistic(chart, { statistic: { ...statistic, content: contentOpt }, plotType: 'liquid' }, { percent });\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<LiquidOptions>) {\n  // flow  G2 API ()\n  return flow(theme, pattern('liquidStyle'), geometry, statistic, scale({}), animation, interaction)(params);\n}\n","/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  radius: 0.9,\n  statistic: {\n    title: false as const,\n    content: {\n      style: {\n        opacity: 0.75,\n        fontSize: '30px',\n        lineHeight: '30px',\n        textAlign: 'center',\n      },\n    },\n  },\n  outline: {\n    border: 2,\n    distance: 0,\n  },\n  wave: {\n    count: 3,\n    length: 192,\n  },\n  shape: 'circle',\n};\n","import { registerShape } from '@antv/g2';\nimport { IGroup, IShape } from '@antv/g-base';\nimport { reduce, isNumber, mix } from '@antv/util';\nimport { transform } from '../../../utils/matrix';\nimport { Point, ShapeStyle } from '../../../types';\nimport { LiquidOptions, CustomInfo } from '../types';\n\nconst DURATION = 5000;\n\n/**\n * \n * @param min\n * @param max\n * @param factor\n */\nfunction lerp(min: number, max: number, factor: number) {\n  return min + (max - min) * factor;\n}\n\n/**\n *  attrs\n * @param cfg\n */\nfunction getFillAttrs(cfg: ShapeStyle) {\n  const attrs = { opacity: 1, ...cfg.style };\n\n  if (cfg.color && !attrs.fill) {\n    attrs.fill = cfg.color;\n  }\n\n  return attrs;\n}\n\n/**\n * shape  attrs\n * @param cfg\n */\nfunction getLineAttrs(cfg: ShapeStyle) {\n  const defaultAttrs = {\n    fill: '#fff',\n    fillOpacity: 0,\n    lineWidth: 4,\n  };\n  const attrs = mix({}, defaultAttrs, cfg.style);\n\n  if (cfg.color && !attrs.stroke) {\n    attrs.stroke = cfg.color;\n  }\n  if (isNumber(cfg.opacity)) {\n    attrs.opacity = attrs.strokeOpacity = cfg.opacity;\n  }\n\n  return attrs;\n}\n\n/**\n * \n * Using Bezier curves to fit sine wave.\n * There is 4 control points for each curve of wave,\n * which is at 1/4 wave length of the sine wave.\n *\n * The control points for a wave from (a) to (d) are a-b-c-d:\n *          c *----* d\n *     b *\n *       |\n * ... a * ..................\n *\n * whose positions are a: (0, 0), b: (0.5, 0.5), c: (1, 1), d: (PI / 2, 1)\n *\n * @param x          x position of the left-most point (a)\n * @param stage      0-3, stating which part of the wave it is\n * @param waveLength wave length of the sine wave\n * @param amplitude  wave amplitude\n * @return \n */\nfunction getWaterWavePositions(x: number, stage: number, waveLength: number, amplitude: number) {\n  if (stage === 0) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, amplitude],\n      [x + waveLength / 4, amplitude],\n    ];\n  }\n  if (stage === 1) {\n    return [\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), amplitude],\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), amplitude / 2],\n      [x + waveLength / 4, 0],\n    ];\n  }\n  if (stage === 2) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, -amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, -amplitude],\n      [x + waveLength / 4, -amplitude],\n    ];\n  }\n  return [\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), -amplitude],\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), -amplitude / 2],\n    [x + waveLength / 4, 0],\n  ];\n}\n/**\n * \n * @param radius          \n * @param waterLevel      \n * @param waveLength      \n * @param phase           \n * @param amplitude       \n * @param cx              x\n * @param cy              y\n * @return path            \n * @reference http://gitlab.alipay-inc.com/datavis/g6/blob/1.2.0/src/graph/utils/path.js#L135\n */\nfunction getWaterWavePath(\n  radius: number,\n  waterLevel: number,\n  waveLength: number,\n  phase: number,\n  amplitude: number,\n  cx: number,\n  cy: number\n) {\n  const curves = Math.ceil(((2 * radius) / waveLength) * 4) * 4;\n  const path = [];\n  let _phase = phase;\n\n  // map phase to [-Math.PI * 2, 0]\n  while (_phase < -Math.PI * 2) {\n    _phase += Math.PI * 2;\n  }\n  while (_phase > 0) {\n    _phase -= Math.PI * 2;\n  }\n  _phase = (_phase / Math.PI / 2) * waveLength;\n\n  const left = cx - radius + _phase - radius * 2;\n  /**\n   * top-left corner as start point\n   *\n   * draws this point\n   *  |\n   * \\|/\n   *  ~~~~~~~~\n   *  |      |\n   *  +------+\n   */\n  path.push(['M', left, waterLevel]);\n\n  /**\n   * top wave\n   *\n   * ~~~~~~~~ <- draws this sine wave\n   * |      |\n   * +------+\n   */\n  let waveRight = 0;\n  for (let c = 0; c < curves; ++c) {\n    const stage = c % 4;\n    const pos = getWaterWavePositions((c * waveLength) / 4, stage, waveLength, amplitude);\n    path.push([\n      'C',\n      pos[0][0] + left,\n      -pos[0][1] + waterLevel,\n      pos[1][0] + left,\n      -pos[1][1] + waterLevel,\n      pos[2][0] + left,\n      -pos[2][1] + waterLevel,\n    ]);\n\n    if (c === curves - 1) {\n      waveRight = pos[2][0];\n    }\n  }\n\n  /**\n   * top-right corner\n   *\n   *                       ~~~~~~~~\n   * 3. draws this line -> |      | <- 1. draws this line\n   *                       +------+\n   *                          ^\n   *                          |\n   *                  2. draws this line\n   */\n  path.push(['L', waveRight + left, cy + radius]);\n  path.push(['L', left, cy + radius]);\n  path.push(['Z']);\n  // path.push(['L', left, waterLevel]);\n  return path;\n}\n\n/**\n * \n * @param x           x\n * @param y           y\n * @param level        01\n * @param waveCount   \n * @param waveAttrs      \n * @param group       \n * @param clip        \n * @param radius      \n * @param waveLength  \n */\nexport function addWaterWave(\n  x: number,\n  y: number,\n  level: number,\n  waveCount: number,\n  waveAttrs: ShapeStyle,\n  group: IGroup,\n  clip: IShape,\n  radius: number,\n  waveLength: number,\n  animation: LiquidOptions['animation']\n) {\n  //   \n  const { fill, opacity } = waveAttrs;\n  const bbox = clip.getBBox();\n  const width = bbox.maxX - bbox.minX;\n  const height = bbox.maxY - bbox.minY;\n\n  //  waveCount \n  for (let idx = 0; idx < waveCount; idx++) {\n    const factor = waveCount <= 1 ? 0 : idx / (waveCount - 1);\n\n    // \n    const wave = group.addShape('path', {\n      name: `waterwave-path`,\n      attrs: {\n        // \n        path: getWaterWavePath(\n          radius,\n          bbox.minY + height * level,\n          waveLength,\n          0,\n          width / 32, // \n          x,\n          y\n        ),\n        fill,\n        opacity: lerp(0.2, 0.9, factor) * opacity,\n      },\n    });\n\n    try {\n      //  underfind \n      if (animation === false) return;\n      const matrix = transform([['t', waveLength, 0]]);\n\n      wave.stopAnimate();\n      wave.animate(\n        { matrix },\n        {\n          duration: lerp(0.5 * DURATION, DURATION, factor),\n          repeat: true,\n        }\n      );\n    } catch (e) {\n      // TODO off-screen canvas  canvas\n      console.warn('off-screen group animate error!');\n    }\n  }\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction pin(x: number, y: number, width: number, height: number) {\n  const w = (width * 2) / 3;\n  const h = Math.max(w, height);\n  const r = w / 2;\n\n  // attrs of the upper circle\n  const cx = x;\n  const cy = r + y - h / 2;\n  const theta = Math.asin(r / ((h - r) * 0.85));\n  const dy = Math.sin(theta) * r;\n  const dx = Math.cos(theta) * r;\n\n  // the start point of the path\n  const x0 = cx - dx;\n  const y0 = cy + dy;\n\n  // control point\n  const cpX = x;\n  const cpY = cy + r / Math.sin(theta);\n\n  return `\n      M ${x0} ${y0}\n      A ${r} ${r} 0 1 1 ${x0 + dx * 2} ${y0}\n      Q ${cpX} ${cpY} ${x} ${y + h / 2}\n      Q ${cpX} ${cpY} ${x0} ${y0}\n      Z \n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction circle(x: number, y: number, width: number, height: number) {\n  const rx = width / 2;\n  const ry = height / 2;\n  return `\n      M ${x} ${y - ry} \n      a ${rx} ${ry} 0 1 0 0 ${ry * 2}\n      a ${rx} ${ry} 0 1 0 0 ${-ry * 2}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction diamond(x: number, y: number, width: number, height: number) {\n  const h = height / 2;\n  const w = width / 2;\n  return `\n      M ${x} ${y - h}\n      L ${x + w} ${y}\n      L ${x} ${y + h}\n      L ${x - w} ${y}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction triangle(x: number, y: number, width: number, height: number) {\n  const h = height / 2;\n  const w = width / 2;\n  return `\n      M ${x} ${y - h}\n      L ${x + w} ${y + h}\n      L ${x - w} ${y + h}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction rect(x: number, y: number, width: number, height: number) {\n  const GOLDEN_SECTION_RATIO = 0.618;\n  const h = height / 2;\n  const w = (width / 2) * GOLDEN_SECTION_RATIO;\n  return `\n      M ${x - w} ${y - h}\n      L ${x + w} ${y - h}\n      L ${x + w} ${y + h}\n      L ${x - w} ${y + h}\n      Z\n    `;\n}\n\nconst builtInShapeByName = {\n  pin,\n  circle,\n  diamond,\n  triangle,\n  rect,\n};\n\nregisterShape('interval', 'liquid-fill-gauge', {\n  draw(cfg: any, container: IGroup) {\n    const cx = 0.5;\n    const cy = 0.5;\n\n    const { customInfo } = cfg;\n    const { radius: radio, shape, background, animation } = customInfo as CustomInfo;\n    const outline: LiquidOptions['outline'] = customInfo.outline;\n    const wave: LiquidOptions['wave'] = customInfo.wave;\n    const { border, distance } = outline;\n    const { count: waveCount, length: waveLength } = wave;\n\n    //  minX\n    const minX = reduce(\n      cfg.points as Point[],\n      (r: number, p: Point) => {\n        return Math.min(r, p.x);\n      },\n      Infinity\n    );\n\n    const center = this.parsePoint({ x: cx, y: cy });\n    const minXPoint = this.parsePoint({ x: minX, y: cy });\n    const halfWidth = center.x - minXPoint.x;\n\n    //   radius \n    const radius = Math.min(halfWidth, minXPoint.y * radio);\n    const waveAttrs = getFillAttrs(cfg);\n    const outlineAttrs = getLineAttrs(mix({}, cfg, outline));\n    const innerRadius = radius - border / 2;\n\n    const buildPath = typeof shape === 'function' ? shape : builtInShapeByName[shape] || builtInShapeByName['circle'];\n    const shapePath = buildPath(center.x, center.y, innerRadius * 2, innerRadius * 2);\n\n    // 1. \n    const waves = container.addGroup({\n      name: 'waves',\n    });\n\n    // 3.  clip \n    const clipPath = waves.setClip({\n      type: 'path',\n      attrs: {\n        path: shapePath,\n      },\n    });\n\n    // 4. \n    addWaterWave(\n      center.x,\n      center.y,\n      1 - (cfg.points[1] as Point).y,\n      waveCount,\n      waveAttrs,\n      waves,\n      clipPath,\n      radius * 2,\n      waveLength,\n      animation\n    );\n\n    // 2.  distance  border\n    container.addShape('path', {\n      name: 'distance',\n      attrs: {\n        path: shapePath,\n        fill: 'transparent',\n        lineWidth: border + distance * 2,\n        stroke: background === 'transparent' ? '#fff' : background,\n      },\n    });\n\n    // 3.  border  border\n    container.addShape('path', {\n      name: 'wrap',\n      attrs: mix(outlineAttrs, {\n        path: shapePath,\n        fill: 'transparent',\n        lineWidth: border,\n      }),\n    });\n\n    return container;\n  },\n});\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { LiquidOptions } from './types';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getLiquidData } from './utils';\n// register liquid shape\nimport './shapes/liquid';\n\nexport { addWaterWave } from './shapes/liquid';\n\nexport type { LiquidOptions };\n\n/**\n * \n */\nexport class Liquid extends Plot<LiquidOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<LiquidOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'liquid';\n\n  /**\n   *   ,  base \n   */\n  protected getDefaultOptions(): Partial<LiquidOptions> {\n    return Liquid.getDefaultOptions();\n  }\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    this.updateOption({ percent });\n\n    this.chart.data(getLiquidData(percent));\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<LiquidOptions> {\n    return adaptor;\n  }\n}\n","import { BulletOptions } from './types';\n\ntype TransformData = {\n  min: number;\n  max: number;\n  ds: any[];\n};\n\n/**\n *  key    key  tooltip \n * @param values \n * @param field \n * @param index \n * @returns string\n */\nfunction getSeriesFieldKey(values: number[], field: string, index: number): string {\n  return values.length > 1 ? `${field}_${index}` : `${field}`;\n}\n\n/**\n * bullet \n * @param options\n */\nexport function transformData(options: BulletOptions): TransformData {\n  const { data, xField, measureField, rangeField, targetField, layout } = options;\n  const ds: any[] = [];\n  const scales: number[] = [];\n  data.forEach((item: any, index: number) => {\n    //  title * range\n    const rangeValues = [item[rangeField]].flat();\n    rangeValues.sort((a: number, b: number) => a - b);\n    rangeValues.forEach((d: number, i: number) => {\n      const range = i === 0 ? d : rangeValues[i] - rangeValues[i - 1];\n      ds.push({\n        rKey: `${rangeField}_${i}`,\n        [xField]: xField ? item[xField] : String(index), // xField\n        [rangeField]: range,\n      });\n    });\n\n    //  title * measure\n    const measureValues = [item[measureField]].flat();\n    measureValues.forEach((d: number, i: number) => {\n      ds.push({\n        mKey: getSeriesFieldKey(measureValues, measureField, i),\n        [xField]: xField ? item[xField] : String(index),\n        [measureField]: d,\n      });\n    });\n\n    //  title * target\n    const targetValues = [item[targetField]].flat();\n    targetValues.forEach((d: number, i: number) => {\n      ds.push({\n        tKey: getSeriesFieldKey(targetValues, targetField, i),\n        [xField]: xField ? item[xField] : String(index),\n        [targetField]: d,\n      });\n    });\n\n    // \n    scales.push(item[rangeField], item[measureField], item[targetField]);\n  });\n  // scales \n  let min = Math.min(...scales.flat(Infinity));\n  const max = Math.max(...scales.flat(Infinity));\n  // min  0  0 \n  min = min > 0 ? 0 : min;\n\n  // \n  if (layout === 'vertical') {\n    ds.reverse();\n  }\n  return { min, max, ds };\n}\n","import { get, isFunction } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, tooltip, scale } from '../../adaptor/common';\nimport { flow, transformLabel, deepAssign } from '../../utils';\nimport { Datum } from '../../types';\nimport { interval, point } from '../../adaptor/geometries';\nimport { BulletOptions } from './types';\nimport { transformData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { bulletStyle, targetField, rangeField, measureField, xField, color, layout, size, label } = options;\n  // \n  const { min, max, ds } = transformData(options);\n  chart.data(ds);\n\n  // rangeGeometry\n  const r = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: rangeField,\n      seriesField: 'rKey',\n      isStack: true,\n      label: get(label, 'range'),\n      interval: {\n        color: get(color, 'range'),\n        style: get(bulletStyle, 'range'),\n        size: get(size, 'range'),\n      },\n    },\n  });\n  interval(r);\n  //  tooltip \n  chart.geometries[0].tooltip(false);\n\n  // measureGeometry\n  const m = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: measureField,\n      seriesField: 'mKey',\n      isStack: true,\n      label: get(label, 'measure'),\n      interval: {\n        color: get(color, 'measure'),\n        style: get(bulletStyle, 'measure'),\n        size: get(size, 'measure'),\n      },\n    },\n  });\n  interval(m);\n\n  // targetGeometry\n  const t = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: targetField,\n      seriesField: 'tKey',\n      label: get(label, 'target'),\n      point: {\n        color: get(color, 'target'),\n        style: get(bulletStyle, 'target'),\n        size: isFunction(get(size, 'target'))\n          ? (data: Datum) => get(size, 'target')(data) / 2\n          : get(size, 'target') / 2,\n        shape: layout === 'horizontal' ? 'line' : 'hyphen',\n      },\n    },\n  });\n  point(t);\n\n  // \n  if (layout === 'horizontal') {\n    chart.coordinate().transpose();\n  }\n\n  return { ...params, ext: { data: { min, max } } };\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { options, ext } = params;\n  const { xAxis, yAxis, targetField, rangeField, measureField, xField } = options;\n\n  const extData = ext.data;\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [measureField]: yAxis,\n      },\n      //  meta\n      {\n        [measureField]: { min: extData?.min, max: extData?.max, sync: true },\n        [targetField]: {\n          sync: `${measureField}`,\n        },\n        [rangeField]: {\n          sync: `${measureField}`,\n        },\n      }\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, measureField, rangeField, targetField } = options;\n\n  chart.axis(`${rangeField}`, false);\n  chart.axis(`${targetField}`, false);\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(`${xField}`, false);\n  } else {\n    chart.axis(`${xField}`, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(`${measureField}`, false);\n  } else {\n    chart.axis(`${measureField}`, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n  chart.removeInteraction('legend-filter');\n  // @TODO  legend\n  chart.legend(legend);\n\n  //  color  legend, legend\n  chart.legend('rKey', false);\n  chart.legend('mKey', false);\n  chart.legend('tKey', false);\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { label, measureField, targetField, rangeField } = options;\n  const [rangeGeometry, measureGeometry, targetGeometry] = chart.geometries;\n\n  if (get(label, 'range')) {\n    rangeGeometry.label(`${rangeField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.range),\n    });\n  } else {\n    rangeGeometry.label(false);\n  }\n  if (get(label, 'measure')) {\n    measureGeometry.label(`${measureField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.measure),\n    });\n  } else {\n    measureGeometry.label(false);\n  }\n  if (get(label, 'target')) {\n    targetGeometry.label(`${targetField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.target),\n    });\n  } else {\n    targetGeometry.label(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BulletOptions>) {\n  // flow  G2 API\n  flow(geometry, meta, axis, legend, theme, label, tooltip, interaction, animation)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  layout: 'horizontal',\n  size: {\n    range: 30,\n    measure: 20,\n    target: 20,\n  },\n  xAxis: {\n    tickLine: false,\n    line: null,\n  },\n  bulletStyle: {\n    range: {\n      fillOpacity: 0.5,\n    },\n  },\n  label: {\n    measure: {\n      position: 'right',\n    },\n  },\n  tooltip: {\n    // \n    showMarkers: false,\n  },\n});\n","import { isArray, isString, filter } from '@antv/util';\n\n/** export  */\n/**  */\nexport const NODE_INDEX_FIELD = 'nodeIndex';\n/** child  */\nexport const CHILD_NODE_COUNT = 'childNodeCount';\n/**  */\nexport const NODE_ANCESTORS_FIELD = 'nodeAncestor';\n\nconst INVALID_FIELD_ERR_MSG = 'Invalid field: it must be a string!';\n\ninterface Options {\n  field?: string | string[];\n  fields?: string | string[];\n}\n\nexport function getField(options: Options, defaultField?: string): string {\n  const { field, fields } = options;\n  if (isString(field)) {\n    return field;\n  }\n  if (isArray(field)) {\n    console.warn(INVALID_FIELD_ERR_MSG);\n    return field[0];\n  }\n  console.warn(`${INVALID_FIELD_ERR_MSG} will try to get fields instead.`);\n  if (isString(fields)) {\n    return fields;\n  }\n  if (isArray(fields) && fields.length) {\n    return fields[0];\n  }\n  if (defaultField) {\n    return defaultField;\n  }\n  throw new TypeError(INVALID_FIELD_ERR_MSG);\n}\n\nexport function getAllNodes(root: any) {\n  const nodes: any[] = [];\n  if (root && root.each) {\n    let parent;\n    let index;\n    // d3-hierarchy: Invokes the specified function for node and each descendant in **breadth-first order**\n    root.each((node: any) => {\n      if (node.parent !== parent) {\n        parent = node.parent;\n        index = 0;\n      } else {\n        index += 1;\n      }\n      const ancestors = filter(\n        (node.ancestors?.() || []).map((d: any) => nodes.find((n) => n.name === d.name) || d),\n        ({ depth }) => depth > 0 && depth < node.depth\n      );\n\n      node[NODE_ANCESTORS_FIELD] = ancestors;\n      node[CHILD_NODE_COUNT] = node.children?.length || 0;\n      node[NODE_INDEX_FIELD] = index;\n\n      nodes.push(node);\n    });\n  } else if (root && root.eachNode) {\n    // @antv/hierarchy\n    root.eachNode((node: any) => {\n      nodes.push(node);\n    });\n  }\n  return nodes;\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { BulletOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { transformData } from './utils';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { BulletOptions };\n\nexport class Bullet extends Plot<BulletOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<BulletOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'bullet';\n\n  public changeData(data) {\n    this.updateOption({ data });\n    const { min, max, ds } = transformData(this.options);\n    // scale\n    meta({ options: this.options, ext: { data: { min, max } }, chart: this.chart });\n    this.chart.changeData(ds);\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<BulletOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Bullet.getDefaultOptions();\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { CHILD_NODE_COUNT, NODE_ANCESTORS_FIELD, NODE_INDEX_FIELD } from '../../utils/hierarchy/util';\nimport { SunburstOptions } from './types';\n\n/**\n *  root \n */\nexport const SUNBURST_ANCESTOR_FIELD = 'ancestor-node';\nexport const SUNBURST_Y_FIELD = 'value';\nexport const SUNBURST_PATH_FIELD = 'path';\n\n/**  */\nexport const RAW_FIELDS = [\n  SUNBURST_PATH_FIELD,\n  NODE_INDEX_FIELD,\n  NODE_ANCESTORS_FIELD,\n  CHILD_NODE_COUNT,\n  'name',\n  'depth',\n  'height',\n];\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS: Partial<SunburstOptions> = deepAssign({}, Plot.getDefaultOptions(), {\n  innerRadius: 0,\n  radius: 0.85,\n\n  // \n  hierarchyConfig: {\n    //  value\n    field: 'value',\n  },\n\n  // \n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n    showTitle: false,\n  },\n  legend: false,\n\n  // \n  sunburstStyle: {\n    lineWidth: 0.5,\n    stroke: '#FFF',\n  },\n\n  // \n  drilldown: { enabled: true },\n});\n","import { Action, IGroup, Util } from '@antv/g2';\nimport { get, last, isNil, size } from '@antv/util';\nimport { Data } from '../../types';\nimport { DrillDownCfg } from '../../types/drill-down';\nimport { deepAssign } from '../../utils/deep-assign';\n\n// '/'\nconst PADDING = 4;\n// \nconst PADDING_LEFT = 0;\n// \nexport const PADDING_TOP = 5;\n\n/** Group name of breadCrumb:  */\nexport const BREAD_CRUMB_NAME = 'drilldown-bread-crumb';\n\n// \nexport const DEFAULT_BREAD_CRUMB_CONFIG: DrillDownCfg['breadCrumb'] = {\n  /**  */\n  position: 'top-left',\n  dividerText: '/',\n  textStyle: {\n    fontSize: 12,\n    fill: 'rgba(0, 0, 0, 0.65)',\n    cursor: 'pointer',\n  },\n  activeTextStyle: {\n    fill: '#87B5FF',\n  },\n};\n\n/**\n * hierarchy \n */\nexport const HIERARCHY_DATA_TRANSFORM_PARAMS = 'hierarchy-data-transform-params';\n\n/**\n * Hierarchy plot \n */\nexport type HierarchyNode<N = any /**  */> = {\n  /** todo  key  origin */\n  data: { name: string; value?: any; children: { name: string; value?: any }[] };\n  /** ,  transformData  */\n  [HIERARCHY_DATA_TRANSFORM_PARAMS]: object;\n  /** .  unique */\n  depth: number;\n  /** depth + height =  */\n  height: number;\n  parent: N;\n  children: N[];\n};\n\ntype HistoryCache = {\n  name: string;\n  id: string;\n  children: Data;\n}[];\n\n/**\n * @description  action\n * @author liuzhenying\n *\n * hierarchy plot\n */\nexport class DrillDownAction extends Action {\n  /** Action name */\n  public name = 'drill-down';\n\n  // \n  protected historyCache: HistoryCache = [];\n  //  group\n  private breadCrumbGroup: IGroup = null;\n  // \n  private breadCrumbCfg: DrillDownCfg['breadCrumb'] = DEFAULT_BREAD_CRUMB_CONFIG;\n\n  /**\n   * , \n   */\n  public click() {\n    const data = get(this.context, ['event', 'data', 'data']);\n    if (!data) return false;\n\n    this.drill(data);\n    this.drawBreadCrumb();\n  }\n\n  /**\n   *  chart  afterchangesize \n   */\n  public resetPosition() {\n    //  changedata  resetPosition  this.breadCrumbGroup \n    if (!this.breadCrumbGroup) return;\n    const coordinate = this.context.view.getCoordinate();\n    const breadCrumbGroup = this.breadCrumbGroup;\n    const bbox = breadCrumbGroup.getBBox();\n\n    const { position } = this.getButtonCfg();\n\n    // @todo  margin  padding \n    //  polar  coordinate\n    let point = { x: coordinate.start.x, y: coordinate.end.y - (bbox.height + PADDING_TOP * 2) };\n    if (coordinate.isPolar) {\n      // \n      point = { x: 0, y: 0 };\n    }\n    if (position === 'bottom-left') {\n      // \n      point = { x: coordinate.start.x, y: coordinate.start.y };\n    }\n    /** PADDING_LEFT, PADDING_TOP  */\n    const matrix = Util.transform(null, [['t', point.x + PADDING_LEFT, point.y + bbox.height + PADDING_TOP]]);\n    breadCrumbGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public back(): void {\n    if (size(this.historyCache)) {\n      this.backTo(this.historyCache.slice(0, -1));\n    }\n  }\n\n  /**\n   * \n   */\n  public reset(): void {\n    if (this.historyCache[0]) {\n      this.backTo(this.historyCache.slice(0, 1));\n    }\n    // \n    this.historyCache = [];\n    this.hideCrumbGroup();\n  }\n\n  /**\n   *  view \n   * @param nodeInfo \n   */\n  protected drill(nodeInfo: HierarchyNode) {\n    const { view } = this.context;\n    const transformData = get(view, ['interactions', 'drill-down', 'cfg', 'transformData'], (v) => v);\n\n    //  update \n    const drillData = transformData({ data: nodeInfo.data, ...nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] });\n    view.changeData(drillData);\n\n    // \n    const historyCache: HistoryCache = [];\n\n    let node = nodeInfo;\n    while (node) {\n      const nodeData = node.data;\n      historyCache.unshift({\n        id: `${nodeData.name}_${node.height}_${node.depth}`,\n        name: nodeData.name,\n        // children \n        children: transformData({ data: nodeData, ...nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] }),\n      });\n      node = node.parent;\n    }\n\n    this.historyCache = (this.historyCache || []).slice(0, -1).concat(historyCache);\n  }\n\n  /**\n   * \n   * @param historyCache \n   */\n  protected backTo(historyCache: HistoryCache) {\n    if (!historyCache || historyCache.length <= 0) {\n      return;\n    }\n\n    const { view } = this.context;\n    const data = last(historyCache).children; // \n    view.changeData(data);\n\n    if (historyCache.length > 1) {\n      this.historyCache = historyCache;\n      this.drawBreadCrumb();\n    } else {\n      // \n      this.historyCache = [];\n      this.hideCrumbGroup();\n    }\n  }\n\n  /**\n   *  mix \n   */\n  private getButtonCfg() {\n    const { view } = this.context;\n    const drillDownConfig: DrillDownCfg = get(view, ['interactions', 'drill-down', 'cfg', 'drillDownConfig']);\n\n    return deepAssign(this.breadCrumbCfg, drillDownConfig?.breadCrumb, this.cfg);\n  }\n\n  /**\n   * \n   */\n  private drawBreadCrumb() {\n    this.drawBreadCrumbGroup();\n    this.resetPosition();\n    this.breadCrumbGroup.show();\n  }\n\n  /**\n   *  Button  \n   */\n  private drawBreadCrumbGroup() {\n    const config = this.getButtonCfg();\n    const cache = this.historyCache;\n\n    //  group\n    if (!this.breadCrumbGroup) {\n      this.breadCrumbGroup = this.context.view.foregroundGroup.addGroup({\n        name: BREAD_CRUMB_NAME,\n      });\n    } else {\n      this.breadCrumbGroup.clear();\n    }\n\n    // \n    let left = 0;\n    cache.forEach((record, index) => {\n      // \n      const textShape = this.breadCrumbGroup.addShape({\n        type: 'text',\n        id: record.id,\n        name: `${BREAD_CRUMB_NAME}_${record.name}_text`,\n        attrs: {\n          text: index === 0 && !isNil(config.rootText) ? config.rootText : record.name,\n          ...config.textStyle,\n          x: left,\n          y: 0,\n        },\n      });\n\n      const textShapeBox = textShape.getBBox();\n      left += textShapeBox.width + PADDING;\n\n      // \n      textShape.on('click', (event) => {\n        const targetId = event.target.get('id');\n        if (targetId !== last(cache)?.id) {\n          const newHistoryCache = cache.slice(0, cache.findIndex((d) => d.id === targetId) + 1);\n          this.backTo(newHistoryCache);\n        }\n      });\n      // active \n      textShape.on('mouseenter', (event) => {\n        const targetId = event.target.get('id');\n        if (targetId !== last(cache)?.id) {\n          textShape.attr(config.activeTextStyle);\n        } else {\n          textShape.attr({ cursor: 'default' });\n        }\n      });\n      textShape.on('mouseleave', () => {\n        textShape.attr(config.textStyle);\n      });\n\n      if (index < cache.length - 1) {\n        // \n        const dividerShape = this.breadCrumbGroup.addShape({\n          type: 'text',\n          name: `${config.name}_${record.name}_divider`,\n          attrs: {\n            text: config.dividerText,\n            ...config.textStyle,\n            x: left,\n            y: 0,\n          },\n        });\n\n        const dividerBox = dividerShape.getBBox();\n        left += dividerBox.width + PADDING;\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  private hideCrumbGroup() {\n    if (this.breadCrumbGroup) {\n      this.breadCrumbGroup.hide();\n    }\n  }\n\n  /**\n   * @override\n   * destroy: \n   */\n  public destroy() {\n    if (this.breadCrumbGroup) {\n      this.breadCrumbGroup.remove();\n    }\n    super.destroy();\n  }\n}\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Dont include the roots parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray, reduce, size } from '@antv/util';\nimport { getField, getAllNodes } from './util';\n\nconst DEFAULT_OPTIONS: Options = {\n  field: 'value',\n  size: [1, 1], // width, height\n  round: false,\n  padding: 0,\n  // \n  sort: (a, b) => b.value - a.value,\n  as: ['x', 'y'],\n  //  parentValue,  true \n  ignoreParentValue: true,\n};\n\nexport interface Options {\n  field: string;\n  size?: [number, number];\n  round?: boolean;\n  ratio?: number;\n  padding?: number;\n  sort?: Function;\n  as?: [string, string];\n\n  ignoreParentValue?: boolean;\n}\n\nexport function partition(data: any, options: Options): any[] {\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 2) {\n    throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const partition = (data) =>\n    d3Hierarchy.partition().size(options.size).round(options.round).padding(options.padding)(\n      /**\n       * d3Hierarchy  sum  node  node  post-order traversal  value  node\n       * for example:\n       * { node: 'parent', value: 10, children: [{node: 'child1', value: 5}, {node: 'child2', value: 5}, ]}\n       * parent  sum(node(parent)) + sum(node(child1)) + sum(node(child2))\n       * sum d  data, children \n       */\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) =>\n          size(d.children)\n            ? options.ignoreParentValue\n              ? 0\n              : d[field] - reduce(d.children, (a, b) => a + b[field], 0)\n            : d[field]\n        )\n        .sort(options.sort)\n    );\n  const root = partition(data);\n\n  /*\n   * points:\n   *   3  2\n   *   0  1\n   */\n  const x = as[0];\n  const y = as[1];\n\n  root.each((node) => {\n    node[x] = [node.x0, node.x1, node.x1, node.x0];\n    node[y] = [node.y1, node.y1, node.y0, node.y0];\n    //  \n    node.name = node.name || node.data?.name || node.data?.label;\n    node.data.name = node.name;\n\n    ['x0', 'x1', 'y0', 'y1'].forEach((prop) => {\n      if (as.indexOf(prop) === -1) {\n        delete node[prop];\n      }\n    });\n  });\n\n  return getAllNodes(root);\n}\n","function defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n}\n","export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n\nexport function shuffle(array) {\n  var m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n","import {shuffle} from \"../array.js\";\n\nexport default function(circles) {\n  var i = 0, n = (circles = shuffle(Array.from(circles))).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + Math.max(a.r, b.r, 1) * 1e-9, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(A ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n","import array from \"../array.js\";\nimport enclose from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packEnclose(circles) {\n  if (!(n = (circles = array(circles)).length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // Closeness is determined by linear distance along the front-chain.\n    // Ahead or behind is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = enclose(a);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packEnclose(circles);\n  return circles;\n}\n","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {packEnclose} from \"./siblings.js\";\nimport {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildren(padding, 0.5))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildren(constantZero, 1))\n          .eachAfter(packChildren(padding, root.r / Math.min(dx, dy)))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildren(padding, k) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packEnclose(children);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","import {required} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar preroot = {depth: -1},\n    ambiguous = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId;\n\n  function stratify(data) {\n    var nodes = Array.from(data),\n        n = nodes.length,\n        d,\n        i,\n        root,\n        parent,\n        node,\n        nodeId,\n        nodeKey,\n        nodeByKey = new Map;\n\n    for (i = 0; i < n; ++i) {\n      d = nodes[i], node = nodes[i] = new Node(d);\n      if ((nodeId = id(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = node.id = nodeId;\n        nodeByKey.set(nodeKey, nodeByKey.has(nodeKey) ? ambiguous : node);\n      }\n      if ((nodeId = parentId(d, i, data)) != null && (nodeId += \"\")) {\n        node.parent = nodeId;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (nodeId = node.parent) {\n        parent = nodeByKey.get(nodeId);\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      } else {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = required(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = required(x), stratify) : parentId;\n  };\n\n  return stratify;\n}\n","import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-s ancestor is a sibling of v, returns vi-s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = value ? (x0 * valueRight + x1 * valueLeft) / value : x1;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = value ? (y0 * valueRight + y1 * valueLeft) / value : y1;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n","import dice from \"./dice.js\";\nimport slice from \"./slice.js\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += (y1 - y0) * row.value / value : y1);\n        else treemapSlice(row, x0, y0, value ? x0 += (x1 - x0) * row.value / value : x1, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n","import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray } from '@antv/util';\nimport { HierarchyOption } from './types';\nimport { getField, getAllNodes } from './util';\n\nconst DEFAULT_OPTIONS: HierarchyOption = {\n  field: 'value',\n  tile: 'treemapSquarify', // treemapBinary, treemapDice, treemapSlice, treemapSliceDice, treemapSquarify, treemapResquarify\n  size: [1, 1], // width, height\n  round: false,\n  ignoreParentValue: true,\n  padding: 0,\n  paddingInner: 0,\n  paddingOuter: 0,\n  paddingTop: 0,\n  paddingRight: 0,\n  paddingBottom: 0,\n  paddingLeft: 0,\n  as: ['x', 'y'],\n  // \n  sort: (a, b) => b.value - a.value,\n  // , treemapSquarify \n  ratio: 0.5 * (1 + Math.sqrt(5)),\n};\n\nexport function getTileMethod(tile: string, ratio: number) {\n  return tile === 'treemapSquarify' ? d3Hierarchy[tile].ratio(ratio) : d3Hierarchy[tile];\n}\n\nexport function treemap(data: any, options: HierarchyOption): any[] {\n  options = assign({} as HierarchyOption, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 2) {\n    throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const tileMethod = getTileMethod(options.tile, options.ratio);\n\n  const partition = (data) =>\n    d3Hierarchy\n      .treemap()\n      .tile(tileMethod)\n      .size(options.size)\n      .round(options.round)\n      .padding(options.padding)\n      .paddingInner(options.paddingInner)\n      .paddingOuter(options.paddingOuter)\n      .paddingTop(options.paddingTop)\n      .paddingRight(options.paddingRight)\n      .paddingBottom(options.paddingBottom)\n      .paddingLeft(options.paddingLeft)(\n      /**\n       * d3Hierarchy  sum  node  node  post-order traversal  value  node\n       * for example:\n       * { node: 'parent', value: 10, children: [{node: 'child1', value: 5}, {node: 'child2', value: 5}, ]}\n       * parent  sum(node(parent)) + sum(node(child1)) + sum(node(child2))\n       * ignoreParentValue  true()  0 + 5 + 5 = 10\n       * ignoreParentValue  false   10 + 5 + 5 = 20\n       * sum d  data, children \n       */\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) => (options.ignoreParentValue && d.children ? 0 : d[field]))\n        .sort(options.sort)\n    );\n  const root = partition(data);\n\n  /*\n   * points:\n   *   3  2\n   *   0  1\n   */\n  const x = as[0];\n  const y = as[1];\n  root.each((node) => {\n    node[x] = [node.x0, node.x1, node.x1, node.x0];\n    node[y] = [node.y1, node.y1, node.y0, node.y0];\n    ['x0', 'x1', 'y0', 'y1'].forEach((prop) => {\n      if (as.indexOf(prop) === -1) {\n        delete node[prop];\n      }\n    });\n  });\n\n  return getAllNodes(root);\n}\n","import { omit } from '@antv/util';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { pick } from '../../utils';\nimport { partition } from '../../utils/hierarchy/partition';\nimport { treemap } from '../../utils/hierarchy/treemap';\nimport { SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD } from './constant';\nimport { SunburstOptions } from './types';\n\n/**\n * sunburst \n * @param options\n */\nexport function transformData(options: Pick<SunburstOptions, 'data' | 'colorField' | 'rawFields' | 'hierarchyConfig'>) {\n  const { data, colorField, rawFields, hierarchyConfig = {} } = options;\n  const { activeDepth } = hierarchyConfig;\n  const transform = {\n    partition: partition,\n    treemap: treemap,\n  };\n  // @ts-ignore  seriesField  hierarchyConfig.field\n  const seriesField = options.seriesField;\n  // @ts-ignore \n  const type = options.type || 'partition';\n\n  const nodes = transform[type](data, {\n    field: seriesField || 'value',\n    ...omit(hierarchyConfig, ['activeDepth']),\n    // @ts-ignore\n    type: `hierarchy.${type}`,\n    as: ['x', 'y'],\n  });\n\n  const result = [];\n\n  nodes.forEach((node) => {\n    if (node.depth === 0) {\n      return null;\n    }\n    if (activeDepth > 0 && node.depth > activeDepth) {\n      return null;\n    }\n\n    let path = node.data.name;\n    let ancestorNode = { ...node };\n    while (ancestorNode.depth > 1) {\n      path = `${ancestorNode.parent.data?.name} / ${path}`;\n      ancestorNode = ancestorNode.parent;\n    }\n\n    const nodeInfo = {\n      ...pick(node.data, [...(rawFields || []), hierarchyConfig.field]),\n      [SUNBURST_PATH_FIELD]: path,\n      [SUNBURST_ANCESTOR_FIELD]: ancestorNode.data.name,\n      ...node,\n    };\n    // note: \n    if (seriesField) {\n      nodeInfo[seriesField] = node.data[seriesField] || node.parent?.data?.[seriesField];\n    }\n    if (colorField) {\n      nodeInfo[colorField] = node.data[colorField] || node.parent?.data?.[colorField];\n    }\n    nodeInfo.ext = hierarchyConfig;\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, colorField, rawFields };\n    result.push(nodeInfo);\n  });\n\n  return result;\n}\n","import { isFunction, get, uniq } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { Params } from '../../core/adaptor';\nimport { polygon as polygonAdaptor } from '../../adaptor/geometries';\nimport {\n  interaction as baseInteraction,\n  animation,\n  theme,\n  annotation,\n  scale,\n  pattern,\n  legend,\n} from '../../adaptor/common';\nimport { flow, findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { getAdjustAppendPadding } from '../../utils/padding';\nimport { Datum } from '../../types';\nimport { RAW_FIELDS, SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD, SUNBURST_Y_FIELD } from './constant';\nimport { transformData } from './utils';\nimport { SunburstOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { color, colorField = SUNBURST_ANCESTOR_FIELD, sunburstStyle, rawFields = [] } = options;\n  const data = transformData(options);\n  chart.data(data);\n\n  //  fillOpacity \n  let style;\n  if (sunburstStyle) {\n    style = (datum: Datum) => {\n      return deepAssign(\n        {},\n        {\n          fillOpacity: 0.85 ** datum.depth,\n        },\n        isFunction(sunburstStyle) ? sunburstStyle(datum) : sunburstStyle\n      );\n    };\n  }\n\n  // geometry\n  polygonAdaptor(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        rawFields: uniq([...RAW_FIELDS, ...rawFields]),\n        polygon: {\n          color,\n          style,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  const geometry = findGeometry(chart, 'polygon');\n\n  // undefined \n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { fields = ['name'], callback, ...cfg } = label;\n    geometry.label({\n      fields,\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { innerRadius, radius, reflect } = options;\n\n  const coord = chart.coordinate({\n    type: 'polar',\n    cfg: {\n      innerRadius,\n      radius,\n    },\n  });\n  if (reflect) {\n    coord.reflect(reflect);\n  }\n\n  return params;\n}\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { options } = params;\n  const { hierarchyConfig, meta } = options;\n\n  return flow(\n    scale(\n      {},\n      {\n        [SUNBURST_Y_FIELD]: get(meta, get(hierarchyConfig, ['field'], 'value')),\n      }\n    )\n  )(params);\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    //  fields customItems ;  formatter  fields\n    if (!get(tooltip, 'fields')) {\n      tooltipOptions = deepAssign(\n        {},\n        {\n          customItems: (items: Types.TooltipItem[]) =>\n            items.map((item) => {\n              const scales = get(chart.getOptions(), 'scales');\n              const pathFormatter = get(scales, [SUNBURST_PATH_FIELD, 'formatter'], (v) => v);\n              const valueFormatter = get(scales, [SUNBURST_Y_FIELD, 'formatter'], (v) => v);\n              return {\n                ...item,\n                name: pathFormatter(item.data[SUNBURST_PATH_FIELD]),\n                value: valueFormatter(item.data.value),\n              };\n            }),\n        },\n        tooltipOptions\n      );\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\nfunction adaptorInteraction(options: SunburstOptions): SunburstOptions {\n  const { drilldown, interactions = [] } = options;\n\n  if (drilldown?.enabled) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          cfg: { drillDownConfig: drilldown, transformData },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * \n * @param params\n * @returns\n */\nfunction interaction(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n\n  const { drilldown } = options;\n\n  baseInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  // \n  if (drilldown?.enabled) {\n    //  25px \n    chart.appendPadding = getAdjustAppendPadding(chart.appendPadding, get(drilldown, ['breadCrumb', 'position']));\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<SunburstOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('sunburstStyle'),\n    geometry,\n    axis,\n    meta,\n    legend,\n    coordinate,\n    tooltip,\n    label,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { registerInteraction, registerAction } from '@antv/g2';\nimport { get, isArray } from '@antv/util';\nimport { DrillDownAction } from './actions/drill-down';\n\n/**\n * \n */\nexport function isParentNode(context) {\n  const data = get(context, ['event', 'data', 'data'], {});\n  return isArray(data.children) && data.children.length > 0;\n}\n\n/**\n * \n */\nfunction inCenter(context) {\n  const coordinate = context.view.getCoordinate();\n  const { innerRadius } = coordinate;\n  if (innerRadius) {\n    const { x, y } = context.event;\n    const { x: centerX, y: centerY } = coordinate.center;\n    const r = coordinate.getRadius() * innerRadius;\n    const distance = Math.sqrt((centerX - x) ** 2 + (centerY - y) ** 2);\n    return distance < r;\n  }\n  return false;\n}\n\nregisterAction('drill-down-action', DrillDownAction);\nregisterInteraction('drill-down', {\n  showEnable: [\n    { trigger: 'element:mouseenter', action: 'cursor:pointer', isEnable: isParentNode },\n    { trigger: 'element:mouseleave', action: 'cursor:default' },\n    //  element:mouseleave \n    { trigger: 'element:mouseleave', action: 'cursor:pointer', isEnable: inCenter },\n  ],\n  start: [\n    {\n      trigger: 'element:click',\n      isEnable: isParentNode,\n      action: ['drill-down-action:click'],\n    },\n    {\n      trigger: 'afterchangesize',\n      action: ['drill-down-action:resetPosition'],\n    },\n    {\n      // \n      trigger: 'click',\n      isEnable: inCenter,\n      action: ['drill-down-action:back'],\n    },\n  ],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { NODE_ANCESTORS_FIELD } from '../../utils/hierarchy/util';\nimport { SunburstOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS, SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD } from './constant';\nimport './interactions';\n\nexport type { SunburstOptions };\n\nexport class Sunburst extends Plot<SunburstOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<SunburstOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**   */\n  static SUNBURST_ANCESTOR_FIELD = SUNBURST_ANCESTOR_FIELD;\n  /**   */\n  static SUNBURST_PATH_FIELD = SUNBURST_PATH_FIELD;\n  /**  */\n  static NODE_ANCESTORS_FIELD = NODE_ANCESTORS_FIELD;\n\n  /**  */\n  public type: string = 'sunburst';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Sunburst.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<SunburstOptions> {\n    return adaptor;\n  }\n}\n","export const RANGE_VALUE = 'range';\nexport const RANGE_TYPE = 'type';\nexport const PERCENT = 'percent';\n\nexport const DEFAULT_COLOR = '#f0f0f0';\n\n/**    */\nexport const INDICATEOR_VIEW_ID = 'indicator-view';\nexport const RANGE_VIEW_ID = 'range-view';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0, // \n  range: {\n    ticks: [],\n  }, // \n  innerRadius: 0.9,\n  radius: 0.95,\n  startAngle: (-7 / 6) * Math.PI,\n  endAngle: (1 / 6) * Math.PI,\n  syncViewPadding: true,\n  axis: {\n    line: null,\n    label: {\n      offset: -24,\n      style: {\n        textAlign: 'center' as const,\n        textBaseline: 'middle' as const,\n      },\n    },\n    subTickLine: {\n      length: -8,\n    },\n    tickLine: {\n      length: -12,\n    },\n    grid: null,\n  },\n  indicator: {\n    pointer: {\n      style: {\n        lineWidth: 5,\n        lineCap: 'round' as const,\n      },\n    },\n    pin: {\n      style: {\n        r: 9.75,\n        lineWidth: 4.5,\n        fill: '#fff',\n      },\n    },\n  },\n  statistic: {\n    title: false as const,\n  },\n  meta: {\n    //  view  scale  v \n    [RANGE_VALUE]: {\n      sync: 'v',\n    },\n    [PERCENT]: {\n      sync: 'v',\n      tickCount: 5,\n      tickInterval: 0.2,\n    },\n  },\n  animation: false as const,\n};\n","import { clamp, get, size } from '@antv/util';\nimport { Data, Datum } from '../../types';\nimport { RANGE_VALUE, RANGE_TYPE, PERCENT } from './constants';\nimport { GaugeOptions, GaugeRangeData } from './types';\n\n/**\n *  range  data \n * @param range\n * @param key\n * @returns {GaugeRangeData}\n */\nexport function processRangeData(range: number[], percent: GaugeOptions['percent']): GaugeRangeData {\n  return (\n    range\n      //  stack \n      .map((r: number, idx: number) => {\n        return { [RANGE_VALUE]: r - (range[idx - 1] || 0), [RANGE_TYPE]: `${idx}`, [PERCENT]: percent };\n      })\n      //  0 \n      .filter((d: Datum) => !!d[RANGE_VALUE])\n  );\n}\n\n/**\n *   \n * @param percent\n */\nexport function getIndicatorData(percent: GaugeOptions['percent']): Data {\n  return [{ [PERCENT]: clamp(percent, 0, 1) }];\n}\n\n/**\n *  \n * @param percent\n * @param range\n */\nexport function getRangeData(percent: GaugeOptions['percent'], range?: GaugeOptions['range']): GaugeRangeData {\n  const ticks = get(range, ['ticks'], []);\n\n  const clampTicks = size(ticks) ? ticks : [0, clamp(percent, 0, 1), 1];\n  return processRangeData(clampTicks as number[], percent);\n}\n","import { Geometry } from '@antv/g2';\nimport { get, isString } from '@antv/util';\nimport { interaction, animation, theme, scale, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, pick, renderGaugeStatistic } from '../../utils';\nimport { RANGE_TYPE, RANGE_VALUE, PERCENT, DEFAULT_COLOR, INDICATEOR_VIEW_ID, RANGE_VIEW_ID } from './constants';\nimport { GaugeOptions } from './types';\nimport { getIndicatorData, getRangeData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { percent, range, radius, innerRadius, startAngle, endAngle, axis, indicator, gaugeStyle, type, meter } =\n    options;\n  const { color, width: rangeWidth } = range;\n\n  //  & \n  // \n  if (indicator) {\n    const indicatorData = getIndicatorData(percent);\n\n    const v1 = chart.createView({ id: INDICATEOR_VIEW_ID });\n    v1.data(indicatorData);\n\n    v1.point()\n      .position(`${PERCENT}*1`)\n      .shape(indicator.shape || 'gauge-indicator')\n      //  shape \n      .customInfo({\n        defaultColor: chart.getTheme().defaultColor,\n        indicator,\n      });\n\n    v1.coordinate('polar', {\n      startAngle,\n      endAngle,\n      radius: innerRadius * radius, //  innerRadius * radius =  radius\n    });\n\n    v1.axis(PERCENT, axis);\n    //  scale \n    v1.scale(PERCENT, pick(axis, AXIS_META_CONFIG_KEYS));\n  }\n\n  //  range\n  // [{ range: 1, type: '0', percent:  }]\n  const rangeData = getRangeData(percent, options.range);\n  const v2 = chart.createView({ id: RANGE_VIEW_ID });\n  v2.data(rangeData);\n\n  const rangeColor = isString(color) ? [color, DEFAULT_COLOR] : color;\n\n  const { ext } = interval({\n    chart: v2,\n    options: {\n      xField: '1',\n      yField: RANGE_VALUE,\n      seriesField: RANGE_TYPE,\n      rawFields: [PERCENT],\n      isStack: true,\n      interval: {\n        color: rangeColor,\n        style: gaugeStyle,\n        shape: type === 'meter' ? 'meter-gauge' : null,\n      },\n      args: {\n        zIndexReversed: true,\n        sortZIndex: true,\n      },\n      minColumnWidth: rangeWidth,\n      maxColumnWidth: rangeWidth,\n    },\n  });\n\n  const geometry = ext.geometry as Geometry;\n  //  shape \n  geometry.customInfo({ meter });\n\n  v2.coordinate('polar', {\n    innerRadius,\n    radius,\n    startAngle,\n    endAngle,\n  }).transpose();\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  return flow(\n    scale({\n      range: {\n        min: 0,\n        max: 1,\n        maxLimit: 1,\n        minLimit: 0,\n      },\n      [PERCENT]: {},\n    })\n  )(params);\n}\n\n/**\n * \n * @param params\n */\nfunction statistic(params: Params<GaugeOptions>, updated?: boolean): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { statistic, percent } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n  if (statistic) {\n    const { content: contentOption } = statistic;\n    let transformContent;\n    //  content \n    if (contentOption) {\n      transformContent = deepAssign(\n        {},\n        {\n          content: `${(percent * 100).toFixed(2)}%`,\n          style: {\n            opacity: 0.75,\n            fontSize: '30px',\n            lineHeight: 1,\n            textAlign: 'center',\n            color: 'rgba(44,53,66,0.85)',\n          },\n        },\n        contentOption\n      );\n    }\n    renderGaugeStatistic(chart, { statistic: { ...statistic, content: transformContent } }, { percent });\n  }\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n */\nfunction tooltip(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip) {\n    chart.tooltip(\n      deepAssign(\n        {\n          showTitle: false,\n          showMarkers: false,\n          containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n          domStyles: {\n            'g2-tooltip': {\n              padding: '4px 8px',\n              fontSize: '10px',\n            },\n          },\n          customContent: (x: string, data: any[]) => {\n            const percent = get(data, [0, 'data', PERCENT], 0);\n            return `${(percent * 100).toFixed(2)}%`;\n          },\n        },\n        tooltip\n      )\n    );\n  } else {\n    //  tooltip\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * other \n * @param params\n */\nfunction other(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart } = params;\n\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n *  adaptor\n */\nexport { statistic };\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<GaugeOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    // animation  createView  View \n    animation,\n    geometry,\n    meta,\n    tooltip,\n    statistic,\n    interaction,\n    annotation(),\n    other\n    // ...  adaptor flow\n  )(params);\n}\n","import { registerShape, Types } from '@antv/g2';\nimport { Indicator } from '../types';\n\n// Shape \nregisterShape('point', 'gauge-indicator', {\n  draw(cfg: Types.ShapeInfo, container) {\n    //  customInfo \n    const { indicator, defaultColor } = cfg.customInfo;\n    const { pointer, pin } = indicator as Indicator;\n\n    const group = container.addGroup();\n    // \n    const center = this.parsePoint({ x: 0, y: 0 });\n    // \n    if (pointer) {\n      // pointer\n      group.addShape('line', {\n        name: 'pointer',\n        attrs: {\n          x1: center.x,\n          y1: center.y,\n          x2: cfg.x,\n          y2: cfg.y,\n          stroke: defaultColor,\n          ...pointer.style,\n        },\n      });\n    }\n\n    // pin\n    if (pin) {\n      group.addShape('circle', {\n        name: 'pin',\n        attrs: {\n          x: center.x,\n          y: center.y,\n          stroke: defaultColor,\n          ...pin.style,\n        },\n      });\n    }\n    return group;\n  },\n});\n","import { registerShape, Types, Util } from '@antv/g2';\nimport { clamp } from '@antv/util';\nimport { GaugeCustomInfo } from '../types';\n\ntype ShapeCfg = Omit<Types.ShapeInfo, 'customInfo'> & {\n  customInfo: GaugeCustomInfo;\n};\n\n/**\n *  Shape : \n *  STEP, STEP_RATIO. : 1 / (STEP + 1) * i -> 1 / (STEP + 1) * i + (STEP_RATIO / (STEP + 1))\n */\nregisterShape('interval', 'meter-gauge', {\n  draw(cfg: ShapeCfg, container) {\n    //  customInfo \n    const { meter = {} } = cfg.customInfo;\n    let { steps: STEP = 50, stepRatio: STEP_RATIO = 0.5 } = meter;\n    STEP = STEP < 1 ? 1 : STEP;\n    // stepRatio : (0, 1]\n    STEP_RATIO = clamp(STEP_RATIO, 0, 1);\n\n    const { startAngle: COORD_START_ANGLE, endAngle: COORD_END_ANGLE } = this.coordinate;\n    let GAP = 0;\n    if (STEP_RATIO > 0 && STEP_RATIO < 1) {\n      const TOTAL = COORD_END_ANGLE - COORD_START_ANGLE;\n      GAP = TOTAL / STEP / (STEP_RATIO / (1 - STEP_RATIO) + 1 - 1 / STEP);\n    }\n    const INTERVAL = (GAP / (1 - STEP_RATIO)) * STEP_RATIO;\n\n    const group = container.addGroup();\n    //  gap\n    const center = this.coordinate.getCenter();\n    const radius = this.coordinate.getRadius();\n    const { startAngle: START_ANGLE, endAngle: END_ANGLE } = Util.getAngle(cfg, this.coordinate);\n\n    for (let startAngle = START_ANGLE; startAngle < END_ANGLE; ) {\n      let endAngle;\n      const r = (startAngle - COORD_START_ANGLE) % (INTERVAL + GAP);\n      if (r < INTERVAL) {\n        endAngle = startAngle + (INTERVAL - r);\n      } else {\n        startAngle += INTERVAL + GAP - r;\n        endAngle = startAngle + INTERVAL;\n      }\n      const path = Util.getSectorPath(\n        center.x,\n        center.y,\n        radius,\n        startAngle,\n        Math.min(endAngle, END_ANGLE),\n        radius * this.coordinate.innerRadius\n      );\n      group.addShape('path', {\n        name: 'meter-gauge',\n        attrs: {\n          path,\n          fill: cfg.color,\n          stroke: cfg.color,\n          lineWidth: 0.5,\n        },\n      });\n      startAngle = endAngle + GAP;\n    }\n\n    return group;\n  },\n});\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { GaugeOptions } from './types';\nimport { adaptor, statistic } from './adaptor';\nimport { INDICATEOR_VIEW_ID, RANGE_VIEW_ID, DEFAULT_OPTIONS } from './constants';\nimport { getIndicatorData, getRangeData } from './utils';\n\n//  shape\nimport './shapes/indicator';\nimport './shapes/meter-gauge';\n\nexport type { GaugeOptions };\n\n/**\n * \n */\nexport class Gauge extends Plot<GaugeOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<GaugeOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'gauge';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n\n    this.updateOption({ percent });\n    const indicatorView = this.chart.views.find((v) => v.id === INDICATEOR_VIEW_ID);\n    if (indicatorView) {\n      indicatorView.data(getIndicatorData(percent));\n    }\n\n    const rangeView = this.chart.views.find((v) => v.id === RANGE_VIEW_ID);\n    if (rangeView) {\n      rangeView.data(getRangeData(percent, this.options.range));\n    }\n    // todo  G2  afterrender  annotations\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   * \n   *  base \n   */\n  protected getDefaultOptions() {\n    return Gauge.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<GaugeOptions> {\n    return adaptor;\n  }\n}\n","export const Y_FIELD = '$$yField$$';\nexport const DIFF_FIELD = '$$diffField$$';\nexport const ABSOLUTE_FIELD = '$$absoluteField$$';\nexport const IS_TOTAL = '$$isTotal$$';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  /** default: show label */\n  label: {},\n  /** default: show leaderLine */\n  leaderLine: {\n    style: {\n      lineWidth: 1,\n      stroke: '#8c8c8c',\n      lineDash: [4, 2],\n    },\n  },\n  /** default: show total */\n  total: {\n    style: {\n      fill: 'rgba(0, 0, 0, 0.25)',\n    },\n  },\n  interactions: [{ type: 'element-active' }],\n  risingFill: '#f4664a',\n  fallingFill: '#30bf78',\n  waterfallStyle: {\n    fill: 'rgba(0, 0, 0, 0.25)',\n  },\n  yAxis: {\n    grid: {\n      line: {\n        style: {\n          lineDash: [4, 2],\n        },\n      },\n    },\n  },\n};\n","import { isUndefined, isNumber, get, reduce, isObject } from '@antv/util';\nimport { Options } from '../../types';\nimport { LEVEL, log } from '../../utils';\nimport { ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL, Y_FIELD } from './constant';\n\n/**\n * @desc [start, end]\n * @param data\n * @param xField\n * @param yField\n * @param totalLabel\n */\nexport function processData(\n  data: Options['data'],\n  xField: string,\n  yField: string,\n  newYField: string,\n  total?: false | { label?: string }\n) {\n  const newData = [];\n  reduce(\n    data,\n    (r, d) => {\n      // \n      log(LEVEL.WARN, isNumber(d[yField]), `${d[yField]} is not a valid number`);\n      const value = isUndefined(d[yField]) ? null : d[yField];\n      newData.push({ ...d, [newYField]: [r, r + value] });\n\n      return r + value;\n    },\n    0\n  );\n  // \n  if (newData.length && total) {\n    const sum = get(newData, [[data.length - 1], newYField, [1]]);\n    newData.push({\n      [xField]: total.label,\n      [yField]: sum,\n      [newYField]: [0, sum],\n    });\n  }\n  return newData;\n}\n\n/**\n *   \n */\nexport function transformData(\n  data: Options['data'],\n  xField: string,\n  yField: string,\n  total?: false | { label?: string }\n) {\n  const processed = processData(data, xField, yField, Y_FIELD, total);\n  return processed.map((d, dIdx) => {\n    if (!isObject(d)) {\n      return d;\n    }\n    return {\n      ...d,\n      [ABSOLUTE_FIELD]: d[Y_FIELD][1],\n      [DIFF_FIELD]: d[Y_FIELD][1] - d[Y_FIELD][0],\n      [IS_TOTAL]: dIdx === data.length,\n    };\n  });\n}\n","import { IGroup } from '@antv/g-base';\nimport { registerShape } from '@antv/g2';\nimport { Types } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { deepAssign } from '../../utils';\nimport { Point } from '../../types';\n\n/**\n *  path\n * @param points\n */\nfunction getRectPath(points: Point[]) {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i];\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n\n  const first = points[0];\n  path.push(['L', first.x, first.y]);\n  path.push(['z']);\n\n  return path;\n}\n\n/**\n * \n * @param cfg \n */\nfunction getFillAttrs(cfg: Types.ShapeInfo) {\n  return deepAssign({}, cfg.defaultStyle, cfg.style, { fill: cfg.color });\n}\n\nregisterShape('interval', 'waterfall', {\n  draw(cfg: Types.ShapeInfo & { points: Point[]; nextPoints: Point[] }, container: IGroup) {\n    const { customInfo, points, nextPoints } = cfg;\n\n    const group = container.addGroup();\n\n    //  \n    const rectPath = this.parsePath(getRectPath(points));\n    const fillAttrs = getFillAttrs(cfg);\n\n    group.addShape('path', {\n      attrs: {\n        ...fillAttrs,\n        path: rectPath,\n      },\n    });\n\n    //  \n    const leaderLineCfg = get(customInfo, 'leaderLine');\n    if (leaderLineCfg && nextPoints) {\n      let linkPath = [\n        ['M', points[2].x, points[2].y],\n        ['L', nextPoints[0].x, nextPoints[0].y],\n      ];\n\n      if (points[2].y === nextPoints[1].y) {\n        linkPath[1] = ['L', nextPoints[1].x, nextPoints[1].y];\n      }\n\n      linkPath = this.parsePath(linkPath);\n      group.addShape('path', {\n        attrs: {\n          path: linkPath,\n          ...(leaderLineCfg.style || {}),\n        },\n      });\n    }\n\n    return group;\n  },\n});\n","import { Geometry } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Datum } from '../../types';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, state, scale, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { getLocale } from '../../core/locale';\nimport { findGeometry, flow, transformLabel, deepAssign } from '../../utils';\nimport { Y_FIELD, ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL } from './constant';\nimport { WaterfallOptions } from './types';\nimport { transformData } from './utils';\nimport './shape';\n\n/**\n *  \n * @param params\n * @returns\n */\nfunction defaultOptions(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { locale, total } = params.options;\n\n  const localeTotalLabel = getLocale(locale).get(['waterfall', 'total']);\n\n  if (total && typeof total.label !== 'string' && localeTotalLabel) {\n    // @ts-ignore\n    params.options.total.label = localeTotalLabel;\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { data, xField, yField, total, leaderLine, columnWidthRatio, waterfallStyle, risingFill, fallingFill, color } =\n    options;\n\n  // \n  chart.data(transformData(data, xField, yField, total));\n\n  //  colorMapping\n  const colorMapping =\n    color ||\n    function (datum: Datum) {\n      if (get(datum, [IS_TOTAL])) {\n        return get(total, ['style', 'fill'], '');\n      }\n      return get(datum, [Y_FIELD, 1]) - get(datum, [Y_FIELD, 0]) > 0 ? risingFill : fallingFill;\n    };\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: Y_FIELD,\n      seriesField: xField,\n      rawFields: [yField, DIFF_FIELD, IS_TOTAL, Y_FIELD],\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: waterfallStyle,\n        shape: 'waterfall',\n        color: colorMapping,\n      },\n    },\n  });\n  const { ext } = interval(p);\n  const geometry = ext.geometry as Geometry;\n\n  //  waterfall leaderLineCfg  shape \n  geometry.customInfo({ leaderLine });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, meta } = options;\n\n  const Y_FIELD_META = deepAssign({}, { alias: yField }, get(meta, yField));\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n        [Y_FIELD]: yAxis,\n      },\n      deepAssign({}, meta, { [Y_FIELD]: Y_FIELD_META, [DIFF_FIELD]: Y_FIELD_META, [ABSOLUTE_FIELD]: Y_FIELD_META })\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n    chart.axis(Y_FIELD, false);\n  } else {\n    chart.axis(yField, yAxis);\n    chart.axis(Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend  todo  hover \n * @param params\n */\nfunction legend(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { legend, total, risingFill, fallingFill, locale } = options;\n\n  const i18n = getLocale(locale);\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    const items = [\n      {\n        name: i18n.get(['general', 'increase']),\n        value: 'increase',\n        marker: { symbol: 'square', style: { r: 5, fill: risingFill } },\n      },\n      {\n        name: i18n.get(['general', 'decrease']),\n        value: 'decrease',\n        marker: { symbol: 'square', style: { r: 5, fill: fallingFill } },\n      },\n    ];\n\n    if (total) {\n      items.push({\n        name: total.label || '',\n        value: 'total',\n        marker: {\n          symbol: 'square',\n          style: deepAssign({}, { r: 5 }, get(total, 'style')),\n        },\n      });\n    }\n    chart.legend(\n      deepAssign(\n        {},\n        {\n          custom: true,\n          position: 'top',\n          items,\n        },\n        legend\n      )\n    );\n    chart.removeInteraction('legend-filter');\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { label, labelMode, xField } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: labelMode === 'absolute' ? [ABSOLUTE_FIELD, xField] : [DIFF_FIELD, xField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { tooltip, xField, yField } = options;\n\n  if (tooltip !== false) {\n    chart.tooltip({\n      showCrosshairs: false,\n      showMarkers: false,\n      shared: true,\n      // tooltip  y \n      fields: [yField],\n      ...tooltip,\n    });\n    //  yField  tooltip \n    const geometry = chart.geometries[0];\n    tooltip?.formatter ? geometry.tooltip(`${xField}*${yField}`, tooltip.formatter) : geometry.tooltip(yField);\n  } else {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<WaterfallOptions>) {\n  return flow(\n    defaultOptions,\n    theme,\n    geometry,\n    meta,\n    axis,\n    legend,\n    tooltip,\n    label,\n    state,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { WaterfallOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { transformData } from './utils';\n\nexport type { WaterfallOptions };\n\n/**\n * \n */\nexport class Waterfall extends Plot<WaterfallOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<WaterfallOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'waterfall';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    const { xField, yField, total } = this.options;\n    this.updateOption({ data });\n    this.chart.changeData(transformData(data, xField, yField, total));\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<WaterfallOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<WaterfallOptions> {\n    return Waterfall.getDefaultOptions();\n  }\n}\n","import { Data } from '../../types';\n\nexport function getScaleMax(maxAngle: number, yField: string, data: Data): number {\n  const yData = data.map((item) => item[yField]).filter((v) => v !== undefined);\n  const maxValue = yData.length > 0 ? Math.max(...yData) : 0;\n  const formatRadian = Math.abs(maxAngle) % 360;\n  if (!formatRadian) {\n    return maxValue;\n  }\n  return (maxValue * 360) / formatRadian;\n}\n\n/**\n * \n */\nexport function getStackedData(data: Data, xField: string, yField: string) {\n  const stackedData: Data = [];\n  data.forEach((item) => {\n    const valueItem = stackedData.find((v) => v[xField] === item[xField]);\n    if (valueItem) {\n      valueItem[yField] += item[yField] || null;\n    } else {\n      stackedData.push({ ...item });\n    }\n  });\n  return stackedData;\n}\n","import { interaction, animation, theme, scale, tooltip, legend, annotation } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign, findGeometry, transformLabel } from '../../utils';\nimport { interval, point } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { processIllegalData } from '../../utils';\nimport { RadialBarOptions } from './types';\nimport { getScaleMax, getStackedData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { barStyle: style, color, tooltip, colorField, type, xField, yField, data } = options;\n\n  // \n  const processData = processIllegalData(data, yField);\n  chart.data(processData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      tooltip,\n      seriesField: colorField,\n      interval: {\n        style,\n        color,\n        shape: type === 'line' ? 'line' : 'intervel',\n      },\n      // \n      minColumnWidth: options.minBarWidth,\n      maxColumnWidth: options.maxBarWidth,\n      columnBackground: options.barBackground,\n    },\n  });\n  interval(p);\n  if (type === 'line') {\n    point({\n      chart,\n      options: { xField, yField, seriesField: colorField, point: { shape: 'circle', color } },\n    });\n  }\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { options } = params;\n  const { yField, xField, data, isStack, isGroup, colorField, maxAngle } = options;\n\n  const actualData = isStack && !isGroup && colorField ? getStackedData(data, xField, yField) : data;\n  const processData = processIllegalData(actualData, yField);\n  return flow(\n    scale({\n      [yField]: {\n        min: 0,\n        max: getScaleMax(maxAngle, yField, processData),\n      },\n    })\n  )(params);\n}\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart\n    .coordinate({\n      type: 'polar',\n      cfg: {\n        radius,\n        innerRadius,\n        startAngle,\n        endAngle,\n      },\n    })\n    .transpose();\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { xField, xAxis } = options;\n  chart.axis(xField, xAxis);\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const intervalGeometry = findGeometry(chart, 'interval');\n\n  // label  false,   label\n  if (!label) {\n    intervalGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    intervalGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        ...transformLabel(cfg),\n        type: 'polar',\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RadialBarOptions>) {\n  return flow(\n    pattern('barStyle'),\n    geometry,\n    meta,\n    axis,\n    coordinate,\n    interaction,\n    animation,\n    theme,\n    tooltip,\n    legend,\n    annotation(),\n    label\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  interactions: [{ type: 'element-active' }],\n  legend: false,\n  tooltip: {\n    showMarkers: false,\n  },\n  xAxis: {\n    grid: null,\n    tickLine: null,\n    line: null,\n  },\n  maxAngle: 240,\n});\n","export const FIRST_AXES_VIEW = 'first-axes-view';\nexport const SECOND_AXES_VIEW = 'second-axes-view';\n/**  key  */\nexport const SERIES_FIELD_KEY = 'series-field-key';\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { RadialBarOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { RadialBarOptions };\n\n/**\n * \n */\nexport class RadialBar extends Plot<RadialBarOptions> {\n  static getDefaultOptions(): Partial<RadialBarOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'radial-bar';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    //  scale\n    meta({ chart: this.chart, options: this.options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions(): Partial<RadialBarOptions> {\n    return RadialBar.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<RadialBarOptions> {\n    return adaptor;\n  }\n}\n","import { groupBy } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { Datum } from '../../types';\nimport { BidirectionalBarOptions } from './types';\n\ntype TransformData = {\n  [key: string]: string | number;\n}[];\n\n/**\n * bidirectional-bar ,  SERIES_FIELD_KEY \n * @param xField\n * @param yField\n * @param data\n */\nexport function transformData(\n  xField: string,\n  yField: string[],\n  seriesField: string,\n  data: Datum,\n  reverse?: boolean\n): Types.Data[] {\n  const hopeData: TransformData = [];\n  yField.forEach((d: string) => {\n    data.forEach((k: any) => {\n      const obj = {\n        [xField]: k[xField],\n        [seriesField]: d,\n        [d]: k[d],\n      };\n      hopeData.push(obj);\n    });\n  });\n  const groupData = Object.values(groupBy(hopeData, seriesField));\n  const [data1 = [], data2 = []] = groupData;\n  return reverse ? [data1.reverse(), data2.reverse()] : [data1, data2];\n}\n\n/**\n * \n * @param layout\n */\nexport function isHorizontal(layout: BidirectionalBarOptions['layout']) {\n  return layout !== 'vertical';\n}\n\n/**\n *  view  padding \n * @param chart\n * @param views\n * @param p\n */\nexport function syncViewPadding(chart: any, views: any, p: any) {\n  const [v1, v2] = views;\n  const p1 = v1.autoPadding;\n  const p2 = v2.autoPadding;\n  const { layout, position } = chart.__axisPosition;\n  //  layout\n  if (isHorizontal(layout) && position === 'top') {\n    /**\n     *  v1  left  v2 right  v1 \n     * position top  v1  0\n     */\n    v1.autoPadding = p.instance(p1.top, 0, p1.bottom, p1.left);\n    v2.autoPadding = p.instance(p2.top, p1.left, p2.bottom, 0);\n  }\n  if (isHorizontal(layout) && position === 'bottom') {\n    /**\n     *  v1  left  v2 right  v1 \n     * position bottom  v1 v1 right = right / 2  v2 left = right / 2\n     * + 5  \n     */\n    v1.autoPadding = p.instance(p1.top, p1.right / 2 + 5, p1.bottom, p1.left);\n    v2.autoPadding = p.instance(p2.top, p2.right, p2.bottom, p1.right / 2 + 5);\n  }\n  if (!isHorizontal(layout) && position === 'bottom') {\n    /**\n     *  v1  left  v2 left  left \n     * position bottom  v1 v1 bottom = bottom / 2  v2 top = bottom / 2\n     * + 5  \n     */\n    const left = p1.left >= p2.left ? p1.left : p2.left;\n    v1.autoPadding = p.instance(p1.top, p1.right, p1.bottom / 2 + 5, left);\n    v2.autoPadding = p.instance(p1.bottom / 2 + 5, p2.right, p2.bottom, left);\n  }\n  // position  top \n  if (!isHorizontal(layout) && position === 'top') {\n    const left = p1.left >= p2.left ? p1.left : p2.left;\n    v1.autoPadding = p.instance(p1.top, p1.right, 0, left);\n    v2.autoPadding = p.instance(0, p2.right, p1.top, left);\n  }\n}\n","import { View } from '@antv/g2';\nimport { get, keys } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport {\n  tooltip,\n  interaction as commonInteraction,\n  animation as commonAnimation,\n  theme as commonTheme,\n  limitInPlot as commonLimitInPlot,\n  scale,\n} from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { flow, findViewById, findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { BidirectionalBarOptions } from './types';\nimport { FIRST_AXES_VIEW, SECOND_AXES_VIEW, SERIES_FIELD_KEY } from './constant';\nimport { isHorizontal, transformData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { data, xField, yField, color, barStyle, widthRatio, legend, layout } = options;\n\n  // \n  const groupData: any[] = transformData(xField, yField, SERIES_FIELD_KEY, data, isHorizontal(layout));\n  //  view  legend\n  if (legend) {\n    chart.legend(SERIES_FIELD_KEY, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n  //  view\n  let firstView: View;\n  let secondView: View;\n  const [firstViewData, secondViewData] = groupData;\n\n  // \n  if (isHorizontal(layout)) {\n    firstView = chart.createView({\n      region: {\n        start: { x: 0, y: 0 },\n        end: { x: 0.5, y: 1 },\n      },\n      id: FIRST_AXES_VIEW,\n    });\n\n    firstView.coordinate().transpose().reflect('x');\n\n    secondView = chart.createView({\n      region: {\n        start: { x: 0.5, y: 0 },\n        end: { x: 1, y: 1 },\n      },\n      id: SECOND_AXES_VIEW,\n    });\n    secondView.coordinate().transpose();\n\n    // @: ( transform )\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n  } else {\n    // \n    firstView = chart.createView({\n      region: {\n        start: { x: 0, y: 0 },\n        end: { x: 1, y: 0.5 },\n      },\n      id: FIRST_AXES_VIEW,\n    });\n    secondView = chart.createView({\n      region: {\n        start: { x: 0, y: 0.5 },\n        end: { x: 1, y: 1 },\n      },\n      id: SECOND_AXES_VIEW,\n    });\n    secondView.coordinate().reflect('y');\n\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n  }\n  const left = deepAssign({}, params, {\n    chart: firstView,\n    options: {\n      widthRatio,\n      xField,\n      yField: yField[0],\n      seriesField: SERIES_FIELD_KEY,\n      interval: {\n        color,\n        style: barStyle,\n      },\n    },\n  });\n  interval(left);\n\n  const right = deepAssign({}, params, {\n    chart: secondView,\n    options: {\n      xField,\n      yField: yField[1],\n      seriesField: SERIES_FIELD_KEY,\n      widthRatio,\n      interval: {\n        color,\n        style: barStyle,\n      },\n    },\n  });\n\n  interval(right);\n\n  return params;\n}\n\n/**\n * meta \n * -  SERIES_FIELD_KEY  yField \n * @param params\n */\nfunction meta(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { options, chart } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n\n  const aliasMap = {};\n  keys(options?.meta || {}).map((metaKey) => {\n    if (get(options?.meta, [metaKey, 'alias'])) {\n      aliasMap[metaKey] = options.meta[metaKey].alias;\n    }\n  });\n\n  chart.scale({\n    [SERIES_FIELD_KEY]: {\n      sync: true,\n      formatter: (v) => {\n        return get(aliasMap, v, v);\n      },\n    },\n  });\n\n  scale({\n    [xField]: xAxis,\n    [yField[0]]: yAxis[yField[0]],\n  })(deepAssign({}, params, { chart: firstView }));\n\n  scale({\n    [xField]: xAxis,\n    [yField[1]]: yAxis[yField[1]],\n  })(deepAssign({}, params, { chart: secondView }));\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField, layout } = options;\n\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n  //  view axis ;  bottom  label\n  // @ts-ignore\n  if (xAxis?.position === 'bottom') {\n    // fixme  label: null  tickLine \n    secondView.axis(xField, { ...xAxis, label: { formatter: () => '' } });\n  } else {\n    secondView.axis(xField, false);\n  }\n\n  //  false  firstView \n  if (xAxis === false) {\n    firstView.axis(xField, false);\n  } else {\n    firstView.axis(xField, {\n      //  firstView \n      position: isHorizontal(layout) ? 'top' : 'bottom',\n      ...xAxis,\n    });\n  }\n\n  if (yAxis === false) {\n    firstView.axis(yField[0], false);\n    secondView.axis(yField[1], false);\n  } else {\n    firstView.axis(yField[0], yAxis[yField[0]]);\n    secondView.axis(yField[1], yAxis[yField[1]]);\n  }\n  /**\n   *  syncViewPadding\n   *  TODO  g2 View  setter \n   */\n\n  //@ts-ignore\n  chart.__axisPosition = {\n    position: firstView.getOptions().axes[xField].position,\n    layout,\n  };\n  return params;\n}\n\n/**\n * interaction \n * @param params\n */\nexport function interaction(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { yField, yAxis } = options;\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, FIRST_AXES_VIEW),\n      options: {\n        yAxis: yAxis[yField[0]],\n      },\n    })\n  );\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, SECOND_AXES_VIEW),\n      options: {\n        yAxis: yAxis[yField[1]],\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * theme\n * @param params\n */\nexport function theme(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n  commonTheme(params);\n\n  return params;\n}\n\n/**\n * animation\n * @param params\n */\nexport function animation(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * label  (1.  offset  2. leftView  *= -1)\n * @param params\n */\nfunction label(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { label, yField, layout } = options;\n\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n  const leftGeometry = findGeometry(firstView, 'interval');\n  const rightGeometry = findGeometry(secondView, 'interval');\n\n  if (!label) {\n    leftGeometry.label(false);\n    rightGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    /** ----  ---- */\n    // \n    if (!cfg.position) {\n      cfg.position = 'middle';\n    }\n    if (cfg.offset === undefined) {\n      cfg.offset = 2;\n    }\n\n    /** ---- leftView label  ---- */\n    const leftLabelCfg = { ...cfg };\n    if (isHorizontal(layout)) {\n      //  textAlign \n      const textAlign = leftLabelCfg.style?.textAlign || (cfg.position === 'middle' ? 'center' : 'left');\n      cfg.style = deepAssign({}, cfg.style, { textAlign });\n      const textAlignMap = { left: 'right', right: 'left', center: 'center' };\n      leftLabelCfg.style = deepAssign({}, leftLabelCfg.style, { textAlign: textAlignMap[textAlign] });\n    } else {\n      const positionMap = { top: 'bottom', bottom: 'top', middle: 'middle' };\n      if (typeof cfg.position === 'string') {\n        cfg.position = positionMap[cfg.position];\n      } else if (typeof cfg.position === 'function') {\n        cfg.position = (...args) => positionMap[(cfg.position as Function).apply(this, args)];\n      }\n      //  textBaseline \n      const textBaseline = leftLabelCfg.style?.textBaseline || 'bottom';\n      leftLabelCfg.style = deepAssign({}, leftLabelCfg.style, { textBaseline });\n      const textBaselineMap = { top: 'bottom', bottom: 'top', middle: 'middle' };\n      cfg.style = deepAssign({}, cfg.style, { textBaseline: textBaselineMap[textBaseline] });\n    }\n\n    leftGeometry.label({\n      fields: [yField[0]],\n      callback,\n      cfg: transformLabel(leftLabelCfg),\n    });\n    rightGeometry.label({\n      fields: [yField[1]],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BidirectionalBarOptions>) {\n  // flow  G2 API\n  return flow(geometry, meta, axis, limitInPlot, theme, label, tooltip, interaction, animation)(params);\n}\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { deepAssign, findViewById } from '../../utils';\nimport { BidirectionalBarOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { syncViewPadding, transformData, isHorizontal } from './utils';\nimport { SERIES_FIELD_KEY, FIRST_AXES_VIEW, SECOND_AXES_VIEW } from './constant';\n\nexport type { BidirectionalBarOptions };\n\nexport class BidirectionalBar extends Plot<BidirectionalBarOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<BidirectionalBarOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      syncViewPadding,\n    });\n  }\n\n  /**  */\n  static SERIES_FIELD_KEY = SERIES_FIELD_KEY;\n\n  /**  */\n  public type: string = 'bidirectional-bar';\n\n  /**\n   * @override\n   */\n  public changeData(data = []) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n\n    // options\n    this.updateOption({ data });\n    const { xField, yField, layout } = this.options;\n    // \n    const groupData: any[] = transformData(xField, yField, SERIES_FIELD_KEY, data, isHorizontal(layout));\n    const [firstViewData, secondViewData] = groupData;\n    const firstView = findViewById(this.chart, FIRST_AXES_VIEW);\n    const secondView = findViewById(this.chart, SECOND_AXES_VIEW);\n    // viewdata\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n    // \n    this.chart.render(true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  protected getDefaultOptions() {\n    return BidirectionalBar.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<BidirectionalBarOptions> {\n    return adaptor;\n  }\n}\n","import { isArray, get } from '@antv/util';\nimport { View } from '@antv/g2';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { Interaction } from '../../types/interaction';\nimport { treemap } from '../../utils/hierarchy/treemap';\nimport { TreemapOptions } from './types';\n\nexport function findInteraction(\n  interactions: TreemapOptions['interactions'],\n  interactionType: string\n): undefined | Interaction {\n  if (!isArray(interactions)) return undefined;\n  return interactions.find((i) => i.type === interactionType);\n}\n\nexport function enableInteraction(interactions: TreemapOptions['interactions'], interactionType: string): boolean {\n  const interaction = findInteraction(interactions, interactionType);\n  return interaction && interaction.enable !== false;\n}\n\n/**\n * \n * @param interactions\n * @param interactionType\n * @returns\n */\nexport function enableDrillInteraction(options: TreemapOptions): boolean {\n  const { interactions, drilldown } = options;\n  // , treemap-drill-down\n  return get(drilldown, 'enabled') || enableInteraction(interactions, 'treemap-drill-down');\n}\n\nexport function resetDrillDown(chart: View) {\n  const drillDownInteraction = chart.interactions['drill-down'];\n\n  if (!drillDownInteraction) return;\n\n  // @ts-ignore\n  const drillDownAction = drillDownInteraction.context.actions.find((i) => i.name === 'drill-down-action');\n\n  drillDownAction.reset();\n}\n\ninterface TransformDataOptions {\n  data: TreemapOptions['data'];\n  colorField: TreemapOptions['colorField'];\n  enableDrillDown: boolean;\n  hierarchyConfig: TreemapOptions['hierarchyConfig'];\n}\n\nexport function transformData(options: TransformDataOptions) {\n  const { data, colorField, enableDrillDown, hierarchyConfig } = options;\n\n  const nodes = treemap(data, {\n    ...hierarchyConfig,\n    // @ts-ignore\n    type: 'hierarchy.treemap',\n    field: 'value',\n    as: ['x', 'y'],\n  });\n\n  const result = [];\n  nodes.forEach((node) => {\n    if (node.depth === 0) {\n      return null;\n    }\n\n    //  depth === 1 \n    if (enableDrillDown && node.depth !== 1) {\n      return null;\n    }\n\n    // \n    if (!enableDrillDown && node.children) {\n      return null;\n    }\n\n    // path (x, y), ( depth)\n    const curPath = node.ancestors().map((n) => ({\n      data: n.data,\n      height: n.height,\n      value: n.value,\n    }));\n    // data.path) \n    const path = enableDrillDown && isArray(data.path) ? curPath.concat(data.path.slice(1)) : curPath;\n\n    const nodeInfo = Object.assign({}, node.data, {\n      x: node.x,\n      y: node.y,\n      depth: node.depth,\n      value: node.value,\n      path,\n      ...node,\n    });\n    if (!node.data[colorField] && node.parent) {\n      const ancestorNode = node.ancestors().find((n) => n.data[colorField]);\n      nodeInfo[colorField] = ancestorNode?.data[colorField];\n    } else {\n      nodeInfo[colorField] = node.data[colorField];\n    }\n\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, colorField, enableDrillDown };\n    result.push(nodeInfo);\n  });\n  return result;\n}\n","import { get } from '@antv/util';\nimport { polygon as basePolygon } from '../../adaptor/geometries/polygon';\nimport { Params } from '../../core/adaptor';\nimport { interaction as commonInteraction, animation, theme, legend, annotation, tooltip } from '../../adaptor/common';\nimport { pattern } from '../../adaptor/pattern';\nimport { flow, deepAssign } from '../../utils';\nimport { getAdjustAppendPadding } from '../../utils/padding';\nimport { transformData, findInteraction, enableDrillInteraction } from './utils';\nimport { TreemapOptions } from './types';\n\n/**\n *  option\n * @param params\n */\nfunction defaultOptions(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { options } = params;\n  const { colorField } = options;\n\n  return deepAssign(\n    {\n      options: {\n        rawFields: ['value'],\n        tooltip: {\n          fields: ['name', 'value', colorField, 'path'],\n          formatter: (data) => {\n            return {\n              name: data.name,\n              value: data.value,\n            };\n          },\n        },\n      },\n    },\n    params\n  );\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart, options } = params;\n  const { color, colorField, rectStyle, hierarchyConfig, rawFields } = options;\n\n  const data = transformData({\n    data: options.data,\n    colorField: options.colorField,\n    enableDrillDown: enableDrillInteraction(options),\n    hierarchyConfig,\n  });\n\n  chart.data(data);\n\n  // geometry\n  basePolygon(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        rawFields: rawFields,\n        polygon: {\n          color,\n          style: rectStyle,\n        },\n      },\n    })\n  );\n\n  // \n  chart.coordinate().reflect('y');\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction axis(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\nfunction adaptorInteraction(options: TreemapOptions): TreemapOptions {\n  const { drilldown, interactions = [] } = options;\n\n  const enableDrillDown = enableDrillInteraction(options);\n  if (enableDrillDown) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          //   API\n          cfg: { drillDownConfig: drilldown, transformData },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * Interaction \n * @param params\n */\nexport function interaction(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart, options } = params;\n  const { interactions, drilldown } = options;\n\n  commonInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  //  view-zoom\n  const viewZoomInteraction = findInteraction(interactions, 'view-zoom');\n\n  if (viewZoomInteraction) {\n    //  interaction \n    if (viewZoomInteraction.enable !== false) {\n      chart.getCanvas().on('mousewheel', (ev) => {\n        ev.preventDefault();\n      });\n    } else {\n      //  viewZoomInteraction \n      chart.getCanvas().off('mousewheel');\n    }\n  }\n\n  // \n  const enableDrillDown = enableDrillInteraction(options);\n  if (enableDrillDown) {\n    //  25px \n    chart.appendPadding = getAdjustAppendPadding(chart.appendPadding, get(drilldown, ['breadCrumb', 'position']));\n  }\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TreemapOptions>) {\n  return flow(\n    defaultOptions,\n    theme,\n    pattern('rectStyle'),\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","export const DEFAULT_OPTIONS = {\n  //  name \n  colorField: 'name',\n  rectStyle: {\n    lineWidth: 1,\n    stroke: '#fff',\n  },\n  hierarchyConfig: {\n    tile: 'treemapSquarify' as const,\n  },\n  label: {\n    fields: ['name'],\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    showMarkers: false,\n    showTitle: false,\n  },\n  // \n  drilldown: {\n    enabled: false,\n    breadCrumb: {\n      position: 'bottom-left' as const,\n      rootText: '',\n      dividerText: '/',\n      textStyle: {\n        fontSize: 12,\n        fill: 'rgba(0, 0, 0, 0.65)',\n        cursor: 'pointer',\n      },\n      activeTextStyle: {\n        fill: '#87B5FF',\n      },\n    },\n  },\n};\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { TreemapOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { transformData, enableInteraction, resetDrillDown } from './utils';\nimport './interactions';\n\nexport type { TreemapOptions };\n\nexport class Treemap extends Plot<TreemapOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<TreemapOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'treemap';\n\n  /**\n   * changeData\n   */\n  public changeData(data) {\n    const { colorField, interactions, hierarchyConfig } = this.options;\n    this.updateOption({ data });\n    const transData = transformData({\n      data,\n      colorField,\n      enableDrillDown: enableInteraction(interactions, 'treemap-drill-down'),\n      hierarchyConfig,\n    });\n    this.chart.changeData(transData);\n\n    resetDrillDown(this.chart);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Treemap.getDefaultOptions();\n  }\n\n  protected getSchemaAdaptor(): Adaptor<TreemapOptions> {\n    return adaptor;\n  }\n}\n","import { minBy } from '@antv/util';\n\nfunction targetDepth(d) {\n  return d.target.depth;\n}\n\nexport function left(node) {\n  return node.depth;\n}\n\nexport function right(node, n) {\n  return n - 1 - node.height;\n}\n\nexport function justify(node, n) {\n  return node.sourceLinks.length ? node.depth : n - 1;\n}\n\nexport function center(node) {\n  return node.targetLinks.length ? node.depth : node.sourceLinks.length ? minBy(node.sourceLinks, targetDepth) - 1 : 0;\n}\n","export function constant(x: any) {\n  return function () {\n    return x;\n  };\n}\n\nexport function sumBy(arr, func) {\n  let r = 0;\n  for (let i = 0; i < arr.length; i++) {\n    r += func(arr[i]);\n  }\n\n  return r;\n}\n\n/**\n * \n * @param arr\n * @param func\n */\nexport function maxValueBy(arr, func): number {\n  let r = -Infinity;\n  for (let i = 0; i < arr.length; i++) {\n    r = Math.max(func(arr[i]), r);\n  }\n\n  return r;\n}\n\n/**\n * \n * @param arr\n * @param func\n */\nexport function minValueBy(arr, func): number {\n  let r = Infinity;\n  for (let i = 0; i < arr.length; i++) {\n    r = Math.min(func(arr[i]), r);\n  }\n\n  return r;\n}\n","import { justify } from './align';\nimport { constant, sumBy, maxValueBy, minValueBy } from './helper';\n\nfunction ascendingSourceBreadth(a, b) {\n  return ascendingBreadth(a.source, b.source) || a.index - b.index;\n}\n\nfunction ascendingTargetBreadth(a, b) {\n  return ascendingBreadth(a.target, b.target) || a.index - b.index;\n}\n\nfunction ascendingBreadth(a, b) {\n  return a.y0 - b.y0;\n}\n\nfunction value(d) {\n  return d.value;\n}\n\nfunction defaultId(d) {\n  return d.index;\n}\n\nfunction defaultNodes(graph) {\n  return graph.nodes;\n}\n\nfunction defaultLinks(graph) {\n  return graph.links;\n}\n\nfunction find(nodeById, id) {\n  const node = nodeById.get(id);\n  if (!node) throw new Error('missing: ' + id);\n  return node;\n}\n\nfunction computeLinkBreadths({ nodes }) {\n  for (const node of nodes) {\n    let y0 = node.y0;\n    let y1 = y0;\n    for (const link of node.sourceLinks) {\n      link.y0 = y0 + link.width / 2;\n      y0 += link.width;\n    }\n    for (const link of node.targetLinks) {\n      link.y1 = y1 + link.width / 2;\n      y1 += link.width;\n    }\n  }\n}\n\nexport function Sankey() {\n  let x0 = 0,\n    y0 = 0,\n    x1 = 1,\n    y1 = 1; // extent\n  let dx = 24; // nodeWidth\n  let dy = 8,\n    py; // nodePadding\n  let id = defaultId;\n  let align = justify;\n  let depth;\n  let sort;\n  let linkSort;\n  let nodes = defaultNodes;\n  let links = defaultLinks;\n  let iterations = 6;\n\n  function sankey(arg) {\n    const graph = {\n      nodes: nodes(arg),\n      links: links(arg),\n    };\n    computeNodeLinks(graph);\n    computeNodeValues(graph);\n    computeNodeDepths(graph);\n    computeNodeHeights(graph);\n    computeNodeBreadths(graph);\n    computeLinkBreadths(graph);\n    return graph;\n  }\n\n  sankey.update = function (graph) {\n    computeLinkBreadths(graph);\n    return graph;\n  };\n\n  sankey.nodeId = function (_) {\n    return arguments.length ? ((id = typeof _ === 'function' ? _ : constant(_)), sankey) : id;\n  };\n\n  sankey.nodeAlign = function (_) {\n    return arguments.length ? ((align = typeof _ === 'function' ? _ : constant(_)), sankey) : align;\n  };\n\n  sankey.nodeDepth = function (_) {\n    return arguments.length ? ((depth = typeof _ === 'function' ? _ : _), sankey) : depth;\n  };\n\n  sankey.nodeSort = function (_) {\n    return arguments.length ? ((sort = _), sankey) : sort;\n  };\n\n  sankey.nodeWidth = function (_) {\n    return arguments.length ? ((dx = +_), sankey) : dx;\n  };\n\n  sankey.nodePadding = function (_) {\n    return arguments.length ? ((dy = py = +_), sankey) : dy;\n  };\n\n  sankey.nodes = function (_) {\n    return arguments.length ? ((nodes = typeof _ === 'function' ? _ : constant(_)), sankey) : nodes;\n  };\n\n  sankey.links = function (_) {\n    return arguments.length ? ((links = typeof _ === 'function' ? _ : constant(_)), sankey) : links;\n  };\n\n  sankey.linkSort = function (_) {\n    return arguments.length ? ((linkSort = _), sankey) : linkSort;\n  };\n\n  sankey.size = function (_) {\n    return arguments.length ? ((x0 = y0 = 0), (x1 = +_[0]), (y1 = +_[1]), sankey) : [x1 - x0, y1 - y0];\n  };\n\n  sankey.extent = function (_) {\n    return arguments.length\n      ? ((x0 = +_[0][0]), (x1 = +_[1][0]), (y0 = +_[0][1]), (y1 = +_[1][1]), sankey)\n      : [\n          [x0, y0],\n          [x1, y1],\n        ];\n  };\n\n  sankey.iterations = function (_) {\n    return arguments.length ? ((iterations = +_), sankey) : iterations;\n  };\n\n  function computeNodeLinks({ nodes, links }) {\n    nodes.forEach((node, idx) => {\n      node.index = idx;\n      node.sourceLinks = [];\n      node.targetLinks = [];\n    });\n\n    const nodeById = new Map(nodes.map((d) => [id(d), d]));\n\n    links.forEach((link, idx) => {\n      link.index = idx;\n      let { source, target } = link;\n      if (typeof source !== 'object') source = link.source = find(nodeById, source);\n      if (typeof target !== 'object') target = link.target = find(nodeById, target);\n      source.sourceLinks.push(link);\n      target.targetLinks.push(link);\n    });\n\n    if (linkSort != null) {\n      for (const { sourceLinks, targetLinks } of nodes) {\n        sourceLinks.sort(linkSort);\n        targetLinks.sort(linkSort);\n      }\n    }\n  }\n\n  function computeNodeValues({ nodes }) {\n    for (const node of nodes) {\n      node.value =\n        node.fixedValue === undefined\n          ? Math.max(sumBy(node.sourceLinks, value), sumBy(node.targetLinks, value))\n          : node.fixedValue;\n    }\n  }\n\n  function computeNodeDepths({ nodes }) {\n    const n = nodes.length;\n    let current = new Set<any>(nodes);\n    let next = new Set();\n    let x = 0;\n    while (current.size) {\n      current.forEach((node) => {\n        node.depth = x;\n        for (const { target } of node.sourceLinks) {\n          next.add(target);\n        }\n      });\n      if (++x > n) throw new Error('circular link');\n      current = next;\n      next = new Set();\n    }\n\n    //  depth depth\n    if (depth) {\n      const maxDepth = Math.max(maxValueBy(nodes, (d: any) => d.depth) + 1, 0);\n\n      let node;\n      for (let i = 0; i < nodes.length; i++) {\n        node = nodes[i];\n        node.depth = depth.call(null, node, maxDepth);\n      }\n    }\n  }\n\n  function computeNodeHeights({ nodes }) {\n    const n = nodes.length;\n    let current = new Set<any>(nodes);\n    let next = new Set();\n    let x = 0;\n    while (current.size) {\n      current.forEach((node) => {\n        node.height = x;\n        for (const { source } of node.targetLinks) {\n          next.add(source);\n        }\n      });\n      if (++x > n) throw new Error('circular link');\n      current = next;\n      next = new Set();\n    }\n  }\n\n  function computeNodeLayers({ nodes }) {\n    const x = Math.max(maxValueBy(nodes, (d: any) => d.depth) + 1, 0);\n    const kx = (x1 - x0 - dx) / (x - 1);\n    const columns = new Array(x).fill(0).map(() => []);\n    for (const node of nodes) {\n      const i = Math.max(0, Math.min(x - 1, Math.floor(align.call(null, node, x))));\n      node.layer = i;\n      node.x0 = x0 + i * kx;\n      node.x1 = node.x0 + dx;\n      if (columns[i]) columns[i].push(node);\n      else columns[i] = [node];\n    }\n    if (sort)\n      for (const column of columns) {\n        column.sort(sort);\n      }\n    return columns;\n  }\n\n  function initializeNodeBreadths(columns) {\n    const ky = minValueBy(columns, (c: any[]) => (y1 - y0 - (c.length - 1) * py) / sumBy(c, value)) as any as number;\n    for (const nodes of columns) {\n      let y = y0;\n      for (const node of nodes) {\n        node.y0 = y;\n        node.y1 = y + node.value * ky;\n        y = node.y1 + py;\n        for (const link of node.sourceLinks) {\n          link.width = link.value * ky;\n        }\n      }\n      y = (y1 - y + py) / (nodes.length + 1);\n      for (let i = 0; i < nodes.length; ++i) {\n        const node = nodes[i];\n        node.y0 += y * (i + 1);\n        node.y1 += y * (i + 1);\n      }\n      reorderLinks(nodes);\n    }\n  }\n\n  function computeNodeBreadths(graph) {\n    const columns = computeNodeLayers(graph);\n    py = Math.min(dy, (y1 - y0) / ((maxValueBy(columns, (c: any[]) => c.length) as any as number) - 1));\n    initializeNodeBreadths(columns);\n    for (let i = 0; i < iterations; ++i) {\n      const alpha = Math.pow(0.99, i);\n      const beta = Math.max(1 - alpha, (i + 1) / iterations);\n      relaxRightToLeft(columns, alpha, beta);\n      relaxLeftToRight(columns, alpha, beta);\n    }\n  }\n\n  // Reposition each node based on its incoming (target) links.\n  function relaxLeftToRight(columns, alpha, beta) {\n    for (let i = 1, n = columns.length; i < n; ++i) {\n      const column = columns[i];\n      for (const target of column) {\n        let y = 0;\n        let w = 0;\n        for (const { source, value } of target.targetLinks) {\n          const v = value * (target.layer - source.layer);\n          y += targetTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        const dy = (y / w - target.y0) * alpha;\n        target.y0 += dy;\n        target.y1 += dy;\n        reorderNodeLinks(target);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      if (column.length) resolveCollisions(column, beta);\n    }\n  }\n\n  // Reposition each node based on its outgoing (source) links.\n  function relaxRightToLeft(columns, alpha, beta) {\n    for (let n = columns.length, i = n - 2; i >= 0; --i) {\n      const column = columns[i];\n      for (const source of column) {\n        let y = 0;\n        let w = 0;\n        for (const { target, value } of source.sourceLinks) {\n          const v = value * (target.layer - source.layer);\n          y += sourceTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        const dy = (y / w - source.y0) * alpha;\n        source.y0 += dy;\n        source.y1 += dy;\n        reorderNodeLinks(source);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      if (column.length) resolveCollisions(column, beta);\n    }\n  }\n\n  function resolveCollisions(nodes, alpha) {\n    const i = nodes.length >> 1;\n    const subject = nodes[i];\n    resolveCollisionsBottomToTop(nodes, subject.y0 - py, i - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, subject.y1 + py, i + 1, alpha);\n    resolveCollisionsBottomToTop(nodes, y1, nodes.length - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, y0, 0, alpha);\n  }\n\n  // Push any overlapping nodes down.\n  function resolveCollisionsTopToBottom(nodes, y, i, alpha) {\n    for (; i < nodes.length; ++i) {\n      const node = nodes[i];\n      const dy = (y - node.y0) * alpha;\n      if (dy > 1e-6) (node.y0 += dy), (node.y1 += dy);\n      y = node.y1 + py;\n    }\n  }\n\n  // Push any overlapping nodes up.\n  function resolveCollisionsBottomToTop(nodes, y, i, alpha) {\n    for (; i >= 0; --i) {\n      const node = nodes[i];\n      const dy = (node.y1 - y) * alpha;\n      if (dy > 1e-6) (node.y0 -= dy), (node.y1 -= dy);\n      y = node.y0 - py;\n    }\n  }\n\n  function reorderNodeLinks({ sourceLinks, targetLinks }) {\n    if (linkSort === undefined) {\n      for (const {\n        source: { sourceLinks },\n      } of targetLinks) {\n        sourceLinks.sort(ascendingTargetBreadth);\n      }\n      for (const {\n        target: { targetLinks },\n      } of sourceLinks) {\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  function reorderLinks(nodes) {\n    if (linkSort === undefined) {\n      for (const { sourceLinks, targetLinks } of nodes) {\n        sourceLinks.sort(ascendingTargetBreadth);\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  // Returns the target.y0 that would produce an ideal link from source to target.\n  function targetTop(source, target) {\n    let y = source.y0 - ((source.sourceLinks.length - 1) * py) / 2;\n    for (const { target: node, width } of source.sourceLinks) {\n      if (node === target) break;\n      y += width + py;\n    }\n    for (const { source: node, width } of target.targetLinks) {\n      if (node === source) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  // Returns the source.y0 that would produce an ideal link from source to target.\n  function sourceTop(source, target) {\n    let y = target.y0 - ((target.targetLinks.length - 1) * py) / 2;\n    for (const { source: node, width } of target.targetLinks) {\n      if (node === source) break;\n      y += width + py;\n    }\n    for (const { target: node, width } of source.sourceLinks) {\n      if (node === target) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  return sankey;\n}\n","import { assign, isString, isFunction } from '@antv/util';\nimport { Datum } from '../../types';\nimport { sankey, left, right, center, justify } from './sankey';\n\nconst ALIGN_METHOD = {\n  left,\n  right,\n  center,\n  justify,\n};\n\ntype InputNode = {\n  readonly name: string;\n};\n\ntype InputLink = {\n  readonly source: number;\n  readonly target: number;\n  readonly value: number;\n};\n\ntype OutputNode = {\n  readonly name: string;\n  readonly x0: number;\n  readonly x1: number;\n  readonly y0: number;\n  readonly y1: number;\n  readonly depth: number;\n  readonly value: number;\n\n  //  polygon\n  x: number[];\n  y: number[];\n};\n\ntype OutputLink = {\n  readonly source: OutputNode;\n  readonly target: OutputNode;\n  readonly value: number;\n  readonly width: number;\n  readonly y0: number;\n  readonly y1: number;\n\n  //  edge\n  x?: number[];\n  y?: number[];\n};\n\n/**\n * \n */\nexport type SankeyLayoutInputData = {\n  readonly nodes: InputNode[];\n  readonly links: InputLink[];\n};\n\ntype SankeyLayoutOutputData = {\n  readonly nodes: OutputNode[];\n  readonly links: OutputLink[];\n};\n\n/**\n * \n */\nexport type NodeAlign = keyof typeof ALIGN_METHOD | Function;\n\n/**\n *  depth \n */\nexport type NodeDepth = (datum: Datum, maxDepth: number) => number;\n\n/**\n * \n */\nexport type NodeSort = (a: Datum, b: Datum) => number;\n\n/**\n * \n */\nexport type SankeyLayoutOptions = {\n  readonly nodeId?: (node: Datum) => any;\n  // readonly value?: (node: Datum) => any;\n  // readonly source?: (edge: Datum) => any;\n  // readonly target?: (edge: Datum) => any;\n  // sankey.nodeSort(undefined) is the default and resorts by ascending breadth during each iteration.\n  // sankey.nodeSort(null) specifies the input order of nodes and never sorts.\n  // sankey.nodeSort(function) specifies the given order as a comparator function and sorts once on initialization.\n  readonly nodeSort?: (a: any, b: any) => number;\n  readonly nodeAlign?: NodeAlign;\n  readonly nodeWidth?: number;\n  readonly nodePadding?: number;\n  readonly nodeDepth?: NodeDepth;\n};\n\n/**\n * \n */\nconst DEFAULT_OPTIONS: Partial<SankeyLayoutOptions> = {\n  nodeId: (node: Datum) => node.index,\n  nodeAlign: 'justify',\n  nodeWidth: 0.008,\n  nodePadding: 0.03,\n  nodeSort: undefined,\n};\n\n/**\n *  align function\n * @param nodeAlign\n * @param nodeDepth\n */\nexport function getNodeAlignFunction(nodeAlign: NodeAlign) {\n  const func = isString(nodeAlign) ? ALIGN_METHOD[nodeAlign] : isFunction(nodeAlign) ? nodeAlign : null;\n\n  return func || justify;\n}\n\nexport function getDefaultOptions(sankeyLayoutOptions: SankeyLayoutOptions) {\n  return assign({}, DEFAULT_OPTIONS, sankeyLayoutOptions);\n}\n\n/**\n * 0 - 1 \n *  data \n * @param sankeyLayoutOptions\n * @param data\n */\nexport function sankeyLayout(\n  sankeyLayoutOptions: SankeyLayoutOptions,\n  data: SankeyLayoutInputData\n): SankeyLayoutOutputData {\n  const options = getDefaultOptions(sankeyLayoutOptions);\n\n  const { nodeId, nodeSort, nodeAlign, nodeWidth, nodePadding, nodeDepth } = options;\n\n  const sankeyProcessor = sankey()\n    // .links((d: any) => d.links)\n    // .nodes((d: any) => d.nodes)\n    .nodeSort(nodeSort)\n    .nodeWidth(nodeWidth)\n    .nodePadding(nodePadding)\n    .nodeDepth(nodeDepth)\n    .nodeAlign(getNodeAlignFunction(nodeAlign))\n    .extent([\n      [0, 0],\n      [1, 1],\n    ])\n    .nodeId(nodeId);\n\n  // \n  const layoutData: SankeyLayoutOutputData = sankeyProcessor(data);\n\n  // post process (x, y), etc.\n  const nodes = layoutData.nodes\n    .map((node) => {\n      const { x0, x1, y0, y1 } = node;\n      /* points\n       * 3---2\n       * |   |\n       * 0---1\n       */\n      node.x = [x0, x1, x1, x0];\n      node.y = [y0, y0, y1, y1];\n\n      return node;\n    })\n    .filter((node) => {\n      return node.name !== null;\n    });\n\n  const links = layoutData.links\n    .map((edge) => {\n      const { source, target } = edge;\n      const sx = source.x1;\n      const tx = target.x0;\n      edge.x = [sx, sx, tx, tx];\n      const offset = edge.width / 2;\n      edge.y = [edge.y0 + offset, edge.y0 - offset, edge.y1 + offset, edge.y1 - offset];\n\n      return edge;\n    })\n    .filter((edge) => {\n      const { source, target } = edge;\n      return source.name !== null && target.name !== null;\n    });\n\n  return { nodes, links };\n}\n","import { isArray } from '@antv/util';\nimport { Data } from '../../types';\n\n/**\n *  edges  node \n */\nexport function getNodes(edges: Data, sourceField: string, targetField: string): string[] {\n  const nodes = [];\n  edges.forEach((e) => {\n    const source = e[sourceField] as string;\n    const target = e[targetField] as string;\n    if (!nodes.includes(source)) {\n      nodes.push(source);\n    }\n    if (!nodes.includes(target)) {\n      nodes.push(target);\n    }\n  });\n  return nodes;\n}\n\n/**\n *  edges  dfs \n */\nexport function getMatrix(\n  edges: Data,\n  nodes: string[],\n  sourceField: string,\n  targetField: string\n): Record<string, Record<string, number>> {\n  const graphMatrix = {};\n\n  nodes.forEach((pre) => {\n    graphMatrix[pre] = {};\n    nodes.forEach((next) => {\n      graphMatrix[pre][next] = 0;\n    });\n  });\n\n  edges.forEach((edge) => {\n    graphMatrix[edge[sourceField]][edge[targetField]] = 1;\n  });\n\n  return graphMatrix;\n}\n\n/**\n *  DFS \n * @param data\n * @param sourceField\n * @param targetField\n */\nexport function cutoffCircle(edges: Data, sourceField: string, targetField: string): Data {\n  if (!isArray(edges)) return [];\n\n  // \n  const removedData = [];\n\n  // \n  const nodes = getNodes(edges, sourceField, targetField);\n  // \n  const graphMatrix = getMatrix(edges, nodes, sourceField, targetField);\n\n  // visited, 0,1, -1\n  const visited = {};\n  // visited\n  nodes.forEach((node) => {\n    visited[node] = 0;\n  });\n\n  // \n  function DFS(dfsNode) {\n    // \n    visited[dfsNode] = 1;\n    nodes.forEach((node) => {\n      if (graphMatrix[dfsNode][node] != 0) {\n        //  removeData\n        if (visited[node] == 1) {\n          // \n          removedData.push(`${dfsNode}_${node}`);\n        } else if (visited[node] == -1) {\n          // \n          return;\n        } else {\n          DFS(node); // \n        }\n      }\n    });\n    //-1\n    visited[dfsNode] = -1;\n  }\n\n  //  dfs \n  nodes.forEach((node) => {\n    //\n    if (visited[node] == -1) {\n      return;\n    }\n    DFS(node);\n  });\n\n  if (removedData.length !== 0) {\n    console.warn(`sankey data contains circle, ${removedData.length} records removed.`, removedData);\n  }\n\n  //  remove \n  return edges.filter((edge) => removedData.findIndex((i) => i === `${edge[sourceField]}_${edge[targetField]}`) < 0);\n}\n","import { isRealNumber, pick } from '../../utils';\nimport { transformDataToNodeLinkData } from '../../utils/data';\nimport { Data } from '../../types';\nimport { sankeyLayout, SankeyLayoutInputData } from './layout';\nimport { cutoffCircle } from './circle';\nimport { SankeyOptions } from './types';\n\n/**\n *  node-link \n * @param dataTyp\n * @returns\n */\nfunction isNodeLink(dataType: string) {\n  return dataType === 'node-link';\n}\n\nexport function getNodeWidthRatio(nodeWidth: number, nodeWidthRatio: number, width: number) {\n  return isRealNumber(nodeWidth) ? nodeWidth / width : nodeWidthRatio;\n}\n\nexport function getNodePaddingRatio(nodePadding: number, nodePaddingRatio: number, height: number) {\n  return isRealNumber(nodePadding) ? nodePadding / height : nodePaddingRatio;\n}\n\n/**\n *  layout view \n * @param options\n * @param width\n * @param height\n */\nexport function transformToViewsData(options: SankeyOptions, width: number, height: number) {\n  const {\n    dataType,\n    data,\n    sourceField,\n    targetField,\n    weightField,\n    nodeAlign,\n    nodeSort,\n    nodePadding,\n    nodePaddingRatio,\n    nodeWidth,\n    nodeWidthRatio,\n    nodeDepth,\n    rawFields = [],\n  } = options;\n\n  let sankeyLayoutInputData: unknown;\n\n  if (!isNodeLink(dataType)) {\n    sankeyLayoutInputData = transformDataToNodeLinkData(\n      cutoffCircle(data as Data, sourceField, targetField),\n      sourceField,\n      targetField,\n      weightField,\n      rawFields\n    );\n  } else {\n    sankeyLayoutInputData = data;\n  }\n\n  // 3. layout \n  const { nodes, links } = sankeyLayout(\n    {\n      nodeAlign,\n      nodePadding: getNodePaddingRatio(nodePadding, nodePaddingRatio, height),\n      nodeWidth: getNodeWidthRatio(nodeWidth, nodeWidthRatio, width),\n      nodeSort,\n      nodeDepth,\n    },\n    sankeyLayoutInputData as SankeyLayoutInputData\n  );\n\n  // 4. \n  return {\n    nodes: nodes.map((node) => {\n      return {\n        ...pick(node, ['x', 'y', 'name', ...rawFields]),\n        isNode: true,\n      };\n    }),\n    edges: links.map((link) => {\n      return {\n        source: link.source.name,\n        target: link.target.name,\n        name: link.source.name || link.target.name,\n        ...pick(link, ['x', 'y', 'value', ...rawFields]),\n        isNode: false,\n      };\n    }),\n  };\n}\n","export const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\nexport const COLOR_FIELD = 'name';\nexport const NODES_VIEW_ID = 'nodes';\nexport const EDGES_VIEW_ID = 'edges';\n","import { uniq } from '@antv/util';\nimport { theme } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findViewById, flow } from '../../utils';\nimport { polygon, edge } from '../../adaptor/geometries';\nimport { transformToViewsData } from './helper';\nimport { SankeyOptions } from './types';\nimport { X_FIELD, Y_FIELD, COLOR_FIELD, EDGES_VIEW_ID, NODES_VIEW_ID } from './constant';\n\n/**\n *  \n * @param params\n */\nfunction defaultOptions(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { options } = params;\n  const { rawFields = [] } = options;\n\n  return deepAssign(\n    {},\n    {\n      options: {\n        tooltip: {\n          fields: uniq(['name', 'source', 'target', 'value', 'isNode', ...rawFields]),\n        },\n        label: {\n          fields: uniq(['x', 'name', ...rawFields]),\n        },\n      },\n    },\n    params\n  );\n}\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { color, nodeStyle, edgeStyle, label, tooltip, nodeState, edgeState } = options;\n\n  // 1.  view \n  chart.legend(false);\n  chart.tooltip(tooltip);\n  chart.axis(false);\n  // y \n  chart.coordinate().reflect('y');\n\n  // 2. node edge views\n  // @ts-ignore\n  const { nodes, edges } = transformToViewsData(options, chart.width, chart.height);\n\n  // edge view\n  const edgeView = chart.createView({ id: EDGES_VIEW_ID });\n  edgeView.data(edges);\n\n  edge({\n    chart: edgeView,\n    // @ts-ignore\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: COLOR_FIELD,\n      edge: {\n        color,\n        style: edgeStyle,\n        shape: 'arc',\n      },\n      tooltip,\n      state: edgeState,\n    },\n  });\n\n  const nodeView = chart.createView({ id: NODES_VIEW_ID });\n  nodeView.data(nodes);\n\n  polygon({\n    chart: nodeView,\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: COLOR_FIELD,\n      polygon: {\n        color,\n        style: nodeStyle,\n      },\n      label,\n      tooltip,\n      state: nodeState,\n    },\n  });\n\n  chart.interaction('element-active');\n\n  // scale\n  chart.scale({\n    x: { sync: true, nice: true, min: 0, max: 1, minLimit: 0, maxLimit: 1 },\n    y: { sync: true, nice: true, min: 0, max: 1, minLimit: 0, maxLimit: 1 },\n    name: { sync: 'color', type: 'cat' },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  view \n  if (typeof animation === 'boolean') {\n    chart.animate(animation);\n  } else {\n    chart.animate(true);\n  }\n\n  const geometries = [...chart.views[0].geometries, ...chart.views[1].geometries];\n\n  //  Geometry \n  geometries.forEach((g) => {\n    g.animate(animation);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function nodeDraggable(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { nodeDraggable } = options;\n\n  const DRAG_INTERACTION = 'sankey-node-draggable';\n\n  if (nodeDraggable) {\n    chart.interaction(DRAG_INTERACTION);\n  } else {\n    chart.removeInteraction(DRAG_INTERACTION);\n  }\n\n  return params;\n}\n\n/**\n * Interaction \n * @param params\n */\nfunction interaction(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { interactions = [] } = options;\n\n  const nodeInteractions = [].concat(interactions, options.nodeInteractions || []);\n  const edgeInteractions = [].concat(interactions, options.edgeInteractions || []);\n\n  const nodeView = findViewById(chart, NODES_VIEW_ID);\n  const edgeView = findViewById(chart, EDGES_VIEW_ID);\n\n  nodeInteractions.forEach((i) => {\n    if (i?.enable === false) {\n      nodeView.removeInteraction(i.type);\n    } else {\n      nodeView.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  edgeInteractions.forEach((i) => {\n    if (i?.enable === false) {\n      edgeView.removeInteraction(i.type);\n    } else {\n      edgeView.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<SankeyOptions>) {\n  // flow  G2 API\n  return flow(\n    defaultOptions,\n    geometry,\n    interaction,\n    nodeDraggable,\n    animation,\n    theme\n    // ...  adaptor flow\n  )(params);\n}\n","import { Action, Element } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Datum, Point } from '../../../../types';\nimport { findViewById } from '../../../../utils';\nimport { EDGES_VIEW_ID, NODES_VIEW_ID } from '../../constant';\n\nexport class SankeyNodeDragAction extends Action {\n  /**\n   * \n   */\n  private isDragging = false;\n\n  /**\n   * \n   */\n  private prevPoint: Point;\n  /**\n   * \n   */\n  private prevNodeAnimateCfg: any;\n  /**\n   * \n   */\n  private prevEdgeAnimateCfg: any;\n  /**\n   *  element \n   */\n  private currentElementIdx: number;\n\n  /**\n   *  element\n   */\n  private isNodeElement() {\n    const shape = get(this.context, 'event.target');\n    if (shape) {\n      const element = shape.get('element');\n      return element && element.getModel().data.isNode;\n    }\n    return false;\n  }\n\n  private getNodeView() {\n    return findViewById(this.context.view, NODES_VIEW_ID);\n  }\n\n  private getEdgeView() {\n    return findViewById(this.context.view, EDGES_VIEW_ID);\n  }\n\n  /**\n   *  index\n   * @param element\n   */\n  private getCurrentDatumIdx(element: Element) {\n    return this.getNodeView().geometries[0].elements.indexOf(element);\n  }\n\n  /**\n   * \n   */\n  public start() {\n    // \n    if (this.isNodeElement()) {\n      this.prevPoint = {\n        x: get(this.context, 'event.x'),\n        y: get(this.context, 'event.y'),\n      };\n\n      const element = this.context.event.target.get('element');\n      const idx = this.getCurrentDatumIdx(element);\n\n      if (idx === -1) {\n        return;\n      }\n\n      this.currentElementIdx = idx;\n      this.context.isDragging = true;\n      this.isDragging = true;\n\n      // \n      this.prevNodeAnimateCfg = this.getNodeView().getOptions().animate;\n      this.prevEdgeAnimateCfg = this.getEdgeView().getOptions().animate;\n      this.getNodeView().animate(false);\n      this.getEdgeView().animate(false);\n    }\n  }\n\n  /**\n   * \n   */\n  public translate() {\n    if (this.isDragging) {\n      const chart = this.context.view;\n\n      const currentPoint = {\n        x: get(this.context, 'event.x'),\n        y: get(this.context, 'event.y'),\n      };\n\n      const x = currentPoint.x - this.prevPoint.x;\n      const y = currentPoint.y - this.prevPoint.y;\n\n      const nodeView = this.getNodeView();\n      const element = nodeView.geometries[0].elements[this.currentElementIdx];\n\n      // \n      if (element && element.getModel()) {\n        const prevDatum: Datum = element.getModel().data;\n        const data = nodeView.getOptions().data;\n        const coordinate = nodeView.getCoordinate();\n\n        const datumGap = {\n          x: x / coordinate.getWidth(),\n          y: y / coordinate.getHeight(),\n        };\n\n        const nextDatum = {\n          ...prevDatum,\n          x: prevDatum.x.map((x: number) => (x += datumGap.x)),\n          y: prevDatum.y.map((y: number) => (y += datumGap.y)),\n        };\n        //  [0, 1] \n\n        // 1.  node \n        const newData = [...data];\n        newData[this.currentElementIdx] = nextDatum;\n        nodeView.data(newData);\n\n        // 2.  edge \n        const name = prevDatum.name;\n        const edgeView = this.getEdgeView();\n        const edgeData = edgeView.getOptions().data;\n\n        edgeData.forEach((datum) => {\n          // 2.1  node  source  [x0, x1, x2, x3]  x0, x1\n          if (datum.source === name) {\n            datum.x[0] += datumGap.x;\n            datum.x[1] += datumGap.x;\n            datum.y[0] += datumGap.y;\n            datum.y[1] += datumGap.y;\n          }\n\n          // 2.2  node  target  [x0, x1, x2, x3]  x2, x3\n          if (datum.target === name) {\n            datum.x[2] += datumGap.x;\n            datum.x[3] += datumGap.x;\n            datum.y[2] += datumGap.y;\n            datum.y[3] += datumGap.y;\n          }\n        });\n        edgeView.data(edgeData);\n\n        // 3. \n        this.prevPoint = currentPoint;\n\n        // node edge  render\n        chart.render(true);\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isDragging = false;\n    this.context.isDragging = false;\n    this.prevPoint = null;\n    this.currentElementIdx = null;\n\n    // \n    this.getNodeView().animate(this.prevNodeAnimateCfg);\n    this.getEdgeView().animate(this.prevEdgeAnimateCfg);\n  }\n}\n","import { registerInteraction, registerAction } from '@antv/g2';\nimport { SankeyNodeDragAction } from './actions/node-drag';\n\nregisterAction('sankey-node-drag', SankeyNodeDragAction);\n\nregisterInteraction('sankey-node-draggable', {\n  showEnable: [\n    { trigger: 'polygon:mouseenter', action: 'cursor:pointer' },\n    { trigger: 'polygon:mouseleave', action: 'cursor:default' },\n  ],\n  start: [{ trigger: 'polygon:mousedown', action: 'sankey-node-drag:start' }],\n  processing: [\n    { trigger: 'plot:mousemove', action: 'sankey-node-drag:translate' },\n    { isEnable: (context) => context.isDragging, trigger: 'plot:mousemove', action: 'cursor:move' },\n  ],\n  end: [{ trigger: 'plot:mouseup', action: 'sankey-node-drag:end' }],\n});\n","import { get } from '@antv/util';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { Data, Datum } from '../../types';\nimport { findViewById } from '../../utils';\nimport { SankeyOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { transformToViewsData } from './helper';\nimport { EDGES_VIEW_ID, NODES_VIEW_ID } from './constant';\n// \nimport './interactions';\n\nexport type { SankeyOptions };\n\n/**\n *   Sankey\n */\nexport class Sankey extends Plot<SankeyOptions> {\n  /**  */\n  public type: string = 'sankey';\n\n  static getDefaultOptions(): Partial<SankeyOptions> {\n    return {\n      appendPadding: 8,\n      syncViewPadding: true,\n      nodeStyle: {\n        opacity: 1,\n        fillOpacity: 1,\n        lineWidth: 1,\n      },\n      edgeStyle: {\n        opacity: 0.3,\n        lineWidth: 0,\n      },\n      edgeState: {\n        active: {\n          style: {\n            opacity: 0.8,\n            lineWidth: 0,\n          },\n        },\n      },\n      label: {\n        formatter: ({ name }) => name,\n        callback: (x: number[]) => {\n          const isLast = x[1] === 1; // \n          return {\n            style: {\n              fill: '#545454',\n              textAlign: isLast ? 'end' : 'start',\n            },\n            offsetX: isLast ? -8 : 8,\n          };\n        },\n        layout: [\n          {\n            type: 'hide-overlap',\n          },\n        ],\n      },\n      tooltip: {\n        showTitle: false,\n        showMarkers: false,\n        shared: false,\n        // node  tooltipedge  tooltip\n        showContent: (items) => {\n          return !get(items, [0, 'data', 'isNode']);\n        },\n        formatter: (datum: Datum) => {\n          const { source, target, value } = datum;\n          return {\n            name: source + ' -> ' + target,\n            value,\n          };\n        },\n      },\n      nodeWidthRatio: 0.008,\n      nodePaddingRatio: 0.01,\n      animation: {\n        appear: {\n          animation: 'wave-in',\n        },\n        enter: {\n          animation: 'wave-in',\n        },\n      },\n    };\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: Data) {\n    this.updateOption({ data });\n\n    const { nodes, edges } = transformToViewsData(this.options, this.chart.width, this.chart.height);\n\n    const nodesView = findViewById(this.chart, NODES_VIEW_ID);\n    const edgesView = findViewById(this.chart, EDGES_VIEW_ID);\n\n    nodesView.changeData(nodes);\n    edgesView.changeData(edges);\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<SankeyOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Sankey.getDefaultOptions();\n  }\n}\n","/*\n * for Arc Diagram (edges without weight) / Chord Diagram (edges with source and target weight)\n * graph data required (nodes, edges)\n */\nimport { assign, forIn, isFunction } from '@antv/util';\nimport { NodeLinkData } from '../../types/relation-data';\n\nconst DEFAULT_OPTIONS: ChordLayoutOptions = {\n  y: 0,\n  nodeWidthRatio: 0.05, // width of the node, (0, 1)\n  weight: false,\n  nodePaddingRatio: 0.1, // margin ratio, [0, 1)\n  id: (node) => node.id,\n  source: (edge) => edge.source,\n  target: (edge) => edge.target,\n  sourceWeight: (edge) => edge.value || 1,\n  targetWeight: (edge) => edge.value || 1,\n  sortBy: null, // optional, id | weight | frequency | {function}\n};\n\nexport type ChordLayoutOptions = {\n  weight?: boolean;\n  y?: number;\n  nodeWidthRatio?: number; // (0, 1)\n  nodePaddingRatio?: number; // [0, 1)\n  id?(node: any): any;\n  source?(edge: any): any;\n  target?(edge: any): any;\n  sourceWeight?(edge: any): number;\n  targetWeight?(edge: any): number;\n  sortBy?: 'id' | 'weight' | 'frequency' | null | ((a: any, b: any) => number);\n};\n\ntype OutputNode = {\n  readonly id: number;\n  readonly name: string;\n  // readonly depth: number;\n  readonly value: number;\n\n  //  polygon\n  x: number[];\n  y: number[];\n};\n\ntype OutputLink = {\n  readonly source: OutputNode;\n  readonly target: OutputNode;\n  readonly value: number;\n\n  //  edge\n  x?: number[];\n  y?: number[];\n};\n\ntype ChordLayoutOutputData = {\n  readonly nodes: OutputNode[];\n  readonly links: OutputLink[];\n};\n\n/**\n * valueedges\n * @param nodeById\n * @param edges\n * @param options\n */\nfunction processGraph(nodeById, edges, options) {\n  forIn(nodeById, (node, id) => {\n    // in edges, out edges\n    node.inEdges = edges.filter((edge) => `${options.target(edge)}` === `${id}`);\n    node.outEdges = edges.filter((edge) => `${options.source(edge)}` === `${id}`);\n    // frequency\n    node.edges = node.outEdges.concat(node.inEdges);\n    node.frequency = node.edges.length;\n    // weight\n    node.value = 0;\n    node.inEdges.forEach((edge) => {\n      node.value += options.targetWeight(edge);\n    });\n    node.outEdges.forEach((edge) => {\n      node.value += options.sourceWeight(edge);\n    });\n  });\n}\n\n/**\n * \n * @param nodes\n * @param options\n */\nfunction sortNodes(nodes, options) {\n  const sortMethods = {\n    weight: (a, b) => b.value - a.value,\n    frequency: (a, b) => b.frequency - a.frequency,\n    id: (a, b) => `${options.id(a)}`.localeCompare(`${options.id(b)}`),\n  };\n  let method = sortMethods[options.sortBy];\n  if (!method && isFunction(options.sortBy)) {\n    method = options.sortBy;\n  }\n  if (method) {\n    nodes.sort(method);\n  }\n}\n\nfunction layoutNodes(nodes, options): OutputNode[] {\n  const len = nodes.length;\n  if (!len) {\n    throw new TypeError(\"Invalid nodes: it's empty!\");\n  }\n  if (options.weight) {\n    const nodePaddingRatio = options.nodePaddingRatio;\n    if (nodePaddingRatio < 0 || nodePaddingRatio >= 1) {\n      throw new TypeError('Invalid nodePaddingRatio: it must be in range [0, 1)!');\n    }\n    const margin = nodePaddingRatio / (2 * len);\n    const nodeWidthRatio = options.nodeWidthRatio;\n    if (nodeWidthRatio <= 0 || nodeWidthRatio >= 1) {\n      throw new TypeError('Invalid nodeWidthRatio: it must be in range (0, 1)!');\n    }\n    let totalValue = 0;\n    nodes.forEach((node) => {\n      totalValue += node.value;\n    });\n    nodes.forEach((node) => {\n      node.weight = node.value / totalValue;\n      node.width = node.weight * (1 - nodePaddingRatio);\n      node.height = nodeWidthRatio;\n    });\n    nodes.forEach((node, index) => {\n      // x\n      let deltaX = 0;\n      for (let i = index - 1; i >= 0; i--) {\n        deltaX += nodes[i].width + 2 * margin;\n      }\n      const minX = (node.minX = margin + deltaX);\n      const maxX = (node.maxX = node.minX + node.width);\n      const minY = (node.minY = options.y - nodeWidthRatio / 2);\n      const maxY = (node.maxY = minY + nodeWidthRatio);\n      node.x = [minX, maxX, maxX, minX];\n      node.y = [minY, minY, maxY, maxY];\n      /* points\n       * 3---2\n       * |   |\n       * 0---1\n       */\n      // node.x = minX + 0.5 * node.width;\n      // node.y = options.y;\n    });\n  } else {\n    const deltaX = 1 / len;\n    nodes.forEach((node, index) => {\n      node.x = (index + 0.5) * deltaX;\n      node.y = options.y;\n    });\n  }\n  return nodes;\n}\n\nfunction locatingEdges(nodeById, edges, options): OutputLink[] {\n  if (options.weight) {\n    const valueById = {};\n    forIn(nodeById, (node, id) => {\n      valueById[id] = node.value;\n    });\n    edges.forEach((edge) => {\n      const sId = options.source(edge);\n      const tId = options.target(edge);\n      const sNode = nodeById[sId];\n      const tNode = nodeById[tId];\n      if (sNode && tNode) {\n        const sValue = valueById[sId];\n        const currentSValue = options.sourceWeight(edge);\n        const sStart = sNode.minX + ((sNode.value - sValue) / sNode.value) * sNode.width;\n        const sEnd = sStart + (currentSValue / sNode.value) * sNode.width;\n        valueById[sId] -= currentSValue;\n\n        const tValue = valueById[tId];\n        const currentTValue = options.targetWeight(edge);\n        const tStart = tNode.minX + ((tNode.value - tValue) / tNode.value) * tNode.width;\n        const tEnd = tStart + (currentTValue / tNode.value) * tNode.width;\n        valueById[tId] -= currentTValue;\n\n        const y = options.y;\n        edge.x = [sStart, sEnd, tStart, tEnd];\n        edge.y = [y, y, y, y];\n        // edgesourcetargetid sourceNodetargetNode\n        edge.source = sNode;\n        edge.target = tNode;\n      }\n    });\n  } else {\n    edges.forEach((edge) => {\n      const sNode = nodeById[options.source(edge)];\n      const tNode = nodeById[options.target(edge)];\n      if (sNode && tNode) {\n        edge.x = [sNode.x, tNode.x];\n        edge.y = [sNode.y, tNode.y];\n        // edgesourcetargetid sourceNodetargetNode\n        edge.source = sNode;\n        edge.target = tNode;\n      }\n    });\n  }\n  return edges;\n}\n\nexport function getDefaultOptions(options: ChordLayoutOptions): ChordLayoutOptions {\n  return assign({}, DEFAULT_OPTIONS, options);\n}\n\nexport function chordLayout(\n  chordLayoutOptions: ChordLayoutOptions,\n  chordLayoutInputData: NodeLinkData\n): ChordLayoutOutputData {\n  const options = getDefaultOptions(chordLayoutOptions);\n  const nodeById = {};\n  const nodes = chordLayoutInputData.nodes;\n  const links = chordLayoutInputData.links;\n  nodes.forEach((node) => {\n    const id = options.id(node);\n    nodeById[id] = node;\n  });\n  processGraph(nodeById, links, options);\n  sortNodes(nodes, options);\n  const outputNodes = layoutNodes(nodes, options);\n  const outputLinks = locatingEdges(nodeById, links, options);\n  return {\n    nodes: outputNodes,\n    links: outputLinks,\n  };\n}\n","import { get } from '@antv/util';\nimport { Datum } from '../../types';\n\nexport const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\nexport const NODE_COLOR_FIELD = 'name';\nexport const EDGE_COLOR_FIELD = 'source';\n\nexport const DEFAULT_OPTIONS = {\n  nodeStyle: {\n    opacity: 1,\n    fillOpacity: 1,\n    lineWidth: 1,\n  },\n  edgeStyle: {\n    opacity: 0.5,\n    lineWidth: 2,\n  },\n  label: {\n    fields: ['x', 'name'],\n    callback: (x: number[], name: string) => {\n      const centerX = (x[0] + x[1]) / 2;\n      const offsetX = centerX > 0.5 ? -4 : 4;\n      return {\n        labelEmit: true,\n        style: {\n          fill: '#8c8c8c',\n        },\n        offsetX,\n        content: name,\n      };\n    },\n  },\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    fields: ['source', 'target', 'value', 'isNode'],\n    // node  tooltip ()edge  tooltip\n    showContent: (items) => {\n      return !get(items, [0, 'data', 'isNode']);\n    },\n    formatter: (datum: Datum) => {\n      const { source, target, value } = datum;\n      return {\n        name: `${source} -> ${target}`,\n        value,\n      };\n    },\n  },\n  interactions: [\n    {\n      type: 'element-active',\n    },\n  ],\n  weight: true,\n  nodePaddingRatio: 0.1,\n  nodeWidthRatio: 0.05,\n};\n","import { Geometry } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { interaction, theme, state } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, pick } from '../../utils';\nimport { polygon, edge } from '../../adaptor/geometries';\nimport { chordLayout } from '../../utils/transform/chord';\nimport { getAllGeometriesRecursively, transformDataToNodeLinkData } from '../../utils';\nimport { ChordOptions } from './types';\nimport { X_FIELD, Y_FIELD, NODE_COLOR_FIELD, EDGE_COLOR_FIELD } from './constant';\n\nfunction transformData(params: Params<ChordOptions>): Params<ChordOptions> {\n  // extnodeGeometry edgeGeometry\n\n  const { options } = params;\n  const { data, sourceField, targetField, weightField, nodePaddingRatio, nodeWidthRatio, rawFields = [] } = options;\n\n  // node link\n  const chordLayoutInputData = transformDataToNodeLinkData(data, sourceField, targetField, weightField);\n\n  const { nodes, links } = chordLayout({ weight: true, nodePaddingRatio, nodeWidthRatio }, chordLayoutInputData);\n\n  // 1. node\n  const nodesData = nodes.map((node) => {\n    return {\n      ...pick(node, ['id', 'x', 'y', 'name', ...rawFields]),\n      isNode: true,\n    };\n  });\n\n  // 2.  edge  \n  const edgesData = links.map((link) => {\n    return {\n      source: link.source.name,\n      target: link.target.name,\n      name: link.source.name || link.target.name,\n      ...pick(link, ['x', 'y', 'value', ...rawFields]),\n      isNode: false,\n    };\n  });\n\n  return {\n    ...params,\n    ext: {\n      ...params.ext,\n      // chordDataextgeometry\n      chordData: { nodesData, edgesData },\n    },\n  };\n}\n\n/**\n * scale\n * @param params \n */\nfunction scale(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.scale({\n    x: { sync: true, nice: true },\n    y: { sync: true, nice: true, max: 1 },\n    [NODE_COLOR_FIELD]: { sync: 'color' },\n    [EDGE_COLOR_FIELD]: { sync: 'color' },\n  });\n  return params;\n}\n\n/**\n * axis\n * @param params \n */\nfunction axis(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * legend\n * @param params \n */\nfunction legend(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.legend(false);\n  return params;\n}\n\n/**\n * tooltip\n * @param params \n */\nfunction tooltip(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  chart.tooltip(tooltip);\n  return params;\n}\n\n/**\n * coordinate\n * @param params \n */\nfunction coordinate(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.coordinate('polar').reflect('y');\n  return params;\n}\n\n/**\n * nodeGeometry\n * @param params \n */\nfunction nodeGeometry(params: Params<ChordOptions>): Params<ChordOptions> {\n  // node view\n  const { chart, options } = params;\n  const { nodesData } = params.ext.chordData;\n  const { nodeStyle, label, tooltip } = options;\n\n  const nodeView = chart.createView();\n  nodeView.data(nodesData);\n\n  // \n  polygon({\n    chart: nodeView,\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: NODE_COLOR_FIELD,\n      polygon: {\n        style: nodeStyle,\n      },\n      label,\n      tooltip,\n    },\n  });\n  return params;\n}\n\n/**\n * edgeGeometry\n * @param params \n */\nfunction edgeGeometry(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { edgesData } = params.ext.chordData;\n  const { edgeStyle, tooltip } = options;\n\n  const edgeView = chart.createView();\n  edgeView.data(edgesData);\n\n  // edge\n  const edgeOptions = {\n    xField: X_FIELD,\n    yField: Y_FIELD,\n    seriesField: EDGE_COLOR_FIELD,\n    edge: {\n      style: edgeStyle,\n      shape: 'arc',\n    },\n    tooltip,\n  };\n  edge({\n    chart: edgeView,\n    options: edgeOptions,\n  });\n  return params;\n}\n\nfunction animation(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  view \n  if (typeof animation === 'boolean') {\n    chart.animate(animation);\n  } else {\n    chart.animate(true);\n  }\n\n  //  Geometry \n  each(getAllGeometriesRecursively(chart), (g: Geometry) => {\n    g.animate(animation);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ChordOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    transformData,\n    coordinate,\n    scale,\n    axis,\n    legend,\n    tooltip,\n    edgeGeometry,\n    nodeGeometry,\n    interaction,\n    state,\n    animation\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { ChordOptions } from './types';\n\nexport type { ChordOptions };\n\n/**\n *   Chord\n */\nexport class Chord extends Plot<ChordOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ChordOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'chord';\n\n  protected getDefaultOptions() {\n    return Chord.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<ChordOptions> {\n    return adaptor;\n  }\n}\n","import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray } from '@antv/util';\nimport { getField, getAllNodes } from './util';\nimport { HierarchyOption } from './types';\n\ntype Options = Omit<HierarchyOption, 'as'> & { as?: [string, string, string] };\n\nconst DEFAULT_OPTIONS: Options = {\n  field: 'value',\n  as: ['x', 'y', 'r'],\n  // \n  sort: (a, b) => b.value - a.value,\n};\n\nexport function pack(data: any, options: Options): any[] {\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 3) {\n    throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ \"x\", \"y\", \"r\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const packLayout = (data) =>\n    d3Hierarchy.pack().size(options.size).padding(options.padding)(\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) => d[field])\n        .sort(options.sort)\n    );\n\n  const root = packLayout(data);\n\n  const x = as[0];\n  const y = as[1];\n  const r = as[2];\n  root.each((node) => {\n    node[x] = node.x;\n    node[y] = node.y;\n    node[r] = node.r;\n  });\n\n  return getAllNodes(root);\n}\n","import { Types } from '@antv/g2';\nimport { pack } from '../../utils/hierarchy/pack';\nimport { deepAssign, pick } from '../../utils';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { resolveAllPadding } from '../../utils/padding';\nimport { CirclePackingOptions } from './types';\n\ninterface TransformDataOptions {\n  data: CirclePackingOptions['data'];\n  rawFields: CirclePackingOptions['rawFields'];\n  enableDrillDown: boolean;\n  hierarchyConfig: CirclePackingOptions['hierarchyConfig'];\n}\n\n/**\n * circle-packing \n * @param options\n */\nexport function transformData(options: TransformDataOptions) {\n  const { data, hierarchyConfig, rawFields = [], enableDrillDown } = options;\n\n  const nodes = pack(data, {\n    ...hierarchyConfig,\n    field: 'value',\n    as: ['x', 'y', 'r'],\n  });\n\n  const result = [];\n  nodes.forEach((node) => {\n    let path = node.data.name;\n    let ancestorNode = { ...node };\n    while (ancestorNode.depth > 1) {\n      path = `${ancestorNode.parent.data?.name} / ${path}`;\n      ancestorNode = ancestorNode.parent;\n    }\n\n    //  depth <= 2  ()\n    if (enableDrillDown && node.depth > 2) {\n      return null;\n    }\n\n    const nodeInfo = deepAssign({}, node.data, {\n      ...pick(node.data, rawFields),\n      path,\n      // : x, y, r, name, depth, height\n      ...node,\n    });\n\n    nodeInfo.ext = hierarchyConfig;\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, rawFields, enableDrillDown };\n\n    result.push(nodeInfo);\n  });\n\n  return result;\n}\n\n/**\n *  padding     finalPadding  finalSize\n * @param params\n */\nexport function resolvePaddingForCircle(\n  padding: Types.ViewPadding,\n  appendPadding: Types.ViewAppendPadding,\n  containerSize: { width: number; height: number }\n) {\n  const tempPadding = resolveAllPadding([padding, appendPadding]);\n  const [top, right, bottom, left] = tempPadding; //  [0, 0, 0, 0]\n  const { width, height } = containerSize;\n\n  //  tempPadding coordinate minSize = circle-packing\n  const wSize = width - (left + right);\n  const hSize = height - (top + bottom);\n  const minSize = Math.min(wSize, hSize); // circle-packing\n\n  //  padding\n  const restWidthPadding = (wSize - minSize) / 2;\n  const restHeightPadding = (hSize - minSize) / 2;\n\n  const finalTop = top + restHeightPadding;\n  const finalRight = right + restWidthPadding;\n  const finalBottom = bottom + restHeightPadding;\n  const finalLeft = left + restWidthPadding;\n\n  const finalPadding = [finalTop, finalRight, finalBottom, finalLeft];\n  const finalSize = minSize < 0 ? 0 : minSize; // \n\n  return { finalPadding, finalSize };\n}\n","import { CirclePackingOptions } from './types';\n\n/**  */\nexport const RAW_FIELDS = ['x', 'y', 'r', 'name', 'value', 'path', 'depth'];\n\nexport const DEFAULT_OPTIONS: Partial<CirclePackingOptions> = {\n  //  name \n  colorField: 'name',\n  autoFit: true,\n  pointStyle: {\n    lineWidth: 0,\n    stroke: '#fff',\n  },\n  // \n  legend: false,\n  hierarchyConfig: {\n    size: [1, 1] as [number, number], // width, height\n    padding: 0,\n  },\n  label: {\n    fields: ['name'],\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    showMarkers: false,\n    showTitle: false,\n  },\n  // \n  drilldown: { enabled: false },\n};\n","import { get } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { point } from '../../adaptor/geometries/point';\nimport { Params } from '../../core/adaptor';\nimport {\n  interaction as baseInteraction,\n  animation,\n  theme,\n  legend,\n  annotation,\n  scale,\n  pattern,\n} from '../../adaptor/common';\nimport { flow, deepAssign } from '../../utils';\nimport { getAdjustAppendPadding, resolveAllPadding } from '../../utils/padding';\nimport { transformData, resolvePaddingForCircle } from './utils';\nimport { CirclePackingOptions } from './types';\nimport { RAW_FIELDS } from './constant';\n\n/**\n *  option\n * @param params\n */\nfunction defaultOptions(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart } = params;\n  const diameter = Math.min(chart.viewBBox.width, chart.viewBBox.height);\n\n  return deepAssign(\n    {\n      options: {\n        size: ({ r }) => r * diameter, // autofitfalse\n      },\n    },\n    params\n  );\n}\n\n/**\n * padding \n * @param params\n */\nfunction padding(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { options, chart } = params;\n  //  padding coordinate \n  const containerSize = chart.viewBBox;\n  const { padding, appendPadding, drilldown } = options;\n\n  let tempAppendPadding = appendPadding;\n  if (drilldown?.enabled) {\n    const appendPaddingByDrilldown = getAdjustAppendPadding(\n      chart.appendPadding,\n      get(drilldown, ['breadCrumb', 'position'])\n    );\n    tempAppendPadding = resolveAllPadding([appendPaddingByDrilldown, appendPadding]);\n  }\n\n  const { finalPadding } = resolvePaddingForCircle(padding, tempAppendPadding, containerSize);\n  chart.padding = finalPadding;\n  chart.appendPadding = 0;\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n  const { padding, appendPadding } = chart;\n  const { color, colorField, pointStyle, hierarchyConfig, sizeField, rawFields = [], drilldown } = options;\n\n  const data = transformData({\n    data: options.data,\n    hierarchyConfig,\n    enableDrillDown: drilldown?.enabled,\n    rawFields,\n  });\n  chart.data(data);\n\n  const containerSize = chart.viewBBox;\n  const { finalSize } = resolvePaddingForCircle(padding, appendPadding, containerSize);\n  // sizeField value  size \n  let circleSize = ({ r }) => r * finalSize; // \n\n  if (sizeField) {\n    circleSize = (d) => d[sizeField] * finalSize; //  r \n  }\n\n  // geometry\n  point(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        sizeField,\n        rawFields: [...RAW_FIELDS, ...rawFields],\n        point: {\n          color,\n          style: pointStyle,\n          shape: 'circle',\n          size: circleSize,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  return flow(\n    scale(\n      {},\n      {\n        //  nice\n        x: { min: 0, max: 1, minLimit: 0, maxLimit: 1, nice: true },\n        y: { min: 0, max: 1, minLimit: 0, maxLimit: 1, nice: true },\n      }\n    )\n  )(params);\n}\n\n/**\n * tooltip \n * @param params\n */\nfunction tooltip(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    //  fields customItems ;  formatter  fields\n    if (!get(tooltip, 'fields')) {\n      tooltipOptions = deepAssign(\n        {},\n        {\n          customItems: (items: Types.TooltipItem[]) =>\n            items.map((item) => {\n              const scales = get(chart.getOptions(), 'scales');\n              const nameFormatter = get(scales, ['name', 'formatter'], (v) => v);\n              const valueFormatter = get(scales, ['value', 'formatter'], (v) => v);\n              return {\n                ...item,\n                name: nameFormatter(item.data.name),\n                value: valueFormatter(item.data.value),\n              };\n            }),\n        },\n        tooltipOptions\n      );\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\n/**\n * , \n * @param params\n */\nfunction axis(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\nfunction adaptorInteraction(options: CirclePackingOptions): CirclePackingOptions {\n  const { drilldown, interactions = [] } = options;\n\n  if (drilldown?.enabled) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          cfg: { drillDownConfig: drilldown, transformData, enableDrillDown: true },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * \n * @param params\n * @returns\n */\nfunction interaction(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n\n  baseInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<CirclePackingOptions>) {\n  return flow(\n    pattern('pointStyle'),\n    defaultOptions,\n    padding,\n    theme,\n    meta,\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { CirclePackingOptions } from './types';\nimport './interactions';\n\nexport type { CirclePackingOptions };\n\n/**\n *  CirclePacking\n * @usage hierarchy, proportions\n */\nexport class CirclePacking extends Plot<CirclePackingOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<CirclePackingOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'circle-packing';\n\n  protected getDefaultOptions() {\n    return CirclePacking.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<CirclePackingOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      this.chart.forceFit(); // g2  changeSizechangeSize  render(true)\n      this.chart.clear();\n      this.execAdaptor(); // padding\n      // \n      this.chart.render(true);\n    }\n  }\n}\n","import { deepAssign } from '../utils';\nimport { Plot, PickOptions } from '../core/plot';\nimport { Adaptor } from '../core/adaptor';\n/**\n *  G2Plot  G2Plot \n * 1. \n * 2. \n * 3. \n * \n *\n * \n *\n * ```ts\n * import { P } from '@antv/g2plot';\n * import { GeoWorldMap, GeoWorldMapOptions } from 'g2plot-geo-world-map';\n *\n * const plot = new P('container', {\n *   geoJson: '',\n *   longitude: '',\n *   latitude: '',\n * }, GeoWorldMap, defaultOptions);\n *\n * plot.render();\n * ```\n */\nexport class P<O extends PickOptions> extends Plot<O> {\n  /**  any plot */\n  public readonly type = 'g2-plot';\n\n  /**  defaultOptions */\n  private defaultOptions: Partial<O>;\n\n  /**  adaptor  */\n  private adaptor: Adaptor<O>;\n\n  /**\n   *  adaptor \n   * @param container\n   * @param options\n   * @param adaptor\n   * @param defaultOptions\n   */\n  constructor(container: string | HTMLElement, options: O, adaptor: Adaptor<O>, defaultOptions?: Partial<O>) {\n    super(container, deepAssign({}, defaultOptions, options));\n\n    this.defaultOptions = defaultOptions;\n    this.adaptor = adaptor;\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions() {\n    return this.defaultOptions;\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<O> {\n    return this.adaptor;\n  }\n}\n","import { View } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { deepAssign } from '../../utils';\nimport { adaptor as lineAdaptor } from '../line/adaptor';\nimport { adaptor as pieAdaptor } from '../pie/adaptor';\nimport { adaptor as columnAdaptor } from '../column/adaptor';\nimport { adaptor as barAdaptor } from '../bar/adaptor';\nimport { adaptor as areaAdaptor } from '../area/adaptor';\nimport { adaptor as gaugeAdaptor } from '../gauge/adaptor';\nimport { adaptor as tinyLineAdaptor } from '../tiny-line/adaptor';\nimport { adaptor as tinyColumnAdaptor } from '../tiny-column/adaptor';\nimport { adaptor as tinyAreaAdaptor } from '../tiny-area/adaptor';\nimport { adaptor as ringProgressAdaptor } from '../ring-progress/adaptor';\nimport { adaptor as progressAdaptor } from '../progress/adaptor';\nimport { adaptor as scatterAdaptor } from '../scatter/adaptor';\nimport { adaptor as histogramAdaptor } from '../histogram/adaptor';\nimport { adaptor as funnelAdaptor } from '../funnel/adaptor';\nimport { adaptor as stockAdaptor } from '../stock/adaptor';\nimport { Line, LineOptions } from '../line';\nimport { Pie, PieOptions } from '../pie';\nimport { Bar, BarOptions } from '../bar';\nimport { Column, ColumnOptions } from '../column';\nimport { Area, AreaOptions } from '../area';\nimport { Gauge, GaugeOptions } from '../gauge';\nimport { TinyLine, TinyLineOptions } from '../tiny-line';\nimport { TinyArea, TinyAreaOptions } from '../tiny-area';\nimport { TinyColumn, TinyColumnOptions } from '../tiny-column';\nimport { RingProgress, RingProgressOptions } from '../ring-progress';\nimport { Progress, ProgressOptions } from '../progress';\nimport { Scatter, ScatterOptions } from '../scatter';\nimport { Histogram, HistogramOptions } from '../histogram';\nimport { Funnel, FunnelOptions } from '../funnel';\nimport { Stock, StockOptions } from '../stock';\nimport { Options } from '../../types';\n\n/**\n *  options  widthheight ,  options  data \n */\ntype PlotOptions<T> = Omit<T, 'width' | 'height' | 'data'> & Partial<Pick<T extends Options ? T : never, 'data'>>;\n\n/**\n * multi-view  plots  options \n */\nexport type IPlotTypes =\n  | {\n      /**\n       * plot \n       */\n      readonly type: 'line';\n      /**\n       * plot \n       */\n      readonly options: PlotOptions<LineOptions>;\n    }\n  | {\n      readonly type: 'pie';\n      readonly options: PlotOptions<PieOptions>;\n    }\n  | {\n      readonly type: 'bar';\n      readonly options: PlotOptions<BarOptions>;\n    }\n  | {\n      readonly type: 'column';\n      readonly options: PlotOptions<ColumnOptions>;\n    }\n  | {\n      readonly type: 'area';\n      readonly options: PlotOptions<AreaOptions>;\n    }\n  | {\n      readonly type: 'gauge';\n      readonly options: PlotOptions<GaugeOptions>;\n    }\n  | {\n      readonly type: 'tiny-line';\n      readonly options: PlotOptions<TinyLineOptions>;\n    }\n  | {\n      readonly type: 'tiny-area';\n      readonly options: PlotOptions<TinyAreaOptions>;\n    }\n  | {\n      readonly type: 'tiny-column';\n      readonly options: PlotOptions<TinyColumnOptions>;\n    }\n  | {\n      readonly type: 'ring-progress';\n      readonly options: PlotOptions<RingProgressOptions>;\n    }\n  | {\n      readonly type: 'progress';\n      readonly options: PlotOptions<ProgressOptions>;\n    }\n  | {\n      readonly type: 'histogram';\n      readonly options: PlotOptions<HistogramOptions>;\n    }\n  | {\n      readonly type: 'scatter';\n      readonly options: PlotOptions<ScatterOptions>;\n    }\n  | {\n      readonly type: 'funnel';\n      readonly options: PlotOptions<FunnelOptions>;\n    }\n  | {\n      readonly type: 'stock';\n      readonly options: PlotOptions<StockOptions>;\n    };\n\n/**\n *  multi-view  plots\n */\nconst PLOT_ADAPTORS = {\n  line: lineAdaptor,\n  pie: pieAdaptor,\n  column: columnAdaptor,\n  bar: barAdaptor,\n  area: areaAdaptor,\n  gauge: gaugeAdaptor,\n  'tiny-line': tinyLineAdaptor,\n  'tiny-column': tinyColumnAdaptor,\n  'tiny-area': tinyAreaAdaptor,\n  'ring-progress': ringProgressAdaptor,\n  progress: progressAdaptor,\n  scatter: scatterAdaptor,\n  histogram: histogramAdaptor,\n  funnel: funnelAdaptor,\n  stock: stockAdaptor,\n};\n\n/**\n *  plot  class contructor\n * @param {string} plot\n */\nconst PLOT_CONSTRUCTOR = {\n  line: Line,\n  pie: Pie,\n  column: Column,\n  bar: Bar,\n  area: Area,\n  gauge: Gauge,\n  'tiny-line': TinyLine,\n  'tiny-column': TinyColumn,\n  'tiny-area': TinyArea,\n  'ring-progress': RingProgress,\n  progress: Progress,\n  scatter: Scatter,\n  histogram: Histogram,\n  funnel: Funnel,\n  stock: Stock,\n};\n\n/**\n *  mix  facet defaultOptions \n */\nconst DEFAULT_OPTIONS_MAP = {\n  pie: { label: false },\n  column: { tooltip: { showMarkers: false } },\n  bar: { tooltip: { showMarkers: false } },\n};\n\n/**\n *  plot  adaptor,  defaultOptions\n * @param {string} plot\n */\nexport function execPlotAdaptor<T extends IPlotTypes['type']>(\n  plot: T,\n  view: View,\n  options: IPlotTypes['options']\n): void {\n  const cls = PLOT_CONSTRUCTOR[plot];\n  if (!cls) {\n    console.error(`could not find ${plot} plot`);\n    return;\n  }\n  const module = PLOT_ADAPTORS[plot];\n  module({\n    chart: view,\n    options: deepAssign({}, cls.getDefaultOptions(), get(DEFAULT_OPTIONS_MAP, plot, {}), options),\n  });\n}\n","import { each } from '@antv/util';\nimport { Geometry } from '@antv/g2';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { interaction, animation, theme, tooltip, annotation } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { PLOT_CONTAINER_OPTIONS } from '../../core/plot';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { deepAssign, flow, pick } from '../../utils';\nimport { Axis } from '../../types/axis';\nimport { Legend } from '../../types/legend';\nimport { Interaction } from '../../types/interaction';\nimport { MixOptions, IView, IGeometry } from './types';\nimport { execPlotAdaptor } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction multiView(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n  const { views, legend } = options;\n\n  each(views, (v: IView) => {\n    const { region, data, meta, axes, coordinate, interactions, annotations, tooltip, geometries } = v;\n\n    // 1.  view\n    const viewOfG2 = chart.createView({\n      region,\n    });\n\n    // 2. data\n    viewOfG2.data(data);\n\n    // 3. meta\n    let scales: Record<string, any> = {};\n    if (axes) {\n      each(axes, (axis: Axis, field: string) => {\n        scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n      });\n    }\n\n    scales = deepAssign({}, meta, scales);\n    viewOfG2.scale(scales);\n\n    // 4. x y axis\n    if (!axes) {\n      viewOfG2.axis(false);\n    } else {\n      each(axes, (axis: Axis, field: string) => {\n        viewOfG2.axis(field, axis);\n      });\n    }\n\n    // 5. coordinate\n    viewOfG2.coordinate(coordinate);\n\n    // 6. geometry\n    each(geometries, (geometry: IGeometry) => {\n      const { ext } = geometryAdaptor({\n        chart: viewOfG2,\n        options: geometry,\n      });\n\n      // adjust\n      const { adjust } = geometry;\n      if (adjust) {\n        ext.geometry.adjust(adjust);\n      }\n    });\n\n    // 7. interactions\n    each(interactions, (interaction: Interaction) => {\n      if (interaction.enable === false) {\n        viewOfG2.removeInteraction(interaction.type);\n      } else {\n        viewOfG2.interaction(interaction.type, interaction.cfg);\n      }\n    });\n\n    // 8. annotations\n    each(annotations, (annotation) => {\n      viewOfG2.annotation()[annotation.type]({\n        ...annotation,\n      });\n    });\n\n    // 9. animation ()\n    if (typeof v.animation === 'boolean') {\n      viewOfG2.animate(false);\n    } else {\n      viewOfG2.animate(true);\n      // 9.1  Geometry todo \n      each(viewOfG2.geometries, (g: Geometry) => {\n        g.animate(v.animation);\n      });\n    }\n\n    if (tooltip) {\n      // 10. tooltip\n      viewOfG2.interaction('tooltip');\n      viewOfG2.tooltip(tooltip);\n    }\n  });\n\n  // legend\n  if (!legend) {\n    chart.legend(false);\n  } else {\n    each(legend, (l: Legend, field: string) => {\n      chart.legend(field, l);\n    });\n  }\n\n  // tooltip\n  chart.tooltip(options.tooltip);\n  return params;\n}\n\n/**\n *  g2plot \n * @param params\n */\nfunction multiPlot(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n  const { plots, data = [] } = options;\n\n  each(plots, (plot) => {\n    const { type, region, options = {}, top } = plot;\n    const { tooltip } = options;\n\n    if (top) {\n      execPlotAdaptor(type, chart, { ...options, data });\n      return;\n    }\n\n    const viewOfG2 = chart.createView({ region, ...pick(options, PLOT_CONTAINER_OPTIONS) });\n    if (tooltip) {\n      //  tooltip \n      viewOfG2.interaction('tooltip');\n    }\n\n    execPlotAdaptor(type, viewOfG2, { data, ...options });\n  });\n\n  return params;\n}\n\n/**\n *  adaptor (mix)\n * @param params\n */\nexport function slider(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n\n  chart.option('slider', options.slider);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<MixOptions>) {\n  return flow(\n    animation, //  view \n    multiView,\n    multiPlot,\n    interaction,\n    animation,\n    theme,\n    tooltip,\n    slider,\n    annotation()\n    // ...  adaptor flow\n  )(params);\n}\n","import { View, Element } from '@antv/g2';\nimport { each, isArray } from '@antv/util';\nimport { getAllElements } from '../../../utils';\n\n/**\n * \n * @param element \n * @param field \n * @ignore\n */\nexport function getElementValue(element: Element, field) {\n  const model = element.getModel();\n  const record = model.data;\n  let value;\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n  return value;\n}\n\n/**\n * @ignore\n *  highlight \n * @param view View  Chart\n */\nexport function clearHighlight(view: View) {\n  const elements = getAllElements(view);\n  each(elements, (el) => {\n    if (el.hasState('active')) {\n      el.setState('active', false);\n    }\n    if (el.hasState('selected')) {\n      el.setState('selected', false);\n    }\n    if (el.hasState('inactive')) {\n      el.setState('inactive', false);\n    }\n  });\n}\n","import { each, get, map, isArray } from '@antv/util';\nimport { registerAction, registerInteraction, View, Element, Action } from '@antv/g2';\nimport { getAllElements, getViews, getSiblingViews } from '../../../utils';\nimport { clearHighlight, getElementValue } from './utils';\n\ntype EventItem = { element: Element; view: View; active: boolean; inactive: boolean };\ntype ActionParams = { linkField?: string; dim?: 'x' | 'y' };\n/**\n *  view view \n *\n *  actionlinkField dim \n * 1. showTooltip\n * 2. active\n * 3. highlight\n * 4. selected\n *\n *  action\n * 1. hidetooltip\n * 2. reset \n */\nclass Association extends Action {\n  /**\n   *  elements\n   *\n   * -  dim  dim  field linkField  return\n   * -  dim  linkField \n   * -  linkField \n   * @returns EventItem[]\n   */\n  private getAssociationItems(views: View[], params?: ActionParams): EventItem[] {\n    const { event } = this.context;\n    const { linkField, dim } = params || {};\n\n    const items = [];\n\n    if (event.data?.data) {\n      const { data } = event.data;\n      each(views, (v: View) => {\n        let field = linkField;\n        if (dim === 'x') {\n          field = v.getXScale().field;\n        } else if (dim === 'y') {\n          field = v.getYScales().find((s) => s.field === field)?.field;\n        } else if (!field) {\n          field = v.getGroupScales()[0]?.field;\n        }\n        if (!field) {\n          return;\n        }\n        const elements = map(getAllElements(v), (ele) => {\n          let active = false;\n          let inactive = false;\n          const dataValue = isArray(data) ? get(data[0], field) : get(data, field);\n          if (getElementValue(ele, field) === dataValue) {\n            active = true;\n          } else {\n            inactive = true;\n          }\n          return { element: ele, view: v, active, inactive };\n        });\n        items.push(...elements);\n      });\n    }\n\n    return items;\n  }\n\n  /**\n   *  tooltip \n   */\n  public showTooltip(params?: ActionParams) {\n    const siblings = getSiblingViews(this.context.view);\n    const elements = this.getAssociationItems(siblings, params);\n\n    each(elements, (ele) => {\n      if (ele.active) {\n        const box = ele.element.shape.getCanvasBBox();\n        ele.view.showTooltip({ x: box.minX + box.width / 2, y: box.minY + box.height / 2 });\n      }\n    });\n  }\n\n  /**\n   *  tooltip\n   */\n  public hideTooltip() {\n    const siblings = getSiblingViews(this.context.view);\n    each(siblings, (sibling) => {\n      sibling.hideTooltip();\n    });\n  }\n\n  /**\n   *  active \n   */\n  public active(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { active, element } = item;\n      if (active) {\n        element.setState('active', true);\n      }\n    });\n  }\n\n  /**\n   *  selected \n   */\n  public selected(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { active, element } = item;\n      if (active) {\n        element.setState('selected', true);\n      }\n    });\n  }\n\n  /**\n   *  =>  inactive \n   */\n  public highlight(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { inactive, element } = item;\n      if (inactive) {\n        element.setState('inactive', true);\n      }\n    });\n  }\n\n  public reset() {\n    const views = getViews(this.context.view);\n    each(views, (v) => {\n      clearHighlight(v);\n    });\n  }\n}\n\nregisterAction('association', Association);\n\n/**\n *  view  active  tooltip \n */\nregisterInteraction('association-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  active  tooltip \n */\nregisterInteraction('association-selected', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:selected' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  highlight ,  element\n */\nregisterInteraction('association-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  tooltip  groupField  tooltip \n */\nregisterInteraction('association-tooltip', {\n  start: [{ trigger: 'element:mousemove', action: 'association:showTooltip' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:hideTooltip' }],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { MixOptions } from './types';\nimport { adaptor } from './adaptor';\nimport './interactions';\n\nexport type { MixOptions };\n\n/**\n *  G2 80% \n * 1. \n *   -  + \n *   - \n *   - ...\n * 2. \n *   - \n *   - \n *   - ...\n */\nexport class Mix extends Plot<MixOptions> {\n  /**  */\n  public type: string = 'mix';\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<MixOptions> {\n    return adaptor;\n  }\n}\n","import { Geometry, View } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { pick, deepAssign } from '../../utils';\nimport { Axis, Interaction } from '../../types';\nimport { IView } from './types';\n\n/**\n *\n * @param params  \n * @returns facet eachView  view \n */\nexport function execViewAdaptor(viewOfG2: View, options: IView): void {\n  const { data, coordinate, interactions, annotations, animation, tooltip, axes, meta, geometries } = options;\n\n  // 1. data, optional\n  if (data) {\n    viewOfG2.data(data);\n  }\n\n  // 2. meta \n  let scales: Record<string, any> = {};\n  if (axes) {\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n  }\n\n  scales = deepAssign({}, meta, scales);\n  viewOfG2.scale(scales);\n\n  // 3. coordinate  ()\n  if (coordinate) {\n    viewOfG2.coordinate(coordinate);\n  }\n\n  // 4. axis  ( false )\n  if (axes === false) {\n    viewOfG2.axis(false);\n  } else {\n    each(axes, (axis: Axis, field: string) => {\n      viewOfG2.axis(field, axis);\n    });\n  }\n\n  each(geometries, (geometry) => {\n    // Geometry\n    const { ext } = geometryAdaptor({\n      chart: viewOfG2,\n      options: geometry,\n    });\n\n    // Geometry adjust\n    const { adjust } = geometry;\n    if (adjust) {\n      ext.geometry.adjust(adjust);\n    }\n  });\n\n  // 5. interactions\n  each(interactions, (interaction: Interaction) => {\n    if (interaction.enable === false) {\n      viewOfG2.removeInteraction(interaction.type);\n    } else {\n      viewOfG2.interaction(interaction.type, interaction.cfg);\n    }\n  });\n  // 6. annotations\n  each(annotations, (annotation) => {\n    viewOfG2.annotation()[annotation.type]({\n      ...annotation,\n    });\n  });\n\n  // 7. animation ()\n  if (typeof animation === 'boolean') {\n    viewOfG2.animate(false);\n  } else {\n    viewOfG2.animate(true);\n    //  Geometry todo \n    each(viewOfG2.geometries, (g: Geometry) => {\n      g.animate(animation);\n    });\n  }\n\n  if (tooltip) {\n    // 8. tooltip\n    viewOfG2.interaction('tooltip');\n    viewOfG2.tooltip(tooltip);\n  } else if (tooltip === false) {\n    viewOfG2.removeInteraction('tooltip');\n  }\n}\n","import { each, omit } from '@antv/util';\nimport { theme } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { pick, flow, deepAssign } from '../../utils';\nimport { Axis, Interaction } from '../../types';\nimport { execPlotAdaptor } from '../mix/utils';\nimport { FacetOptions, IPlot, IView } from './types';\nimport { execViewAdaptor } from './utils';\n\nfunction facetAdaptor(params: Params<FacetOptions>): Params<FacetOptions> {\n  const { chart, options } = params;\n  const { type: facetType, data, fields, eachView } = options;\n\n  const restFacetCfg = omit(options as any, [\n    'type',\n    'data',\n    'fields',\n    'eachView',\n    'axes',\n    'meta',\n    'tooltip',\n    'coordinate',\n    'theme',\n    'legend',\n    'interactions',\n    'annotations',\n  ]);\n\n  // 1. data\n  chart.data(data);\n\n  // 2. facet\n  chart.facet(facetType, {\n    ...restFacetCfg,\n    fields,\n    eachView: (viewOfG2, facet) => {\n      const viewOptions = eachView(viewOfG2, facet);\n      if ((viewOptions as IView).geometries) {\n        execViewAdaptor(viewOfG2, viewOptions as IView);\n      } else {\n        const plot = viewOptions as IPlot;\n        const plotOptions = plot.options;\n        // @ts-ignore  tooltip\n        if (plotOptions.tooltip) {\n          //  tooltip \n          viewOfG2.interaction('tooltip');\n        }\n        execPlotAdaptor(plot.type, viewOfG2, plotOptions);\n      }\n    },\n  });\n\n  return params;\n}\n\nfunction component(params: Params<FacetOptions>): Params<FacetOptions> {\n  const { chart, options } = params;\n  const { axes, meta, tooltip, coordinate, theme, legend, interactions, annotations } = options;\n\n  // 3. meta \n  let scales: Record<string, any> = {};\n  if (axes) {\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n  }\n\n  scales = deepAssign({}, meta, scales);\n  chart.scale(scales);\n\n  // 4. coordinate \n  chart.coordinate(coordinate);\n\n  // 5. axis  ()\n  if (!axes) {\n    chart.axis(false);\n  } else {\n    each(axes, (axis: Axis, field: string) => {\n      chart.axis(field, axis);\n    });\n  }\n\n  // 6. tooltip \n  if (tooltip) {\n    chart.interaction('tooltip');\n    chart.tooltip(tooltip);\n  } else if (tooltip === false) {\n    chart.removeInteraction('tooltip');\n  }\n\n  // 7. legend \n  chart.legend(legend);\n\n  // theme \n  if (theme) {\n    chart.theme(theme);\n  }\n\n  // 8. interactions\n  each(interactions, (interaction: Interaction) => {\n    if (interaction.enable === false) {\n      chart.removeInteraction(interaction.type);\n    } else {\n      chart.interaction(interaction.type, interaction.cfg);\n    }\n  });\n\n  // 9. annotations\n  each(annotations, (annotation) => {\n    chart.annotation()[annotation.type]({\n      ...annotation,\n    });\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<FacetOptions>) {\n  // flow  G2 API\n  return flow(theme, facetAdaptor, component)(params);\n}\n","/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  title: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n  rowTitle: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n  columnTitle: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n};\n","import { Mix } from './plots/mix';\n\n/**  */\nexport enum Stage {\n  DEV = 'DEV',\n  BETA = 'BETA',\n  STABLE = 'STABLE',\n}\n\n/**\n * \n * @param stage\n */\nexport function notice(stage: Stage, plotType: string) {\n  console.warn(\n    stage === Stage.DEV\n      ? `Plot '${plotType}' is in DEV stage, just give us issues.`\n      : stage === Stage.BETA\n      ? `Plot '${plotType}' is in BETA stage, DO NOT use it in production env.`\n      : stage === Stage.STABLE\n      ? `Plot '${plotType}' is in STABLE stage, import it by \"import { ${plotType} } from '@antv/g2plot'\".`\n      : 'invalid Stage type.'\n  );\n}\n\n/**\n * \n */\nexport class Lab {\n  static get MultiView() {\n    notice(Stage.STABLE, 'MultiView');\n    return Mix;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { FacetOptions } from './types';\n\nexport type { FacetOptions };\n\nexport class Facet extends Plot<FacetOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<FacetOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'area';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Facet.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<FacetOptions> {\n    return adaptor;\n  }\n}\n","import { render } from \"./DashboardView.vue?vue&type=template&id=7492e518&scoped=true\"\nimport script from \"./DashboardView.vue?vue&type=script&lang=js\"\nexport * from \"./DashboardView.vue?vue&type=script&lang=js\"\n\nimport \"./DashboardView.vue?vue&type=style&index=0&id=7492e518&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/chainta/Documents/Codes/PycharmProjects/Django/medata/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7492e518\"]])\n\nexport default __exports__"],"names":["useMergedState","defaultStateValue","option","_ref","defaultValue","_ref$value","value","ref","initValue","undefined","unref","innerValue","mergedValue","triggerChange","newValue","preVal","toRaw","onChange","watchEffect","val","postState","watch","useState","withInstall","Col","Row","navigator","window","agent","userAgent","vendor","opera","test","substr","global","factory","exports","this","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","Array","isArray","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","push","length","err","TypeError","points","data","x","y","sort","filter","d","u","v","isFinite","a","b","xv","yv","n","X","Float64Array","Y","ux","uy","visitPoints","cb","iterations","dx","dy","determination","uY","predict","SSE","SST","sse","sst","angle","line","Math","atan2","PI","midpoint","interpose","xmin","xmax","l","log","LOG10E","precision","pow","maxIter","px","iter","find","found","p0","p1","m","mp","a0","a1","abs","splice","ols","uX","uXY","uX2","delta","slope","intercept","exponential","domain","YL","XY","XYL","X2Y","Infinity","ly","xy","_ols","_ols2","exp","fn","out","rSquared","arguments","linear","X2","median","floor","maxiters","epsilon","loess","bandwidth","_points","_points2","bw","max","yhat","residuals","robustWeights","fill","interval","i0","i1","edge","W","denom","k","xk","yk","w","tricube","xkw","updateInterval","medianResidual","arg","_w","output","left","right","cnt","prev","logarithmic","base","E","lb","lx","quad","quadratic","x2","X3","X4","n0","X2X2","c","polynomial","order","o","coefficients","_o","j","lhs","rhs","coef","gaussianElimination","uncenter","z","matrix","r","t","power","YS","regressionExp","regressionLinear","regressionLoess","regressionLog","regressionPoly","regressionPow","regressionQuad","Object","defineProperty","bisect","f","parameters","maxIterations","tolerance","fA","fB","mid","fMid","zeros","zerosM","map","dot","ret","norm2","sqrt","scale","weightedSum","w1","v1","w2","v2","nelderMead","x0","maxDiff","nonZeroDelta","zeroDelta","minErrorDelta","minTolerance","rho","chi","psi","sigma","N","simplex","fx","id","point","slice","updateSimplex","sortOrder","centroid","reflected","contracted","expanded","iteration","history","sortedSimplex","state","worst","shouldReduce","wolfeLineSearch","pk","current","c1","c2","phi0","phiPrime0","fxprime","phi","phi_old","phiPrime","zoom","a_lo","a_high","phi_lo","conjugateGradient","initial","params","temp","alpha","delta_k","beta_k","gradientDescent","learnRate","gradientDescentLineSearch","functionCalls","inner","self","module","isNumber","findMin","curr","min","findMax","findMinMulti","findMaxMulti","inside","DEFAULT_SIZE","DEFAULT_WIDTH","LN_2","helper","require","kernel","generatePartialAreas","width","partialAreas","accumulator","getUnifiedMinMax","options","getUnifiedMinMaxMulti","arrMulti","relaxMin","relaxMax","size","range","step","create","normalizedMinMax","buckets","xToBucket","partialArea","fullArea","initalValue","forEach","bucket","start","end","leftBlockCount","rightBlockCount","spilledAreaLeft","spilledAreaRight","weight","startGradPos","gradAccumulator","area","getExpectedValueFromPdf","pdf","expected","obj","getXWithLeftTailArea","last","getPerplexity","entropy","ln","SensorTabIndex","SensorClassName","SizeSensorId","_default","delay","timer","_this","_len","args","_key","clearTimeout","setTimeout","apply","concat","_sensorPool","bind","element","sensor","getSensor","unbind","clear","removeSensor","ver","_id","_interopRequireDefault","_sensors","_constant","__esModule","Sensors","sensorId","getAttribute","newId","setAttribute","createSensor","removeAttribute","destroy","_object","_resizeObserver","ResizeObserver","_debounce","listeners","newSensor","getComputedStyle","position","style","document","createElement","onload","contentDocument","defaultView","addEventListener","resizeListener","display","top","height","overflow","pointerEvents","zIndex","opacity","type","appendChild","listener","indexOf","parentNode","removeEventListener","removeChild","idx","s","observe","disconnect","getGroups","Promise","resolve","reject","groupList","store","axios","then","response","results","group","label","name","catch","error","addPatient","getPatients","updatePatient","addTestByName","getTestsByPatientId","updateTestByName","getSummary","getCountByMonth","getAgeByGroup","config","token","headers","Authorization","class","_createElementVNode","_createElementBlock","_createVNode","_component_a_row","gutter","_component_a_col","span","_component_a_card","loading","_ctx","_Fragment","_renderList","key","_createBlock","_component_a_statistic","title","suffix","item","M","F","toFixed","_hoisted_6","g","_toDisplayString","replaceAll","MAX_SAFE_INTEGER","nativeFloor","baseRepeat","string","result","castSlice","array","baseSlice","rsAstralRange","rsComboMarksRange","reComboHalfMarksRange","rsComboSymbolsRange","rsComboRange","rsVarRange","rsZWJ","reHasUnicode","RegExp","hasUnicode","asciiSize","baseProperty","rsAstral","rsCombo","rsFitz","rsModifier","rsNonAstral","rsRegional","rsSurrPair","reOptMod","rsOptVar","rsOptJoin","join","rsSeq","rsSymbol","reUnicode","unicodeSize","lastIndex","stringSize","asciiToArray","split","unicodeToArray","match","stringToArray","nativeCeil","ceil","createPadding","chars","baseToString","charsLength","padEnd","toString","toInteger","strLength","StatisticNumber","props","valueNode","formatter","decimalSeparator","_props$groupSeparator","groupSeparator","prefixCls","String","cells","negative","int","decimal","replace","displayName","skeletonTitleProps","Number","SkeletonTitle","defineComponent","setup","zWidth","skeletonParagraphProps","rows","SkeletonParagraph","getWidth","index","_props$rows","rowList","_toConsumableArray","_","Element","_classNames","_classNames2","shape","sizeCls","classNames","_defineProperty","shapeCls","sizeStyle","lineHeight","skeletonProps","active","Boolean","default","avatar","paragraph","round","getComponentProps","prop","_typeof","getAvatarBasicProps","hasTitle","hasParagraph","getTitleBasicProps","hasAvatar","getParagraphBasicProps","basicProps","Skeleton","initDefaultProps","slots","_useConfigInject","useConfigInject","direction","_a","pre","avatarNode","contentNode","avatarProps","_extends","$title","paragraphNode","titleProps","Title","paragraphProps","Paragraph","cls","call","statisticProps","format","valueStyle","valueRender","PropTypes","prefix","_b","_c","_f","_g","_props$value","_objectSpread","Date","now","padStart","timeUnits","formatTimeStr","duration","leftDuration","escapeRegex","keepList","str","templateText","replacedText","reduce","_ref2","unit","len","formatCountdown","_config$format","target","getTime","diff","REFRESH_INTERVAL","countdownProps","onFinish","Function","emit","countdownId","statistic","syncTimer","timestamp","startTimer","stopTimer","setInterval","$forceUpdate","clearInterval","formatCD","valueRenderHtml","node","onMounted","onUpdated","onBeforeUnmount","Statistic","omit","Countdown","install","app","component","extendStatics","setPrototypeOf","__proto__","p","prototype","hasOwnProperty","__extends","__","constructor","__assign","assign","__rest","e","getOwnPropertySymbols","propertyIsEnumerable","__awaiter","thisArg","_arguments","P","generator","adopt","fulfilled","rejected","__generator","body","sent","trys","ops","verb","op","pop","__values","__read","ar","__spreadArrays","il","jl","__spreadArray","to","from","pack","isArrayLike","contains","func","difference","values","isType","isNil","each","elements","rst","isObject","keys","isFunction","isMatch","attrs","_keys","isObjectLike","isPlainObject","getPrototypeOf","proto","predicate","_predicate","findIndex","fromIndex","firstValue","flatten","getRange","filterValues","isNaN","tmp","getMax","getMin","arrPrototype","pullAt","indexes","previous","init","remove","sortBy","comparer","keys_1","isString","uniq","cache","Map","has","set","tmpMap","head","every","some","groupBy","condition","groupToMap","paramscondition_1","row","unique","groups","clamp","fixedBase","parseFloat","PRECISION","isInteger","isNumberEqual","maxItem","minItem","mod","RADIAN","toRadian","degree","lowerCase","toLowerCase","substitute","charAt","upperFirst","toUpperCase","substring","getType","isBoolean","isDate","isNull","objectProto","isPrototype","Ctor","isUndefined","isElement","HTMLDocument","requestAnimationFrame","method","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","cancelAnimationFrame","handler","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","clone","debounce","wait","immediate","timeout","context","later","callNow","resolver","memoized","get","MAX_MIX_LEVEL","_deepMix","dist","src","level","maxLevel","deepMix","isEmpty","isEqual","other","valueKeys","otherKeys","identity","object","_mix","mix","src1","src2","src3","ctx","keyArr","path","includes","leading","throttled","remaining","trailing","cancel","isArraylike","LAYER","DIRECTION","COMPONENT_TYPE","memoize","text","font","fontFamily","fontWeight","fontStyle","fontVariant","getContext","fontSize","measureText","maxWidth","currentText","currentWidth","STEP","PLACEHOLDER_WIDTH","measureTextWidth","leftText","leftWidth","default_1","def","VIEW_LIFE_CIRCLE","GEOMETRY_LIFE_CIRCLE","PLOT_EVENTS","ELEMENT_STATE","GROUP_Z_INDEX","FORE","MID","BG","TABLE","TABLE_TR","FRAGMENT_REG","CONTAINERS","GROUP_ATTRS","FIELD_ORIGIN","MIN_CHART_WIDTH","MIN_CHART_HEIGHT","COMPONENT_MAX_VIEW_PERCENTAGE","ENGINES","getEngine","G","Error","registerEngine","engine","initConstants","tr","tbody","thead","tfoot","td","th","createDom","$1","container","innerHTML","dom","childNodes","modifyCSS","css","getElementSize","ele","clientWidth","parseInt","paddingLeft","paddingRight","clientHeight","paddingTop","paddingBottom","getChartSize","autoFit","h","removeDom","parent","WILDCARD","EventEmitter","evt","callback","once","_events","on","events","wildcardEvents","doEmit","es","length_1","cfg","_super","visible","Base","changeVisible","off","destroyed","EE","SPACES","PATH_COMMAND","PATH_VALUES","parsePathString","pathString","paramCounts","q","catmullRomToBezier","crp","iLen","ellipsePath","rx","ry","res","rad","x1","cos","y1","sin","y2","pathToAbsolute","pathArray","pa0","dots","mx","my","crz","pa","ii","jj","kk","l2c","q2c","ax","ay","_13","_23","a2c","large_arc_flag","sweep_flag","recursive","f1","f2","cx","cy","_120","rotate","rx2","ry2","asin","df","f2old","x2old","y2old","s1","s2","tan","hx","hy","m1","m2","m3","m4","newres","pathToCurve","path2","p2","bx","by","qx","qy","attrs2","pcoms1","pcoms2","pfirst","pcom","processPath","nx","ny","T","Q","fixArc","pp","shift","pi","fixM","path1","a2","seg","seg2","seglen","seg2len","p2s","parsePathArray","base3","p3","p4","t1","t2","bezlen","x3","y3","x4","y4","z2","Tvalues","Cvalues","sum","ct","xbase","ybase","comb","curveDim","y0","tvalues","bounds","b2ac","sqrtb2ac","mt","jlen","intersect","denominator","py","px2","py2","isPointInsideBBox","bbox","rectPath","box","r1","r2","r0","vb","isBBoxIntersect","bbox1","bbox2","bezierBBox","p1x","p1y","c1x","c1y","c2x","c2y","p2x","p2y","findDotsAtSegment","t13","t12","t3","interHelper","bez1","bez2","justCount","l1","l2","n1","n2","dots1","dots2","di","di1","dj","dj1","ci","cj","is","interPathHelper","x1m","y1m","x2m","y2m","pj","intr","segment1","segment2","intersection","decasteljau","recurse","middlePoints","reverse","splitCurve","count","segments","leftSegments","rt","segment","cmd","splitSegment","fillPath","source","sourceLen","targetLen","ratio","segmentsToFill","filled","unshift","obj1","obj2","getMinDiff","del","add","modify","levenshteinDistance","sourceSegment","targetSegment","fillPathByDiff","diffMatrix","changes","minPos","_splitPoints","former","formerEnd","_getSegmentPoints","formatPath","fromPath","toPath","event","originalEvent","timeStamp","GraphEvent","defaultPrevented","preventDefault","propagationStopped","removeFromArray","isBrowser","isParent","isCanvas","getParent","isAllowCapture","capture","defaultCfg","getDefaultCfg","BrowserInfo","version","os","NodeInfo","process","platform","SearchBotDeviceInfo","bot","BotInfo","ReactNativeInfo","SEARCHBOX_UA_REGEX","SEARCHBOT_OS_REGEX","REQUIRED_VERSION_PARTS","userAgentRules","operatingSystemRules","detect","parseUserAgent","product","getNodeVersion","matchUserAgent","ua","matched","browser","regex","uaMatch","exec","matchedRule","versionParts","createVersionParts","detectOS","searchBotMatch","isNode","invert","a00","a01","a02","a10","a11","a12","a20","a21","a22","b01","b11","b21","det","multiply","b00","b02","b10","b12","b20","b22","fromTranslation","fromRotation","fromScaling","ARRAY_TYPE","Float32Array","random","glMatrix","subtract","distance","hypot","normalize","transformMat3","mag","cosine","acos","exactEquals","sub","vec","leftTranslate","transMat","mat3","leftRotate","rotateMat","leftScale","scaleMat","leftMultiply","transform","actions","action","angleTo","direct","ang","vec2","angleLargeThanPI","multiplyMatrix","multiplyVec2","ext","MATRIX","CLONE_CFGS","RESERVED_PORPS","DELEGATION_SPLIT","_cloneArrayAttr","getFormatFromAttrs","toAttrs","fromAttrs","getFormatToAttrs","attr","checkExistedAttrs","animations","animation","onFrame","startTime","getDefaultAttrs","initAttrs","initAnimate","getDefaultMatrix","changeType","setAttr","afterAttrsChange","refX","refY","clip","getClip","isHit","originValue","onAttrChange","targetAttrs","isClipShape","applyTo","onCanvasChange","children","getChildren","totalMatrix","currentMatrix","parentMatrix","invertMatrix","clipCfg","canvas","getCanvas","clipShape","ShapeBase","getShapeBase","shapeType","Cons","originAttrs","cons","cfgName","isPaused","timeline","initTimer","repeat","pauseCallback","resumeCallback","animateCfg","easing","noop","formatToAttrs","uniqueId","pathFormatted","addAnimator","toEnd","pauseTime","_paused","_pauseTime","eventObj","relativeShape","paths","propagationPath","getEvents","fromShape","toShape","name_1","isGroup","subName","emitDelegateEvent","this_1","eventName","currentTarget","delegateTarget","delegateObject","translateX","translateY","getMatrix","newMatrix","setMatrix","targetX","targetY","translate","move","ratioX","ratioY","radian","SHAPE_MAP","INDEX","setCanvas","child","setTimeline","getComparer","compare","taskHead","taskTail","Container","minX","maxX","minY","maxY","xArr","yArr","getBBox","getCanvasBBox","getTotalMatrix","_applyChildrenMarix","preTotalMatrix","applyMatrix","groupClass","tmpCfg","TmpGroupClass","getGroupBase","ev","_findShape","invertFromMatrix","isClipped","getShape","preParent","_applyElementMatrix","getChildByIndex","contain","findAll","className","frame","pokeDelay","clockLast","clockNow","clockSkew","clock","performance","setFrame","clearNow","Timer","_call","_time","_next","time","restart","timerFlush","wake","nap","poke","t0","sleep","extend","definition","Color","stop","darker","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatHsl","hslConvert","formatHsl","color_formatRgb","formatRgb","color","trim","rgbn","Rgb","rgba","hsla","NaN","rgbConvert","rgb_formatHex","hex","rgb_formatRgb","Hsl","hsl","hsl2rgb","basis","v0","v3","gamma","nogamma","constant","define","copy","channels","displayable","rgbGamma","colorRgb","rgbSpline","spline","colors","basisClosed","isNumberArray","ArrayBuffer","isView","DataView","numberArray","genericArray","nb","na","setTime","reA","reB","zero","one","am","bm","bs","bi","number","date","valueOf","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","exponent","polyIn","custom","polyOut","polyInOut","halfPi","sinIn","sinOut","sinInOut","tpmt","expIn","expOut","expInOut","circleIn","circleOut","circleInOut","b1","b2","b3","b4","b5","b6","b7","b8","b9","b0","bounceIn","bounceOut","bounceInOut","overshoot","backIn","backOut","backInOut","tau","amplitude","period","elasticIn","elasticOut","elasticInOut","EASING_MAP","getEasing","d3Ease","registerEasing","easeFn","isColorProp","isGradientColor","IDENTITY_MATRIX","_update","cProps","interf","PathUtil","toPathPoint","fromPathPoint","cPathPoint","interpolate","matrixFn","interpolateArray","update","elapsed","Timeline","isFinished","d3Timer","animators","removeAnimator","isAnimatePaused","autoDraw","draw","animator","stopAnimate","CLICK_OFFSET","LEFT_BTN_CODE","EVENTS","emitTargetEvent","bubbleEvent","bubbles","isOverEvent","_triggerEvent","el","dragging","currentShape","pointInfo","_getPointInfo","_emitEvent","draggingShape","_afterDrag","EventController","_bindEvents","_eventCallback","_onDocumentMove","_onDocumentMouseUp","clientX","clientY","clientPoint","getClientByEvent","getPointByEvent","_getShape","leaveCanvas","preShape","cursor","button","mousedownShape","mousedownPoint","mousedownTimeStamp","isCanvasEmit","_emitMouseoverEvents","_emitDragoverEvents","timeWindow","_getEventObj","parent_1","emitDelegation","_clearEvents","PX_SUFFIX","isFirefox","initContainer","initDom","initEvents","initTimeline","Canvas","getElementById","setDOMSize","eventController","supportCSSTransform","layerX","offsetX","layerY","offsetY","getPointByClient","clientInfo","touches","changedTouches","getBoundingClientRect","clearEvents","AbstractGroup","AbstractShape","clearCacheBBox","calculateBBox","canvasBBox","calculateCanvasBBox","topLeft","topRight","bottomLeft","bottomRight","shadowColor","shadowOffsetX","shadowOffsetY","shadowLeft","shadowBlur","shadowRight","shadowTop","shadowBottom","startArrowShape","endArrowShape","inBBox","_isInBBox","isOnlyHitBox","isInShape","register","getMethod","minNum","maxNum","getBBoxByArray","piMod","pointAt","pointDistance","cross","lengthSquare","pointToLine","tangentAngle","EPSILON","nearestPoint","tCallback","segNum","increaseRate","_t","d1","d2","snapLength","totalLength","nextX","nextY","quadraticAt","onet","extrema","derivativeAt","divideQuadratic","xt","yt","controlPoint1","controlPoint2","quadraticLength","iterationCount","quadratics","xExtrema","yExtrema","interpolationAt","divide","cubicAt","discSqrt","extremas","disc","divideCubic","c3","c12","c23","cubicLength","cubics","copysign","absv","nearestX","nearestY","relativeX","relativeY","squareA","squareB","ex","ey","rx1","ry1","delta_c","delta_t","derivativeXAt","xRotation","startAngle","endAngle","derivativeYAt","atan","xAt","yAt","getAngle","getPoint","xDim","xs","xAngle","yDim","ys","yAngle","relativeVector","relativePoint","ellipse","vector","analyzePoints","lengthOfSegment","pointAtSegments","startRatio","currentRatio","localRatio","angleAtSegments","distanceAtSegment","minDistance","nextPoint","distance_1","mergeBBox","mergeArrowBBox","startArrowBBox","endArrowBBox","Util","offScreenCtx","getOffScreenContext","getTextHeight","lineCount","spaceingY","getLineSpaceing","getTextWidth","save","textArr","subText","measureWidth","restore","assembleFont","textBaseline","textAlign","regexTags","regexDot","parsePath","tag","smoothBezier","smooth","isLoop","constraint","prevPoint","nextCp0","cp1","cp0","cps","hasConstraint","prevIdx","d0","catmullRom2Bezier","pointList","cp2","controlPointList","REGEX_MD","toSymmetry","needProcess","first","preParams","upCmd","symetricT","symetricS","vMag","vRatio","vAngle","isSamePoint","point1","point2","getArcParams","startPoint","arcFlag","sweepFlag","xp","yp","lambda","cxp","cyp","theta","dTheta","center","getSegments","currentPoint","nextParams","startMovePoint","lastStartMovePointIndex","command","prePoint","startTangent","endTangent","arcParams","cp","preSegment","_h","dx1","dy1","dx2","dy2","dcmp","onSegment","isInPolygon","isBetween","getLineIntersect","D0","D1","kross","sqrKross","sqrLen0","sqrLen1","parseToLines","lines","lineIntersectPolygon","isIntersect","intersectBBox","box1","box2","isPolygonsIntersect","points1","points2","isIn","isPointInPolygon","lines1","lines2","getPathBox","lineWidth","segmentsWithAngle","QuadUtil","CubicUtil","EllipseArcUtil","extra","getExtraFromSegmentWithAngle","xExtra","yExtra","currentAndPre","currentAndNext","preAndNext","currentAngle","stroke","path2Segments","rect","circle","polyline","polygon","DEFAULT_Y","MARGIN_RATIO","DODGE_RATIO","GAP","yField","adjustNames","dimValuesMap","xField","Adjust","dim","dimValue","isAdjust","groupedDataArray","mergedData","getDimValues","dataArray","adjustDim","record","dims","ADJUST_MAP","getAdjust","registerAdjust","ctor","dodgeRatio","dodgeBy","intervalPadding","dodgePadding","xDimensionLength","groupNum","defaultSize","maxColumnWidth","minColumnWidth","columnWidthRatio","customOffset","marginRatio","xDimensionLegenth","Dodge","groupDataArray","mergeData","adjustDataArray","cacheMap","adjustData","frameIndex","getDistribution","groupData","getAdjustRange","valueArr","valIndex","getDodgeOffset","tickLength","offset","getIntervalOnlyOffset","getDodgeOnlyOffset","getIntervalAndDodgeOffset","margin","normalizedIntervalPadding","normalizedDodgePadding","geomWidth","normalizedMaxWidht","normalizedMinWidht","randomNumber","Jitter","adjustGroup","getAdjustOffset","Cache","reverseOrder","Stack","processStack","processOneDimStack","positive","xKey","xValue","newXValue","stackHeight","stackValue","Symmetric","getXValuesMaxMap","yValue","off_1","getDimMaxValue","dimValues","flattenValues","toScaleString","_parseCfg","Attribute","param","_toOriginParam","scales","percent","steps","leftPercent","names","field","_getAttributeValue","defaultCallback","isCategory","getLinearValue","isLinear","RGB_REG","regexLG","regexRG","regexColorStop","createTmp","getValue","arr2rgb","toHex","iEl","rgb2arr","x16Value","calColor","fixedPercent","toRGB","getPropertyValue","matches","cArray","gradient","colorArray","toCSSGradient","gradientColor","cssColor_1","colorStops_1","itemArr","colorUtil","Position","scaleX","scaleY","xi","yi","Shape","methodCache","getTickMethod","registerTickMethod","__cfg__","initCfg","Scale","ticks","tick","getText","tickValue","setDomain","getConfig","calculateTicks","tickMethod","Category","translateIndexMap","buildIndexMap","calcPercent","calcValue","rangeMin","rangeMax","scaledValue","domainRange","twoDigitsOptional","twoDigits","threeDigits","fourDigits","word","literal","shorten","sLen","newArr","monthUpdate","arrName","i18n","lowerCaseArr","origObj","dayNames","monthNames","monthNamesShort","dayNamesShort","defaultI18n","amPm","DoFn","dayOfMonth","globalI18n","setGlobalDateI18n","regexEscape","pad","formatFlags","D","dateObj","getDate","DD","Do","getDay","dd","ddd","dddd","getMonth","MM","MMM","MMMM","YY","getFullYear","YYYY","getHours","hh","H","HH","getMinutes","mm","getSeconds","ss","S","getMilliseconds","SS","SSS","A","ZZ","getTimezoneOffset","Z","monthParse","emptyDigits","emptyWord","timezoneOffset","parts","minutes","parseFlags","cent","globalMasks","shortDate","mediumDate","longDate","fullDate","isoDate","isoDateTime","shortTime","mediumTime","longTime","setGlobalDateMasks","masks","mask","literals","$0","combinedI18nSettings","parse","dateStr","today","dateInfo","year","month","day","hour","minute","second","millisecond","isPm","parseInfo","newFormat","specifiedFields","requiredFields","info","requiredField","dateTZ","parser","validateFields","UTC","getter","_lo","_hi","lo","hi","FORMAT_METHOD","timeFormat","fecha1","fecha","toTimeStamp","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","intervals","getTickInterval","tickCount","bisector","TimeCat","tickIndex","Continuous","getScalePercent","firstTick","lastTick","minLimit","maxLimit","nice","Linear","getInvertPercent","calBase","getLogPositiveMin","positiveMin","Log","appendPercent","Pow","factor","Time","numberValue","minConfig","maxConfig","timeStamps_1","min_1","secondMin_1","max_1","minTickInterval","Quantize","minIndex","minTick","nextTick","minIndexPercent","maxIndexPercent","Quantile","getClass","registerClass","Identity","calculateCatTicks","tickInterval","showLast","ticks_1","lastValue","d3Linear","D3Linear","DEFAULT_COUNT","e10","e5","e2","_domain","tickIncrement","d3ArrayTicks","LN10","snapMultiple","snapType","div","intervalTicks","maxTick","availableInterval","strictLimit","defaultMin","defaultMax","tickMin","tickMax","d3LinearTickMethod","prettyNumber","DEFAULT_Q","eps","simplicity","lmin","lmax","lstep","simplicityMax","density","dMin","dMax","lMin","lMax","densityMax","coverage","coverageMax","half","legibility","extended","onlyLoose","best","score","sm","dm","log10","cm","minStart","maxStart","i_1","lStep","calculateLogTicks","avg","pretty","h5","nu","ns","calculatePowTicks","quantileSorted","sorted","linearPretty","calculateTimeTicks","timeCat","catTicks","getYear","createYear","diffMonth","minYear","maxYear","minMonth","maxMonth","creatMonth","diffDay","diffHour","diffMinus","timePretty","yearInterval","monthInterval","mmMoth","dMonths","mday","ddays","hours","dHours","dMinus","minSecond","dSeconds","seconds","console","warn","cat","rPretty","quantile","registerScale","ATTRIBUTE_MAP","registerAttribute","Opacity","Size","isTransposed","originalMatrix","Coordinate","isReflect","vec3","inverted","convertPoint","invertPoint","isReflectX","isReflectY","radius","Cartesian","convertDim","invertDim","innerRadius","Helix","maxRadius","thi","newY","rMin","Polar","oneBox","getOneBox","oneWidth","oneHeight","circleCenter","polarRadius","getCenter","vPoint","vStart3","vStart2","xPercent","yPercent","COORDINATE_MAP","getCoordinate","registerCoordinate","propagationDelegate","eventObject","identityMatrix","getMatrixByAngle","getMatrixByTranslate","getAngleByMatrix","xVector","applyMatrix2BBox","applyRotate","applyTranslate","translateMatrix","formatPadding","padding","bottom","clearDom","hasClass","cName","regionToBBox","region","pointsToBBox","createBBox","getValueByPercent","getCirclePoint","near","getBBoxWithClip","clipBBox","minX_1","maxX_1","minY_1","maxY_1","leftTop","applyToMatrix","leftBottom","rightTop","rightBottom","boxMinX","boxMaxX","boxMinY","boxMaxY","updateClip","newElement","newClipShape","setClip","toPx","getTextPoint","lineLength","offsetPercent","LOCATION_FIELD_MAP","none","Component","locationType","animate","updateAutoRender","animateOption","appear","enter","leave","originCfg","newCfg","updateInner","afterUpdate","hasKey","show","hide","setCapture","location","fields","STATUS_UPDATE","COPY_PROPERTIES","COPY_PROPERTIES_EXCLUDES","GroupComponent","shapesMap","isRegister","isUpdating","isInit","clearOffScreenCache","inst","localId","getElementId","elem","offScreenRender","render","offScreenGroup","updateElements","deleteElements","applyOffset","initEvent","removeEvent","getInnerLayoutBBox","initGroup","GroupClass","newGroup","getDelegateObject","moveElementTo","addGroup","isComponent","createOffScreenGroup","renderInner","appendDelegateObject","registerElement","addShape","restCfg","elmentName","originOpacity","elementName","originElement","newAttrs","originGroup","preElement","elementId","childComponent","origChildComponent","pick","replaceAttrs","getReplaceAttrs","updateAnimation","siblings","registerNewGroup","addAnimation","parentObject","deleteArray","callbackAnimCfg","removeElement","removeAnimation","ELLIPSIS_CODE","strLen","charAtLength","charCodeAt","ellipsisString","reseveLength","charLength","startStr","endStr","startIndex","endIndex","startCodeLen","hasAdd","endCodeLen","ELLIPSIS_CODE_LENGTH","OPTIMIZE_THRESHOLD","getMaxLabelWidthOptimized","labels","texts","maxLen","maxIdx","code","getMaxLabelWidth","getLabelLength","isVertical","ellipsisLabel","limitLength","ellipsisText","getEllipsisText","labelLength","codeLength","ellipsisFlag","reserveLength","newText","renderTag","tagCfg","content","maxLength","autoEllipsis","ellipsisPosition","background","tagGroup","maxTextLength","backgroundStyle","tagBg","toBack","textColor","activeTextColor","uncheckedColor","lineColor","regionColor","verticalAxisRotate","horizontalAxisRotate","descriptionIconStroke","descriptionIconFill","LineAnnotation","Theme","autoRotate","renderLine","renderLabel","getLabelPoint","TextAnnotation","resetLocation","getLocation","textGroup","getElementByLocalId","ArcAnnotation","renderArc","endPoint","largeFlag","middlePoint","getArcPath","RegionAnnotation","renderRegion","ImageAnnotation","renderImage","img","getImageAttrs","DataMarkerAnnotation","autoAdjust","coordinateBBox","renderText","renderPoint","getShapeAttrs","textAttrs","isVertival","findById","textShape","lineShape","lineDisplay","pointStyle","lineStyle","textStyle","DataRegionAnnotation","regionStyle","textCfg","RegionFilterAnnotation","layer","shapeIdx","adjustShapeAttrs","fillStyle","strokeStyle","ShapeAnnotation","getStyle","getHeight","offsetWidth","getOuterWidth","bLeft","pLeft","pRight","bRight","mRight","mLeft","offsetHeight","getOuterHeight","bTop","pTop","pBottom","bBottom","mTop","mBottom","HtmlComponent","containerTpl","containerClassName","getContainer","resetStyles","applyStyles","initCapture","initVisible","defaultStyles","domStyles","applyChildrenStyles","containerCss","styles","getElementsByClassName","cssName","resetPosition","HtmlAnnotation","alignX","alignY","html","domWidth","domHeight","getStatesStyle","stateStyles","styleName","AxisBase","tickLine","subTickLine","verticalFactor","verticalLimitLength","overlapOrder","tickStates","optimize","alignTick","displayWithLabel","autoHide","spacing","iconStyle","description","labelStyle","tickLineStyle","inactive","enable","threshold","theme","drawLine","drawTicks","drawTitle","items","itemGroup","updateTickStates","getItemsByState","setItemState","getItems","hasState","getSideVector","align","labelGroup","getLinePath","tickLineItems","tickLineLength","tickSegment","getTickPoint","getSidePoint","tickId","subTickLineItems","subCount","tickLineCount","tickItem","tickItems","defaultTickLineStyle","tickLineGroup","getTickLineAttrs","getTickLineItems","tickCfg","labelId","drawTick","subTickLineItems_1","getSubTickLineItems","optimizeTicks","processTicks","drawLabels","drawTickLines","applyTickStates","page_1","optimizedTicks","labelCfg","getTextAnchor","getTextBaseline","getLabelAttrs","processOverlap","defaultLabelStyle","afterProcessTicks_1","newStyle","titleCfg","titleHeight","titlePoint","getAxisVector","titleAttrs","getTitleAttrs","titleShape","drawDescriptionIcon","descriptionShape","startX","startY","x5","y5","x6","y6","x7","y7","states","getItemStates","labelShape","labelStateStyle","tickLineId","tickLineShape","tickLineStateStyle","tickLineCfg","ellipseLabels","getDefault","ellipsisTail","ellipsisHead","ellipsisMiddle","isRotate","getRotateAngle","isOverlap","minGap","overlap","prevBBox","reserveOne","labelsGroup","reversed","autoHideCfg","hasHide","isHide","parityHide","firstBBox","equidistance","reserveFirst","reserveLast","reserveBoth","preLabel","equidistanceWithReverseBoth","setLabelsAngle","labelRotate","tickWidth","fixedAngle","customRotate","unfixedAngle","Line","regionX","regionY","axisVector","normal","verticalVector","isHorizontal","labelOffset","titleSpacing","canProcessOverlap","autoProcessOverlap","hasAdjusted","util","OverlapUtil","overlapCfg","verticalFactor_1","newAlign","unregisterElement","Circle","large","sweep","vecLen","CrosshairBase","textBackground","renderBackground","textPoint","textId","textBBox","backgroundShape","LineCrosshair","CONTAINER_CLASS","CROSSHAIR_LINE","CROSSHAIR_TEXT","CssConst","backgroundColor","HtmlCrosshair","crosshairTpl","textTpl","HtmlTheme","resetText","crosshairEl","applyStyle","textEl","initCrossHair","alignText","GridBase","alternateColor","closed","drawGrid","prePoints","regionPath","getGridPath","reversePoints","nextPath","preItem","getPathStyle","lineId","gridPath","regionId","isEven","drawAlternateRegion","getAlternatePath","lineType","getLineType","firstPoint","radius_1","sweepFlag_1","LegendBase","layout","getLayoutBBox","maxHeight","resetDraw","drawLegendContent","drawBackground","DEFAULT_PAGE_NAVIGATOR","marker","inactiveFill","inactiveOpacity","RIGHT_ARROW_NAME","LEFT_ARROW_NAME","ROTATE_MAP","up","down","currentPageIndex","updateNavigation","getCurrentNavigationMatrix","totalPagesCnt","itemSpacing","itemMarginBottom","maxItemWidth","itemWidth","itemHeight","itemName","itemValue","radio","itemStates","itemBackground","pageNavigator","symbol","alignRight","nameStyle","unchecked","markerStyle","itemElement","offsetGroup","drawItem","getItemHeight","clearUpdateStatus","processItems","drawItems","itemContainerGroup","wrapped","pageWidth","subGroup","pageHeight","adjustNavigation","style_1","items_1","markerCfg","markerAttrs","textName","xPosition","radioCfg","showRadio","radioShape","tip","groupId","subContainer","getLimitItemWidth","curX","markerShape","drawMarker","itemMarkerSpacing","nameShape","drawItemText","valueShape","drawRadio","backShape","applyItemStates","subGroups","navigation","drawNavigation","navigationBBox","pages","widthLimit","maxRow","maxRowHeight_1","cntPerPage_1","styleCfg","arrowStyle","leftArrow","drawArrow","onNavigationBack","leftArrowBBox","rightArrow","onNavigationAfter","cursorX","updateArrowPath","arrow","hasStates","itemStates_1","elName","statesStyle","HANDLER_HEIGHT_RATIO","HANDLER_TRIANGLE_RATIO","ContinueLegend","track","rail","slidable","defaultLength","getCurrentValue","resetTrackClip","resetHandlers","delegateEmit","bindSliderEvent","bindRailEvent","bindTrackEvent","drawRail","fixedElements","resetTrack","bindHandlersEvent","minValue","getValueByCanvasPoint","currentValue","maxValue","setValue","preValue","curValue","curDiff","dValue","drawLabel","labelAlign","labelFormatter","alignAttrs","getLabelAlignAttrs","railCfg","getRailPath","railShape","getRailShape","railBBox","getRailBBox","getPointByValue","trackCfg","getTrackPath","getTrackColor","trackId","trackShape","getClipTrackAttrs","trackAttrs","getTrackAttrs","draggable","isVertcal","getRailCanvasBBox","resetHandler","handlerCfg","halfWidth","oneSixthWidth","triangleX","triangleY","getHandlerPath","handlerShape","minLabel","maxLabel","getDrawPoint","fixedVertail","fixedHorizontal","minLabelBBox","maxLabelBBox","lengthField","elementsLength","changeRailLength","railHeight","fitRailLength","changeRailPosition","maxLabelWidth","TITLE_CLASS","LIST_CLASS","LIST_ITEM_CLASS","MARKER_CLASS","VALUE_CLASS","NAME_CLASS","CROSSHAIR_X","CROSSHAIR_Y","visibility","transition","boxShadow","borderRadius","marginBottom","listStyleType","marginRight","float","marginLeft","getOutSides","limitBox","hits","getPointByPosition","getAlignPoint","outSides","hasOneKey","Tooltip","customContent","itemTpl","xCrosshairTpl","yCrosshairTpl","showTitle","crosshairsRegion","crosshairs","TooltipTheme","renderCustomContent","resetTitle","renderItems","clearCrosshairs","setTitle","clearItemDoms","setCrossHairsVisible","xCrosshairDom","yCrosshairDom","getHtmlContentNode","cacheDoms","getOffset","resetCrosshairs","curContainer","replaceChild","titleDom","listDom","innerText","crosshairBox","resetCrosshair","croshairDom","checkCrosshair","domName","tplName","constName","substituteObj","domStr","itemDom","BACKGROUND_STYLE","LINE_STYLE","strokeOpacity","AREA_STYLE","pointsToPath","getSmoothLinePath","dataToPath","getAreaLineY","lineY","linePathToAreaPath","areaPath","lineYPx","Trend","isArea","areaStyle","DEFAULT_HANDLER_STYLE","highLightFill","Handler","bindEvents","FOREGROUND_STYLE","DEFAULT_HANDLER_WIDTH","HANDLER_STYLE","TEXT_STYLE","SLIDER_CHANGE","stopPropagation","prevX","pageX","prevY","pageY","containerDOM","getContainerDOM","onMouseMove","onMouseUp","offsetXRange","adjustOffsetRange","updateStartEnd","updateUI","Slider","oldStart","oldEnd","newStart","newEnd","foregroundStyle","handlerStyle","validCfg","minHandler","getChildComponentById","maxHandler","trend","trendCfg","minText","maxText","addComponent","silent","handlerWidth","handlerHeight","foregroundShape","minTextShape","maxTextShape","_dodgeText","minAttrs","maxAttrs","onMouseDown","foreground","offsetRange","PADDING","minBBox","maxBBox","eventType","attachEvent","detachEvent","DEFAULT_STYLE","trackColor","thumbColor","lineCap","DEFAULT_THEME","hover","isMobile","startPos","bindLaterEvent","thumbOffset","endPos","updateThumbOffset","thumbLen","newOffset","validateRange","Scrollbar","originalValue","minThumbLen","renderTrackShape","renderThumbShape","trackLen","themeSize","onStartEvent","onTrackClick","thumbShape","onThumbMouseOver","onThumbMouseOut","emitOffsetChange","LineAxis","Axis","CircleAxis","LineGrid","Grid","CircleGrid","CategoryLegend","Legend","ContinuousLegend","HtmlTooltip","getPointsBox","centerX","centerY","uniqueValues","Set","polarToCartesian","angleInRadian","getSectorPath","startAngleInRadian","endAngleInRadian","innerStart","innerEnd","innerMiddlePoint","circlePathCommands","arcSweep","sectorPathCommands","shapeModel","coordinate","coordStartAngle","coordEndAngle","diffAngle","getPolygonCentroid","sourceShape","targetShape","targetLength","padValue","sourceLength","sourceArray","targetArray","sourceArray_1_1","BBox","subBBox","fromRange","gap","toPoints","getXDimensionLength","isPolar","getRadius","convert","isFullCircle","getDistanceToCenter","isPointInCoordinate","getAngleByPoint","getCoordinateClipCfg","endState","endAngle_1","center_1","startState","startAngle_1","getCoordinateBBox","dateRegex","getDefaultType","inferScaleType","scaleDef","attrType","geometryType","createScaleByField","validData","getScale","valuesOfKey","ScaleCtor","syncScale","newScale","change","getName","alias","getDefaultCategoryScaleRange","widthRatio","getMaxScale","getLineAxisRelativeRegion","getCircleAxisRelativeRegion","getAxisRegion","isRect","getAxisFactorByRegion","isAxisVertical","getAxisThemeCfg","axisTheme","getAxisTitleOptions","axisOptions","getCircleAxisCenterRadius","startVector","normalVector","getAxisOption","axes","getAxisDirection","axisOption","getAxisTitleText","view","facets","Facet","createContainer","getData","generateFacets","renderViews","clearFacetViews","facet","createView","beforeEachView","eachView","afterEachView","foregroundGroup","getLayer","createFacetViews","facetToView","removeView","viewBBox","cols","xIndex","yIndex","parseSpacing","xSpacing","ySpacing","xRatio","yRatio","getTheme","getOptions","coordinateOption","geometries","coordinateType","getXYFields","xOption","yOption","getXAxisOption","getYAxisOption","conditions","datum","Facets","getFacet","registerFacet","addAction","Action","applyCfg","removeAction","CallbackAction","ActionCache","createAction","actionName","actionOption","ActionClass","getActionClass","registerAction","createCallbackAction","_points2path","isInCircle","_convertArr","coord","_convertArcPath","_convertPolarPath","cur","curPoint","angleRange","flag","middleConvertPoint","_filterFullCirleLine","subPath","catmullRom2bezier","getSplinePath","constaint","splinePath","convertNormalPath","convertPolarPath","transposed","equals","getMaskBBox","maskShape","maskBBox","getMaskPath","getCurrentElement","getDelegationObject","isElementChange","gEvent","isList","isSlider","isMask","getMaskedElements","maskPath","getElementsByPath","getIntersectElements","getSiblingMaskElements","sibling","getSiblingPoint","getElements","geom","views","subView","getElementsByField","getElementValue","getElementsByState","stateName","getElementsBy","model","getModel","intersectRect","shapeBBox","pathToPoints","shapePoints","getComponents","co","getSpline","isInBox","getSilbings","point2Normalize","normalPoint","isInRecords","records","xFiled","getScaleByField","Context","HTMLElement","getCurrentPoint","isPointInPlot","getCurrentShape","components","Interaction","parseAction","actionStr","getAction","methodName","executeAction","actionObject","STEP_NAMES","START","SHOW_ENABLE","END","ROLLBACK","PROCESSING","GrammarInteraction","initContext","callbackCaches","stepArr","stepName","getActionCallback","bindEvent","trigger","offEvent","InteractionContext","subSteps","actionArr","argArr_1","currentStepName","isAllowStep","getKey","emitCaches","isEnable","enterStep","actionCallback","isAllowExecute","afterExecute","throttle","nameArr","Interactions","getInteraction","registerInteraction","interaction","createInteraction","interaciton","createAxisStyles","styleSheet","axisTitleSpacing","axisTitleTextFillColor","axisTitleTextFontSize","axisTitleTextLineHeight","axisDescriptionIconFillColor","axisLabelOffset","axisLabelFillColor","axisLabelFontSize","axisLabelLineHeight","axisLineBorder","axisLineBorderColor","grid","axisGridBorderColor","axisGridBorder","lineDash","axisGridLineDash","axisTickLineBorder","axisTickLineBorderColor","axisTickLineLength","createLegendStyles","legendMarkerSpacing","legendCircleMarkerSize","legendMarkerColor","legendItemNameFillColor","legendItemNameFontSize","legendItemNameLineHeight","legendItemNameFontWeight","flipPage","legendPageNavigatorMarkerSize","legendPageNavigatorMarkerInactiveFillColor","legendPageNavigatorMarkerInactiveFillOpacity","legendPageNavigatorMarkerFillColor","legendPageNavigatorMarkerFillOpacity","legendPageNavigatorTextFillColor","legendPageNavigatorTextFontSize","legendItemSpacing","legendItemMarginBottom","legendPadding","createThemeByStyleSheet","shapeStyles","pointFillColor","pointSize","pointBorderColor","pointBorder","fillOpacity","pointFillOpacity","pointActiveBorderColor","pointActiveBorder","selected","pointSelectedBorderColor","pointSelectedBorder","pointInactiveFillOpacity","pointInactiveBorderOpacity","hollowPoint","hollowPointFillColor","hollowPointBorder","hollowPointBorderColor","hollowPointBorderOpacity","hollowPointSize","hollowPointActiveBorderColor","hollowPointActiveBorderOpacity","hollowPointSelectedBorder","hollowPointSelectedBorderColor","hollowPointSelectedBorderOpacity","hollowPointInactiveBorderOpacity","areaFillColor","areaFillOpacity","areaActiveFillOpacity","areaSelectedFillOpacity","areaInactiveFillOpacity","hollowArea","hollowAreaBorderColor","hollowAreaBorder","hollowAreaBorderOpacity","hollowAreaActiveBorder","hollowAreaSelectedBorder","hollowAreaInactiveBorderOpacity","intervalFillColor","intervalFillOpacity","intervalActiveBorderColor","intervalActiveBorder","intervalSelectedBorderColor","intervalSelectedBorder","intervalInactiveFillOpacity","intervalInactiveBorderOpacity","hollowInterval","hollowIntervalFillColor","hollowIntervalBorderColor","hollowIntervalBorder","hollowIntervalBorderOpacity","hollowIntervalActiveBorderColor","hollowIntervalActiveBorder","hollowIntervalActiveBorderOpacity","hollowIntervalSelectedBorderColor","hollowIntervalSelectedBorder","hollowIntervalSelectedBorderOpacity","hollowIntervalInactiveBorderColor","hollowIntervalInactiveBorder","hollowIntervalInactiveBorderOpacity","lineBorderColor","lineBorder","lineBorderOpacity","lineAppendWidth","lineJoin","lineActiveBorder","lineSelectedBorder","lineInactiveBorderOpacity","axisStyles","legendStyles","defaultColor","brandColor","subColor","semanticRed","paletteSemanticRed","semanticGreen","paletteSemanticGreen","roseWidthRatio","multiplePieWidthRatio","colors10","paletteQualitative10","colors20","paletteQualitative20","sequenceColors","paletteSequence","shapes","sizes","geometry","middleAngle","funnel","pyramid","dash","hv","vh","hvh","vhv","square","bowtie","diamond","hexagon","triangle","plus","hyphen","schema","candle","arc","violin","hollow","axis","common","legend","legendVerticalPadding","legendHorizontalPadding","continuous","sliderRailHeight","sliderRailWidth","sliderRailFillColor","sliderRailBorderColor","sliderRailBorder","sliderLabelTextFillColor","sliderLabelTextFontSize","sliderLabelTextLineHeight","sliderHandlerWidth","sliderHandlerFillColor","sliderHandlerBorderColor","tooltip","showContent","follow","showCrosshairs","showMarkers","shared","enterable","tooltipCrosshairsBorderColor","tooltipCrosshairsBorder","TOOLTIP_CSS_CONST","tooltipContainerFillColor","tooltipContainerFillOpacity","tooltipContainerShadow","tooltipContainerBorderRadius","tooltipTextFillColor","tooltipTextFontSize","tooltipTextLineHeight","marginTop","annotation","annotationArcBorderColor","annotationArcBorder","annotationLineBorderColor","annotationLineDash","annotationLineBorder","annotationTextFillColor","annotationTextBorderColor","annotationTextBorder","annotationTextFontSize","annotationRegionBorder","annotationRegionBorderColor","annotationRegionFillColor","annotationRegionFillOpacity","image","dataMarker","annotationDataMarkerLineLength","dataRegion","slider","cSliderBackgroundFillColor","cSliderBackgroundFillOpacity","cSliderForegroundFillColor","cSliderForegroundFillOpacity","cSliderHandlerWidth","cSliderHandlerHeight","cSliderHandlerFillColor","cSliderHandlerFillOpacity","cSliderHandlerBorderColor","cSliderHandlerBorder","cSliderHandlerBorderRadius","cSliderHandlerHighlightFillColor","cSliderTextFillColor","cSliderTextFillOpacity","cSliderTextFontSize","cSliderTextLineHeight","cSliderTextFontWeight","cSliderTextBorderColor","cSliderTextBorder","scrollbar","scrollbarTrackFillColor","scrollbarThumbFillColor","scrollbarThumbHighlightFillColor","labelFillColor","labelFontSize","labelBorderColor","labelBorder","fillColorDark","labelFillColorDark","fillColorLight","labelFillColorLight","innerLabels","innerLabelFillColor","innerLabelFontSize","innerLabelBorderColor","innerLabelBorder","overflowLabels","overflowLabelFillColor","overflowLabelFontSize","overflowLabelBorderColor","overflowLabelBorder","pieLabels","labelHeight","labelLine","labelLineBorder","BLACK_COLORS","WHITE_COLORS","QUALITATIVE_10","QUALITATIVE_20","SINGLE_SEQUENCE","createLightStyleSheet","paletteSemanticYellow","axisLineDash","axisTitleTextFontWeight","axisSubTickLineBorderColor","axisSubTickLineLength","axisSubTickLineBorder","axisLabelFontWeight","legendTitleTextFillColor","legendTitleTextFontSize","legendTitleTextLineHeight","legendTitleTextFontWeight","legendMarkerSize","legendSquareMarkerSize","legendLineMarkerSize","sliderLabelTextFontWeight","sliderHandlerHeight","sliderHandlerBorder","annotationTextLineHeight","annotationTextFontWeight","tooltipCrosshairsLineDash","tooltipTextFontWeight","labelLineHeight","labelFontWeight","innerLabelLineHeight","innerLabelFontWeight","overflowLabelLineHeight","overflowLabelFontWeight","labelLineBorderColor","cSliderRailHieght","pointBorderOpacity","hollowPointActiveBorder","areaActiveFillColor","areaSelectedFillColor","hollowAreaActiveBorderColor","hollowAreaSelectedBorderColor","intervalActiveBorderOpacity","intervalSelectedBorderOpacity","createTheme","themeCfg","styleSheetCfg","themeObject","defaultTheme","Themes","registerTheme","snapEqual","value1","value2","getXValueByPoint","xScale","getXScale","filterYValue","yScale","getYScale","originData","getXDistance","scaleValues","numericValue","getTooltipTitle","positionAttr","getFields","titleField","titleScale","tooltipTitle","getAttributesForLegend","attributes","attribute","getTooltipValueScale","attributes_1_1","tmpScale","tmpScaleDef","scaleDefs","inferedScaleType","getTooltipValue","valueScale","eachValue","getTooltipName","nameScale","groupScales","getGroupScales","findDataByPoint","firstXValue","firstYValue","lastXValue","isYArray","firstIdx","lastIdx","middleIdx","getTooltipItems","showNil","tooltipOption","addItem","mappingData","callbackParams","itemCfg","fields_1_1","getTooltipItemsByFindData","tooltipCfg","dataArray_1_1","elementsMap","getTooltipItemsByHitShape","findItemsFromView","geometries_1_1","tooltipItems","findItemsFromViewRecurisive","childView","isAutoPadding","parsePadding","paddingArray","LOAD_COMPONENT_CONTROLLERS","registerComponentController","plugin","getComponentControllerNames","getComponentController","wrapperOption","CoordinateController","isTheta","C","hasAction","transpose","execActions","resetMatrix","sx","sy","includeActions","shouldExec","Event","GEvent","defaultLayout","getController","controller","syncScales","ScalePool","finalScaleDef","cacheScaleMeta","getScaleMeta","cacheScale","cacheScaleDef","scaleKeys","syncKey","MIN_SAFE_INTEGER","isContinuous","getSyncKey","removeFromSyncScales","scaleMeta","delete","sync","PaddingCal","getPadding","calculatePadding","paddingCal","axisComponents","paddingComponents","otherComponents","AXIS","LEGEND","SLIDER","SCROLLBAR","GRID","TOOLTIP","bboxObject","componentBBox","exceed","componentPadding","expand","inc","defaultSyncViewPadding","chart","PC","syncPadding","instance","autoPadding","createViewEvent","doPlotEvent","backgroundGroup","middleGroup","appendPadding","limitInPlot","syncViewPadding","View","layoutFunc","calculateViewBBox","initComponentController","initOptions","isUpdate","payload","BEFORE_RENDER","paint","AFTER_RENDER","BEFORE_CLEAR","filteredData","coordinateInstance","isDataChanged","isCoordinateChanged","labelsContainer","controllers","createdScaleKeys","getRootView","scalePool","deleteScale","AFTER_CLEAR","BEFORE_DESTROY","interactions","filters","legendOption","scaleOption","coordinateCfg","coordinateController","facetInstance","status","opt","existInteraction","BEFORE_CHANGE_DATA","changeData","AFTER_CHANGE_DATA","sharedOptions","getOption","legends","removedView","yScales","dimType","defaultKey","getScaleKey","getGroupAttributes","xScales","getScalesByDim","showTooltip","hideTooltip","lockTooltip","unlockTooltip","isTooltipLocked","dataLen","snapRecords","getSnapRecords","curStart","curEnd","bl","adjust","renderDataRecursive","BEFORE_PAINT","renderPaddingRecursive","renderLayoutRecursive","renderBackgroundStyleShape","renderPaintRecursive","AFTER_PAINT","backgroundStyleRectShape","adjustCoordinate","initComponents","shrink","syncViewPaddingFn","doLayout","paintGeometries","renderComponents","currentScaleDef","mergedScaleDef","createScale","doFilterData","createCoordinate","initGeometries","renderFacet","onDelegateEvents","onCanvasEvent","usedControllers","controllerName","ALL_EVENTS","currentInPlot","newEvent","TYPE","isPreMouseInPlot","MOUSE_LEAVE","LEAVE","MOUSE_ENTER","ENTER","filterData","createOrUpdateScales","getGeometryScales","adjustScales","getScaleFields","groupedFields","getGroupedFields","geometryScales","groupFields","getGroupFields","adjustCategoryScaleRange","xyScales","getYScales","scaleOptions","isIdentity","doAnimation","canvasRegion","annotations","geometryOption","createGeometry","interactionOption","viewOption","annotationComponent","annotationOption","eventCallback","rest","geometry_1","registerGeometry","renderer","pixelRatio","localRefresh","defaultInteractions","wrapperElement","forceFit","updateCanvasStyle","bindAutoFit","initDefaultInteractions","Chart","ariaOption","ATTR","BEFORE_CHANGE_SIZE","changeSize","AFTER_CHANGE_SIZE","aria","unbindAutoFit","verticalAlign","onResize","Controller","includeOption","uniqItems","subItem","isVisible","getTitle","dataPoint","getTooltipCfg","lastItems","lastTitle","tooltipMarkersGroup","renderTooltip","getItemsAfterProcess","renderTooltipMarkers","isCrosshairsFollowCursor","renderCrosshairs","xCrosshair","yCrosshair","isLocked","guideGroup","reset","tooltipCrosshairsGroup","items_1_1","itemArr_1_1","snapItem","items_2_1","aItem","yDistance","isPointIn","processOption","processCustomContent","currentCustomContent","getTooltipMarkersGroup","rootView","items_3_1","attrs_1","crosshairsType","renderXCrosshairs","renderYCrosshairs","getViewWithGeometry","getTooltipCrosshairsGroup","getCrosshairsText","Crosshair","firstItem","getGuideGroup","toFront","originalItems","customItems","ANIMATIONS_MAP","getAnimation","registerAnimation","DEFAULT_ANIMATE_CFG","GEOMETRY_ANIMATE_CFG","GEOMETRY_GROUP_APPEAR_ANIMATION","parseAnimateConfig","getDefaultAnimateCfg","animateType","doAnimate","parsedAnimateCfg","animateFunction","doGroupAppearAnimate","minYPoint","BACKGROUND_SHAPE","shapeFactory","offscreenGroup","elementIndex","getShapeType","drawShape","setShapeInfo","getOffscreenGroup","newShape","origin","syncShapeStyle","getStates","getAnimateCfg","stateStatus","sortZIndex","zIndexReversed","setZIndex","offscreenShape","setState","labelBBox","stateOption","defaultShapeType","stateTheme","shapeKey","stateCfg","shapeStyle","cfg_1","AFTER_DRAW_ANIMATE","BEFORE_DRAW_ANIMATE","GroupCtor","newClip","newChildren","name_2","getStateStyle","GEOMETRY_LABELS_MAP","GEOMETRY_LABELS_LAYOUT_MAP","getGeometryLabel","registerGeometryLabel","getGeometryLabelLayout","registerGeometryLabelLayout","layoutFn","ShapeFactoryBase","getShapePoints","shapePoint","getPoints","getDefaultPoints","getDefaultStyle","geometryTheme","getMarker","parsedPath","parsePoint","parsePoints","ShapeFactoryMap","registerShapeFactory","factoryName","geomObj","registerShape","shapeObj","getShapeFactory","appendConditions","values_1_1","eachGroup","isModelChange","currentModel","preModel","parseFields","keyItem","added","updated","removed","keyIncluded","sortable","useDeferredLabel","userTheme","Geometry","positionCfg","attributeOption","createAttrOption","adjustCfg","adjusts","adjustOption","styleFunc","styleOption","secondParam","thirdParam","labelOption","customOption","setCfg","initAttributes","processData","adjustScale","lastAttributeOption","beforeMappingData","beforeMapping","mapping","lastElementsMap","canDoGroupAnimation","yMinPoint","getYMinValue","deferred","renderLabels","requestIdleCallback","geometryLabel","idFields","hasSorted","attrName","adjustType","shapeName","xVal","yVal","length_2","groupScale","dodgeAdjust","attributeType","eachOpt","length_3","uniqMap","fs","length_4","attributeName","mappingArray","xScale_1","xField_1","updateStackRange","normalizeValues","mappingDatum","shapeCfg","getDrawCfg","customInfo","defaultStyle","getStyleCfg","generatePoints","nextPoints","mappingDataArray","keyDatum","keyIndex","finalKey","added_1_1","updated_1_1","currentShapeCfg","preShapeCfg","removed_1_1","labelType","attrCfg","AttributeCtor","getAttributeClass","categoryScales","groupedArray","beforeAdjust","subData","subLen","categoryScales_1_1","xScale_2","sizeAttr","getDefaultValue","adjustCtor","getAdjustClass","adjustInstance","mergeArray","tmpMin","tmpMax","length_5","currentData","generateShapePoints","nextData","shapeAttr","createShapePointsCfg","getAttributeValues","newRecord","_origin","mappingRecord","rstX","rstY","xLen","yLen","BEFORE_RENDER_LABEL","getLabelType","GeometryLabelsCtor","labelsMap","labelsRenderer","elementLabels","labelGroupId","labelChildren","entries","AFTER_RENDER_LABEL","getRotateMatrix","rotateRadian","findLabelTextShape","getLabelBackgroundInfo","labelItem","boxPadding","rotation","getOverlapArea","xOverlap","yOverlap","checkShapeOverlap","dones","updateLabel","updateAnimateCfg","fromChild","toChild","getCount","Labels","createOffscreenGroup","renderLabelLine","renderLabelBackground","adjustLabel","lastShapesMap","origin_1","currentAnimateCfg","deleteShape","shapeAppendCfg","isShape","layouts","all","labelShapes","geometryShapes","labelItems","labelLineCfg","labelContentShape","GeometryLabel","mapppingArray","labelCfgs","getLabelCfgs","labelContent","total","subIndex","getLabelAlign","getLabelItems","getLabelsRenderer","getGeometryShapes","themedLabelCfg","defaultLabelCfg","getDefaultLabelCfg","labelPointCfg","getOffsetVector","offsetPoint","getDimValue","isAvg","isFunnel","setLabelPosition","getLabelOffsetPoint","labelScales","callbackCfg","originText","getLabelText","originValues","getLabelId","getLabelOffset","labelTexts","subVal","actualOffset","getMappingValue","restArgs","MarkerSymbols","diffX","diffY","STROKES_SYMBOLS","handleUserMarkerStyle","adpatorMarkerStyle","setMarkerSymbol","getLegendLayout","startsWith","getLegendItems","themeMarker","userMarker","field_1","colorAttr_1","shapeAttr_1","defaultColor_1","isInPolar_1","getTicks","scaleValue","filterFieldData","getShapeMarker","isInPolar","getCustomLegendItems","itemMarker","getLegendThemeCfg","legendTheme","isValueEmpty","isYNil","getPathPoints","connectNulls","showSinglePoint","filtered","getViolinPath","getSmoothViolinPath","leftPoints","rightPoints","leftPath","rightPath","isStroke","isFill","sizeName","getBackgroundRectStyle","splitPoints","eachY","LineSymbols","getLineMarker","isStack","shapeAttrs","eachLinePoints","getPath","getSinglePath","getRangePath","topPoints","bottomPoints","topPath","bottomPath","createDarkStyleSheet","legendSpacing","overflowLabelFillColorDark","overflowLabelFillColorLight","antvDark","getPixelRatio","devicePixelRatio","inBox","mergeRegion","region1","region2","regexPR","addStop","addColorStop","parseLineGradient","gradientStr","tanTheta","tanTheta2","createLinearGradient","parseRadialGradient","fy","fr","createRadialGradient","parsePattern","patternStr","pattern","createPattern","Image","crossOrigin","complete","parseStyle","CanvasPattern","parseRadius","r3","r4","_addDefaultArrow","isStart","arrowShape","Path","isArrowShape","rotateAtPoint","_addCustomizedArrow","endArrow","arrowAttrs","startArrow","arrowFill","arrowStroke","arrowLineWidth","restAttrs","getShortenOffset","addStartArrow","addEndArrow","SHAPE_ATTRS_MAP","applyAttrsToContext","setLineDash","globalAlpha","drawChildren","skipDraw","checkRefresh","refreshElements","refresh","setChildrenRefresh","checkChildrenRefresh","hasChanged","checkElementRefresh","clearChanged","cacheCanvasBBox","isAllow","isInView","drawPath","arcParamsCache","beginPath","tangent","getStartTangent","ArrowUtil","lastPath","getEndTangent","moveTo","lineTo","quadraticCurveTo","bezierCurveTo","closePath","refreshElement","_cacheCanvasBBox","getRefreshRegion","cacheBox","validCache","validBBox","getMergedRegion","minXArr","minYArr","maxXArr","maxYArr","mergeView","viewRegion","Group","createPath","_afterDraw","viewRange","getViewRange","allowDraw","_applyClip","getHitLineWidth","bboxMethod","getBBoxMethod","halfLineWidth","getCanvasViewBox","strokeAndFill","afterDrawPath","isInStrokeOrPath","absDistance","ellipseDistance","squareX","squareY","Ellipse","halfLineWith","nodeName","ImageShape","_setImage","image_1","_afterLoading","swidth","sheight","drawImage","inLine","LineUtil","setArrow","startArrowDistance","endArrowDistance","Symbols","Marker","_resetParamsCache","_getR","path2Absolute","_getPath","paramsCache","isPointInPath","hasArc","isPointInStroke","qDistance","cDistance","inArc","extractPolygons","polygons","polylines","isInPolygons","_setPathArr","getTotalLength","extractResutl","_calculateCurve","_setTcache","subt","tCache","curve","nextSeg","segmentT","segmentL","segmentN","tempLength","inPolyline","isClose","Polygon","PolyLine","_resetCache","PolylineUtil","inRect","rectWithRadius","Rect","inRectWithRadius","Text","_assembleFont","_setText","subY","_getSpaceingY","fillText","strokeText","_drawTextArr","_drawText","getRefXY","preTest","curShape","_clearFrame","clearRect","clipView","drawFrame","clearAnimationFrame","_startDraw","_getRefreshRegion","_drawRegion","_drawAll","AbstractCanvas","SHAPE_TO_TAGS","SVG_ATTR_MAP","lineDashOffset","miterLimit","preserveAspectRatio","createSVGElement","createElementNS","sortDom","sorter","childList","toArray","fragment","createDocumentFragment","targetIndex","nodeType","currentIndex","insertBefore","targetNext","setShadow","blur","addShadow","setTransform","hasAttribute","addClip","parentChildren","clipPathEl","defsEl","children_1","canFill","canStroke","shadow","_setColor","addGradient","addPattern","elementFromPoint","isEqualNode","Dom","toDataURL","ImageData","putImageData","addArrow","getDefaultArrow","triangleDown","getAll","_assembleMarker","symbolsFactory","_formatPath","getPointAtLength","Polyline","completed","pathRelatedAttrs","_assembleRect","LETTER_SPACING","BASELINE_MAP","middle","alphabetic","hanging","BASELINE_MAP_FOR_FIREFOX","ANCHOR_MAP","_setFont","baseline","textLen_1","arr_1","stops","Gradient","ATTR_MAP","shadowOpacity","SHADOW_DIMENSION","_parseShadow","Shadow","_setDefaultPath","_setMarker","Arrow","shapeEl","Clip","Pattern","defaultArrow","Defs","srcElement","tagName","keyData","getShapeInfo","getPointsAndData","registeredShape","topLinePoints_1","bottomLinePoints_1","pointsData","parsedPoints","pathPoints","eachPoints","getConstraint","yItem","startOnZero","Area","Heatmap","prepareRange","prepareSize","blur_1","prepareGreyScaleBlurredCircle","drawWithRange","clearShadowCanvasCtx","paletteCache","colorAttr","colorField","getDefaultSize","grayScaleBlurredCanvas","getGrayScaleBlurredCanvas","valueField","getShadowCanvasCtx","data_1_1","drawGrayScaleBlurredCircle","colored","getImageData","colorize","imageShape","getImageShape","shadowCanvas","pixels","palette","ColorUtil","getRectPoints","yMin","yMax","xMin","xMax","getRectPath","isClosed","minLength","getBackgroundRectPath","getIntervalRectPath","coor","getFunnelPath","isPyramid","swap","getRectWithCornerRadius","backgroundCfg","backgroundPath","findMinDistance","sourceArr","getDodgeCount","xValues","normalizedSize","wr","dodgeCount","normalizedMaxColumnWidth","normalizedMinColumnWidth","Interval","coordinateWidth","SHAPES","HOLLOW_SHAPES","drawPoints","pointPosition","points_1_1","Point","subX","xCount","yCount","xOffset","yOffset","Schema","normalizeSize","num","sizeArr","_size","isMin","isMax","Violin","_sizeField","sizeField","getCPath","getQPath","getArcShapePath","getArcShapeWeightPath","arc1","arc2","getSmoothPath","CORNER_PERCENT","getVHVPath","getLinePoints","getTickPoints","getTickPath","interpolateCallback","middleX","middleY","getInterpolatePoints","interpolatePoint","getInterpolatePath","getInterpolateShapeAttrs","interpolatePoints","parseValue","min1","max1","getBoxPoints","pointsArray","halfSize","getBoxPath","getCandleYValues","getCandlePoints","yValues","getCandlePath","getRectAttrs","IntervalLabel","dir","getLabelValueDir","point0","nextP0","nextP1","HALF_PI","PolarLabel","labelEmit","arcPoint","isToMiddle","getMiddlePoint","getArcPoint","getPointAngle","isLabelEmit","labelPositionCfg","getLabelRotate","labelAngle","appendAngle","PieLabel","isLabelLimit","MARGIN","antiCollision","plotRange","isRight","overlapping","totalHeight","MIN_VALUE","boxes","targets","pos","previousBox","posInCompositeBox","labelShapes_1_1","rPow2","dyPow2","distribute","lineHeight_1","totalR","totalHeight_1","plotRange_1","halves_1","maxLabelsCountForOneSide","innerPoint","itemX","itemY","invisible","endY","drawLabelline","smoothConnector","breakPoint","breakPoint3","largeArcFlag","xSign","slope1","slope2","pieOuterLabelLayout","labels_1_1","LEFT_HALF_KEY","RIGHT_HALF_KEY","separateLabels","labelsContainerRange","dxPow2","dx_offset","INFLECTION_OFFSET","LABEL_OFFSET_X","LABEL_TEXT_LINE_OFFSET","inRight","inflectionPoint","pieSpiderLabelLayout","totalOffset","halfHeight","originalPos","limitInCanvas","regionMinX","regionMinY","regionMaxX","regionMaxY","finalX","finalY","limitInShape","MAX_TIMES","bitmap","xGap","yGap","Greedy","hasGap","spiralFill","greedy","maxTimes","dxdy","dt","maxDelta","nt","fillGap","times","accessedCache","adjustLabelPosition","fixedOverlap","getAxes","AB","BC","deg","getProjection","scalars","isProjectionOverlap","projection1","projection2","isValidNumber","isValidBox","isIntersectRect","rect1Points","rect2Points","createWorker","blob","Blob","BlobBuilder","append","getBlob","Worker","URL","createObjectURL","onmessage","generateUtils","hideOverlap","methods","eventData","JSON","postMessage","worker","layoutCode","memoKey","stringify","onmessageerror","preset","isContrastColorWhite","isDark","adjustColor","fromObject","bgColor","fillWhite","shouldInShapeSingle","shouldInShape","moveInShape","intervalAdjustPosition","inShape","filterLabel","MAX_CNT","filteredLabels","intervalHideOverlap","todo","groupedLabels","addCurrentGroup","curItems","sortLabels","sortedLabels","hasSome","rightText","pointAdjustPosition","sortedCollections","upFail","downFail","pathAdjustPosition","getCanvasContext","DOT_WIDTH","translateX_1","textShapes","textBox","fadeIn","fadeOut","transformShape","scaledMatrix","doScaleAnimate","endMatrix","growInX","growInY","growInXY","pathIn","positionUpdate","scaleInX","scaleInY","arcPath","getArcStartPoint","getArcInfo","arcPaths","firstArcPathCommand","lastArcPathCommand","firstIndex","firstStartPoint","lastStartPoint","firstStartAngle","firstEndAngle","lastStartAngle","lastEndAngle","sectorPathUpdate","pathCommands","curStartAngle","curEndAngle","preStartAngle","preEndAngle","diffStartAngle","diffEndAngle","onFrameStartAngle","onFrameEndAngle","waveIn","doShapeZoom","zoomIn","zoomOut","getFactTitleConfig","getAnglePoint","getDefaultTitleCfg","renderTitle","avgAngle","facetR","processAxis","getFieldValues","facetData","getFacetDataFilter","getRegion","columnValue","columnField","columnIndex","columnValuesLength","rowValue","rowField","rowIndex","rowValuesLength","List","colValues","getPageCount","getRowCol","col","pageSize","Matrix","columnTitle","rowTitle","facetIndex","Mirror","reflect","columnValues","rowValues","drawLines","Tree","afterChartRender","rootFacet","getRows","getChildFacets","setRegion","forceColIndex","xWidth","yWidth","leafs","isLeaf","levelFacets","getFacetsByLevel","levelFacets_1_1","originColIndex","getRegionIndex","addFacetLines","subFacet","subRegion","middle1","middle2","getMedian","getMean","getNormalizedValue","scaled","ANNOTATIONS_AFTER_RENDER","foregroundContainer","backgroundContainer","Annotation","onAfterRender","updateOrCreate","getCacheKey","syncCache","updateCache","clearComponents","doWhat","AnnotationComponent","getAnnotationTheme","getAnnotationCfg","isTop","ANNOTATION","xPos","yPos","parsePercentPosition","viewData","startXValue","endXValue","parsePosition","sp","ep","textContent","start_5","end_5","getRegionPoints","apply_1","shapes_1","addShapes_1","_j","render_1","restOptions","wrappedRender","_k","html_1","wrappedHtml","getComponentContainer","createAnnotation","newCache","getGridThemeCfg","getLineGridItems","preTick","currentTick","middleValue","getCircleGridItems","showGrid","userGrid","themeGrid","OMIT_CFG","AXIS_DEFAULT_ANIMATE_CFG","gridContainer","gridForeContainer","axisContainer","axisForeContainer","updatedCache","updateXAxes","updateYAxes","xAxisOption","axisId","getId","gridId","getLineAxisCfg","createLineAxis","getLineGridCfg","createLineGrid","getCircleAxisCfg","createCircleAxis","getCircleGridCfg","createCircleGrid","yAxisOption","titleText","axisThemeCfg","optionWithTitle","canvasWidth","canvasHeight","gridThemeCfg","gridCfg","verticalScale","directionToPosition","parentBBox","tl","br","getLegendOption","getDirection","layoutBBox","maxWidthRatio","maxHeightRatio","maxSize","getCategoryLegendSizeCfg","setLocation","cut","eachLegend","existCo","getComponentById","getCategoryCfg","getContinuousCfg","createFieldLegend","customCfg","createCustomLegend","loopLegends","getGeometries","doEach","isRootView","looped","createContinuousLegend","createCategoryLegend","containMin","containMax","attrValue","attrLegendCfg","mergeLegendCfg","themePageNavigator","userPageNavigator","baseCfg","categoryCfg","vw","changeViewData","onChangeFn","onValueChange","resetMeasure","getSliderCfg","updateSlider","createSlider","measureSlider","getMinMaxText","SliderComponent","getThemeOptions","dataSize","xTickCount","maxIndex","xScaleValues","DEFAULT_PADDING","DEFAULT_CATEGORY_SIZE","MIN_THUMB_LENGTH","getValidScrollbarCfg","originalAnimate","getScrollRange","updateScrollbar","createScrollbar","measureScrollbar","getScrollbarComponentCfg","xScaleCfg","yScalesCfg","thumbHighlightColor","restStyles","getScrollbarData","getStep","getCnt","startIdx","endIdx","ScrollbarComponent","realConfig","categorySize","getScrollbarTheme","DEFAULT_REGION_PATH_STYLE","getItemsOfView","ActiveRegion","xValue_1","elements_1","eleData","coordinate_1","firstBBox_1","lastBBox_1","groupBBox_1","appendRatio","appendWidth","firstElement","lastElement","innterRadius","TooltipAction","lastTimeStamp","showDelay","preLoc","curLoc","isCursorEntered","SiblingTooltip","siblingPoint","EllipsisText","tipContent","tooltipStyles","StateBase","setStateEnable","clearViewState","setElementState","getItem","ElementState","list","ignoreListItemStates","setElementsStateByItem","isMathItem","setStateByElement","isItemIgnore","event_1","setStateByComponent","ElementActive","StateAction","LinkByColor","nextElement","nextBBox","activeStyle","getLinkPath","getColorScale","linkGroup","group_1","count_1","nextEl","addLinkShape","linkByElement","removeLink","ElementRangeState","isStarted","effectSiblings","effectByRecord","setSiblingsState","allElements","setSiblingsStateByRecord","setElementsState","effectElements","ElementRangeActive","ElementSingleState","ElementSingleActive","STATUS_UNACTIVE","STATUS_ACTIVE","clearHighlight","setHighlightBy","INACTIVE","ACTIVE","ElementHighlight","setElementHighlight","activeElements","allCancel_1","HighlightColor","highlightElements","Highlight","HighlightX","ElementRangeHighlight","BEFORE_HIGHLIGHT","AFTER_HIGHLIGHT","ElementSingleHighlight","ElementRangeSelected","ElementMultipleSelected","ElementSingleSelected","ListState","allowSetStateByElement","getAllowComponents","clearItemsState","componentNames","ignoreStates","ignoreItemStates","filterStates","setItemsState","allowSetStateByItem","triggerInfo","getTriggerListInfo","clearAllComponentsState","ListActive","clearList","ListHighlight","activeItems","ListSelected","ListUnchecked","STATUS_UNCHECKED","STATUS_CHECKED","ListChecked","setCheckedBy","allChecked","list_1","ListFocus","clickedItem","checkedItems","uncheckedItems","checkedItem","items_4_1","STATUS_SHOW","TIP_ID","ListRadio","containerId","MaskBase","maskAttrs","getMaskAttrs","emitEvent","starting","moving","createMask","updateMask","maskStyle","preMovePoint","CircleMask","RectMask","clampPoint","DimRect","normalStart","normalEnd","inPlot","PathMask","resize","SmoothPathMask","CursorAction","setCursor","DataFilter","filterView","unCheckedItems","scale_1","names_1","getFilter","RangeFilter","BEFORE_FILTER","normalCurrent","hasDim","reRender","FILTER","AFTER_FILTER","BEFORE_RESET","RESET","AFTER_RESET","SiblingFilter","ElementFilter","maskElements_1","byRecord","filterByRecord","filterByBBox","maskElements","PADDING_RIGHT","PADDING_TOP","ButtonAction","buttonCfg","getButtonCfg","buttonShape","buttonGroup","drawButton","DISTANCE","Drag","dragStart","MIN_DISTANCE","Move","startMatrix","isMoving","DIM_X","DIM_Y","ScaleTranslate","cacheScaleDefs","resetDim","startCache","noramlCurrent","translateDim","translateLinear","TransformAction","zoomRatio","zoomDim","dRatio","zoomLinear","toMin","toMax","curRange","isWheelDown","wheelEvent","deltaY","LEVEL","DEFAULT_WHEELDELTA","MousewheelScroll","wheelDelta","scrollbarController","currentStart","nextStart","correction","nextRatio","AXIS_DESCRIPTION_TOOLTIP","AxisDescription","isPointInView","isInPlot","flow","flows","template","CanvasEngine","SVGEngine","Edge","EllipsisTextAction","ElementHighlightByX","ElementHighlightByColor","ElementSelected","ElementLinkByColor","DimMask","DataRangeFilter","ElementSiblingFilter","ViewDrag","ViewMove","ScaleZoom","showEnable","processing","rollback","BRAND","getMessage","argIndex","getContainerSize","findGeometry","getAllElements","getAllElementsRecursively","getAllGeometriesRecursively","findViewById","getViews","getSiblingViews","transformLabel","labelOptions","points2Path","deep","deepAssign","kebabCase","adapteStyle","styleObject","justifyContent","alignItems","shapeStyleKeys","setStatisticContainerStyle","renderStatistic","plotType","titleOpt","contentOpt","containerW","liquidShape","customHtml","renderGaugeStatistic","polarCoord","polarCenter","polarMaxY","containerWidth","metrics","isRealNumber","adjustYMetaByZero","numberData","gtZero","ltZero","transformDataToNodeLinkData","sourceField","targetField","weightField","rawFields","nodes","links","nodesMap","nodesIndex","rawData","processIllegalData","WARN","normalPadding","getAdjustAppendPadding","currentAppendPadding","resolveAllPadding","paddings","normalPaddings","finalPadding","GLOBAL","locale","LocaleMap","registerLocale","localeObj","getLocale","EN_US_LOCALE","general","increase","decrease","root","conversionTag","waterfall","ZH_CN_LOCALE","SOURCE_ATTRIBUTE_NAME","PLOT_CONTAINER_OPTIONS","getDefaultOptions","createG2","Plot","xAxis","yAxis","chartSize","execAdaptor","bindSizeSensor","updateOption","stateObjects","incoming","unbindSizeSensor","adaptor","getSchemaAdaptor","triggerResize","AXIS_META_CONFIG_KEYS","initCanvas","fillRect","getUnitPatternSize","isStagger","unitSize","getSymbolsPosition","symbolsPos","transformMatrix","dpr","defaultDotPatternCfg","drawDot","createDotPattern","dotCfg","defaultLinePatternCfg","Path2D","createLinePattern","lineCfg","defaultSquarePatternCfg","drawSquare","strokeRect","createSquarePattern","squareCfg","squares","getCanvasPattern","patternOption","colorAttribute","seriesValue","seriesField","removeInteraction","meta","annotationOptions","annotationController","transformations","getTooltipMapping","defaultFields","getMappingField","shapeField","styleField","mappingFields","tileMappingField","getMappingFunction","tooltipFields","stepType","otherAdaptor","groupField","columnBackground","pointMapping","areaMapping","pointState","areaState","primary","areaParams","lineGeometry","DEFAULT_OPTIONS","MarkerActiveAction","getView","InteractionAction","measure","as","sumMap","groupValue","percentage","getDeepPercent","getDataWhetherPercentage","asField","isPercent","lineMapping","chartData","tooltipOptions","lineParams","pointParams","areaGeometry","conversionTagFormatter","getConversionTagOptionsWithDefaults","horizontal","headSize","renderArrowTag","elemPrev","elemNext","pointPrev","pointNext","totalWidth","renderTextTag","textWidth","cWidth","cEnd","textAdjusted","disabled","INTERACTION_MAP","click","getStartStages","connectedArea","disable","BUTTON_ACTION_CONFIG","buttonStyle","drawText","getInteractionCfg","interactionType","brushType","isStartEnable","maskType","BRUSH_TYPES","brushInteraction","brush","enabled","buttonConfig","defaultOptions","columnStyle","percentData","stackedItem","percentYMeta","isRange","columnTooltip","tooltipFormatter_1","datas","isBar","Column","verticalAxis","horizontalAxis","coordinateOptions","barStyle","barWidthRatio","minBarWidth","maxBarWidth","barBackground","columnAdaptor","Bar","switchedFieldOptions","pieStyle","getTotalValue","adaptOffset","defaultOffset","endsWith","isAllZero","angleField","ORIGIN_MATRIX","ulMatrix","PieLegendAction","item_1","getActiveElements","getActiveElementLabels","transfrom","StatisticAction","_view","initialAnnotation","getAnnotations","colorField_1","initialStatistic","getInitialAnnotation","PIE_STATISTIC","percentageField_1","dataum","angleScale","content_1","LABEL_LAYOUT_TYPE_MAP","outer","spider","labelLayoutType","labelLayoutCfg","transformStatisticOptions","titleOpt_1","contentOpt_1","metaFormatter","dataValue","pieAnnotation","startStages_1","stage","Pie","prevOptions","prevData","curData","sectorStyle","Rose","spiral","timeInterval","wordCloud","words","tagCloud","imageMask","tags","_tags","cloudRadians","cw","ch","cloudText","cloudFont","cloudFontNormal","cloudFontSize","cloudRotate","cloudPadding","cloudSprite","contextAndRatio","sprite","maxh","sr","cr","wcr","wsr","hcr","hsr","xoff","yoff","hasText","w32","seen","seenRow","cloudCollide","board","sw","msx","cloudBounds","collideRects","archimedeanSpiral","rectangularSpiral","sign","zeroArray","cloudCanvas","functor","spirals","archimedean","rectangular","cloud","place","hasImage","_bounds","can","cxt","imageData","rawOptions","chartPadding","wordField","wordStyle","placementStrategy","getSingleKeyValues","getFontSizeMapping","getSize","getRotate","containerSize","resolvePadding","processImageMask","rej","HTMLImageElement","onerror","ERROR","fMax_1","fMin_1","resolveRotate","rotationSteps","perSize","numbers","WORD_CLOUD_COLOR_FIELD","rotateRatio","getTextAttrs","WordCloud","REGRESSION_MAP","poly","getQuadrantDefaultConfig","xBaseline","yBaseline","textOffset","defaultConfig","xScaleView","yScaleView","pathData","regressionLine","algorithm","reg","getMeta","xFieldValue","yFieldValue","xIsPositiveNumber","yIsPositiveNumber","getMetaMinMax","fieldMeta","getCustomValue","transformOptions","isOneX","isOneY","meta_1","newOptions","shapeLegend","sizeLegend","showLegend","scatterGeometry","scatterAnnotation","quadrant","labels_1","regionStyle_1","defaultConfig_1","quadrants","top_1","defaultStyle_1","BRUSH_FILTER_EVENTS","Scatter","pointOptions","areaOptions","RadarTooltipController","cfgTitle","hintItems","title_1","result_1","displayTitle","TooltipController","RadarTooltipAction","getTooltipController","AxisType","DualAxesGeometry","Radar","LEFT_AXES_VIEW","RIGHT_AXES_VIEW","DEFAULT_YAXIS_CONFIG","DEFAULT_LEFT_YAXIS_CONFIG","DEFAULT_RIGHT_YAXIS_CONFIG","isLine","isColumn","getGeometryOption","transformObjectToArray","transformAttribute","a2_1","a1_1","getYAxisWithDefault","axisType","Left","Right","getViewLegendItems","legendItemName","isGeometry","viewId","attrItems","drawSingleGeometry","FIELD_KEY","adjust_1","doSliderFilter","sliderValue","geometryOptions","allLine","createViews","SORT_MAP","column","formatData","themeColor","leftView","rightView","commonInteraction","commonAnnotation","commonTheme","commonAnimation","commonLimitInPlot","leftLegend_1","rightLegend_1","leftItems","rightItems","yF","legendItem_1","curLegendItem","DualAxes","X_FIELD","Y_FIELD","DEFAULT_TOOLTIP_OPTIONS","getTinyData","lineOptions","seriesData","TinyLine","TinyColumn","TinyArea","getBinKey","binWidth","binNumber","sturges","LN2","binHistogram","binField","stackField","originData_copy","rangeWidth","_binWidth","_defaultBinNumber","bins","bin","binKey","groupKey","groupKeyBinKey","plotData","HISTOGRAM_X_FIELD","HISTOGRAM_Y_FIELD","Histogram","DEFAULT_COLOR","getProgressData","clampPercent","progressStyle","Progress","RingProgress","sizeRatio","heatmapStyle","checkedSizeRatio","geometryAdaptor","dautm","radiusRatio","maxSideLength","lenRatio","sideLength","BOX_RANGE","BOX_RANGE_ALIAS","BOX_SYNC_NAME","OUTLIERS_VIEW_ID","boxStyle","transformData","newData","q1_1","median_1","q3_1","high_1","low_1","yFieldName","outliersPoint","outliersField","outliersStyle","outliersView","outliersViewData","outliersData","baseMeta","syncName","Box","quickselect","sd","newLeft","newRight","multiQuantileSelect","quantileIndex","quantileSelect","indices","stack","toBoxValue","low","high","q1","q3","minMax","toViolinValue","pdfOptions","pdfResults","violinSize","violinY","transformViolinData","kde","sampleSize","resultList","seriesGroup","series","VIOLIN_Y_FIELD","VIOLIN_SIZE_FIELD","MIN_MAX_FIELD","QUANTILE_FIELD","MEDIAN_FIELD","VIOLIN_VIEW_ID","MIN_MAX_VIEW_ID","QUANTILE_VIEW_ID","MEDIAN_VIEW_ID","violinStyle","TOOLTIP_FIELDS","violinView","boxView","minMaxView","quantileView","medianView","legendField_1","legendOptions","baseAnnotation","c0","blendObject","screen","overlay","darken","lighten","dodge","burn","innerBlend","mode","blend","blendRgbArr","colorToArr","g0","g1","rgbaArr","SMALL","intersectionArea","circles","stats","intersectionPoints","getIntersectionPoints","innerPoints","containedInCircles","arcArea","polygonArea","arcs","midPoint","parentIndex","angleDiff","circleArea","smallest","disjoint","circleCircleIntersection","circleOverlap","venn","areas","initialLayout","bestInitialLayout","loss","lossFunction","addMissingAreas","setid","setids","solution","setid_1","positions","distanceFromIntersectArea","ids","pairs","sets","getDistanceMatrices","distances","constraints","constrainedMDSGradient","xj","yj","dij","squaredDistance","greedyLayout","constrained","constrainedMDSLayout","constrainedLoss","greedyLoss","restarts","matrices","norm","setOverlaps","rowid","mostOverlapped","positioned","isPositioned","positionSet","setIndex","extraPoints","bestLoss","bestPoint","localLoss","overlaps","getCircles","getBoundingBox","xRange","yRange","scaleSolution","xScaling","yScaling","scaling","circleMargin","interior","exterior","computeTextCentre","valid","areaStats","getOverlappingCircles","circleids","circleid","computeTextCentres","overlapped","areaids","exclude","centre","circlePath","intersectionAreaPath","wide","ID_FIELD","PATH_FIELD","blendMode","getColorMap","colorPalette","setsField","colorMap","colorPaletteLen","colorArr","layoutVennData","vennData","textCenters","setCircles","islegalSets","legalArr","testArr","getFillAttrs","fillAttrs","VennLabel","customLabelInfo","placeElementsOrdered","ElementActiveAction","VennElementActive","syncElementsPos","toggle","ElementHighlightAction","VennElementHighlight","highlight","ElementSelectedAction","ElementSingleSelectedAction","VennElementSelected","VennElementSingleSelected","LEGEND_SPACE","transformColor","map_1","tempPadding","currSets","filterSets","schemaGeometry","colorOptions","vennInteraction","MAP_1","Venn","TREND_FIELD","TREND_UP","TREND_DOWN","defaultContent","risingFill","fallingFill","getStockData","close_1","open_1","stockStyle","Stock","FUNNEL_PERCENT","FUNNEL_MAPPING_VALUE","FUNNEL_CONVERSATION","FUNNEL_TOTAL_PERCENT","PLOYGON_X","PLOYGON_Y","minSize","maxYFieldValue","maxBy","conversionTagComponent","getLineCoordinate","lineOption","formatter_1","funnelStyle","baseGeometry","geo","datumIndex","initLineOption","basicFunnel","compareField","showFacetTitle","formatterData","defaultFacetLabel","viewIndex","compareFunnel","facetFunnel","preItemX","preItemY","dynamicHeightFunnel","defaultOption","dynamicHeight","Funnel","FUNNEL_CONVERSATION_FIELD","CAT_VALUE","getLiquidData","liquidStyle","outline","wave","border","DURATION","lerp","getLineAttrs","defaultAttrs","getWaterWavePositions","waveLength","getWaterWavePath","waterLevel","phase","curves","_phase","waveRight","addWaterWave","waveCount","waveAttrs","pin","cpX","cpY","GOLDEN_SECTION_RATIO","builtInShapeByName","minXPoint","outlineAttrs","buildPath","shapePath","waves","clipPath","Liquid","getSeriesFieldKey","measureField","rangeField","ds","rangeValues","flat","rKey","measureValues","mKey","targetValues","tKey","bulletStyle","extData","rangeGeometry","measureGeometry","targetGeometry","NODE_INDEX_FIELD","Bullet","CHILD_NODE_COUNT","NODE_ANCESTORS_FIELD","INVALID_FIELD_ERR_MSG","getField","defaultField","getAllNodes","index_1","ancestors","depth","eachNode","SUNBURST_ANCESTOR_FIELD","SUNBURST_Y_FIELD","SUNBURST_PATH_FIELD","RAW_FIELDS","hierarchyConfig","sunburstStyle","drilldown","PADDING_LEFT","BREAD_CRUMB_NAME","DEFAULT_BREAD_CRUMB_CONFIG","dividerText","activeTextStyle","HIERARCHY_DATA_TRANSFORM_PARAMS","DrillDownAction","drill","drawBreadCrumb","breadCrumbGroup","historyCache","backTo","hideCrumbGroup","nodeInfo","drillData","nodeData","drillDownConfig","breadCrumbCfg","breadCrumb","drawBreadCrumbGroup","rootText","textShapeBox","targetId","newHistoryCache","dividerShape","dividerBox","partition","eachBefore","positionNode","roundNode","treemapDice","eachAfter","that","ancestor","leastCommonAncestor","aNodes","bNodes","leaves","hierarchy","mapChildren","objectChildren","childs","Node","computeHeight","node_copy","copyData","node_count","node_each","node_eachAfter","node_eachBefore","node_find","node_sum","node_sort","node_path","node_ancestors","descendants","node_descendants","node_leaves","node_links","node_iterator","ignoreParentValue","d3Hierarchy","defaultSeparation","meanX","meanXReduce","maxYReduce","leafLeft","leafRight","separation","nodeSize","cluster","previousNode","shuffle","B","enclosesWeak","encloseBasis","extendBasis","enclosesWeakAll","enclosesNot","encloseBasis2","encloseBasis3","dr","encloseBasis1","x21","y21","r21","a3","d3","ab","xa","xb","ya","yb","intersects","packEnclose","aa","ca","sj","sk","enclose","optional","required","constantZero","defaultRadius","radiusLeaf","packChildren","translateChild","preroot","ambiguous","defaultId","defaultParentId","parentId","stratify","nodeId","nodeKey","nodeByKey","nextLeft","nextRight","moveSubtree","wm","wp","executeShifts","nextAncestor","vim","TreeNode","treeRoot","tree","firstWalk","secondWalk","sizeNode","tx","kx","ky","apportion","vip","vop","vom","sip","sop","sim","som","squarifyRatio","nodeValue","sumValue","newRatio","minRatio","beta","dice","treemapSlice","squarify","tile","paddingStack","paddingInner","treemap","paddingOuter","sums","valueOffset","valueTarget","valueLeft","valueRight","resquarify","_squarify","getTileMethod","tileMethod","activeDepth","ancestorNode","polygonAdaptor","pathFormatter","valueFormatter","adaptorInteraction","baseInteraction","isParentNode","inCenter","Sunburst","RANGE_VALUE","RANGE_TYPE","PERCENT","INDICATEOR_VIEW_ID","RANGE_VIEW_ID","indicator","pointer","processRangeData","getIndicatorData","getRangeData","clampTicks","gaugeStyle","meter","indicatorData","rangeData","rangeColor","contentOption","transformContent","STEP_RATIO","COORD_START_ANGLE","COORD_END_ANGLE","TOTAL","INTERVAL","START_ANGLE","END_ANGLE","Gauge","indicatorView","rangeView","DIFF_FIELD","ABSOLUTE_FIELD","IS_TOTAL","leaderLine","waterfallStyle","newYField","processed","dIdx","localeTotalLabel","colorMapping","Y_FIELD_META","labelMode","leaderLineCfg","linkPath","Waterfall","getScaleMax","maxAngle","yData","formatRadian","getStackedData","stackedData","valueItem","actualData","intervalGeometry","FIRST_AXES_VIEW","RadialBar","SECOND_AXES_VIEW","SERIES_FIELD_KEY","hopeData","data1","data2","__axisPosition","firstView","secondView","firstViewData","secondViewData","aliasMap","metaKey","leftGeometry","rightGeometry","leftLabelCfg","textAlignMap","positionMap_1","textBaselineMap","BidirectionalBar","findInteraction","enableInteraction","enableDrillInteraction","resetDrillDown","drillDownInteraction","drillDownAction","enableDrillDown","curPath","rectStyle","basePolygon","viewZoomInteraction","Treemap","transData","targetDepth","justify","sourceLinks","targetLinks","minBy","sumBy","maxValueBy","minValueBy","ascendingSourceBreadth","ascendingBreadth","ascendingTargetBreadth","defaultNodes","graph","defaultLinks","nodeById","computeLinkBreadths","link","Sankey","linkSort","sankey","computeNodeLinks","computeNodeValues","computeNodeDepths","computeNodeHeights","computeNodeBreadths","fixedValue","maxDepth","computeNodeLayers","columns","initializeNodeBreadths","nodes_6","reorderLinks","relaxRightToLeft","relaxLeftToRight","value_1","targetTop","dy_1","reorderNodeLinks","resolveCollisions","value_2","sourceTop","dy_2","subject","resolveCollisionsBottomToTop","resolveCollisionsTopToBottom","dy_3","dy_4","sourceLinks_2","targetLinks_2","nodeAlign","nodeDepth","nodeSort","nodeWidth","nodePadding","extent","ALIGN_METHOD","getNodeAlignFunction","sankeyLayoutOptions","sankeyLayout","sankeyProcessor","layoutData","getNodes","edges","graphMatrix","cutoffCircle","removedData","visited","DFS","dfsNode","isNodeLink","dataType","getNodeWidthRatio","nodeWidthRatio","getNodePaddingRatio","nodePaddingRatio","transformToViewsData","sankeyLayoutInputData","COLOR_FIELD","NODES_VIEW_ID","EDGES_VIEW_ID","nodeStyle","edgeStyle","nodeState","edgeState","edgeView","nodeView","nodeDraggable","DRAG_INTERACTION","nodeInteractions","edgeInteractions","SankeyNodeDragAction","getNodeView","isNodeElement","getCurrentDatumIdx","currentElementIdx","isDragging","prevNodeAnimateCfg","prevEdgeAnimateCfg","getEdgeView","prevDatum","datumGap_1","nextDatum","edgeData","isLast","nodesView","edgesView","sourceWeight","targetWeight","processGraph","forIn","inEdges","outEdges","frequency","sortNodes","sortMethods","localeCompare","layoutNodes","nodePaddingRatio_1","margin_1","nodeWidthRatio_1","totalValue_1","deltaX","deltaX_1","locatingEdges","valueById_1","sId","tId","sNode","tNode","sValue","currentSValue","sStart","sEnd","tValue","currentTValue","tStart","tEnd","chordLayout","chordLayoutOptions","chordLayoutInputData","outputNodes","outputLinks","NODE_COLOR_FIELD","EDGE_COLOR_FIELD","nodesData","edgesData","chordData","nodeGeometry","edgeGeometry","edgeOptions","Chord","packLayout","resolvePaddingForCircle","wSize","hSize","restWidthPadding","restHeightPadding","finalTop","finalRight","finalBottom","finalLeft","finalSize","diameter","tempAppendPadding","appendPaddingByDrilldown","circleSize","nameFormatter","CirclePacking","PLOT_ADAPTORS","lineAdaptor","pie","pieAdaptor","bar","barAdaptor","areaAdaptor","gauge","gaugeAdaptor","tinyLineAdaptor","tinyColumnAdaptor","tinyAreaAdaptor","ringProgressAdaptor","progress","progressAdaptor","scatter","scatterAdaptor","histogram","histogramAdaptor","funnelAdaptor","stock","stockAdaptor","PLOT_CONSTRUCTOR","DEFAULT_OPTIONS_MAP","execPlotAdaptor","plot","multiView","viewOfG2","multiPlot","plots","Association","linkField","data_1","getAssociationItems","Mix","execViewAdaptor","facetAdaptor","facetType","restFacetCfg","viewOptions","plotOptions","Stage","notice","DEV","BETA","STABLE","Lab","ARow","ACol","ACard","AStatistic","reactive","sampleCounts","sampleCountsLoading","genderCounts","genderRateLoading","ageAverage","ageLoading","linePlotLoading","histPlotLoading","async","sample_counts","gender_counts","age_mean","setLinePlot","setHistPlot","hist_id","hist","toRefs","__exports__"],"sourceRoot":""}