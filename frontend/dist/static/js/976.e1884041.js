"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[976],{581:function(e,a,t){t.r(a),t.d(a,{default:function(){return U}});var l=t(3396),n=t(7139);const u=(0,l.Uk)("日期"),d=(0,l.Uk)(" 保存 ");function o(e,a,t,o,i,r){const s=(0,l.up)("a-col"),p=(0,l.up)("a-row"),m=(0,l.up)("a-date-picker"),c=(0,l.up)("a-form-item"),f=(0,l.up)("a-input-number"),g=(0,l.up)("a-input"),w=(0,l.up)("a-select"),b=(0,l.up)("MinusCircleOutlined"),h=(0,l.up)("PlusOutlined"),y=(0,l.up)("a-button"),v=(0,l.up)("CheckOutlined"),k=(0,l.up)("a-form");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(p,{class:"table-row title"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.fields,((a,t)=>((0,l.wg)(),(0,l.iD)(l.HY,{key:t},["date"===a.type?((0,l.wg)(),(0,l.j4)(s,{key:0,span:5},{default:(0,l.w5)((()=>[u])),_:1})):((0,l.wg)(),(0,l.j4)(s,{key:1,span:e.span},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(a.label),1)])),_:2},1032,["span"]))],64)))),128))])),_:1}),(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l.Wm)(k,{name:e.name,layout:"inline",model:e.dynamicValidateForm,ref:"formRef"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.dynamicValidateForm.datas,((a,t)=>((0,l.wg)(),(0,l.j4)(p,{key:t,class:"table-row"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.fields,((t,n)=>((0,l.wg)(),(0,l.iD)(l.HY,{key:n},["date"===t.type?((0,l.wg)(),(0,l.j4)(s,{key:0,span:5},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{name:"date"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{value:a.date,"onUpdate:value":e=>a.date=e,placeholder:"选择日期","value-format":"YYYY-MM-DD",style:{width:"100%"},onChange:e.handleChange},null,8,["value","onUpdate:value","onChange"])])),_:2},1024)])),_:2},1024)):"number"===t.type?((0,l.wg)(),(0,l.j4)(s,{key:1,span:e.span},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{name:n},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{value:a[n],"onUpdate:value":e=>a[n]=e,placeholder:t.label,onChange:e.handleChange},null,8,["value","onUpdate:value","placeholder","onChange"])])),_:2},1032,["name"])])),_:2},1032,["span"])):"string"===t.type?((0,l.wg)(),(0,l.j4)(s,{key:2,span:e.span},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{name:n},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{value:a[n],"onUpdate:value":e=>a[n]=e,placeholder:t.label,onChange:e.handleChange},null,8,["value","onUpdate:value","placeholder","onChange"])])),_:2},1032,["name"])])),_:2},1032,["span"])):"select"===t.type?((0,l.wg)(),(0,l.j4)(s,{key:3,span:e.span},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{name:n},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{value:a[n],"onUpdate:value":e=>a[n]=e,options:t.options,placeholder:t.label,onChange:e.handleChange},null,8,["value","onUpdate:value","options","placeholder","onChange"])])),_:2},1032,["name"])])),_:2},1032,["span"])):(0,l.kq)("",!0)],64)))),128)),(0,l.Wm)(s,{span:1},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[e.dynamicValidateForm.datas.length>0?((0,l.wg)(),(0,l.j4)(b,{key:0,class:"dynamic-delete-button",disabled:0===e.dynamicValidateForm.datas.length,onClick:t=>e.removeDomain(a)},null,8,["disabled","onClick"])):(0,l.kq)("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,{"wrapper-col":{span:24},style:{"margin-left":"10px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{type:"dashed",onClick:e.addDomain},{default:(0,l.w5)((()=>[(0,l.Wm)(h),(0,l.Uk)(" 添加"+(0,n.zw)(e.label),1)])),_:1},8,["onClick"]),e.showSaveButton?((0,l.wg)(),(0,l.j4)(y,{key:0,type:"primary",style:{"margin-left":"10px"},onClick:e.onSubmit,disabled:e.disableSave},{default:(0,l.w5)((()=>[(0,l.Wm)(v),d])),_:1},8,["onClick","disabled"])):(0,l.kq)("",!0)])),_:1})])),_:1})])),_:1})])),_:1},8,["name","model"])])),_:1})])),_:1})])}t(6186);var i=t(4642),r=(t(4535),t(5676)),s=(t(6497),t(7228)),p=(t(8510),t(40)),m=(t(5703),t(5835)),c=(t(4348),t(278)),f=(t(367),t(9678)),g=(t(6566),t(6507)),w=t(4870),b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},h=b,y=t(9388);function v(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?Object(arguments[a]):{},l=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),l.forEach((function(a){k(e,a,t[a])}))}return e}function k(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var C=function(e,a){var t=v({},e,a.attrs);return(0,l.Wm)(y.Z,v({},t,{icon:h}),null)};C.displayName="MinusCircleOutlined",C.inheritAttrs=!1;var _=C,W=t(7081),O=t(6845),j=t(65);const{Item:P}=g.ZP;var D=(0,l.aZ)({name:"InlineForm",components:{AForm:g.ZP,AFormItem:P,ADatePicker:f.ZP,AInput:c.ZP,AInputNumber:m.Z,ARow:p.Z,ACol:s.Z,AButton:r.Z,ASelect:i.ZP,MinusCircleOutlined:_,PlusOutlined:W.Z,CheckOutlined:O.Z},props:{name:{type:String},label:{type:String},fields:{type:Object,default:()=>({date:{type:"date",label:"日期"},wbc:{type:"number",label:"WBC"},ne:{type:"percentage",label:"NE%"},label:{type:"string",label:"标签"},gender:{type:"select",label:"性别",options:[{value:"F",label:"Female"}]},rbc:{type:"number",label:"RBC"},plt:{type:"number",label:"PLT"}})},span:{type:String,default:"3"}},setup(e){const a=(0,j.oR)(),t=(0,w.iH)(),n=(0,w.qj)({datas:a.getters.getTestByName(e.name)??[]}),u=(0,w.iH)(!1),d=(0,w.iH)(!0);let o=0;a.dispatch("addComplete",{name:e.name,data:!0});const i=e=>{let a=n.datas.indexOf(e);-1!==a&&n.datas.splice(a,1)},r=()=>{let a={};for(let t in e.fields)a[t]="";n.datas.push(a)},s=()=>{u.value=!0},p=()=>{0===n.datas.length?(a.dispatch("delTest",e.name),o=0):(a.dispatch("addTests",{name:e.name,data:(0,w.IU)(n.datas)}),o=a.getters.getTestByName(e.name).length),u.value=!1};return(0,l.YP)([u,d],(([t,l])=>{a.dispatch("addComplete",{name:e.name,data:!0!==t||!1!==l})})),(0,l.YP)(n.datas,(e=>{u.value=e.length!==o,e.forEach((e=>{for(let a in e)if(""===e[a])return void(d.value=!0);d.value=!1}))})),{formRef:t,dynamicValidateForm:n,showSaveButton:u,removeDomain:i,addDomain:r,handleChange:s,onSubmit:p,disableSave:d}}}),Z=t(89);const S=(0,Z.Z)(D,[["render",o],["__scopeId","data-v-5bb165b0"]]);var U=S}}]);
//# sourceMappingURL=976.e1884041.js.map