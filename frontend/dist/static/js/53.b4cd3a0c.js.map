{"version":3,"file":"static/js/53.b4cd3a0c.js","mappings":"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","sources":["webpack://frontend/./node_modules/d3-regression/dist/d3-regression.js","webpack://frontend/./node_modules/fmin/build/fmin.js","webpack://frontend/./node_modules/pdfast/src/helper.js","webpack://frontend/./node_modules/pdfast/src/index.js","webpack://frontend/./node_modules/size-sensor/lib/constant.js","webpack://frontend/./node_modules/size-sensor/lib/debounce.js","webpack://frontend/./node_modules/size-sensor/lib/id.js","webpack://frontend/./node_modules/size-sensor/lib/index.js","webpack://frontend/./node_modules/size-sensor/lib/sensorPool.js","webpack://frontend/./node_modules/size-sensor/lib/sensors/index.js","webpack://frontend/./node_modules/size-sensor/lib/sensors/object.js","webpack://frontend/./node_modules/size-sensor/lib/sensors/resizeObserver.js","webpack://frontend/./src/views/DashboardView.vue","webpack://frontend/./node_modules/lodash-es/_baseRepeat.js","webpack://frontend/./node_modules/lodash-es/_castSlice.js","webpack://frontend/./node_modules/lodash-es/_hasUnicode.js","webpack://frontend/./node_modules/lodash-es/_asciiSize.js","webpack://frontend/./node_modules/lodash-es/_unicodeSize.js","webpack://frontend/./node_modules/lodash-es/_stringSize.js","webpack://frontend/./node_modules/lodash-es/_asciiToArray.js","webpack://frontend/./node_modules/lodash-es/_unicodeToArray.js","webpack://frontend/./node_modules/lodash-es/_stringToArray.js","webpack://frontend/./node_modules/lodash-es/_createPadding.js","webpack://frontend/./node_modules/lodash-es/padEnd.js","webpack://frontend/./node_modules/ant-design-vue/es/statistic/Number.js","webpack://frontend/./node_modules/ant-design-vue/es/skeleton/Title.js","webpack://frontend/./node_modules/ant-design-vue/es/skeleton/Paragraph.js","webpack://frontend/./node_modules/ant-design-vue/es/skeleton/Element.js","webpack://frontend/./node_modules/ant-design-vue/es/skeleton/Skeleton.js","webpack://frontend/./node_modules/ant-design-vue/es/statistic/Statistic.js","webpack://frontend/./node_modules/lodash-es/padStart.js","webpack://frontend/./node_modules/ant-design-vue/es/statistic/utils.js","webpack://frontend/./node_modules/ant-design-vue/es/statistic/Countdown.js","webpack://frontend/./node_modules/ant-design-vue/es/statistic/index.js","webpack://frontend/./node_modules/tslib/tslib.es6.js","webpack://frontend/../src/is-array-like.ts","webpack://frontend/../src/contains.ts","webpack://frontend/../src/filter.ts","webpack://frontend/../src/difference.ts","webpack://frontend/../src/is-type.ts","webpack://frontend/../src/is-function.ts","webpack://frontend/../src/is-nil.ts","webpack://frontend/../src/is-array.ts","webpack://frontend/../src/is-object.ts","webpack://frontend/../src/each.ts","webpack://frontend/../src/keys.ts","webpack://frontend/../src/is-match.ts","webpack://frontend/../src/is-object-like.ts","webpack://frontend/../src/is-plain-object.ts","webpack://frontend/../src/find.ts","webpack://frontend/../src/find-index.ts","webpack://frontend/../src/first-value.ts","webpack://frontend/../src/flatten.ts","webpack://frontend/../src/max.ts","webpack://frontend/../src/min.ts","webpack://frontend/../src/get-range.ts","webpack://frontend/../src/pull.ts","webpack://frontend/../src/pull-at.ts","webpack://frontend/../src/reduce.ts","webpack://frontend/../src/remove.ts","webpack://frontend/../src/is-string.ts","webpack://frontend/../src/sort-by.ts","webpack://frontend/../src/uniq.ts","webpack://frontend/../src/values-of-key.ts","webpack://frontend/../src/head.ts","webpack://frontend/../src/last.ts","webpack://frontend/../src/ends-with.ts","webpack://frontend/../src/every.ts","webpack://frontend/../src/some.ts","webpack://frontend/../src/group-by.ts","webpack://frontend/../src/group-to-map.ts","webpack://frontend/../src/group.ts","webpack://frontend/../src/parse-radius.ts","webpack://frontend/../src/clamp.ts","webpack://frontend/../src/fixed-base.ts","webpack://frontend/../src/is-number.ts","webpack://frontend/../src/is-number-equal.ts","webpack://frontend/../src/is-integer.ts","webpack://frontend/../src/is-odd.ts","webpack://frontend/../src/max-by.ts","webpack://frontend/../src/min-by.ts","webpack://frontend/../src/mod.ts","webpack://frontend/../src/to-radian.ts","webpack://frontend/../src/to-degree.ts","webpack://frontend/../src/to-integer.ts","webpack://frontend/../src/for-in.ts","webpack://frontend/../src/has.ts","webpack://frontend/../src/has-key.ts","webpack://frontend/../src/values.ts","webpack://frontend/../src/to-string.ts","webpack://frontend/../src/lower-case.ts","webpack://frontend/../src/substitute.ts","webpack://frontend/../src/upper-first.ts","webpack://frontend/../src/get-type.ts","webpack://frontend/../src/is-boolean.ts","webpack://frontend/../src/is-date.ts","webpack://frontend/../src/is-null.ts","webpack://frontend/../src/is-prototype.ts","webpack://frontend/../src/is-undefined.ts","webpack://frontend/../src/is-element.ts","webpack://frontend/../src/request-animation-frame.ts","webpack://frontend/../src/clear-animation-frame.ts","webpack://frontend/../src/augment.ts","webpack://frontend/../src/clone.ts","webpack://frontend/../src/debounce.ts","webpack://frontend/../src/memoize.ts","webpack://frontend/../src/deep-mix.ts","webpack://frontend/../src/index-of.ts","webpack://frontend/../src/is-empty.ts","webpack://frontend/../src/is-equal.ts","webpack://frontend/../src/map.ts","webpack://frontend/../src/map-values.ts","webpack://frontend/../src/mix.ts","webpack://frontend/../src/get.ts","webpack://frontend/../src/measure-text-width.ts","webpack://frontend/../src/set.ts","webpack://frontend/../src/pick.ts","webpack://frontend/../src/omit.ts","webpack://frontend/../src/throttle.ts","webpack://frontend/../src/to-array.ts","webpack://frontend/../src/unique-id.ts","webpack://frontend/../src/noop.ts","webpack://frontend/../src/size.ts","webpack://frontend/../src/constant.ts","webpack://frontend/../src/get-ellipsis-text.ts","webpack://frontend/../src/cache.ts","webpack://frontend/../src/create-dom.ts","webpack://frontend/../../src/engine/index.ts","webpack://frontend/../src/modify-css.ts","webpack://frontend/../../src/util/dom.ts","webpack://frontend/../src/index.ts","webpack://frontend/../src/base.ts","webpack://frontend/../../src/util/path.ts","webpack://frontend/../../src/event/graph-event.ts","webpack://frontend/../../src/util/util.ts","webpack://frontend/../../src/abstract/base.ts","webpack://frontend/./node_modules/detect-browser/es/index.js","webpack://frontend/./node_modules/gl-matrix/esm/mat3.js","webpack://frontend/./node_modules/gl-matrix/esm/common.js","webpack://frontend/./node_modules/gl-matrix/esm/vec2.js","webpack://frontend/../src/ext.ts","webpack://frontend/../../src/util/matrix.ts","webpack://frontend/../../src/abstract/element.ts","webpack://frontend/../../src/abstract/container.ts","webpack://frontend/./node_modules/d3-timer/src/timer.js","webpack://frontend/./node_modules/d3-color/src/define.js","webpack://frontend/./node_modules/d3-color/src/color.js","webpack://frontend/./node_modules/d3-interpolate/src/basis.js","webpack://frontend/./node_modules/d3-interpolate/src/basisClosed.js","webpack://frontend/./node_modules/d3-interpolate/src/constant.js","webpack://frontend/./node_modules/d3-interpolate/src/color.js","webpack://frontend/./node_modules/d3-interpolate/src/rgb.js","webpack://frontend/./node_modules/d3-interpolate/src/numberArray.js","webpack://frontend/./node_modules/d3-interpolate/src/array.js","webpack://frontend/./node_modules/d3-interpolate/src/date.js","webpack://frontend/./node_modules/d3-interpolate/src/number.js","webpack://frontend/./node_modules/d3-interpolate/src/object.js","webpack://frontend/./node_modules/d3-interpolate/src/string.js","webpack://frontend/./node_modules/d3-interpolate/src/value.js","webpack://frontend/./node_modules/d3-ease/src/linear.js","webpack://frontend/./node_modules/d3-ease/src/quad.js","webpack://frontend/./node_modules/d3-ease/src/cubic.js","webpack://frontend/./node_modules/d3-ease/src/poly.js","webpack://frontend/./node_modules/d3-ease/src/sin.js","webpack://frontend/./node_modules/d3-ease/src/math.js","webpack://frontend/./node_modules/d3-ease/src/exp.js","webpack://frontend/./node_modules/d3-ease/src/circle.js","webpack://frontend/./node_modules/d3-ease/src/bounce.js","webpack://frontend/./node_modules/d3-ease/src/back.js","webpack://frontend/./node_modules/d3-ease/src/elastic.js","webpack://frontend/../../src/animate/register.ts","webpack://frontend/../../src/util/color.ts","webpack://frontend/../../src/animate/timeline.ts","webpack://frontend/../../src/event/event-contoller.ts","webpack://frontend/../../src/abstract/canvas.ts","webpack://frontend/../../src/abstract/group.ts","webpack://frontend/../../src/abstract/shape.ts","webpack://frontend/../../src/bbox/register.ts","webpack://frontend/../../src/bbox/rect.ts","webpack://frontend/../../src/bbox/circle.ts","webpack://frontend/../src/util.ts","webpack://frontend/../src/line.ts","webpack://frontend/../src/bezier.ts","webpack://frontend/../src/quadratic.ts","webpack://frontend/../src/cubic.ts","webpack://frontend/../src/ellipse.ts","webpack://frontend/../src/arc.ts","webpack://frontend/../src/segments.ts","webpack://frontend/../src/polyline.ts","webpack://frontend/../../src/bbox/util.ts","webpack://frontend/../../src/bbox/polyline.ts","webpack://frontend/../../src/bbox/polygon.ts","webpack://frontend/../../src/util/offscreen.ts","webpack://frontend/../../src/util/text.ts","webpack://frontend/../../src/bbox/text.ts","webpack://frontend/../src/parse-path.ts","webpack://frontend/../src/catmull-rom-2-bezier.ts","webpack://frontend/../src/parse-path-string.ts","webpack://frontend/../src/path-2-absolute.ts","webpack://frontend/../../src/process/arc-2-cubic.ts","webpack://frontend/../src/get-arc-params.ts","webpack://frontend/../src/path-2-segments.ts","webpack://frontend/../src/point-in-polygon.ts","webpack://frontend/../src/get-line-intersect.ts","webpack://frontend/../src/is-polygons-intersect.ts","webpack://frontend/../../src/bbox/path.ts","webpack://frontend/../../src/bbox/line.ts","webpack://frontend/../../src/bbox/ellipse.ts","webpack://frontend/../../src/bbox/index.ts","webpack://frontend/../../src/adjusts/adjust.ts","webpack://frontend/../src/factory.ts","webpack://frontend/./node_modules/@antv/adjust/node_modules/tslib/tslib.es6.js","webpack://frontend/../../src/adjusts/dodge.ts","webpack://frontend/../../src/adjusts/jitter.ts","webpack://frontend/../../src/adjusts/stack.ts","webpack://frontend/../../src/adjusts/symmetric.ts","webpack://frontend/../../src/attributes/base.ts","webpack://frontend/./node_modules/@antv/attr/node_modules/tslib/tslib.es6.js","webpack://frontend/../../src/attributes/color.ts","webpack://frontend/../../src/attributes/opacity.ts","webpack://frontend/../../src/attributes/position.ts","webpack://frontend/../../src/attributes/shape.ts","webpack://frontend/../../src/attributes/size.ts","webpack://frontend/../../src/tick-method/register.ts","webpack://frontend/../../src/category/base.ts","webpack://frontend/../src/fecha.ts","webpack://frontend/../../src/util/bisector.ts","webpack://frontend/../../src/util/time.ts","webpack://frontend/../../src/category/time.ts","webpack://frontend/../../src/continuous/base.ts","webpack://frontend/../../src/continuous/linear.ts","webpack://frontend/../../src/util/math.ts","webpack://frontend/../../src/continuous/log.ts","webpack://frontend/../../src/continuous/pow.ts","webpack://frontend/../../src/continuous/time.ts","webpack://frontend/../../src/continuous/quantize.ts","webpack://frontend/../../src/continuous/quantile.ts","webpack://frontend/../../src/identity/index.ts","webpack://frontend/../../src/tick-method/cat.ts","webpack://frontend/../../src/util/d3-linear.ts","webpack://frontend/../../src/util/interval.ts","webpack://frontend/../../src/util/strict-limit.ts","webpack://frontend/../../src/tick-method/d3-linear.ts","webpack://frontend/../../src/util/pretty-number.ts","webpack://frontend/../../src/util/extended.ts","webpack://frontend/../../src/tick-method/linear.ts","webpack://frontend/../../src/tick-method/log.ts","webpack://frontend/../../src/util/pretty.ts","webpack://frontend/../../src/tick-method/pow.ts","webpack://frontend/../../src/tick-method/quantile.ts","webpack://frontend/../../src/tick-method/r-prettry.ts","webpack://frontend/../../src/tick-method/time.ts","webpack://frontend/../../src/tick-method/time-cat.ts","webpack://frontend/../../src/tick-method/time-pretty.ts","webpack://frontend/../../src/tick-method/index.ts","webpack://frontend/./node_modules/gl-matrix/esm/vec3.js","webpack://frontend/../../src/coord/base.ts","webpack://frontend/../../src/coord/cartesian.ts","webpack://frontend/../../src/coord/helix.ts","webpack://frontend/../../src/coord/polar.ts","webpack://frontend/../../src/util/event.ts","webpack://frontend/../../src/abstract/component.ts","webpack://frontend/../../src/abstract/group-component.ts","webpack://frontend/../../src/util/label.ts","webpack://frontend/../../src/util/graphic.ts","webpack://frontend/../../src/util/theme.ts","webpack://frontend/../../src/annotation/line.ts","webpack://frontend/../../src/annotation/text.ts","webpack://frontend/../../src/annotation/arc.ts","webpack://frontend/../../src/annotation/region.ts","webpack://frontend/../../src/annotation/image.ts","webpack://frontend/../../src/annotation/data-marker.ts","webpack://frontend/../../src/annotation/data-region.ts","webpack://frontend/../../src/annotation/region-filter.ts","webpack://frontend/../../src/annotation/shape.ts","webpack://frontend/../src/get-style.ts","webpack://frontend/../src/get-width.ts","webpack://frontend/../src/get-outer-width.ts","webpack://frontend/../src/get-height.ts","webpack://frontend/../src/get-outer-height.ts","webpack://frontend/../../src/abstract/html-component.ts","webpack://frontend/../../src/annotation/html.ts","webpack://frontend/../../src/util/state.ts","webpack://frontend/../../src/axis/base.ts","webpack://frontend/../../../src/axis/overlap/auto-ellipsis.ts","webpack://frontend/../../../src/axis/overlap/auto-hide.ts","webpack://frontend/../../../src/axis/overlap/auto-rotate.ts","webpack://frontend/../../src/axis/line.ts","webpack://frontend/../../src/axis/circle.ts","webpack://frontend/../../src/crosshair/base.ts","webpack://frontend/../../src/crosshair/line.ts","webpack://frontend/../../src/crosshair/circle.ts","webpack://frontend/../../src/crosshair/css-const.ts","webpack://frontend/../../src/crosshair/html-theme.ts","webpack://frontend/../../src/crosshair/html.ts","webpack://frontend/../../src/grid/base.ts","webpack://frontend/../../src/grid/circle.ts","webpack://frontend/../../src/grid/line.ts","webpack://frontend/../../src/legend/base.ts","webpack://frontend/../../src/legend/category.ts","webpack://frontend/../../src/legend/continuous.ts","webpack://frontend/../../src/tooltip/css-const.ts","webpack://frontend/../../src/tooltip/html-theme.ts","webpack://frontend/../../src/util/align.ts","webpack://frontend/../../src/tooltip/html.ts","webpack://frontend/../../src/trend/constant.ts","webpack://frontend/../../src/trend/path.ts","webpack://frontend/../../src/trend/trend.ts","webpack://frontend/../../src/slider/handler.ts","webpack://frontend/../../src/slider/constant.ts","webpack://frontend/../../src/slider/slider.ts","webpack://frontend/../src/add-event-listener.ts","webpack://frontend/../../src/scrollbar/scrollbar.ts","webpack://frontend/../src/dependents.ts","webpack://frontend/../../src/util/graphics.ts","webpack://frontend/../../src/util/helper.ts","webpack://frontend/../../src/util/bbox.ts","webpack://frontend/../../src/util/coordinate.ts","webpack://frontend/../../src/util/scale.ts","webpack://frontend/../../src/util/axis.ts","webpack://frontend/../../src/facet/facet.ts","webpack://frontend/../../src/facet/index.ts","webpack://frontend/../../../src/interaction/action/base.ts","webpack://frontend/../../../src/interaction/action/callback.ts","webpack://frontend/../../../src/interaction/action/register.ts","webpack://frontend/../../../../src/geometry/shape/util/path.ts","webpack://frontend/../../../src/interaction/action/util.ts","webpack://frontend/../../src/interaction/context.ts","webpack://frontend/../../src/interaction/interaction.ts","webpack://frontend/../../src/interaction/grammar-interaction.ts","webpack://frontend/../../src/interaction/index.ts","webpack://frontend/../../../src/theme/util/create-by-style-sheet.ts","webpack://frontend/../../../src/theme/style-sheet/light.ts","webpack://frontend/../../../src/theme/util/create-theme.ts","webpack://frontend/../../src/theme/index.ts","webpack://frontend/../../src/util/tooltip.ts","webpack://frontend/../../src/util/padding.ts","webpack://frontend/../../../src/chart/controller/index.ts","webpack://frontend/../../../src/chart/controller/coordinate.ts","webpack://frontend/../../src/chart/event.ts","webpack://frontend/../../../src/chart/layout/index.ts","webpack://frontend/../../../src/chart/util/scale-pool.ts","webpack://frontend/../../../src/chart/layout/padding-cal.ts","webpack://frontend/../../../src/chart/layout/auto.ts","webpack://frontend/../../../src/chart/util/sync-view-padding.ts","webpack://frontend/../../src/chart/view.ts","webpack://frontend/../../src/chart/chart.ts","webpack://frontend/../../../src/chart/controller/base.ts","webpack://frontend/../../../src/chart/controller/tooltip.ts","webpack://frontend/../../../src/animate/animation/index.ts","webpack://frontend/../../src/animate/index.ts","webpack://frontend/../../../src/geometry/shape/constant.ts","webpack://frontend/../../../src/geometry/element/index.ts","webpack://frontend/../../../src/geometry/label/index.ts","webpack://frontend/../../../src/geometry/shape/base.ts","webpack://frontend/../../../src/geometry/util/group-data.ts","webpack://frontend/../../../src/geometry/util/is-model-change.ts","webpack://frontend/../../../src/geometry/util/parse-fields.ts","webpack://frontend/../../../src/geometry/util/diff.ts","webpack://frontend/../../src/geometry/base.ts","webpack://frontend/../../src/util/transform.ts","webpack://frontend/../../../../src/geometry/label/util/index.ts","webpack://frontend/../../src/component/update-label.ts","webpack://frontend/../../src/component/labels.ts","webpack://frontend/../../../src/geometry/label/base.ts","webpack://frontend/../../src/util/attr.ts","webpack://frontend/../../src/util/marker.ts","webpack://frontend/../../src/util/legend.ts","webpack://frontend/../../../../src/geometry/shape/util/get-path-points.ts","webpack://frontend/../../../../src/geometry/shape/util/get-style.ts","webpack://frontend/../../../../src/geometry/shape/util/split-points.ts","webpack://frontend/../../../../src/geometry/shape/line/util.ts","webpack://frontend/../../../../src/geometry/shape/line/index.ts","webpack://frontend/../src/core.ts","webpack://frontend/../../../src/theme/style-sheet/dark.ts","webpack://frontend/../../src/util/parse.ts","webpack://frontend/../../src/util/arc-params.ts","webpack://frontend/../../src/util/arrow.ts","webpack://frontend/../../src/util/draw.ts","webpack://frontend/../../src/shape/base.ts","webpack://frontend/../../src/shape/circle.ts","webpack://frontend/../../src/shape/ellipse.ts","webpack://frontend/../../src/shape/image.ts","webpack://frontend/../../../src/util/in-stroke/line.ts","webpack://frontend/../../src/shape/line.ts","webpack://frontend/../../src/shape/marker.ts","webpack://frontend/../../../src/util/in-path/point-in-path.ts","webpack://frontend/../../../src/util/in-path/polygon.ts","webpack://frontend/../../../src/util/in-stroke/arc.ts","webpack://frontend/../../src/shape/path.ts","webpack://frontend/../../../src/util/in-stroke/polyline.ts","webpack://frontend/../../src/shape/polygon.ts","webpack://frontend/../../src/shape/polyline.ts","webpack://frontend/../../../src/util/in-stroke/rect.ts","webpack://frontend/../../../src/util/in-stroke/rect-radius.ts","webpack://frontend/../../src/shape/rect.ts","webpack://frontend/../../src/shape/text.ts","webpack://frontend/../../src/util/hit.ts","webpack://frontend/../src/canvas.ts","webpack://frontend/../../src/util/svg.ts","webpack://frontend/../../src/shape/dom.ts","webpack://frontend/../../../src/shape/marker/symbols.ts","webpack://frontend/../../../src/shape/marker/index.ts","webpack://frontend/../../src/util/format.ts","webpack://frontend/../../src/defs/gradient.ts","webpack://frontend/../../src/defs/shadow.ts","webpack://frontend/../../src/defs/arrow.ts","webpack://frontend/../../src/defs/clip.ts","webpack://frontend/../../src/defs/pattern.ts","webpack://frontend/../../src/defs/index.ts","webpack://frontend/../../src/geometry/path.ts","webpack://frontend/../../../../src/geometry/shape/area/util.ts","webpack://frontend/../../../../src/geometry/shape/area/index.ts","webpack://frontend/../../src/geometry/area.ts","webpack://frontend/../../../../src/geometry/shape/edge/index.ts","webpack://frontend/../../src/geometry/edge.ts","webpack://frontend/../../src/geometry/heatmap.ts","webpack://frontend/../../../../src/geometry/shape/interval/util.ts","webpack://frontend/../../../../src/geometry/shape/interval/index.ts","webpack://frontend/../../../src/geometry/util/shape-size.ts","webpack://frontend/../../src/geometry/interval.ts","webpack://frontend/../../src/geometry/line.ts","webpack://frontend/../../../../src/geometry/shape/point/util.ts","webpack://frontend/../../../../src/geometry/shape/point/index.ts","webpack://frontend/../../src/geometry/point.ts","webpack://frontend/../../../../src/geometry/shape/polygon/index.ts","webpack://frontend/../../src/geometry/polygon.ts","webpack://frontend/../../src/geometry/schema.ts","webpack://frontend/../../../../src/geometry/shape/schema/index.ts","webpack://frontend/../../../../src/geometry/shape/violin/index.ts","webpack://frontend/../../src/geometry/violin.ts","webpack://frontend/../../../../src/geometry/shape/edge/util.ts","webpack://frontend/../../../../src/geometry/shape/edge/arc.ts","webpack://frontend/../../../../src/geometry/shape/edge/smooth.ts","webpack://frontend/../../../../src/geometry/shape/area/line.ts","webpack://frontend/../../../../src/geometry/shape/area/smooth.ts","webpack://frontend/../../../../src/geometry/shape/area/smooth-line.ts","webpack://frontend/../../../../src/geometry/shape/edge/vhv.ts","webpack://frontend/../../../../src/geometry/shape/interval/line.ts","webpack://frontend/../../../../src/geometry/shape/interval/tick.ts","webpack://frontend/../../../../src/geometry/shape/interval/funnel.ts","webpack://frontend/../../../../src/geometry/shape/interval/hollow-rect.ts","webpack://frontend/../../../../src/geometry/shape/interval/pyramid.ts","webpack://frontend/../../../../src/geometry/shape/line/step.ts","webpack://frontend/../../../../src/geometry/shape/schema/box.ts","webpack://frontend/../../../../src/geometry/shape/schema/candle.ts","webpack://frontend/../../../../src/geometry/shape/polygon/square.ts","webpack://frontend/../../../../src/geometry/shape/point/hollow.ts","webpack://frontend/../../../../src/geometry/shape/point/image.ts","webpack://frontend/../../../../src/geometry/shape/point/solid.ts","webpack://frontend/../../../../src/geometry/shape/violin/smooth.ts","webpack://frontend/../../../../src/geometry/shape/violin/hollow.ts","webpack://frontend/../../../src/geometry/label/interval.ts","webpack://frontend/../../../src/geometry/label/polar.ts","webpack://frontend/../../../src/geometry/label/pie.ts","webpack://frontend/../../../../../src/geometry/label/layout/pie/distribute.ts","webpack://frontend/../../../../../src/geometry/label/layout/pie/util.ts","webpack://frontend/../../../../../src/geometry/label/layout/pie/outer.ts","webpack://frontend/../../../../../src/geometry/label/layout/pie/spider.ts","webpack://frontend/../../../../src/geometry/label/layout/limit-in-canvas.ts","webpack://frontend/../../../../src/geometry/label/layout/limit-in-shape.ts","webpack://frontend/../../../../src/geometry/label/layout/overlap.ts","webpack://frontend/../../src/util/collision-detect.ts","webpack://frontend/../../../../src/geometry/label/util/createWorker.ts","webpack://frontend/../../../../../src/geometry/label/layout/worker/hide-overlap.ts","webpack://frontend/../../../../src/geometry/label/layout/hide-overlap.ts","webpack://frontend/../../src/util/context.ts","webpack://frontend/../../../../src/geometry/label/layout/adjust-color.ts","webpack://frontend/../../../../../src/geometry/label/layout/interval/adjust-position.ts","webpack://frontend/../../../../../src/geometry/label/layout/interval/hide-overlap.ts","webpack://frontend/../../../../../src/geometry/label/layout/point/adjust-position.ts","webpack://frontend/../../../../../src/geometry/label/layout/path/adjust-position.ts","webpack://frontend/../../../../src/geometry/label/layout/limit-in-plot.ts","webpack://frontend/../../../src/animate/animation/fade.ts","webpack://frontend/../../../src/animate/animation/util.ts","webpack://frontend/../../../src/animate/animation/grow-in.ts","webpack://frontend/../../../src/animate/animation/path-in.ts","webpack://frontend/../../../src/animate/animation/position-update.ts","webpack://frontend/../../../src/animate/animation/scale-in.ts","webpack://frontend/../../../src/animate/animation/sector-path-update.ts","webpack://frontend/../../../src/animate/animation/wave-in.ts","webpack://frontend/../../../src/animate/animation/zoom.ts","webpack://frontend/../../src/util/facet.ts","webpack://frontend/../../src/facet/circle.ts","webpack://frontend/../../src/facet/list.ts","webpack://frontend/../../src/facet/matrix.ts","webpack://frontend/../../src/facet/mirror.ts","webpack://frontend/../../src/facet/rect.ts","webpack://frontend/../../src/facet/tree.ts","webpack://frontend/../../src/util/stat.ts","webpack://frontend/../../src/util/annotation.ts","webpack://frontend/../../../src/chart/controller/annotation.ts","webpack://frontend/../../src/util/grid.ts","webpack://frontend/../../../src/chart/controller/axis.ts","webpack://frontend/../../src/util/direction.ts","webpack://frontend/../../../src/chart/controller/legend.ts","webpack://frontend/../../../src/chart/controller/slider.ts","webpack://frontend/../../../src/chart/controller/scrollbar.ts","webpack://frontend/../../../src/interaction/action/active-region.ts","webpack://frontend/../../../../../src/interaction/action/component/tooltip/geometry.ts","webpack://frontend/../../../../../src/interaction/action/component/tooltip/sibling.ts","webpack://frontend/../../../../../src/interaction/action/component/tooltip/ellipsis-text.ts","webpack://frontend/../../../../src/interaction/action/element/state-base.ts","webpack://frontend/../../../../src/interaction/action/element/state.ts","webpack://frontend/../../../../src/interaction/action/element/active.ts","webpack://frontend/../../../../src/interaction/action/element/link-by-color.ts","webpack://frontend/../../../../src/interaction/action/element/range-state.ts","webpack://frontend/../../../../src/interaction/action/element/range-active.ts","webpack://frontend/../../../../src/interaction/action/element/single-state.ts","webpack://frontend/../../../../src/interaction/action/element/single-active.ts","webpack://frontend/../../../../src/interaction/action/element/highlight-util.ts","webpack://frontend/../../../../src/interaction/action/element/highlight.ts","webpack://frontend/../../../../src/interaction/action/element/range-highlight.ts","webpack://frontend/../../../../src/interaction/action/element/highlight-by-color.ts","webpack://frontend/../../../../src/interaction/action/element/highlight-by-x.ts","webpack://frontend/../../../../src/interaction/action/element/single-highlight.ts","webpack://frontend/../../../../src/interaction/action/element/range-selected.ts","webpack://frontend/../../../../src/interaction/action/element/selected.ts","webpack://frontend/../../../../src/interaction/action/element/single-selected.ts","webpack://frontend/../../../../src/interaction/action/component/list-state.ts","webpack://frontend/../../../../src/interaction/action/component/list-active.ts","webpack://frontend/../../../../src/interaction/action/component/list-highlight-util.ts","webpack://frontend/../../../../src/interaction/action/component/list-highlight.ts","webpack://frontend/../../../../src/interaction/action/component/list-selected.ts","webpack://frontend/../../../../src/interaction/action/component/list-unchecked.ts","webpack://frontend/../../../../src/interaction/action/component/list-checked.ts","webpack://frontend/../../../../src/interaction/action/component/list-focus.ts","webpack://frontend/../../../../src/interaction/action/component/list-radio.ts","webpack://frontend/../../../../src/interaction/action/mask/base.ts","webpack://frontend/../../../../src/interaction/action/mask/circle.ts","webpack://frontend/../../../../src/interaction/action/mask/rect.ts","webpack://frontend/../../../../src/interaction/action/mask/dim-rect.ts","webpack://frontend/../../../../src/interaction/action/data/range-filter.ts","webpack://frontend/../../../../src/interaction/action/mask/path.ts","webpack://frontend/../../../../src/interaction/action/mask/smooth-path.ts","webpack://frontend/../../../src/interaction/action/cursor.ts","webpack://frontend/../../../../src/interaction/action/data/filter.ts","webpack://frontend/../../../../src/interaction/action/data/sibling-filter.ts","webpack://frontend/../../../../src/interaction/action/element/filter.ts","webpack://frontend/../../../../src/interaction/action/element/sibling-filter.ts","webpack://frontend/../../../../src/interaction/action/view/button.ts","webpack://frontend/../../../../src/interaction/action/view/drag.ts","webpack://frontend/../../../../src/interaction/action/view/move.ts","webpack://frontend/../../../../src/interaction/action/view/scale-transform.ts","webpack://frontend/../../../../src/interaction/action/view/scale-translate.ts","webpack://frontend/../../../../src/interaction/action/view/scale-zoom.ts","webpack://frontend/../../../../src/interaction/action/view/mousewheel-scroll.ts","webpack://frontend/../../src/utils/invariant.ts","webpack://frontend/../../../../../src/interaction/action/component/axis/axis-description.ts","webpack://frontend/../../src/utils/flow.ts","webpack://frontend/../../src/utils/pick.ts","webpack://frontend/../../src/utils/template.ts","webpack://frontend/../../src/utils/dom.ts","webpack://frontend/../../src/utils/geometry.ts","webpack://frontend/../../src/utils/view.ts","webpack://frontend/../../src/utils/label.ts","webpack://frontend/../../src/utils/path.ts","webpack://frontend/../../src/utils/deep-assign.ts","webpack://frontend/../../src/utils/kebab-case.ts","webpack://frontend/../../src/utils/statistic.ts","webpack://frontend/../../src/utils/context.ts","webpack://frontend/../../src/utils/measure-text.ts","webpack://frontend/../../src/utils/number.ts","webpack://frontend/../../src/utils/data.ts","webpack://frontend/../../src/utils/padding.ts","webpack://frontend/../../src/core/global.ts","webpack://frontend/../../src/core/locale.ts","webpack://frontend/../../src/locales/en_US.ts","webpack://frontend/../../src/locales/zh_CN.ts","webpack://frontend/../../src/core/plot.ts","webpack://frontend/../../../src/utils/pattern/util.ts","webpack://frontend/../../../src/utils/pattern/dot.ts","webpack://frontend/../../../src/utils/pattern/line.ts","webpack://frontend/../../../src/utils/pattern/square.ts","webpack://frontend/../../../src/utils/pattern/index.ts","webpack://frontend/../../src/adaptor/pattern.ts","webpack://frontend/../../src/adaptor/common.ts","webpack://frontend/../../src/utils/tooltip.ts","webpack://frontend/../../../src/adaptor/geometries/base.ts","webpack://frontend/../../../src/adaptor/geometries/area.ts","webpack://frontend/../../../src/adaptor/geometries/line.ts","webpack://frontend/../../../src/adaptor/geometries/point.ts","webpack://frontend/../../../src/adaptor/geometries/interval.ts","webpack://frontend/../../../src/adaptor/geometries/polygon.ts","webpack://frontend/../../../src/adaptor/geometries/edge.ts","webpack://frontend/../../../src/adaptor/geometries/schema.ts","webpack://frontend/../../../src/adaptor/geometries/violin.ts","webpack://frontend/../../../src/plots/line/adaptor.ts","webpack://frontend/../../../src/plots/line/constants.ts","webpack://frontend/../../../../src/plots/line/interactions/marker-active.ts","webpack://frontend/../../../../src/plots/line/interactions/index.ts","webpack://frontend/../../../src/plots/line/index.ts","webpack://frontend/../../../src/utils/transform/percent.ts","webpack://frontend/../../../src/plots/area/adaptor.ts","webpack://frontend/../../../src/plots/area/constants.ts","webpack://frontend/../../../src/plots/area/index.ts","webpack://frontend/../../src/utils/conversion.ts","webpack://frontend/../../src/adaptor/conversion-tag.ts","webpack://frontend/../../src/adaptor/connected-area.ts","webpack://frontend/../../../src/interactions/actions/reset-button.ts","webpack://frontend/../../src/interactions/brush.ts","webpack://frontend/../../src/adaptor/brush.ts","webpack://frontend/../../../src/plots/column/adaptor.ts","webpack://frontend/../../../src/plots/column/constants.ts","webpack://frontend/../../../src/plots/column/index.ts","webpack://frontend/../../../src/plots/bar/adaptor.ts","webpack://frontend/../../../src/plots/bar/constants.ts","webpack://frontend/../../../src/plots/bar/index.ts","webpack://frontend/../../../src/plots/pie/contants.ts","webpack://frontend/../../../src/plots/pie/utils.ts","webpack://frontend/../../src/utils/matrix.ts","webpack://frontend/../../../../../src/plots/pie/interactions/actions/legend-active.ts","webpack://frontend/../../../../src/plots/pie/interactions/util.ts","webpack://frontend/../../../../../src/plots/pie/interactions/actions/statistic-active.ts","webpack://frontend/../../../../src/plots/pie/interactions/index.ts","webpack://frontend/../../../src/plots/pie/adaptor.ts","webpack://frontend/../../../src/plots/pie/index.ts","webpack://frontend/../../../src/plots/rose/adaptor.ts","webpack://frontend/../../../src/plots/rose/constant.ts","webpack://frontend/../../../src/utils/transform/word-cloud.ts","webpack://frontend/../../../src/plots/rose/index.ts","webpack://frontend/../../../src/plots/word-cloud/utils.ts","webpack://frontend/../../../src/plots/word-cloud/constant.ts","webpack://frontend/../../../src/plots/word-cloud/adaptor.ts","webpack://frontend/../../../../src/plots/word-cloud/shapes/word-cloud.ts","webpack://frontend/../../../src/plots/word-cloud/index.ts","webpack://frontend/../../../src/plots/scatter/util.ts","webpack://frontend/../../../src/plots/scatter/adaptor.ts","webpack://frontend/../../../src/plots/scatter/constant.ts","webpack://frontend/../../src/interactions/drag-move.ts","webpack://frontend/../../../src/plots/scatter/index.ts","webpack://frontend/../../../src/plots/radar/adaptor.ts","webpack://frontend/../../../../src/plots/radar/interactions/radar-tooltip-action.ts","webpack://frontend/../../../../src/plots/radar/interactions/index.ts","webpack://frontend/../../../src/plots/radar/index.ts","webpack://frontend/../../../src/plots/dual-axes/types.ts","webpack://frontend/../../../src/plots/dual-axes/constant.ts","webpack://frontend/../../../../src/plots/dual-axes/util/option.ts","webpack://frontend/../../../../src/plots/dual-axes/util/legend.ts","webpack://frontend/../../../../src/plots/dual-axes/util/geometry.ts","webpack://frontend/../../../../src/plots/dual-axes/util/render-sider.ts","webpack://frontend/../../../src/plots/dual-axes/adaptor.ts","webpack://frontend/../../../src/plots/dual-axes/index.ts","webpack://frontend/../../../src/plots/tiny-line/constants.ts","webpack://frontend/../../../src/plots/tiny-line/utils.ts","webpack://frontend/../../../src/plots/tiny-area/adaptor.ts","webpack://frontend/../../../src/plots/tiny-line/adaptor.ts","webpack://frontend/../../../src/plots/tiny-line/index.ts","webpack://frontend/../../../src/plots/tiny-column/adaptor.ts","webpack://frontend/../../../src/plots/tiny-column/constants.ts","webpack://frontend/../../../src/plots/tiny-column/index.ts","webpack://frontend/../../../src/plots/tiny-area/constants.ts","webpack://frontend/../../../src/plots/tiny-area/index.ts","webpack://frontend/../../../src/utils/transform/histogram.ts","webpack://frontend/../../../src/plots/histogram/constant.ts","webpack://frontend/../../../src/plots/histogram/adaptor.ts","webpack://frontend/../../../src/plots/histogram/index.ts","webpack://frontend/../../../src/plots/progress/constants.ts","webpack://frontend/../../../src/plots/progress/utils.ts","webpack://frontend/../../../src/plots/progress/adaptor.ts","webpack://frontend/../../../src/plots/progress/index.ts","webpack://frontend/../../../src/plots/ring-progress/adaptor.ts","webpack://frontend/../../../src/plots/ring-progress/constants.ts","webpack://frontend/../../../src/plots/ring-progress/index.ts","webpack://frontend/../../../src/plots/heatmap/adaptor.ts","webpack://frontend/../../../src/plots/heatmap/constant.ts","webpack://frontend/../../../../src/plots/heatmap/shapes/circle.ts","webpack://frontend/../../../../src/plots/heatmap/shapes/square.ts","webpack://frontend/../../../src/plots/heatmap/index.ts","webpack://frontend/../../../src/plots/box/constant.ts","webpack://frontend/../../../src/plots/box/utils.ts","webpack://frontend/../../../src/plots/box/adaptor.ts","webpack://frontend/../../../src/plots/box/index.ts","webpack://frontend/../../../src/utils/transform/quantile.ts","webpack://frontend/../../../src/plots/violin/utils.ts","webpack://frontend/../../../src/plots/violin/constant.ts","webpack://frontend/../../../src/plots/violin/adaptor.ts","webpack://frontend/../../../src/plots/violin/index.ts","webpack://frontend/../../../src/utils/color/blend.ts","webpack://frontend/../../../../src/plots/venn/layout/circleintersection.ts","webpack://frontend/../../../../src/plots/venn/layout/layout.ts","webpack://frontend/../../../../src/plots/venn/layout/diagram.ts","webpack://frontend/../../../src/plots/venn/constant.ts","webpack://frontend/../../../src/plots/venn/utils.ts","webpack://frontend/../../../src/plots/venn/shape.ts","webpack://frontend/../../../src/plots/venn/label.ts","webpack://frontend/../../../../src/plots/venn/interactions/util.ts","webpack://frontend/../../../../../src/plots/venn/interactions/actions/active.ts","webpack://frontend/../../../../../src/plots/venn/interactions/actions/highlight.ts","webpack://frontend/../../../../../src/plots/venn/interactions/actions/selected.ts","webpack://frontend/../../../../src/plots/venn/interactions/index.ts","webpack://frontend/../../../src/plots/venn/adaptor.ts","webpack://frontend/../../../src/plots/venn/index.ts","webpack://frontend/../../../src/plots/stock/constant.ts","webpack://frontend/../../../src/plots/stock/utils.ts","webpack://frontend/../../../src/plots/stock/adaptor.ts","webpack://frontend/../../../src/plots/stock/index.ts","webpack://frontend/../../../src/plots/funnel/constant.ts","webpack://frontend/../../../../src/plots/funnel/geometries/common.ts","webpack://frontend/../../../../src/plots/funnel/geometries/basic.ts","webpack://frontend/../../../../src/plots/funnel/geometries/compare.ts","webpack://frontend/../../../../src/plots/funnel/geometries/facet.ts","webpack://frontend/../../../../src/plots/funnel/geometries/dynamic-height.ts","webpack://frontend/../../../src/plots/funnel/adaptor.ts","webpack://frontend/../../../src/plots/funnel/index.ts","webpack://frontend/../../../src/plots/liquid/utils.ts","webpack://frontend/../../../src/plots/liquid/adaptor.ts","webpack://frontend/../../../src/plots/liquid/constants.ts","webpack://frontend/../../../../src/plots/liquid/shapes/liquid.ts","webpack://frontend/../../../src/plots/liquid/index.ts","webpack://frontend/../../../src/plots/bullet/utils.ts","webpack://frontend/../../../src/plots/bullet/adaptor.ts","webpack://frontend/../../../src/plots/bullet/constant.ts","webpack://frontend/../../../src/utils/hierarchy/util.ts","webpack://frontend/../../../src/plots/bullet/index.ts","webpack://frontend/../../../src/plots/sunburst/constant.ts","webpack://frontend/../../../src/interactions/actions/drill-down.ts","webpack://frontend/./node_modules/d3-hierarchy/src/treemap/round.js","webpack://frontend/./node_modules/d3-hierarchy/src/treemap/dice.js","webpack://frontend/./node_modules/d3-hierarchy/src/partition.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/count.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/each.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/find.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/sum.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/sort.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/path.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/ancestors.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/descendants.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/leaves.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/links.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/iterator.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/index.js","webpack://frontend/../../../src/utils/hierarchy/partition.ts","webpack://frontend/./node_modules/d3-hierarchy/src/cluster.js","webpack://frontend/./node_modules/d3-hierarchy/src/array.js","webpack://frontend/./node_modules/d3-hierarchy/src/pack/enclose.js","webpack://frontend/./node_modules/d3-hierarchy/src/pack/siblings.js","webpack://frontend/./node_modules/d3-hierarchy/src/accessors.js","webpack://frontend/./node_modules/d3-hierarchy/src/constant.js","webpack://frontend/./node_modules/d3-hierarchy/src/pack/index.js","webpack://frontend/./node_modules/d3-hierarchy/src/stratify.js","webpack://frontend/./node_modules/d3-hierarchy/src/tree.js","webpack://frontend/./node_modules/d3-hierarchy/src/treemap/slice.js","webpack://frontend/./node_modules/d3-hierarchy/src/treemap/squarify.js","webpack://frontend/./node_modules/d3-hierarchy/src/treemap/index.js","webpack://frontend/./node_modules/d3-hierarchy/src/treemap/binary.js","webpack://frontend/./node_modules/d3-hierarchy/src/treemap/sliceDice.js","webpack://frontend/./node_modules/d3-hierarchy/src/treemap/resquarify.js","webpack://frontend/../../../src/utils/hierarchy/treemap.ts","webpack://frontend/../../../src/plots/sunburst/utils.ts","webpack://frontend/../../../src/plots/sunburst/adaptor.ts","webpack://frontend/../../src/interactions/drill-down.ts","webpack://frontend/../../../src/plots/sunburst/index.ts","webpack://frontend/../../../src/plots/gauge/constants.ts","webpack://frontend/../../../src/plots/gauge/utils.ts","webpack://frontend/../../../src/plots/gauge/adaptor.ts","webpack://frontend/../../../../src/plots/gauge/shapes/indicator.ts","webpack://frontend/../../../../src/plots/gauge/shapes/meter-gauge.ts","webpack://frontend/../../../src/plots/gauge/index.ts","webpack://frontend/../../../src/plots/waterfall/constant.ts","webpack://frontend/../../../src/plots/waterfall/utils.ts","webpack://frontend/../../../src/plots/waterfall/shape.ts","webpack://frontend/../../../src/plots/waterfall/adaptor.ts","webpack://frontend/../../../src/plots/waterfall/index.ts","webpack://frontend/../../../src/plots/radial-bar/utils.ts","webpack://frontend/../../../src/plots/radial-bar/adaptor.ts","webpack://frontend/../../../src/plots/radial-bar/constant.ts","webpack://frontend/../../../src/plots/bidirectional-bar/constant.ts","webpack://frontend/../../../src/plots/radial-bar/index.ts","webpack://frontend/../../../src/plots/bidirectional-bar/utils.ts","webpack://frontend/../../../src/plots/bidirectional-bar/adaptor.ts","webpack://frontend/../../../src/plots/bidirectional-bar/index.ts","webpack://frontend/../../../src/plots/treemap/utils.ts","webpack://frontend/../../../src/plots/treemap/adaptor.ts","webpack://frontend/../../../src/plots/treemap/constant.ts","webpack://frontend/../../../src/plots/treemap/index.ts","webpack://frontend/../../../../src/plots/sankey/sankey/align.ts","webpack://frontend/../../../../src/plots/sankey/sankey/helper.ts","webpack://frontend/../../../../src/plots/sankey/sankey/sankey.ts","webpack://frontend/../../../src/plots/sankey/layout.ts","webpack://frontend/../../../src/plots/sankey/circle.ts","webpack://frontend/../../../src/plots/sankey/helper.ts","webpack://frontend/../../../src/plots/sankey/constant.ts","webpack://frontend/../../../src/plots/sankey/adaptor.ts","webpack://frontend/../../../../../src/plots/sankey/interactions/actions/node-drag.ts","webpack://frontend/../../../../src/plots/sankey/interactions/node-draggable.ts","webpack://frontend/../../../src/plots/sankey/index.ts","webpack://frontend/../../../src/utils/transform/chord.ts","webpack://frontend/../../../src/plots/chord/constant.ts","webpack://frontend/../../../src/plots/chord/adaptor.ts","webpack://frontend/../../../src/plots/chord/index.ts","webpack://frontend/../../../src/utils/hierarchy/pack.ts","webpack://frontend/../../../src/plots/circle-packing/utils.ts","webpack://frontend/../../../src/plots/circle-packing/constant.ts","webpack://frontend/../../../src/plots/circle-packing/adaptor.ts","webpack://frontend/../../../src/plots/circle-packing/index.ts","webpack://frontend/../../src/plugin/index.ts","webpack://frontend/../../../src/plots/mix/utils.ts","webpack://frontend/../../../src/plots/mix/adaptor.ts","webpack://frontend/../../../../src/plots/mix/interactions/utils.ts","webpack://frontend/../../../../src/plots/mix/interactions/association.ts","webpack://frontend/../../../src/plots/mix/index.ts","webpack://frontend/../../../src/plots/facet/utils.ts","webpack://frontend/../../../src/plots/facet/adaptor.ts","webpack://frontend/../../../src/plots/facet/constant.ts","webpack://frontend/../src/lab.ts","webpack://frontend/../../../src/plots/facet/index.ts","webpack://frontend/./src/views/DashboardView.vue?7280"],"sourcesContent":["// https://github.com/HarryStevens/d3-regression#readme Version 1.3.10. Copyright 2022 Harry Stevens.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = global || self, factory(global.d3 = {}));\n}(this, (function (exports) { 'use strict';\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n\n  // Adapted from vega-statistics by Jeffrey Heer\n  // License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n  // Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/points.js\n  function points(data, x, y, sort) {\n    data = data.filter(function (d, i) {\n      var u = x(d, i),\n          v = y(d, i);\n      return u != null && isFinite(u) && v != null && isFinite(v);\n    });\n\n    if (sort) {\n      data.sort(function (a, b) {\n        return x(a) - x(b);\n      });\n    }\n\n    var n = data.length,\n        X = new Float64Array(n),\n        Y = new Float64Array(n); // extract values, calculate means\n\n    var ux = 0,\n        uy = 0,\n        xv,\n        yv,\n        d;\n\n    for (var i = 0; i < n;) {\n      d = data[i];\n      X[i] = xv = +x(d, i, data);\n      Y[i] = yv = +y(d, i, data);\n      ++i;\n      ux += (xv - ux) / i;\n      uy += (yv - uy) / i;\n    } // mean center the data\n\n\n    for (var _i = 0; _i < n; ++_i) {\n      X[_i] -= ux;\n      Y[_i] -= uy;\n    }\n\n    return [X, Y, ux, uy];\n  }\n  function visitPoints(data, x, y, cb) {\n    var iterations = 0;\n\n    for (var i = 0, n = data.length; i < n; i++) {\n      var d = data[i],\n          dx = +x(d, i, data),\n          dy = +y(d, i, data);\n\n      if (dx != null && isFinite(dx) && dy != null && isFinite(dy)) {\n        cb(dx, dy, iterations++);\n      }\n    }\n  }\n\n  // return the coefficient of determination, or R squared.\n\n  function determination(data, x, y, uY, predict) {\n    var SSE = 0,\n        SST = 0;\n    visitPoints(data, x, y, function (dx, dy) {\n      var sse = dy - predict(dx),\n          sst = dy - uY;\n      SSE += sse * sse;\n      SST += sst * sst;\n    });\n    return 1 - SSE / SST;\n  }\n\n  // Returns the angle of a line in degrees.\n  function angle(line) {\n    return Math.atan2(line[1][1] - line[0][1], line[1][0] - line[0][0]) * 180 / Math.PI;\n  } // Returns the midpoint of a line.\n\n  function midpoint(line) {\n    return [(line[0][0] + line[1][0]) / 2, (line[0][1] + line[1][1]) / 2];\n  }\n\n  // returns a smooth line.\n\n  function interpose(xmin, xmax, predict) {\n    var l = Math.log(xmax - xmin) * Math.LOG10E + 1 | 0;\n    var precision = 1 * Math.pow(10, -l / 2 - 1),\n        maxIter = 1e4;\n    var points = [px(xmin), px(xmax)],\n        iter = 0;\n\n    while (find(points) && iter < maxIter) {\n    }\n\n    return points;\n\n    function px(x) {\n      return [x, predict(x)];\n    }\n\n    function find(points) {\n      iter++;\n      var n = points.length;\n      var found = false;\n\n      for (var i = 0; i < n - 1; i++) {\n        var p0 = points[i],\n            p1 = points[i + 1],\n            m = midpoint([p0, p1]),\n            mp = px(m[0]),\n            a0 = angle([p0, m]),\n            a1 = angle([p0, mp]),\n            a = Math.abs(a0 - a1);\n\n        if (a > precision) {\n          points.splice(i + 1, 0, mp);\n          found = true;\n        }\n      }\n\n      return found;\n    }\n  }\n\n  // Ordinary Least Squares from vega-statistics by Jeffrey Heer\n  // License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n  // Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/ols.js\n  function ols(uX, uY, uXY, uX2) {\n    var delta = uX2 - uX * uX,\n        slope = Math.abs(delta) < 1e-24 ? 0 : (uXY - uX * uY) / delta,\n        intercept = uY - slope * uX;\n    return [intercept, slope];\n  }\n\n  function exponential () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function exponential(data) {\n      var n = 0,\n          Y = 0,\n          YL = 0,\n          XY = 0,\n          XYL = 0,\n          X2Y = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        var ly = Math.log(dy),\n            xy = dx * dy;\n        ++n;\n        Y += (dy - Y) / n;\n        XY += (xy - XY) / n;\n        X2Y += (dx * xy - X2Y) / n;\n        YL += (dy * ly - YL) / n;\n        XYL += (xy * ly - XYL) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(XY / Y, YL / Y, XYL / Y, X2Y / Y),\n          _ols2 = _slicedToArray(_ols, 2),\n          a = _ols2[0],\n          b = _ols2[1];\n\n      a = Math.exp(a);\n\n      var fn = function fn(x) {\n        return a * Math.exp(b * x);\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.a = a;\n      out.b = b;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    exponential.domain = function (arr) {\n      return arguments.length ? (domain = arr, exponential) : domain;\n    };\n\n    exponential.x = function (fn) {\n      return arguments.length ? (x = fn, exponential) : x;\n    };\n\n    exponential.y = function (fn) {\n      return arguments.length ? (y = fn, exponential) : y;\n    };\n\n    return exponential;\n  }\n\n  function linear () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function linear(data) {\n      var n = 0,\n          X = 0,\n          // sum of x\n      Y = 0,\n          // sum of y\n      XY = 0,\n          // sum of x * y\n      X2 = 0,\n          // sum of x * x\n      xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        ++n;\n        X += (dx - X) / n;\n        Y += (dy - Y) / n;\n        XY += (dx * dy - XY) / n;\n        X2 += (dx * dx - X2) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(X, Y, XY, X2),\n          _ols2 = _slicedToArray(_ols, 2),\n          intercept = _ols2[0],\n          slope = _ols2[1],\n          fn = function fn(x) {\n        return slope * x + intercept;\n      },\n          out = [[xmin, fn(xmin)], [xmax, fn(xmax)]];\n\n      out.a = slope;\n      out.b = intercept;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    linear.domain = function (arr) {\n      return arguments.length ? (domain = arr, linear) : domain;\n    };\n\n    linear.x = function (fn) {\n      return arguments.length ? (x = fn, linear) : x;\n    };\n\n    linear.y = function (fn) {\n      return arguments.length ? (y = fn, linear) : y;\n    };\n\n    return linear;\n  }\n\n  // Returns the medium value of an array of numbers.\n  function median(arr) {\n    arr.sort(function (a, b) {\n      return a - b;\n    });\n    var i = arr.length / 2;\n    return i % 1 === 0 ? (arr[i - 1] + arr[i]) / 2 : arr[Math.floor(i)];\n  }\n\n  var maxiters = 2,\n      epsilon = 1e-12;\n  function loess () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        bandwidth = .3;\n\n    function loess(data) {\n      var _points = points(data, x, y, true),\n          _points2 = _slicedToArray(_points, 4),\n          xv = _points2[0],\n          yv = _points2[1],\n          ux = _points2[2],\n          uy = _points2[3],\n          n = xv.length,\n          bw = Math.max(2, ~~(bandwidth * n)),\n          yhat = new Float64Array(n),\n          residuals = new Float64Array(n),\n          robustWeights = new Float64Array(n).fill(1);\n\n      for (var iter = -1; ++iter <= maxiters;) {\n        var interval = [0, bw - 1];\n\n        for (var i = 0; i < n; ++i) {\n          var dx = xv[i],\n              i0 = interval[0],\n              i1 = interval[1],\n              edge = dx - xv[i0] > xv[i1] - dx ? i0 : i1;\n          var W = 0,\n              X = 0,\n              Y = 0,\n              XY = 0,\n              X2 = 0,\n              denom = 1 / Math.abs(xv[edge] - dx || 1); // Avoid singularity\n\n          for (var k = i0; k <= i1; ++k) {\n            var xk = xv[k],\n                yk = yv[k],\n                w = tricube(Math.abs(dx - xk) * denom) * robustWeights[k],\n                xkw = xk * w;\n            W += w;\n            X += xkw;\n            Y += yk * w;\n            XY += yk * xkw;\n            X2 += xk * xkw;\n          } // Linear regression fit\n\n\n          var _ols = ols(X / W, Y / W, XY / W, X2 / W),\n              _ols2 = _slicedToArray(_ols, 2),\n              a = _ols2[0],\n              b = _ols2[1];\n\n          yhat[i] = a + b * dx;\n          residuals[i] = Math.abs(yv[i] - yhat[i]);\n          updateInterval(xv, i + 1, interval);\n        }\n\n        if (iter === maxiters) {\n          break;\n        }\n\n        var medianResidual = median(residuals);\n        if (Math.abs(medianResidual) < epsilon) break;\n\n        for (var _i = 0, arg, _w; _i < n; ++_i) {\n          arg = residuals[_i] / (6 * medianResidual); // Default to epsilon (rather than zero) for large deviations\n          // Keeping weights tiny but non-zero prevents singularites\n\n          robustWeights[_i] = arg >= 1 ? epsilon : (_w = 1 - arg * arg) * _w;\n        }\n      }\n\n      return output(xv, yhat, ux, uy);\n    }\n\n    loess.bandwidth = function (bw) {\n      return arguments.length ? (bandwidth = bw, loess) : bandwidth;\n    };\n\n    loess.x = function (fn) {\n      return arguments.length ? (x = fn, loess) : x;\n    };\n\n    loess.y = function (fn) {\n      return arguments.length ? (y = fn, loess) : y;\n    };\n\n    return loess;\n  } // Weighting kernel for local regression\n\n  function tricube(x) {\n    return (x = 1 - x * x * x) * x * x;\n  } // Advance sliding window interval of nearest neighbors\n\n\n  function updateInterval(xv, i, interval) {\n    var val = xv[i],\n        left = interval[0],\n        right = interval[1] + 1;\n    if (right >= xv.length) return; // Step right if distance to new right edge is <= distance to old left edge\n    // Step when distance is equal to ensure movement over duplicate x values\n\n    while (i > left && xv[right] - val <= val - xv[left]) {\n      interval[0] = ++left;\n      interval[1] = right;\n      ++right;\n    }\n  } // Generate smoothed output points\n  // Average points with repeated x values\n\n\n  function output(xv, yhat, ux, uy) {\n    var n = xv.length,\n        out = [];\n    var i = 0,\n        cnt = 0,\n        prev = [],\n        v;\n\n    for (; i < n; ++i) {\n      v = xv[i] + ux;\n\n      if (prev[0] === v) {\n        // Average output values via online update\n        prev[1] += (yhat[i] - prev[1]) / ++cnt;\n      } else {\n        // Add new output point\n        cnt = 0;\n        prev[1] += uy;\n        prev = [v, yhat[i]];\n        out.push(prev);\n      }\n    }\n\n    prev[1] += uy;\n    return out;\n  }\n\n  function logarithmic () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        base = Math.E,\n        domain;\n\n    function logarithmic(data) {\n      var n = 0,\n          X = 0,\n          Y = 0,\n          XY = 0,\n          X2 = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity,\n          lb = Math.log(base);\n      visitPoints(data, x, y, function (dx, dy) {\n        var lx = Math.log(dx) / lb;\n        ++n;\n        X += (lx - X) / n;\n        Y += (dy - Y) / n;\n        XY += (lx * dy - XY) / n;\n        X2 += (lx * lx - X2) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(X, Y, XY, X2),\n          _ols2 = _slicedToArray(_ols, 2),\n          intercept = _ols2[0],\n          slope = _ols2[1],\n          fn = function fn(x) {\n        return slope * Math.log(x) / lb + intercept;\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.a = slope;\n      out.b = intercept;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    logarithmic.domain = function (arr) {\n      return arguments.length ? (domain = arr, logarithmic) : domain;\n    };\n\n    logarithmic.x = function (fn) {\n      return arguments.length ? (x = fn, logarithmic) : x;\n    };\n\n    logarithmic.y = function (fn) {\n      return arguments.length ? (y = fn, logarithmic) : y;\n    };\n\n    logarithmic.base = function (n) {\n      return arguments.length ? (base = n, logarithmic) : base;\n    };\n\n    return logarithmic;\n  }\n\n  function quad () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function quadratic(data) {\n      var _points = points(data, x, y),\n          _points2 = _slicedToArray(_points, 4),\n          xv = _points2[0],\n          yv = _points2[1],\n          ux = _points2[2],\n          uy = _points2[3],\n          n = xv.length;\n\n      var X2 = 0,\n          X3 = 0,\n          X4 = 0,\n          XY = 0,\n          X2Y = 0,\n          i,\n          dx,\n          dy,\n          x2;\n\n      for (i = 0; i < n;) {\n        dx = xv[i];\n        dy = yv[i++];\n        x2 = dx * dx;\n        X2 += (x2 - X2) / i;\n        X3 += (x2 * dx - X3) / i;\n        X4 += (x2 * x2 - X4) / i;\n        XY += (dx * dy - XY) / i;\n        X2Y += (x2 * dy - X2Y) / i;\n      }\n\n      var Y = 0,\n          n0 = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        n0++;\n        Y += (dy - Y) / n0;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var X2X2 = X4 - X2 * X2,\n          d = X2 * X2X2 - X3 * X3,\n          a = (X2Y * X2 - XY * X3) / d,\n          b = (XY * X2X2 - X2Y * X3) / d,\n          c = -a * X2,\n          fn = function fn(x) {\n        x = x - ux;\n        return a * x * x + b * x + c + uy;\n      };\n\n      var out = interpose(xmin, xmax, fn);\n      out.a = a;\n      out.b = b - 2 * a * ux;\n      out.c = c - b * ux + a * ux * ux + uy;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    quadratic.domain = function (arr) {\n      return arguments.length ? (domain = arr, quadratic) : domain;\n    };\n\n    quadratic.x = function (fn) {\n      return arguments.length ? (x = fn, quadratic) : x;\n    };\n\n    quadratic.y = function (fn) {\n      return arguments.length ? (y = fn, quadratic) : y;\n    };\n\n    return quadratic;\n  }\n\n  // Source: https://github.com/Tom-Alexander/regression-js/blob/master/src/regression.js#L246\n  // License: https://github.com/Tom-Alexander/regression-js/blob/master/LICENSE\n  // ...with ideas from vega-statistics by Jeffrey Heer\n  // Source: https://github.com/vega/vega/blob/f21cb8792b4e0cbe2b1a3fd44b0f5db370dbaadb/packages/vega-statistics/src/regression/poly.js\n  // License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n\n  function polynomial () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        order = 3,\n        domain;\n\n    function polynomial(data) {\n      // Use more efficient methods for lower orders\n      if (order === 1) {\n        var o = linear().x(x).y(y).domain(domain)(data);\n        o.coefficients = [o.b, o.a];\n        delete o.a;\n        delete o.b;\n        return o;\n      }\n\n      if (order === 2) {\n        var _o = quad().x(x).y(y).domain(domain)(data);\n\n        _o.coefficients = [_o.c, _o.b, _o.a];\n        delete _o.a;\n        delete _o.b;\n        delete _o.c;\n        return _o;\n      }\n\n      var _points = points(data, x, y),\n          _points2 = _slicedToArray(_points, 4),\n          xv = _points2[0],\n          yv = _points2[1],\n          ux = _points2[2],\n          uy = _points2[3],\n          n = xv.length,\n          lhs = [],\n          rhs = [],\n          k = order + 1;\n\n      var Y = 0,\n          n0 = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        ++n0;\n        Y += (dy - Y) / n0;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n      var i, j, l, v, c;\n\n      for (i = 0; i < k; ++i) {\n        for (l = 0, v = 0; l < n; ++l) {\n          v += Math.pow(xv[l], i) * yv[l];\n        }\n\n        lhs.push(v);\n        c = new Float64Array(k);\n\n        for (j = 0; j < k; ++j) {\n          for (l = 0, v = 0; l < n; ++l) {\n            v += Math.pow(xv[l], i + j);\n          }\n\n          c[j] = v;\n        }\n\n        rhs.push(c);\n      }\n\n      rhs.push(lhs);\n\n      var coef = gaussianElimination(rhs),\n          fn = function fn(x) {\n        x -= ux;\n        var y = uy + coef[0] + coef[1] * x + coef[2] * x * x;\n\n        for (i = 3; i < k; ++i) {\n          y += coef[i] * Math.pow(x, i);\n        }\n\n        return y;\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.coefficients = uncenter(k, coef, -ux, uy);\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    polynomial.domain = function (arr) {\n      return arguments.length ? (domain = arr, polynomial) : domain;\n    };\n\n    polynomial.x = function (fn) {\n      return arguments.length ? (x = fn, polynomial) : x;\n    };\n\n    polynomial.y = function (fn) {\n      return arguments.length ? (y = fn, polynomial) : y;\n    };\n\n    polynomial.order = function (n) {\n      return arguments.length ? (order = n, polynomial) : order;\n    };\n\n    return polynomial;\n  }\n\n  function uncenter(k, a, x, y) {\n    var z = Array(k);\n    var i, j, v, c; // initialize to zero\n\n    for (i = 0; i < k; ++i) {\n      z[i] = 0;\n    } // polynomial expansion\n\n\n    for (i = k - 1; i >= 0; --i) {\n      v = a[i];\n      c = 1;\n      z[i] += v;\n\n      for (j = 1; j <= i; ++j) {\n        c *= (i + 1 - j) / j; // binomial coefficent\n\n        z[i - j] += v * Math.pow(x, j) * c;\n      }\n    } // bias term\n\n\n    z[0] += y;\n    return z;\n  } // Given an array for a two-dimensional matrix and the polynomial order,\n  // solve A * x = b using Gaussian elimination.\n\n\n  function gaussianElimination(matrix) {\n    var n = matrix.length - 1,\n        coef = [];\n    var i, j, k, r, t;\n\n    for (i = 0; i < n; ++i) {\n      r = i; // max row\n\n      for (j = i + 1; j < n; ++j) {\n        if (Math.abs(matrix[i][j]) > Math.abs(matrix[i][r])) {\n          r = j;\n        }\n      }\n\n      for (k = i; k < n + 1; ++k) {\n        t = matrix[k][i];\n        matrix[k][i] = matrix[k][r];\n        matrix[k][r] = t;\n      }\n\n      for (j = i + 1; j < n; ++j) {\n        for (k = n; k >= i; k--) {\n          matrix[k][j] -= matrix[k][i] * matrix[i][j] / matrix[i][i];\n        }\n      }\n    }\n\n    for (j = n - 1; j >= 0; --j) {\n      t = 0;\n\n      for (k = j + 1; k < n; ++k) {\n        t += matrix[k][j] * coef[k];\n      }\n\n      coef[j] = (matrix[n][j] - t) / matrix[j][j];\n    }\n\n    return coef;\n  }\n\n  function power () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function power(data) {\n      var n = 0,\n          X = 0,\n          Y = 0,\n          XY = 0,\n          X2 = 0,\n          YS = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        var lx = Math.log(dx),\n            ly = Math.log(dy);\n        ++n;\n        X += (lx - X) / n;\n        Y += (ly - Y) / n;\n        XY += (lx * ly - XY) / n;\n        X2 += (lx * lx - X2) / n;\n        YS += (dy - YS) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(X, Y, XY, X2),\n          _ols2 = _slicedToArray(_ols, 2),\n          a = _ols2[0],\n          b = _ols2[1];\n\n      a = Math.exp(a);\n\n      var fn = function fn(x) {\n        return a * Math.pow(x, b);\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.a = a;\n      out.b = b;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, YS, fn);\n      return out;\n    }\n\n    power.domain = function (arr) {\n      return arguments.length ? (domain = arr, power) : domain;\n    };\n\n    power.x = function (fn) {\n      return arguments.length ? (x = fn, power) : x;\n    };\n\n    power.y = function (fn) {\n      return arguments.length ? (y = fn, power) : y;\n    };\n\n    return power;\n  }\n\n  exports.regressionExp = exponential;\n  exports.regressionLinear = linear;\n  exports.regressionLoess = loess;\n  exports.regressionLog = logarithmic;\n  exports.regressionPoly = polynomial;\n  exports.regressionPow = power;\n  exports.regressionQuad = quad;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (factory((global.fmin = global.fmin || {})));\n}(this, function (exports) { 'use strict';\n\n    /** finds the zeros of a function, given two starting points (which must\n     * have opposite signs */\n    function bisect(f, a, b, parameters) {\n        parameters = parameters || {};\n        var maxIterations = parameters.maxIterations || 100,\n            tolerance = parameters.tolerance || 1e-10,\n            fA = f(a),\n            fB = f(b),\n            delta = b - a;\n\n        if (fA * fB > 0) {\n            throw \"Initial bisect points must have opposite signs\";\n        }\n\n        if (fA === 0) return a;\n        if (fB === 0) return b;\n\n        for (var i = 0; i < maxIterations; ++i) {\n            delta /= 2;\n            var mid = a + delta,\n                fMid = f(mid);\n\n            if (fMid * fA >= 0) {\n                a = mid;\n            }\n\n            if ((Math.abs(delta) < tolerance) || (fMid === 0)) {\n                return mid;\n            }\n        }\n        return a + delta;\n    }\n\n    // need some basic operations on vectors, rather than adding a dependency,\n    // just define here\n    function zeros(x) { var r = new Array(x); for (var i = 0; i < x; ++i) { r[i] = 0; } return r; }\n    function zerosM(x,y) { return zeros(x).map(function() { return zeros(y); }); }\n\n    function dot(a, b) {\n        var ret = 0;\n        for (var i = 0; i < a.length; ++i) {\n            ret += a[i] * b[i];\n        }\n        return ret;\n    }\n\n    function norm2(a)  {\n        return Math.sqrt(dot(a, a));\n    }\n\n    function scale(ret, value, c) {\n        for (var i = 0; i < value.length; ++i) {\n            ret[i] = value[i] * c;\n        }\n    }\n\n    function weightedSum(ret, w1, v1, w2, v2) {\n        for (var j = 0; j < ret.length; ++j) {\n            ret[j] = w1 * v1[j] + w2 * v2[j];\n        }\n    }\n\n    /** minimizes a function using the downhill simplex method */\n    function nelderMead(f, x0, parameters) {\n        parameters = parameters || {};\n\n        var maxIterations = parameters.maxIterations || x0.length * 200,\n            nonZeroDelta = parameters.nonZeroDelta || 1.05,\n            zeroDelta = parameters.zeroDelta || 0.001,\n            minErrorDelta = parameters.minErrorDelta || 1e-6,\n            minTolerance = parameters.minErrorDelta || 1e-5,\n            rho = (parameters.rho !== undefined) ? parameters.rho : 1,\n            chi = (parameters.chi !== undefined) ? parameters.chi : 2,\n            psi = (parameters.psi !== undefined) ? parameters.psi : -0.5,\n            sigma = (parameters.sigma !== undefined) ? parameters.sigma : 0.5,\n            maxDiff;\n\n        // initialize simplex.\n        var N = x0.length,\n            simplex = new Array(N + 1);\n        simplex[0] = x0;\n        simplex[0].fx = f(x0);\n        simplex[0].id = 0;\n        for (var i = 0; i < N; ++i) {\n            var point = x0.slice();\n            point[i] = point[i] ? point[i] * nonZeroDelta : zeroDelta;\n            simplex[i+1] = point;\n            simplex[i+1].fx = f(point);\n            simplex[i+1].id = i+1;\n        }\n\n        function updateSimplex(value) {\n            for (var i = 0; i < value.length; i++) {\n                simplex[N][i] = value[i];\n            }\n            simplex[N].fx = value.fx;\n        }\n\n        var sortOrder = function(a, b) { return a.fx - b.fx; };\n\n        var centroid = x0.slice(),\n            reflected = x0.slice(),\n            contracted = x0.slice(),\n            expanded = x0.slice();\n\n        for (var iteration = 0; iteration < maxIterations; ++iteration) {\n            simplex.sort(sortOrder);\n\n            if (parameters.history) {\n                // copy the simplex (since later iterations will mutate) and\n                // sort it to have a consistent order between iterations\n                var sortedSimplex = simplex.map(function (x) {\n                    var state = x.slice();\n                    state.fx = x.fx;\n                    state.id = x.id;\n                    return state;\n                });\n                sortedSimplex.sort(function(a,b) { return a.id - b.id; });\n\n                parameters.history.push({x: simplex[0].slice(),\n                                         fx: simplex[0].fx,\n                                         simplex: sortedSimplex});\n            }\n\n            maxDiff = 0;\n            for (i = 0; i < N; ++i) {\n                maxDiff = Math.max(maxDiff, Math.abs(simplex[0][i] - simplex[1][i]));\n            }\n\n            if ((Math.abs(simplex[0].fx - simplex[N].fx) < minErrorDelta) &&\n                (maxDiff < minTolerance)) {\n                break;\n            }\n\n            // compute the centroid of all but the worst point in the simplex\n            for (i = 0; i < N; ++i) {\n                centroid[i] = 0;\n                for (var j = 0; j < N; ++j) {\n                    centroid[i] += simplex[j][i];\n                }\n                centroid[i] /= N;\n            }\n\n            // reflect the worst point past the centroid  and compute loss at reflected\n            // point\n            var worst = simplex[N];\n            weightedSum(reflected, 1+rho, centroid, -rho, worst);\n            reflected.fx = f(reflected);\n\n            // if the reflected point is the best seen, then possibly expand\n            if (reflected.fx < simplex[0].fx) {\n                weightedSum(expanded, 1+chi, centroid, -chi, worst);\n                expanded.fx = f(expanded);\n                if (expanded.fx < reflected.fx) {\n                    updateSimplex(expanded);\n                }  else {\n                    updateSimplex(reflected);\n                }\n            }\n\n            // if the reflected point is worse than the second worst, we need to\n            // contract\n            else if (reflected.fx >= simplex[N-1].fx) {\n                var shouldReduce = false;\n\n                if (reflected.fx > worst.fx) {\n                    // do an inside contraction\n                    weightedSum(contracted, 1+psi, centroid, -psi, worst);\n                    contracted.fx = f(contracted);\n                    if (contracted.fx < worst.fx) {\n                        updateSimplex(contracted);\n                    } else {\n                        shouldReduce = true;\n                    }\n                } else {\n                    // do an outside contraction\n                    weightedSum(contracted, 1-psi * rho, centroid, psi*rho, worst);\n                    contracted.fx = f(contracted);\n                    if (contracted.fx < reflected.fx) {\n                        updateSimplex(contracted);\n                    } else {\n                        shouldReduce = true;\n                    }\n                }\n\n                if (shouldReduce) {\n                    // if we don't contract here, we're done\n                    if (sigma >= 1) break;\n\n                    // do a reduction\n                    for (i = 1; i < simplex.length; ++i) {\n                        weightedSum(simplex[i], 1 - sigma, simplex[0], sigma, simplex[i]);\n                        simplex[i].fx = f(simplex[i]);\n                    }\n                }\n            } else {\n                updateSimplex(reflected);\n            }\n        }\n\n        simplex.sort(sortOrder);\n        return {fx : simplex[0].fx,\n                x : simplex[0]};\n    }\n\n    /// searches along line 'pk' for a point that satifies the wolfe conditions\n    /// See 'Numerical Optimization' by Nocedal and Wright p59-60\n    /// f : objective function\n    /// pk : search direction\n    /// current: object containing current gradient/loss\n    /// next: output: contains next gradient/loss\n    /// returns a: step size taken\n    function wolfeLineSearch(f, pk, current, next, a, c1, c2) {\n        var phi0 = current.fx, phiPrime0 = dot(current.fxprime, pk),\n            phi = phi0, phi_old = phi0,\n            phiPrime = phiPrime0,\n            a0 = 0;\n\n        a = a || 1;\n        c1 = c1 || 1e-6;\n        c2 = c2 || 0.1;\n\n        function zoom(a_lo, a_high, phi_lo) {\n            for (var iteration = 0; iteration < 16; ++iteration) {\n                a = (a_lo + a_high)/2;\n                weightedSum(next.x, 1.0, current.x, a, pk);\n                phi = next.fx = f(next.x, next.fxprime);\n                phiPrime = dot(next.fxprime, pk);\n\n                if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                    (phi >= phi_lo)) {\n                    a_high = a;\n\n                } else  {\n                    if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                        return a;\n                    }\n\n                    if (phiPrime * (a_high - a_lo) >=0) {\n                        a_high = a_lo;\n                    }\n\n                    a_lo = a;\n                    phi_lo = phi;\n                }\n            }\n\n            return 0;\n        }\n\n        for (var iteration = 0; iteration < 10; ++iteration) {\n            weightedSum(next.x, 1.0, current.x, a, pk);\n            phi = next.fx = f(next.x, next.fxprime);\n            phiPrime = dot(next.fxprime, pk);\n            if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                (iteration && (phi >= phi_old))) {\n                return zoom(a0, a, phi_old);\n            }\n\n            if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                return a;\n            }\n\n            if (phiPrime >= 0 ) {\n                return zoom(a, a0, phi);\n            }\n\n            phi_old = phi;\n            a0 = a;\n            a *= 2;\n        }\n\n        return a;\n    }\n\n    function conjugateGradient(f, initial, params) {\n        // allocate all memory up front here, keep out of the loop for perfomance\n        // reasons\n        var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            yk = initial.slice(),\n            pk, temp,\n            a = 1,\n            maxIterations;\n\n        params = params || {};\n        maxIterations = params.maxIterations || initial.length * 20;\n\n        current.fx = f(current.x, current.fxprime);\n        pk = current.fxprime.slice();\n        scale(pk, current.fxprime,-1);\n\n        for (var i = 0; i < maxIterations; ++i) {\n            a = wolfeLineSearch(f, pk, current, next, a);\n\n            // todo: history in wrong spot?\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice(),\n                                     alpha: a});\n            }\n\n            if (!a) {\n                // faiiled to find point that satifies wolfe conditions.\n                // reset direction for next iteration\n                scale(pk, current.fxprime, -1);\n\n            } else {\n                // update direction using PolakRibiere CG method\n                weightedSum(yk, 1, next.fxprime, -1, current.fxprime);\n\n                var delta_k = dot(current.fxprime, current.fxprime),\n                    beta_k = Math.max(0, dot(yk, next.fxprime) / delta_k);\n\n                weightedSum(pk, beta_k, pk, -1, next.fxprime);\n\n                temp = current;\n                current = next;\n                next = temp;\n            }\n\n            if (norm2(current.fxprime) <= 1e-5) {\n                break;\n            }\n        }\n\n        if (params.history) {\n            params.history.push({x: current.x.slice(),\n                                 fx: current.fx,\n                                 fxprime: current.fxprime.slice(),\n                                 alpha: a});\n        }\n\n        return current;\n    }\n\n    function gradientDescent(f, initial, params) {\n        params = params || {};\n        var maxIterations = params.maxIterations || initial.length * 100,\n            learnRate = params.learnRate || 0.001,\n            current = {x: initial.slice(), fx: 0, fxprime: initial.slice()};\n\n        for (var i = 0; i < maxIterations; ++i) {\n            current.fx = f(current.x, current.fxprime);\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice()});\n            }\n\n            weightedSum(current.x, 1, current.x, -learnRate, current.fxprime);\n            if (norm2(current.fxprime) <= 1e-5) {\n                break;\n            }\n        }\n\n        return current;\n    }\n\n    function gradientDescentLineSearch(f, initial, params) {\n        params = params || {};\n        var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            maxIterations = params.maxIterations || initial.length * 100,\n            learnRate = params.learnRate || 1,\n            pk = initial.slice(),\n            c1 = params.c1 || 1e-3,\n            c2 = params.c2 || 0.1,\n            temp,\n            functionCalls = [];\n\n        if (params.history) {\n            // wrap the function call to track linesearch samples\n            var inner = f;\n            f = function(x, fxprime) {\n                functionCalls.push(x.slice());\n                return inner(x, fxprime);\n            };\n        }\n\n        current.fx = f(current.x, current.fxprime);\n        for (var i = 0; i < maxIterations; ++i) {\n            scale(pk, current.fxprime, -1);\n            learnRate = wolfeLineSearch(f, pk, current, next, learnRate, c1, c2);\n\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice(),\n                                     functionCalls: functionCalls,\n                                     learnRate: learnRate,\n                                     alpha: learnRate});\n                functionCalls = [];\n            }\n\n\n            temp = current;\n            current = next;\n            next = temp;\n\n            if ((learnRate === 0) || (norm2(current.fxprime) < 1e-5)) break;\n        }\n\n        return current;\n    }\n\n    exports.bisect = bisect;\n    exports.nelderMead = nelderMead;\n    exports.conjugateGradient = conjugateGradient;\n    exports.gradientDescent = gradientDescent;\n    exports.gradientDescentLineSearch = gradientDescentLineSearch;\n    exports.zeros = zeros;\n    exports.zerosM = zerosM;\n    exports.norm2 = norm2;\n    exports.weightedSum = weightedSum;\n    exports.scale = scale;\n\n}));","'use strict';\n\nvar self = module.exports;\n\nmodule.exports.isNumber = function (x) {\n  return (typeof x === 'number');\n};\n\nmodule.exports.findMin = function (arr) {\n  if (arr.length === 0) {\n    return Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMax = function (arr) {\n  if (arr.length === 0) {\n    return -Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMinMulti = function (arr) {\n  var curr = self.findMin(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, self.findMin(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.findMaxMulti = function (arr) {\n  var curr = self.findMax(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, self.findMax(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.inside = function (min, max, x) {\n  return (min <= x) && (x <= max);\n};\n","'use strict';\n\nvar DEFAULT_SIZE = 50;\nvar DEFAULT_WIDTH = 2;\n\nvar LN_2 = Math.log(2);\nvar self = module.exports;\n\nvar helper = require('./helper');\n\n// Triangle\nfunction kernel(x) {\n  return 1 - Math.abs(x);\n}\n\n/**\n * Get min and max value for the pdf, covering all arr data range while respecting options' data\n * @param arr\n * @param options\n * @returns {*}\n */\nmodule.exports.getUnifiedMinMax = function (arr, options) {\n  return self.getUnifiedMinMaxMulti([arr], options);\n};\n\nmodule.exports.getUnifiedMinMaxMulti = function (arrMulti, options) {\n  options = options || {};\n\n  var relaxMin = false;\n  var relaxMax = false;\n\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var min = helper.isNumber(options.min) ? options.min : (relaxMin = true, helper.findMinMulti(arrMulti));\n  var max = helper.isNumber(options.max) ? options.max : (relaxMax = true, helper.findMaxMulti(arrMulti));\n\n  var range = max - min;\n  var step = range / (size - 1);\n\n  // Relax?\n  if (relaxMin) {\n    min = min - 2 * width * step;\n  }\n  if (relaxMax) {\n    max = max + 2 * width * step;\n  }\n\n  return {\n    min: min,\n    max: max\n  };\n};\n\nmodule.exports.create = function (arr, options) {\n  options = options || {};\n\n  if (!arr || (arr.length === 0)) {\n    return [];\n  }\n\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var normalizedMinMax = self.getUnifiedMinMax(arr, {\n    size: size,\n    width: width,\n    min: options.min,\n    max: options.max\n  });\n\n  var min = normalizedMinMax.min;\n  var max = normalizedMinMax.max;\n\n  var range = max - min;\n  var step = range / (size - 1);\n  if (range === 0) {\n    // Special case...\n    return [{x: min, y: 1}];\n  }\n\n  // Good to go\n\n  var buckets = [];\n  for (var i = 0; i < size; i++) {\n    buckets.push({\n      x: min + i * step,\n      y: 0\n    });\n  }\n\n  var xToBucket = function (x) {\n    return Math.floor((x - min) / step);\n  };\n\n  var partialArea = generatePartialAreas(kernel, width);\n  var fullArea = partialArea[width];\n  var c = partialArea[width-1] - partialArea[width-2];\n\n  var initalValue = 0;\n  arr.forEach(function (x) {\n    var bucket = xToBucket(x);\n\n    // Totally outside?\n    if ((bucket + width < 0) || (bucket - width >= buckets.length)) {\n      return;\n    }\n\n    var start = Math.max(bucket - width, 0);\n    var mid = bucket;\n    var end = Math.min(bucket + width, buckets.length - 1);\n\n    var leftBlockCount = start - (bucket - width);\n    var rightBlockCount = (bucket + width) - end;\n    var spilledAreaLeft = partialArea[-width-1 + leftBlockCount] || 0;\n    var spilledAreaRight = partialArea[-width-1 + rightBlockCount] || 0;\n    var weight = fullArea / (fullArea - spilledAreaLeft - spilledAreaRight);\n\n    if (leftBlockCount > 0) {\n      initalValue += weight * (leftBlockCount - 1) * c;\n    }\n\n    // Add grads\n    var startGradPos = Math.max(0, bucket-width+1);\n    if (helper.inside(0, buckets.length-1, startGradPos)) {\n      buckets[startGradPos].y += weight * 1 * c;\n    }\n    if (helper.inside(0, buckets.length-1, mid + 1)) {\n      buckets[mid + 1].y -= weight * 2 * c;\n    }\n    if (helper.inside(0, buckets.length-1, end + 1)) {\n      buckets[end + 1].y += weight * 1 * c;\n    }\n  });\n\n  var accumulator = initalValue;\n  var gradAccumulator = 0;\n  var area = 0;\n  buckets.forEach(function (bucket) {\n    gradAccumulator += bucket.y;\n    accumulator += gradAccumulator;\n\n    bucket.y = accumulator;\n    area += accumulator;\n  });\n\n  // Normalize\n  if (area > 0) {\n    buckets.forEach(function (bucket) {\n      bucket.y /= area;\n    });\n  }\n\n  return buckets;\n};\n\nfunction generatePartialAreas(kernel, width) {\n  var partialAreas = {};\n\n  var accumulator = 0;\n  for (var i = -width; i <= width; i++) {\n    accumulator += kernel(i/width);\n    partialAreas[i] = accumulator;\n  }\n\n  return partialAreas;\n}\n\nmodule.exports.getExpectedValueFromPdf = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var expected = 0;\n\n  pdf.forEach(function (obj) {\n    expected += obj.x * obj.y;\n  });\n\n  return expected;\n};\n\nmodule.exports.getXWithLeftTailArea = function (pdf, area) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var accumulator = 0;\n  var last = 0;\n  for (var i = 0; i < pdf.length; i++) {\n    last = i;\n    accumulator += pdf[i].y;\n\n    if (accumulator >= area) {\n      break;\n    }\n  }\n\n  return pdf[last].x;\n};\n\nmodule.exports.getPerplexity = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var entropy = 0;\n  pdf.forEach(function (obj) {\n    var ln = Math.log(obj.y);\n\n    if (isFinite(ln)) {\n      entropy += obj.y * ln;\n    }\n  });\n  entropy = -entropy / LN_2;\n\n  return Math.pow(2, entropy);\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SensorTabIndex = exports.SensorClassName = exports.SizeSensorId = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar SizeSensorId = 'size-sensor-id';\nexports.SizeSensorId = SizeSensorId;\nvar SensorClassName = 'size-sensor-object';\nexports.SensorClassName = SensorClassName;\nvar SensorTabIndex = '-1';\nexports.SensorTabIndex = SensorTabIndex;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar _default = function _default(fn) {\n  var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 60;\n  var timer = null;\n  return function () {\n    var _this = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    clearTimeout(timer);\n    timer = setTimeout(function () {\n      fn.apply(_this, args);\n    }, delay);\n  };\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar id = 1;\n/**\n * generate unique id in application\n * @return {string}\n */\n\nvar _default = function _default() {\n  return \"\".concat(id++);\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ver = exports.clear = exports.bind = void 0;\n\nvar _sensorPool = require(\"./sensorPool\");\n\n/**\n * Created by hustcc on 18/6/9.[]\n * Contract: i@hust.cc\n */\n\n/**\n * bind an element with resize callback function\n * @param {*} element\n * @param {*} cb\n */\nvar bind = function bind(element, cb) {\n  var sensor = (0, _sensorPool.getSensor)(element); // listen with callback\n\n  sensor.bind(cb); // return unbind function\n\n  return function () {\n    sensor.unbind(cb);\n  };\n};\n/**\n * clear all the listener and sensor of an element\n * @param element\n */\n\n\nexports.bind = bind;\n\nvar clear = function clear(element) {\n  var sensor = (0, _sensorPool.getSensor)(element);\n  (0, _sensorPool.removeSensor)(sensor);\n};\n\nexports.clear = clear;\nvar ver = \"1.0.1\";\nexports.ver = ver;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removeSensor = exports.getSensor = void 0;\n\nvar _id = _interopRequireDefault(require(\"./id\"));\n\nvar _sensors = require(\"./sensors\");\n\nvar _constant = require(\"./constant\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\n/**\n * all the sensor objects.\n * sensor pool\n */\nvar Sensors = {};\n/**\n * get one sensor\n * @param element\n * @returns {*}\n */\n\nvar getSensor = function getSensor(element) {\n  var sensorId = element.getAttribute(_constant.SizeSensorId); // 1. if the sensor exists, then use it\n\n  if (sensorId && Sensors[sensorId]) {\n    return Sensors[sensorId];\n  } // 2. not exist, then create one\n\n\n  var newId = (0, _id[\"default\"])();\n  element.setAttribute(_constant.SizeSensorId, newId);\n  var sensor = (0, _sensors.createSensor)(element); // add sensor into pool\n\n  Sensors[newId] = sensor;\n  return sensor;\n};\n/**\n *  sensor\n * @param sensor\n */\n\n\nexports.getSensor = getSensor;\n\nvar removeSensor = function removeSensor(sensor) {\n  var sensorId = sensor.element.getAttribute(_constant.SizeSensorId); // remove attribute\n\n  sensor.element.removeAttribute(_constant.SizeSensorId); // remove event, dom of the sensor used\n\n  sensor.destroy(); // exist, then remove from pool\n\n  if (sensorId && Sensors[sensorId]) {\n    delete Sensors[sensorId];\n  }\n};\n\nexports.removeSensor = removeSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _object = require(\"./object\");\n\nvar _resizeObserver = require(\"./resizeObserver\");\n\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\n\n/**\n * sensor strategies\n */\n// export const createSensor = createObjectSensor;\nvar createSensor = typeof ResizeObserver !== 'undefined' ? _resizeObserver.createSensor : _object.createSensor;\nexports.createSensor = createSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\n\nvar _constant = require(\"../constant\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar createSensor = function createSensor(element) {\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * create object DOM of sensor\n   * @returns {HTMLObjectElement}\n   */\n\n  var newSensor = function newSensor() {\n    // adjust style\n    if (getComputedStyle(element).position === 'static') {\n      element.style.position = 'relative';\n    }\n\n    var obj = document.createElement('object');\n\n    obj.onload = function () {\n      obj.contentDocument.defaultView.addEventListener('resize', resizeListener); //  resize\n\n      resizeListener();\n    };\n\n    obj.style.display = 'block';\n    obj.style.position = 'absolute';\n    obj.style.top = '0';\n    obj.style.left = '0';\n    obj.style.height = '100%';\n    obj.style.width = '100%';\n    obj.style.overflow = 'hidden';\n    obj.style.pointerEvents = 'none';\n    obj.style.zIndex = '-1';\n    obj.style.opacity = '0';\n    obj.setAttribute('class', _constant.SensorClassName);\n    obj.setAttribute('tabindex', _constant.SensorTabIndex);\n    obj.type = 'text/html'; // append into dom\n\n    element.appendChild(obj); // for ie, should set data attribute delay, or will be white screen\n\n    obj.data = 'about:blank';\n    return obj;\n  };\n  /**\n   * trigger listeners\n   */\n\n\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all listener\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * listen with one callback function\n   * @param cb\n   */\n\n  var bind = function bind(cb) {\n    // if not exist sensor, then create one\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * destroy all\n   */\n\n\n  var destroy = function destroy() {\n    if (sensor && sensor.parentNode) {\n      if (sensor.contentDocument) {\n        // remote event\n        sensor.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n      } // remove dom\n\n\n      sensor.parentNode.removeChild(sensor); // initial variable\n\n      sensor = undefined;\n      listeners = [];\n    }\n  };\n  /**\n   * cancel listener bind\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // no listener, and sensor is exist\n    // then destroy the sensor\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\n\nexports.createSensor = createSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\nvar createSensor = function createSensor(element) {\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * trigger listeners\n   */\n\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * create ResizeObserver sensor\n   * @returns\n   */\n\n  var newSensor = function newSensor() {\n    var s = new ResizeObserver(resizeListener); // listen element\n\n    s.observe(element); // trigger once\n\n    resizeListener();\n    return s;\n  };\n  /**\n   * listen with callback\n   * @param cb\n   */\n\n\n  var bind = function bind(cb) {\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * destroy\n   */\n\n\n  var destroy = function destroy() {\n    sensor.disconnect();\n    listeners = [];\n    sensor = undefined;\n  };\n  /**\n   * cancel bind\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // no listener, and sensor is exist\n    // then destroy the sensor\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\n\nexports.createSensor = createSensor;","<template>\n  <div>\n    <a-row :gutter=\"16\">\n      <a-col :span=\"8\">\n        <a-card>\n          \n          <a-row>\n            <a-col\n              v-for=\"(value, key) in sampleCounts\"\n              :key=\"key\"\n              :span=\"24 / groups.length\"\n            >\n              <a-statistic\n                :title=\"key\"\n                :value=\"value\"\n                suffix=\"\"\n              ></a-statistic>\n            </a-col>\n          </a-row>\n        </a-card>\n      </a-col>\n      <a-col :span=\"8\">\n        <a-card>\n           (:)\n          <a-row>\n            <a-col\n              v-for=\"(item, key) in genderCounts\"\n              :key=\"key\"\n              :span=\"24 / groups.length\"\n            >\n              <a-statistic\n                :title=\"key\"\n                :value=\"(item.M / item.F).toFixed(2)\"\n              ></a-statistic>\n            </a-col>\n          </a-row>\n        </a-card>\n      </a-col>\n      <a-col :span=\"8\">\n        <a-card>\n          \n          <a-row>\n            <a-col\n              v-for=\"(value, key) in ageAverage\"\n              :key=\"key\"\n              :span=\"24 / groups.length\"\n            >\n              <a-statistic\n                :title=\"key\"\n                :value=\"(value / 12).toFixed(2)\"\n                suffix=\"\"\n              ></a-statistic>\n            </a-col>\n          </a-row>\n        </a-card>\n      </a-col>\n    </a-row>\n    <div class=\"plot\">\n      <a-card title=\"-\">\n        <div id=\"count_line\"></div>\n      </a-card>\n    </div>\n    <div class=\"plot\">\n      <a-card title=\"\">\n        <a-row>\n          <a-col v-for=\"g in groups\" :key=\"g\" :span=\"24 / groups.length\">\n            <div class=\"plot-title\">{{ g }}</div>\n            <div\n              :id=\"`age_hist_${g.replaceAll(' ', '_')}`\"\n              class=\"plot-content\"\n            ></div>\n          </a-col>\n        </a-row>\n      </a-card>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  defineComponent,\n  getCurrentInstance,\n  onMounted,\n  reactive,\n  toRefs,\n} from \"vue\";\nimport { Line, Histogram } from \"@antv/g2plot\";\nimport { Row, Col, Card, Statistic } from \"ant-design-vue\";\nimport { useStore } from \"vuex\";\n\nexport default defineComponent({\n  name: \"DashboardView\",\n  components: {\n    ARow: Row,\n    ACol: Col,\n    ACard: Card,\n    AStatistic: Statistic,\n  },\n  setup() {\n    const currentInstance = getCurrentInstance();\n    const { $http } = currentInstance.appContext.config.globalProperties;\n    const store = useStore();\n    const headers = {\n      Authorization: `Token ${store.getters.getToken}`,\n    }\n\n    const state = reactive({\n      sampleCounts: {},\n      groups: [],\n      genderCounts: {},\n      ageAverage: {},\n    });\n\n    const getData = async () => {\n      const res = await $http.get(\"/kawasaki/summary/\", { headers });\n      const { data } = res;\n      state.sampleCounts = data.sample_counts;\n      state.groups = data.groups;\n      state.genderCounts = data.gender_counts;\n      state.ageAverage = data.age_mean;\n    };\n\n    const setLinePlot = async () => {\n      const res = await $http.get(\"/kawasaki/count-by-month/\", { headers });\n      const { data } = res;\n      if (data != null && data.length != 0) {\n        const line = new Line(\"count_line\", {\n          data: data,\n          xField: \"date\",\n          yField: \"count\",\n          smooth: true,\n          meta: {\n            date: {\n              alias: \"\",\n            },\n            count: {\n              alias: \"\",\n            },\n          },\n        });\n        line.render();\n      }\n    };\n\n    const setHistPlot = async () => {\n      const res = await $http.get(\"/kawasaki/age-by-group/\", { headers });\n      const { data } = res;\n      for (const [key, value] of Object.entries(data)) {\n        if (value != null && value.length != 0) {\n          const hist_id = `age_hist_${key.replaceAll(\" \", \"_\")}`;\n          const hist = new Histogram(hist_id, {\n            data: value,\n            binField: \"value\",\n            binWidth: 1,\n            tooltip: {\n              showMarkers: false,\n              position: \"top\",\n            },\n            interactions: [\n              {\n                type: \"element-highlight\",\n              },\n            ],\n            meta: {\n              range: {\n                min: 0,\n                tickInterval: 1,\n                alias: \"\",\n              },\n              count: {\n                max: 10,\n                tickInterval: 2,\n                nice: true,\n                alias: \"\",\n              },\n            },\n          });\n          hist.render();\n        }\n      }\n    };\n\n    onMounted(async () => {\n      await getData();\n      setLinePlot();\n      setHistPlot();\n    });\n\n    return {\n      ...toRefs(state),\n    };\n  },\n});\n</script>\n\n<style scoped>\n.plot {\n  margin-top: 20px;\n}\n\n.plot-title {\n  font-size: 16px;\n  font-weight: bold;\n  margin-bottom: 10px;\n  widows: 100%;\n  text-align: center;\n}\n\n.plot-content {\n  padding: 20px;\n}\n</style>\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeFloor = Math.floor;\n\n/**\n * The base implementation of `_.repeat` which doesn't coerce arguments.\n *\n * @private\n * @param {string} string The string to repeat.\n * @param {number} n The number of times to repeat the string.\n * @returns {string} Returns the repeated string.\n */\nfunction baseRepeat(string, n) {\n  var result = '';\n  if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n    return result;\n  }\n  // Leverage the exponentiation by squaring algorithm for a faster repeat.\n  // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n  do {\n    if (n % 2) {\n      result += string;\n    }\n    n = nativeFloor(n / 2);\n    if (n) {\n      string += string;\n    }\n  } while (n);\n\n  return result;\n}\n\nexport default baseRepeat;\n","import baseSlice from './_baseSlice.js';\n\n/**\n * Casts `array` to a slice if it's needed.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {number} start The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the cast slice.\n */\nfunction castSlice(array, start, end) {\n  var length = array.length;\n  end = end === undefined ? length : end;\n  return (!start && end >= length) ? array : baseSlice(array, start, end);\n}\n\nexport default castSlice;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsZWJ = '\\\\u200d';\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\nexport default hasUnicode;\n","import baseProperty from './_baseProperty.js';\n\n/**\n * Gets the size of an ASCII `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nvar asciiSize = baseProperty('length');\n\nexport default asciiSize;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Gets the size of a Unicode `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nfunction unicodeSize(string) {\n  var result = reUnicode.lastIndex = 0;\n  while (reUnicode.test(string)) {\n    ++result;\n  }\n  return result;\n}\n\nexport default unicodeSize;\n","import asciiSize from './_asciiSize.js';\nimport hasUnicode from './_hasUnicode.js';\nimport unicodeSize from './_unicodeSize.js';\n\n/**\n * Gets the number of symbols in `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the string size.\n */\nfunction stringSize(string) {\n  return hasUnicode(string)\n    ? unicodeSize(string)\n    : asciiSize(string);\n}\n\nexport default stringSize;\n","/**\n * Converts an ASCII `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction asciiToArray(string) {\n  return string.split('');\n}\n\nexport default asciiToArray;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Converts a Unicode `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction unicodeToArray(string) {\n  return string.match(reUnicode) || [];\n}\n\nexport default unicodeToArray;\n","import asciiToArray from './_asciiToArray.js';\nimport hasUnicode from './_hasUnicode.js';\nimport unicodeToArray from './_unicodeToArray.js';\n\n/**\n * Converts `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction stringToArray(string) {\n  return hasUnicode(string)\n    ? unicodeToArray(string)\n    : asciiToArray(string);\n}\n\nexport default stringToArray;\n","import baseRepeat from './_baseRepeat.js';\nimport baseToString from './_baseToString.js';\nimport castSlice from './_castSlice.js';\nimport hasUnicode from './_hasUnicode.js';\nimport stringSize from './_stringSize.js';\nimport stringToArray from './_stringToArray.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil;\n\n/**\n * Creates the padding for `string` based on `length`. The `chars` string\n * is truncated if the number of characters exceeds `length`.\n *\n * @private\n * @param {number} length The padding length.\n * @param {string} [chars=' '] The string used as padding.\n * @returns {string} Returns the padding for `string`.\n */\nfunction createPadding(length, chars) {\n  chars = chars === undefined ? ' ' : baseToString(chars);\n\n  var charsLength = chars.length;\n  if (charsLength < 2) {\n    return charsLength ? baseRepeat(chars, length) : chars;\n  }\n  var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n  return hasUnicode(chars)\n    ? castSlice(stringToArray(result), 0, length).join('')\n    : result.slice(0, length);\n}\n\nexport default createPadding;\n","import createPadding from './_createPadding.js';\nimport stringSize from './_stringSize.js';\nimport toInteger from './toInteger.js';\nimport toString from './toString.js';\n\n/**\n * Pads `string` on the right side if it's shorter than `length`. Padding\n * characters are truncated if they exceed `length`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to pad.\n * @param {number} [length=0] The padding length.\n * @param {string} [chars=' '] The string used as padding.\n * @returns {string} Returns the padded string.\n * @example\n *\n * _.padEnd('abc', 6);\n * // => 'abc   '\n *\n * _.padEnd('abc', 6, '_-');\n * // => 'abc_-_'\n *\n * _.padEnd('abc', 3);\n * // => 'abc'\n */\nfunction padEnd(string, length, chars) {\n  string = toString(string);\n  length = toInteger(length);\n\n  var strLength = length ? stringSize(string) : 0;\n  return (length && strLength < length)\n    ? (string + createPadding(length - strLength, chars))\n    : string;\n}\n\nexport default padEnd;\n","import { createVNode as _createVNode } from \"vue\";\nimport padEnd from 'lodash-es/padEnd';\n\nvar StatisticNumber = function StatisticNumber(props) {\n  var value = props.value,\n      formatter = props.formatter,\n      precision = props.precision,\n      decimalSeparator = props.decimalSeparator,\n      _props$groupSeparator = props.groupSeparator,\n      groupSeparator = _props$groupSeparator === void 0 ? '' : _props$groupSeparator,\n      prefixCls = props.prefixCls;\n  var valueNode;\n\n  if (typeof formatter === 'function') {\n    // Customize formatter\n    valueNode = formatter({\n      value: value\n    });\n  } else {\n    // Internal formatter\n    var val = String(value);\n    var cells = val.match(/^(-?)(\\d*)(\\.(\\d+))?$/); // Process if illegal number\n\n    if (!cells) {\n      valueNode = val;\n    } else {\n      var negative = cells[1];\n      var int = cells[2] || '0';\n      var decimal = cells[4] || '';\n      int = int.replace(/\\B(?=(\\d{3})+(?!\\d))/g, groupSeparator);\n\n      if (typeof precision === 'number') {\n        decimal = padEnd(decimal, precision, '0').slice(0, precision);\n      }\n\n      if (decimal) {\n        decimal = \"\".concat(decimalSeparator).concat(decimal);\n      }\n\n      valueNode = [_createVNode(\"span\", {\n        \"key\": \"int\",\n        \"class\": \"\".concat(prefixCls, \"-content-value-int\")\n      }, [negative, int]), decimal && _createVNode(\"span\", {\n        \"key\": \"decimal\",\n        \"class\": \"\".concat(prefixCls, \"-content-value-decimal\")\n      }, [decimal])];\n    }\n  }\n\n  return _createVNode(\"span\", {\n    \"class\": \"\".concat(prefixCls, \"-content-value\")\n  }, [valueNode]);\n};\n\nStatisticNumber.displayName = 'StatisticNumber';\nexport default StatisticNumber;","import { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from 'vue';\nexport var skeletonTitleProps = function skeletonTitleProps() {\n  return {\n    prefixCls: String,\n    width: {\n      type: [Number, String]\n    }\n  };\n};\nvar SkeletonTitle = defineComponent({\n  name: 'SkeletonTitle',\n  props: skeletonTitleProps(),\n  setup: function setup(props) {\n    return function () {\n      var prefixCls = props.prefixCls,\n          width = props.width;\n      var zWidth = typeof width === 'number' ? \"\".concat(width, \"px\") : width;\n      return _createVNode(\"h3\", {\n        \"class\": prefixCls,\n        \"style\": {\n          width: zWidth\n        }\n      }, null);\n    };\n  }\n});\nexport default SkeletonTitle;","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from 'vue';\nexport var skeletonParagraphProps = function skeletonParagraphProps() {\n  return {\n    prefixCls: String,\n    width: {\n      type: [Number, String, Array]\n    },\n    rows: Number\n  };\n};\nvar SkeletonParagraph = defineComponent({\n  name: 'SkeletonParagraph',\n  props: skeletonParagraphProps(),\n  setup: function setup(props) {\n    var getWidth = function getWidth(index) {\n      var width = props.width,\n          _props$rows = props.rows,\n          rows = _props$rows === void 0 ? 2 : _props$rows;\n\n      if (Array.isArray(width)) {\n        return width[index];\n      } // last paragraph\n\n\n      if (rows - 1 === index) {\n        return width;\n      }\n\n      return undefined;\n    };\n\n    return function () {\n      var prefixCls = props.prefixCls,\n          rows = props.rows;\n\n      var rowList = _toConsumableArray(Array(rows)).map(function (_, index) {\n        var width = getWidth(index);\n        return _createVNode(\"li\", {\n          \"key\": index,\n          \"style\": {\n            width: typeof width === 'number' ? \"\".concat(width, \"px\") : width\n          }\n        }, null);\n      });\n\n      return _createVNode(\"ul\", {\n        \"class\": prefixCls\n      }, [rowList]);\n    };\n  }\n});\nexport default SkeletonParagraph;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\nimport classNames from '../_util/classNames';\nexport var skeletonElementProps = function skeletonElementProps() {\n  return {\n    prefixCls: String,\n    size: [String, Number],\n    shape: String,\n    active: {\n      type: Boolean,\n      default: undefined\n    }\n  };\n};\n\nvar Element = function Element(props) {\n  var _classNames, _classNames2;\n\n  var prefixCls = props.prefixCls,\n      size = props.size,\n      shape = props.shape;\n  var sizeCls = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-lg\"), size === 'large'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-sm\"), size === 'small'), _classNames));\n  var shapeCls = classNames((_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-circle\"), shape === 'circle'), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-square\"), shape === 'square'), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-round\"), shape === 'round'), _classNames2));\n  var sizeStyle = typeof size === 'number' ? {\n    width: \"\".concat(size, \"px\"),\n    height: \"\".concat(size, \"px\"),\n    lineHeight: \"\".concat(size, \"px\")\n  } : {};\n  return _createVNode(\"span\", {\n    \"class\": classNames(prefixCls, sizeCls, shapeCls),\n    \"style\": sizeStyle\n  }, null);\n};\n\nElement.displayName = 'SkeletonElement';\nexport default Element;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from 'vue';\nimport classNames from '../_util/classNames';\nimport { initDefaultProps } from '../_util/props-util';\nimport Title from './Title';\nimport Paragraph from './Paragraph';\nimport useConfigInject from '../_util/hooks/useConfigInject';\nimport Element from './Element';\nexport var skeletonProps = function skeletonProps() {\n  return {\n    active: {\n      type: Boolean,\n      default: undefined\n    },\n    loading: {\n      type: Boolean,\n      default: undefined\n    },\n    prefixCls: String,\n    avatar: {\n      type: [Boolean, Object],\n      default: undefined\n    },\n    title: {\n      type: [Boolean, Object],\n      default: undefined\n    },\n    paragraph: {\n      type: [Boolean, Object],\n      default: undefined\n    },\n    round: {\n      type: Boolean,\n      default: undefined\n    }\n  };\n};\n\nfunction getComponentProps(prop) {\n  if (prop && _typeof(prop) === 'object') {\n    return prop;\n  }\n\n  return {};\n}\n\nfunction getAvatarBasicProps(hasTitle, hasParagraph) {\n  if (hasTitle && !hasParagraph) {\n    // Square avatar\n    return {\n      size: 'large',\n      shape: 'square'\n    };\n  }\n\n  return {\n    size: 'large',\n    shape: 'circle'\n  };\n}\n\nfunction getTitleBasicProps(hasAvatar, hasParagraph) {\n  if (!hasAvatar && hasParagraph) {\n    return {\n      width: '38%'\n    };\n  }\n\n  if (hasAvatar && hasParagraph) {\n    return {\n      width: '50%'\n    };\n  }\n\n  return {};\n}\n\nfunction getParagraphBasicProps(hasAvatar, hasTitle) {\n  var basicProps = {}; // Width\n\n  if (!hasAvatar || !hasTitle) {\n    basicProps.width = '61%';\n  } // Rows\n\n\n  if (!hasAvatar && hasTitle) {\n    basicProps.rows = 3;\n  } else {\n    basicProps.rows = 2;\n  }\n\n  return basicProps;\n}\n\nvar Skeleton = defineComponent({\n  name: 'ASkeleton',\n  props: initDefaultProps(skeletonProps(), {\n    avatar: false,\n    title: true,\n    paragraph: true\n  }),\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n\n    var _useConfigInject = useConfigInject('skeleton', props),\n        prefixCls = _useConfigInject.prefixCls,\n        direction = _useConfigInject.direction;\n\n    return function () {\n      var _a;\n\n      var loading = props.loading,\n          avatar = props.avatar,\n          title = props.title,\n          paragraph = props.paragraph,\n          active = props.active,\n          round = props.round;\n      var pre = prefixCls.value;\n\n      if (loading || props.loading === undefined) {\n        var _classNames;\n\n        var hasAvatar = !!avatar || avatar === '';\n        var hasTitle = !!title || title === '';\n        var hasParagraph = !!paragraph || paragraph === ''; // Avatar\n\n        var avatarNode;\n\n        if (hasAvatar) {\n          var avatarProps = _extends(_extends({\n            prefixCls: \"\".concat(pre, \"-avatar\")\n          }, getAvatarBasicProps(hasTitle, hasParagraph)), getComponentProps(avatar));\n\n          avatarNode = _createVNode(\"div\", {\n            \"class\": \"\".concat(pre, \"-header\")\n          }, [_createVNode(Element, avatarProps, null)]);\n        }\n\n        var contentNode;\n\n        if (hasTitle || hasParagraph) {\n          // Title\n          var $title;\n\n          if (hasTitle) {\n            var titleProps = _extends(_extends({\n              prefixCls: \"\".concat(pre, \"-title\")\n            }, getTitleBasicProps(hasAvatar, hasParagraph)), getComponentProps(title));\n\n            $title = _createVNode(Title, titleProps, null);\n          } // Paragraph\n\n\n          var paragraphNode;\n\n          if (hasParagraph) {\n            var paragraphProps = _extends(_extends({\n              prefixCls: \"\".concat(pre, \"-paragraph\")\n            }, getParagraphBasicProps(hasAvatar, hasTitle)), getComponentProps(paragraph));\n\n            paragraphNode = _createVNode(Paragraph, paragraphProps, null);\n          }\n\n          contentNode = _createVNode(\"div\", {\n            \"class\": \"\".concat(pre, \"-content\")\n          }, [$title, paragraphNode]);\n        }\n\n        var cls = classNames(pre, (_classNames = {}, _defineProperty(_classNames, \"\".concat(pre, \"-with-avatar\"), hasAvatar), _defineProperty(_classNames, \"\".concat(pre, \"-active\"), active), _defineProperty(_classNames, \"\".concat(pre, \"-rtl\"), direction.value === 'rtl'), _defineProperty(_classNames, \"\".concat(pre, \"-round\"), round), _classNames));\n        return _createVNode(\"div\", {\n          \"class\": cls\n        }, [avatarNode, contentNode]);\n      }\n\n      return (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n    };\n  }\n});\nexport default Skeleton;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from 'vue';\nimport PropTypes from '../_util/vue-types';\nimport initDefaultProps from '../_util/props-util/initDefaultProps';\nimport StatisticNumber from './Number';\nimport Skeleton from '../skeleton/Skeleton';\nimport useConfigInject from '../_util/hooks/useConfigInject';\nexport var statisticProps = function statisticProps() {\n  return {\n    prefixCls: String,\n    decimalSeparator: String,\n    groupSeparator: String,\n    format: String,\n    value: {\n      type: [String, Number, Object]\n    },\n    valueStyle: {\n      type: Object,\n      default: undefined\n    },\n    valueRender: PropTypes.any,\n    formatter: PropTypes.any,\n    precision: Number,\n    prefix: PropTypes.any,\n    suffix: PropTypes.any,\n    title: PropTypes.any,\n    loading: {\n      type: Boolean,\n      default: undefined\n    }\n  };\n};\nexport default defineComponent({\n  name: 'AStatistic',\n  props: initDefaultProps(statisticProps(), {\n    decimalSeparator: '.',\n    groupSeparator: ',',\n    loading: false\n  }),\n  slots: ['title', 'prefix', 'suffix', 'formatter'],\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n\n    var _useConfigInject = useConfigInject('statistic', props),\n        prefixCls = _useConfigInject.prefixCls,\n        direction = _useConfigInject.direction;\n\n    return function () {\n      var _a, _b, _c, _d, _e, _f, _g;\n\n      var _props$value = props.value,\n          value = _props$value === void 0 ? 0 : _props$value,\n          valueStyle = props.valueStyle,\n          valueRender = props.valueRender;\n      var pre = prefixCls.value;\n      var title = (_a = props.title) !== null && _a !== void 0 ? _a : (_b = slots.title) === null || _b === void 0 ? void 0 : _b.call(slots);\n      var prefix = (_c = props.prefix) !== null && _c !== void 0 ? _c : (_d = slots.prefix) === null || _d === void 0 ? void 0 : _d.call(slots);\n      var suffix = (_e = props.suffix) !== null && _e !== void 0 ? _e : (_f = slots.suffix) === null || _f === void 0 ? void 0 : _f.call(slots);\n      var formatter = (_g = props.formatter) !== null && _g !== void 0 ? _g : slots.formatter; // data-for-update just for update component\n      // https://github.com/vueComponent/ant-design-vue/pull/3170\n\n      var valueNode = _createVNode(StatisticNumber, _objectSpread({\n        \"data-for-update\": Date.now()\n      }, _extends(_extends({}, props), {\n        prefixCls: pre,\n        value: value,\n        formatter: formatter\n      })), null);\n\n      if (valueRender) {\n        valueNode = valueRender(valueNode);\n      }\n\n      return _createVNode(\"div\", {\n        \"class\": [pre, _defineProperty({}, \"\".concat(pre, \"-rtl\"), direction.value === 'rtl')]\n      }, [title && _createVNode(\"div\", {\n        \"class\": \"\".concat(pre, \"-title\")\n      }, [title]), _createVNode(Skeleton, {\n        \"paragraph\": false,\n        \"loading\": props.loading\n      }, {\n        default: function _default() {\n          return [_createVNode(\"div\", {\n            \"style\": valueStyle,\n            \"class\": \"\".concat(pre, \"-content\")\n          }, [prefix && _createVNode(\"span\", {\n            \"class\": \"\".concat(pre, \"-content-prefix\")\n          }, [prefix]), valueNode, suffix && _createVNode(\"span\", {\n            \"class\": \"\".concat(pre, \"-content-suffix\")\n          }, [suffix])])];\n        }\n      })]);\n    };\n  }\n});","import createPadding from './_createPadding.js';\nimport stringSize from './_stringSize.js';\nimport toInteger from './toInteger.js';\nimport toString from './toString.js';\n\n/**\n * Pads `string` on the left side if it's shorter than `length`. Padding\n * characters are truncated if they exceed `length`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to pad.\n * @param {number} [length=0] The padding length.\n * @param {string} [chars=' '] The string used as padding.\n * @returns {string} Returns the padded string.\n * @example\n *\n * _.padStart('abc', 6);\n * // => '   abc'\n *\n * _.padStart('abc', 6, '_-');\n * // => '_-_abc'\n *\n * _.padStart('abc', 3);\n * // => 'abc'\n */\nfunction padStart(string, length, chars) {\n  string = toString(string);\n  length = toInteger(length);\n\n  var strLength = length ? stringSize(string) : 0;\n  return (length && strLength < length)\n    ? (createPadding(length - strLength, chars) + string)\n    : string;\n}\n\nexport default padStart;\n","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport padStart from 'lodash-es/padStart'; // Countdown\n\nvar timeUnits = [['Y', 1000 * 60 * 60 * 24 * 365], ['M', 1000 * 60 * 60 * 24 * 30], ['D', 1000 * 60 * 60 * 24], ['H', 1000 * 60 * 60], ['m', 1000 * 60], ['s', 1000], ['S', 1] // million seconds\n];\nexport function formatTimeStr(duration, format) {\n  var leftDuration = duration;\n  var escapeRegex = /\\[[^\\]]*]/g;\n  var keepList = (format.match(escapeRegex) || []).map(function (str) {\n    return str.slice(1, -1);\n  });\n  var templateText = format.replace(escapeRegex, '[]');\n  var replacedText = timeUnits.reduce(function (current, _ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        name = _ref2[0],\n        unit = _ref2[1];\n\n    if (current.indexOf(name) !== -1) {\n      var value = Math.floor(leftDuration / unit);\n      leftDuration -= value * unit;\n      return current.replace(new RegExp(\"\".concat(name, \"+\"), 'g'), function (match) {\n        var len = match.length;\n        return padStart(value.toString(), len, '0');\n      });\n    }\n\n    return current;\n  }, templateText);\n  var index = 0;\n  return replacedText.replace(escapeRegex, function () {\n    var match = keepList[index];\n    index += 1;\n    return match;\n  });\n}\nexport function formatCountdown(value, config) {\n  var _config$format = config.format,\n      format = _config$format === void 0 ? '' : _config$format;\n  var target = new Date(value).getTime();\n  var current = Date.now();\n  var diff = Math.max(target - current, 0);\n  return formatTimeStr(diff, format);\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\nimport { defineComponent, onBeforeUnmount, onMounted, onUpdated, ref } from 'vue';\nimport omit from '../_util/omit';\nimport initDefaultProps from '../_util/props-util/initDefaultProps';\nimport Statistic, { statisticProps } from './Statistic';\nimport { formatCountdown as formatCD } from './utils';\nvar REFRESH_INTERVAL = 1000 / 30;\n\nfunction getTime(value) {\n  return new Date(value).getTime();\n}\n\nexport var countdownProps = function countdownProps() {\n  return _extends(_extends({}, statisticProps()), {\n    value: [Number, String],\n    format: String,\n    onFinish: Function,\n    onChange: Function\n  });\n};\nexport default defineComponent({\n  name: 'AStatisticCountdown',\n  props: initDefaultProps(countdownProps(), {\n    format: 'HH:mm:ss'\n  }),\n  // emits: ['finish', 'change'],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit,\n        slots = _ref.slots;\n    var countdownId = ref();\n    var statistic = ref();\n\n    var syncTimer = function syncTimer() {\n      var value = props.value;\n      var timestamp = getTime(value);\n\n      if (timestamp >= Date.now()) {\n        startTimer();\n      } else {\n        stopTimer();\n      }\n    };\n\n    var startTimer = function startTimer() {\n      if (countdownId.value) return;\n      var timestamp = getTime(props.value);\n      countdownId.value = setInterval(function () {\n        statistic.value.$forceUpdate();\n\n        if (timestamp > Date.now()) {\n          emit('change', timestamp - Date.now());\n        }\n\n        syncTimer();\n      }, REFRESH_INTERVAL);\n    };\n\n    var stopTimer = function stopTimer() {\n      var value = props.value;\n\n      if (countdownId.value) {\n        clearInterval(countdownId.value);\n        countdownId.value = undefined;\n        var timestamp = getTime(value);\n\n        if (timestamp < Date.now()) {\n          emit('finish');\n        }\n      }\n    };\n\n    var formatCountdown = function formatCountdown(_ref2) {\n      var value = _ref2.value,\n          config = _ref2.config;\n      var format = props.format;\n      return formatCD(value, _extends(_extends({}, config), {\n        format: format\n      }));\n    };\n\n    var valueRenderHtml = function valueRenderHtml(node) {\n      return node;\n    };\n\n    onMounted(function () {\n      syncTimer();\n    });\n    onUpdated(function () {\n      syncTimer();\n    });\n    onBeforeUnmount(function () {\n      stopTimer();\n    });\n    return function () {\n      return _createVNode(Statistic, _objectSpread({\n        \"ref\": statistic\n      }, _extends(_extends({}, omit(props, ['onFinish', 'onChange'])), {\n        valueRender: valueRenderHtml,\n        formatter: formatCountdown\n      })), slots);\n    };\n  }\n});","import Statistic from './Statistic';\nimport Countdown from './Countdown';\nStatistic.Countdown = Countdown;\n/* istanbul ignore next */\n\nStatistic.install = function (app) {\n  app.component(Statistic.name, Statistic);\n  app.component(Statistic.Countdown.name, Statistic.Countdown);\n  return app;\n};\n\nexport var StatisticCountdown = Statistic.Countdown;\nexport default Statistic;","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/**\n * view  group  key\n */\nexport enum LAYER {\n  /**  */\n  FORE = 'fore',\n  /**  */\n  MID = 'mid',\n  /**  */\n  BG = 'bg',\n}\n\n/**\n *  12 \n */\nexport enum DIRECTION {\n  TOP = 'top',\n  TOP_LEFT = 'top-left',\n  TOP_RIGHT = 'top-right',\n  RIGHT = 'right',\n  RIGHT_TOP = 'right-top',\n  RIGHT_BOTTOM = 'right-bottom',\n  LEFT = 'left',\n  LEFT_TOP = 'left-top',\n  LEFT_BOTTOM = 'left-bottom',\n  BOTTOM = 'bottom',\n  BOTTOM_LEFT = 'bottom-left',\n  BOTTOM_RIGHT = 'bottom-right',\n  RADIUS = 'radius',\n  CIRCLE = 'circle',\n  // no direction information\n  NONE = 'none',\n}\n\n/**\n * \n */\nexport enum COMPONENT_TYPE {\n  /** axis  */\n  AXIS = 'axis',\n  /** grid  */\n  GRID = 'grid',\n  /** legend  */\n  LEGEND = 'legend',\n  /** tooltip  */\n  TOOLTIP = 'tooltip',\n  /** annotation  */\n  ANNOTATION = 'annotation',\n  /**  */\n  SLIDER = 'slider',\n  /**  */\n  SCROLLBAR = 'scrollbar',\n  /**  */\n  OTHER = 'other',\n}\n\n/**\n *  group  z index\n */\nexport const GROUP_Z_INDEX = {\n  FORE: 3,\n  MID: 2,\n  BG: 1,\n};\n\n/**\n * View  3.x \n * \n */\nexport enum VIEW_LIFE_CIRCLE {\n  BEFORE_RENDER = 'beforerender',\n  AFTER_RENDER = 'afterrender',\n\n  BEFORE_PAINT = 'beforepaint',\n  AFTER_PAINT = 'afterpaint',\n\n  BEFORE_CHANGE_DATA = 'beforechangedata',\n  AFTER_CHANGE_DATA = 'afterchangedata',\n\n  BEFORE_CLEAR = 'beforeclear',\n  AFTER_CLEAR = 'afterclear',\n\n  BEFORE_DESTROY = 'beforedestroy',\n\n  BEFORE_CHANGE_SIZE = 'beforechangesize',\n  AFTER_CHANGE_SIZE = 'afterchangesize',\n}\n\n/**\n * geometry \n */\nexport enum GEOMETRY_LIFE_CIRCLE {\n  BEFORE_DRAW_ANIMATE = 'beforeanimate',\n  AFTER_DRAW_ANIMATE = 'afteranimate',\n\n  BEFORE_RENDER_LABEL = 'beforerenderlabel',\n  AFTER_RENDER_LABEL = 'afterrenderlabel',\n}\n\n/**\n * \n */\nexport enum PLOT_EVENTS {\n  // mouse \n  MOUSE_ENTER = 'plot:mouseenter',\n  MOUSE_DOWN = 'plot:mousedown',\n  MOUSE_MOVE = 'plot:mousemove',\n  MOUSE_UP = 'plot:mouseup',\n  MOUSE_LEAVE = 'plot:mouseleave',\n  // \n  TOUCH_START = 'plot:touchstart',\n  TOUCH_MOVE = 'plot:touchmove',\n  TOUCH_END = 'plot:touchend',\n  TOUCH_CANCEL = 'plot:touchcancel',\n  // click \n  CLICK = 'plot:click',\n  DBLCLICK = 'plot:dblclick',\n  CONTEXTMENU = 'plot:contextmenu',\n\n  LEAVE = 'plot:leave',\n  ENTER = 'plot:enter',\n}\n\n/**\n * Element \n */\nexport enum ELEMENT_STATE {\n  ACTIVE = 'active',\n  INACTIVE = 'inactive',\n  SELECTED = 'selected',\n  DEFAULT = 'default',\n}\n\n/**  */\nexport const GROUP_ATTRS = ['color', 'shape', 'size'];\n/**  */\nexport const FIELD_ORIGIN = '_origin';\n/**  */\nexport const MIN_CHART_WIDTH = 1;\n/**  */\nexport const MIN_CHART_HEIGHT = 1;\n/** 25% */\nexport const COMPONENT_MAX_VIEW_PERCENTAGE = 0.25;\n",null,null,null,"import { IG } from '../dependents';\n\nconst ENGINES: Record<string, IG> = {};\n\n/**\n *  engine\n * @param name \n * @returns G engine\n */\nexport function getEngine(name: string): IG {\n  const G = ENGINES[name];\n\n  if (!G) {\n    throw new Error(`G engine '${name}' is not exist, please register it at first.`);\n  }\n\n  return G;\n}\n\n/**\n * \n * @param name\n * @param engine\n */\nexport function registerEngine(name: string, engine: IG) {\n  ENGINES[name] = engine;\n}\n",null,"import { MIN_CHART_HEIGHT, MIN_CHART_WIDTH } from '../constant';\nimport { Size } from '../interface';\n\n/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nfunction getElementSize(ele: HTMLElement): Size {\n  const style = getComputedStyle(ele);\n\n  return {\n    width:\n      (ele.clientWidth || parseInt(style.width, 10)) -\n      parseInt(style.paddingLeft, 10) -\n      parseInt(style.paddingRight, 10),\n    height:\n      (ele.clientHeight || parseInt(style.height, 10)) -\n      parseInt(style.paddingTop, 10) -\n      parseInt(style.paddingBottom, 10),\n  };\n}\n\n/**\n * is value a valid number\n * @param v the input value\n * @returns whether it is a number\n */\nfunction isNumber(v: any): boolean {\n  return typeof v === 'number' && !isNaN(v);\n}\n\n/**\n * @ignore\n * calculate the chart size\n * @param ele DOM element\n * @param autoFit should auto fit\n * @param width chart width which is set by user\n * @param height chart height which is set by user\n * @returns the chart width and height\n */\nexport function getChartSize(ele: HTMLElement, autoFit: boolean, width: number, height: number): Size {\n  let w = width;\n  let h = height;\n\n  if (autoFit) {\n    const size = getElementSize(ele);\n\n    w = size.width ? size.width : w;\n    h = size.height ? size.height : h;\n  }\n\n  return {\n    width: Math.max(isNumber(w) ? w : MIN_CHART_WIDTH, MIN_CHART_WIDTH),\n    height: Math.max(isNumber(h) ? h : MIN_CHART_HEIGHT, MIN_CHART_HEIGHT),\n  };\n}\n\n/**\n * @ignore\n * remove html element from its parent\n * @param dom\n */\nexport function removeDom(dom: HTMLElement) {\n  const parent = dom.parentNode;\n\n  if (parent) {\n    parent.removeChild(dom);\n  }\n}\n\n/** @ignore */\nexport { createDom, modifyCSS } from '@antv/dom-util';\n",null,"import EE from '@antv/event-emitter';\n\ninterface BaseCfg {\n  visible?: boolean;\n}\n\n/**\n * G2 ChartViewGeometry  Element \n */\nexport default class Base extends EE {\n  /**  */\n  public visible: boolean;\n  /**  */\n  public destroyed: boolean = false;\n\n  constructor(cfg: BaseCfg) {\n    super();\n    const { visible = true } = cfg;\n    this.visible = visible;\n  }\n\n  /**\n   * \n   */\n  public show() {\n    const visible = this.visible;\n    if (!visible) {\n      this.changeVisible(true);\n    }\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    const visible = this.visible;\n    if (visible) {\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.off();\n    this.destroyed = true;\n  }\n\n  /**\n   * \n   * @param visible\n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.visible = visible;\n  }\n}\n",null,null,null,null,"var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\nexport { BrowserInfo };\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexport { NodeInfo };\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\nexport { SearchBotDeviceInfo };\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexport { BotInfo };\nvar ReactNativeInfo = /** @class */ (function () {\n    function ReactNativeInfo() {\n        this.type = 'react-native';\n        this.name = 'react-native';\n        this.version = null;\n        this.os = null;\n    }\n    return ReactNativeInfo;\n}());\nexport { ReactNativeInfo };\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /EdgA?\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['pie', /^Microsoft Pocket Internet Explorer\\/(\\d+\\.\\d+)$/],\n    ['pie', /^Mozilla\\/\\d\\.\\d+\\s\\(compatible;\\s(?:MSP?IE|MSInternet Explorer) (\\d+\\.\\d+);.*Windows CE.*\\)$/],\n    ['netfront', /^Mozilla\\/\\d\\.\\d+.*NetFront\\/(\\d.\\d)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FB[AS]V\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['curl', /^curl\\/([0-9\\.]+)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Windows CE', /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nexport function detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative') {\n        return new ReactNativeInfo();\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nexport function browserName(ua) {\n    var data = matchUserAgent(ua);\n    return data ? data[0] : null;\n}\nexport function parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    // Do not use RegExp for split operation as some browser do not support it (See: http://blog.stevenlevithan.com/archives/cross-browser-split)\n    var versionParts = match[1] && match[1].split('.').join('_').split('_').slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArray(__spreadArray([], versionParts, true), createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length), true);\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, version, os);\n}\nexport function detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexport function getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n","import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;","/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import * as glMatrix from \"./common.js\";\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();",null,null,null,null,"var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export function linear(t) {\n  return +t;\n}\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return (+t === 1) ? 1 : 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","// tpmt is two power minus ten times t scaled to [0,1]\nexport function tpmt(x) {\n  return (Math.pow(2, -10 * x) - 0.0009765625) * 1.0009775171065494;\n}\n","import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return (t = +t) * t * (s * (t - 1) + t);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((t + 1) * s + t) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","import {tpmt} from \"./math.js\";\n\nvar tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * tpmt(-(--t)) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * tpmt(t = +t) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * tpmt(-t) * Math.sin((s - t) / p)\n        : 2 - a * tpmt(t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n",null,null,null,null,null,"/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n",null,null,null,null,null,null,null,"const token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\nconst twoDigitsOptional = \"\\\\d\\\\d?\";\nconst twoDigits = \"\\\\d\\\\d\";\nconst threeDigits = \"\\\\d{3}\";\nconst fourDigits = \"\\\\d{4}\";\nconst word = \"[^\\\\s]+\";\nconst literal = /\\[([^]*?)\\]/gm;\n\ntype DateInfo = {\n  year: number;\n  month: number;\n  day: number;\n  hour: number;\n  minute: number;\n  second: number;\n  millisecond: number;\n  isPm: number | null;\n  timezoneOffset: number | null;\n};\n\nexport type I18nSettings = {\n  amPm: [string, string];\n  dayNames: Days;\n  dayNamesShort: Days;\n  monthNames: Months;\n  monthNamesShort: Months;\n  DoFn(dayOfMonth: number): string;\n};\n\nexport type I18nSettingsOptional = Partial<I18nSettings>;\n\nexport type Days = [string, string, string, string, string, string, string];\nexport type Months = [\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string\n];\n\nfunction shorten<T extends string[]>(arr: T, sLen: number): string[] {\n  const newArr: string[] = [];\n  for (let i = 0, len = arr.length; i < len; i++) {\n    newArr.push(arr[i].substr(0, sLen));\n  }\n  return newArr;\n}\n\nconst monthUpdate = (\n  arrName: \"monthNames\" | \"monthNamesShort\" | \"dayNames\" | \"dayNamesShort\"\n) => (v: string, i18n: I18nSettings): number | null => {\n  const lowerCaseArr = i18n[arrName].map(v => v.toLowerCase());\n  const index = lowerCaseArr.indexOf(v.toLowerCase());\n  if (index > -1) {\n    return index;\n  }\n  return null;\n};\n\nexport function assign<A>(a: A): A;\nexport function assign<A, B>(a: A, b: B): A & B;\nexport function assign<A, B, C>(a: A, b: B, c: C): A & B & C;\nexport function assign<A, B, C, D>(a: A, b: B, c: C, d: D): A & B & C & D;\nexport function assign(origObj: any, ...args: any[]): any {\n  for (const obj of args) {\n    for (const key in obj) {\n      // @ts-ignore ex\n      origObj[key] = obj[key];\n    }\n  }\n  return origObj;\n}\n\nconst dayNames: Days = [\n  \"Sunday\",\n  \"Monday\",\n  \"Tuesday\",\n  \"Wednesday\",\n  \"Thursday\",\n  \"Friday\",\n  \"Saturday\"\n];\nconst monthNames: Months = [\n  \"January\",\n  \"February\",\n  \"March\",\n  \"April\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"August\",\n  \"September\",\n  \"October\",\n  \"November\",\n  \"December\"\n];\n\nconst monthNamesShort: Months = shorten(monthNames, 3) as Months;\nconst dayNamesShort: Days = shorten(dayNames, 3) as Days;\n\nconst defaultI18n: I18nSettings = {\n  dayNamesShort,\n  dayNames,\n  monthNamesShort,\n  monthNames,\n  amPm: [\"am\", \"pm\"],\n  DoFn(dayOfMonth: number) {\n    return (\n      dayOfMonth +\n      [\"th\", \"st\", \"nd\", \"rd\"][\n        dayOfMonth % 10 > 3\n          ? 0\n          : ((dayOfMonth - (dayOfMonth % 10) !== 10 ? 1 : 0) * dayOfMonth) % 10\n      ]\n    );\n  }\n};\nlet globalI18n = assign({}, defaultI18n);\nconst setGlobalDateI18n = (i18n: I18nSettingsOptional): I18nSettings =>\n  (globalI18n = assign(globalI18n, i18n));\n\nconst regexEscape = (str: string): string =>\n  str.replace(/[|\\\\{()[^$+*?.-]/g, \"\\\\$&\");\n\nconst pad = (val: string | number, len = 2): string => {\n  val = String(val);\n  while (val.length < len) {\n    val = \"0\" + val;\n  }\n  return val;\n};\n\nconst formatFlags: Record<\n  string,\n  (dateObj: Date, i18n: I18nSettings) => string\n> = {\n  D: (dateObj: Date): string => String(dateObj.getDate()),\n  DD: (dateObj: Date): string => pad(dateObj.getDate()),\n  Do: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.DoFn(dateObj.getDate()),\n  d: (dateObj: Date): string => String(dateObj.getDay()),\n  dd: (dateObj: Date): string => pad(dateObj.getDay()),\n  ddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNamesShort[dateObj.getDay()],\n  dddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNames[dateObj.getDay()],\n  M: (dateObj: Date): string => String(dateObj.getMonth() + 1),\n  MM: (dateObj: Date): string => pad(dateObj.getMonth() + 1),\n  MMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNamesShort[dateObj.getMonth()],\n  MMMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNames[dateObj.getMonth()],\n  YY: (dateObj: Date): string =>\n    pad(String(dateObj.getFullYear()), 4).substr(2),\n  YYYY: (dateObj: Date): string => pad(dateObj.getFullYear(), 4),\n  h: (dateObj: Date): string => String(dateObj.getHours() % 12 || 12),\n  hh: (dateObj: Date): string => pad(dateObj.getHours() % 12 || 12),\n  H: (dateObj: Date): string => String(dateObj.getHours()),\n  HH: (dateObj: Date): string => pad(dateObj.getHours()),\n  m: (dateObj: Date): string => String(dateObj.getMinutes()),\n  mm: (dateObj: Date): string => pad(dateObj.getMinutes()),\n  s: (dateObj: Date): string => String(dateObj.getSeconds()),\n  ss: (dateObj: Date): string => pad(dateObj.getSeconds()),\n  S: (dateObj: Date): string =>\n    String(Math.round(dateObj.getMilliseconds() / 100)),\n  SS: (dateObj: Date): string =>\n    pad(Math.round(dateObj.getMilliseconds() / 10), 2),\n  SSS: (dateObj: Date): string => pad(dateObj.getMilliseconds(), 3),\n  a: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1],\n  A: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12\n      ? i18n.amPm[0].toUpperCase()\n      : i18n.amPm[1].toUpperCase(),\n  ZZ(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60) * 100 + (Math.abs(offset) % 60), 4)\n    );\n  },\n  Z(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60), 2) +\n      \":\" +\n      pad(Math.abs(offset) % 60, 2)\n    );\n  }\n};\n\ntype ParseInfo = [\n  keyof DateInfo,\n  string,\n  ((v: string, i18n: I18nSettings) => number | null)?,\n  string?\n];\nconst monthParse = (v: string): number => +v - 1;\nconst emptyDigits: ParseInfo = [null, twoDigitsOptional];\nconst emptyWord: ParseInfo = [null, word];\nconst amPm: ParseInfo = [\n  \"isPm\",\n  word,\n  (v: string, i18n: I18nSettings): number | null => {\n    const val = v.toLowerCase();\n    if (val === i18n.amPm[0]) {\n      return 0;\n    } else if (val === i18n.amPm[1]) {\n      return 1;\n    }\n    return null;\n  }\n];\nconst timezoneOffset: ParseInfo = [\n  \"timezoneOffset\",\n  \"[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z?\",\n  (v: string): number | null => {\n    const parts = (v + \"\").match(/([+-]|\\d\\d)/gi);\n\n    if (parts) {\n      const minutes = +parts[1] * 60 + parseInt(parts[2], 10);\n      return parts[0] === \"+\" ? minutes : -minutes;\n    }\n\n    return 0;\n  }\n];\nconst parseFlags: Record<string, ParseInfo> = {\n  D: [\"day\", twoDigitsOptional],\n  DD: [\"day\", twoDigits],\n  Do: [\"day\", twoDigitsOptional + word, (v: string): number => parseInt(v, 10)],\n  M: [\"month\", twoDigitsOptional, monthParse],\n  MM: [\"month\", twoDigits, monthParse],\n  YY: [\n    \"year\",\n    twoDigits,\n    (v: string): number => {\n      const now = new Date();\n      const cent = +(\"\" + now.getFullYear()).substr(0, 2);\n      return +(\"\" + (+v > 68 ? cent - 1 : cent) + v);\n    }\n  ],\n  h: [\"hour\", twoDigitsOptional, undefined, \"isPm\"],\n  hh: [\"hour\", twoDigits, undefined, \"isPm\"],\n  H: [\"hour\", twoDigitsOptional],\n  HH: [\"hour\", twoDigits],\n  m: [\"minute\", twoDigitsOptional],\n  mm: [\"minute\", twoDigits],\n  s: [\"second\", twoDigitsOptional],\n  ss: [\"second\", twoDigits],\n  YYYY: [\"year\", fourDigits],\n  S: [\"millisecond\", \"\\\\d\", (v: string): number => +v * 100],\n  SS: [\"millisecond\", twoDigits, (v: string): number => +v * 10],\n  SSS: [\"millisecond\", threeDigits],\n  d: emptyDigits,\n  dd: emptyDigits,\n  ddd: emptyWord,\n  dddd: emptyWord,\n  MMM: [\"month\", word, monthUpdate(\"monthNamesShort\")],\n  MMMM: [\"month\", word, monthUpdate(\"monthNames\")],\n  a: amPm,\n  A: amPm,\n  ZZ: timezoneOffset,\n  Z: timezoneOffset\n};\n\n// Some common format strings\nconst globalMasks: { [key: string]: string } = {\n  default: \"ddd MMM DD YYYY HH:mm:ss\",\n  shortDate: \"M/D/YY\",\n  mediumDate: \"MMM D, YYYY\",\n  longDate: \"MMMM D, YYYY\",\n  fullDate: \"dddd, MMMM D, YYYY\",\n  isoDate: \"YYYY-MM-DD\",\n  isoDateTime: \"YYYY-MM-DDTHH:mm:ssZ\",\n  shortTime: \"HH:mm\",\n  mediumTime: \"HH:mm:ss\",\n  longTime: \"HH:mm:ss.SSS\"\n};\nconst setGlobalDateMasks = (masks: {\n  [key: string]: string;\n}): { [key: string]: string } => assign(globalMasks, masks);\n\n/***\n * Format a date\n * @method format\n * @param {Date|number} dateObj\n * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n * @returns {string} Formatted date string\n */\nconst format = (\n  dateObj: Date,\n  mask: string = globalMasks[\"default\"],\n  i18n: I18nSettingsOptional = {}\n): string => {\n  if (typeof dateObj === \"number\") {\n    dateObj = new Date(dateObj);\n  }\n\n  if (\n    Object.prototype.toString.call(dateObj) !== \"[object Date]\" ||\n    isNaN(dateObj.getTime())\n  ) {\n    throw new Error(\"Invalid Date pass to format\");\n  }\n\n  mask = globalMasks[mask] || mask;\n\n  const literals: string[] = [];\n\n  // Make literals inactive by replacing them with @@@\n  mask = mask.replace(literal, function($0, $1) {\n    literals.push($1);\n    return \"@@@\";\n  });\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n  // Apply formatting rules\n  mask = mask.replace(token, $0 =>\n    formatFlags[$0](dateObj, combinedI18nSettings)\n  );\n  // Inline literal values back into the formatted value\n  return mask.replace(/@@@/g, () => literals.shift());\n};\n\n/**\n * Parse a date string into a Javascript Date object /\n * @method parse\n * @param {string} dateStr Date string\n * @param {string} format Date parse format\n * @param {i18n} I18nSettingsOptional Full or subset of I18N settings\n * @returns {Date|null} Returns Date object. Returns null what date string is invalid or doesn't match format\n */\nfunction parse(\n  dateStr: string,\n  format: string,\n  i18n: I18nSettingsOptional = {}\n): Date | null {\n  if (typeof format !== \"string\") {\n    throw new Error(\"Invalid format in fecha parse\");\n  }\n\n  // Check to see if the format is actually a mask\n  format = globalMasks[format] || format;\n\n  // Avoid regular expression denial of service, fail early for really long strings\n  // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n  if (dateStr.length > 1000) {\n    return null;\n  }\n\n  // Default to the beginning of the year.\n  const today = new Date();\n  const dateInfo: DateInfo = {\n    year: today.getFullYear(),\n    month: 0,\n    day: 1,\n    hour: 0,\n    minute: 0,\n    second: 0,\n    millisecond: 0,\n    isPm: null,\n    timezoneOffset: null\n  };\n  const parseInfo: ParseInfo[] = [];\n  const literals: string[] = [];\n\n  // Replace all the literals with @@@. Hopefully a string that won't exist in the format\n  let newFormat = format.replace(literal, ($0, $1) => {\n    literals.push(regexEscape($1));\n    return \"@@@\";\n  });\n  const specifiedFields: { [field: string]: boolean } = {};\n  const requiredFields: { [field: string]: boolean } = {};\n\n  // Change every token that we find into the correct regex\n  newFormat = regexEscape(newFormat).replace(token, $0 => {\n    const info = parseFlags[$0];\n    const [field, regex, , requiredField] = info;\n\n    // Check if the person has specified the same field twice. This will lead to confusing results.\n    if (specifiedFields[field]) {\n      throw new Error(`Invalid format. ${field} specified twice in format`);\n    }\n\n    specifiedFields[field] = true;\n\n    // Check if there are any required fields. For instance, 12 hour time requires AM/PM specified\n    if (requiredField) {\n      requiredFields[requiredField] = true;\n    }\n\n    parseInfo.push(info);\n    return \"(\" + regex + \")\";\n  });\n\n  // Check all the required fields are present\n  Object.keys(requiredFields).forEach(field => {\n    if (!specifiedFields[field]) {\n      throw new Error(\n        `Invalid format. ${field} is required in specified format`\n      );\n    }\n  });\n\n  // Add back all the literals after\n  newFormat = newFormat.replace(/@@@/g, () => literals.shift());\n\n  // Check if the date string matches the format. If it doesn't return null\n  const matches = dateStr.match(new RegExp(newFormat, \"i\"));\n  if (!matches) {\n    return null;\n  }\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n\n  // For each match, call the parser function for that date part\n  for (let i = 1; i < matches.length; i++) {\n    const [field, , parser] = parseInfo[i - 1];\n    const value = parser\n      ? parser(matches[i], combinedI18nSettings)\n      : +matches[i];\n\n    // If the parser can't make sense of the value, return null\n    if (value == null) {\n      return null;\n    }\n\n    dateInfo[field] = value;\n  }\n\n  if (dateInfo.isPm === 1 && dateInfo.hour != null && +dateInfo.hour !== 12) {\n    dateInfo.hour = +dateInfo.hour + 12;\n  } else if (dateInfo.isPm === 0 && +dateInfo.hour === 12) {\n    dateInfo.hour = 0;\n  }\n\n  let dateTZ: Date;\n  if (dateInfo.timezoneOffset == null) {\n    dateTZ = new Date(\n      dateInfo.year,\n      dateInfo.month,\n      dateInfo.day,\n      dateInfo.hour,\n      dateInfo.minute,\n      dateInfo.second,\n      dateInfo.millisecond\n    );\n    const validateFields: [\n      \"month\" | \"day\" | \"hour\" | \"minute\" | \"second\",\n      \"getMonth\" | \"getDate\" | \"getHours\" | \"getMinutes\" | \"getSeconds\"\n    ][] = [\n      [\"month\", \"getMonth\"],\n      [\"day\", \"getDate\"],\n      [\"hour\", \"getHours\"],\n      [\"minute\", \"getMinutes\"],\n      [\"second\", \"getSeconds\"]\n    ];\n    for (let i = 0, len = validateFields.length; i < len; i++) {\n      // Check to make sure the date field is within the allowed range. Javascript dates allows values\n      // outside the allowed range. If the values don't match the value was invalid\n      if (\n        specifiedFields[validateFields[i][0]] &&\n        dateInfo[validateFields[i][0]] !== dateTZ[validateFields[i][1]]()\n      ) {\n        return null;\n      }\n    }\n  } else {\n    dateTZ = new Date(\n      Date.UTC(\n        dateInfo.year,\n        dateInfo.month,\n        dateInfo.day,\n        dateInfo.hour,\n        dateInfo.minute - dateInfo.timezoneOffset,\n        dateInfo.second,\n        dateInfo.millisecond\n      )\n    );\n\n    // We can't validate dates in another timezone unfortunately. Do a basic check instead\n    if (\n      dateInfo.month > 11 ||\n      dateInfo.month < 0 ||\n      dateInfo.day > 31 ||\n      dateInfo.day < 1 ||\n      dateInfo.hour > 23 ||\n      dateInfo.hour < 0 ||\n      dateInfo.minute > 59 ||\n      dateInfo.minute < 0 ||\n      dateInfo.second > 59 ||\n      dateInfo.second < 0\n    ) {\n      return null;\n    }\n  }\n\n  // Don't allow invalid dates\n\n  return dateTZ;\n}\nexport default {\n  format,\n  parse,\n  defaultI18n,\n  setGlobalDateI18n,\n  setGlobalDateMasks\n};\nexport { format, parse, defaultI18n, setGlobalDateI18n, setGlobalDateMasks };\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/*  */\n\n// G\nexport {\n  ICanvas,\n  IElement,\n  IGroup,\n  IShape,\n  PathCommand,\n  BBox,\n  Point,\n  ShapeAttrs,\n  Event,\n  AbstractGroup,\n  AbstractShape,\n} from '@antv/g-base';\n//  G-base  g engine \nexport type IG = any;\n\n// adjust\nexport { registerAdjust, getAdjust, Adjust } from '@antv/adjust';\n\n// attr\nexport { getAttribute, Attribute } from '@antv/attr';\nexport { Color } from '@antv/attr';\n\n// coordinate\nexport { getCoordinate, registerCoordinate, Coordinate, CoordinateCfg } from '@antv/coord';\n\n// scale\nexport { getScale, registerScale, Scale, ScaleConfig, Tick } from '@antv/scale';\n\n// component\nimport {\n  Annotation,\n  Axis,\n  Component,\n  Crosshair,\n  Grid,\n  GroupComponent,\n  HtmlComponent,\n  Legend,\n  Slider,\n  Tooltip,\n  Scrollbar,\n} from '@antv/component';\n\nexport {\n  CategoryLegendCfg,\n  CircleAxisCfg,\n  LineAxisCfg,\n  GroupComponentCfg,\n  ListItem,\n  AxisLineCfg,\n  AxisTickLineCfg,\n  AxisSubTickLineCfg,\n  AxisTitleCfg,\n  AxisLabelCfg,\n  GridLineCfg,\n  LegendMarkerCfg,\n  LegendTitleCfg,\n  LegendBackgroundCfg,\n  LegendItemNameCfg,\n  LegendItemValueCfg,\n  LegendPageNavigatorCfg,\n  ContinueLegendCfg,\n  ContinueLegendTrackCfg,\n  ContinueLegendRailCfg,\n  ContinueLegendLabelCfg,\n  ContinueLegendHandlerCfg,\n  CrosshairLineCfg,\n  CrosshairTextCfg,\n  CrosshairTextBackgroundCfg,\n  SliderCfg,\n  TrendCfg,\n  EnhancedTextCfg,\n  LineAnnotationTextCfg,\n  IComponent,\n  IList,\n} from '@antv/component';\n\nexport { HtmlComponent, GroupComponent, Component, Crosshair };\nexport { Annotation };\n// axis\nconst { Line: LineAxis, Circle: CircleAxis } = Axis;\nexport { LineAxis, CircleAxis };\n// grid\nconst { Line: LineGrid, Circle: CircleGrid } = Grid;\nexport { LineGrid, CircleGrid };\n// legend\nconst { Category: CategoryLegend, Continuous: ContinuousLegend } = Legend;\nexport { CategoryLegend, ContinuousLegend };\n// Tooltip\nconst { Html: HtmlTooltip } = Tooltip;\nexport { HtmlTooltip };\n// Slider\nexport { Slider };\n// Scrollbar\nexport { Scrollbar };\n","import { BBox } from '@antv/g-svg';\nimport { each, isEmpty, isNumber, isNumberEqual, max, min } from '@antv/util';\nimport { Coordinate, IShape, Point } from '../dependents';\nimport { ShapeInfo } from '../interface';\n\n// \nfunction getPointsBox(points) {\n  if (isEmpty(points)) {\n    return null;\n  }\n\n  let minX = points[0].x;\n  let maxX = points[0].x;\n  let minY = points[0].y;\n  let maxY = points[0].y;\n  each(points, (point) => {\n    minX = minX > point.x ? point.x : minX;\n    maxX = maxX < point.x ? point.x : maxX;\n    minY = minY > point.y ? point.y : minY;\n    maxY = maxY < point.y ? point.y : maxY;\n  });\n\n  return {\n    minX,\n    maxX,\n    minY,\n    maxY,\n    centerX: (minX + maxX) / 2,\n    centerY: (minY + maxY) / 2,\n  };\n}\n\nfunction uniqueValues<T = number>(array: T[]) {\n  return Array.from(new Set(array)).length === 1;\n}\n\nfunction mid(array: number[]) {\n  return (min(array) + max(array)) / 2;\n}\n\n/**\n * @ignore\n * \n * @param centerX\n * @param centerY\n * @param radius\n * @param angleInRadian\n * @returns\n */\nexport function polarToCartesian(centerX: number, centerY: number, radius: number, angleInRadian: number) {\n  return {\n    x: centerX + radius * Math.cos(angleInRadian),\n    y: centerY + radius * Math.sin(angleInRadian),\n  };\n}\n\n/**\n * @ignore\n *  path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getSectorPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number,\n  innerRadius: number = 0\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  const innerStart = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian);\n  const innerEnd = polarToCartesian(centerX, centerY, innerRadius, endAngleInRadian);\n\n  if (endAngleInRadian - startAngleInRadian === Math.PI * 2) {\n    // \n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    const innerMiddlePoint = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian + Math.PI);\n    const circlePathCommands = [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, end.x, end.y],\n      ['M', innerStart.x, innerStart.y],\n    ];\n    if (innerRadius) {\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerMiddlePoint.x, innerMiddlePoint.y]);\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerEnd.x, innerEnd.y]);\n    }\n\n    circlePathCommands.push(['M', start.x, start.y]);\n    circlePathCommands.push(['Z']);\n\n    return circlePathCommands;\n  }\n\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  const sectorPathCommands = [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n    ['L', innerEnd.x, innerEnd.y],\n  ];\n  if (innerRadius) {\n    sectorPathCommands.push(['A', innerRadius, innerRadius, 0, arcSweep, 0, innerStart.x, innerStart.y]);\n  }\n  sectorPathCommands.push(['L', start.x, start.y]);\n  sectorPathCommands.push(['Z']);\n\n  return sectorPathCommands;\n}\n\n/**\n * @ignore\n * Gets arc path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getArcPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  if (isNumberEqual(endAngleInRadian - startAngleInRadian, Math.PI * 2)) {\n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    return [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, start.x, start.y],\n      ['A', radius, radius, 0, 1, 0, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 0, start.x, start.y],\n      ['Z'],\n    ];\n  }\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  return [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n  ];\n}\n\n/**\n * @ignore\n *  points \n * @param shapeModel\n * @param coordinate\n * @returns\n */\nexport function getAngle(shapeModel: ShapeInfo, coordinate: Coordinate) {\n  const points = shapeModel.points;\n  const box = getPointsBox(points);\n  let endAngle;\n  let startAngle;\n  const { startAngle: coordStartAngle, endAngle: coordEndAngle } = coordinate;\n  const diffAngle = coordEndAngle - coordStartAngle;\n\n  if (coordinate.isTransposed) {\n    endAngle = box.maxY * diffAngle;\n    startAngle = box.minY * diffAngle;\n  } else {\n    endAngle = box.maxX * diffAngle;\n    startAngle = box.minX * diffAngle;\n  }\n  endAngle += coordStartAngle;\n  startAngle += coordStartAngle;\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n * : https://en.wikipedia.org/wiki/Centroid#Of_a_polygon\n */\nexport function getPolygonCentroid(xs: number | number[], ys: number | number[]) {\n  if (isNumber(xs) && isNumber(ys)) {\n    // xs  ys \n    return [xs, ys];\n  }\n\n  xs = xs as number[];\n  ys = ys as number[];\n  //  polygon \n  //  xs [1, 1, 1, 1]\n  //  ys [0, 0, 0, 0]\n  //  k = 0\n  //  [NaN, NaN]\n  // \n  if (uniqueValues(xs) || uniqueValues(ys)) return [mid(xs), mid(ys)];\n\n  let i = -1;\n  let x = 0;\n  let y = 0;\n  let former;\n  let current = xs.length - 1;\n  let diff;\n  let k = 0;\n  while (++i < xs.length) {\n    former = current;\n    current = i;\n    k += diff = xs[former] * ys[current] - xs[current] * ys[former];\n    x += (xs[former] + xs[current]) * diff;\n    y += (ys[former] + ys[current]) * diff;\n  }\n  k *= 3;\n  return [x / k, y / k];\n}\n\n/**\n * @ignore\n *  undefined\n */\nexport function getReplaceAttrs(sourceShape: IShape, targetShape: IShape) {\n  const originAttrs = sourceShape.attr();\n  const newAttrs = targetShape.attr();\n  each(originAttrs, (v, k) => {\n    if (newAttrs[k] === undefined) {\n      newAttrs[k] = undefined;\n    }\n  });\n  return newAttrs;\n}\n","import { isArray, isString } from '@antv/util';\n\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value: number, start: number, end: number): boolean {\n  const min = Math.min(start, end);\n  const max = Math.max(start, end);\n\n  return value >= min && value <= max;\n}\n\n/**\n * @ignore\n * pads the current string/array with a given value (repeated, if needed) so that the resulting reaches a given length.\n * The padding is applied from the end of the current value.\n *\n * @param source\n * @param targetLength\n * @param padValue\n * @returns\n */\nexport function padEnd(source: string | any[], targetLength: number, padValue: any) {\n  if (isString(source)) {\n    return source.padEnd(targetLength, padValue);\n  } else if (isArray(source)) {\n    const sourceLength = source.length;\n    if (sourceLength < targetLength) {\n      const diff = targetLength - sourceLength;\n      for (let i = 0; i < diff; i++) {\n        source.push(padValue);\n      }\n    }\n  }\n\n  return source;\n}\n\n/**\n * @ignore\n * omit keys of an object.\n * @param obj\n * @param keys\n */\nexport function omit<T = any>(obj: T, keys: string[]): T {\n  if (typeof obj === 'object') {\n    keys.forEach((key: string) => {\n      delete obj[key];\n    });\n  }\n\n  return obj;\n}\n\n/**\n * @ignore\n * @param sourceArray\n * @param targetArray\n * @param map\n */\nexport function uniq(sourceArray: any[], targetArray: any[] = [], map: Map<any, boolean> = new Map()) {\n  for (const source of sourceArray) {\n    if (!map.has(source)) {\n      targetArray.push(source);\n      map.set(source, true);\n    }\n  }\n  return targetArray;\n}\n","import { each } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Padding, Point, Region } from '../interface';\nimport { BBox as BBoxObject } from '../dependents';\n\n/**\n * \n */\nexport class BBox {\n  /** x  */\n  public x: number;\n  /** y  */\n  public y: number;\n  /**  */\n  public height: number;\n  /**  */\n  public width: number;\n\n  public static fromRange(minX: number, minY: number, maxX: number, maxY: number) {\n    return new BBox(minX, minY, maxX - minX, maxY - minY);\n  }\n\n  public static fromObject(bbox: BBoxObject) {\n    return new BBox(bbox.minX, bbox.minY, bbox.width, bbox.height);\n  }\n\n  constructor(x: number = 0, y: number = 0, width: number = 0, height: number = 0) {\n    this.x = x;\n    this.y = y;\n    this.height = height;\n    this.width = width;\n  }\n\n  public get minX(): number {\n    return this.x;\n  }\n\n  public get maxX(): number {\n    return this.x + this.width;\n  }\n\n  public get minY(): number {\n    return this.y;\n  }\n\n  public get maxY(): number {\n    return this.y + this.height;\n  }\n\n  public get tl(): Point {\n    return { x: this.x, y: this.y };\n  }\n\n  public get tr(): Point {\n    return { x: this.maxX, y: this.y };\n  }\n\n  public get bl(): Point {\n    return { x: this.x, y: this.maxY };\n  }\n\n  public get br(): Point {\n    return { x: this.maxX, y: this.maxY };\n  }\n\n  public get top(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.minY,\n    };\n  }\n\n  public get right(): Point {\n    return {\n      x: this.maxX,\n      y: this.y + this.height / 2,\n    };\n  }\n  public get bottom(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.maxY,\n    };\n  }\n  public get left(): Point {\n    return {\n      x: this.minX,\n      y: this.y + this.height / 2,\n    };\n  }\n  // end \n\n  /**\n   * \n   * @param {BBox} bbox \n   * @returns      \n   */\n  public isEqual(bbox: BBox): boolean {\n    return this.x === bbox.x && this.y === bbox.y && this.width === bbox.width && this.height === bbox.height;\n  }\n\n  /**\n   * \n   * @param child\n   */\n  public contains(child: BBox): boolean {\n    return child.minX >= this.minX && child.maxX <= this.maxX && child.minY >= this.minY && child.maxY <= this.maxY;\n  }\n\n  /**\n   * \n   * @returns \n   */\n  public clone(): BBox {\n    return new BBox(this.x, this.y, this.width, this.height);\n  }\n\n  /**\n   * \n   * @param subBBox\n   */\n  public add(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.min(b.x, bbox.x);\n      bbox.y = Math.min(b.y, bbox.y);\n      bbox.width = Math.max(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.max(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * \n   * @param subBBox\n   */\n  public merge(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.max(b.x, bbox.x);\n      bbox.y = Math.max(b.y, bbox.y);\n      bbox.width = Math.min(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.min(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * bbox \n   * @param subBBox\n   * @param direction\n   */\n  public cut(subBBox: BBox, direction: DIRECTION): BBox {\n    const width = subBBox.width;\n    const height = subBBox.height;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        return BBox.fromRange(this.minX, this.minY + height, this.maxX, this.maxY);\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        return BBox.fromRange(this.minX, this.minY, this.maxX - width, this.maxY);\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        return BBox.fromRange(this.minX, this.minY, this.maxX, this.maxY - height);\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        return BBox.fromRange(this.minX + width, this.minY, this.maxX, this.maxY);\n      default:\n        // \n        return this;\n    }\n  }\n\n  /**\n   * \n   * @param gap\n   */\n  public shrink(gap: Padding): BBox {\n    const [top, right, bottom, left] = gap;\n\n    return new BBox(this.x + left, this.y + top, this.width - left - right, this.height - top - bottom);\n  }\n\n  /**\n   * \n   * @param gap\n   */\n  public expand(gap: Padding): BBox {\n    const [top, right, bottom, left] = gap;\n\n    return new BBox(this.x - left, this.y - top, this.width + left + right, this.height + top + bottom);\n  }\n\n  /**\n   * get the gap of two bbox, if not exceed, then 0\n   * @param bbox\n   * @returns [top, right, bottom, left]\n   */\n  public exceed(bbox: BBox): Padding {\n    return [\n      Math.max(-this.minY + bbox.minY, 0),\n      Math.max(this.maxX - bbox.maxX, 0),\n      Math.max(this.maxY - bbox.maxY, 0),\n      Math.max(-this.minX + bbox.minX, 0),\n    ];\n  }\n\n  /**\n   * \n   * @param bbox\n   */\n  public collide(bbox: BBox): boolean {\n    return this.minX < bbox.maxX && this.maxX > bbox.minX && this.minY < bbox.maxY && this.maxY > bbox.minY;\n  }\n\n  /**\n   * \n   * @returns \n   */\n  public size(): number {\n    return this.width * this.height;\n  }\n\n  /**\n   *  bbox \n   * @param p\n   */\n  public isPointIn(p: Point) {\n    return p.x >= this.minX && p.x <= this.maxX && p.y >= this.minY && p.y <= this.maxY;\n  }\n}\n\n/**\n *  bbox  region  bbox\n * @param bbox\n * @param region\n */\nexport const getRegionBBox = (bbox: BBox, region: Region): BBox => {\n  const { start, end } = region;\n\n  return new BBox(\n    bbox.x + bbox.width * start.x,\n    bbox.y + bbox.height * start.y,\n    bbox.width * Math.abs(end.x - start.x),\n    bbox.height * Math.abs(end.y - start.y)\n  );\n};\n\n/**\n *  bbox  points\n * @param bbox\n */\nexport function toPoints(bbox: Partial<BBox>): any[] {\n  return [\n    [bbox.minX, bbox.minY],\n    [bbox.maxX, bbox.minY],\n    [bbox.maxX, bbox.maxY],\n    [bbox.minX, bbox.maxY],\n  ];\n}\n","import { Coordinate } from '../dependents';\nimport { Point } from '../interface';\nimport { getSectorPath } from './graphics';\nimport { isBetween } from './helper';\nimport { BBox } from './bbox';\n\n/**\n * @ignore\n * Gets x dimension length\n * @param coordinate\n * @returns x dimension length\n */\nexport function getXDimensionLength(coordinate): number {\n  if (coordinate.isPolar && !coordinate.isTransposed) {\n    //  width \n    return (coordinate.endAngle - coordinate.startAngle) * coordinate.getRadius();\n  }\n\n  // \n  const start = coordinate.convert({ x: 0, y: 0 });\n  const end = coordinate.convert({ x: 1, y: 0 });\n  //  transpose \n  return Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n}\n\n/**\n * @ignore\n * Determines whether full circle is\n * @param coordinate\n * @returns true if full circle\n */\nexport function isFullCircle(coordinate: Coordinate): boolean {\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    return endAngle - startAngle === Math.PI * 2;\n  }\n  return false;\n}\n\n/**\n * @ignore\n * \n * @param coordinate \n * @param point \n * @returns distance to center\n */\nexport function getDistanceToCenter(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter() as Point;\n  return Math.sqrt((point.x - center.x) ** 2 + (point.y - center.y) ** 2);\n}\n\n/**\n * @ignore\n * \n * @param coordinate\n * @param point\n */\nexport function isPointInCoordinate(coordinate: Coordinate, point: Point) {\n  let result = false;\n\n  if (coordinate) {\n    if (coordinate.type === 'theta') {\n      const { start, end } = coordinate;\n      result = isBetween(point.x, start.x, end.x) && isBetween(point.y, start.y, end.y);\n    } else {\n      const invertPoint = coordinate.invert(point);\n\n      result = isBetween(invertPoint.x, 0, 1) && isBetween(invertPoint.y, 0, 1);\n    }\n  }\n\n  return result;\n}\n\n/**\n * @ignore\n * \n */\nexport function getAngleByPoint(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter();\n  return Math.atan2(point.y - center.y, point.x - center.x);\n}\n\n/**\n * @ignore\n * \n * @param coordinate\n * @returns\n */\nexport function getCoordinateClipCfg(coordinate: Coordinate, margin: number = 0) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    const center = coordinate.getCenter();\n    const radius = coordinate.getRadius();\n\n    return {\n      type: 'path',\n      startState: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, startAngle),\n      },\n      endState: (ratio) => {\n        const diff = (endAngle - startAngle) * ratio + startAngle;\n        const path = getSectorPath(center.x, center.y, radius + margin, startAngle, diff);\n        return {\n          path,\n        };\n      },\n      attrs: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, endAngle),\n      },\n    };\n  }\n\n  let endState;\n  if (coordinate.isTransposed) {\n    endState = {\n      height: height + margin * 2,\n    };\n  } else {\n    endState = {\n      width: width + margin * 2,\n    };\n  }\n\n  return {\n    type: 'rect',\n    startState: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: coordinate.isTransposed ? width + margin * 2 : 0,\n      height: coordinate.isTransposed ? 0 : height + margin * 2,\n    },\n    endState,\n    attrs: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: width + margin * 2,\n      height: height + margin * 2,\n    },\n  };\n}\n\n/**\n *  BBox\n * @param coordinate\n * @param margin\n */\nexport function getCoordinateBBox(coordinate: Coordinate, margin = 0) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n  const minX = Math.min(start.x, end.x);\n  const minY = Math.min(start.y, end.y);\n\n  return BBox.fromRange(minX - margin, minY - margin, minX + width + margin, minY + height + margin);\n}\n","import { firstValue, get, isEmpty, isNil, isNumber, isString, valuesOfKey } from '@antv/util';\nimport { GROUP_ATTRS } from '../constant';\nimport { getScale, Scale, Coordinate } from '../dependents';\nimport { LooseObject, ScaleOption, ViewCfg } from '../interface';\nimport { isFullCircle } from './coordinate';\n\nconst dateRegex =\n  /^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\\1(?:29|30)|(?:0?[13578]|1[02])\\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\\2(?:29))(\\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;\n\n/**\n * \n * @param field \n * @param data \n * @returns default type \n */\nfunction getDefaultType(value: any): string {\n  let type = 'linear';\n  if (dateRegex.test(value)) {\n    type = 'timeCat';\n  } else if (isString(value)) {\n    type = 'cat';\n  }\n  return type;\n}\n\n/**\n * using the scale type if user specified, otherwise infer the type\n */\nexport function inferScaleType(scale: Scale, scaleDef: ScaleOption = {}, attrType: string, geometryType: string): string {\n  if (scaleDef.type) return scaleDef.type;\n  // identity scale \n  // geometry : edge,heatmap,interval,line,path,point,polygon,schema,voilininterval  linear scale \n  if (scale.type !== 'identity' && GROUP_ATTRS.includes(attrType) && ['interval'].includes(geometryType)) {\n    return 'cat';\n  }\n  return scale.isCategory ? 'cat' : scale.type;\n}\n\n/**\n * @ignore\n *  `field`  scale\n * @param field \n * @param [data] \n * @param [scaleDef] \n * @returns scale  Scale \n */\nexport function createScaleByField(field: string | number, data?: LooseObject[] | [], scaleDef?: ScaleOption): Scale {\n  const validData = data || [];\n\n  if (isNumber(field) || (isNil(firstValue(validData, field)) && isEmpty(scaleDef))) {\n    const Identity = getScale('identity');\n    return new Identity({\n      field: field.toString(),\n      values: [field],\n    });\n  }\n\n  const values = valuesOfKey(validData, field);\n\n  //  (fix-later  scale type )\n  const type = get(scaleDef, 'type', getDefaultType(values[0]));\n  const ScaleCtor = getScale(type);\n  return new ScaleCtor({\n    field,\n    values,\n    ...scaleDef,\n  });\n}\n\n/**\n * @ignore\n *  scale\n * @todo  scale.update() \n * @param scale  scale \n * @param newScale  Scale\n */\nexport function syncScale(scale: Scale, newScale: Scale) {\n  if (scale.type !== 'identity' && newScale.type !== 'identity') {\n    const obj = {};\n    for (const k in newScale) {\n      if (Object.prototype.hasOwnProperty.call(newScale, k)) {\n        obj[k] = newScale[k];\n      }\n    }\n\n    scale.change(obj);\n  }\n}\n\n/**\n * @ignore\n * get the scale name, if alias exist, return alias, or else field\n * @param scale\n * @returns the name of field\n */\nexport function getName(scale: Scale): string {\n  return scale.alias || scale.field;\n}\n\n/**\n *  scale values  coordinate  range\n * @param scale  scale \n * @param coordinate coordinate \n * @param theme theme\n */\nexport function getDefaultCategoryScaleRange(\n  scale: Scale,\n  coordinate: Coordinate,\n  theme: ViewCfg['theme']\n): Scale['range'] {\n  const { values } = scale;\n  const count = values.length;\n  let range;\n\n  if (count === 1) {\n    range = [0.5, 1]; // , [0.5,0.5] \n  } else {\n    let widthRatio = 1;\n    let offset = 0;\n\n    if (isFullCircle(coordinate)) {\n      if (!coordinate.isTransposed) {\n        range = [0, 1 - 1 / count];\n      } else {\n        widthRatio = get(theme, 'widthRatio.multiplePie', 1 / 1.3);\n        offset = (1 / count) * widthRatio;\n        range = [offset / 2, 1 - offset / 2];\n      }\n    } else {\n      offset = 1 / count / 2; // \n      range = [offset, 1 - offset]; // \n    }\n  }\n  return range;\n}\n\n/**\n * @function yscalemax\n * @param {yScale}\n */\nexport function getMaxScale(scale: Scale) {\n  // values[] NaN/undefined/null \n  const values = scale.values.filter((item) => !isNil(item) && !isNaN(item));\n\n  return Math.max(...values, isNil(scale.max) ? -Infinity : scale.max);\n}\n","import { deepMix, get, isBoolean } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale } from '../dependents';\nimport { AxisCfg, AxisOption, Point, Region } from '../interface';\nimport { getName } from './scale';\nimport { vec2 } from '@antv/matrix-util';\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is rect\n * @param direction\n * @returns axis coordinate region\n */\nexport function getLineAxisRelativeRegion(direction: DIRECTION): Region {\n  let start;\n  let end;\n\n  switch (direction) {\n    case DIRECTION.TOP:\n      start = { x: 0, y: 1 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.RIGHT:\n      start = { x: 1, y: 0 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.BOTTOM:\n      start = { x: 0, y: 0 };\n      end = { x: 1, y: 0 };\n      break;\n    case DIRECTION.LEFT:\n      start = { x: 0, y: 0 };\n      end = { x: 0, y: 1 };\n      break;\n    default:\n      start = end = { x: 0, y: 0 };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is polar\n * @param coordinate\n * @returns axis coordinate region\n */\nexport function getCircleAxisRelativeRegion(coordinate: Coordinate) {\n  let start;\n  let end;\n  if (coordinate.isTransposed) {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 1,\n      y: 0,\n    };\n  } else {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 0,\n      y: 1,\n    };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get the axis region from coordinate\n * @param coordinate\n * @param direction\n * @returns the axis region (start point, end point)\n */\nexport function getAxisRegion(coordinate: Coordinate, direction: DIRECTION): Region {\n  let region = { start: { x: 0, y: 0 }, end: { x: 0, y: 0 } };\n  if (coordinate.isRect) {\n    region = getLineAxisRelativeRegion(direction);\n  } else if (coordinate.isPolar) {\n    region = getCircleAxisRelativeRegion(coordinate);\n  }\n\n  const { start, end } = region;\n  return {\n    start: coordinate.convert(start),\n    end: coordinate.convert(end),\n  };\n}\n\n/**\n * @ignore\n * get axis factor\n * @param coordinate\n * @param direction\n * @returns factor\n */\nexport function getAxisFactor(coordinate: Coordinate, direction: DIRECTION): number {\n  // rect coordinate, by direction\n  if (coordinate.isRect) {\n    return coordinate.isTransposed\n      ? [DIRECTION.RIGHT, DIRECTION.BOTTOM].includes(direction)\n        ? 1\n        : -1\n      : [DIRECTION.BOTTOM, DIRECTION.RIGHT].includes(direction)\n      ? -1\n      : 1;\n  }\n\n  // polar y axis, by angle\n  if (coordinate.isPolar) {\n    const startAngle = coordinate.x.start;\n    return startAngle < 0 ? -1 : 1;\n  }\n\n  return 1;\n}\n\n/**\n * @ignore\n * whether the axis isVertical\n * @param region\n * @returns isVertical\n */\nexport function isVertical(region: Region): boolean {\n  const { start, end } = region;\n\n  return start.x === end.x;\n}\n\n/**\n * @ignore\n * get factor by region (real position)\n * @param region\n * @param center\n * @returns factor\n */\nexport function getAxisFactorByRegion(region: Region, center: Point): number {\n  const { start, end } = region;\n\n  const isAxisVertical = isVertical(region);\n\n  // \n  if (isAxisVertical) {\n    // ,,\n    if ((start.y - end.y) * (center.x - start.x) > 0) {\n      return 1;\n    } else {\n      return -1;\n    }\n  } else {\n    // ,,\n    if ((end.x - start.x) * (start.y - center.y) > 0) {\n      return -1;\n    } else {\n      return 1;\n    }\n  }\n}\n\n/**\n * @ignore\n * get the axis cfg from theme, will mix the common cfg of legend theme\n *\n * @param theme view theme object\n * @param direction axis direction\n * @returns axis theme cfg\n */\nexport function getAxisThemeCfg(theme: object, direction: string): object {\n  const axisTheme = get(theme, ['components', 'axis'], {});\n  return deepMix({}, get(axisTheme, ['common'], {}), deepMix({}, get(axisTheme, [direction], {})));\n}\n\n/**\n * get the options of axis titlemix the cfg from theme, avoid common themeCfg not work\n * @param theme\n * @param direction\n * @param axisOptions\n * @returns axis title options\n */\nexport function getAxisTitleOptions(theme: object, direction: string, axisOptions?: object): object {\n  const axisTheme = get(theme, ['components', 'axis'], {});\n  return deepMix(\n    {},\n    get(axisTheme, ['common', 'title'], {}),\n    deepMix({}, get(axisTheme, [direction, 'title'], {})),\n    axisOptions\n  );\n}\n\n/**\n * @ignore\n * get circle axis center and radius\n * @param coordinate\n */\nexport function getCircleAxisCenterRadius(coordinate: Coordinate) {\n  // @ts-ignore\n  const { x, y, circleCenter: center } = coordinate;\n  const isReflectY = y.start > y.end;\n  const start = coordinate.isTransposed\n    ? coordinate.convert({\n        x: isReflectY ? 0 : 1,\n        y: 0,\n      })\n    : coordinate.convert({\n        x: 0,\n        y: isReflectY ? 0 : 1,\n      });\n\n  const startVector: [number, number] = [start.x - center.x, start.y - center.y];\n  const normalVector: [number, number] = [1, 0];\n  const startAngle =\n    start.y > center.y ? vec2.angle(startVector, normalVector) : vec2.angle(startVector, normalVector) * -1;\n  const endAngle = startAngle + (x.end - x.start);\n  const radius = Math.sqrt((start.x - center.x) ** 2 + (start.y - center.y) ** 2);\n\n  return {\n    center,\n    radius,\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n *  axis \n * @param axes\n * @param field\n * @returns the axis option of field\n */\nexport function getAxisOption(axes: Record<string, AxisOption> | boolean, field: string) {\n  if (isBoolean(axes)) {\n    return axes === false ? false : {};\n  }\n  return get(axes, [field]);\n}\n\n/**\n * @ignore\n *  position\n * @param axisOption\n * @param def\n */\nexport function getAxisDirection(axisOption: AxisOption, def: DIRECTION): DIRECTION {\n  return get(axisOption, 'position', def);\n}\n\n/**\n *  axis  title \n * @param scale\n * @param axisOption\n */\nexport function getAxisTitleText(scale: Scale, axisOption: AxisCfg): string {\n  return get(axisOption, ['title', 'text'], getName(scale));\n}\n","import { deepMix, each, every, get, isNil, isNumber } from '@antv/util';\nimport { LAYER } from '../constant';\nimport { IGroup } from '../dependents';\nimport { AxisCfg, Condition, Datum, FacetCfg, FacetData, FacetDataFilter, Region } from '../interface';\n\nimport View from '../chart/view';\nimport { getAxisOption } from '../util/axis';\n\n/**\n * facet \n *  -  facet\n *  - \n *\n * \n *\n *  init\n * 1. \n * 2. \n *\n *  render\n * 1. view \n * 2. title\n * 3. axis\n *\n *  clear\n * 1.  view\n *\n *  destroy\n * 1. clear\n * 2. \n * 3.  group\n */\nexport abstract class Facet<C extends FacetCfg<FacetData> = FacetCfg<FacetData>, F extends FacetData = FacetData> {\n  /**  view */\n  public view: View;\n  /**  */\n  public container: IGroup;\n  /**  */\n  public destroyed: boolean = false;\n\n  /**  */\n  protected cfg: C;\n  /**  */\n  protected facets: F[] = [];\n\n  constructor(view: View, cfg: C) {\n    this.view = view;\n    this.cfg = deepMix({}, this.getDefaultCfg(), cfg);\n  }\n\n  /**\n   * \n   */\n  public init() {\n    // \n    if (!this.container) {\n      this.container = this.createContainer();\n    }\n\n    // \n    const data = this.view.getData();\n    this.facets = this.generateFacets(data);\n  }\n\n  /**\n   *  view \n   *  -  view\n   *  - \n   *  - title\n   *\n   *  \n   */\n  public render() {\n    this.renderViews();\n  }\n\n  /**\n   *  facet\n   */\n  public update() {\n    //  facet  View  Geometry  view \n  }\n\n  /**\n   * clear  init \n   * \n   */\n  public clear() {\n    this.clearFacetViews();\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.clear();\n\n    if (this.container) {\n      this.container.remove(true);\n      this.container = undefined;\n    }\n\n    this.destroyed = true;\n    this.view = undefined;\n    this.facets = [];\n  }\n\n  /**\n   *  facet  view\n   * @param facet\n   */\n  protected facetToView(facet: F): View {\n    const { region, data, padding = this.cfg.padding } = facet;\n\n    const view = this.view.createView({\n      region,\n      padding,\n    });\n\n    // \n    view.data(data || []);\n    facet.view = view;\n\n    // \n    this.beforeEachView(view, facet);\n\n    const { eachView } = this.cfg;\n    if (eachView) {\n      eachView(view, facet);\n    }\n\n    // \n    this.afterEachView(view, facet);\n\n    return view;\n  }\n\n  // \n  private createContainer(): IGroup {\n    const foregroundGroup = this.view.getLayer(LAYER.FORE);\n    return foregroundGroup.addGroup();\n  }\n\n  /**\n   *  view\n   */\n  private renderViews() {\n    this.createFacetViews();\n  }\n\n  /**\n   *   view\n   */\n  private createFacetViews(): View[] {\n    //   view\n    return this.facets.map((facet): View => {\n      return this.facetToView(facet);\n    });\n  }\n\n  /**\n   *  view  facetView\n   */\n  private clearFacetViews() {\n    //  view  view\n    each(this.facets, (facet) => {\n      if (facet.view) {\n        this.view.removeView(facet.view);\n        facet.view = undefined;\n      }\n    });\n  }\n\n  /**\n   *  spacing\n   */\n  private parseSpacing() {\n    /**\n     * @example\n     *\n     * // \n     * //  10% 10%\n     * ['10%', '10%']\n     * //  10px 10px\n     * [10, 10]\n     *\n     * // \n     * ['10%', 10]\n     * //  10% 10px\n     */\n    const { width, height } = this.view.viewBBox;\n    const { spacing } = this.cfg;\n    return spacing.map((s: number, idx: number) => {\n      if (isNumber(s)) return s / (idx === 0 ? width : height);\n      else return parseFloat(s) / 100;\n    });\n  }\n\n  // \n\n  /**\n   * \n   * @protected\n   * @param data \n   * @param field \n   * @return \n   */\n  protected getFieldValues(data: Datum[], field: string): string[] {\n    const rst = [];\n    const cache: Record<string, boolean> = {};\n\n    //  Nil \n    each(data, (d: Datum) => {\n      const value = d[field];\n      if (!isNil(value) && !cache[value]) {\n        rst.push(value);\n        cache[value] = true;\n      }\n    });\n\n    return rst;\n  }\n\n  /**\n   *  region\n   * @param rows row \n   * @param cols col \n   * @param xIndex x  index\n   * @param yIndex y  index\n   */\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number): Region {\n    const [xSpacing, ySpacing] = this.parseSpacing();\n    // xSPacing, ySpacing\n    // \n    /**\n     * ratio * num + spacing * (num - 1) = 1\n     * => ratio = (1 - (spacing * (num - 1))) / num\n     *          = (1 + spacing) / num - spacing\n     *\n     * num  cols/rows\n     * spacing  xSpacing/ySpacing\n     */\n    const xRatio = (1 + xSpacing) / (cols === 0 ? 1 : cols) - xSpacing;\n    const yRatio = (1 + ySpacing) / (rows === 0 ? 1 : rows) - ySpacing;\n\n    //  index \n    const start = {\n      x: (xRatio + xSpacing) * xIndex,\n      y: (yRatio + ySpacing) * yIndex,\n    };\n    const end = {\n      x: start.x + xRatio,\n      y: start.y + yRatio,\n    };\n    return { start, end };\n  }\n\n  protected getDefaultCfg() {\n    return {\n      eachView: undefined,\n      showTitle: true,\n      spacing: [0, 0],\n      padding: 10,\n      fields: [],\n    };\n  }\n\n  /**\n   *  title  title columnTitlerowTitle\n   */\n  protected getDefaultTitleCfg() {\n    // @ts-ignore\n    const fontFamily = this.view.getTheme().fontFamily;\n    return {\n      style: {\n        fontSize: 14,\n        fill: '#666',\n        fontFamily,\n      },\n    };\n  }\n\n  /**\n   *  axis \n   * @param view\n   * @param facet\n   */\n  protected processAxis(view: View, facet: F) {\n    const options = view.getOptions();\n\n    const coordinateOption = options.coordinate;\n    const geometries = view.geometries;\n\n    const coordinateType = get(coordinateOption, 'type', 'rect');\n\n    if (coordinateType === 'rect' && geometries.length) {\n      if (isNil(options.axes)) {\n        // @ts-ignore\n        options.axes = {};\n      }\n      const axes = options.axes;\n\n      const [x, y] = geometries[0].getXYFields();\n\n      const xOption = getAxisOption(axes, x);\n      const yOption = getAxisOption(axes, y);\n\n      if (xOption !== false) {\n        options.axes[x] = this.getXAxisOption(x, axes, xOption, facet);\n      }\n\n      if (yOption !== false) {\n        options.axes[y] = this.getYAxisOption(y, axes, yOption, facet);\n      }\n    }\n  }\n\n  /**\n   * \n   * @param conditions\n   */\n  protected getFacetDataFilter(conditions: Condition[]): FacetDataFilter {\n    return (datum: Datum) => {\n      // \n      return every(conditions, (condition) => {\n        const { field, value } = condition;\n\n        if (!isNil(value) && field) {\n          return datum[field] === value;\n        }\n        return true;\n      });\n    };\n  }\n\n  /**\n   * @override  eachView\n   * @param view\n   * @param facet\n   */\n  protected abstract beforeEachView(view: View, facet: F);\n\n  /**\n   * @override  eachView \n   * @param view\n   * @param facet\n   */\n  protected abstract afterEachView(view: View, facet: F);\n\n  /**\n   * @override \n   * @param data\n   */\n  protected abstract generateFacets(data: Datum[]): F[];\n\n  /**\n   *  x \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getXAxisOption(x: string, axes: any, option: AxisCfg, facet: F): object;\n\n  /**\n   *  y \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getYAxisOption(y: string, axes: any, option: AxisCfg, facet: F): object;\n}\n","import { lowerCase } from '@antv/util';\nimport { FacetCtor } from '../interface';\nexport { Facet } from './facet';\n\n/**\n *  Facet \n */\nconst Facets: Record<string, FacetCtor> = {};\n\n/**\n *  type  facet \n * @param type \n */\nexport const getFacet = (type: string): FacetCtor => {\n  return Facets[lowerCase(type)];\n};\n\n/**\n *  Facet \n * @param type \n * @param ctor \n */\nexport const registerFacet = (type: string, ctor: FacetCtor) => {\n  Facets[lowerCase(type)] = ctor;\n};\n","import { assign } from '@antv/util';\nimport { IAction, IInteractionContext, LooseObject } from '../../interface';\n\n/**\n * Action \n */\nabstract class Action<T = LooseObject> implements IAction {\n  /** Action  */\n  public name;\n  /**  */\n  public context: IInteractionContext;\n  /** Action  */\n  protected cfg: T;\n  /**  this  */\n  protected cfgFields: string[];\n\n  constructor(context: IInteractionContext, cfg?: T) {\n    this.context = context;\n    this.cfg = cfg;\n    context.addAction(this);\n  }\n\n  /**\n   * \n   * @param cfg\n   */\n  protected applyCfg(cfg) {\n    assign(this, cfg);\n  }\n\n  /**\n   * Inits action\n   */\n  public init() {\n    this.applyCfg(this.cfg);\n  }\n\n  /**\n   * Destroys action\n   */\n  public destroy() {\n    //  action\n    this.context.removeAction(this);\n    // \n    this.context = null;\n  }\n}\n\nexport default Action;\n","import { ActionCallback } from '../../interface';\nimport Action from './base';\n\n/**  Action */\nexport default class CallbackAction extends Action {\n  /**\n   * \n   */\n  public callback: ActionCallback;\n  /**\n   * \n   */\n  public execute() {\n    if (this.callback) {\n      this.callback(this.context);\n    }\n  }\n  /**\n   * \n   */\n  public destroy() {\n    super.destroy();\n    this.callback = null;\n  }\n}\n","import { ActionCallback, IInteractionContext, LooseObject } from '../../interface';\nimport Action from './base';\nimport CallbackAction from './callback';\nimport { get } from '@antv/util';\n\n/** Action  */\ntype ActionConstructor = new (context: IInteractionContext, cfg?: LooseObject) => Action;\n\n/** @ignore */\ninterface ActionOption {\n  ActionClass: ActionConstructor;\n  cfg: LooseObject;\n}\n\n// Action \nconst ActionCache: Record<string, ActionOption> = {};\n\n/**\n *  Action \n * @param actionName - action \n * @param context \n * @returns Action \n */\nexport function createAction(actionName: string, context: IInteractionContext): Action {\n  const actionOption = ActionCache[actionName];\n  let action = null;\n  if (actionOption) {\n    const { ActionClass, cfg } = actionOption;\n    action = new ActionClass(context, cfg);\n    action.name = actionName;\n    action.init();\n  }\n  return action;\n}\n\n/**\n *  action  name \n * @param actionName action  name\n */\nexport function getActionClass(actionName: string): ActionConstructor {\n  const actionOption = ActionCache[actionName];\n  return get(actionOption, 'ActionClass');\n}\n\n/**\n *  Action\n * @param actionName - action \n * @param ActionClass -  action \n */\nexport function registerAction(actionName: string, ActionClass: ActionConstructor, cfg?: LooseObject) {\n  ActionCache[actionName] = {\n    ActionClass,\n    cfg,\n  };\n}\n\n/**\n *  Action\n * @param actionName action \n */\nexport function unregisterAction(actionName: string) {\n  delete ActionCache[actionName];\n}\n\n/**\n *  Action \n * @param callback - action \n * @param context \n * @returns Action \n */\nexport function createCallbackAction(callback: ActionCallback, context: IInteractionContext): CallbackAction {\n  const action = new CallbackAction(context);\n  action.callback = callback;\n  action.name = 'callback';\n  return action;\n}\n","import { vec2 } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position } from '../../../interface';\nimport { getDistanceToCenter } from '../../../util/coordinate';\n\nfunction _points2path(points: Point[], isInCircle: boolean): PathCommand[] {\n  const path = [];\n  if (points.length) {\n    path.push(['M', points[0].x, points[0].y]);\n    for (let i = 1, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      path.push(['L', item.x, item.y]);\n    }\n\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n\n  return path;\n}\n\nfunction _convertArr(arr: number[], coord: Coordinate): any[] {\n  const tmp = [arr[0]];\n  for (let i = 1, len = arr.length; i < len; i = i + 2) {\n    const point = coord.convert({\n      x: arr[i],\n      y: arr[i + 1],\n    });\n    tmp.push(point.x, point.y);\n  }\n  return tmp;\n}\nfunction _convertArcPath(path: PathCommand, coord: Coordinate): any[] {\n  const { isTransposed } = coord;\n  const r = path[1];\n  const x = path[6];\n  const y = path[7];\n  const point = coord.convert({ x, y });\n  const direction = isTransposed ? 0 : 1;\n  return ['A', r, r, 0, 0, direction, point.x, point.y];\n}\n\nfunction _convertPolarPath(pre: PathCommand, cur: PathCommand, coord: Coordinate): PathCommand[] {\n  const { isTransposed, startAngle, endAngle } = coord;\n  const prePoint =\n    pre[0].toLowerCase() === 'a'\n      ? {\n          x: pre[6],\n          y: pre[7],\n        }\n      : {\n          x: pre[1],\n          y: pre[2],\n        };\n  const curPoint = {\n    x: cur[1],\n    y: cur[2],\n  };\n  const rst = [];\n  const xDim = isTransposed ? 'y' : 'x';\n  const angleRange = Math.abs(curPoint[xDim] - prePoint[xDim]) * (endAngle - startAngle);\n  const direction = curPoint[xDim] >= prePoint[xDim] ? 1 : 0; // \n  const flag = angleRange > Math.PI ? 1 : 0; // \n  const convertPoint = coord.convert(curPoint);\n  const r = getDistanceToCenter(coord, convertPoint);\n  if (r >= 0.5) {\n    // 1\n    if (angleRange === Math.PI * 2) {\n      const middlePoint = {\n        x: (curPoint.x + prePoint.x) / 2,\n        y: (curPoint.y + prePoint.y) / 2,\n      };\n      const middleConvertPoint = coord.convert(middlePoint);\n      rst.push(['A', r, r, 0, flag, direction, middleConvertPoint.x, middleConvertPoint.y]);\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    } else {\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    }\n  }\n  return rst;\n}\n\n// \nfunction _filterFullCirleLine(path: PathCommand[]) {\n  each(path, (subPath, index) => {\n    const cur = subPath;\n    if (cur[0].toLowerCase() === 'a') {\n      const pre = path[index - 1];\n      const next = path[index + 1];\n      if (next && next[0].toLowerCase() === 'a') {\n        if (pre && pre[0].toLowerCase() === 'l') {\n          pre[0] = 'M';\n        }\n      } else if (pre && pre[0].toLowerCase() === 'a') {\n        if (next && next[0].toLowerCase() === 'l') {\n          next[0] = 'M';\n        }\n      }\n    }\n  });\n}\n\n/**\n * @ignore\n * \n */\nexport const smoothBezier = (\n  points: Position[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: Position[]\n): Position[] => {\n  const cps = [];\n  const hasConstraint = !!constraint;\n\n  let prevPoint: Position;\n  let nextPoint: Position;\n  let min: Position;\n  let max: Position;\n  let nextCp0: Position;\n  let cp1: Position;\n  let cp0: Position;\n\n  if (hasConstraint) {\n    [min, max] = constraint;\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vec2.min([0, 0], min, point) as [number, number];\n      max = vec2.max([0, 0], max, point) as [number, number];\n    }\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (i === 0 && !isLoop) {\n      cp0 = point;\n    } else if (i === len - 1 && !isLoop) {\n      cp1 = point;\n      cps.push(cp0);\n      cps.push(cp1);\n    } else {\n      prevPoint = points[isLoop ? (i ? i - 1 : len - 1) : i - 1];\n      nextPoint = points[isLoop ? (i + 1) % len : i + 1];\n\n      let v: [number, number] = [0, 0];\n      v = vec2.sub(v, nextPoint, prevPoint) as [number, number];\n      v = vec2.scale(v, v, smooth) as [number, number];\n\n      let d0 = vec2.distance(point, prevPoint);\n      let d1 = vec2.distance(point, nextPoint);\n\n      const sum = d0 + d1;\n      if (sum !== 0) {\n        d0 /= sum;\n        d1 /= sum;\n      }\n\n      let v1 = vec2.scale([0, 0], v, -d0);\n      let v2 = vec2.scale([0, 0], v, d1);\n\n      cp1 = vec2.add([0, 0], point, v1) as Position;\n      nextCp0 = vec2.add([0, 0], point, v2) as Position;\n\n      // \n      nextCp0 = vec2.min([0, 0], nextCp0, vec2.max([0, 0], nextPoint, point)) as Position;\n      nextCp0 = vec2.max([0, 0], nextCp0, vec2.min([0, 0], nextPoint, point)) as Position;\n\n      //  cp1 \n      v1 = vec2.sub([0, 0], nextCp0, point);\n      v1 = vec2.scale([0, 0], v1, -d0 / d1);\n      cp1 = vec2.add([0, 0], point, v1) as Position;\n\n      // \n      cp1 = vec2.min([0, 0], cp1, vec2.max([0, 0], prevPoint, point)) as Position;\n      cp1 = vec2.max([0, 0], cp1, vec2.min([0, 0], prevPoint, point)) as Position;\n\n      //  nextCp0 \n      v2 = vec2.sub([0, 0], point, cp1);\n      v2 = vec2.scale([0, 0], v2, d1 / d0);\n      nextCp0 = vec2.add([0, 0], point, v2) as Position;\n\n      if (hasConstraint) {\n        cp1 = vec2.max([0, 0], cp1, min) as Position;\n        cp1 = vec2.min([0, 0], cp1, max) as Position;\n        nextCp0 = vec2.max([0, 0], nextCp0, min) as Position;\n        nextCp0 = vec2.min([0, 0], nextCp0, max) as Position;\n      }\n\n      cps.push(cp0);\n      cps.push(cp1);\n      cp0 = nextCp0;\n    }\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n\n  return cps;\n};\n\n/**\n * @ignore\n * \n */\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: Position[]): PathCommand[] {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: Position;\n  let cp2: Position;\n  let p: Position;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n/**\n * @ignore\n *  path\n */\nexport function getLinePath(points: Point[], isInCircle?: boolean): PathCommand[] {\n  return _points2path(points, isInCircle);\n}\n\n/**\n * @ignore\n * \n */\nexport function getSplinePath(points: Point[], isInCircle?: boolean, constaint?: Position[]): PathCommand[] {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // \n    return getLinePath(points, isInCircle);\n  }\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  }\n  const constraint = constaint || [\n    // \n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n\n/**\n * @ignore\n * \n */\nexport function convertNormalPath(coord, path: PathCommand[]): PathCommand[] {\n  const tmp = [];\n  each(path, (subPath) => {\n    const action = subPath[0];\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'l':\n      case 'c':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'a':\n        tmp.push(_convertArcPath(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  return tmp;\n}\n\n/**\n * @ignore\n * \n */\nexport function convertPolarPath(coord, path: PathCommand[]): PathCommand[] {\n  let tmp = [];\n  let pre: PathCommand;\n  let cur: PathCommand;\n  let transposed: boolean;\n  let equals: boolean;\n  each(path, (subPath, index) => {\n    const action = subPath[0];\n\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'c':\n      case 'q':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'l':\n        pre = path[index - 1];\n        cur = subPath;\n        transposed = coord.isTransposed;\n        // \n        equals = transposed ? pre[pre.length - 2] === cur[1] : pre[pre.length - 1] === cur[2];\n        if (equals) {\n          tmp = tmp.concat(_convertPolarPath(pre, cur, coord));\n        } else {\n          // y \n          tmp.push(_convertArr(subPath, coord));\n        }\n        break;\n      case 'a':\n        tmp.push(_convertArcPath(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  _filterFullCirleLine(tmp); // \n  return tmp;\n}\n","import { each, isArray } from '@antv/util';\nimport { View } from '../../chart';\nimport { BBox, PathCommand, Point } from '../../dependents';\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element/';\nimport { catmullRom2bezier, getLinePath } from '../../geometry/shape/util/path';\nimport { toPoints } from '../../util/bbox';\nimport { isPolygonsIntersect } from '@antv/path-util';\nimport { ComponentOption, IInteractionContext, LooseObject } from '../../interface';\n\nfunction getMaskBBox(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  const maskBBox = maskShape.getCanvasBBox();\n  //  bbox \n  if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n    return null;\n  }\n  return maskBBox;\n}\n\nfunction getMaskPath(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  const maskBBox = maskShape.getCanvasBBox();\n  //  bbox \n  if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n    return null;\n  }\n  return maskShape.attr('path');\n}\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getCurrentElement(context: IInteractionContext): Element {\n  const event = context.event;\n  let element;\n  const target = event.target;\n  if (target) {\n    element = target.get('element');\n  }\n  return element;\n}\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getDelegationObject(context: IInteractionContext): LooseObject {\n  const event = context.event;\n  const target = event.target;\n  let delegateObject;\n  if (target) {\n    delegateObject = target.get('delegateObject');\n  }\n  return delegateObject;\n}\n\nexport function isElementChange(context: IInteractionContext) {\n  const event = context.event.gEvent;\n  //  element label  shape \n  if (event && event.fromShape && event.toShape && event.fromShape.get('element') === event.toShape.get('element')) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * \n * @param delegateObject \n * @ignore\n */\nexport function isList(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isList();\n}\n\n/**\n * \n * @param delegateObject \n * @ignore\n */\nexport function isSlider(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isSlider();\n}\n\n/**\n *  mask \n * @param context \n * @ignore\n */\nexport function isMask(context: IInteractionContext): boolean {\n  const event = context.event;\n  const target = event.target;\n  return target && target.get('name') === 'mask';\n}\n\n/**\n *  elements\n * @param context \n * @ignore\n */\nexport function getMaskedElements(context: IInteractionContext, tolerance: number): Element[] {\n  const target = context.event.target;\n  if (target.get('type') === 'path') {\n    const maskPath = getMaskPath(context, tolerance);\n    if (!maskPath) {\n      return;\n    }\n    return getElementsByPath(context.view, maskPath);\n  }\n  const maskBBox = getMaskBBox(context, tolerance);\n  //  bbox \n  if (!maskBBox) {\n    return null;\n  }\n  return getIntersectElements(context.view, maskBBox);\n}\n\n/**\n * @ignore\n */\nexport function getSiblingMaskElements(context: IInteractionContext, sibling: View, tolerance: number) {\n  const maskBBox = getMaskBBox(context, tolerance);\n  //  bbox \n  if (!maskBBox) {\n    return null;\n  }\n  const view = context.view;\n  const start = getSiblingPoint(view, sibling, { x: maskBBox.x, y: maskBBox.y });\n  const end = getSiblingPoint(view, sibling, { x: maskBBox.maxX, y: maskBBox.maxY });\n  const box = {\n    minX: start.x,\n    minY: start.y,\n    maxX: end.x,\n    maxY: end.y,\n  };\n  return getIntersectElements(sibling, box);\n}\n\n/**\n * \n * @param view View/Chart\n * @ignore\n */\nexport function getElements(view: View): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.elements;\n    rst = rst.concat(elements);\n  });\n  if (view.views && view.views.length) {\n    each(view.views, (subView) => {\n      rst = rst.concat(getElements(subView));\n    });\n  }\n  return rst;\n}\n\n/**\n * \n * @param view View/Chart\n * @param field \n * @param value \n * @ignore\n */\nexport function getElementsByField(view: View, field: string, value: any) {\n  const elements = getElements(view);\n  return elements.filter((el) => {\n    return getElementValue(el, field) === value;\n  });\n}\n\n/**\n * \n * @param view View/Chart\n * @param stateName \n * @ignore\n */\nexport function getElementsByState(view: View, stateName: string): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.getElementsBy((el) => el.hasState(stateName));\n    rst = rst.concat(elements);\n  });\n  return rst;\n}\n\n/**\n * \n * @param element \n * @param field \n * @ignore\n */\nexport function getElementValue(element: Element, field) {\n  const model = element.getModel();\n  const record = model.data;\n  let value;\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n  return value;\n}\n\n/**\n * \n * @param box1 1\n * @param box2 2\n * @ignore\n */\nexport function intersectRect(box1, box2) {\n  return !(box2.minX > box1.maxX || box2.maxX < box1.minX || box2.minY > box1.maxY || box2.maxY < box1.minY);\n}\n\n/**\n * \n * @param view View/Chart\n * @param box \n * @ignore\n */\nexport function getIntersectElements(view: View, box) {\n  const elements = getElements(view);\n  const rst = [];\n  each(elements, (el) => {\n    const shape = el.shape;\n    const shapeBBox = shape.getCanvasBBox();\n    if (intersectRect(box, shapeBBox)) {\n      rst.push(el);\n    }\n  });\n  return rst;\n}\nfunction pathToPoints(path: any[]) {\n  const points = [];\n  each(path, (seg) => {\n    const command = seg[0];\n    if (command !== 'A') {\n      for (let i = 1; i < seg.length; i = i + 2) {\n        points.push([seg[i], seg[i + 1]]);\n      }\n    } else {\n      const length = seg.length;\n      points.push([seg[length - 2], seg[length - 1]]);\n    }\n  });\n  return points;\n}\n/**\n * \n * @param view View/Chart\n * @param path \n * @ignore\n */\nexport function getElementsByPath(view: View, path: any[]) {\n  const elements = getElements(view);\n  const points = pathToPoints(path);\n  const rst = elements.filter((el: Element) => {\n    const shape = el.shape;\n    let shapePoints;\n    if (shape.get('type') === 'path') {\n      shapePoints = pathToPoints(shape.attr('path'));\n    } else {\n      const shapeBBox = shape.getCanvasBBox();\n      shapePoints = toPoints(shapeBBox);\n    }\n    return isPolygonsIntersect(points, shapePoints);\n  });\n  return rst;\n}\n\n/**\n *  View \n * @param view View/Chart\n * @ignore\n */\nexport function getComponents(view) {\n  return view.getComponents().map((co: ComponentOption) => co.component);\n}\n\n/** @ignore */\nexport function distance(p1: Point, p2: Point) {\n  const dx = p2.x - p1.x;\n  const dy = p2.y - p1.y;\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\n/** @ignore */\nexport function getSpline(points: Point[], z: boolean): PathCommand[] {\n  if (points.length <= 2) {\n    return getLinePath(points, false);\n  }\n  const first = points[0];\n  const arr = [];\n  each(points, (point) => {\n    arr.push(point.x);\n    arr.push(point.y);\n  });\n  const path = catmullRom2bezier(arr, z, null);\n  path.unshift(['M', first.x, first.y]);\n  return path;\n}\n\n/**\n * \n * @param box \n * @param point \n * @ignore\n */\nexport function isInBox(box: BBox, point: Point) {\n  return box.x <= point.x && box.maxX >= point.x && box.y <= point.y && box.maxY > point.y;\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getSilbings(view: View): View[] {\n  const parent = view.parent;\n  let siblings = null;\n  if (parent) {\n    siblings = parent.views.filter((sub) => sub !== view);\n  }\n  return siblings;\n}\n\nfunction point2Normalize(view: View, point: Point): Point {\n  const coord = view.getCoordinate();\n  return coord.invert(point);\n}\n/**\n *  view  view \n * @param view  view\n * @param sibling  view\n * @param point \n * @ignore\n */\nexport function getSiblingPoint(view: View, sibling: View, point: Point): Point {\n  const normalPoint = point2Normalize(view, point);\n  return sibling.getCoordinate().convert(normalPoint);\n}\n\n/**\n *  view \n *  view  includes\n *  x, y  isEqual \n * \n * @param records\n * @param record\n * @param xFiled\n * @param yField\n * @returns\n * @ignore\n */\nexport function isInRecords(records: object[], record: object, xFiled: string, yField: string) {\n  let isIn = false;\n  each(records, (r) => {\n    if (r[xFiled] === record[xFiled] && r[yField] === record[yField]) {\n      isIn = true;\n      return false;\n    }\n  });\n  return isIn;\n}\n\n//  field  scale view  view\nexport function getScaleByField(view: View, field: string) {\n  let scale = view.getScaleByField(field);\n  if (!scale && view.views) {\n    each(view.views, (subView) => {\n      scale = getScaleByField(subView, field);\n      if (scale) {\n        return false; // \n      }\n    });\n  }\n  return scale;\n}\n","import { each, get } from '@antv/util';\nimport { View } from '../chart';\nimport { BBox, IShape, Point } from '../dependents';\nimport { IAction, IInteractionContext, LooseObject } from '../interface';\nimport { getComponents, isInBox } from './action/util';\n\n/**\n * \n */\nexport default class Context implements IInteractionContext {\n  /**  Action */\n  public actions: IAction[] = [];\n  /**  View  */\n  public view: View;\n  /**  */\n  public event: LooseObject = null;\n\n  private cacheMap: LooseObject = {};\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  /**\n   * \n   * @param params \n   *  - \n   *  - \n   */\n  public cache(...params) {\n    if (params.length === 1) {\n      return this.cacheMap[params[0]];\n    } else if (params.length === 2) {\n      this.cacheMap[params[0]] = params[1];\n    }\n  }\n\n  /**\n   *  Action\n   * @param name Action \n   */\n  public getAction(name: string): IAction {\n    return this.actions.find((action) => action.name === name);\n  }\n\n  /**\n   *  Action\n   * @param action Action \n   */\n  public addAction(action: IAction) {\n    this.actions.push(action);\n  }\n\n  /**\n   *  Action\n   * @param action Action \n   */\n  public removeAction(action: IAction) {\n    const actions = this.actions;\n    const index = this.actions.indexOf(action);\n    if (index >= 0) {\n      actions.splice(index, 1);\n    }\n  }\n\n  /**\n   * \n   */\n  public getCurrentPoint(): Point {\n    const event = this.event;\n    if (event) {\n      if (event.target instanceof HTMLElement) {\n        const canvas = this.view.getCanvas();\n        const point = canvas.getPointByClient(event.clientX, event.clientY);\n        return point;\n      } else {\n        return {\n          x: event.x,\n          y: event.y,\n        };\n      }\n    }\n    return null;\n  }\n\n  /**\n   *  shape\n   * @returns current shape\n   */\n  public getCurrentShape(): IShape {\n    return get(this.event, ['gEvent', 'shape']);\n  }\n\n  /**\n   *  View \n   */\n  public isInPlot() {\n    const point = this.getCurrentPoint();\n    if (point) {\n      return this.view.isPointInPlot(point);\n    }\n    return false;\n  }\n\n  /**\n   * \n   * @param name shape  name\n   */\n  public isInShape(name) {\n    const shape = this.getCurrentShape(); //  shape  parent \n    if (shape) {\n      return shape.get('name') === name;\n    }\n    return false;\n  }\n\n  /**\n   * \n   * @param name \n   */\n  public isInComponent(name?: string) {\n    const components = getComponents(this.view);\n    const point = this.getCurrentPoint();\n    if (point) {\n      return !!components.find((component) => {\n        const bbox = component.getBBox() as BBox;\n        if (name) {\n          return component.get('name') === name && isInBox(bbox, point);\n        } else {\n          return isInBox(bbox, point);\n        }\n      });\n    }\n    return false;\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    //  action \n    each(this.actions.slice(), (action) => {\n      action.destroy();\n    });\n    this.view = null;\n    this.event = null;\n    this.actions = null;\n    this.cacheMap = null;\n  }\n}\n","import { View } from '../chart';\nimport { LooseObject } from '../interface';\n\nexport type InteractionConstructor = new (view: View, cfg: LooseObject) => Interaction;\n\n/**\n * \n */\nexport default class Interaction {\n  /** view  chart */\n  protected view: View;\n  /**  */\n  protected cfg: LooseObject;\n\n  constructor(view: View, cfg: LooseObject) {\n    this.view = view;\n    this.cfg = cfg;\n  }\n\n  /**\n   * \n   */\n  public init() {\n    this.initEvents();\n  }\n\n  /**\n   * \n   */\n  protected initEvents() {}\n\n  /**\n   * \n   */\n  protected clearEvents() {}\n\n  /**\n   * \n   */\n  public destroy() {\n    this.clearEvents();\n  }\n}\n","import { each, isArray, isFunction, isString, debounce, throttle } from '@antv/util';\nimport { View } from '../chart';\nimport { ActionCallback, IAction, IInteractionContext, LooseObject } from '../interface';\nimport { createAction, createCallbackAction } from './action/register';\nimport InteractionContext from './context';\nimport Interaction from './interaction';\n\n//  action\nexport function parseAction(actionStr: string, context: IInteractionContext, arg?: any): ActionObject {\n  const arr = actionStr.split(':');\n  const actionName = arr[0];\n  //  action  action\n  const action = context.getAction(actionName) || createAction(actionName, context);\n  if (!action) {\n    throw new Error(`There is no action named ${actionName}`);\n  }\n  const methodName = arr[1];\n  return {\n    action,\n    methodName,\n    arg,\n  };\n}\n\n//  Action\nfunction executeAction(actionObject: ActionObject) {\n  const { action, methodName, arg } = actionObject;\n  if (action[methodName]) {\n    action[methodName](arg);\n  } else {\n    throw new Error(`Action(${action.name}) doesn't have a method called ${methodName}`);\n  }\n}\n\nconst STEP_NAMES = {\n  START: 'start',\n  SHOW_ENABLE: 'showEnable',\n  END: 'end',\n  ROLLBACK: 'rollback',\n  PROCESSING: 'processing',\n};\n\n/**  */\nexport interface InteractionStep {\n  /**\n   *  viewchart  documentwindow \n   */\n  trigger: string;\n  /**\n   *  action\n   * @param context - \n   */\n  isEnable?: (context: IInteractionContext) => boolean;\n  /**\n   * \n   * - action:method : action \n   * - [action1:method1, action2:method]\n   * - ActionCallback: \n   */\n  action: string | string[] | ActionCallback;\n  /**\n   *  action method \n   * -  action args \n   */\n  arg?: any | any[];\n  /**\n   * action \n   */\n  callback?: (context: IInteractionContext) => void;\n  /**\n   * @private\n   * \n   */\n  actionObject?: ActionObject | ActionObject[];\n  /**\n   * \n   */\n  once?: boolean;\n  /**\n   * \n   */\n  throttle?: ThrottleOption;\n  /**\n   * \n   */\n  debounce?: DebounceOption;\n}\n\n// action  debounce  throttlehttps://css-tricks.com/debouncing-throttling-explained-examples/\n/**\n * debounce \n */\nexport interface DebounceOption {\n  /**\n   * \n   */\n  wait: number;\n  /**\n   * \n   */\n  immediate?: boolean;\n}\n\n/**\n * throttle \n */\nexport interface ThrottleOption {\n  /**\n   * \n   */\n  wait: number;\n  /**\n   * \n   */\n  leading?: boolean;\n  /**\n   * \n   */\n  trailing?: boolean;\n}\n\n/**  action  */\ninterface ActionObject {\n  /**\n   *  action\n   */\n  action: IAction;\n  /**\n   * action \n   */\n  methodName: string;\n  /**\n   *  action \n   */\n  arg?: any;\n}\n\n/**  */\nexport interface InteractionSteps {\n  /**\n   * \n   */\n  showEnable?: InteractionStep[];\n  /**\n   * \n   */\n  start?: InteractionStep[];\n  /**\n   * \n   */\n  processing?: InteractionStep[];\n  /**\n   * \n   */\n  end?: InteractionStep[];\n  /**\n   * \n   */\n  rollback?: InteractionStep[];\n}\n\n/**\n * \n */\nexport default class GrammarInteraction extends Interaction {\n  // \n  private steps: InteractionSteps;\n  /**  */\n  public currentStepName: string;\n  /**\n   * \n   */\n  public context: IInteractionContext;\n\n  private callbackCaches: LooseObject = {};\n  // \n  private emitCaches: LooseObject = {};\n\n  constructor(view: View, steps: InteractionSteps) {\n    super(view, steps);\n    this.steps = steps;\n  }\n\n  /**\n   * \n   */\n  public init() {\n    this.initContext();\n    super.init();\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    super.destroy(); // \n    this.steps = null;\n    if (this.context) {\n      this.context.destroy();\n      this.context = null;\n    }\n\n    this.callbackCaches = null;\n    this.view = null;\n  }\n\n  /**\n   * \n   */\n  protected initEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          //  callback callback \n          this.bindEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  /**\n   * \n   */\n  protected clearEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          this.offEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  //  action\n  private initContext() {\n    const view = this.view;\n    const context = new InteractionContext(view);\n    this.context = context;\n    const steps = this.steps;\n    //  Action\n    each(steps, (subSteps: InteractionStep[]) => {\n      each(subSteps, (step: InteractionStep) => {\n        if (isFunction(step.action)) {\n          //  CallbackAction\n          step.actionObject = {\n            action: createCallbackAction(step.action, context),\n            methodName: 'execute',\n          };\n        } else if (isString(step.action)) {\n          // \n          step.actionObject = parseAction(step.action, context, step.arg);\n        } else if (isArray(step.action)) {\n          // \n          const actionArr = step.action;\n          const argArr = isArray(step.arg) ? step.arg : [step.arg];\n          step.actionObject = [];\n          each(actionArr, (actionStr, idx) => {\n            (step.actionObject as ActionObject[]).push(parseAction(actionStr, context, argArr[idx]));\n          });\n        }\n        //  action  actionObject\n      });\n    });\n  }\n\n  // \n  private isAllowStep(stepName: string): boolean {\n    const currentStepName = this.currentStepName;\n    const steps = this.steps;\n    // \n    if (currentStepName === stepName) {\n      return true;\n    }\n\n    if (stepName === STEP_NAMES.SHOW_ENABLE) {\n      // \n      return true;\n    }\n\n    if (stepName === STEP_NAMES.PROCESSING) {\n      //  start  processing\n      return currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.START) {\n      //  processing start end \n      return currentStepName !== STEP_NAMES.PROCESSING;\n    }\n\n    if (stepName === STEP_NAMES.END) {\n      return currentStepName === STEP_NAMES.PROCESSING || currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.ROLLBACK) {\n      if (steps[STEP_NAMES.END]) {\n        //  end,  end \n        return currentStepName === STEP_NAMES.END;\n      } else if (currentStepName === STEP_NAMES.START) {\n        //  end, \n        return true;\n      }\n    }\n    return false;\n  }\n\n  // \n  private isAllowExecute(stepName: string, step: InteractionStep): boolean {\n    if (this.isAllowStep(stepName)) {\n      const key = this.getKey(stepName, step);\n      // \n      if (step.once && this.emitCaches[key]) {\n        return false;\n      }\n      //  isEnable \n      if (step.isEnable) {\n        return step.isEnable(this.context);\n      }\n      return true; //  isEnable \n    }\n    return false;\n  }\n\n  private enterStep(stepName: string) {\n    this.currentStepName = stepName;\n    this.emitCaches = {}; // \n  }\n\n  // \n  private afterExecute(stepName: string, step) {\n    // show enable  step\n    if (stepName !== STEP_NAMES.SHOW_ENABLE && this.currentStepName !== stepName) {\n      this.enterStep(stepName);\n    }\n    const key = this.getKey(stepName, step);\n    // \n    this.emitCaches[key] = true;\n  }\n  // \n  private getKey(stepName, step) {\n    return stepName + step.trigger + step.action;\n  }\n\n  //  step \n  private getActionCallback(stepName: string, step: InteractionStep): (e: object) => void {\n    const context = this.context;\n    const callbackCaches = this.callbackCaches;\n    const actionObject = step.actionObject;\n    if (step.action && actionObject) {\n      const key = this.getKey(stepName, step);\n      if (!callbackCaches[key]) {\n        //  action \n        const actionCallback = (event) => {\n          context.event = event; //  event\n          if (this.isAllowExecute(stepName, step)) {\n            // \n            if (isArray(actionObject)) {\n              each(actionObject, (obj: ActionObject) => {\n                context.event = event; //  context.event \n                executeAction(obj);\n              });\n            } else {\n              context.event = event; //  context.event \n              executeAction(actionObject);\n            }\n            this.afterExecute(stepName, step);\n            if (step.callback) {\n              context.event = event; //  context.event \n              step.callback(context);\n            }\n          } else {\n            // \n            context.event = null;\n          }\n        };\n        //  debounce\n        if (step.debounce) {\n          callbackCaches[key] = debounce(actionCallback, step.debounce.wait, step.debounce.immediate);\n        } else if (step.throttle) {\n          //  throttle\n          callbackCaches[key] = throttle(actionCallback, step.throttle.wait, {\n            leading: step.throttle.leading,\n            trailing: step.throttle.trailing,\n          });\n        } else {\n          // \n          callbackCaches[key] = actionCallback;\n        }\n      }\n      return callbackCaches[key];\n    }\n    return null;\n  }\n\n  private bindEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.addEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.addEventListener(nameArr[1], callback);\n    } else {\n      this.view.on(eventName, callback);\n    }\n  }\n\n  private offEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.removeEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.removeEventListener(nameArr[1], callback);\n    } else {\n      this.view.off(eventName, callback);\n    }\n  }\n}\n","import { clone, isPlainObject, lowerCase, mix } from '@antv/util';\nimport { View } from '../chart';\nimport { LooseObject } from '../interface';\nimport GrammarInteraction, { InteractionSteps } from './grammar-interaction';\nimport { InteractionConstructor } from './interaction';\n\nconst Interactions: LooseObject = {};\n\n/**\n * \n * @param name \n * @returns \n */\nexport function getInteraction(name: string): InteractionSteps | InteractionConstructor {\n  return Interactions[lowerCase(name)];\n}\n\n/**\n * \n * @param name \n * @param interaction \n */\nexport function registerInteraction(name: string, interaction: InteractionSteps | InteractionConstructor) {\n  Interactions[lowerCase(name)] = interaction;\n}\n\n/**\n * \n * @param name \n * @param view  View \n * @param cfg \n */\nexport function createInteraction(name: string, view: View, cfg?: LooseObject) {\n  const interaciton = getInteraction(name);\n  if (!interaciton) {\n    return null;\n  }\n  if (isPlainObject(interaciton)) {\n    //  clone  interaction  step \n    const steps = mix(clone(interaciton), cfg) as InteractionSteps;\n    return new GrammarInteraction(view, steps);\n  } else {\n    const cls = interaciton as InteractionConstructor;\n    return new cls(view, cfg);\n  }\n}\n\nexport { default as Interaction } from './interaction';\nexport { Action, registerAction, getActionClass } from './action';\n","import { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport Element from '../../geometry/element';\nimport { LooseObject, StyleSheet } from '../../interface';\nimport { getAngle } from '../../util/graphics';\n\n/**\n *  axis \n * @param styleSheet\n */\nfunction createAxisStyles(styleSheet: StyleSheet): LooseObject {\n  return {\n    title: {\n      autoRotate: true,\n      position: 'center', // start, center, end\n      spacing: styleSheet.axisTitleSpacing,\n      style: {\n        fill: styleSheet.axisTitleTextFillColor,\n        fontSize: styleSheet.axisTitleTextFontSize,\n        lineHeight: styleSheet.axisTitleTextLineHeight,\n        textBaseline: 'middle',\n        fontFamily: styleSheet.fontFamily,\n      },\n      iconStyle: {\n        fill: styleSheet.axisDescriptionIconFillColor\n      }\n    },\n    label: {\n      autoRotate: false,\n      autoEllipsis: false,\n      autoHide: { type: 'equidistance', cfg: { minGap: 6 } },\n      offset: styleSheet.axisLabelOffset,\n      style: {\n        fill: styleSheet.axisLabelFillColor,\n        fontSize: styleSheet.axisLabelFontSize,\n        lineHeight: styleSheet.axisLabelLineHeight,\n        fontFamily: styleSheet.fontFamily,\n      },\n    },\n    line: {\n      style: {\n        lineWidth: styleSheet.axisLineBorder,\n        stroke: styleSheet.axisLineBorderColor,\n      },\n    },\n    grid: {\n      line: {\n        type: 'line',\n        style: {\n          stroke: styleSheet.axisGridBorderColor,\n          lineWidth: styleSheet.axisGridBorder,\n          lineDash: styleSheet.axisGridLineDash,\n        },\n      },\n      alignTick: true,\n      animate: true,\n    },\n    tickLine: {\n      style: {\n        lineWidth: styleSheet.axisTickLineBorder,\n        stroke: styleSheet.axisTickLineBorderColor,\n      },\n      alignTick: true, // \n      length: styleSheet.axisTickLineLength,\n    },\n    subTickLine: null,\n    animate: true,\n  };\n}\n\n/**\n *\n * @param styleSheet\n */\n// export function\n\n/**\n *  legend \n * @param styleSheet\n */\nfunction createLegendStyles(styleSheet: StyleSheet): LooseObject {\n  return {\n    title: null,\n    marker: {\n      symbol: 'circle',\n      spacing: styleSheet.legendMarkerSpacing,\n      style: {\n        r: styleSheet.legendCircleMarkerSize,\n        fill: styleSheet.legendMarkerColor,\n      },\n    },\n    itemName: {\n      spacing: 5, //  value \n      style: {\n        fill: styleSheet.legendItemNameFillColor,\n        fontFamily: styleSheet.fontFamily,\n        fontSize: styleSheet.legendItemNameFontSize,\n        lineHeight: styleSheet.legendItemNameLineHeight,\n        fontWeight: styleSheet.legendItemNameFontWeight,\n        textAlign: 'start',\n        textBaseline: 'middle',\n      },\n    },\n    itemStates: {\n      active: {\n        nameStyle: {\n          opacity: 0.8,\n        },\n      },\n      unchecked: {\n        nameStyle: {\n          fill: '#D8D8D8',\n        },\n        markerStyle: {\n          fill: '#D8D8D8',\n          stroke: '#D8D8D8',\n        },\n      },\n      inactive: {\n        nameStyle: {\n          fill: '#D8D8D8',\n        },\n        markerStyle: {\n          opacity: 0.2,\n        },\n      },\n    },\n    flipPage: true,\n    pageNavigator: {\n      marker: {\n        style: {\n          size: styleSheet.legendPageNavigatorMarkerSize,\n          inactiveFill: styleSheet.legendPageNavigatorMarkerInactiveFillColor,\n          inactiveOpacity: styleSheet.legendPageNavigatorMarkerInactiveFillOpacity,\n          fill: styleSheet.legendPageNavigatorMarkerFillColor,\n          opacity: styleSheet.legendPageNavigatorMarkerFillOpacity,\n        },\n      },\n      text: {\n        style: {\n          fill: styleSheet.legendPageNavigatorTextFillColor,\n          fontSize: styleSheet.legendPageNavigatorTextFontSize,\n        },\n      },\n    },\n    animate: false,\n    maxItemWidth: 200,\n    itemSpacing: styleSheet.legendItemSpacing,\n    itemMarginBottom: styleSheet.legendItemMarginBottom,\n    padding: styleSheet.legendPadding, // \n  };\n}\n\n/**\n * \n * @param styleSheet \n */\nexport function createThemeByStyleSheet(styleSheet: StyleSheet): LooseObject {\n  const shapeStyles = {\n    point: {\n      default: {\n        fill: styleSheet.pointFillColor,\n        r: styleSheet.pointSize,\n        stroke: styleSheet.pointBorderColor,\n        lineWidth: styleSheet.pointBorder,\n        fillOpacity: styleSheet.pointFillOpacity,\n      },\n      active: {\n        stroke: styleSheet.pointActiveBorderColor,\n        lineWidth: styleSheet.pointActiveBorder,\n      },\n      selected: {\n        stroke: styleSheet.pointSelectedBorderColor,\n        lineWidth: styleSheet.pointSelectedBorder,\n      },\n      inactive: {\n        fillOpacity: styleSheet.pointInactiveFillOpacity,\n        strokeOpacity: styleSheet.pointInactiveBorderOpacity,\n      },\n    },\n    hollowPoint: {\n      default: {\n        fill: styleSheet.hollowPointFillColor,\n        lineWidth: styleSheet.hollowPointBorder,\n        stroke: styleSheet.hollowPointBorderColor,\n        strokeOpacity: styleSheet.hollowPointBorderOpacity,\n        r: styleSheet.hollowPointSize,\n      },\n      active: {\n        stroke: styleSheet.hollowPointActiveBorderColor,\n        strokeOpacity: styleSheet.hollowPointActiveBorderOpacity,\n      },\n      selected: {\n        lineWidth: styleSheet.hollowPointSelectedBorder,\n        stroke: styleSheet.hollowPointSelectedBorderColor,\n        strokeOpacity: styleSheet.hollowPointSelectedBorderOpacity,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.hollowPointInactiveBorderOpacity,\n      },\n    },\n    area: {\n      default: {\n        fill: styleSheet.areaFillColor,\n        fillOpacity: styleSheet.areaFillOpacity,\n        stroke: null,\n      },\n      active: {\n        fillOpacity: styleSheet.areaActiveFillOpacity,\n      },\n      selected: {\n        fillOpacity: styleSheet.areaSelectedFillOpacity,\n      },\n      inactive: {\n        fillOpacity: styleSheet.areaInactiveFillOpacity,\n      },\n    },\n    hollowArea: {\n      default: {\n        fill: null,\n        stroke: styleSheet.hollowAreaBorderColor,\n        lineWidth: styleSheet.hollowAreaBorder,\n        strokeOpacity: styleSheet.hollowAreaBorderOpacity,\n      },\n      active: {\n        fill: null,\n        lineWidth: styleSheet.hollowAreaActiveBorder,\n      },\n      selected: {\n        fill: null,\n        lineWidth: styleSheet.hollowAreaSelectedBorder,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.hollowAreaInactiveBorderOpacity,\n      },\n    },\n    interval: {\n      default: {\n        fill: styleSheet.intervalFillColor,\n        fillOpacity: styleSheet.intervalFillOpacity,\n      },\n      active: {\n        stroke: styleSheet.intervalActiveBorderColor,\n        lineWidth: styleSheet.intervalActiveBorder,\n      },\n      selected: {\n        stroke: styleSheet.intervalSelectedBorderColor,\n        lineWidth: styleSheet.intervalSelectedBorder,\n      },\n      inactive: {\n        fillOpacity: styleSheet.intervalInactiveFillOpacity,\n        strokeOpacity: styleSheet.intervalInactiveBorderOpacity,\n      },\n    },\n    hollowInterval: {\n      default: {\n        fill: styleSheet.hollowIntervalFillColor,\n        stroke: styleSheet.hollowIntervalBorderColor,\n        lineWidth: styleSheet.hollowIntervalBorder,\n        strokeOpacity: styleSheet.hollowIntervalBorderOpacity,\n      },\n      active: {\n        stroke: styleSheet.hollowIntervalActiveBorderColor,\n        lineWidth: styleSheet.hollowIntervalActiveBorder,\n        strokeOpacity: styleSheet.hollowIntervalActiveBorderOpacity,\n      },\n      selected: {\n        stroke: styleSheet.hollowIntervalSelectedBorderColor,\n        lineWidth: styleSheet.hollowIntervalSelectedBorder,\n        strokeOpacity: styleSheet.hollowIntervalSelectedBorderOpacity,\n      },\n      inactive: {\n        stroke: styleSheet.hollowIntervalInactiveBorderColor,\n        lineWidth: styleSheet.hollowIntervalInactiveBorder,\n        strokeOpacity: styleSheet.hollowIntervalInactiveBorderOpacity,\n      },\n    },\n    line: {\n      default: {\n        stroke: styleSheet.lineBorderColor,\n        lineWidth: styleSheet.lineBorder,\n        strokeOpacity: styleSheet.lineBorderOpacity,\n        fill: null,\n        lineAppendWidth: 10,\n        lineCap: 'round',\n        lineJoin: 'round',\n      },\n      active: {\n        lineWidth: styleSheet.lineActiveBorder,\n      },\n      selected: {\n        lineWidth: styleSheet.lineSelectedBorder,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.lineInactiveBorderOpacity,\n      },\n    },\n  };\n  const axisStyles = createAxisStyles(styleSheet);\n  const legendStyles = createLegendStyles(styleSheet);\n\n  return {\n    background: styleSheet.backgroundColor,\n    defaultColor: styleSheet.brandColor,\n    subColor: styleSheet.subColor,\n    semanticRed: styleSheet.paletteSemanticRed,\n    semanticGreen: styleSheet.paletteSemanticGreen,\n    padding: 'auto',\n    fontFamily: styleSheet.fontFamily,\n    // Theme\n    /** geometrygeometrynull */\n    columnWidthRatio: 1 / 2,\n    /**  */\n    maxColumnWidth: null,\n    /**  */\n    minColumnWidth: null,\n    /**  */\n    roseWidthRatio: 0.9999999,\n    /** / */\n    multiplePieWidthRatio: 1 / 1.3,\n    colors10: styleSheet.paletteQualitative10,\n    colors20: styleSheet.paletteQualitative20,\n    sequenceColors: styleSheet.paletteSequence,\n    shapes: {\n      point: [\n        'hollow-circle',\n        'hollow-square',\n        'hollow-bowtie',\n        'hollow-diamond',\n        'hollow-hexagon',\n        'hollow-triangle',\n        'hollow-triangle-down',\n        'circle',\n        'square',\n        'bowtie',\n        'diamond',\n        'hexagon',\n        'triangle',\n        'triangle-down',\n        'cross',\n        'tick',\n        'plus',\n        'hyphen',\n        'line',\n      ],\n      line: ['line', 'dash', 'dot', 'smooth'],\n      area: ['area', 'smooth', 'line', 'smooth-line'],\n      interval: ['rect', 'hollow-rect', 'line', 'tick'],\n    },\n    sizes: [1, 10],\n    geometries: {\n      interval: {\n        rect: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: (element: Element) => {\n              const coordinate = element.geometry.coordinate;\n              if (coordinate.isPolar && coordinate.isTransposed) {\n                const { startAngle, endAngle } = getAngle(element.getModel(), coordinate);\n                const middleAngle = (startAngle + endAngle) / 2;\n                const r = 7.5;\n                const x = r * Math.cos(middleAngle);\n                const y = r * Math.sin(middleAngle);\n                return {\n                  matrix: ext.transform(null, [['t', x, y]]),\n                };\n              }\n              return shapeStyles.interval.selected;\n            },\n          },\n        },\n        'hollow-rect': {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        tick: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        funnel: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n        pyramid: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n      },\n      line: {\n        line: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        dot: {\n          default: {\n            style: {\n              ...shapeStyles.line.default,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          active: {\n            style: {\n              ...shapeStyles.line.active,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          inactive: {\n            style: {\n              ...shapeStyles.line.inactive,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          selected: {\n            style: {\n              ...shapeStyles.line.selected,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n        },\n        dash: {\n          default: {\n            style: {\n              ...shapeStyles.line.default,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          active: {\n            style: {\n              ...shapeStyles.line.active,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          inactive: {\n            style: {\n              ...shapeStyles.line.inactive,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          selected: {\n            style: {\n              ...shapeStyles.line.selected,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vh: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hvh: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vhv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n      },\n      polygon: {\n        polygon: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n      },\n      point: {\n        circle: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        square: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        bowtie: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        diamond: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        hexagon: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        triangle: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        'triangle-down': {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        'hollow-circle': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-square': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-bowtie': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-diamond': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-hexagon': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-triangle': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-triangle-down': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        cross: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        tick: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        plus: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        hyphen: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n      },\n      area: {\n        area: {\n          default: {\n            style: shapeStyles.area.default,\n          },\n          active: {\n            style: shapeStyles.area.active,\n          },\n          inactive: {\n            style: shapeStyles.area.inactive,\n          },\n          selected: {\n            style: shapeStyles.area.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.area.default,\n          },\n          active: {\n            style: shapeStyles.area.active,\n          },\n          inactive: {\n            style: shapeStyles.area.inactive,\n          },\n          selected: {\n            style: shapeStyles.area.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n        'smooth-line': {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n      },\n      schema: {\n        candle: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        box: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n      },\n      edge: {\n        line: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vhv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        arc: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n      },\n      violin: {\n        violin: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hollow: {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n        'hollow-smooth': {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n      },\n    },\n    components: {\n      axis: {\n        common: axisStyles,\n        top: {\n          position: 'top',\n          grid: null,\n          title: null,\n          verticalLimitLength: 1 / 2,\n        },\n        bottom: {\n          position: 'bottom',\n          grid: null,\n          title: null,\n          verticalLimitLength: 1 / 2,\n        },\n        left: {\n          position: 'left',\n          title: null,\n          line: null,\n          tickLine: null,\n          verticalLimitLength: 1 / 3,\n        },\n        right: {\n          position: 'right',\n          title: null,\n          line: null,\n          tickLine: null,\n          verticalLimitLength: 1 / 3,\n        },\n        circle: {\n          title: null,\n          grid: deepMix({}, axisStyles.grid, { line: { type: 'line' } }),\n        },\n        radius: {\n          title: null,\n          grid: deepMix({}, axisStyles.grid, { line: { type: 'circle' } }),\n        },\n      },\n      legend: {\n        common: legendStyles,\n        right: {\n          layout: 'vertical',\n          padding: styleSheet.legendVerticalPadding,\n        },\n        left: {\n          layout: 'vertical',\n          padding: styleSheet.legendVerticalPadding,\n        },\n        top: {\n          layout: 'horizontal',\n          padding: styleSheet.legendHorizontalPadding,\n        },\n        bottom: {\n          layout: 'horizontal',\n          padding: styleSheet.legendHorizontalPadding,\n        },\n        continuous: {\n          title: null,\n          background: null,\n          track: {},\n          rail: {\n            type: 'color',\n            size: styleSheet.sliderRailHeight,\n            defaultLength: styleSheet.sliderRailWidth,\n            style: {\n              fill: styleSheet.sliderRailFillColor,\n              stroke: styleSheet.sliderRailBorderColor,\n              lineWidth: styleSheet.sliderRailBorder,\n            },\n          },\n          label: {\n            align: 'rail',\n            spacing: 4, //  rail \n            formatter: null,\n            style: {\n              fill: styleSheet.sliderLabelTextFillColor,\n              fontSize: styleSheet.sliderLabelTextFontSize,\n              lineHeight: styleSheet.sliderLabelTextLineHeight,\n              textBaseline: 'middle',\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          handler: {\n            size: styleSheet.sliderHandlerWidth,\n            style: {\n              fill: styleSheet.sliderHandlerFillColor,\n              stroke: styleSheet.sliderHandlerBorderColor,\n            },\n          },\n          slidable: true,\n          padding: legendStyles.padding,\n        },\n      },\n      tooltip: {\n        showContent: true,\n        follow: true,\n        showCrosshairs: false,\n        showMarkers: true,\n        shared: false,\n        enterable: false,\n        position: 'auto',\n        marker: {\n          symbol: 'circle',\n          stroke: '#fff',\n          shadowBlur: 10,\n          shadowOffsetX: 0,\n          shadowOffsetY: 0,\n          shadowColor: 'rgba(0,0,0,0.09)',\n          lineWidth: 2,\n          r: 4,\n        },\n        crosshairs: {\n          line: {\n            style: {\n              stroke: styleSheet.tooltipCrosshairsBorderColor,\n              lineWidth: styleSheet.tooltipCrosshairsBorder,\n            },\n          },\n          text: null,\n          textBackground: {\n            padding: 2,\n            style: {\n              fill: 'rgba(0, 0, 0, 0.25)',\n              lineWidth: 0,\n              stroke: null,\n            },\n          },\n          follow: false,\n        },\n        // tooltip dom \n        domStyles: {\n          [`${TOOLTIP_CSS_CONST.CONTAINER_CLASS}`]: {\n            position: 'absolute',\n            visibility: 'hidden',\n            zIndex: 8,\n            transition: 'left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s',\n            backgroundColor: styleSheet.tooltipContainerFillColor,\n            opacity: styleSheet.tooltipContainerFillOpacity,\n            boxShadow: styleSheet.tooltipContainerShadow,\n            borderRadius: `${styleSheet.tooltipContainerBorderRadius}px`,\n            color: styleSheet.tooltipTextFillColor,\n            fontSize: `${styleSheet.tooltipTextFontSize}px`,\n            fontFamily: styleSheet.fontFamily,\n            lineHeight: `${styleSheet.tooltipTextLineHeight}px`,\n            padding: '0 12px 0 12px',\n          },\n          [`${TOOLTIP_CSS_CONST.TITLE_CLASS}`]: {\n            marginBottom: '12px',\n            marginTop: '12px',\n          },\n          [`${TOOLTIP_CSS_CONST.LIST_CLASS}`]: {\n            margin: 0,\n            listStyleType: 'none',\n            padding: 0,\n          },\n          [`${TOOLTIP_CSS_CONST.LIST_ITEM_CLASS}`]: {\n            listStyleType: 'none',\n            padding: 0,\n            marginBottom: '12px',\n            marginTop: '12px',\n            marginLeft: 0,\n            marginRight: 0,\n          },\n          [`${TOOLTIP_CSS_CONST.MARKER_CLASS}`]: {\n            width: '8px',\n            height: '8px',\n            borderRadius: '50%',\n            display: 'inline-block',\n            marginRight: '8px',\n          },\n          [`${TOOLTIP_CSS_CONST.VALUE_CLASS}`]: {\n            display: 'inline-block',\n            float: 'right',\n            marginLeft: '30px',\n          },\n        },\n      },\n      annotation: {\n        arc: {\n          style: {\n            stroke: styleSheet.annotationArcBorderColor,\n            lineWidth: styleSheet.annotationArcBorder,\n          },\n          animate: true,\n        },\n        line: {\n          style: {\n            stroke: styleSheet.annotationLineBorderColor,\n            lineDash: styleSheet.annotationLineDash,\n            lineWidth: styleSheet.annotationLineBorder,\n          },\n          text: {\n            position: 'start',\n            autoRotate: true,\n            style: {\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              textAlign: 'start',\n              fontFamily: styleSheet.fontFamily,\n              textBaseline: 'bottom',\n            },\n          },\n          animate: true,\n        },\n        text: {\n          style: {\n            fill: styleSheet.annotationTextFillColor,\n            stroke: styleSheet.annotationTextBorderColor,\n            lineWidth: styleSheet.annotationTextBorder,\n            fontSize: styleSheet.annotationTextFontSize,\n            textBaseline: 'middle',\n            textAlign: 'start',\n            fontFamily: styleSheet.fontFamily,\n          },\n          animate: true,\n        },\n        region: {\n          top: false,\n          style: {\n            lineWidth: styleSheet.annotationRegionBorder,\n            stroke: styleSheet.annotationRegionBorderColor,\n            fill: styleSheet.annotationRegionFillColor,\n            fillOpacity: styleSheet.annotationRegionFillOpacity,\n          }, // \n          animate: true,\n        },\n        image: {\n          top: false,\n          animate: true,\n        },\n        dataMarker: {\n          top: true,\n          point: {\n            style: {\n              r: 3,\n              stroke: styleSheet.brandColor,\n              lineWidth: 2,\n            },\n          },\n          line: {\n            style: {\n              stroke: styleSheet.annotationLineBorderColor,\n              lineWidth: styleSheet.annotationLineBorder,\n            },\n            length: styleSheet.annotationDataMarkerLineLength,\n          },\n          text: {\n            style: {\n              textAlign: 'start',\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          direction: 'upward',\n          autoAdjust: true,\n          animate: true,\n        },\n        dataRegion: {\n          style: {\n            region: {\n              fill: styleSheet.annotationRegionFillColor,\n              fillOpacity: styleSheet.annotationRegionFillOpacity,\n            },\n            text: {\n              textAlign: 'center',\n              textBaseline: 'bottom',\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          animate: true,\n        },\n      },\n      slider: {\n        common: {\n          padding: [8, 8, 8, 8],\n          backgroundStyle: {\n            fill: styleSheet.cSliderBackgroundFillColor,\n            opacity: styleSheet.cSliderBackgroundFillOpacity,\n          },\n          foregroundStyle: {\n            fill: styleSheet.cSliderForegroundFillColor,\n            opacity: styleSheet.cSliderForegroundFillOpacity,\n          },\n          handlerStyle: {\n            width: styleSheet.cSliderHandlerWidth,\n            height: styleSheet.cSliderHandlerHeight,\n            fill: styleSheet.cSliderHandlerFillColor,\n            opacity: styleSheet.cSliderHandlerFillOpacity,\n            stroke: styleSheet.cSliderHandlerBorderColor,\n            lineWidth: styleSheet.cSliderHandlerBorder,\n            radius: styleSheet.cSliderHandlerBorderRadius,\n            // \n            highLightFill: styleSheet.cSliderHandlerHighlightFillColor,\n          },\n          textStyle: {\n            fill: styleSheet.cSliderTextFillColor,\n            opacity: styleSheet.cSliderTextFillOpacity,\n            fontSize: styleSheet.cSliderTextFontSize,\n            lineHeight: styleSheet.cSliderTextLineHeight,\n            fontWeight: styleSheet.cSliderTextFontWeight,\n            stroke: styleSheet.cSliderTextBorderColor,\n            lineWidth: styleSheet.cSliderTextBorder,\n          },\n        },\n      },\n      scrollbar: {\n        common: {\n          padding: [8, 8, 8, 8],\n        },\n        default: {\n          style: {\n            trackColor: styleSheet.scrollbarTrackFillColor,\n            thumbColor: styleSheet.scrollbarThumbFillColor,\n          },\n        },\n        hover: {\n          style: {\n            thumbColor: styleSheet.scrollbarThumbHighlightFillColor,\n          },\n        },\n      },\n    },\n    labels: {\n      offset: 12,\n      style: {\n        fill: styleSheet.labelFillColor,\n        fontSize: styleSheet.labelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.labelBorderColor,\n        lineWidth: styleSheet.labelBorder,\n      },\n      fillColorDark: styleSheet.labelFillColorDark,\n      fillColorLight: styleSheet.labelFillColorLight,\n      autoRotate: true,\n    },\n    innerLabels: {\n      style: {\n        fill: styleSheet.innerLabelFillColor,\n        fontSize: styleSheet.innerLabelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.innerLabelBorderColor,\n        lineWidth: styleSheet.innerLabelBorder,\n      },\n      autoRotate: true,\n    },\n    overflowLabels: {\n      style: {\n        fill: styleSheet.overflowLabelFillColor,\n        fontSize: styleSheet.overflowLabelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.overflowLabelBorderColor,\n        lineWidth: styleSheet.overflowLabelBorder,\n      },\n    },\n    pieLabels: {\n      labelHeight: 14,\n      offset: 10,\n      labelLine: {\n        style: {\n          lineWidth: styleSheet.labelLineBorder,\n        },\n      },\n      autoRotate: true,\n    },\n  };\n}\n","import { StyleSheetCfg } from '../../interface';\n\nconst BLACK_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst WHITE_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#6F5EF9',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#6F5EF9',\n  '#D3CEFD',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\n/**  */\nconst SINGLE_SEQUENCE = [\n  '#B8E1FF',\n  '#9AC5FF',\n  '#7DAAFF',\n  '#5B8FF9',\n  '#3D76DD',\n  '#085EC0',\n  '#0047A5',\n  '#00318A',\n  '#001D70',\n];\n\nexport const createLightStyleSheet = (cfg: StyleSheetCfg = {}) => {\n  const { paletteQualitative10 = QUALITATIVE_10, paletteQualitative20 = QUALITATIVE_20 } = cfg;\n  const { brandColor = paletteQualitative10[0] } = cfg;\n\n  const token = {\n    /**  */\n    backgroundColor: 'transparent',\n    /**  */\n    brandColor,\n    /**  */\n    subColor: 'rgba(0,0,0,0.05)',\n    /**  1 10  */\n    paletteQualitative10,\n    /**  2 10  */\n    paletteQualitative20,\n    /**  */\n    paletteSemanticRed: '#F4664A',\n    /**  */\n    paletteSemanticGreen: '#30BF78',\n    /**  */\n    paletteSemanticYellow: '#FAAD14',\n    /** () */\n    paletteSequence: SINGLE_SEQUENCE,\n    /**  */\n    fontFamily: `\"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n    \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n    \"Noto Color Emoji\"`,\n\n    // --------------------  --------------------\n    /**  */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisLineBorder: 1,\n    /**  lineDash  */\n    axisLineDash: null,\n\n    /**  */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /**  */\n    axisTitleTextFontSize: 12,\n    /**  */\n    axisTitleTextLineHeight: 12,\n    /**  */\n    axisTitleTextFontWeight: 'normal',\n    /**  */\n    axisTitleSpacing: 12,\n    /** icon */\n    axisDescriptionIconFillColor: WHITE_COLORS[85],\n\n    /**  */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisTickLineLength: 4,\n    /**  */\n    axisTickLineBorder: 1,\n\n    /**  */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisSubTickLineLength: 2,\n    /**  */\n    axisSubTickLineBorder: 1,\n\n    /**  */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /**  */\n    axisLabelFontSize: 12,\n    /**  */\n    axisLabelLineHeight: 12,\n    /**  */\n    axisLabelFontWeight: 'normal',\n    /**  */\n    axisLabelOffset: 8,\n\n    /**  */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisGridBorder: 1,\n    /**  */\n    axisGridLineDash: null,\n\n    // --------------------  --------------------\n    /**  */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendTitleTextFontSize: 12,\n    /**  */\n    legendTitleTextLineHeight: 21,\n    /**  */\n    legendTitleTextFontWeight: 'normal',\n\n    /**  marker  */\n    legendMarkerColor: brandColor,\n    /**  marker  */\n    legendMarkerSpacing: 8,\n    /**  marker  */\n    legendMarkerSize: 4,\n    /**  'circle' marker  */\n    legendCircleMarkerSize: 4,\n    /**  'square' marker  */\n    legendSquareMarkerSize: 4,\n    /**  'line' marker  */\n    legendLineMarkerSize: 5,\n\n    /**  */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /**  */\n    legendItemNameFontSize: 12,\n    /**  */\n    legendItemNameLineHeight: 12,\n    /**  */\n    legendItemNameFontWeight: 'normal',\n    /**  */\n    legendItemSpacing: 24,\n    /**  */\n    legendItemMarginBottom: 12,\n    /**   */\n    legendPadding: [8, 8, 8, 8],\n    /**  */\n    legendHorizontalPadding: [8, 0, 8, 0],\n    /**  */\n    legendVerticalPadding: [0, 8, 0, 8],\n\n    // \n    /**  marker  */\n    legendPageNavigatorMarkerSize: 12,\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillColor: BLACK_COLORS[100],\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillOpacity: 0.45,\n    /**  marker  */\n    legendPageNavigatorMarkerFillColor: BLACK_COLORS[100],\n    /**  marker  */\n    legendPageNavigatorMarkerFillOpacity: 1,\n    /**  */\n    legendPageNavigatorTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendPageNavigatorTextFontSize: 12,\n\n    /**  */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /**  */\n    sliderRailBorder: 0,\n    /**  */\n    sliderRailBorderColor: null,\n    /**  */\n    sliderRailWidth: 100,\n    /**  */\n    sliderRailHeight: 12,\n\n    /**  */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /**  */\n    sliderLabelTextFontSize: 12,\n    /**  */\n    sliderLabelTextLineHeight: 12,\n    /**  */\n    sliderLabelTextFontWeight: 'normal',\n\n    /**  */\n    sliderHandlerFillColor: BLACK_COLORS[6],\n    /**  */\n    sliderHandlerWidth: 10,\n    /**  */\n    sliderHandlerHeight: 14,\n    /**  */\n    sliderHandlerBorder: 1,\n    /**  */\n    sliderHandlerBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Annotation --------------------\n    /** arc  */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc  */\n    annotationArcBorder: 1,\n\n    /** line  */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line  */\n    annotationLineBorder: 1,\n    /** lube  */\n    annotationLineDash: null,\n\n    /** text  */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text  */\n    annotationTextFontSize: 12,\n    /** text  */\n    annotationTextLineHeight: 12,\n    /** text  */\n    annotationTextFontWeight: 'normal',\n    /** text  */\n    annotationTextBorderColor: null,\n    /** text  */\n    annotationTextBorder: 0,\n\n    /** region  */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region  */\n    annotationRegionFillOpacity: 0.06,\n    /** region  */\n    annotationRegionBorder: 0,\n    /** region  */\n    annotationRegionBorderColor: null,\n\n    /** dataMarker  */\n    annotationDataMarkerLineLength: 16,\n\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs  */\n    tooltipCrosshairsLineDash: null,\n\n    /** tooltip  */\n    tooltipContainerFillColor: 'rgb(255, 255, 255)',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip  */\n    tooltipContainerShadow: '0px 0px 10px #aeaeae',\n    /** tooltip  */\n    tooltipContainerBorderRadius: 3,\n\n    /** tooltip  */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip  */\n    tooltipTextFontSize: 12,\n    /** tooltip  */\n    tooltipTextLineHeight: 12,\n    /** tooltip  */\n    tooltipTextFontWeight: 'bold',\n\n    // -------------------- Geometry labels --------------------\n    /** Geometry label  */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    labelFontSize: 12,\n    /** Geometry label  */\n    labelLineHeight: 12,\n    /** Geometry label  */\n    labelFontWeight: 'normal',\n    /** Geometry label  */\n    labelBorderColor: null,\n    /** Geometry label  */\n    labelBorder: 0,\n\n    /** Geometry innerLabel  */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel  */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel  */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel  */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel  */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel  */\n    innerLabelBorder: 0,\n\n    /** Geometry overflowLabel  */\n    overflowLabelFillColor: BLACK_COLORS[65],\n    /** Geometry overflowLabel  */\n    overflowLabelFontSize: 12,\n    /** Geometry overflowLabel  */\n    overflowLabelLineHeight: 12,\n    /** Geometry overflowLabel  */\n    overflowLabelFontWeight: 'normal',\n    /** Geometry overflowLabel  */\n    overflowLabelBorderColor: WHITE_COLORS[100],\n    /** Geometry overflowLabel  */\n    overflowLabelBorder: 1,\n\n    /** Geometry label  */\n    labelLineBorder: 1,\n    /** Geometry label  */\n    labelLineBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Slider --------------------\n    /** slider  */\n    cSliderRailHieght: 16,\n    /** slider  */\n    cSliderBackgroundFillColor: '#416180',\n    /** slider  */\n    cSliderBackgroundFillOpacity: 0.05,\n    /** slider  */\n    cSliderForegroundFillColor: '#5B8FF9',\n    /** slider  */\n    cSliderForegroundFillOpacity: 0.15,\n    // slider handlerStyle \n    /** slider  */\n    cSliderHandlerHeight: 24,\n    /** Slider  */\n    cSliderHandlerWidth: 10,\n    /** Slider  */\n    cSliderHandlerFillColor: '#F7F7F7',\n    /** Slider  */\n    cSliderHandlerFillOpacity: 1,\n    /** Slider  */\n    cSliderHandlerHighlightFillColor: '#FFF',\n    /** Slider  */\n    cSliderHandlerBorderColor: '#BFBFBF',\n    /** Slider  */\n    cSliderHandlerBorder: 1,\n    /** Slider  */\n    cSliderHandlerBorderRadius: 2,\n    // slider textStyle \n    /** Slider  */\n    cSliderTextFillColor: '#000',\n    /** Slider  */\n    cSliderTextFillOpacity: 0.45,\n    /** Slider  */\n    cSliderTextFontSize: 12,\n    /** Slider  */\n    cSliderTextLineHeight: 12,\n    /** Slider  */\n    cSliderTextFontWeight: 'normal',\n    /** Slider  */\n    cSliderTextBorderColor: null,\n    /** Slider  */\n    cSliderTextBorder: 0,\n\n    // -------------------- Scrollbar --------------------\n    /**   */\n    scrollbarTrackFillColor: 'rgba(0,0,0,0)',\n    /**   */\n    scrollbarThumbFillColor: 'rgba(0,0,0,0.15)',\n    /**   */\n    scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.2)',\n\n    // -------------------- Geometry --------------------\n    /**  */\n    pointFillColor: brandColor,\n    /**  */\n    pointFillOpacity: 0.95,\n    /**  */\n    pointSize: 4,\n    /**  */\n    pointBorder: 1,\n    /**  */\n    pointBorderColor: WHITE_COLORS[100],\n    /**  */\n    pointBorderOpacity: 1,\n\n    /**  active  */\n    pointActiveBorderColor: BLACK_COLORS[100],\n\n    /**  selected  */\n    pointSelectedBorder: 2,\n    /**  selected  */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n\n    /**  inactive  */\n    pointInactiveFillOpacity: 0.3,\n    /**  inactive  */\n    pointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    hollowPointSize: 4,\n    /**  */\n    hollowPointBorder: 1,\n    /**  */\n    hollowPointBorderColor: brandColor,\n    /**  */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n\n    /**  active  */\n    hollowPointActiveBorder: 1,\n    /**  active  */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /**  active  */\n    hollowPointActiveBorderOpacity: 1,\n\n    /**  selected  */\n    hollowPointSelectedBorder: 2,\n    /**  selected  */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /**  selected  */\n    hollowPointSelectedBorderOpacity: 1,\n\n    /**  inactive  */\n    hollowPointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    lineBorder: 2,\n    /**  */\n    lineBorderColor: brandColor,\n    /**  */\n    lineBorderOpacity: 1,\n\n    /**  Active  */\n    lineActiveBorder: 3,\n\n    /**  selected  */\n    lineSelectedBorder: 3,\n\n    /**  inactive  */\n    lineInactiveBorderOpacity: 0.3,\n\n    /** area  */\n    areaFillColor: brandColor,\n    /** area  */\n    areaFillOpacity: 0.25,\n\n    /** area  active  */\n    areaActiveFillColor: brandColor,\n    areaActiveFillOpacity: 0.5,\n\n    /** area  selected  */\n    areaSelectedFillColor: brandColor,\n    areaSelectedFillOpacity: 0.5,\n\n    /** area inactive  */\n    areaInactiveFillOpacity: 0.3,\n\n    /** hollowArea  */\n    hollowAreaBorderColor: brandColor,\n    /** hollowArea  */\n    hollowAreaBorder: 2,\n    /** hollowArea  */\n    hollowAreaBorderOpacity: 1,\n\n    /** hollowArea active  */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea selected  */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea inactive  */\n    hollowAreaInactiveBorderOpacity: 0.3,\n\n    /** interval  */\n    intervalFillColor: brandColor,\n    /** interval  */\n    intervalFillOpacity: 0.95,\n\n    /** interval active  */\n    intervalActiveBorder: 1,\n    /** interval active  */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n\n    /** interval selected  */\n    intervalSelectedBorder: 2,\n    /** interval selected  */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected  */\n    intervalSelectedBorderOpacity: 1,\n\n    /** interval inactive  */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive  */\n    intervalInactiveFillOpacity: 0.3,\n\n    /** interval  */\n    hollowIntervalBorder: 2,\n    /** hollowInterval  */\n    hollowIntervalBorderColor: brandColor,\n    /** hollowInterval  */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n\n    /** hollowInterval active  */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active  */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderOpacity: 1,\n\n    /** hollowInterval inactive  */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n  };\n\n  return { ...token, ...cfg };\n};\n\nexport const antvLight = createLightStyleSheet();\n","import { deepMix } from '@antv/util';\nimport { createThemeByStyleSheet } from './create-by-style-sheet';\nimport { createLightStyleSheet } from '../style-sheet/light';\nimport { LooseObject, StyleSheetCfg } from '../../interface';\n\ninterface ThemeCfg extends LooseObject {\n  styleSheet?: StyleSheetCfg;\n}\n\nexport function createTheme(themeCfg: ThemeCfg): LooseObject {\n  const { styleSheet: styleSheetCfg = {}, ...themeObject } = themeCfg;\n\n  //   ( light )\n  const styleSheet = createLightStyleSheet(styleSheetCfg);\n  //  \n  return deepMix({}, createThemeByStyleSheet(styleSheet), themeObject);\n}\n","import { get, lowerCase } from '@antv/util';\nimport { LooseObject } from '../interface';\n\nimport { createTheme } from './util';\n\nconst defaultTheme = createTheme({});\n\n// \nconst Themes: Record<string, LooseObject> = {\n  default: defaultTheme,\n};\n\n/**\n * \n * @param theme \n */\nexport function getTheme(theme?: string): LooseObject {\n  return get(Themes, lowerCase(theme), Themes.default);\n}\n\n/**\n * \n * @param theme \n * @param value \n */\nexport function registerTheme(theme: string, value: LooseObject) {\n  Themes[lowerCase(theme)] = createTheme(value);\n}\n","import {\n  contains,\n  filter,\n  find,\n  isArray,\n  isEmpty,\n  isFunction,\n  isNil,\n  isNumberEqual,\n  isObject,\n  memoize,\n  get,\n  values,\n} from '@antv/util';\nimport { View } from '../chart';\nimport { FIELD_ORIGIN, GROUP_ATTRS } from '../constant';\nimport { Attribute, Scale } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { Data, Datum, MappingDatum, Point, TooltipCfg, TooltipTitle } from '../interface';\nimport { getName, inferScaleType } from './scale';\n\nfunction snapEqual(v1: any, v2: any, scale: Scale) {\n  const value1 = scale.translate(v1);\n  const value2 = scale.translate(v2);\n\n  return isNumberEqual(value1, value2);\n}\n\nfunction getXValueByPoint(point: Point, geometry: Geometry): number {\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const range = xScale.range;\n  const rangeMax = range[range.length - 1];\n  const rangeMin = range[0];\n\n  const invertPoint = coordinate.invert(point);\n\n  let xValue = invertPoint.x;\n  if (coordinate.isPolar && xValue > (1 + rangeMax) / 2) {\n    xValue = rangeMin; // scale  range \n  }\n  return xScale.translate(xScale.invert(xValue));\n}\n\nfunction filterYValue(data: Data, point: Point, geometry: Geometry) {\n  const coordinate = geometry.coordinate;\n  const yScale = geometry.getYScale();\n  const yField = yScale.field;\n  const invertPoint = coordinate.invert(point);\n  const yValue = yScale.invert(invertPoint.y);\n\n  const result = find(data, (obj: Datum) => {\n    const originData = obj[FIELD_ORIGIN];\n    return originData[yField][0] <= yValue && originData[yField][1] >= yValue;\n  });\n  return result || data[data.length - 1];\n}\n\nconst getXDistance = memoize((scale: Scale) => {\n  if (scale.isCategory) {\n    return 1;\n  }\n  const scaleValues = scale.values; // values \n  const length = scaleValues.length;\n  let min = scale.translate(scaleValues[0]);\n  let max = min;\n\n  for (let index = 0; index < length; index++) {\n    const value = scaleValues[index];\n    //  translate\n    const numericValue = scale.translate(value);\n    if (numericValue < min) {\n      min = numericValue;\n    }\n    if (numericValue > max) {\n      max = numericValue;\n    }\n  }\n  return (max - min) / (length - 1);\n});\n\n/**\n *  tooltip  title\n * @param originData\n * @param geometry\n * @param title\n */\nfunction getTooltipTitle(originData: Datum, geometry: Geometry, title: TooltipTitle): string {\n  const positionAttr = geometry.getAttribute('position');\n  const fields = positionAttr.getFields();\n  const scales = geometry.scales;\n\n  const titleField = isFunction(title) || !title ? fields[0] : title;\n  const titleScale = scales[titleField];\n\n  //  scale scale.getText() \n  //  scale title \n  const tooltipTitle = titleScale ? titleScale.getText(originData[titleField]) : originData[titleField] || titleField;\n\n  return isFunction(title) ? title(tooltipTitle, originData) : tooltipTitle;\n}\n\nfunction getAttributesForLegend(geometry: Geometry) {\n  const attributes = values(geometry.attributes);\n  return filter(attributes, (attribute: Attribute) => contains(GROUP_ATTRS, attribute.type));\n}\n\nfunction getTooltipValueScale(geometry: Geometry) {\n  const attributes = getAttributesForLegend(geometry);\n  let scale;\n  for (const attribute of attributes) {\n    const tmpScale = attribute.getScale(attribute.type);\n    if (tmpScale && tmpScale.isLinear) {\n      const tmpScaleDef = get(geometry.scaleDefs, tmpScale.field);\n      const inferedScaleType = inferScaleType(tmpScale, tmpScaleDef, attribute.type, geometry.type);\n      if (inferedScaleType !== 'cat') {\n        //  position \n        scale = tmpScale;\n        break;\n      }\n    }\n  }\n\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  return scale || yScale || xScale;\n}\n\nfunction getTooltipValue(originData: Datum, valueScale: Scale) {\n  const field = valueScale.field;\n  const value = originData[field];\n\n  if (isArray(value)) {\n    const texts = value.map((eachValue) => {\n      return valueScale.getText(eachValue);\n    });\n    return texts.join('-');\n  }\n  return valueScale.getText(value);\n}\n\n//  tooltip item  name \nfunction getTooltipName(originData: Datum, geometry: Geometry) {\n  let nameScale: Scale;\n  const groupScales = geometry.getGroupScales();\n  if (groupScales.length) {\n    // \n    nameScale = groupScales[0];\n  }\n  if (nameScale) {\n    const field = nameScale.field;\n    return nameScale.getText(originData[field]);\n  }\n\n  const valueScale = getTooltipValueScale(geometry);\n  return getName(valueScale);\n}\n\n/**\n * @ignore\n * Finds data from geometry by point\n * @param point canvas point\n * @param data an item of geometry.dataArray\n * @param geometry\n * @returns\n */\nexport function findDataByPoint(point: Point, data: MappingDatum[], geometry: Geometry) {\n  if (data.length === 0) {\n    return null;\n  }\n\n  const geometryType = geometry.type;\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  const xField = xScale.field;\n  const yField = yScale.field;\n\n  let rst = null;\n\n  //  point \n  if (geometryType === 'heatmap' || geometryType === 'point') {\n    //  point \n    const coordinate = geometry.coordinate;\n    const invertPoint = coordinate.invert(point); // \n    const x = xScale.invert(invertPoint.x); // \n    const y = yScale.invert(invertPoint.y); // \n\n    let min = Infinity;\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const originData = obj[FIELD_ORIGIN];\n      const range = (originData[xField] - x) ** 2 + (originData[yField] - y) ** 2;\n      if (range < min) {\n        min = range;\n        rst = obj;\n      }\n    }\n\n    return rst;\n  }\n\n  //  Geometry  x \n  const first = data[0];\n  let last = data[data.length - 1];\n  const xValue = getXValueByPoint(point, geometry);\n  const firstXValue = first[FIELD_ORIGIN][xField];\n  const firstYValue = first[FIELD_ORIGIN][yField];\n  const lastXValue = last[FIELD_ORIGIN][xField];\n  const isYArray = yScale.isLinear && isArray(firstYValue); //  x y \n\n  //  x \n  if (isArray(firstXValue)) {\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const originData = record[FIELD_ORIGIN];\n      // xValue  originData[xField] \n      if (xScale.translate(originData[xField][0]) <= xValue && xScale.translate(originData[xField][1]) >= xValue) {\n        if (isYArray) {\n          // x  y \n          if (!isArray(rst)) {\n            rst = [];\n          }\n          rst.push(record);\n        } else {\n          rst = record;\n          break;\n        }\n      }\n    }\n    if (isArray(rst)) {\n      rst = filterYValue(rst, point, geometry);\n    }\n  } else {\n    let next;\n    if (!xScale.isLinear && xScale.type !== 'timeCat') {\n      // x \n      for (let index = 0; index < data.length; index++) {\n        const record = data[index];\n        const originData = record[FIELD_ORIGIN];\n        if (snapEqual(originData[xField], xValue, xScale)) {\n          if (isYArray) {\n            if (!isArray(rst)) {\n              rst = [];\n            }\n            rst.push(record);\n          } else {\n            rst = record;\n            break;\n          }\n        } else if (xScale.translate(originData[xField]) <= xValue) {\n          last = record;\n          next = data[index + 1];\n        }\n      }\n\n      if (isArray(rst)) {\n        rst = filterYValue(rst, point, geometry);\n      }\n    } else {\n      // x \n      if (\n        (xValue > xScale.translate(lastXValue) || xValue < xScale.translate(firstXValue)) &&\n        (xValue > xScale.max || xValue < xScale.min)\n      ) {\n        // \n        return null;\n      }\n\n      let firstIdx = 0;\n      let lastIdx = data.length - 1;\n      let middleIdx;\n      while (firstIdx <= lastIdx) {\n        middleIdx = Math.floor((firstIdx + lastIdx) / 2);\n        const item = data[middleIdx][FIELD_ORIGIN][xField];\n        if (snapEqual(item, xValue, xScale)) {\n          return data[middleIdx];\n        }\n\n        if (xScale.translate(item) <= xScale.translate(xValue)) {\n          firstIdx = middleIdx + 1;\n          last = data[middleIdx];\n          next = data[middleIdx + 1];\n        } else {\n          if (lastIdx === 0) {\n            last = data[0];\n          }\n          lastIdx = middleIdx - 1;\n        }\n      }\n    }\n\n    if (last && next) {\n      // \n      if (\n        Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) >\n        Math.abs(xScale.translate(next[FIELD_ORIGIN][xField]) - xValue)\n      ) {\n        last = next;\n      }\n    }\n  }\n\n  const distance = getXDistance(geometry.getXScale()); // \n  if (!rst && Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) <= distance / 2) {\n    rst = last;\n  }\n\n  return rst;\n}\n\n/**\n * @ignore\n * Gets tooltip items\n * @param data\n * @param geometry\n * @param [title]\n * @returns\n */\nexport function getTooltipItems(\n  data: MappingDatum,\n  geometry: Geometry,\n  title: TooltipTitle = '',\n  showNil: boolean = false\n) {\n  const originData = data[FIELD_ORIGIN];\n  const tooltipTitle = getTooltipTitle(originData, geometry, title);\n  const tooltipOption = geometry.tooltipOption;\n  const { defaultColor } = geometry.theme;\n  const items = [];\n  let name;\n  let value;\n\n  function addItem(itemName, itemValue) {\n    if (showNil || (!isNil(itemValue) && itemValue !== '')) {\n      //  null\n      const item = {\n        title: tooltipTitle,\n        data: originData, // \n        mappingData: data, // \n        name: itemName,\n        value: itemValue,\n        color: data.color || defaultColor,\n        marker: true,\n      };\n\n      items.push(item);\n    }\n  }\n\n  if (isObject(tooltipOption)) {\n    const { fields, callback } = tooltipOption;\n    if (callback) {\n      // \n      const callbackParams = fields.map((field: string) => {\n        return data[FIELD_ORIGIN][field];\n      });\n      const cfg = callback(...callbackParams);\n      const itemCfg = {\n        data: data[FIELD_ORIGIN], // \n        mappingData: data, // \n        title: tooltipTitle,\n        color: data.color || defaultColor,\n        marker: true, //  marker\n        ...cfg,\n      };\n\n      items.push(itemCfg);\n    } else {\n      const scales = geometry.scales;\n      for (const field of fields) {\n        if (!isNil(originData[field])) {\n          // null, undefined \n          const scale = scales[field];\n          name = getName(scale);\n          value = scale.getText(originData[field]);\n          addItem(name, value);\n        }\n      }\n    }\n  } else {\n    const valueScale = getTooltipValueScale(geometry);\n    // null ,undefined\n    value = getTooltipValue(originData, valueScale);\n    name = getTooltipName(originData, geometry);\n    addItem(name, value);\n  }\n  return items;\n}\n\nfunction getTooltipItemsByFindData(geometry: Geometry, point, title, tooltipCfg: TooltipCfg) {\n  const { showNil } = tooltipCfg;\n  const result = [];\n  const dataArray = geometry.dataArray;\n  if (!isEmpty(dataArray)) {\n    geometry.sort(dataArray); //  tooltip \n    for (const data of dataArray) {\n      const record = findDataByPoint(point, data, geometry);\n      if (record) {\n        const elementId = geometry.getElementId(record);\n        const element = geometry.elementsMap[elementId];\n        if (geometry.type === 'heatmap' || element.visible) {\n          // Heatmap  Element\n          //  tooltip \n          const items = getTooltipItems(record, geometry, title, showNil);\n          if (items.length) {\n            result.push(items);\n          }\n        }\n      }\n    }\n  }\n\n  return result;\n}\n\nfunction getTooltipItemsByHitShape(geometry, point, title, tooltipCfg: TooltipCfg) {\n  const { showNil } = tooltipCfg;\n  const result = [];\n  const container = geometry.container;\n  const shape = container.getShape(point.x, point.y);\n  if (shape && shape.get('visible') && shape.get('origin')) {\n    const mappingData = shape.get('origin').mappingData;\n    const items = getTooltipItems(mappingData, geometry, title, showNil);\n    if (items.length) {\n      result.push(items);\n    }\n  }\n\n  return result;\n}\n\n/**\n * \n */\nexport function findItemsFromView(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  const result = [];\n  //  view \n  const geometries = view.geometries;\n  const { shared, title, reversed } = tooltipCfg;\n  for (const geometry of geometries) {\n    if (geometry.visible && geometry.tooltipOption !== false) {\n      // geometry  tooltip\n      const geometryType = geometry.type;\n      let tooltipItems;\n      if (['point', 'edge', 'polygon'].includes(geometryType)) {\n        // \n        tooltipItems = getTooltipItemsByHitShape(geometry, point, title, tooltipCfg);\n      } else if (['area', 'line', 'path', 'heatmap'].includes(geometryType)) {\n        //  'area', 'line', 'path' tooltip\n        tooltipItems = getTooltipItemsByFindData(geometry, point, title, tooltipCfg);\n      } else {\n        if (shared !== false) {\n          tooltipItems = getTooltipItemsByFindData(geometry, point, title, tooltipCfg);\n        } else {\n          tooltipItems = getTooltipItemsByHitShape(geometry, point, title, tooltipCfg);\n        }\n      }\n      if (tooltipItems.length) {\n        if (reversed) {\n          tooltipItems.reverse();\n        }\n        // geometry  item geometry.tooltip('x*y*z')\n        result.push(tooltipItems);\n      }\n    }\n  }\n\n  return result;\n}\n\nexport function findItemsFromViewRecurisive(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  let result = findItemsFromView(view, point, tooltipCfg);\n\n  // \n  for (const childView of view.views) {\n    result = result.concat(findItemsFromView(childView, point, tooltipCfg));\n  }\n\n  return result;\n}\n","import { isArray, isNumber } from '@antv/util';\nimport { Padding, ViewPadding } from '../interface';\n\n/**\n * @ignore\n *  padding\n * @param padding\n */\nexport function isAutoPadding(padding: ViewPadding): padding is 'auto' {\n  return !isNumber(padding) && !isArray(padding);\n}\n\n/**\n * @ignore\n * padding \n * @param padding\n * @return [ top, right, bottom, left ]\n */\nexport function parsePadding(padding: number[] | number = 0): Padding {\n  let paddingArray = isArray(padding) ? padding : [padding];\n\n  switch (paddingArray.length) {\n    case 0:\n      paddingArray = [0, 0, 0, 0];\n      break;\n    case 1:\n      paddingArray = new Array(4).fill(paddingArray[0]);\n      break;\n    case 2:\n      paddingArray = [...paddingArray, ...paddingArray];\n      break;\n    case 3:\n      paddingArray = [...paddingArray, paddingArray[1]];\n      break;\n    default:\n      // \n      paddingArray = paddingArray.slice(0, 4);\n      break;\n  }\n\n  return paddingArray as [number, number, number, number];\n}\n","import { ControllerCtor } from './base';\n\nconst LOAD_COMPONENT_CONTROLLERS: Record<string, ControllerCtor> = {};\n\n/**\n * \n * @param name \n * @param plugin \n * @returns void\n */\nexport function registerComponentController(name: string, plugin: ControllerCtor) {\n  LOAD_COMPONENT_CONTROLLERS[name] = plugin;\n}\n\n/**\n * \n * @param name \n * @returns void\n */\nexport function unregisterComponentController(name: string) {\n  delete LOAD_COMPONENT_CONTROLLERS[name];\n}\n\n/**\n * \n * @returns string[] \n */\nexport function getComponentControllerNames(): string[] {\n  return Object.keys(LOAD_COMPONENT_CONTROLLERS);\n}\n\n/**\n * \n * @param name \n * @returns \n */\nexport function getComponentController(name: string): ControllerCtor {\n  return LOAD_COMPONENT_CONTROLLERS[name];\n}\n","import { each, isNil, some } from '@antv/util';\nimport { Coordinate, getCoordinate, Point } from '../../dependents';\nimport { CoordinateOption } from '../../interface';\n\n/**\n * coordinate controller\n * 1. \n * 2. \n */\nexport default class CoordinateController {\n  private option: CoordinateOption;\n  private coordinate: Coordinate;\n\n  constructor(option?: CoordinateOption) {\n    // \n    this.option = this.wrapperOption(option);\n  }\n\n  /**\n   * \n   * @param option\n   */\n  public update(option: CoordinateOption) {\n    this.option = this.wrapperOption(option);\n    return this;\n  }\n\n  /**\n   *  action\n   * @param actionName\n   */\n  public hasAction(actionName: string) {\n    const { actions } = this.option;\n\n    return some(actions, (action) => action[0] === actionName);\n  }\n  /**\n   * \n   * @param start \n   * @param end   \n   * @return \n   */\n  public create(start: Point, end: Point) {\n    const { type, cfg } = this.option;\n    const isTheta = type === 'theta';\n\n    // 1. \n    const props = {\n      start,\n      end,\n      ...cfg,\n    };\n\n    // 2. \n    const C = getCoordinate(isTheta ? 'polar' : type);\n\n    this.coordinate = new C(props);\n\n    // @ts-ignore FIXME coordinate  type \n    this.coordinate.type = type;\n\n    // 3.  action\n    if (isTheta) {\n      //  transpose action\n      if (!this.hasAction('transpose')) {\n        this.transpose();\n      }\n    }\n\n    // 4.  action\n    this.execActions();\n\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param start \n   * @param end   \n   * @return \n   */\n  public adjust(start: Point, end: Point) {\n    this.coordinate.update({\n      start,\n      end,\n    });\n\n    // \n    // 1.  matrix\n    // 2.  matrix  action\n    this.coordinate.resetMatrix();\n    this.execActions(['scale', 'rotate', 'translate']);\n\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param angle\n   */\n  public rotate(angle: number) {\n    this.option.actions.push(['rotate', angle]);\n    return this;\n  }\n\n  /**\n   * \n   * @param dim\n   */\n  public reflect(dim: 'x' | 'y') {\n    this.option.actions.push(['reflect', dim]);\n    return this;\n  }\n\n  /**\n   * scale\n   * @param sx\n   * @param sy\n   */\n  public scale(sx: number, sy: number) {\n    this.option.actions.push(['scale', sx, sy]);\n    return this;\n  }\n\n  /**\n   * \n   */\n  public transpose() {\n    this.option.actions.push(['transpose']);\n    return this;\n  }\n\n  /**\n   * \n   */\n  public getOption(): CoordinateOption {\n    return this.option;\n  }\n\n  /**\n   *  coordinate \n   */\n  public getCoordinate() {\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param option\n   */\n  private wrapperOption(option: CoordinateOption): CoordinateOption {\n    return {\n      type: 'rect',\n      actions: [],\n      cfg: {},\n      ...option,\n    };\n  }\n\n  /**\n   * coordinate  actions\n   * @params includeActions  action\n   */\n  private execActions(includeActions?: string[]) {\n    const { actions } = this.option;\n\n    each(actions, (action) => {\n      const [actionName, ...args] = action;\n\n      const shouldExec = isNil(includeActions) ? true : includeActions.includes(actionName);\n\n      if (shouldExec) {\n        this.coordinate[actionName](...args);\n      }\n    });\n  }\n}\n","import { Event as GEvent, IShape } from '../dependents';\nimport { Datum } from '../interface';\nimport View from './view';\n\n/**\n * @todo Whether it can(or necessary to) keep consistent with the structure of G.Event or directly use the structure of G.Event\n * G2  G.Event\n */\nexport default class Event {\n  /**  target  view  */\n  public view: View;\n  /**  G  */\n  public gEvent: GEvent;\n  /**  */\n  public data?: Datum;\n  /**  */\n  public type: string;\n\n  constructor(view: View, gEvent: GEvent, data?: Datum) {\n    this.view = view;\n    this.gEvent = gEvent;\n    this.data = data;\n    this.type = gEvent.type;\n  }\n\n  /**\n   * \n   * @param view\n   * @param type\n   * @param data\n   */\n  public static fromData(view: View, type: string, data: Datum) {\n    return new Event(view, new GEvent(type, {}), data);\n  }\n\n  // below props are proxy props of G.event convenient\n\n  /** the real trigger shape of the event */\n  public get target(): IShape {\n    // @todo G  object  ignore\n    // @ts-ignore\n    return this.gEvent.target;\n  }\n\n  /**  dom  */\n  public get event(): any {\n    return this.gEvent.originalEvent;\n  }\n\n  /** x  */\n  public get x(): number {\n    return this.gEvent.x;\n  }\n\n  /** y  */\n  public get y(): number {\n    return this.gEvent.y;\n  }\n\n  /** x  */\n  public get clientX(): number {\n    return this.gEvent.clientX;\n  }\n\n  /** y  */\n  public get clientY(): number {\n    return this.gEvent.clientY;\n  }\n  // end for proxy events\n\n  /**\n   * event string\n   * @returns string\n   */\n  public toString(): string {\n    return `[Event (type=${this.type})]`;\n  }\n\n  /**\n   * clone a new event with same attributes\n   * @returns [[Event]]\n   */\n  public clone(): Event {\n    return new Event(this.view, this.gEvent, this.data);\n  }\n}\n","import { Controller } from '../controller/base';\nimport View from '../view';\n\n// \n//  view  padding \nexport type Layout = (view: View) => void;\n\n/**\n * @ignore\n * G2  layout \n * \n *\n * 1.  padding = 'auto' direction  padding \n * 2.  padding  direction  padding \n * 3. \n *\n *  12  view \n * @param view\n */\nexport default function defaultLayout(view: View): void {\n  const axis = view.getController('axis');\n  const legend = view.getController('legend');\n  const annotation = view.getController('annotation');\n  const slider = view.getController('slider');\n  const scrollbar = view.getController('scrollbar');\n\n  //  coordinate \n  [axis, slider, scrollbar, legend, annotation].forEach((controller: Controller) => {\n    if (controller) {\n      controller.layout();\n    }\n  });\n}\n","/**\n * view  scale \n */\nimport { deepMix, each, get, isNumber, last } from '@antv/util';\nimport { Scale, Coordinate } from '../../dependents';\nimport { Data, LooseObject, ScaleOption, ViewCfg } from '../../interface';\nimport { createScaleByField, syncScale, getDefaultCategoryScaleRange } from '../../util/scale';\n\n/** @ignore */\ninterface ScaleMeta {\n  readonly key: string;\n  readonly scale: Scale;\n  scaleDef: ScaleOption;\n  syncKey?: string;\n}\n\n/** @ignore */\nexport class ScalePool {\n  /**  scales */\n  private scales = new Map<string, ScaleMeta>();\n  /**  scale  key: scaleKeyArray */\n  private syncScales = new Map<string, string[]>();\n\n  /**\n   *  scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  public createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    let finalScaleDef = scaleDef;\n\n    const cacheScaleMeta = this.getScaleMeta(key);\n    if (data.length === 0 && cacheScaleMeta) {\n      //  key  scale  scale \n      const cacheScale = cacheScaleMeta.scale;\n      const cacheScaleDef: LooseObject = {\n        type: cacheScale.type,\n      };\n      if (cacheScale.isCategory) {\n        //  values\n        cacheScaleDef.values = cacheScale.values;\n      }\n      finalScaleDef = deepMix(cacheScaleDef, cacheScaleMeta.scaleDef, scaleDef);\n    }\n\n    const scale = createScaleByField(field, data, finalScaleDef);\n\n    // \n    this.cacheScale(scale, scaleDef, key);\n\n    return scale;\n  }\n\n  /**\n   *  scale\n   */\n  public sync(coordinate: Coordinate, theme: ViewCfg['theme']) {\n    //  syncScales  syncKey  scale \n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      // min, max, values, ranges\n      let min = Number.MAX_SAFE_INTEGER;\n      let max = Number.MIN_SAFE_INTEGER;\n      const values = [];\n\n      // 1. values \n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        max = isNumber(scale.max) ? Math.max(max, scale.max) : max;\n        min = isNumber(scale.min) ? Math.min(min, scale.min) : min;\n\n        // \n        each(scale.values, (v: any) => {\n          if (!values.includes(v)) {\n            values.push(v);\n          }\n        });\n      });\n\n      // 2. \n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        if (scale.isContinuous) {\n          scale.change({\n            min,\n            max,\n            values,\n          });\n        } else if (scale.isCategory) {\n          let range = scale.range;\n          const cacheScaleMeta = this.getScaleMeta(key);\n\n          //  value  range  to fix https://github.com/antvis/G2/issues/2996\n          if (values && !get(cacheScaleMeta, ['scaleDef', 'range'])) {\n            //  range\n            range = getDefaultCategoryScaleRange(\n              deepMix({}, scale, {\n                values,\n              }),\n              coordinate,\n              theme\n            );\n          }\n          scale.change({\n            values,\n            range,\n          });\n        }\n      });\n    });\n  }\n\n  /**\n   *  scale\n   * @param scale\n   * @param scaleDef\n   * @param key\n   */\n  private cacheScale(scale: Scale, scaleDef: ScaleOption, key: string) {\n    // 1.  scales\n\n    let sm = this.getScaleMeta(key);\n    // \n    if (sm && sm.scale.type === scale.type) {\n      syncScale(sm.scale, scale);\n      sm.scaleDef = scaleDef;\n      //  scaleDef\n    } else {\n      sm = {\n        key,\n        scale,\n        scaleDef,\n      };\n\n      this.scales.set(key, sm);\n    }\n\n    // 2.  syncScales Record<sync, string[]> \n    const syncKey = this.getSyncKey(sm);\n    sm.syncKey = syncKey; //  sync  key\n\n    //  scale  syncScales  sync \n    this.removeFromSyncScales(key);\n\n    //  sync  sync\n    if (syncKey) {\n      //  syncKey\n      let scaleKeys = this.syncScales.get(syncKey);\n      if (!scaleKeys) {\n        scaleKeys = [];\n        this.syncScales.set(syncKey, scaleKeys);\n      }\n      scaleKeys.push(key);\n    }\n  }\n\n  /**\n   *  key  scale\n   * @param key\n   */\n  public getScale(key: string): Scale {\n    let scaleMeta = this.getScaleMeta(key);\n    if (!scaleMeta) {\n      const field = last(key.split('-'));\n      const scaleKeys = this.syncScales.get(field);\n      if (scaleKeys && scaleKeys.length) {\n        scaleMeta = this.getScaleMeta(scaleKeys[0]);\n      }\n    }\n    return scaleMeta && scaleMeta.scale;\n  }\n\n  /**\n   *  view  scale \n   * @param key\n   */\n  public deleteScale(key: string) {\n    const scaleMeta = this.getScaleMeta(key);\n    if (scaleMeta) {\n      const { syncKey } = scaleMeta;\n\n      const scaleKeys = this.syncScales.get(syncKey);\n\n      // \n      if (scaleKeys && scaleKeys.length) {\n        const idx = scaleKeys.indexOf(key);\n\n        if (idx !== -1) {\n          scaleKeys.splice(idx, 1);\n        }\n      }\n    }\n\n    //  scale \n    this.scales.delete(key);\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    this.scales.clear();\n    this.syncScales.clear();\n  }\n\n  /**\n   *  sync scale \n   * @param key\n   */\n  private removeFromSyncScales(key: string) {\n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      const idx = scaleKeys.indexOf(key);\n\n      if (idx !== -1) {\n        scaleKeys.splice(idx, 1);\n\n        // \n        if (scaleKeys.length === 0) {\n          this.syncScales.delete(syncKey);\n        }\n\n        return false; // \n      }\n    });\n  }\n\n  /**\n   * get sync key\n   * @param sm\n   */\n  private getSyncKey(sm: ScaleMeta): string {\n    const { scale, scaleDef } = sm;\n    const { field } = scale;\n    const sync = get(scaleDef, ['sync']);\n\n    //  sync = true syncKey\n    return sync === true ? field : sync === false ? undefined : sync;\n  }\n\n  /**\n   *  key  scale\n   * @param key\n   */\n  private getScaleMeta(key: string): ScaleMeta {\n    return this.scales.get(key);\n  }\n}\n","import { DIRECTION } from '../../constant';\nimport { BBox } from '../../dependents';\nimport { Padding } from '../../interface';\n\nexport type PaddingCalCtor = {\n  readonly instance: (top?: number, right?: number, bottom?: number, left?: number) => PaddingCal;\n};\n\n/** @ignore */\nexport class PaddingCal {\n  private top: number;\n  private right: number;\n  private bottom: number;\n  private left: number;\n\n  /**\n   * \n   * @param top\n   * @param right\n   * @param bottom\n   * @param left\n   */\n  public static instance(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n    return new PaddingCal(top, right, bottom, left);\n  }\n\n  /**\n   *  padding \n   * @param top\n   * @param right\n   * @param bottom\n   * @param left\n   */\n  constructor(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n    this.top = top;\n    this.right = right;\n    this.bottom = bottom;\n    this.left = left;\n  }\n\n  /**\n   * \n   * @param padding\n   */\n  public max(padding: Padding): PaddingCal {\n    const [top, right, bottom, left] = padding;\n\n    this.top = Math.max(this.top, top);\n    this.right = Math.max(this.right, right);\n    this.bottom = Math.max(this.bottom, bottom);\n    this.left = Math.max(this.left, left);\n\n    return this;\n  }\n\n  /**\n   *  padding\n   * @param padding\n   */\n  public shrink(padding: Padding): PaddingCal {\n    const [top, right, bottom, left] = padding;\n\n    this.top += top;\n    this.right += right;\n    this.bottom += bottom;\n    this.left += left;\n\n    return this;\n  }\n\n  /**\n   *  padding\n   * @param bbox\n   * @param direction\n   */\n  public inc(bbox: BBox, direction: DIRECTION): PaddingCal {\n    const { width, height } = bbox;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        this.top += height;\n        break;\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        this.right += width;\n        break;\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        this.bottom += height;\n        break;\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        this.left += width;\n        break;\n      default:\n        break;\n    }\n\n    return this;\n  }\n\n  /**\n   *  padding\n   */\n  public getPadding(): Padding {\n    return [this.top, this.right, this.bottom, this.left];\n  }\n\n  /**\n   * clone  padding cal\n   */\n  public clone(): PaddingCal {\n    return new PaddingCal(...this.getPadding());\n  }\n}\n","import { each } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../constant';\nimport { ComponentOption, Padding } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { isAutoPadding, parsePadding } from '../../util/padding';\nimport View from '../view';\nimport { PaddingCal } from './padding-cal';\n\n/**\n * @ignore\n *  view  padding \n * @param view\n */\nexport function calculatePadding(view: View): PaddingCal {\n  const padding = view.padding;\n\n  //  auto padding\n  if (!isAutoPadding(padding)) {\n    return new PaddingCal(...parsePadding(padding));\n  }\n\n  //  auto padding padding\n  const { viewBBox } = view;\n\n  const paddingCal = new PaddingCal();\n\n  const axisComponents = [];\n  const paddingComponents = [];\n  const otherComponents = [];\n\n  each(view.getComponents(), (co: ComponentOption) => {\n    const { type } = co;\n    if (type === COMPONENT_TYPE.AXIS) {\n      axisComponents.push(co);\n    } else if ([COMPONENT_TYPE.LEGEND, COMPONENT_TYPE.SLIDER, COMPONENT_TYPE.SCROLLBAR].includes(type)) {\n      paddingComponents.push(co);\n    } else if (type !== COMPONENT_TYPE.GRID && type !== COMPONENT_TYPE.TOOLTIP) {\n      otherComponents.push(co);\n    }\n  });\n\n  //  padding \n  each(axisComponents, (co: ComponentOption) => {\n    const { component } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n\n    const exceed = componentBBox.exceed(viewBBox);\n\n    //  axis \n    paddingCal.max(exceed);\n  });\n\n  //  padding \n  each(paddingComponents, (co: ComponentOption) => {\n    const { component, direction } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentPadding: Padding = component.get('padding');\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(\n      componentPadding\n    );\n    //  padding\n    paddingCal.inc(componentBBox, direction);\n  });\n\n  // \n  each(otherComponents, (co: ComponentOption) => {\n    const { component, direction } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n    //  padding\n    paddingCal.inc(componentBBox, direction);\n  });\n\n  return paddingCal;\n}\n","import { PaddingCalCtor } from '../layout/padding-cal';\nimport { View } from '../view';\n\n/**\n *  syncViewPadding \n * @param chart\n * @param views\n * @param PC: PaddingCalCtor\n */\nexport function defaultSyncViewPadding(chart: View, views: View[], PC: PaddingCalCtor) {\n  const syncPadding = PC.instance();\n\n  //  view  autoPadding \n  views.forEach((v: View) => {\n    v.autoPadding = syncPadding.max(v.autoPadding.getPadding());\n  });\n}\n","import {\n  clone,\n  deepMix,\n  each,\n  filter,\n  find,\n  flatten,\n  get,\n  isBoolean,\n  isFunction,\n  isNil,\n  isObject,\n  isString,\n  isUndefined,\n  mix,\n  remove,\n  set,\n  size,\n  uniqueId,\n  isEqual,\n  isPlainObject,\n  reduce,\n} from '@antv/util';\nimport { Attribute, Coordinate, Event as GEvent, GroupComponent, ICanvas, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AxisOption,\n  ComponentOption,\n  CoordinateCfg,\n  CoordinateOption,\n  Data,\n  Datum,\n  FacetCfgMap,\n  FilterCondition,\n  GeometryOption,\n  LegendOption,\n  LooseObject,\n  Options,\n  Point,\n  Region,\n  ScaleOption,\n  TooltipOption,\n  ViewCfg,\n  ViewPadding,\n  ViewAppendPadding,\n  EventPayload,\n  Padding,\n} from '../interface';\nimport { GROUP_Z_INDEX, LAYER, PLOT_EVENTS, VIEW_LIFE_CIRCLE } from '../constant';\nimport Base from '../base';\nimport { Facet, getFacet } from '../facet';\nimport Geometry from '../geometry/base';\nimport Element from '../geometry/element';\nimport { createInteraction, Interaction } from '../interaction';\nimport { getTheme } from '../theme';\nimport { BBox } from '../util/bbox';\nimport { getCoordinateClipCfg, isPointInCoordinate } from '../util/coordinate';\nimport { uniq } from '../util/helper';\nimport { findDataByPoint } from '../util/tooltip';\nimport { parsePadding } from '../util/padding';\nimport { getDefaultCategoryScaleRange } from '../util/scale';\nimport { createTheme } from '../theme/util';\nimport Chart from './chart';\nimport { getComponentController, getComponentControllerNames } from './controller';\nimport Annotation from './controller/annotation';\nimport { Controller } from './controller/base';\nimport CoordinateController from './controller/coordinate';\nimport Tooltip from './controller/tooltip';\nimport Slider from './controller/slider';\nimport Scrollbar from './controller/scrollbar';\nimport Axis from './controller/axis';\nimport Gesture from './controller/gesture';\nimport Legend from './controller/legend';\nimport Event from './event';\nimport defaultLayout, { Layout } from './layout';\nimport { ScalePool } from './util/scale-pool';\nimport { PaddingCal } from './layout/padding-cal';\nimport { calculatePadding } from './layout/auto';\nimport { defaultSyncViewPadding } from './util/sync-view-padding';\n\n/**\n * G2  View \n */\nexport class View extends Base {\n  /** view id */\n  public id: string;\n  /**  view */\n  public parent: View;\n  /**  view */\n  public views: View[] = [];\n  /**  geometry  */\n  public geometries: Geometry[] = [];\n  /**  controllers */\n  public controllers: Controller[] = [];\n  /**  Interaction  */\n  public interactions: Record<string, Interaction> = {};\n\n  /** view  */\n  public viewBBox: BBox;\n  /** ViewBBox - padding = coordinateBBox */\n  public coordinateBBox: BBox;\n  /** view  padding  */\n  public padding: ViewPadding;\n  /** padding */\n  public appendPadding: ViewAppendPadding;\n  /** G.Canvas  */\n  public canvas: ICanvas;\n  /**  padding  */\n  public autoPadding: PaddingCal;\n\n  /**  Group  */\n  public backgroundGroup: IGroup;\n  /**  Group  */\n  public middleGroup: IGroup;\n  /**  Group  */\n  public foregroundGroup: IGroup;\n  /**  Geometry  */\n  public limitInPlot: boolean = false;\n\n  /**\n   *  view  0 ~ 1 \n   */\n  protected region: Region;\n  /**  */\n  protected themeObject: LooseObject;\n\n  // \n  protected options: Options = {\n    data: [],\n    animate: true, // \n  }; // \n\n  /**  */\n  protected filteredData: Data;\n\n  /**  */\n  private usedControllers: string[] = getComponentControllerNames();\n\n  /**  scales */\n  private scalePool: ScalePool = new ScalePool();\n\n  /**  */\n  protected layoutFunc: Layout = defaultLayout;\n  /** {@link https://github.com/antvis/coord/blob/master/src/coord/base.ts|Coordinate} */\n  protected coordinateInstance: Coordinate;\n  /** Coordinate  */\n  protected coordinateController: CoordinateController;\n  /**  */\n  protected facetInstance: Facet;\n\n  /**  plot CoordinateBBox */\n  private isPreMouseInPlot: boolean = false;\n  /**  */\n  private isDataChanged: boolean = false;\n  /**  */\n  private isCoordinateChanged: boolean = false;\n  /**  view  scale key */\n  private createdScaleKeys = new Map<string, boolean>();\n  /**  shape */\n  private backgroundStyleRectShape;\n  /**  view  padding */\n  private syncViewPadding;\n\n  constructor(props: ViewCfg) {\n    super({ visible: props.visible });\n\n    const {\n      id = uniqueId('view'),\n      parent,\n      canvas,\n      backgroundGroup,\n      middleGroup,\n      foregroundGroup,\n      region = { start: { x: 0, y: 0 }, end: { x: 1, y: 1 } },\n      padding,\n      appendPadding,\n      theme,\n      options,\n      limitInPlot,\n      syncViewPadding,\n    } = props;\n\n    this.parent = parent;\n    this.canvas = canvas;\n    this.backgroundGroup = backgroundGroup;\n    this.middleGroup = middleGroup;\n    this.foregroundGroup = foregroundGroup;\n    this.region = region;\n    this.padding = padding;\n    this.appendPadding = appendPadding;\n    //  view \n    this.options = { ...this.options, ...options };\n    this.limitInPlot = limitInPlot;\n    this.id = id;\n    this.syncViewPadding = syncViewPadding;\n\n    //  theme\n    this.themeObject = isObject(theme) ? deepMix({}, getTheme('default'), createTheme(theme)) : getTheme(theme);\n    this.init();\n  }\n\n  /**\n   *  layout \n   * @param layout \n   * @returns void\n   */\n  public setLayout(layout: Layout) {\n    this.layoutFunc = layout;\n  }\n\n  /**\n   * \n   * @returns voids\n   */\n  public init() {\n    //  viewBBox\n    this.calculateViewBBox();\n\n    // \n    this.initEvents();\n\n    //  controller\n    this.initComponentController();\n\n    this.initOptions();\n  }\n\n  /**\n   * \n   * render  view  view\n   * @param isUpdate \n   * @param params render \n   */\n  public render(isUpdate: boolean = false, payload?: EventPayload) {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_RENDER, Event.fromData(this, VIEW_LIFE_CIRCLE.BEFORE_RENDER, payload));\n    // \n    this.paint(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_RENDER, Event.fromData(this, VIEW_LIFE_CIRCLE.AFTER_RENDER, payload));\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * chart \n   * @returns void\n   */\n  public clear() {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CLEAR);\n    // 1. \n    this.filteredData = [];\n    this.coordinateInstance = undefined;\n    this.isDataChanged = false; // \n    this.isCoordinateChanged = false; // \n\n    // 2.  geometries\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      geometries[i].clear();\n      // view  geometry  chart.geometry()  #2799\n      geometries[i].container.remove(true);\n      geometries[i].labelsContainer.remove(true);\n    }\n    this.geometries = [];\n\n    // 3.  controllers\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      if (controllers[i].name === 'annotation') {\n        // \n        (controllers[i] as Annotation).clear(true);\n      } else {\n        controllers[i].clear();\n      }\n    }\n\n    // 4.  scale \n    this.createdScaleKeys.forEach((v: boolean, k: string) => {\n      this.getRootView().scalePool.deleteScale(k);\n    });\n    this.createdScaleKeys.clear();\n\n    //  view\n    const views = this.views;\n    for (let i = 0; i < views.length; i++) {\n      views[i].clear();\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CLEAR);\n  }\n\n  /**\n   * \n   * @returns void\n   */\n  public destroy() {\n    // \n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_DESTROY);\n    const interactions = this.interactions;\n    //  interactions\n    each(interactions, (interaction) => {\n      if (interaction) {\n        //  undefined\n        interaction.destroy();\n      }\n    });\n\n    this.clear();\n\n    //  controller \n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.destroy();\n    }\n\n    this.backgroundGroup.remove(true);\n    this.middleGroup.remove(true);\n    this.foregroundGroup.remove(true);\n\n    super.destroy();\n  }\n  /* end  */\n\n  /**\n   *  view\n   * @param visible \n   * @returns View\n   */\n  public changeVisible(visible: boolean): View {\n    super.changeVisible(visible);\n\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      geometry.changeVisible(visible);\n    }\n\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.changeVisible(visible);\n    }\n\n    this.foregroundGroup.set('visible', visible);\n    this.middleGroup.set('visible', visible);\n    this.backgroundGroup.set('visible', visible);\n\n    // group.set('visible', visible) \n    this.getCanvas().draw();\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.data([{ city: '', sale: 100 }, { city: '', sale: 110 } ]);\n   * ```\n   *\n   * @param data json \n   * @returns View\n   */\n  public data(data: Data): View {\n    set(this.options, 'data', data);\n    this.isDataChanged = true;\n    return this;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #data(data)}\n   */\n  public source(data: Data): View {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.data() instead.');\n    return this.data(data);\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.filter('city', (value: any, datum: Datum) => value !== '');\n   *\n   * //  'city' \n   * view.filter('city', null);\n   * ```\n   *\n   * @param field \n   * @param condition \n   * @returns View\n   */\n  public filter(field: string, condition: FilterCondition | null): View {\n    if (isFunction(condition)) {\n      set(this.options, ['filters', field], condition);\n      return this;\n    }\n    // condition \n    if (!condition && get(this.options, ['filters', field])) {\n      delete this.options.filters[field];\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   *  view.axis(false); // \n   * ```\n   * @param field \n   */\n  public axis(field: boolean): View;\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.axis('city', false); //  'city' \n   *\n   * //  'city' \n   * view.axis('city', {\n   *   title: null,\n   * });\n   * ```\n   *\n   * @param field \n   * @param axisOption https://github.com/antvis/component#axis\n   */\n  public axis(field: string, axisOption: AxisOption): View;\n  public axis(field: string | boolean, axisOption?: AxisOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['axes'], field);\n    } else {\n      set(this.options, ['axes', field], axisOption);\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.legend(false); // \n   *\n   * view.legend({\n   *   position: 'right',\n   * }); // \n   * ```\n   * @param field\n   * @returns View\n   */\n  public legend(field: LegendOption): View;\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.legend('city', false); // \n   *\n   * // \n   * view.legend('city', {\n   *   position: 'right',\n   * });\n   * ```\n   *\n   * @param field \n   * @param legendOption https://github.com/antvis/component#axis\n   * @returns View\n   */\n  public legend(field: string, legendOption: LegendOption): View;\n  public legend(field: string | LegendOption, legendOption?: LegendOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['legends'], field);\n    } else if (isString(field)) {\n      set(this.options, ['legends', field], legendOption);\n      if (isPlainObject(legendOption) && legendOption?.selected) {\n        set(this.options, ['filters', field], (name: string) => {\n          return legendOption?.selected[name] ?? true;\n        });\n      }\n    } else {\n      //  legend \n      set(this.options, ['legends'], field);\n    }\n\n    return this;\n  }\n\n  /**\n   *  scale \n   *\n   * ```ts\n   * view.scale({\n   *   sale: {\n   *     min: 0,\n   *     max: 100,\n   *   }\n   * });\n   * ```\n   * Scale https://github.com/antvis/scale#api\n   * @returns View\n   */\n  public scale(field: Record<string, ScaleOption>): View;\n  /**\n   *  scale \n   *\n   * ```ts\n   * view.scale('sale', {\n   *   min: 0,\n   *   max: 100,\n   * });\n   * ```\n   *\n   * @returns View\n   */\n  public scale(field: string, scaleOption: ScaleOption): View;\n  public scale(field: string | Record<string, ScaleOption>, scaleOption?: ScaleOption): View {\n    if (isString(field)) {\n      set(this.options, ['scales', field], scaleOption);\n    } else if (isObject(field)) {\n      each(field, (v: ScaleOption, k: string) => {\n        set(this.options, ['scales', k], v);\n      });\n    }\n\n    return this;\n  }\n\n  /**\n   * tooltip \n   *\n   * ```ts\n   * view.tooltip(false); //  tooltip\n   *\n   * view.tooltip({\n   *   shared: true\n   * });\n   * ```\n   *\n   * @param cfg Tooltip https://github.com/antvis/component#tooltip\n   * @returns View\n   */\n  public tooltip(cfg: boolean | TooltipOption): View {\n    set(this.options, 'tooltip', cfg);\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.annotation().line({\n   *   start: ['min', 85],\n   *   end: ['max', 85],\n   *   style: {\n   *     stroke: '#595959',\n   *     lineWidth: 1,\n   *     lineDash: [3, 3],\n   *   },\n   * });\n   * ```\n   * https://github.com/antvis/component#annotation\n   * @returns [[Annotation]]\n   */\n  public annotation(): Annotation {\n    return this.getController('annotation');\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #guide()}\n   */\n  public guide(): Annotation {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.annotation() instead.');\n    return this.annotation();\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.coordinate({\n   *   type: 'polar',\n   *   cfg: {\n   *     radius: 0.85,\n   *   },\n   *   actions: [\n   *     [ 'transpose' ],\n   *   ],\n   * });\n   * ```\n   *\n   * @param option\n   * @returns\n   */\n  public coordinate(option?: CoordinateOption): CoordinateController;\n  /**\n   * \n   *\n   * ```ts\n   * // \n   * view.coordinate('rect').transpose();\n   *\n   * // \n   * view.coordinate();\n   * ```\n   *\n   * @param type \n   * @param [coordinateCfg] \n   * @returns\n   */\n  public coordinate(type: string, coordinateCfg?: CoordinateCfg): CoordinateController;\n  public coordinate(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    // \n    if (isString(type)) {\n      set(this.options, 'coordinate', { type, cfg: coordinateCfg } as CoordinateOption);\n    } else {\n      set(this.options, 'coordinate', type);\n    }\n\n    //  coordinate \n    this.coordinateController.update(this.options.coordinate);\n\n    return this.coordinateController;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #coordinate()}\n   */\n  public coord(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.coordinate() instead.');\n    // @ts-ignore\n    return this.coordinate(type, coordinateCfg);\n  }\n\n  /**\n   * view \n   *\n   * ```ts\n   * view.facet('rect', {\n   *   rowField: 'province',\n   *   columnField: 'category',\n   *   eachView: (innerView: View, facet?: FacetData) => {\n   *     innerView.line().position('city*sale');\n   *   },\n   * });\n   * ```\n   *\n   * @param type \n   * @param cfg  [[FacetCfgMap]]\n   * @returns View\n   */\n  public facet<T extends keyof FacetCfgMap>(type: T, cfg: FacetCfgMap[T]): View {\n    // \n    if (this.facetInstance) {\n      this.facetInstance.destroy();\n    }\n\n    // \n    const Ctor = getFacet(type);\n\n    if (!Ctor) {\n      throw new Error(`facet '${type}' is not exist!`);\n    }\n\n    this.facetInstance = new Ctor(this, { ...cfg, type });\n\n    return this;\n  }\n\n  /*\n   * \n   *\n   * ```ts\n   * view.animate(false);\n   * ```\n   *\n   * @param status true false \n   * @returns View\n   */\n  public animate(status: boolean): View {\n    set(this.options, 'animate', status);\n    return this;\n  }\n\n  /**\n   * \n   * @param options \n   */\n  public updateOptions(options: Options) {\n    this.clear(); // \n    mix(this.options, options);\n\n    //  view \n    //  view \n    this.views.forEach((view) => view.destroy());\n    this.views = [];\n\n    this.initOptions();\n    //  padding \n    this.coordinateBBox = this.viewBBox;\n    return this;\n  }\n\n  /**\n   *  `view.options` \n   * @param name \n   * @param opt \n   * @returns view\n   */\n  public option(name: string, opt: any): View {\n    //  option\n    // name  API option \n    if (View.prototype[name]) {\n      throw new Error(`Can't use built in variable name \"${name}\", please change another one.`);\n    }\n\n    //  option \n    set(this.options, name, opt);\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.theme('dark'); // 'dark'  `registerTheme()` \n   *\n   * view.theme({ defaultColor: 'red' });\n   * ```\n   *\n   * @param theme \n   * @returns View\n   */\n  public theme(theme: string | LooseObject): View {\n    this.themeObject = isObject(theme) ? deepMix({}, this.themeObject, createTheme(theme)) : getTheme(theme);\n\n    return this;\n  }\n\n  /* end  API */\n\n  /**\n   * Call the interaction based on the interaction name\n   *\n   * ```ts\n   * view.interaction('my-interaction', { extra: 'hello world' });\n   * ```\n   * https://g2.antv.vision/zh/docs/api/general/interaction\n   * @param name interaction name\n   * @param cfg interaction config\n   * @returns\n   */\n  public interaction(name: string, cfg?: LooseObject): View {\n    const existInteraction = this.interactions[name];\n    // \n    if (existInteraction) {\n      existInteraction.destroy();\n    }\n\n    // \n    const interaction = createInteraction(name, this, cfg);\n    if (interaction) {\n      interaction.init();\n      this.interactions[name] = interaction;\n    }\n    return this;\n  }\n\n  /**\n   *  View  interaction\n   * ```ts\n   * view.removeInteraction('my-interaction');\n   * ```\n   * @param name interaction name\n   */\n  public removeInteraction(name: string) {\n    const existInteraction = this.interactions[name];\n    // \n    if (existInteraction) {\n      existInteraction.destroy();\n      this.interactions[name] = undefined;\n    }\n  }\n\n  /**\n   *  view\n   *\n   * ```ts\n   * view.changeData([{ city: '', sale: '200' }]);\n   * ```\n   *\n   * @param data\n   * @returns void\n   */\n  public changeData(data: Data) {\n    this.isDataChanged = true;\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, Event.fromData(this, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null));\n    // 1. \n    this.data(data);\n\n    // 2. \n    this.paint(true);\n\n    // 3.  view  change data\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      // FIXME  view \n      view.changeData(data);\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, Event.fromData(this, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null));\n  }\n\n  /* View  API */\n\n  /**\n   *  view\n   *\n   * ```ts\n   * const innerView = view.createView({\n   *   start: { x: 0, y: 0 },\n   *   end: { x: 0.5, y: 0.5 },\n   *   padding: 8,\n   * });\n   * ```\n   *\n   * @param cfg\n   * @returns View\n   */\n  public createView(cfg?: Partial<ViewCfg>): View {\n    //  4.1  view chart - view \n    //  API  warning\n    if (this.parent && this.parent.parent) {\n      //  3  \n      console.warn('The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.');\n    }\n\n    //  view  options \n    const sharedOptions = {\n      data: this.options.data,\n      scales: clone(this.options.scales),\n      axes: clone(this.options.axes),\n      coordinate: clone(this.coordinateController.getOption()),\n      tooltip: clone(this.options.tooltip),\n      legends: clone(this.options.legends),\n      animate: this.options.animate,\n      visible: this.visible,\n    };\n\n    const v = new View({\n      parent: this,\n      canvas: this.canvas,\n      //  view  group\n      backgroundGroup: this.backgroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: this.middleGroup.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: this.foregroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      theme: this.themeObject,\n      padding: this.padding,\n      ...cfg,\n      options: {\n        ...sharedOptions,\n        ...get(cfg, 'options', {}),\n      },\n    });\n\n    this.views.push(v);\n\n    return v;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #createView()}\n   */\n  public view(cfg?: Partial<ViewCfg>) {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.createView() instead.');\n    return this.createView(cfg);\n  }\n\n  /**\n   *  view\n   * @param view\n   * @return removedView\n   */\n  public removeView(view: View): View {\n    const removedView = remove(this.views, (v: View) => v === view)[0];\n\n    if (removedView) {\n      removedView.destroy();\n    }\n\n    return removedView;\n  }\n  /* end View  API */\n\n  //  get \n\n  /**\n   * \n   * @returns [[Coordinate]]\n   */\n  public getCoordinate() {\n    return this.coordinateInstance;\n  }\n\n  /**\n   *  view \n   * @returns themeObject\n   */\n  public getTheme(): LooseObject {\n    return this.themeObject;\n  }\n\n  /**\n   *  x  scale \n   * @returns view  Geometry  x scale\n   */\n  public getXScale(): Scale {\n    //  Geometry  X scale\n    //  view  Geometry  x \n    const g = this.geometries[0];\n    return g ? g.getXScale() : null;\n  }\n\n  /**\n   *  y  scales \n   * @returns view  Geometry  y scale \n   */\n  public getYScales(): Scale[] {\n    //  Geometry  Y scale\n    const tmpMap = {};\n    const yScales = [];\n    this.geometries.forEach((g: Geometry) => {\n      const yScale = g.getYScale();\n      const field = yScale.field;\n      if (!tmpMap[field]) {\n        tmpMap[field] = true;\n        yScales.push(yScale);\n      }\n    });\n    return yScales;\n  }\n\n  /**\n   *  x  y  scale \n   * @param dimType x | y\n   * @returns x  y  scale \n   */\n  public getScalesByDim(dimType: 'x' | 'y'): Record<string, Scale> {\n    const geometries = this.geometries;\n    const scales = {};\n\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      const scale = dimType === 'x' ? geometry.getXScale() : geometry.getYScale();\n      if (scale && !scales[scale.field]) {\n        scales[scale.field] = scale;\n      }\n    }\n\n    return scales;\n  }\n\n  /**\n   *  scale \n   * @param field \n   * @param key id\n   */\n  public getScale(field: string, key?: string): Scale {\n    const defaultKey = key ? key : this.getScaleKey(field);\n    //  view \n    return this.getRootView().scalePool.getScale(defaultKey);\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Please use `getScale`.\n   */\n  public getScaleByField(field: string, key?: string): Scale {\n    return this.getScale(field, key);\n  }\n\n  /**\n   * \n   * @returns  view API \n   */\n  public getOptions(): Options {\n    return this.options;\n  }\n\n  /**\n   *  view \n   * @returns \n   */\n  public getData() {\n    return this.filteredData;\n  }\n\n  /**\n   * \n   * @returns  G2 \n   */\n  public getOriginalData() {\n    return this.options.data;\n  }\n\n  /**\n   *  padding\n   * @returns\n   */\n  public getPadding(): Padding {\n    return this.autoPadding.getPadding();\n  }\n\n  /**\n   *  view  geometries\n   * @returns\n   */\n  public getGeometries() {\n    return this.geometries;\n  }\n\n  /**\n   *  view  geome\n   */\n  public getElements(): Element[] {\n    return reduce(\n      this.geometries,\n      (elements: Element[], geometry: Geometry) => {\n        return elements.concat(geometry.getElements());\n      },\n      []\n    );\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElementsBy((element) => {\n   *   const data = element.getData();\n   *\n   *   return data.a === 'a';\n   * });\n   * ```\n   *\n   * @param condition \n   * @returns\n   */\n  public getElementsBy(condition: (element: Element) => boolean): Element[] {\n    return this.getElements().filter((el) => condition(el));\n  }\n\n  /**\n   *  group\n   * @param layer \n   * @returns  Group\n   */\n  public getLayer(layer: LAYER): IGroup {\n    return layer === LAYER.BG\n      ? this.backgroundGroup\n      : layer === LAYER.MID\n      ? this.middleGroup\n      : layer === LAYER.FORE\n      ? this.foregroundGroup\n      : this.foregroundGroup;\n  }\n\n  /**\n   * \n   * @param point \n   */\n  public isPointInPlot(point: Point): boolean {\n    return isPointInCoordinate(this.getCoordinate(), point);\n  }\n\n  /**\n   *  legend  attribute \n   * @returns  Attribute \n   */\n  public getLegendAttributes(): Attribute[] {\n    return flatten(this.geometries.map((g: Geometry) => g.getGroupAttributes())) as unknown as Attribute[];\n  }\n\n  /**\n   *  scale \n   * @returns  scale \n   */\n  public getGroupScales(): Scale[] {\n    //  Geometry   scale\n    const scales = this.geometries.map((g: Geometry) => g.getGroupScales());\n    return uniq(flatten(scales));\n  }\n\n  /**\n   *  G.Canvas \n   * @returns G.Canvas \n   */\n  public getCanvas(): ICanvas {\n    return (this.getRootView() as unknown as Chart).canvas;\n  }\n\n  /**\n   *  view\n   */\n  public getRootView(): View {\n    let v = this as View;\n\n    while (true) {\n      if (v.parent) {\n        v = v.parent;\n        continue;\n      }\n      break;\n    }\n    return v;\n  }\n\n  /**\n   * \n   * @param data \n   * @returns \n   */\n  public getXY(data: Datum): Point {\n    const coordinate = this.getCoordinate();\n    const xScales = this.getScalesByDim('x');\n    const yScales = this.getScalesByDim('y');\n    let x;\n    let y;\n\n    each(data, (value, key) => {\n      if (xScales[key]) {\n        x = xScales[key].scale(value);\n      }\n      if (yScales[key]) {\n        y = yScales[key].scale(value);\n      }\n    });\n\n    if (!isNil(x) && !isNil(y)) {\n      return coordinate.convert({ x, y });\n    }\n  }\n\n  public getController(name: 'tooltip'): Tooltip;\n  public getController(name: 'axis'): Axis;\n  public getController(name: 'legend'): Legend;\n  public getController(name: 'scrollbar'): Scrollbar;\n  public getController(name: 'slider'): Slider;\n  public getController(name: 'annotation'): Annotation;\n  public getController(name: 'gestucre'): Gesture;\n  public getController(name: string): Controller;\n  /**\n   *  name  controller \n   * @param name\n   */\n  public getController(name: string): Controller {\n    return find(this.controllers, (c: Controller) => c.name === name);\n  }\n\n  /**\n   *  point  tooltip\n   * @param point \n   * @returns View\n   */\n  public showTooltip(point: Point): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.showTooltip(point);\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip\n   * @returns View\n   */\n  public hideTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.hideTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip \n   * @returns View\n   */\n  public lockTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.lockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip \n   * @returns View\n   */\n  public unlockTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.unlockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip\n   * @returns \n   */\n  public isTooltipLocked() {\n    const tooltip = this.getController('tooltip');\n    return tooltip && tooltip.isTooltipLocked();\n  }\n\n  /**\n   *  point  tooltip \n   * @param point \n   * @returns tooltip \n   */\n  public getTooltipItems(point: Point) {\n    const tooltip = this.getController('tooltip');\n\n    return tooltip ? tooltip.getTooltipItems(point) : [];\n  }\n\n  /**\n   * \n   * @param point \n   * @returns  \n   */\n  public getSnapRecords(point: Point) {\n    const geometries = this.geometries;\n    let rst = [];\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geom = geometries[i];\n      const dataArray = geom.dataArray;\n      geom.sort(dataArray); //  tooltip \n      let record;\n      for (let j = 0, dataLen = dataArray.length; j < dataLen; j++) {\n        const data = dataArray[j];\n        record = findDataByPoint(point, data, geom);\n        if (record) {\n          rst.push(record);\n        }\n      }\n    }\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      const snapRecords = view.getSnapRecords(point);\n      rst = rst.concat(snapRecords);\n    }\n\n    return rst;\n  }\n\n  /**\n   *  pure component \n   */\n  public getComponents(): ComponentOption[] {\n    let components = [];\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      components = components.concat(controller.getComponents());\n    }\n\n    return components;\n  }\n\n  /**\n   *  data \n   * @param data\n   * @returns \n   */\n  public filterData(data: Data): Data {\n    const { filters } = this.options;\n    //  filters\n    if (size(filters) === 0) {\n      return data;\n    }\n\n    //   \n    return filter(data, (datum: Datum, idx: number) => {\n      //  filter \n      const fields = Object.keys(filters);\n\n      // \n      return fields.every((field: string) => {\n        const condition = filters[field];\n\n        // condition  true\n        return condition(datum[field], datum, idx);\n      });\n    });\n  }\n\n  /**\n   * \n   * @param field\n   * @param data\n   */\n  public filterFieldData(field: string, data: Data): Data {\n    const { filters } = this.options;\n    const condition = get(filters, field);\n\n    if (isUndefined(condition)) {\n      return data;\n    }\n    return data.filter((datum: Datum, idx: number) => condition(datum[field], datum, idx));\n  }\n\n  /**\n   *  coordinate \n   */\n  public adjustCoordinate() {\n    const { start: curStart, end: curEnd } = this.getCoordinate();\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n\n    //  defaultLayoutFn  coordinateBBox  adjustCoordinate()\n    if (isEqual(curStart, start) && isEqual(curEnd, end)) {\n      this.isCoordinateChanged = false;\n      // \n      return;\n    }\n    this.isCoordinateChanged = true;\n    this.coordinateInstance = this.coordinateController.adjust(start, end);\n  }\n\n  protected paint(isUpdate: boolean) {\n    this.renderDataRecursive(isUpdate);\n\n    //  sync scale \n    this.syncScale();\n\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_PAINT);\n\n    //  padding\n    this.renderPaddingRecursive(isUpdate);\n    // \n    this.renderLayoutRecursive(isUpdate);\n    //  shape\n    this.renderBackgroundStyleShape();\n    //  render\n    this.renderPaintRecursive(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_PAINT);\n\n    this.isDataChanged = false; // \n  }\n\n  /**\n   *  shape\n   *  view  view \n   */\n  private renderBackgroundStyleShape() {\n    // \n    if (this.parent) {\n      return;\n    }\n    const background = get(this.themeObject, 'background');\n    // \n    if (background) {\n      // 1. \n      if (!this.backgroundStyleRectShape) {\n        this.backgroundStyleRectShape = this.backgroundGroup.addShape('rect', {\n          attrs: {},\n          zIndex: -1,\n          //  shape \n          capture: false,\n        });\n        this.backgroundStyleRectShape.toBack();\n      }\n\n      // 2.  shape \n      const { x, y, width, height } = this.viewBBox;\n      this.backgroundStyleRectShape.attr({\n        fill: background,\n        x,\n        y,\n        width,\n        height,\n      });\n    } else {\n      // \n      if (this.backgroundStyleRectShape) {\n        this.backgroundStyleRectShape.remove(true);\n        this.backgroundStyleRectShape = undefined;\n      }\n    }\n  }\n\n  /**\n   *  view  padding coordinateBBox  coordinateInstance\n   * @param isUpdate\n   */\n  protected renderPaddingRecursive(isUpdate: boolean) {\n    // 1.  view  coordinateBBoxchangeSize \n    this.calculateViewBBox();\n    // 2.  coordinate\n    this.adjustCoordinate();\n    // 3.  component\n    this.initComponents(isUpdate);\n    // 4.  view  padding \n    // 4.1.  auto padding -> absolute padding appendPadding\n    this.autoPadding = calculatePadding(this).shrink(parsePadding(this.appendPadding));\n    // 4.2.  coordinateBBox Coordinate\n    //  view  viewBBox  parent  coordinateBBox\n    this.coordinateBBox = this.viewBBox.shrink(this.autoPadding.getPadding());\n    this.adjustCoordinate();\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderPaddingRecursive(isUpdate);\n    }\n  }\n\n  /**\n   *  view  view  coordinateBBox  coordinateInstance\n   * @param isUpdate\n   */\n  protected renderLayoutRecursive(isUpdate: boolean) {\n    // 1.  view padding\n    //  padding\n    const syncViewPaddingFn =\n      this.syncViewPadding === true\n        ? defaultSyncViewPadding\n        : isFunction(this.syncViewPadding)\n        ? this.syncViewPadding\n        : undefined;\n\n    if (syncViewPaddingFn) {\n      syncViewPaddingFn(this, this.views, PaddingCal);\n      //  padding  coordinate\n      this.views.forEach((v: View) => {\n        v.coordinateBBox = v.viewBBox.shrink(v.autoPadding.getPadding());\n        v.adjustCoordinate();\n      });\n    }\n\n    // 3.  view  view padding \n    this.doLayout();\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderLayoutRecursive(isUpdate);\n    }\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  protected renderPaintRecursive(isUpdate: boolean) {\n    const middleGroup = this.middleGroup;\n    if (this.limitInPlot) {\n      const { type, attrs } = getCoordinateClipCfg(this.coordinateInstance);\n      middleGroup.setClip({\n        type,\n        attrs,\n      });\n    } else {\n      //  clip\n      middleGroup.setClip(undefined);\n    }\n\n    // 1. \n    this.paintGeometries(isUpdate);\n    // 2. \n    this.renderComponents(isUpdate);\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderPaintRecursive(isUpdate);\n    }\n  }\n\n  // end Get \n\n  /**\n   *  scale view  scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  protected createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    // 1.  field  scaleDef\n    const currentScaleDef = get(this.options.scales, [field]);\n    const mergedScaleDef = { ...currentScaleDef, ...scaleDef };\n\n    // 2.  view\n    if (this.parent) {\n      return this.parent.createScale(field, data, mergedScaleDef, key);\n    }\n\n    // 3.  view  scalePool \n    return this.scalePool.createScale(field, data, mergedScaleDef, key);\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  private renderDataRecursive(isUpdate: boolean) {\n    // 1. \n    this.doFilterData();\n    // 2. \n    this.createCoordinate();\n    // 3.  Geometry\n    this.initGeometries(isUpdate);\n    // 4.  view  geometry\n    this.renderFacet(isUpdate);\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderDataRecursive(isUpdate);\n    }\n  }\n\n  /**\n   *  region\n   * @private\n   */\n  private calculateViewBBox() {\n    let x;\n    let y;\n    let width;\n    let height;\n\n    if (this.parent) {\n      const bbox = this.parent.coordinateBBox;\n      //  parent \n      x = bbox.x;\n      y = bbox.y;\n      width = bbox.width;\n      height = bbox.height;\n    } else {\n      //  canvas  \n      x = 0;\n      y = 0;\n      width = this.canvas.get('width');\n      height = this.canvas.get('height');\n    }\n\n    const { start, end } = this.region;\n\n    //  region  view  bbox \n    const viewBBox = new BBox(\n      x + width * start.x,\n      y + height * start.y,\n      width * (end.x - start.x),\n      height * (end.y - start.y)\n    );\n\n    if (!this.viewBBox || !this.viewBBox.isEqual(viewBBox)) {\n      // viewBBox \n      this.viewBBox = new BBox(\n        x + width * start.x,\n        y + height * start.y,\n        width * (end.x - start.x),\n        height * (end.y - start.y)\n      );\n    }\n\n    //  coordinate bbox \n    this.coordinateBBox = this.viewBBox;\n  }\n\n  /**\n   * G 4.0  name:event  name \n   *\n   * G2  view \n   *  view  view  Component  Geometry \n   * @private\n   */\n  private initEvents() {\n    //  group  shape  G \n    this.foregroundGroup.on('*', this.onDelegateEvents);\n    this.middleGroup.on('*', this.onDelegateEvents);\n    this.backgroundGroup.on('*', this.onDelegateEvents);\n\n    this.canvas.on('*', this.onCanvasEvent);\n  }\n\n  private onCanvasEvent = (evt: GEvent): void => {\n    const name = evt.name;\n    if (!name.includes(':')) {\n      // \n      const e = this.createViewEvent(evt);\n      //  plot \n      this.doPlotEvent(e);\n      this.emit(name, e);\n    }\n  };\n\n  /**\n   * \n   */\n  private initComponentController() {\n    const usedControllers = this.usedControllers;\n    for (let i = 0, len = usedControllers.length; i < len; i++) {\n      const controllerName = usedControllers[i];\n      const Ctor = getComponentController(controllerName);\n      if (Ctor) {\n        this.controllers.push(new Ctor(this));\n      }\n    }\n  }\n\n  private createViewEvent(evt: GEvent) {\n    const { shape, name } = evt;\n\n    const data = shape ? shape.get('origin') : null;\n    //  view \n    const e = new Event(this, evt, data);\n    e.type = name;\n    return e;\n  }\n  /**\n   * \n   * @param evt\n   */\n  private onDelegateEvents = (evt: GEvent): void => {\n    // \n    // evt.preventDefault();\n    const { name } = evt;\n    if (!name.includes(':')) {\n      return;\n    }\n    //  view \n    const e = this.createViewEvent(evt);\n\n    // \n    this.emit(name, e);\n    // const currentTarget = evt.currentTarget as IShape;\n    // const inheritNames = currentTarget.get('inheritNames');\n    // if (evt.delegateObject || inheritNames) {\n    //   const events = this.getEvents();\n    //   each(inheritNames, (subName) => {\n    //     const eventName = `${subName}:${type}`;\n    //     if (events[eventName]) {\n    //       this.emit(eventName, e);\n    //     }\n    //   });\n    // }\n  };\n\n  /**\n   *  PLOT_EVENTS\n   * plot event  emit\n   *  mouseentermouseleave \n   * @param e\n   */\n  private doPlotEvent(e: Event) {\n    const { type, x, y } = e;\n\n    const point = { x, y };\n\n    const ALL_EVENTS = [\n      'mousedown',\n      'mouseup',\n      'mousemove',\n      'mouseleave',\n      'mousewheel',\n      'touchstart',\n      'touchmove',\n      'touchend',\n      'touchcancel',\n      'click',\n      'dblclick',\n      'contextmenu',\n    ];\n\n    if (ALL_EVENTS.includes(type)) {\n      const currentInPlot = this.isPointInPlot(point);\n      const newEvent = e.clone();\n\n      if (currentInPlot) {\n        const TYPE = `plot:${type}`; //  plot \n        newEvent.type = TYPE;\n        this.emit(TYPE, newEvent);\n        if (type === 'mouseleave' || type === 'touchend') {\n          // plot \n          this.isPreMouseInPlot = false;\n        }\n      }\n\n      //  mouseenter, mouseleave \n      if (type === 'mousemove' || type === 'touchmove') {\n        if (this.isPreMouseInPlot && !currentInPlot) {\n          if (type === 'mousemove') {\n            newEvent.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, newEvent);\n        } else if (!this.isPreMouseInPlot && currentInPlot) {\n          if (type === 'mousemove') {\n            newEvent.type = PLOT_EVENTS.MOUSE_ENTER;\n            this.emit(PLOT_EVENTS.MOUSE_ENTER, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.ENTER;\n          this.emit(PLOT_EVENTS.ENTER, newEvent);\n        }\n        // \n        this.isPreMouseInPlot = currentInPlot;\n      } else if (type === 'mouseleave' || type === 'touchend') {\n        //  currentInPlot \n        if (this.isPreMouseInPlot) {\n          if (type === 'mouseleave') {\n            newEvent.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, newEvent);\n\n          this.isPreMouseInPlot = false;\n        }\n      }\n    }\n  }\n\n  // view   \n\n  /**\n   * \n   * @private\n   */\n  private doFilterData() {\n    const { data } = this.options;\n    this.filteredData = this.filterData(data);\n  }\n\n  /**\n   *  Geometries\n   * @private\n   */\n  private initGeometries(isUpdate: boolean) {\n    //  /  scales\n    this.createOrUpdateScales();\n    //  Geometry view  scale \n    const coordinate = this.getCoordinate();\n    const scaleDefs = get(this.options, 'scales', {});\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      //  scales \n      geometry.scales = this.getGeometryScales();\n      const cfg = {\n        coordinate, //  coordinate  coordinate \n        scaleDefs,\n        data: this.filteredData,\n        theme: this.themeObject,\n        isDataChanged: this.isDataChanged,\n        isCoordinateChanged: this.isCoordinateChanged,\n      };\n\n      if (isUpdate) {\n        // \n        geometry.update(cfg);\n      } else {\n        geometry.init(cfg);\n      }\n    }\n\n    // Geometry  scale scale \n    this.adjustScales();\n  }\n\n  /**\n   *  Geometry  scales\n   * \n   */\n  private createOrUpdateScales() {\n    const fields = this.getScaleFields();\n    const groupedFields = this.getGroupedFields();\n\n    const { data, scales = {} } = this.getOptions();\n    const filteredData = this.filteredData;\n\n    for (let i = 0, len = fields.length; i < len; i++) {\n      const field = fields[i];\n      const scaleDef = scales[field];\n\n      // \n      const key = this.getScaleKey(field);\n      this.createScale(\n        field,\n        //  scale \n        groupedFields.includes(field) ? data : filteredData,\n        scaleDef,\n        key\n      );\n\n      //  view  scale key\n      this.createdScaleKeys.set(key, true);\n    }\n  }\n\n  /**\n   *  scale \n   */\n  private syncScale() {\n    //  root view \n    this.getRootView().scalePool.sync(this.getCoordinate(), this.theme);\n  }\n\n  /**\n   *  Geometry  scale \n   */\n  private getGeometryScales(): Record<string, Scale> {\n    const fields = this.getScaleFields();\n\n    const scales = {};\n    for (let i = 0; i < fields.length; i++) {\n      const field = fields[i];\n      scales[field] = this.getScaleByField(field);\n    }\n\n    return scales;\n  }\n\n  private getScaleFields() {\n    const fields = [];\n    const tmpMap = new Map();\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const geometryScales = geometry.getScaleFields();\n      uniq(geometryScales, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  private getGroupedFields() {\n    const fields = [];\n    const tmpMap = new Map();\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const groupFields = geometry.getGroupFields();\n      uniq(groupFields, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  /**\n   *  scale \n   * @private\n   */\n  private adjustScales() {\n    // \n    //  scale range \n    this.adjustCategoryScaleRange();\n  }\n\n  /**\n   *  scale  range\n   * @private\n   */\n  private adjustCategoryScaleRange() {\n    const xyScales = [this.getXScale(), ...this.getYScales()].filter((e) => !!e);\n    const coordinate = this.getCoordinate();\n    const scaleOptions = this.options.scales;\n\n    each(xyScales, (scale: Scale) => {\n      const { field, values, isCategory, isIdentity } = scale;\n\n      //  identity  scale \n      if (isCategory || isIdentity) {\n        //  value  range \n        if (values && !get(scaleOptions, [field, 'range'])) {\n          //  range\n          scale.range = getDefaultCategoryScaleRange(scale, coordinate, this.theme);\n        }\n      }\n    });\n  }\n\n  /**\n   *  options Geometry  components\n   * @param isUpdate \n   * @private\n   */\n  private initComponents(isUpdate: boolean) {\n    //  render\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      const controller = controllers[i];\n      // \n      if (isUpdate) {\n        controller.update();\n      } else {\n        controller.clear();\n        controller.render();\n      }\n    }\n  }\n\n  private doLayout() {\n    this.layoutFunc(this);\n  }\n\n  /**\n   * \n   * @private\n   */\n  private createCoordinate() {\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n    this.coordinateInstance = this.coordinateController.create(start, end);\n  }\n\n  /**\n   *  options  geometry\n   * @private\n   */\n  private paintGeometries(isUpdate: boolean) {\n    const doAnimation = this.options.animate;\n    // geometry  paint \n    const coordinate = this.getCoordinate();\n    const canvasRegion = {\n      x: this.viewBBox.x,\n      y: this.viewBBox.y,\n      minX: this.viewBBox.minX,\n      minY: this.viewBBox.minY,\n      maxX: this.viewBBox.maxX,\n      maxY: this.viewBBox.maxY,\n      width: this.viewBBox.width,\n      height: this.viewBBox.height,\n    };\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      geometry.coordinate = coordinate;\n      geometry.canvasRegion = canvasRegion;\n      if (!doAnimation) {\n        //  view  view  geometry \n        geometry.animate(false);\n      }\n      geometry.paint(isUpdate);\n    }\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  private renderComponents(isUpdate: boolean) {\n    //  render\n    for (let i = 0; i < this.getComponents().length; i++) {\n      const co = this.getComponents()[i];\n      (co.component as GroupComponent).render();\n    }\n  }\n\n  /**\n   *  view \n   * @param isUpdate\n   */\n  private renderFacet(isUpdate: boolean) {\n    if (this.facetInstance) {\n      if (isUpdate) {\n        this.facetInstance.update();\n      } else {\n        this.facetInstance.clear();\n        // \n        this.facetInstance.init();\n        //  views\n        this.facetInstance.render();\n      }\n    }\n  }\n\n  private initOptions() {\n    const {\n      geometries = [],\n      interactions = [],\n      views = [],\n      annotations = [],\n      coordinate,\n      events,\n      facets,\n    } = this.options;\n\n    // \n    if (this.coordinateController) {\n      //  coordinate controller\n      coordinate && this.coordinateController.update(coordinate);\n    } else {\n      //  coordinate controller\n      this.coordinateController = new CoordinateController(coordinate);\n    }\n\n    //  geometry \n    for (let i = 0; i < geometries.length; i++) {\n      const geometryOption = geometries[i];\n      this.createGeometry(geometryOption);\n    }\n\n    //  interactions \n    for (let j = 0; j < interactions.length; j++) {\n      const interactionOption = interactions[j];\n      const { type, cfg } = interactionOption;\n      this.interaction(type, cfg);\n    }\n\n    //  view \n    for (let k = 0; k < views.length; k++) {\n      const viewOption = views[k];\n      this.createView(viewOption);\n    }\n\n    //  annotation\n    const annotationComponent = this.getController('annotation');\n    for (let l = 0; l < annotations.length; l++) {\n      const annotationOption = annotations[l];\n      annotationComponent.annotation(annotationOption);\n    }\n\n    //  events\n    if (events) {\n      each(events, (eventCallback, eventName) => {\n        this.on(eventName, eventCallback);\n      });\n    }\n\n    if (facets) {\n      each(facets, (facet) => {\n        const { type, ...rest } = facet;\n\n        this.facet(type, rest);\n      });\n    }\n  }\n\n  private createGeometry(geometryOption: GeometryOption) {\n    const { type, cfg = {} } = geometryOption;\n    if (this[type]) {\n      const geometry = this[type](cfg);\n      each(geometryOption, (v, k) => {\n        if (isFunction(geometry[k])) {\n          geometry[k](v);\n        }\n      });\n    }\n  }\n\n  /**\n   * scale key \n   * @param field\n   */\n  private getScaleKey(field: string): string {\n    return `${this.id}-${field}`;\n  }\n}\n\n/**\n *  geometry \n * @param name\n * @param Ctor\n * @returns Geometry\n */\nexport function registerGeometry(name: string, Ctor: any) {\n  //  view API \n  View.prototype[name.toLowerCase()] = function (cfg: any = {}) {\n    const props = {\n      /**  */\n      container: this.middleGroup.addGroup(),\n      labelsContainer: this.foregroundGroup.addGroup(),\n      ...cfg,\n    };\n\n    const geometry = new Ctor(props);\n    this.geometries.push(geometry);\n\n    return geometry;\n  };\n}\n\nexport default View;\n","import { debounce, each, isString } from '@antv/util';\nimport { ChartCfg } from '../interface';\nimport { GROUP_Z_INDEX, VIEW_LIFE_CIRCLE } from '../constant';\nimport { getEngine } from '../engine';\nimport { createDom, getChartSize, removeDom, modifyCSS } from '../util/dom';\nimport View from './view';\nimport { AriaOption } from '../interface';\n\n/**\n * Chart  G2 \n */\nexport default class Chart extends View {\n  /** Chart  DOM  */\n  public ele: HTMLElement;\n\n  /**  */\n  public width: number;\n  /**  */\n  public height: number;\n  /**  */\n  public localRefresh: boolean;\n  /**  DOM  false */\n  public autoFit: boolean;\n  /**  */\n  public renderer: 'canvas' | 'svg';\n\n  private wrapperElement: HTMLElement;\n\n  // @ts-ignore\n  constructor(props: ChartCfg) {\n    const {\n      container,\n      width,\n      height,\n      autoFit = false,\n      padding,\n      appendPadding,\n      renderer = 'canvas',\n      pixelRatio,\n      localRefresh = true,\n      visible = true,\n      supportCSSTransform = false,\n      defaultInteractions = ['tooltip', 'legend-filter', 'legend-active', 'continuous-filter', 'ellipsis-text', 'axis-description'],\n      options,\n      limitInPlot,\n      theme,\n      syncViewPadding,\n    } = props;\n\n    const ele: HTMLElement = isString(container) ? document.getElementById(container) : container;\n\n    //  div \n    const wrapperElement = createDom('<div style=\"position:relative;\"></div>');\n    ele.appendChild(wrapperElement);\n\n    // if autoFit, use the container size, to avoid the graph render twice.\n    const size = getChartSize(ele, autoFit, width, height);\n\n    const G = getEngine(renderer);\n\n    const canvas = new G.Canvas({\n      container: wrapperElement,\n      pixelRatio,\n      localRefresh,\n      supportCSSTransform,\n      ...size,\n    });\n\n    //  view \n    super({\n      parent: null,\n      canvas,\n      // create 3 group layers for views.\n      backgroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      padding,\n      appendPadding,\n      visible,\n      options,\n      limitInPlot,\n      theme,\n      syncViewPadding,\n    });\n\n    this.ele = ele;\n    this.canvas = canvas;\n    this.width = size.width;\n    this.height = size.height;\n    this.autoFit = autoFit;\n    this.localRefresh = localRefresh;\n    this.renderer = renderer;\n    this.wrapperElement = wrapperElement;\n\n    // \n    this.updateCanvasStyle();\n    this.bindAutoFit();\n    this.initDefaultInteractions(defaultInteractions);\n  }\n\n  private initDefaultInteractions(interactions) {\n    each(interactions, (interaction) => {\n      this.interaction(interaction);\n    });\n  }\n\n  /**\n   *  WAI-ARIA  arial \n   * @param ariaOption\n   */\n  public aria(ariaOption: AriaOption) {\n    const ATTR = 'aria-label';\n    if (ariaOption === false) {\n      this.ele.removeAttribute(ATTR);\n    } else {\n      this.ele.setAttribute(ATTR, ariaOption.label);\n    }\n  }\n\n  /**\n   * \n   * @param width \n   * @param height \n   * @returns\n   */\n  public changeSize(width: number, height: number) {\n    //  changeSize \n    if (this.width === width && this.height === height) {\n      return this;\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE);\n\n    this.width = width;\n    this.height = height;\n    this.canvas.changeSize(width, height);\n\n    // \n    this.render(true);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_SIZE);\n\n    return this;\n  }\n\n  /**\n   *  aria \n   */\n  public clear() {\n    super.clear();\n\n    this.aria(false);\n  }\n\n  /**\n   *  G.Canvas \n   * @returns void\n   */\n  public destroy() {\n    super.destroy();\n\n    this.unbindAutoFit();\n    this.canvas.destroy();\n\n    removeDom(this.wrapperElement);\n    this.wrapperElement = null;\n  }\n\n  /**\n   * \n   * @param visible true false \n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible); //  visible \n    this.wrapperElement.style.display = visible ? '' : 'none';\n\n    return this;\n  }\n\n  /**\n   *  resize \n   */\n  public forceFit() {\n    // skip if already destroyed\n    if (!this.destroyed) {\n      //  true autoFit = falseforceFit() \n      const { width, height } = getChartSize(this.ele, true, this.width, this.height);\n      this.changeSize(width, height);\n    }\n  }\n\n  private updateCanvasStyle() {\n    modifyCSS(this.canvas.get('el'), {\n      display: 'inline-block',\n      verticalAlign: 'middle',\n    });\n  }\n\n  private bindAutoFit() {\n    if (this.autoFit) {\n      window.addEventListener('resize', this.onResize);\n    }\n  }\n\n  private unbindAutoFit() {\n    if (this.autoFit) {\n      window.removeEventListener('resize', this.onResize);\n    }\n  }\n\n  /**\n   * when container size changed, change chart size props, and re-render.\n   */\n  private onResize = debounce(() => {\n    this.forceFit();\n  }, 300);\n}\n","import { each } from '@antv/util';\nimport { ComponentOption } from '../../interface';\nimport View from '../view';\n\n/** Component controller class type define */\nexport type ControllerCtor<O = any> = new (view: View) => Controller<O>;\n\n/**\n * Component Controller \n * 1.  option \n * 2.  API\n * 3. \n */\nexport abstract class Controller<O = unknown> {\n  /**  */\n  public visible: boolean = true;\n  protected view: View;\n  /** option  */\n  protected option: O;\n  /**  component */\n  protected components: ComponentOption[] = [];\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  public abstract get name(): string;\n\n  /**\n   * init the component\n   */\n  public abstract init();\n\n  /**\n   * render the components\n   */\n  public abstract render();\n\n  /**\n   * update the components\n   */\n  // public abstract update();\n\n  /**\n   * do layout\n   */\n  public abstract layout();\n\n  /**\n   * \n   *  -  id option \n   *  -  id  diff\n   *  - \n   *  - \n   *  - \n   */\n  public abstract update();\n\n  /**\n   * clear\n   * @param includeOption  option used in annotation\n   */\n  public clear(includeOption?: boolean) {\n    // destroy all components\n    each(this.components, (co: ComponentOption) => {\n      co.component.destroy();\n    });\n\n    // clear all component instance\n    this.components = [];\n  }\n\n  /**\n   * destroy the component\n   */\n  public destroy() {\n    this.clear();\n  }\n\n  /**\n   * get all components\n   * @returns components array\n   */\n  public getComponents(): ComponentOption[] {\n    return this.components;\n  }\n\n  /**\n   * change visibility of component\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.components.forEach((co: ComponentOption) => {\n      if (visible) {\n        co.component.show();\n      } else {\n        co.component.hide();\n      }\n    });\n    this.visible = visible;\n  }\n}\n","import { deepMix, find, get, isEqual, isFunction, mix, isString, isBoolean, flatten, isArray } from '@antv/util';\nimport { Crosshair, HtmlTooltip, IGroup } from '../../dependents';\nimport { Point, TooltipItem, TooltipOption } from '../../interface';\nimport { getAngleByPoint, getDistanceToCenter, isPointInCoordinate, getCoordinateClipCfg } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { findItemsFromView } from '../../util/tooltip';\nimport { BBox } from '../../util/bbox';\nimport { Controller } from './base';\nimport Event from '../event';\nimport View from '../view';\n\n// Filter duplicates, use `name`, `color`, `value` and `title` property values as condition\nfunction uniq(items) {\n  const uniqItems = [];\n  for (let index = 0; index < items.length; index++) {\n    const item = items[index];\n    const result = find(uniqItems, (subItem) => {\n      return (\n        subItem.color === item.color &&\n        subItem.name === item.name &&\n        subItem.value === item.value &&\n        subItem.title === item.title\n      );\n    });\n    if (!result) {\n      uniqItems.push(item);\n    }\n  }\n  return uniqItems;\n}\n\n/** @ignore */\nexport default class Tooltip extends Controller<TooltipOption> {\n  private tooltip;\n  private tooltipMarkersGroup: IGroup;\n  private tooltipCrosshairsGroup: IGroup;\n  private xCrosshair;\n  private yCrosshair;\n  private guideGroup: IGroup;\n\n  private isLocked: boolean = false;\n  private items;\n  private title: string;\n  private point: Point;\n\n  public get name(): string {\n    return 'tooltip';\n  }\n\n  public init() { }\n\n  private isVisible() {\n    const option = this.view.getOptions().tooltip;\n    return option !== false;\n  }\n\n  public render() { }\n\n  /**\n   * Shows tooltip\n   * @param point\n   */\n  public showTooltip(point: Point) {\n    this.point = point;\n    if (!this.isVisible()) {\n      //  tooltip(false) \n      return;\n    }\n    const view = this.view;\n    const items = this.getTooltipItems(point);\n    if (!items.length) {\n      //  tooltip \n      this.hideTooltip();\n      return;\n    }\n    const title = this.getTitle(items);\n    const dataPoint = {\n      x: items[0].x,\n      y: items[0].y,\n    }; // \n\n    view.emit(\n      'tooltip:show',\n      Event.fromData(view, 'tooltip:show', {\n        items,\n        title,\n        ...point,\n      })\n    );\n\n    const cfg = this.getTooltipCfg();\n    const { follow, showMarkers, showCrosshairs, showContent, marker } = cfg;\n    const lastItems = this.items;\n    const lastTitle = this.title;\n    if (!isEqual(lastTitle, title) || !isEqual(lastItems, items)) {\n      //  tooltip\n      view.emit(\n        'tooltip:change',\n        Event.fromData(view, 'tooltip:change', {\n          items,\n          title,\n          ...point,\n        })\n      );\n\n      if (isFunction(showContent) ? showContent(items) : showContent) {\n        //  tooltip  tooltip\n        if (!this.tooltip) {\n          // \n          this.renderTooltip();\n        }\n        this.tooltip.update(\n          mix(\n            {},\n            cfg,\n            {\n              items: this.getItemsAfterProcess(items),\n              title,\n            },\n            follow ? point : {}\n          )\n        );\n        this.tooltip.show();\n      }\n\n      if (showMarkers) {\n        //  tooltipMarkerstooltipMarkers \n        this.renderTooltipMarkers(items, marker);\n      }\n    } else {\n      // \n      if (this.tooltip && follow) {\n        this.tooltip.update(point);\n        this.tooltip.show(); // tooltip \n      }\n\n      if (this.tooltipMarkersGroup) {\n        this.tooltipMarkersGroup.show();\n      }\n    }\n\n    this.items = items;\n    this.title = title;\n\n    if (showCrosshairs) {\n      //  tooltip \n      const isCrosshairsFollowCursor = get(cfg, ['crosshairs', 'follow'], false); // \n      this.renderCrosshairs(isCrosshairsFollowCursor ? point : dataPoint, cfg);\n    }\n  }\n\n  public hideTooltip() {\n    const { follow } = this.getTooltipCfg();\n    if (!follow) {\n      this.point = null;\n      return;\n    }\n    // hide the tooltipMarkers\n    const tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.hide();\n    }\n\n    // hide crosshairs\n    const xCrosshair = this.xCrosshair;\n    const yCrosshair = this.yCrosshair;\n    if (xCrosshair) {\n      xCrosshair.hide();\n    }\n    if (yCrosshair) {\n      yCrosshair.hide();\n    }\n\n    const tooltip = this.tooltip;\n    if (tooltip) {\n      tooltip.hide();\n    }\n\n    this.view.emit('tooltip:hide', Event.fromData(this.view, 'tooltip:hide', {}));\n\n    this.point = null;\n  }\n\n  /**\n   * lockTooltip\n   */\n  public lockTooltip() {\n    this.isLocked = true;\n    if (this.tooltip) {\n      // tooltip contianer \n      this.tooltip.setCapture(true);\n    }\n  }\n\n  /**\n   * unlockTooltip\n   */\n  public unlockTooltip() {\n    this.isLocked = false;\n    const cfg = this.getTooltipCfg();\n    if (this.tooltip) {\n      //  capture \n      this.tooltip.setCapture(cfg.capture);\n    }\n  }\n\n  /**\n   * isTooltipLocked\n   */\n  public isTooltipLocked() {\n    return this.isLocked;\n  }\n\n  public clear() {\n    const { tooltip, xCrosshair, yCrosshair, tooltipMarkersGroup } = this;\n    if (tooltip) {\n      tooltip.hide();\n      tooltip.clear();\n    }\n\n    if (xCrosshair) {\n      xCrosshair.clear();\n    }\n\n    if (yCrosshair) {\n      yCrosshair.clear();\n    }\n\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.clear();\n    }\n\n    //  customContent  tooltip\n    if (tooltip?.get('customContent')) {\n      this.tooltip.destroy();\n      this.tooltip = null;\n    }\n\n    // title  items ,  tooltip \n    //  !isEqual(lastTitle, title) || !isEqual(lastItems, items)  tooltip \n    this.title = null;\n    this.items = null;\n  }\n\n  public destroy() {\n    if (this.tooltip) {\n      this.tooltip.destroy();\n    }\n    if (this.xCrosshair) {\n      this.xCrosshair.destroy();\n    }\n    if (this.yCrosshair) {\n      this.yCrosshair.destroy();\n    }\n\n    if (this.guideGroup) {\n      this.guideGroup.remove(true);\n    }\n\n    this.reset();\n  }\n\n  public reset() {\n    this.items = null;\n    this.title = null;\n    this.tooltipMarkersGroup = null;\n    this.tooltipCrosshairsGroup = null;\n    this.xCrosshair = null;\n    this.yCrosshair = null;\n    this.tooltip = null;\n    this.guideGroup = null;\n    this.isLocked = false;\n    this.point = null;\n  }\n\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    const { tooltip, tooltipMarkersGroup, xCrosshair, yCrosshair } = this;\n    if (visible) {\n      if (tooltip) {\n        tooltip.show();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.show();\n      }\n      if (xCrosshair) {\n        xCrosshair.show();\n      }\n      if (yCrosshair) {\n        yCrosshair.show();\n      }\n    } else {\n      if (tooltip) {\n        tooltip.hide();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.hide();\n      }\n      if (xCrosshair) {\n        xCrosshair.hide();\n      }\n      if (yCrosshair) {\n        yCrosshair.hide();\n      }\n    }\n    this.visible = visible;\n  }\n\n  public getTooltipItems(point: Point) {\n    let items = this.findItemsFromView(this.view, point);\n    if (items.length) {\n      // \n      items = flatten(items);\n      for (const itemArr of items) {\n        for (const item of itemArr) {\n          const { x, y } = item.mappingData;\n          item.x = isArray(x) ? x[x.length - 1] : x;\n          item.y = isArray(y) ? y[y.length - 1] : y;\n        }\n      }\n\n      const { shared } = this.getTooltipCfg();\n      // shared: false  shape  view  Geometry shape\n      if (shared === false && items.length > 1) {\n        let snapItem = items[0];\n        let min = Math.abs(point.y - snapItem[0].y);\n        for (const aItem of items) {\n          const yDistance = Math.abs(point.y - aItem[0].y);\n          if (yDistance <= min) {\n            snapItem = aItem;\n            min = yDistance;\n          }\n        }\n        items = [snapItem];\n      }\n\n      return uniq(flatten(items));\n    }\n\n    return [];\n  }\n\n  public layout() { }\n\n  public update() {\n    if (this.point) {\n      this.showTooltip(this.point);\n    }\n\n    if (this.tooltip) {\n      // #2279 resizetooltip\n      // tooltip\n      const canvas = this.view.getCanvas();\n      // TODO  tooltip  canvas \n      //  region\n      this.tooltip.set('region', {\n        start: { x: 0, y: 0 },\n        end: { x: canvas.get('width'), y: canvas.get('height') },\n      });\n    }\n  }\n\n  /**\n   *  enter tooltip \n   * @param point\n   */\n  public isCursorEntered(point: Point) {\n    //  tooltip dom \n    if (this.tooltip) {\n      const el: HTMLElement = this.tooltip.getContainer();\n      const capture = this.tooltip.get('capture');\n\n      if (el && capture) {\n        const { x, y, width, height } = el.getBoundingClientRect();\n        return new BBox(x, y, width, height).isPointIn(point);\n      }\n    }\n\n    return false;\n  }\n\n  //  tooltip  view.tooltip()  tooltip\n  public getTooltipCfg() {\n    const view = this.view;\n    const option = view.getOptions().tooltip;\n    const processOption = this.processCustomContent(option);\n    const theme = view.getTheme();\n    const defaultCfg = get(theme, ['components', 'tooltip'], {});\n    const enterable = get(processOption, 'enterable', defaultCfg.enterable);\n    return deepMix({}, defaultCfg, processOption, {\n      capture: enterable || this.isLocked ? true : false,\n    });\n  }\n\n  // process customContent\n  protected processCustomContent(option: TooltipOption) {\n    if (isBoolean(option) || !get(option, 'customContent')) {\n      return option;\n    }\n    const currentCustomContent = option.customContent;\n    const customContent = (title: string, items: any[]) => {\n      const content = currentCustomContent(title, items) || '';\n      return isString(content) ? '<div class=\"g2-tooltip\">' + content + '</div>' : content;\n    };\n    return {\n      ...option,\n      customContent,\n    };\n  }\n\n  private getTitle(items) {\n    const title = items[0].title || items[0].name;\n    this.title = title;\n\n    return title;\n  }\n\n  private renderTooltip() {\n    const canvas = this.view.getCanvas();\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n\n    const cfg = this.getTooltipCfg();\n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      ...cfg,\n      visible: false,\n      crosshairs: null,\n    });\n\n    tooltip.init();\n    this.tooltip = tooltip;\n  }\n\n  private renderTooltipMarkers(items, marker) {\n    const tooltipMarkersGroup = this.getTooltipMarkersGroup();\n    const rootView = this.view.getRootView();\n    const { limitInPlot } = rootView;\n    for (const item of items) {\n      const { x, y } = item;\n\n      // \n      if (limitInPlot || tooltipMarkersGroup?.getClip()) {\n        const { type, attrs } = getCoordinateClipCfg(rootView.getCoordinate());\n        tooltipMarkersGroup?.setClip({\n          type,\n          attrs,\n        });\n      } else {\n        //  clip\n        tooltipMarkersGroup?.setClip(undefined);\n      }\n\n      const attrs = {\n        fill: item.color,\n        symbol: 'circle',\n        shadowColor: item.color,\n        ...marker,\n        x,\n        y,\n      };\n\n      tooltipMarkersGroup.addShape('marker', {\n        attrs,\n      });\n    }\n  }\n\n  private renderCrosshairs(point: Point, cfg) {\n    const crosshairsType = get(cfg, ['crosshairs', 'type'], 'x'); //  x \n    if (crosshairsType === 'x') {\n      if (this.yCrosshair) {\n        this.yCrosshair.hide();\n      }\n      this.renderXCrosshairs(point, cfg);\n    } else if (crosshairsType === 'y') {\n      if (this.xCrosshair) {\n        this.xCrosshair.hide();\n      }\n      this.renderYCrosshairs(point, cfg);\n    } else if (crosshairsType === 'xy') {\n      this.renderXCrosshairs(point, cfg);\n      this.renderYCrosshairs(point, cfg);\n    }\n  }\n\n  //  x  tooltip \n  private renderXCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    if (!isPointInCoordinate(coordinate, point)) {\n      return;\n    }\n    let start;\n    let end;\n    if (coordinate.isRect) {\n      if (coordinate.isTransposed) {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      } else {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      }\n    } else {\n      //  x  crosshairs \n      const angle = getAngleByPoint(coordinate, point);\n      const center = coordinate.getCenter();\n      const radius = coordinate.getRadius();\n      end = polarToCartesian(center.x, center.y, radius, angle);\n      start = center;\n    }\n\n    const cfg = deepMix(\n      {\n        start,\n        end,\n        container: this.getTooltipCrosshairsGroup(),\n      },\n      get(tooltipCfg, 'crosshairs', {}),\n      this.getCrosshairsText('x', point, tooltipCfg)\n    );\n    delete cfg.type; //  Crosshairs  type \n\n    let xCrosshair = this.xCrosshair;\n    if (xCrosshair) {\n      xCrosshair.update(cfg);\n    } else {\n      xCrosshair = new Crosshair.Line(cfg);\n      xCrosshair.init();\n    }\n    xCrosshair.render();\n    xCrosshair.show();\n    this.xCrosshair = xCrosshair;\n  }\n\n  //  y \n  private renderYCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    if (!isPointInCoordinate(coordinate, point)) {\n      return;\n    }\n    let cfg;\n    let type;\n    if (coordinate.isRect) {\n      let start;\n      let end;\n      if (coordinate.isTransposed) {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      } else {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      }\n      cfg = {\n        start,\n        end,\n      };\n      type = 'Line';\n    } else {\n      //  y  crosshairs \n      cfg = {\n        center: coordinate.getCenter(),\n        // @ts-ignore\n        radius: getDistanceToCenter(coordinate, point),\n        startAngle: coordinate.startAngle,\n        endAngle: coordinate.endAngle,\n      };\n      type = 'Circle';\n    }\n\n    cfg = deepMix(\n      {\n        container: this.getTooltipCrosshairsGroup(),\n      },\n      cfg,\n      get(tooltipCfg, 'crosshairs', {}),\n      this.getCrosshairsText('y', point, tooltipCfg)\n    );\n    delete cfg.type; //  Crosshairs  type \n\n    let yCrosshair = this.yCrosshair;\n    if (yCrosshair) {\n      // \n      if (\n        (coordinate.isRect && yCrosshair.get('type') === 'circle') ||\n        (!coordinate.isRect && yCrosshair.get('type') === 'line')\n      ) {\n        yCrosshair = new Crosshair[type](cfg);\n        yCrosshair.init();\n      } else {\n        yCrosshair.update(cfg);\n      }\n    } else {\n      yCrosshair = new Crosshair[type](cfg);\n      yCrosshair.init();\n    }\n    yCrosshair.render();\n    yCrosshair.show();\n    this.yCrosshair = yCrosshair;\n  }\n\n  private getCrosshairsText(type, point: Point, tooltipCfg) {\n    let textCfg = get(tooltipCfg, ['crosshairs', 'text']);\n    const follow = get(tooltipCfg, ['crosshairs', 'follow']);\n    const items = this.items;\n\n    if (textCfg) {\n      const view = this.getViewWithGeometry(this.view);\n      // \n      const firstItem = items[0];\n      const xScale = view.getXScale();\n      const yScale = view.getYScales()[0];\n      let xValue;\n      let yValue;\n      if (follow) {\n        // \n        const invertPoint = this.view.getCoordinate().invert(point);\n        xValue = xScale.invert(invertPoint.x); // \n        yValue = yScale.invert(invertPoint.y); // \n      } else {\n        xValue = firstItem.data[xScale.field];\n        yValue = firstItem.data[yScale.field];\n      }\n\n      const content = type === 'x' ? xValue : yValue;\n      if (isFunction(textCfg)) {\n        textCfg = textCfg(type, content, items, point);\n      } else {\n        textCfg.content = content;\n      }\n\n      return {\n        text: textCfg,\n      };\n    }\n  }\n\n  //  tooltipMarkers  crosshairs \n  private getGuideGroup() {\n    if (!this.guideGroup) {\n      const foregroundGroup = this.view.foregroundGroup;\n      this.guideGroup = foregroundGroup.addGroup({\n        name: 'tooltipGuide',\n        capture: false,\n      });\n    }\n\n    return this.guideGroup;\n  }\n\n  //  tooltipMarkers \n  private getTooltipMarkersGroup() {\n    let tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup && !tooltipMarkersGroup.destroyed) {\n      tooltipMarkersGroup.clear();\n      tooltipMarkersGroup.show();\n    } else {\n      tooltipMarkersGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipMarkersGroup',\n      });\n      tooltipMarkersGroup.toFront();\n      this.tooltipMarkersGroup = tooltipMarkersGroup;\n    }\n    return tooltipMarkersGroup;\n  }\n\n  //  tooltip crosshairs \n  private getTooltipCrosshairsGroup() {\n    let tooltipCrosshairsGroup = this.tooltipCrosshairsGroup;\n    if (!tooltipCrosshairsGroup) {\n      tooltipCrosshairsGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipCrosshairsGroup',\n        capture: false,\n      });\n      tooltipCrosshairsGroup.toBack();\n      this.tooltipCrosshairsGroup = tooltipCrosshairsGroup;\n    }\n    return tooltipCrosshairsGroup;\n  }\n\n  private findItemsFromView(view: View, point: Point) {\n    if (view.getOptions().tooltip === false) {\n      //  view  tooltip\n      return [];\n    }\n\n    const tooltipCfg = this.getTooltipCfg();\n    let result = findItemsFromView(view, point, tooltipCfg);\n    // \n    for (const childView of view.views) {\n      result = result.concat(this.findItemsFromView(childView, point));\n    }\n\n    return result;\n  }\n\n  // FIXME: hack \n  //  tooltip  Chart chart  Geometry  View \n  private getViewWithGeometry(view) {\n    if (view.geometries.length) {\n      return view;\n    }\n\n    return find(view.views, (childView) => this.getViewWithGeometry(childView));\n  }\n\n  /**\n   *  items  items\n   * \n   */\n  private getItemsAfterProcess(originalItems: TooltipItem[]): TooltipItem[] {\n    const { customItems } = this.getTooltipCfg();\n    const fn = customItems ? customItems : (v) => v;\n\n    return fn(originalItems);\n  }\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/** @ignore */\ninterface AnimationMap {\n  [key: string]: Animation;\n}\n\ntype Animation = (element: IGroup | IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) => void;\n\nconst ANIMATIONS_MAP: AnimationMap = {};\n\n/**\n * \n * @param type \n */\nexport function getAnimation(type: string) {\n  return ANIMATIONS_MAP[type.toLowerCase()];\n}\n\n/**\n * \n * @param type \n * @param animation \n */\nexport function registerAnimation(type: string, animation: Animation) {\n  ANIMATIONS_MAP[type.toLowerCase()] = animation;\n}\n","import { deepMix, get, isFunction } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Coordinate, IGroup, IShape } from '../dependents';\nimport { AnimateCfg, Data, Datum, GAnimateCfg, Point } from '../interface';\nimport { AnimateExtraCfg } from './interface';\n\nimport { getAnimation } from './animation';\n\n// \nexport const DEFAULT_ANIMATE_CFG = {\n  appear: {\n    duration: 450,\n    easing: 'easeQuadOut',\n  }, // \n  update: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // \n  enter: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // \n  leave: {\n    duration: 350,\n    easing: 'easeQuadIn',\n  }, // \n};\n\n//  Geometry \nconst GEOMETRY_ANIMATE_CFG = {\n  interval: (coordinate: Coordinate) => {\n    return {\n      enter: {\n        animation: coordinate.isRect ? (coordinate.isTransposed ? 'scale-in-x' : 'scale-in-y') : 'fade-in',\n      },\n      update: {\n        animation: coordinate.isPolar && coordinate.isTransposed ? 'sector-path-update' : null,\n      },\n      leave: {\n        animation: 'fade-out',\n      },\n    };\n  },\n  line: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  path: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  point: {\n    appear: {\n      animation: 'zoom-in',\n    },\n    enter: {\n      animation: 'zoom-in',\n    },\n    leave: {\n      animation: 'zoom-out',\n    },\n  },\n  area: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  polygon: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  schema: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  edge: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  label: {\n    appear: {\n      animation: 'fade-in',\n      delay: 450,\n    },\n    enter: {\n      animation: 'fade-in',\n    },\n    update: {\n      animation: 'position-update',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n};\n\n//  Geometry \nconst GEOMETRY_GROUP_APPEAR_ANIMATION = {\n  line: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  area: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  path: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n  interval(coordinate: Coordinate) {\n    let animation;\n\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n      if (coordinate.isPolar && coordinate.isTransposed) {\n        // pie chart\n        animation = 'wave-in';\n      }\n    }\n    return {\n      animation,\n    };\n  },\n  schema: (coordinate) => {\n    let animation;\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n    }\n    return {\n      animation,\n    };\n  },\n  polygon: () => {\n    return {\n      animation: 'fade-in',\n      duration: 500,\n    };\n  },\n  edge: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n};\n\n// \nfunction parseAnimateConfig(animateCfg: AnimateCfg, data: Data | Datum): GAnimateCfg {\n  return {\n    delay: isFunction(animateCfg.delay) ? animateCfg.delay(data) : animateCfg.delay,\n    easing: isFunction(animateCfg.easing) ? animateCfg.easing(data) : animateCfg.easing,\n    duration: isFunction(animateCfg.duration) ? animateCfg.duration(data) : animateCfg.duration,\n    callback: animateCfg.callback,\n    repeat: animateCfg.repeat,\n  };\n}\n\n/**\n * @ignore\n *  elementName  `animateType` `animateType` \n * @param elementName \n * @param coordinate \n * @param animateType \n */\nexport function getDefaultAnimateCfg(elementName: string, coordinate: Coordinate, animateType?: string) {\n  let animateCfg = GEOMETRY_ANIMATE_CFG[elementName];\n\n  if (animateCfg) {\n    if (isFunction(animateCfg)) {\n      animateCfg = animateCfg(coordinate);\n    }\n    animateCfg = deepMix({}, DEFAULT_ANIMATE_CFG, animateCfg);\n\n    if (animateType) {\n      return animateCfg[animateType];\n    }\n  }\n  return animateCfg;\n}\n\n/**\n * @ignore\n * \n *  shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function doAnimate(shape: IGroup | IShape, animateCfg: AnimateCfg, cfg: AnimateExtraCfg) {\n  const data = get(shape.get('origin'), 'data', FIELD_ORIGIN);\n  const animation = animateCfg.animation; // \n  const parsedAnimateCfg = parseAnimateConfig(animateCfg, data);\n  if (animation) {\n    // \n    const animateFunction = getAnimation(animation);\n    if (animateFunction) {\n      animateFunction(shape, parsedAnimateCfg, cfg);\n    }\n  } else {\n    //  toAttrs \n    shape.animate(cfg.toAttrs, parsedAnimateCfg);\n  }\n}\n\n/**\n * @ignore\n *  Geometry \n * @param container \n * @param animateCfg \n * @param geometryType geometry \n * @param coordinate \n * @param minYPoint y \n */\nexport function doGroupAppearAnimate(\n  container: IGroup,\n  animateCfg: AnimateCfg,\n  geometryType: string,\n  coordinate: Coordinate,\n  minYPoint: Point\n) {\n  if (GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType]) {\n    const defaultCfg = GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType](coordinate);\n    const animation = getAnimation(get(defaultCfg, 'animation', ''));\n    if (animation) {\n      const cfg = {\n        ...DEFAULT_ANIMATE_CFG.appear,\n        ...defaultCfg,\n        ...animateCfg,\n      };\n      container.stopAnimate(); //  container \n      animation(container, cfg, {\n        coordinate,\n        minYPoint,\n        toAttrs: null,\n      });\n    }\n  }\n}\n","/**\n * Name of Background Shape\n */\nexport const BACKGROUND_SHAPE = 'element-background';\n","import { deepMix, each, get, isArray, isEmpty, isEqual, isFunction, isString } from '@antv/util';\n// \n// @ts-ignore\nimport { propagationDelegate } from '@antv/component';\nimport { doAnimate } from '../../animate';\nimport Base from '../../base';\nimport { BBox, IGroup, IShape } from '../../dependents';\nimport { AnimateOption, Datum, ShapeFactory, ShapeInfo, StateCfg } from '../../interface';\nimport { getReplaceAttrs } from '../../util/graphics';\nimport Geometry from '../base';\nimport { GEOMETRY_LIFE_CIRCLE } from '../../constant';\nimport { BACKGROUND_SHAPE } from '../shape/constant';\n\n/** Element  */\ninterface ElementCfg {\n  /**  shape  */\n  shapeFactory: ShapeFactory;\n  /** shape  */\n  container: IGroup;\n  /** element  */\n  elementIndex?: number;\n  /**  group */\n  offscreenGroup?: IGroup;\n  /**  */\n  visible?: boolean;\n}\n\n/**\n * Element \n *  G2 Element / Shape  Shape\n */\nexport default class Element extends Base {\n  /**  shape  */\n  public shapeFactory: ShapeFactory;\n  /** shape  */\n  public container: IGroup;\n  /** element  */\n  public elementIndex: number;\n  /**  */\n  public shape: IShape | IGroup;\n  /** shape  */\n  public animate: AnimateOption | boolean;\n\n  // \n  /** element  Geometry  */\n  public geometry: Geometry;\n  /**  shape  label */\n  public labelShape: IGroup[] = [];\n\n  /**  shape  */\n  private shapeType: string;\n\n  /** shape  */\n  private model: ShapeInfo;\n  /**  */\n  private data: Datum;\n  // \n  private states: string[] = [];\n  private statesStyle;\n  //  Group\n  private offscreenGroup: IGroup;\n\n  constructor(cfg: ElementCfg) {\n    super(cfg);\n\n    const { shapeFactory, container, offscreenGroup, elementIndex, visible = true } = cfg;\n    this.shapeFactory = shapeFactory;\n    this.container = container;\n    this.offscreenGroup = offscreenGroup;\n    this.visible = visible;\n    this.elementIndex = elementIndex;\n  }\n\n  /**\n   * \n   * @param model \n   * @param isUpdate \n   */\n  public draw(model: ShapeInfo, isUpdate: boolean = false) {\n    this.model = model;\n    this.data = model.data; // \n    this.shapeType = this.getShapeType(model);\n\n    // \n    this.drawShape(model, isUpdate);\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \n   * @param model \n   */\n  public update(model: ShapeInfo) {\n    const { shapeFactory, shape } = this;\n    if (!shape) {\n      return;\n    }\n\n    // \n    this.model = model;\n    this.data = model.data;\n    this.shapeType = this.getShapeType(model);\n\n    // step 1:  shape \n    this.setShapeInfo(shape, model);\n\n    // step 2:  Group  shape shape\n    const offscreenGroup = this.getOffscreenGroup();\n    const newShape = shapeFactory.drawShape(this.shapeType, model, offscreenGroup);\n    // @ts-ignore\n    newShape.cfg.data = this.data;\n    // @ts-ignore\n    newShape.cfg.origin = model;\n    // label \n    newShape.cfg.element = this;\n\n    // step 3:  shape \n    this.syncShapeStyle(shape, newShape, this.getStates(), this.getAnimateCfg('update'));\n  }\n\n  /**\n   *  element \n   */\n  public destroy() {\n    const { shapeFactory, shape } = this;\n\n    if (shape) {\n      const animateCfg = this.getAnimateCfg('leave');\n      if (animateCfg) {\n        // \n        doAnimate(shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...shape.attr(),\n          },\n        });\n      } else {\n        // \n        shape.remove(true);\n      }\n    }\n\n    // reset\n    this.states = [];\n    this.shapeFactory = undefined;\n    this.container = undefined;\n    this.shape = undefined;\n    this.animate = undefined;\n    this.geometry = undefined;\n    this.labelShape = [];\n    this.model = undefined;\n    this.data = undefined;\n    this.offscreenGroup = undefined;\n    this.statesStyle = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   *  element\n   * @param visible \n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n\n    if (visible) {\n      if (this.shape) {\n        this.shape.show();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.show();\n        });\n      }\n    } else {\n      if (this.shape) {\n        this.shape.hide();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.hide();\n        });\n      }\n    }\n  }\n\n  /**\n   *  Element \n   *\n   *  Element \n   * 1. active\n   * 2. selected\n   * 3. inactive\n   *\n   * \n   *\n   *  [[Theme]]  `geometry.state()` \n   *\n   * ```ts\n   * //  active \n   * setState('active', true);\n   * ```\n   *\n   * @param stateName \n   * @param stateStatus \n   */\n  public setState(stateName: string, stateStatus: boolean) {\n    const { states, shapeFactory, model, shape, shapeType } = this;\n\n    const index = states.indexOf(stateName);\n    if (stateStatus) {\n      // \n      if (index > -1) {\n        // \n        return;\n      }\n      states.push(stateName);\n      if (stateName === 'active' || stateName === 'selected') {\n        shape?.toFront();\n      }\n    } else {\n      if (index === -1) {\n        // \n        return;\n      }\n      states.splice(index, 1);\n      if (stateName === 'active' || stateName === 'selected') {\n        const { sortZIndex, zIndexReversed } = this.geometry;\n        const idx = zIndexReversed ? this.geometry.elements.length - this.elementIndex : this.elementIndex;\n        sortZIndex ? shape.setZIndex(idx) : shape.set('zIndex', idx);\n      }\n    }\n\n    //  group  shape shape  shape\n    const offscreenShape = shapeFactory.drawShape(shapeType, model, this.getOffscreenGroup());\n    if (states.length) {\n      // \n      this.syncShapeStyle(shape, offscreenShape, states, null);\n    } else {\n      // \n      this.syncShapeStyle(shape, offscreenShape, ['reset'], null);\n    }\n\n    offscreenShape.remove(true); // \n\n    const eventObject = {\n      state: stateName,\n      stateStatus,\n      element: this,\n      target: this.container,\n    };\n    this.container.emit('statechange', eventObject);\n    // @ts-ignore\n    propagationDelegate(this.shape, 'statechange', eventObject);\n  }\n\n  /**\n   * \n   */\n  public clearStates() {\n    const states = this.states;\n\n    each(states, (state) => {\n      this.setState(state, false);\n    });\n\n    this.states = [];\n  }\n\n  /**\n   *  Element  `stateName` \n   * @param stateName \n   * @returns true false \n   */\n  public hasState(stateName: string): boolean {\n    return this.states.includes(stateName);\n  }\n\n  /**\n   *  Element \n   * @returns  Element \n   */\n  public getStates(): string[] {\n    return this.states;\n  }\n\n  /**\n   *  Element \n   * @returns \n   */\n  public getData(): Datum {\n    return this.data;\n  }\n\n  /**\n   *  Element \n   * @returns \n   */\n  public getModel(): ShapeInfo {\n    return this.model;\n  }\n\n  /**\n   *  Element  bbox\n   * @returns \n   */\n  public getBBox(): BBox {\n    const { shape, labelShape } = this;\n    let bbox = {\n      x: 0,\n      y: 0,\n      minX: 0,\n      minY: 0,\n      maxX: 0,\n      maxY: 0,\n      width: 0,\n      height: 0,\n    };\n    if (shape) {\n      bbox = shape.getCanvasBBox();\n    }\n    if (labelShape) {\n      labelShape.forEach((label: IGroup) => {\n        const labelBBox = label.getCanvasBBox();\n        bbox.x = Math.min(labelBBox.x, bbox.x);\n        bbox.y = Math.min(labelBBox.y, bbox.y);\n        bbox.minX = Math.min(labelBBox.minX, bbox.minX);\n        bbox.minY = Math.min(labelBBox.minY, bbox.minY);\n        bbox.maxX = Math.max(labelBBox.maxX, bbox.maxX);\n        bbox.maxY = Math.max(labelBBox.maxY, bbox.maxY);\n      });\n    }\n\n    bbox.width = bbox.maxX - bbox.minX;\n    bbox.height = bbox.maxY - bbox.minY;\n\n    return bbox;\n  }\n\n  private getStatesStyle() {\n    if (!this.statesStyle) {\n      const { shapeType, geometry, shapeFactory } = this;\n      const stateOption = geometry.stateOption;\n      const defaultShapeType = shapeFactory.defaultShapeType;\n      const stateTheme = shapeFactory.theme[shapeType] || shapeFactory.theme[defaultShapeType];\n      this.statesStyle = deepMix({}, stateTheme, stateOption);\n    }\n\n    return this.statesStyle;\n  }\n\n  // \n  private getStateStyle(stateName: string, shapeKey?: string): StateCfg {\n    const statesStyle = this.getStatesStyle();\n    const stateCfg = get(statesStyle, [stateName, 'style'], {});\n    const shapeStyle = stateCfg[shapeKey] || stateCfg;\n    if (isFunction(shapeStyle)) {\n      return shapeStyle(this);\n    }\n\n    return shapeStyle;\n  }\n\n  // \n  private getAnimateCfg(animateType: string) {\n    const animate = this.animate;\n    if (animate) {\n      const cfg = animate[animateType];\n\n      if (cfg) {\n        //  geometry  animate \n        return {\n          ...cfg,\n          callback: () => {\n            isFunction(cfg.callback) && cfg.callback();\n            this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE);\n          },\n        };\n      }\n      return cfg;\n    }\n\n    return null;\n  }\n\n  // \n  private drawShape(model: ShapeInfo, isUpdate: boolean = false) {\n    const { shapeFactory, container, shapeType } = this;\n\n    //  shape  shape\n    this.shape = shapeFactory.drawShape(shapeType, model, container);\n\n    if (this.shape) {\n      this.setShapeInfo(this.shape, model); // \n      // @ts-ignore\n      const name = this.shape.cfg.name;\n      //  element  name, name \n      if (!name) {\n        //  name,  name  name\n        // @ts-ignore\n        this.shape.cfg.name = ['element', this.shapeFactory.geometryType];\n      } else if (isString(name)) {\n        // @ts-ignore\n        this.shape.cfg.name = ['element', name];\n      }\n      // \n      const animateType = isUpdate ? 'enter' : 'appear';\n      const animateCfg = this.getAnimateCfg(animateType);\n      if (animateCfg) {\n        // \n        this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n\n        doAnimate(this.shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...this.shape.attr(),\n          },\n        });\n      }\n    }\n  }\n\n  //  Group\n  private getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // \n      this.offscreenGroup = new GroupCtor({});\n    }\n\n    return this.offscreenGroup;\n  }\n\n  //  shape \n  private setShapeInfo(shape: IShape | IGroup, data: ShapeInfo) {\n    // @ts-ignore\n    shape.cfg.origin = data;\n    // @ts-ignore\n    shape.cfg.element = this;\n    if (shape.isGroup()) {\n      const children = shape.get('children');\n      children.forEach((child) => {\n        this.setShapeInfo(child, data);\n      });\n    }\n  }\n\n  //  shape \n  private syncShapeStyle(\n    sourceShape: IGroup | IShape,\n    targetShape: IGroup | IShape,\n    states: string[] = [],\n    animateCfg,\n    index: number = 0\n  ) {\n    if (!sourceShape || !targetShape) {\n      return;\n    }\n    //  shape  clip\n    const clip = sourceShape.get('clipShape');\n    const newClip = targetShape.get('clipShape');\n\n    this.syncShapeStyle(clip, newClip, states, animateCfg);\n\n    if (sourceShape.isGroup()) {\n      const children = sourceShape.get('children');\n      const newChildren = targetShape.get('children');\n      for (let i = 0; i < children.length; i++) {\n        this.syncShapeStyle(children[i], newChildren[i], states, animateCfg, index + i);\n      }\n    } else {\n      if (!isEmpty(states) && !isEqual(states, ['reset'])) {\n        let name = sourceShape.get('name');\n        if (isArray(name)) {\n          //  element  name\n          name = name[1];\n        }\n\n        each(states, (state) => {\n          // background shape \n          if (targetShape.get('name') !== BACKGROUND_SHAPE) {\n            const style = this.getStateStyle(state, name || index); //  name\n            targetShape.attr(style);\n          }\n        });\n      }\n      const newAttrs = getReplaceAttrs(sourceShape as IShape, targetShape as IShape);\n\n      if (this.animate) {\n        if (animateCfg) {\n          this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n          // \n          doAnimate(sourceShape, animateCfg, {\n            coordinate: this.shapeFactory.coordinate,\n            toAttrs: newAttrs,\n            shapeModel: this.model,\n          });\n        } else if (!isEmpty(states)) {\n          sourceShape.stopAnimate();\n          sourceShape.animate(newAttrs, {\n            duration: 300,\n          });\n        } else {\n          sourceShape.attr(newAttrs);\n        }\n      } else {\n        sourceShape.attr(newAttrs);\n      }\n    }\n  }\n\n  private getShapeType(model: ShapeInfo) {\n    const shape = get(model, 'shape');\n    return isArray(shape) ? shape[0] : shape;\n  }\n}\n","import { BBox, IGroup, IShape } from '../../dependents';\nimport { LooseObject } from '../../interface';\nimport { GeometryLabelConstructor } from './base';\nimport { LabelItem } from './interface';\n\n/**\n * label \n * @param items  label \n * @param labels  labels \n * @param shapes  label \n * @param region \n * @param cfg \n */\ntype GeometryLabelsLayoutFn = (\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg?: LooseObject\n) => void;\n\nconst GEOMETRY_LABELS_MAP: Record<string, GeometryLabelConstructor> = {};\nconst GEOMETRY_LABELS_LAYOUT_MAP: Record<string, GeometryLabelsLayoutFn> = {};\n\n/**\n *  `type`  [[GeometryLabel]] \n * @param type\n * @returns\n */\nexport function getGeometryLabel(type: string): GeometryLabelConstructor {\n  return GEOMETRY_LABELS_MAP[type.toLowerCase()];\n}\n\n/**\n *  GeometryLabel \n * @param type GeometryLabel \n * @param ctor GeometryLabel \n */\nexport function registerGeometryLabel(type: string, ctor: GeometryLabelConstructor) {\n  GEOMETRY_LABELS_MAP[type.toLowerCase()] = ctor;\n}\n\n/**\n *  `type`  [[GeometryLabelsLayoutFn]] label \n * @param type \n * @returns\n */\nexport function getGeometryLabelLayout(type: string): GeometryLabelsLayoutFn {\n  return GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()];\n}\n\n/**\n *  label \n * @param type label \n * @param layoutFn label \n */\nexport function registerGeometryLabelLayout(type: string, layoutFn: GeometryLabelsLayoutFn) {\n  GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()] = layoutFn;\n}\n","import { LooseObject } from '@antv/g-svg';\nimport { parsePathString } from '@antv/path-util';\nimport { deepMix, get, upperFirst } from '@antv/util';\nimport { IGroup, IShape, PathCommand } from '../../dependents';\nimport {\n  Point,\n  RegisterShape,\n  RegisterShapeFactory,\n  Shape,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerAttrs,\n  ShapeMarkerCfg,\n  ShapePoint,\n} from '../../interface';\n\nimport { convertNormalPath, convertPolarPath } from './util/path';\n\n/** ShapeFactory  */\nconst ShapeFactoryBase = {\n  /**  */\n  coordinate: null,\n  /**  Shape  */\n  defaultShapeType: null,\n  /**  */\n  theme: null,\n  /**\n   *  shape \n   * @param shapeType shape \n   * @param shapePoint  size \n   * @returns \n   */\n  getShapePoints(shapeType: string, shapePoint: ShapePoint) {\n    const shape = this.getShape(shapeType);\n    if (shape.getPoints) {\n      return shape.getPoints(shapePoint);\n    }\n\n    return this.getDefaultPoints(shapePoint);\n  },\n  /**\n   *  shape  shape \n   * @param shapeType string shape \n   * @returns\n   */\n  getShape(shapeType: string): Shape {\n    const shape = this[shapeType] || this[this.defaultShapeType];\n    shape.coordinate = this.coordinate;\n\n    return shape;\n  },\n  /**\n   *  shape \n   * @override\n   */\n  getDefaultPoints() {\n    return [];\n  },\n  /**\n   *  shape  ( shapeFactory )\n   */\n  getDefaultStyle(geometryTheme: LooseObject): LooseObject {\n    return get(geometryTheme, [this.defaultShapeType, 'default', 'style'], {});\n  },\n  /**\n   *  shape \n   * @param shapeType shape \n   * @param color \n   * @param isInPolar \n   * @returns  marker \n   */\n  getMarker(shapeType: string, markerCfg: ShapeMarkerCfg): ShapeMarkerAttrs {\n    let shape = this.getShape(shapeType);\n\n    if (!shape.getMarker) {\n      const defaultShapeType = this.defaultShapeType;\n      shape = this.getShape(defaultShapeType);\n    }\n\n    const theme = this.theme;\n    const shapeStyle = get(theme, [shapeType, 'default'], {});\n    const markerStyle = shape.getMarker(markerCfg);\n\n    return deepMix({}, shapeStyle, markerStyle);\n  },\n  /**\n   *  shape\n   * @override\n   * @param shapeType  shape \n   * @param cfg  shape \n   * @param element Element \n   * @returns\n   */\n  drawShape(shapeType: string, cfg: ShapeInfo, container: IGroup): IShape | IGroup {\n    const shape = this.getShape(shapeType);\n    return shape.draw(cfg, container);\n  },\n};\n\n/** Shape  */\nconst ShapeBase = {\n  /**  */\n  coordinate: null,\n  /**\n   *  path  path\n   * @param path \n   * @returns\n   */\n  parsePath(path: string): PathCommand[] {\n    const coordinate = this.coordinate;\n    let parsedPath = parsePathString(path);\n    if (coordinate.isPolar) {\n      parsedPath = convertPolarPath(coordinate, parsedPath);\n    } else {\n      parsedPath = convertNormalPath(coordinate, parsedPath);\n    }\n    return parsedPath;\n  },\n  /**\n   * \n   * @param point \n   * @returns\n   */\n  parsePoint(point: Point): Point {\n    const coordinate = this.coordinate;\n    return coordinate.convert(point);\n  },\n  /**\n   * 01 points   points\n   * @param points \n   * @returns\n   */\n  parsePoints(points: Point[]): Point[] {\n    const coordinate = this.coordinate;\n    return points.map((point) => {\n      return coordinate.convert(point);\n    });\n  },\n  /**\n   *  shape\n   * @override\n   */\n  draw(cfg: ShapeInfo, container: IGroup) {},\n};\n\nconst ShapeFactoryMap = {};\n\n/**\n *  ShapeFactory\n * @param factoryName  ShapeFactory  Geometry \n * @param cfg  ShapeFactory \n * @returns  ShapeFactory \n */\nexport function registerShapeFactory(factoryName: string, cfg: RegisterShapeFactory): ShapeFactory {\n  const className = upperFirst(factoryName);\n  const geomObj = {\n    ...ShapeFactoryBase,\n    ...cfg,\n    geometryType: factoryName,\n  };\n  ShapeFactoryMap[className] = geomObj;\n  return geomObj;\n}\n\n/**\n *  Shape\n * @param factoryName  ShapeFactory \n * @param shapeType  shape \n * @param cfg  Shape \n * @returns shape  shape \n */\nexport function registerShape(factoryName: string, shapeType: string, cfg: RegisterShape): Shape {\n  const className = upperFirst(factoryName);\n  const factory = ShapeFactoryMap[className];\n  const shapeObj = {\n    ...ShapeBase,\n    ...cfg,\n  };\n  factory[shapeType] = shapeObj;\n  return shapeObj;\n}\n\n/**\n *  factoryName  shapeFactory\n * @param factoryName\n * @returns shape factory\n */\nexport function getShapeFactory(factoryName: string): ShapeFactory {\n  const className = upperFirst(factoryName);\n  return ShapeFactoryMap[className];\n}\n","import { groupToMap } from '@antv/util';\nimport { Data } from '../../interface';\n\n/** @ignore */\nexport function group(data: Data, fields: string[], appendConditions: Record<string, any[]> = {}) {\n  if (!fields) {\n    return [data];\n  }\n  const groups = groupToMap(data, fields);\n  const array = [];\n  if (fields.length === 1 && appendConditions[fields[0]]) {\n    const values = appendConditions[fields[0]];\n    for (const value of values) {\n      const arr = groups[`_${value}`];\n      if (arr) {\n        //  values  arr  null\n        array.push(arr);\n      }\n    }\n  } else {\n    for (const k in groups) {\n      if (groups.hasOwnProperty(k)) {\n        const eachGroup = groups[k];\n        array.push(eachGroup);\n      }\n    }\n  }\n\n  return array;\n}\n","import { isEqual, some } from '@antv/util';\nimport { ShapeInfo } from '../../interface';\n\n/**\n * @ignore\n * Determines whether model is change\n * @param currentModel\n * @param preModel\n * @returns\n */\nexport function isModelChange(currentModel: ShapeInfo, preModel: ShapeInfo) {\n  return some(\n    ['color', 'shape', 'size', 'x', 'y', 'isInCircle', 'data', 'style', 'defaultStyle', 'points', 'mappingData'],\n    (key: string) => {\n      return !isEqual(currentModel[key], preModel[key]);\n    }\n  );\n}\n","import { isArray } from '@antv/util';\n\n/** @ignore */\nexport function parseFields(field: string | string[]): string[] {\n  if (isArray(field)) {\n    return field;\n  }\n\n  return field.split('*');\n}\n","/**\n *  added, updated, removed\n * @param keyItem  key-item  object \n * @param keys  array \n * @returns  added, updated, removed array  object\n */\nexport function diff(keyItem: Record<string, any>, keys: string[]) {\n  const added = [];\n  const updated = [];\n  const removed = [];\n  const keyIncluded = new Map<string, boolean>();\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    if (keyItem[key]) updated.push(key);\n    else added.push(key);\n    keyIncluded.set(key, true);\n  }\n\n  Object.keys(keyItem).forEach((key) => {\n    if (!keyIncluded.has(key)) removed.push(key);\n  });\n\n  return {\n    added,\n    updated,\n    removed,\n  };\n}\n","import { Adjust, getAdjust as getAdjustClass } from '@antv/adjust';\nimport { Attribute, getAttribute as getAttributeClass } from '@antv/attr';\nimport {\n  clone,\n  deepMix,\n  each,\n  flatten,\n  get,\n  isArray,\n  isEmpty,\n  isEqual,\n  isFunction,\n  isNil,\n  isNumber,\n  isObject,\n  isPlainObject,\n  isString,\n  set,\n} from '@antv/util';\nimport { doGroupAppearAnimate, getDefaultAnimateCfg } from '../animate';\nimport Base from '../base';\nimport { FIELD_ORIGIN, GEOMETRY_LIFE_CIRCLE, GROUP_ATTRS } from '../constant';\nimport { BBox, Coordinate, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AdjustOption,\n  AdjustType,\n  AnimateOption,\n  AttributeOption,\n  ColorAttrCallback,\n  Data,\n  Datum,\n  GeometryLabelCfg,\n  GeometryTooltipOption,\n  LabelCallback,\n  LabelOption,\n  LooseObject,\n  MappingDatum,\n  ScaleOption,\n  ShapeAttrCallback,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerCfg,\n  ShapeMarkerAttrs,\n  ShapePoint,\n  SizeAttrCallback,\n  StateOption,\n  StyleCallback,\n  StyleOption,\n  TooltipCallback,\n  CustomOption,\n} from '../interface';\nimport { uniq } from '../util/helper';\nimport Element from './element';\nimport { getGeometryLabel } from './label';\nimport GeometryLabel from './label/base';\nimport { getShapeFactory } from './shape/base';\nimport { group } from './util/group-data';\nimport { isModelChange } from './util/is-model-change';\nimport { parseFields } from './util/parse-fields';\nimport { diff } from './util/diff';\nimport { inferScaleType } from '../util/scale';\nimport { getXDimensionLength } from '../util/coordinate';\n\n/** @ignore */\ninterface AttributeInstanceCfg {\n  fields?: string[];\n  callback?: (...args) => any;\n  values?: string[] | number[];\n  scales?: Scale[];\n}\ninterface DimValuesMapType {\n  [dim: string]: number[];\n}\n/** @ignore */\ninterface AdjustInstanceCfg {\n  type: AdjustType;\n  adjustNames?: string[];\n  xField?: string;\n  yField?: string;\n\n  dodgeBy?: string;\n  marginRatio?: number;\n  dodgeRatio?: number;\n\n  size?: number;\n  height?: number;\n  reverseOrder?: boolean;\n\n  /** offset */\n  intervalPadding?: number;\n  dodgePadding?: number;\n  /** xpadding */\n  xDimensionLength?: number;\n  /** offset */\n  groupNum?: number;\n  /**  size */\n  defaultSize?: number;\n  /**  */\n  maxColumnWidth?: number;\n  minColumnWidth?: number;\n  /**  */\n  columnWidthRatio?: number;\n  /** dimValuesMap */\n  dimValuesMap?: DimValuesMapType;\n}\n\n/** geometry.init()  */\nexport interface InitCfg {\n  /**  */\n  coordinate?: Coordinate;\n  /**  */\n  data?: Data;\n  /**  */\n  theme?: LooseObject;\n  /**  */\n  scaleDefs?: Record<string, ScaleOption>;\n  /**  */\n  isDataChanged?: boolean;\n  isCoordinateChanged?: boolean;\n}\n\n/** Geometry  */\nexport interface GeometryCfg {\n  /** Geometry shape  */\n  container: IGroup;\n  /**  */\n  coordinate?: Coordinate;\n  /**  */\n  data?: Data;\n  /**  scales */\n  scales?: Record<string, Scale>;\n  /**  */\n  scaleDefs?: Record<string, ScaleOption>;\n  /** Geometry labels  */\n  labelsContainer?: IGroup;\n  /**  */\n  sortable?: boolean;\n  /** elements  zIndex  zIndexReversed  */\n  zIndexReversed?: boolean;\n  /**  zIndex  sort */\n  sortZIndex?: boolean;\n  /**  Geometry .  true ,  timeout  */\n  useDeferredLabel?: boolean | number;\n  /**  */\n  visible?: boolean;\n  /**  */\n  theme?: LooseObject;\n\n  /**  */\n  intervalPadding?: number;\n  /**  */\n  dodgePadding?: number;\n  /**  */\n  maxColumnWidth?: number;\n  /**  */\n  minColumnWidth?: number;\n  /** intervalschema */\n  columnWidthRatio?: number;\n  /**  */\n  roseWidthRatio?: number;\n  /** / */\n  multiplePieWidthRatio?: number;\n}\n\n/**\n * Geometry \n */\nexport default class Geometry<S extends ShapePoint = ShapePoint> extends Base {\n  /** Geometry  */\n  public readonly type: string = 'base';\n  /** ShapeFactory  */\n  public readonly shapeType: string;\n\n  //  Geometry \n  /** Coordinate  */\n  public coordinate: Coordinate;\n  /**  */\n  public data: Data;\n  /**  */\n  public readonly container: IGroup;\n  /** label  */\n  public readonly labelsContainer: IGroup;\n  /**  false  */\n  public sortable: boolean;\n  /**  Geometry   */\n  public theme: LooseObject;\n  /**  geometry  scales */\n  public scales: Record<string, Scale>;\n  /** scale  */\n  public scaleDefs: Record<string, ScaleOption>;\n  /**  label  */\n  public canvasRegion: BBox;\n\n  // \n  /** Attribute map  */\n  public attributes: Record<string, Attribute> = {};\n  /** Element map */\n  public elements: Element[] = [];\n  /**\n   * \n   * + init()  updateData() ,  Data[]\n   * + paint()  MappingDatum[][]\n   */\n  public dataArray: MappingDatum[][];\n  /**  tooltip  */\n  public tooltipOption: GeometryTooltipOption | boolean;\n  /**  label  */\n  public labelOption: LabelOption | false;\n  /**  */\n  public stateOption: StateOption;\n  /**  key-value  Elementkey  Element  ID */\n  public elementsMap: Record<string, Element> = {};\n  /** animate  */\n  public animateOption: AnimateOption | boolean = true;\n  /**  */\n  protected attributeOption: Record<string, AttributeOption> = {};\n  /** adjust  */\n  protected adjustOption: AdjustOption[];\n  /** style  */\n  protected styleOption: StyleOption;\n  /** custom  */\n  protected customOption: CustomOption;\n  /**  Geometry  Shape  Shape */\n  protected shapeFactory: ShapeFactory;\n  /**  element  */\n  protected lastElementsMap: Record<string, Element> = {};\n  /**  */\n  protected generatePoints: boolean = false;\n  /**  */\n  protected beforeMappingData: Data[] = null;\n  /**  shape  size IntervalSchema  */\n  protected defaultSize: number;\n\n  //  geometry \n  private userTheme: LooseObject;\n  private adjusts: Record<string, Adjust> = {};\n  private lastAttributeOption;\n  private idFields: string[] = [];\n  private geometryLabel: GeometryLabel;\n\n  // \n  /**  */\n  protected intervalPadding: number;\n  /**  */\n  protected dodgePadding: number;\n  /**  */\n  protected maxColumnWidth: number;\n  /**  */\n  protected minColumnWidth: number;\n  /**  */\n  protected columnWidthRatio: number;\n  /**  */\n  protected roseWidthRatio: number;\n  /** / */\n  protected multiplePieWidthRatio: number;\n  /** elements  zIndex  zIndexReversed  */\n  public zIndexReversed?: boolean;\n  /**  zIndex  sort */\n  public sortZIndex?: boolean;\n  protected useDeferredLabel?: null | number;\n\n  /**  Group */\n  private offscreenGroup: IGroup;\n  private groupScales: Scale[];\n  private hasSorted: boolean = false;\n  protected isCoordinateChanged: boolean = false;\n\n  /**\n   *  Geometry \n   * @param cfg\n   */\n  constructor(cfg: GeometryCfg) {\n    super(cfg);\n\n    const {\n      container,\n      labelsContainer,\n      coordinate,\n      data,\n      sortable = false,\n      visible = true,\n      theme,\n      scales = {},\n      scaleDefs = {},\n      // \n      intervalPadding,\n      dodgePadding,\n      maxColumnWidth,\n      minColumnWidth,\n      columnWidthRatio,\n      roseWidthRatio,\n      multiplePieWidthRatio,\n      zIndexReversed,\n      sortZIndex,\n      useDeferredLabel,\n    } = cfg;\n\n    this.container = container;\n    this.labelsContainer = labelsContainer;\n    this.coordinate = coordinate;\n    this.data = data;\n    this.sortable = sortable;\n    this.visible = visible;\n    this.userTheme = theme;\n    this.scales = scales;\n    this.scaleDefs = scaleDefs;\n    // \n    this.intervalPadding = intervalPadding;\n    this.dodgePadding = dodgePadding;\n    this.maxColumnWidth = maxColumnWidth;\n    this.minColumnWidth = minColumnWidth;\n    this.columnWidthRatio = columnWidthRatio;\n    this.roseWidthRatio = roseWidthRatio;\n    this.multiplePieWidthRatio = multiplePieWidthRatio;\n    this.zIndexReversed = zIndexReversed;\n    this.sortZIndex = sortZIndex;\n    this.useDeferredLabel = useDeferredLabel ? (typeof useDeferredLabel === 'number' ? useDeferredLabel : Infinity) : null;\n  }\n\n  /**\n   *  position \n   *\n   * @example\n   * ```typescript\n   * // : [{ x: 'A', y: 10, color: 'red' }]\n   * geometry.position('x*y');\n   * geometry.position([ 'x', 'y' ]);\n   * geometry.position({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   *\n   * @param cfg \n   * @returns\n   */\n  public position(cfg: string | string[] | AttributeOption): Geometry {\n    let positionCfg = cfg;\n    if (!isPlainObject(cfg)) {\n      // \n      positionCfg = {\n        fields: parseFields(cfg),\n      };\n    }\n\n    const fields = get(positionCfg, 'fields');\n    if (fields.length === 1) {\n      //  1*xx\n      fields.unshift('1');\n      set(positionCfg, 'fields', fields);\n    }\n    set(this.attributeOption, 'position', positionCfg);\n\n    return this;\n  }\n\n  /**\n   *  color \n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.color({\n   *   fields: [ 'x' ],\n   *   values: [ '#1890ff', '#5AD8A6' ],\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public color(field: AttributeOption): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * //  '#1890ff' \n   * geometry.color('#1890ff');\n   *\n   * //  x  G2 \n   * geometry.color('x');\n   *\n   * //  'x'  colors\n   * geometry.color('x', [ '#1890ff', '#5AD8A6' ]);\n   *\n   * // *\n   * geometry.color('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'red';\n   *   }\n   *   return 'blue';\n   * });\n   *\n   * // \n   * geometry.color('x', '#BAE7FF-#1890FF-#0050B3');\n   * ```\n   *\n   * @param field  '*' \n   * @param cfg Optional, color \n   * @returns\n   */\n  public color(field: string, cfg?: string | string[] | ColorAttrCallback): Geometry;\n  public color(field: AttributeOption | string, cfg?: string | string[] | ColorAttrCallback): Geometry {\n    this.createAttrOption('color', field, cfg);\n\n    return this;\n  }\n\n  /**\n   *  shape \n   *\n   * @example\n   *\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.shape({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public shape(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * //  shape\n   * geometry.shape('circle');\n   *\n   * //  shapes \n   * geometry.shape('x');\n   *\n   * //  shapes \n   * geometry.shape('x', [ 'circle', 'diamond', 'square' ]);\n   *\n   * //  shape shape \n   * geometry.shape('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'circle';\n   *   }\n   *   return 'diamond';\n   * });\n   * ```\n   *\n   * @param field  shape  '*' \n   * @param cfg Optional, shape \n   * @returns\n   */\n  public shape(field: string, cfg?: string[] | ShapeAttrCallback): Geometry;\n  public shape(field: AttributeOption | string, cfg?: string[] | ShapeAttrCallback): Geometry {\n    this.createAttrOption('shape', field, cfg);\n\n    return this;\n  }\n\n  /**\n   *  size \n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.size({\n   *   values: [ 10 ],\n   * })\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public size(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * // \n   * geometry.size(10);\n   *\n   * //  size  [1, 10]\n   * geometry.size('x');\n   *\n   * //  size  size \n   * geometry.size('x', [ 5, 30 ]);\n   *\n   * //  size size \n   * geometry.size('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 10;\n   *   }\n   *   return 5;\n   * });\n   * ```\n   *\n   * @param field  size  '*' \n   * @param cfg Optional, size \n   * @returns\n   */\n  public size(field: number | string, cfg?: [number, number] | SizeAttrCallback): Geometry;\n  public size(field: AttributeOption | number | string, cfg?: [number, number] | SizeAttrCallback): Geometry {\n    this.createAttrOption('size', field, cfg);\n\n    return this;\n  }\n\n  /**\n   * G2 \n   * 1. dodge\n   * 2. stack\n   * 3. symmetric\n   * 4. jitter\n   *\n   *\n   * **Tip**\n   * +  'dodge' :\n   * ```typescript\n   * geometry.adjust('dodge', {\n   *   marginRatio: 0, //  0  1 \n   *   dodgeBy: 'x', //  'dodge' \n   * });\n   * ```\n   *\n   * +  'stack' :\n   * ```typescript\n   * geometry.adjust('stack', {\n   *   reverseOrder: false, // \n   * });\n   * ```\n   *\n   * @example\n   * ```typescript\n   * geometry.adjust('stack');\n   *\n   * geometry.adjust({\n   *   type: 'stack',\n   *   reverseOrder: false,\n   * });\n   *\n   * //  adjust\n   * geometry.adjust([ 'stack', 'dodge' ]);\n   *\n   * geometry.adjust([\n   *   { type: 'stack' },\n   *   { type: 'dodge', dodgeBy: 'x' },\n   * ]);\n   * ```\n   *\n   * @param adjustCfg \n   * @returns\n   */\n  public adjust(adjustCfg: string | string[] | AdjustOption | AdjustOption[]): Geometry {\n    let adjusts: any = adjustCfg;\n    if (isString(adjustCfg) || isPlainObject(adjustCfg)) {\n      adjusts = [adjustCfg];\n    }\n    each(adjusts, (adjust, index) => {\n      if (!isObject(adjust)) {\n        adjusts[index] = { type: adjust };\n      }\n    });\n\n    this.adjustOption = adjusts;\n    return this;\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```typescript\n   * // \n   * style({\n   *   lineWidth: 2,\n   *   stroke: '#1890ff',\n   * });\n   *\n   * // \n   * style({\n   *   fields: [ 'x', 'y' ], // \n   *   callback: (xVal, yVal) => {\n   *     const style = { lineWidth: 2, stroke: '#1890ff' };\n   *     if (xVal === 'a') {\n   *       style.lineDash = [ 2, 2 ];\n   *     }\n   *     return style;\n   *   },\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public style(field: StyleOption | LooseObject): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * style('x*y', (xVal, yVal) => {\n   *   const style = { lineWidth: 2, stroke: '#1890ff' };\n   *   if (xVal === 'a') {\n   *     style.lineDash = [ 2, 2 ];\n   *   }\n   *   return style;\n   * });\n   * ```\n   *\n   * @param field \n   * @param styleFunc Optional, \n   * @returns\n   */\n  public style(field: string, styleFunc: StyleCallback): Geometry;\n  public style(field: StyleOption | LooseObject | string, styleFunc?: StyleCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.styleOption = {\n        fields,\n        callback: styleFunc,\n      };\n    } else {\n      const { fields, callback, cfg } = field as StyleOption;\n      if (fields || callback || cfg) {\n        this.styleOption = field;\n      } else {\n        this.styleOption = {\n          cfg: field,\n        };\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   *  Geometry  tooltip \n   *\n   * `tooltip(false)`  tooltip\n   * `tooltip(true)`  tooltip\n   *\n   * Geometry  tooltip  tooltip \n   *\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   * tooltip({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*268uQ50if60AAAAAAAAAAABkARQnAQ)\n   *\n   * ```typescript\n   * tooltip({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*A_ujSa8QhtcAAAAAAAAAAABkARQnAQ)\n   *\n   * tooltip() \n   *\n   * @example\n   * ```typescript\n   * chart.tooltip({\n   *   itemTpl: '<li>{x}: {y}</li>',\n   * });\n   *\n   * chart.line()\n   *   .position('x*y')\n   *   .tooltip({\n   *     fields: [ 'x', 'y' ],\n   *     callback: (x, y) => {\n   *       return {\n   *         x,\n   *         y,\n   *       };\n   *     },\n   *   });\n   * ```\n   *\n   *  chart.tooltip()  itemTpl  itemTpl \n   *\n   * @param field tooltip \n   * @returns\n   */\n  public tooltip(field: GeometryTooltipOption | boolean): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   *\n   * //  tooltip({ fields: [ 'x' ] })\n   * tooltip('x');\n   *\n   * //  tooltip({ fields: [ 'x', 'y' ] })\n   * tooltip('x*y');\n   *\n   * //  tooltip({ fields: [ 'x', 'y' ], callback: (x, y) => { x, y } })\n   * tooltip('x*y', (x, y) => {\n   *   return {\n   *     x,\n   *     y,\n   *   };\n   * });\n   * ```\n   *\n   * @param field \n   * @param cfg Optional, \n   * @returns\n   */\n  public tooltip(field: string, cfg?: TooltipCallback): Geometry;\n  public tooltip(field: GeometryTooltipOption | boolean | string, cfg?: TooltipCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.tooltipOption = {\n        fields,\n        callback: cfg,\n      };\n    } else {\n      this.tooltipOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * Geometry \n   *\n   * + `animate(false)` \n   * + `animate(true)` \n   *\n   * \n   * 1. appear: \n   * 2. enter: \n   * 3. update: \n   * 4. leave: \n   *\n   * @example\n   * ```typescript\n   * animate({\n   *   enter: {\n   *     duration: 1000, // enter \n   *   },\n   *   leave: false, //  leave \n   * });\n   * ```\n   *\n   * @param cfg \n   * @returns\n   */\n  public animate(cfg: AnimateOption | boolean): Geometry {\n    this.animateOption = cfg;\n    return this;\n  }\n\n  /**\n   * Geometry label \n   *\n   * @example\n   * ```ts\n   * // data: [ {x: 1, y: 2, z: 'a'}, {x: 2, y: 2, z: 'b'} ]\n   * //  z \n   * label({\n   *   fields: [ 'z' ]\n   * });\n   *\n   * label(false); //  label\n   *\n   * //  x \n   * label('x', {\n   *   style: {\n   *     fill: 'red',\n   *   },\n   * })\n   *\n   * //  type  label  x \n   * label('x', (xValue) => {\n   *   return {\n   *     content: xValue + '%',\n   *   };\n   * }, {\n   *   type: 'base' //  label \n   * })\n   * ```\n   *\n   * @param field\n   * @returns label\n   */\n  public label(field: LabelOption | false | string): Geometry;\n  public label(field: string, secondParam: GeometryLabelCfg | LabelCallback): Geometry;\n  public label(field: string, secondParam: LabelCallback, thirdParam: GeometryLabelCfg): Geometry;\n  public label(\n    field: string | LabelOption | false,\n    secondParam?: GeometryLabelCfg | LabelCallback,\n    thirdParam?: GeometryLabelCfg\n  ): Geometry {\n    if (isString(field)) {\n      const labelOption: LabelOption = {};\n      const fields = parseFields(field);\n      labelOption.fields = fields;\n      if (isFunction(secondParam)) {\n        labelOption.callback = secondParam;\n      } else if (isPlainObject(secondParam)) {\n        labelOption.cfg = secondParam;\n      }\n\n      if (thirdParam) {\n        labelOption.cfg = thirdParam;\n      }\n      this.labelOption = labelOption;\n    } else {\n      this.labelOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * chart.interval().state({\n   *   selected: {\n   *     animate: { duration: 100, easing: 'easeLinear' },\n   *     style: {\n   *       lineWidth: 2,\n   *       stroke: '#000',\n   *     },\n   *   },\n   * });\n   * ```\n   *\n   *  shape  shape  G.Group  group  shape\n   *  group  shape  'name' (shape.set('name', 'xx')) 'name'  key shape   key\n   *\n   * ```ts\n   * chart.interval().shape('groupShape').state({\n   *   selected: {\n   *     style: {\n   *       0: { lineWidth: 2 },\n   *       1: { fillOpacity: 1 },\n   *     }\n   *   }\n   * });\n   * ```\n   *\n   * @param cfg \n   */\n  public state(cfg: StateOption) {\n    this.stateOption = cfg;\n    return this;\n  }\n\n  /**\n   *  shape  shape  shape  shape \n   *\n   * @example\n   * ```ts\n   * chart.interval().customInfo({ yourData: 'hello, g2!' });\n   * ```\n   *\n   *  shape \n   *\n   * ```ts\n   * registerShape('interval', 'your-shape', {\n   *   draw(shapeInfo, container) {\n   *     const { customInfo } = shapeInfo;\n   *     console.log(customInfo); // will log { yourData: 'hello, g2!' }.\n   *   }\n   * });\n   * ```\n   *\n   * @param cfg\n   */\n  public customInfo(cfg: any) {\n    this.customOption = cfg;\n    return this;\n  }\n\n  /**\n   *  Geomtry \n   *  [[Attribute]] and [[Scale]] \n   */\n  public init(cfg: InitCfg = {}) {\n    this.setCfg(cfg);\n    this.initAttributes(); // \n\n    //  ->  -> adjust\n    this.processData(this.data);\n\n    //  scale\n    this.adjustScale();\n  }\n\n  /**\n   * Geometry \n   * @param [cfg] \n   */\n  public update(cfg: InitCfg = {}) {\n    const { data, isDataChanged, isCoordinateChanged } = cfg;\n    const { attributeOption, lastAttributeOption } = this;\n\n    if (!isEqual(attributeOption, lastAttributeOption)) {\n      // \n      this.init(cfg);\n    } else if (data && (isDataChanged || !isEqual(data, this.data))) {\n      // \n      this.setCfg(cfg);\n      this.initAttributes(); // \n      this.processData(data); //  ->  -> adjust\n    } else {\n      //  coordinate \n      this.setCfg(cfg);\n    }\n\n    //  scale\n    this.adjustScale();\n    this.isCoordinateChanged = isCoordinateChanged;\n  }\n\n  /**\n   * \n   */\n  public paint(isUpdate: boolean = false) {\n    if (this.animateOption) {\n      this.animateOption = deepMix({}, getDefaultAnimateCfg(this.type, this.coordinate), this.animateOption);\n    }\n\n    this.defaultSize = undefined;\n    this.elementsMap = {};\n    this.elements = [];\n    const offscreenGroup = this.getOffscreenGroup();\n    offscreenGroup.clear();\n\n    const beforeMappingData = this.beforeMappingData;\n    const dataArray = this.beforeMapping(beforeMappingData);\n\n    this.dataArray = new Array(dataArray.length);\n    for (let i = 0; i < dataArray.length; i++) {\n      const data = dataArray[i];\n      this.dataArray[i] = this.mapping(data);\n    }\n    this.updateElements(this.dataArray, isUpdate);\n    this.lastElementsMap = this.elementsMap;\n\n    if (this.canDoGroupAnimation(isUpdate)) {\n      //  appear.animation\n      const container = this.container;\n      const type = this.type;\n      const coordinate = this.coordinate;\n      const animateCfg = get(this.animateOption, 'appear');\n      const yScale = this.getYScale();\n      const yMinPoint = coordinate.convert({\n        x: 0,\n        y: yScale.scale(this.getYMinValue()),\n      });\n      doGroupAppearAnimate(container, animateCfg, type, coordinate, yMinPoint);\n    }\n\n    //  label\n    if (this.labelOption) {\n      const deferred = this.useDeferredLabel;\n      const callback = (() => this.renderLabels(flatten(this.dataArray) as unknown as MappingDatum[], isUpdate)).bind(this);\n      if (typeof deferred === 'number') {\n        // Use `requestIdleCallback` to render labels in idle time (like react fiber)\n        const timeout = (typeof deferred === 'number' && deferred !== Infinity) ? deferred : 0;\n        if (!window.requestIdleCallback) {\n          setTimeout(callback, timeout);\n        } else {\n          const options = timeout && timeout !== Infinity ? { timeout } : undefined;\n          window.requestIdleCallback(callback, options);\n        }\n      } else {\n        callback();\n      }\n    }\n\n    // \n    this.lastAttributeOption = {\n      ...this.attributeOption,\n    };\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   *  Geometry\n   * @override\n   */\n  public clear() {\n    const { container, geometryLabel, offscreenGroup } = this;\n    if (container) {\n      container.clear();\n    }\n\n    if (geometryLabel) {\n      geometryLabel.clear();\n    }\n\n    if (offscreenGroup) {\n      offscreenGroup.clear();\n    }\n\n    // \n    this.scaleDefs = undefined;\n    this.attributes = {};\n    this.scales = {};\n    this.elementsMap = {};\n    this.lastElementsMap = {};\n    this.elements = [];\n    this.adjusts = {};\n    this.dataArray = null;\n    this.beforeMappingData = null;\n    this.lastAttributeOption = undefined;\n    this.defaultSize = undefined;\n    this.idFields = [];\n    this.groupScales = undefined;\n    this.hasSorted = false;\n    this.isCoordinateChanged = false;\n  }\n\n  /**\n   *  Geometry \n   */\n  public destroy() {\n    this.clear();\n    const container = this.container;\n    container.remove(true);\n\n    if (this.offscreenGroup) {\n      this.offscreenGroup.remove(true);\n      this.offscreenGroup = null;\n    }\n\n    if (this.geometryLabel) {\n      this.geometryLabel.destroy();\n      this.geometryLabel = null;\n    }\n    this.theme = undefined;\n    this.shapeFactory = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   *  scale \n   * @returns\n   */\n  public getGroupScales(): Scale[] {\n    return this.groupScales;\n  }\n\n  /**\n   * \n   */\n  public getAttribute(name: string): Attribute {\n    return this.attributes[name];\n  }\n\n  /**  x  scale  */\n  public getXScale(): Scale {\n    return this.getAttribute('position').scales[0];\n  }\n\n  /**  y  scale  */\n  public getYScale(): Scale {\n    return this.getAttribute('position').scales[1];\n  }\n\n  /**\n   * \n   */\n  public getGroupAttributes(): Attribute[] {\n    const rst = [];\n    each(this.attributes, (attr: Attribute) => {\n      if (GROUP_ATTRS.includes(attr.type)) {\n        rst.push(attr);\n      }\n    });\n    return rst;\n  }\n\n  /**  */\n  public getDefaultValue(attrName: string) {\n    let value: any;\n    const attr = this.getAttribute(attrName);\n    if (attr && isEmpty(attr.scales)) {\n      // \n      value = attr.values[0];\n    }\n    return value;\n  }\n\n  /**\n   *  Attribute \n   * @param attr Attribute \n   * @param obj \n   * @returns\n   */\n  public getAttributeValues(attr: Attribute, obj: Datum) {\n    const params = [];\n    const scales = attr.scales;\n    for (let index = 0, length = scales.length; index < length; index++) {\n      const scale = scales[index];\n      const field = scale.field;\n      if (scale.isIdentity) {\n        params.push(scale.values);\n      } else {\n        params.push(obj[field]);\n      }\n    }\n\n    return attr.mapping(...params);\n  }\n\n  /**\n   *  adjust \n   * @param adjustType\n   * @returns\n   */\n  public getAdjust(adjustType: string) {\n    return this.adjusts[adjustType];\n  }\n\n  /**\n   *  coordinate \n   * @returns\n   */\n  public getCoordinate() {\n    return this.coordinate;\n  }\n\n  public getData() {\n    return this.data;\n  }\n\n  /**\n   *  shape  marker \n   * @param shapeName shape \n   * @param cfg marker \n   * @returns\n   */\n  public getShapeMarker(shapeName: string, cfg: ShapeMarkerCfg): ShapeMarkerAttrs {\n    const shapeFactory = this.getShapeFactory();\n    return shapeFactory.getMarker(shapeName, cfg);\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElementsBy((element) => {\n   *   const data = element.getData();\n   *\n   *   return data.a === 'a';\n   * });\n   * ```\n   *\n   * @param condition \n   * @returns\n   */\n  public getElementsBy(condition: (element: Element) => boolean): Element[] {\n    return this.elements.filter((element) => condition(element));\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElements();\n   * ```\n   */\n  public getElements() {\n    return this.elements;\n  }\n\n  /**\n   *  id\n   * @param data Element \n   * @returns\n   */\n  public getElementId(data: MappingDatum | MappingDatum[]) {\n    data = isArray(data) ? data[0] : data;\n    const originData = data[FIELD_ORIGIN];\n\n    //  id \n    if (this.idFields.length) {\n      let elementId = originData[this.idFields[0]];\n      for (let index = 1; index < this.idFields.length; index++) {\n        elementId += '-' + originData[this.idFields[index]];\n      }\n\n      return elementId;\n    }\n\n    const type = this.type;\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const xField = xScale.field || 'x';\n    const yField = yScale.field || 'y';\n    const yVal = originData[yField];\n    let xVal;\n    if (xScale.type === 'identity') {\n      xVal = xScale.values[0];\n    } else {\n      xVal = originData[xField];\n    }\n\n    let id: string;\n    if (type === 'interval' || type === 'schema') {\n      id = `${xVal}`;\n    } else if (type === 'line' || type === 'area' || type === 'path') {\n      id = type;\n    } else {\n      id = `${xVal}-${yVal}`;\n    }\n\n    const groupScales = this.groupScales;\n\n    for (let index = 0, length = groupScales.length; index < length; index++) {\n      const groupScale = groupScales[index];\n      const field = groupScale.field;\n      id = `${id}-${originData[field]}`;\n    }\n\n    //  dodge  adjust  dodgeBy \n    const dodgeAdjust = this.getAdjust('dodge');\n    if (dodgeAdjust) {\n      const dodgeBy = dodgeAdjust.dodgeBy;\n      if (dodgeBy) {\n        id = `${id}-${originData[dodgeBy]}`;\n      }\n    }\n\n    if (this.getAdjust('jitter')) {\n      id = `${id}-${data.x}-${data.y}`;\n    }\n\n    return id;\n  }\n\n  /**\n   *  scale \n   */\n  public getScaleFields(): string[] {\n    const fields = [];\n    const tmpMap = new Map();\n    const { attributeOption, labelOption, tooltipOption } = this;\n    //  fields\n    for (const attributeType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attributeType)) {\n        const eachOpt = attributeOption[attributeType];\n        if (eachOpt.fields) {\n          uniq(eachOpt.fields, fields, tmpMap);\n        } else if (eachOpt.values) {\n          //  size(10), shape('circle') \n          uniq(eachOpt.values, fields, tmpMap);\n        }\n      }\n    }\n    //  label \n    if (labelOption && labelOption.fields) {\n      uniq(labelOption.fields, fields, tmpMap);\n    }\n\n    //  tooltip \n    if (isObject(tooltipOption) && tooltipOption.fields) {\n      uniq(tooltipOption.fields, fields, tmpMap);\n    }\n\n    return fields;\n  }\n\n  /**\n   *  geometry\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n    const elements = this.elements;\n    for (let index = 0, length = elements.length; index < length; index++) {\n      const element = elements[index];\n      element.changeVisible(visible);\n    }\n    if (visible) {\n      if (this.container) {\n        this.container.show();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.show();\n      }\n    } else {\n      if (this.container) {\n        this.container.hide();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.hide();\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public getFields() {\n    const uniqMap = new Map<string, boolean>();\n    const fields = [];\n\n    Object.values(this.attributeOption).forEach((cfg) => {\n      const fs = cfg?.fields || [];\n      fs.forEach((f) => {\n        if (!uniqMap.has(f)) {\n          fields.push(f);\n        }\n        uniqMap.set(f, true);\n      });\n    }, []);\n\n    return fields;\n  }\n\n  /**\n   *  & \n   * @return fields string[]\n   */\n  public getGroupFields(): string[] {\n    const groupFields = [];\n    const tmpMap = new Map(); // \n    for (let index = 0, length = GROUP_ATTRS.length; index < length; index++) {\n      const attributeName = GROUP_ATTRS[index];\n      const cfg = this.attributeOption[attributeName];\n      if (cfg && cfg.fields) {\n        uniq(cfg.fields, groupFields, tmpMap);\n      }\n    }\n\n    return groupFields;\n  }\n\n  /**\n   *  x y \n   */\n  public getXYFields() {\n    const [x, y] = this.attributeOption.position.fields;\n    return [x, y];\n  }\n\n  /**\n   * x \n   * @returns\n   */\n  public getXField(): string {\n    return get(this.getXYFields(), [0]);\n  }\n\n  /**\n   * y \n   * @returns\n   */\n  public getYField(): string {\n    return get(this.getXYFields(), [1]);\n  }\n\n  /**\n   *  Geometry  shapes\n   * @returns shapes\n   */\n  public getShapes(): (IShape | IGroup)[] {\n    return this.elements.map((element: Element) => element.shape);\n  }\n\n  /**\n   *  Group\n   * @returns\n   */\n  public getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // \n      this.offscreenGroup = new GroupCtor({});\n    }\n    return this.offscreenGroup;\n  }\n\n  // \n  public sort(mappingArray: Data[]) {\n    if (!this.hasSorted) {\n      // \n      const xScale = this.getXScale();\n      const xField = xScale.field;\n      for (let index = 0; index < mappingArray.length; index++) {\n        const itemArr = mappingArray[index];\n        itemArr.sort((obj1: Datum, obj2: Datum) => {\n          return xScale.translate(obj1[FIELD_ORIGIN][xField]) - xScale.translate(obj2[FIELD_ORIGIN][xField]);\n        });\n      }\n    }\n\n    this.hasSorted = true;\n  }\n\n  /**\n   *  Geometry Interval  Y  0 \n   */\n  protected adjustScale() {\n    const yScale = this.getYScale();\n    //  stack adjust yScale \n    if (yScale && this.getAdjust('stack')) {\n      this.updateStackRange(yScale, this.beforeMappingData);\n    }\n  }\n\n  /**\n   *  Geometry  Shape \n   */\n  protected getShapeFactory() {\n    const shapeType = this.shapeType;\n    if (!getShapeFactory(shapeType)) {\n      return;\n    }\n    if (!this.shapeFactory) {\n      this.shapeFactory = clone(getShapeFactory(shapeType)); //  view  shapeFactory  coordinate \n    }\n    //  shapeFactory coordinate shapeFactory \n    this.shapeFactory.coordinate = this.coordinate;\n    // theme \n    this.shapeFactory.theme = this.theme.geometries[shapeType] || {};\n\n    return this.shapeFactory;\n  }\n\n  /**\n   *  Shape \n   * @param obj  ->  -> adjust \n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum): S {\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const x = this.normalizeValues(obj[xScale.field], xScale);\n    let y; //  y \n\n    if (yScale) {\n      y = this.normalizeValues(obj[yScale.field], yScale);\n    } else {\n      y = obj.y ? obj.y : 0.1;\n    }\n\n    return {\n      x,\n      y,\n      y0: yScale ? yScale.scale(this.getYMinValue()) : undefined,\n    } as S;\n  }\n\n  /**\n   *  Element \n   * @param mappingDatum Element \n   * @param [isUpdate] \n   * @returns element  Element \n   */\n  protected createElement(mappingDatum: MappingDatum, index: number, isUpdate: boolean = false): Element {\n    const { container } = this;\n\n    const shapeCfg = this.getDrawCfg(mappingDatum); // \n    const shapeFactory = this.getShapeFactory();\n\n    const element = new Element({\n      shapeFactory,\n      container,\n      offscreenGroup: this.getOffscreenGroup(),\n      elementIndex: index,\n    });\n    element.animate = this.animateOption;\n    element.geometry = this;\n    element.draw(shapeCfg, isUpdate); // \n\n    return element;\n  }\n\n  /**\n   * \n   * @param mappingDatum \n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const originData = mappingDatum[FIELD_ORIGIN]; // \n    const cfg: ShapeInfo = {\n      mappingData: mappingDatum, // \n      data: originData, // \n      x: mappingDatum.x,\n      y: mappingDatum.y,\n      color: mappingDatum.color,\n      size: mappingDatum.size,\n      isInCircle: this.coordinate.isPolar,\n      customInfo: this.customOption,\n    };\n\n    let shapeName = mappingDatum.shape;\n    if (!shapeName && this.getShapeFactory()) {\n      shapeName = this.getShapeFactory().defaultShapeType;\n    }\n    cfg.shape = shapeName;\n    // \n    const theme = this.theme.geometries[this.shapeType];\n    cfg.defaultStyle = get(theme, [shapeName, 'default'], {}).style;\n    if (!cfg.defaultStyle && this.getShapeFactory()) {\n      cfg.defaultStyle = this.getShapeFactory().getDefaultStyle(theme);\n    }\n\n    const styleOption = this.styleOption;\n    if (styleOption) {\n      cfg.style = this.getStyleCfg(styleOption, originData);\n    }\n    if (this.generatePoints) {\n      cfg.points = mappingDatum.points;\n      cfg.nextPoints = mappingDatum.nextPoints;\n    }\n\n    return cfg;\n  }\n\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false): void {\n    const keyDatum = new Map<string, MappingDatum>();\n    const keys: string[] = [];\n\n    //  diff  added, updated \n    const keyIndex = new Map<string, number>();\n    let index = 0;\n\n    //  keys\n    //  key \n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      for (let j = 0; j < mappingData.length; j++) {\n        const mappingDatum = mappingData[j];\n        const key = this.getElementId(mappingDatum);\n        const finalKey = keyDatum.has(key) ? `${key}-${i}-${j}` : key;\n        keys.push(finalKey);\n        keyDatum.set(finalKey, mappingDatum);\n        keyIndex.set(finalKey, index);\n        index++;\n      }\n    }\n\n    this.elements = new Array(index);\n\n    const { added, updated, removed } = diff(this.lastElementsMap, keys);\n\n    //  element\n    for (const key of added) {\n      const mappingDatum = keyDatum.get(key);\n      const i = keyIndex.get(key);\n      const element = this.createElement(mappingDatum, i, isUpdate);\n      this.elements[i] = element;\n      this.elementsMap[key] = element;\n      if (element.shape) {\n        element.shape.set('zIndex', this.zIndexReversed ? this.elements.length - i : i);\n      }\n    }\n\n    //  element\n    for (const key of updated) {\n      const element = this.lastElementsMap[key];\n      const mappingDatum = keyDatum.get(key);\n      const currentShapeCfg = this.getDrawCfg(mappingDatum);\n      const preShapeCfg = element.getModel();\n      const i = keyIndex.get(key);\n      if (this.isCoordinateChanged || isModelChange(currentShapeCfg, preShapeCfg)) {\n        element.animate = this.animateOption;\n        // \n        element.update(currentShapeCfg); //  element\n      }\n      this.elements[i] = element;\n      this.elementsMap[key] = element;\n      if (element.shape) {\n        element.shape.set('zIndex', this.zIndexReversed ? this.elements.length - i : i);\n      }\n    }\n\n    //  setZIndex  sort\n    if (this.container) {\n      this.container.sort();\n    }\n\n    //  elements\n    for (const key of removed) {\n      const element = this.lastElementsMap[key];\n      // \n      element.animate = this.animateOption;\n      element.destroy();\n    }\n  }\n\n  /**\n   *  label \n   */\n  protected getLabelType(): string {\n    const { labelOption, coordinate, type } = this;\n    const { type: coordinateType, isTransposed } = coordinate;\n    let labelType = get(labelOption, ['cfg', 'type']);\n    if (!labelType) {\n      // \n      if (coordinateType === 'polar') {\n        // \n        labelType = isTransposed ? 'pie' : 'polar';\n      } else if (coordinateType === 'theta') {\n        // theta \n        labelType = 'pie';\n      } else if (type === 'interval' || type === 'polygon') {\n        labelType = 'interval';\n      } else {\n        labelType = 'base';\n      }\n    }\n\n    return labelType;\n  }\n\n  /**\n   *  Y \n   */\n  protected getYMinValue(): number {\n    const yScale = this.getYScale();\n    const { min, max } = yScale;\n    let value: number;\n\n    if (min >= 0) {\n      value = min;\n    } else if (max <= 0) {\n      //  ymin  0\n      value = max;\n    } else {\n      value = 0;\n    }\n    return value;\n  }\n\n  // \n  protected createAttrOption(attrName: string, field: AttributeOption | string | number, cfg?) {\n    if (isNil(field) || isObject(field)) {\n      if (isObject(field) && isEqual(Object.keys(field), ['values'])) {\n        // shape({ values: [ 'funnel' ] })\n        set(this.attributeOption, attrName, {\n          fields: field.values,\n        });\n      } else {\n        set(this.attributeOption, attrName, field);\n      }\n    } else {\n      const attrCfg: AttributeOption = {};\n      if (isNumber(field)) {\n        // size(3)\n        attrCfg.values = [field];\n      } else {\n        attrCfg.fields = parseFields(field);\n      }\n\n      if (cfg) {\n        if (isFunction(cfg)) {\n          attrCfg.callback = cfg;\n        } else {\n          attrCfg.values = cfg;\n        }\n      }\n\n      set(this.attributeOption, attrName, attrCfg);\n    }\n  }\n\n  protected initAttributes() {\n    const { attributes, attributeOption, theme, shapeType } = this;\n    this.groupScales = [];\n    const tmpMap = {};\n\n    //  attrOption Attribute \n    for (const attrType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attrType)) {\n        const option: AttributeOption = attributeOption[attrType];\n        if (!option) {\n          return;\n        }\n        const attrCfg: AttributeInstanceCfg = {\n          ...option,\n        };\n        const { callback, values, fields = [] } = attrCfg;\n\n        //  scale\n        const scales = fields.map((field) => {\n          const scale = this.scales[field];\n          if (!tmpMap[field] && GROUP_ATTRS.includes(attrType)) {\n            const inferedScaleType = inferScaleType(scale, get(this.scaleDefs, field), attrType, this.type);\n            if (inferedScaleType === 'cat') {\n              this.groupScales.push(scale);\n              tmpMap[field] = true;\n            }\n          }\n          return scale;\n        });\n\n        attrCfg.scales = scales;\n\n        if (attrType !== 'position' && scales.length === 1 && scales[0].type === 'identity') {\n          //  color('red'), size(5)\n          attrCfg.values = scales[0].values;\n        } else if (!callback && !values) {\n          // \n          if (attrType === 'size') {\n            attrCfg.values = theme.sizes;\n          } else if (attrType === 'shape') {\n            attrCfg.values = theme.shapes[shapeType] || [];\n          } else if (attrType === 'color') {\n            if (scales.length) {\n              // \n              attrCfg.values = scales[0].values.length <= 10 ? theme.colors10 : theme.colors20;\n            } else {\n              attrCfg.values = theme.colors10;\n            }\n          }\n        }\n        const AttributeCtor = getAttributeClass(attrType);\n        attributes[attrType] = new AttributeCtor(attrCfg);\n      }\n    }\n  }\n\n  //  ->  -> adjust \n  private processData(data: Data) {\n    this.hasSorted = false;\n    const { scales } = this.getAttribute('position');\n    const categoryScales = scales.filter((scale: Scale) => scale.isCategory);\n\n    const groupedArray = this.groupData(data); // \n    const beforeAdjust = [];\n    for (let i = 0, len = groupedArray.length; i < len; i++) {\n      const subData = groupedArray[i];\n      const arr = [];\n      for (let j = 0, subLen = subData.length; j < subLen; j++) {\n        const originData = subData[j];\n        const item = {};\n        // tslint:disable-next-line: forin\n        for (const k in originData) {\n          item[k] = originData[k];\n        }\n        item[FIELD_ORIGIN] = originData;\n\n        // , \n        for (const scale of categoryScales) {\n          const field = scale.field;\n          item[field] = scale.translate(item[field]);\n        }\n        arr.push(item);\n      }\n      beforeAdjust.push(arr);\n    }\n\n    const dataArray = this.adjustData(beforeAdjust); //  adjust \n    this.beforeMappingData = dataArray;\n\n    return dataArray;\n  }\n\n  // \n  private adjustData(dataArray: Data[]): Data[] {\n    const adjustOption = this.adjustOption;\n    const { intervalPadding, dodgePadding, theme } = this;\n    // theme\n    const maxColumnWidth = this.maxColumnWidth || theme.maxColumnWidth;\n    const minColumnWidth = this.minColumnWidth || theme.minColumnWidth;\n    const columnWidthRatio = this.columnWidthRatio || theme.columnWidthRatio;\n    let result = dataArray;\n\n    if (adjustOption) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xField = xScale.field;\n      const yField = yScale ? yScale.field : null;\n      const xDimensionLength = getXDimensionLength(this.coordinate);\n      const groupNum = xScale.values.length;\n      // size\n      const sizeAttr = this.getAttribute('size');\n      let defaultSize;\n      if (sizeAttr) {\n        defaultSize = sizeAttr.values[0];\n      }\n      for (let i = 0, len = adjustOption.length; i < len; i++) {\n        const adjust = adjustOption[i];\n        const adjustCfg: AdjustInstanceCfg = {\n          xField,\n          yField,\n          intervalPadding,\n          dodgePadding,\n          xDimensionLength,\n          groupNum,\n          defaultSize,\n          maxColumnWidth,\n          minColumnWidth,\n          columnWidthRatio,\n          ...adjust,\n        };\n        const type = adjust.type;\n        if (type === 'dodge') {\n          const adjustNames = [];\n          if (xScale.isCategory || xScale.type === 'identity') {\n            adjustNames.push('x');\n          } else if (!yScale) {\n            adjustNames.push('y');\n          } else {\n            throw new Error('dodge is not support linear attribute, please use category attribute!');\n          }\n          adjustCfg.adjustNames = adjustNames;\n          //  columnWidthRatio \n          // theme\n          adjustCfg.dodgeRatio = columnWidthRatio;\n        } else if (type === 'stack') {\n          const coordinate = this.coordinate;\n          if (!yScale) {\n            // size\n            adjustCfg.height = coordinate.getHeight();\n            const size = this.getDefaultValue('size') || 3;\n            adjustCfg.size = size;\n          }\n          //  transpose \n          if (!coordinate.isTransposed && isNil(adjustCfg.reverseOrder)) {\n            adjustCfg.reverseOrder = true;\n          }\n        }\n        const adjustCtor = getAdjustClass(type);\n        adjustCfg.dimValuesMap = {};\n        //dimValuesMap\n        if (xScale && xScale.values) {\n          adjustCfg.dimValuesMap[xScale.field] = xScale.values.map((v) => xScale.translate(v));\n        }\n        const adjustInstance = new adjustCtor(adjustCfg);\n\n        result = adjustInstance.process(result);\n\n        this.adjusts[type] = adjustInstance;\n      }\n    }\n\n    return result;\n  }\n\n  // \n  private groupData(data: Data): Data[] {\n    const groupScales = this.getGroupScales();\n    const scaleDefs = this.scaleDefs;\n    const appendConditions = {};\n    const groupFields = [];\n    for (let index = 0; index < groupScales.length; index++) {\n      const scale = groupScales[index];\n      const field = scale.field;\n      groupFields.push(field);\n      if (get(scaleDefs, [field, 'values'])) {\n        //  view.scale()  values \n        appendConditions[field] = scaleDefs[field].values;\n      }\n    }\n\n    return group(data, groupFields, appendConditions);\n  }\n\n  // \n  private updateStackRange(scale: Scale, dataArray: Data[]) {\n    const mergeArray = flatten(dataArray);\n    const field = scale.field;\n    let min = scale.min;\n    let max = scale.max;\n    for (let index = 0; index < mergeArray.length; index++) {\n      const obj = mergeArray[index];\n      const tmpMin = Math.min.apply(null, obj[field]);\n      const tmpMax = Math.max.apply(null, obj[field]);\n      if (tmpMin < min) {\n        min = tmpMin;\n      }\n      if (tmpMax > max) {\n        max = tmpMax;\n      }\n    }\n    const scaleDefs = this.scaleDefs;\n    const cfg: LooseObject = {};\n    if (min < scale.min && !get(scaleDefs, [field, 'min'])) {\n      //  min\n      cfg.min = min;\n    }\n    if (max > scale.max && !get(scaleDefs, [field, 'max'])) {\n      //  max\n      cfg.max = max;\n    }\n\n    scale.change(cfg);\n  }\n\n  // \n  private beforeMapping(beforeMappingData: Data[]) {\n    //  clone  points  clone\n    // const source = clone(beforeMappingData);\n    const source = beforeMappingData;\n    if (this.sortable) {\n      this.sort(source);\n    }\n    if (this.generatePoints) {\n      // \n      for (let index = 0, length = source.length; index < length; index++) {\n        const currentData = source[index];\n        this.generateShapePoints(currentData);\n        const nextData = source[index + 1];\n        if (nextData) {\n          this.generateShapePoints(nextData);\n          currentData[0].nextPoints = nextData[0].points;\n        }\n      }\n    }\n\n    return source;\n  }\n\n  //  shape \n  private generateShapePoints(data: Data) {\n    const shapeFactory = this.getShapeFactory();\n    const shapeAttr = this.getAttribute('shape');\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const cfg = this.createShapePointsCfg(obj);\n      const shape = shapeAttr ? this.getAttributeValues(shapeAttr, obj) : null;\n      const points = shapeFactory.getShapePoints(shape, cfg);\n      obj.points = points;\n    }\n  }\n\n  // \n  private normalizeValues(values, scale) {\n    let rst = [];\n    if (isArray(values)) {\n      for (let index = 0; index < values.length; index++) {\n        const value = values[index];\n        rst.push(scale.scale(value));\n      }\n    } else {\n      rst = scale.scale(values);\n    }\n    return rst;\n  }\n\n  // \n  private mapping(data: Data): MappingDatum[] {\n    const attributes = this.attributes;\n    const mappingData = [];\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const newRecord: MappingDatum = {\n        _origin: record[FIELD_ORIGIN],\n        points: record.points,\n        nextPoints: record.nextPoints,\n      };\n      for (const k in attributes) {\n        if (attributes.hasOwnProperty(k)) {\n          const attr = attributes[k];\n          const names = attr.names;\n          const values = this.getAttributeValues(attr, record);\n          if (names.length > 1) {\n            // position \n            for (let j = 0; j < values.length; j += 1) {\n              const val = values[j];\n              const name = names[j];\n              newRecord[name] = isArray(val) && val.length === 1 ? val[0] : val; // \n            }\n          } else {\n            // values.length === 1 \n            // shape('a', ['dot', 'dash']), color('a', ['red', 'yellow'])\n            newRecord[names[0]] = values.length === 1 ? values[0] : values;\n          }\n        }\n      }\n\n      this.convertPoint(newRecord); //  xy \n      mappingData.push(newRecord);\n    }\n\n    return mappingData;\n  }\n\n  // \n  private convertPoint(mappingRecord: MappingDatum) {\n    const { x, y } = mappingRecord;\n\n    let rstX;\n    let rstY;\n    let obj;\n    const coordinate = this.coordinate;\n    if (isArray(x) && isArray(y)) {\n      rstX = [];\n      rstY = [];\n      for (let i = 0, j = 0, xLen = x.length, yLen = y.length; i < xLen && j < yLen; i += 1, j += 1) {\n        obj = coordinate.convert({\n          x: x[i],\n          y: y[j],\n        });\n        rstX.push(obj.x);\n        rstY.push(obj.y);\n      }\n    } else if (isArray(y)) {\n      rstY = [];\n      for (let index = 0; index < y.length; index++) {\n        const yVal = y[index];\n        obj = coordinate.convert({\n          x: x as number,\n          y: yVal,\n        });\n        if (rstX && rstX !== obj.x) {\n          if (!isArray(rstX)) {\n            rstX = [rstX];\n          }\n          rstX.push(obj.x);\n        } else {\n          rstX = obj.x;\n        }\n        rstY.push(obj.y);\n      }\n    } else if (isArray(x)) {\n      rstX = [];\n      for (let index = 0; index < x.length; index++) {\n        const xVal = x[index];\n        obj = coordinate.convert({\n          x: xVal,\n          y,\n        });\n        if (rstY && rstY !== obj.y) {\n          if (!isArray(rstY)) {\n            rstY = [rstY];\n          }\n          rstY.push(obj.y);\n        } else {\n          rstY = obj.y;\n        }\n        rstX.push(obj.x);\n      }\n    } else {\n      const point = coordinate.convert({\n        x,\n        y,\n      });\n      rstX = point.x;\n      rstY = point.y;\n    }\n    mappingRecord.x = rstX;\n    mappingRecord.y = rstY;\n  }\n\n  //  style \n  private getStyleCfg(styleOption: StyleOption, originData: Datum) {\n    const { fields = [], callback, cfg } = styleOption;\n    if (cfg) {\n      // \n      return cfg;\n    }\n\n    const params = fields.map((field) => {\n      return originData[field];\n    });\n\n    return callback(...params);\n  }\n\n  private setCfg(cfg: InitCfg) {\n    const { coordinate, data, theme, scaleDefs } = cfg;\n    if (coordinate) {\n      this.coordinate = coordinate;\n    }\n    if (data) {\n      this.data = data;\n    }\n    if (scaleDefs) {\n      this.scaleDefs = scaleDefs;\n      this.idFields = [];\n      each(scaleDefs, (scaleDef, field) => {\n        if (scaleDef && scaleDef.key) {\n          this.idFields.push(field);\n        }\n      });\n    }\n    if (theme) {\n      this.theme = this.userTheme ? deepMix({}, theme, this.userTheme) : theme; //  geometry \n    }\n  }\n\n  private async renderLabels(mappingArray: MappingDatum[], isUpdate: boolean = false) {\n    let geometryLabel = this.geometryLabel;\n\n    this.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_RENDER_LABEL);\n\n    if (!geometryLabel) {\n      // \n      const labelType = this.getLabelType();\n      const GeometryLabelsCtor = getGeometryLabel(labelType);\n      geometryLabel = new GeometryLabelsCtor(this);\n      this.geometryLabel = geometryLabel;\n    }\n    await geometryLabel.render(mappingArray, isUpdate);\n\n    //  label  element \n    const labelsMap = geometryLabel.labelsRenderer.shapesMap;\n    // Store labels for every element.\n    const elementLabels = new Map<Element, Set<IGroup>>();\n    each(labelsMap, (labelGroup: IGroup, labelGroupId: string) => {\n      const labelChildren = labelGroup.getChildren() || [];\n      for (let j = 0; j < labelChildren.length; j++) {\n        const labelShape = labelChildren[j];\n        const element = this.elementsMap[labelShape.get('elementId') || labelGroupId.split(' ')[0]];\n        if (element) {\n          labelShape.cfg.name = ['element', 'label'];\n          labelShape.cfg.element = element;\n          const labels = elementLabels.get(element) || new Set();\n          labels.add(labelGroup);\n          elementLabels.set(element, labels);\n        }\n      }\n    });\n    for (const [element, labels] of elementLabels.entries()) {\n      element.labelShape = [...labels];\n    }\n\n    this.emit(GEOMETRY_LIFE_CIRCLE.AFTER_RENDER_LABEL);\n  }\n  /**\n   * \n   * \n   * 1. \n   * 2.  geometry \n   * 3.  appear \n   * 4.  appear.animation\n   */\n  private canDoGroupAnimation(isUpdate: boolean) {\n    return (\n      !isUpdate &&\n      this.animateOption &&\n      (get(this.animateOption, 'appear') === undefined ||\n        (get(this.animateOption, 'appear') && get(this.animateOption, ['appear', 'animation']) === undefined))\n    );\n  }\n}\n","import { ext } from '@antv/matrix-util';\nimport { IElement, IGroup, IShape } from '../dependents';\n\nconst transform: (m: number[], actions: any[][]) => number[] = ext.transform;\n\nexport { transform };\n\n/**\n * \n * @param element \n * @param x x \n * @param y y \n */\nexport function translate(element: IGroup | IShape, x: number, y: number) {\n  const matrix = transform(element.getMatrix(), [['t', x, y]]);\n  element.setMatrix(matrix);\n}\n\n/**\n *  ()\n * @param element \n * @param rotateRadian \n */\nexport function getRotateMatrix(element: IElement, rotateRadian: number) {\n  const { x, y } = element.attr();\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['r', rotateRadian],\n    ['t', x, y],\n  ]);\n  return matrix;\n}\n\n/**\n * \n * @param element \n * @param rotateRadian \n */\nexport function rotate(element: IGroup | IShape, rotateRadian: number) {\n  const matrix = getRotateMatrix(element, rotateRadian);\n  element.setMatrix(matrix);\n}\n\n/**\n * \n * @returns identity matrix\n */\nexport function getIdentityMatrix(): number[] {\n  return [1, 0, 0, 0, 1, 0, 0, 0, 1];\n}\n\n/**\n * \n * @param element \n * @param ratio \n */\nexport function zoom(element: IGroup | IShape, ratio: number) {\n  const bbox = element.getBBox();\n  const x = (bbox.minX + bbox.maxX) / 2;\n  const y = (bbox.minY + bbox.maxY) / 2;\n  element.applyToMatrix([x, y, 1]);\n\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['s', ratio, ratio],\n    ['t', x, y],\n  ]);\n  element.setMatrix(matrix);\n}\n","/**\n * @file utils of label\n */\n\nimport { isNil, isNumber, some } from '@antv/util';\nimport { IElement, IGroup, BBox } from '../../../dependents';\nimport { rotate } from '../../../util/transform';\n\n/**\n *  Label Group  shape \n * @param label\n */\nexport function findLabelTextShape(label: IGroup): IElement {\n  return label.find((el) => el.get('type') === 'text');\n}\n\n/**\n * : box () + rotation ()\n */\nexport function getLabelBackgroundInfo(\n  labelGroup: IGroup,\n  labelItem: { rotate?: number;[key: string]: any },\n  padding: number | number[] = [0, 0, 0, 0]\n): { x: number; y: number; width: number; height: number; rotation: number } {\n  const content = labelGroup && labelGroup.getChildren()[0];\n  if (content) {\n    const labelShape = content.clone();\n\n    // revert rotate\n    if (labelItem?.rotate) {\n      rotate(labelShape as IGroup, -labelItem.rotate);\n    }\n\n    // use `getCanvasBBox`, because if Shape is been translated, `getBBox` is not the actual box position\n    const { x, y, width, height } = labelShape.getCanvasBBox();\n\n    labelShape.destroy();\n\n    let boxPadding = padding;\n    if (isNil(boxPadding)) {\n      boxPadding = [2, 2, 2, 2];\n    } else if (isNumber(boxPadding)) {\n      boxPadding = new Array(4).fill(boxPadding);\n    }\n\n    return {\n      x: x - boxPadding[3],\n      y: y - boxPadding[0],\n      width: width + boxPadding[1] + boxPadding[3],\n      height: height + boxPadding[0] + boxPadding[2],\n      rotation: labelItem?.rotate || 0,\n    };\n  }\n\n  return { x: 0, y: 0, width: 0, height: 0, rotation: 0 };\n}\n\n/**\n * \n */\nexport function getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**  */\nexport function checkShapeOverlap(cur: IElement, dones: IElement[]) {\n  const box = cur.getBBox();\n  return some(dones, (done) => {\n    const target = done.getBBox();\n    return getOverlapArea(box, target, 2) > 0;\n  });\n}\n","import { Coordinate } from '@antv/coord';\nimport { IGroup, IShape } from '@antv/g-base';\nimport { each, get } from '@antv/util';\nimport { doAnimate } from '../animate';\nimport { getReplaceAttrs } from '../util/graphics';\n\n/** label  */\ntype Cfg = {\n  data: any;\n  origin: any;\n  animateCfg: any;\n  coordinate: Coordinate;\n};\n\n/**\n * @desc  label ( id  idx )\n * @done shape \n * @done shape delete\n * @done shape append\n *\n * @param fromShape old labelShape\n * @param toShape new labelShape\n * @param cfg\n */\nexport function updateLabel(fromShape: IGroup, toShape: IGroup, cfg: Cfg): void {\n  const { data, origin, animateCfg, coordinate } = cfg;\n  const updateAnimateCfg = get(animateCfg, 'update');\n\n  fromShape.set('data', data);\n  fromShape.set('origin', origin);\n  fromShape.set('animateCfg', animateCfg);\n  fromShape.set('coordinate', coordinate);\n  fromShape.set('visible', toShape.get('visible'));\n\n  fromShape.getChildren().forEach((fromChild, idx) => {\n    const toChild = toShape.getChildByIndex(idx) as IShape;\n    if (!toChild) {\n      fromShape.removeChild(fromChild);\n      fromChild.remove(true);\n    } else {\n      fromChild.set('data', data);\n      fromChild.set('origin', origin);\n      fromChild.set('animateCfg', animateCfg);\n      fromChild.set('coordinate', coordinate);\n\n      const newAttrs = getReplaceAttrs(fromChild as IShape, toChild);\n      if (updateAnimateCfg) {\n        doAnimate(fromChild as IShape, updateAnimateCfg, {\n          toAttrs: newAttrs,\n          coordinate,\n        });\n      } else {\n        fromChild.attr(newAttrs);\n      }\n      if (toChild.isGroup()) {\n        updateLabel(fromChild as any, toChild as any, cfg);\n      }\n    }\n  });\n\n  // append\n  each(toShape.getChildren(), (child, idx) => {\n    if (idx >= fromShape.getCount()) {\n      if (!child.destroyed) {\n        fromShape.add(child);\n      }\n    }\n  });\n}\n","import { deepMix, each, get, isArray, isNull } from '@antv/util';\nimport { BBox, Coordinate, IGroup, IShape } from '../dependents';\nimport { LabelItem } from '../geometry/label/interface';\nimport { AnimateOption, GeometryLabelLayoutCfg } from '../interface';\nimport { doAnimate } from '../animate';\nimport { getGeometryLabelLayout } from '../geometry/label';\nimport { getLabelBackgroundInfo } from '../geometry/label/util';\nimport { polarToCartesian } from '../util/graphics';\nimport { rotate, translate } from '../util/transform';\nimport { FIELD_ORIGIN } from '../constant';\nimport { updateLabel } from './update-label';\n\n/**\n * Labels \n */\nexport interface LabelsGroupCfg {\n  /** label  */\n  container: IGroup;\n  /** label  */\n  layout?: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n}\n\n/**\n * Geometry labels \n */\nexport default class Labels {\n  /**  labels  */\n  public layout: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n  /**  */\n  public container: IGroup;\n  /**  */\n  public animate: AnimateOption | false;\n  /** label  */\n  public region: BBox;\n\n  /**  shape  shape id */\n  public shapesMap: Record<string, IGroup> = {};\n\n  constructor(cfg: LabelsGroupCfg) {\n    const { layout, container } = cfg;\n\n    this.layout = layout;\n    this.container = container;\n  }\n  /**\n   * \n   */\n  public async render(items: LabelItem[], shapes: Record<string, IShape | IGroup>, isUpdate: boolean = false) {\n    const shapesMap = {};\n    const offscreenGroup = this.createOffscreenGroup(); // \n    if (items.length) {\n      //  items \n      // step 1:  group  shapes\n      for (const item of items) {\n        if (item) {\n          shapesMap[item.id] = this.renderLabel(item, offscreenGroup);\n        }\n      }\n      // [todo] Move layout into Worker.\n      // step 2:  labels\n      await this.doLayout(items, shapes, shapesMap);\n\n      // step 3.1:  labelLine\n      this.renderLabelLine(items, shapesMap);\n      // step 3.2:  labelBackground\n      this.renderLabelBackground(items, shapesMap);\n      // step 4:  label\n      this.adjustLabel(items, shapesMap);\n    }\n\n    // \n    const lastShapesMap = this.shapesMap;\n    each(shapesMap, (shape, id) => {\n      if (shape.destroyed) {\n        // label doLayout\n        delete shapesMap[id];\n      } else {\n        if (lastShapesMap[id]) {\n          // \n          const data = shape.get('data');\n          const origin = shape.get('origin');\n          const coordinate = shape.get('coordinate');\n          const currentAnimateCfg = shape.get('animateCfg');\n\n          const currentShape = lastShapesMap[id]; //  shape\n          updateLabel(currentShape, shapesMap[id], {\n            data,\n            origin,\n            animateCfg: currentAnimateCfg,\n            coordinate,\n          });\n\n          shapesMap[id] = currentShape; // \n        } else {\n          //  shape\n          // If container has been destroyed, no need to render labels.\n          if (this.container.destroyed) return;\n          this.container.add(shape);\n          const animateCfg = get(shape.get('animateCfg'), isUpdate ? 'enter' : 'appear');\n          if (animateCfg) {\n            doAnimate(shape, animateCfg, {\n              toAttrs: {\n                ...shape.attr(),\n              },\n              coordinate: shape.get('coordinate'),\n            });\n          }\n        }\n        delete lastShapesMap[id];\n      }\n    });\n\n    // \n    each(lastShapesMap, (deleteShape) => {\n      const animateCfg = get(deleteShape.get('animateCfg'), 'leave');\n      if (animateCfg) {\n        doAnimate(deleteShape, animateCfg, {\n          toAttrs: null,\n          coordinate: deleteShape.get('coordinate'),\n        });\n      } else {\n        deleteShape.remove(true); // \n      }\n    });\n\n    this.shapesMap = shapesMap;\n    offscreenGroup.destroy();\n  }\n\n  /**  labels */\n  public clear() {\n    this.container.clear();\n    this.shapesMap = {};\n  }\n\n  /**  */\n  public destroy() {\n    this.container.destroy();\n    this.shapesMap = null;\n  }\n\n  private renderLabel(cfg: LabelItem, container: IGroup): IGroup {\n    const { id, elementId, data, mappingData, coordinate, animate, content } = cfg;\n    const shapeAppendCfg = {\n      id,\n      elementId,\n      data,\n      origin: {\n        ...mappingData,\n        data: mappingData[FIELD_ORIGIN],\n      },\n      coordinate,\n    };\n    const labelGroup = container.addGroup({\n      name: 'label',\n      //  this.animate === false  cfg.animate === false/null \n      animateCfg:\n        this.animate === false || animate === null || animate === false ? false : deepMix({}, this.animate, animate),\n      ...shapeAppendCfg,\n    });\n    let labelShape;\n    if ((content.isGroup && content.isGroup()) || (content.isShape && content.isShape())) {\n      //  content  Group  Shape textAlign  labelGroup\n      const { width, height } = content.getCanvasBBox();\n      const textAlign = get(cfg, 'textAlign', 'left');\n\n      let x = cfg.x;\n      const y = cfg.y - height / 2;\n\n      if (textAlign === 'center') {\n        x = x - width / 2;\n      } else if (textAlign === 'right' || textAlign === 'end') {\n        x = x - width;\n      }\n\n      translate(content, x, y); //  label  x, y \n      labelShape = content;\n      labelGroup.add(content);\n    } else {\n      const fill = get(cfg, ['style', 'fill']);\n      labelShape = labelGroup.addShape('text', {\n        attrs: {\n          x: cfg.x,\n          y: cfg.y,\n          textAlign: cfg.textAlign,\n          textBaseline: get(cfg, 'textBaseline', 'middle'),\n          text: cfg.content,\n          ...cfg.style,\n          fill: isNull(fill) ? cfg.color : fill,\n        },\n        ...shapeAppendCfg,\n      });\n    }\n\n    if (cfg.rotate) {\n      rotate(labelShape, cfg.rotate);\n    }\n    return labelGroup;\n  }\n\n  // typelabel\n  private async doLayout(items: LabelItem[], shapes: Record<string, IShape | IGroup>, shapesMap: Record<string, IGroup>) {\n    if (this.layout) {\n      const layouts = isArray(this.layout) ? this.layout : [this.layout];\n      await Promise.all(layouts.map((layout: GeometryLabelLayoutCfg) => {\n        const layoutFn = getGeometryLabelLayout(get(layout, 'type', ''));\n        if (!layoutFn) return;\n\n        const labelShapes = [];\n        const geometryShapes = [];\n        each(shapesMap, (labelShape, id) => {\n          labelShapes.push(labelShape);\n          geometryShapes.push(shapes[labelShape.get('elementId')]);\n        });\n        // [todo] Refactor more layout into Worker.\n        return layoutFn(items, labelShapes, geometryShapes, this.region, layout.cfg);\n      }));\n    }\n  }\n\n  private renderLabelLine(labelItems: LabelItem[], shapesMap) {\n    each(labelItems, (labelItem) => {\n      const coordinate: Coordinate = get(labelItem, 'coordinate');\n      if (!labelItem || !coordinate) {\n        return;\n      }\n      const center = coordinate.getCenter();\n      const radius = coordinate.getRadius();\n      if (!labelItem.labelLine) {\n        // labelLine: null | false label  labelLine\n        return;\n      }\n      const labelLineCfg = get(labelItem, 'labelLine', {});\n      const id = labelItem.id;\n      let path = labelLineCfg.path;\n      if (!path) {\n        const start = polarToCartesian(center.x, center.y, radius, labelItem.angle);\n        path = [\n          ['M', start.x, start.y],\n          ['L', labelItem.x, labelItem.y],\n        ];\n      }\n      const labelGroup = shapesMap[id];\n      if (!labelGroup.destroyed) {\n        labelGroup.addShape('path', {\n          capture: false, // labelLine \n          attrs: {\n            path,\n            stroke: labelItem.color ? labelItem.color : get(labelItem, ['style', 'fill'], '#000'),\n            fill: null,\n            ...labelLineCfg.style,\n          },\n          id,\n          origin: labelItem.mappingData,\n          data: labelItem.data,\n          coordinate: labelItem.coordinate,\n        });\n      }\n    });\n  }\n\n  /**\n   * \n   * @param labelItems\n   */\n  private renderLabelBackground(labelItems: LabelItem[], shapesMap) {\n    each(labelItems, (labelItem) => {\n      const coordinate: Coordinate = get(labelItem, 'coordinate');\n      const background: LabelItem['background'] = get(labelItem, 'background');\n      if (!background || !coordinate) {\n        return;\n      }\n\n      const id = labelItem.id;\n      const labelGroup = shapesMap[id];\n      if (!labelGroup.destroyed) {\n        const labelContentShape = labelGroup.getChildren()[0];\n        if (labelContentShape) {\n          const { rotation, ...box } = getLabelBackgroundInfo(labelGroup, labelItem, background.padding);\n          const backgroundShape = labelGroup.addShape('rect', {\n            attrs: {\n              ...box,\n              ...(background.style || {}),\n            },\n            id,\n            origin: labelItem.mappingData,\n            data: labelItem.data,\n            coordinate: labelItem.coordinate,\n          });\n          backgroundShape.setZIndex(-1);\n\n          if (rotation) {\n            const matrix = labelContentShape.getMatrix();\n            backgroundShape.setMatrix(matrix);\n          }\n        }\n      }\n    });\n  }\n\n  private createOffscreenGroup() {\n    const container = this.container;\n    const GroupClass = container.getGroupBase(); // \n    const newGroup = new GroupClass({});\n    return newGroup;\n  }\n\n  private adjustLabel(items: LabelItem[], shapesMap) {\n    each(items, (item) => {\n      if (item) {\n        const id = item.id;\n        const labelGroup = shapesMap[id];\n        if (!labelGroup.destroyed) {\n          // fix:  label content  group  content group   spider label  2  textShape  gorup\n          const labelShapes = labelGroup.findAll((ele) => ele.get('type') !== 'path');\n          each(labelShapes, (labelShape) => {\n            if (labelShape) {\n              if (item.offsetX) {\n                labelShape.attr('x', labelShape.attr('x') + item.offsetX);\n              }\n              if (item.offsetY) {\n                labelShape.attr('y', labelShape.attr('y') + item.offsetY);\n              }\n            }\n          });\n        }\n      }\n    });\n  }\n}\n","import { deepMix, each, get, isArray, isFunction, isNil, isNumber, isString, isUndefined } from '@antv/util';\n\nimport { FIELD_ORIGIN } from '../../constant';\nimport { Scale } from '../../dependents';\nimport { Datum, LabelOption, MappingDatum, Point } from '../../interface';\nimport { LabelCfg, LabelItem, LabelPointCfg, TextAlign } from './interface';\n\nimport { getDefaultAnimateCfg } from '../../animate';\nimport { getPolygonCentroid } from '../../util/graphics';\n\nimport Labels from '../../component/labels';\nimport Geometry from '../base';\nimport Element from '../element';\n\nexport type GeometryLabelConstructor = new (cfg: any) => GeometryLabel;\n\nfunction avg(arr: number[]) {\n  let sum = 0;\n  each(arr, (value: number) => {\n    sum += value;\n  });\n  return sum / arr.length;\n}\n\n/**\n * Geometry Label  Geometry  label \n */\nexport default class GeometryLabel {\n  /** geometry  */\n  public readonly geometry: Geometry;\n  public labelsRenderer: Labels;\n  /**  */\n  public defaultLayout: string;\n\n  constructor(geometry: Geometry) {\n    this.geometry = geometry;\n  }\n\n  public getLabelItems(mapppingArray: MappingDatum[]): LabelItem[] {\n    const items = [];\n    const labelCfgs = this.getLabelCfgs(mapppingArray);\n    //  label  xy  x, y\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const labelCfg = labelCfgs[index];\n      if (!labelCfg || isNil(mappingData.x) || isNil(mappingData.y)) {\n        items.push(null);\n        return;\n      }\n\n      const labelContent = !isArray(labelCfg.content) ? [labelCfg.content] : labelCfg.content;\n      labelCfg.content = labelContent;\n      const total = labelContent.length;\n      each(labelContent, (content, subIndex) => {\n        if (isNil(content) || content === '') {\n          items.push(null);\n          return;\n        }\n\n        const item = {\n          ...labelCfg,\n          ...this.getLabelPoint(labelCfg, mappingData, subIndex),\n        };\n        if (!item.textAlign) {\n          item.textAlign = this.getLabelAlign(item, subIndex, total);\n        }\n\n        if (item.offset <= 0) {\n          item.labelLine = null;\n        }\n\n        items.push(item);\n      });\n    });\n    return items;\n  }\n\n  public async render(mappingArray: MappingDatum[], isUpdate: boolean = false) {\n    const labelItems = this.getLabelItems(mappingArray);\n    const labelsRenderer = this.getLabelsRenderer();\n    const shapes = this.getGeometryShapes();\n    // \n    await labelsRenderer.render(labelItems, shapes, isUpdate);\n  }\n\n  public clear() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.clear();\n    }\n  }\n\n  public destroy() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.destroy();\n    }\n    this.labelsRenderer = null;\n  }\n\n  // geometry  Coordinate  Coordinate\n  public getCoordinate() {\n    return this.geometry.coordinate;\n  }\n\n  /**\n   *  label \n   */\n  protected getDefaultLabelCfg(offset?: number, position?: string) {\n    const geometry = this.geometry;\n    const { type, theme } = geometry;\n\n    if (\n      type === 'polygon' ||\n      (type === 'interval' && position === 'middle') ||\n      (offset < 0 && !['line', 'point', 'path'].includes(type))\n    ) {\n      // polygon  (interval  middle)  offset  0  \n      return get(theme, 'innerLabels', {});\n    }\n\n    return get(theme, 'labels', {});\n  }\n\n  /**\n   *  label \n   * @param labelCfg\n   */\n  protected getThemedLabelCfg(labelCfg: LabelCfg) {\n    const geometry = this.geometry;\n    const defaultLabelCfg = this.getDefaultLabelCfg();\n    const { type, theme } = geometry;\n    let themedLabelCfg;\n\n    if (type === 'polygon' || (labelCfg.offset < 0 && !['line', 'point', 'path'].includes(type))) {\n      // polygon  offset  0  \n      themedLabelCfg = deepMix({}, defaultLabelCfg, theme.innerLabels, labelCfg);\n    } else {\n      themedLabelCfg = deepMix({}, defaultLabelCfg, theme.labels, labelCfg);\n    }\n\n    return themedLabelCfg;\n  }\n\n  /**\n   *  label \n   * @param labelPointCfg\n   * @param mappingData\n   * @param index\n   * @param position\n   */\n  protected setLabelPosition(\n    labelPointCfg: LabelPointCfg,\n    mappingData: MappingDatum,\n    index: number,\n    position: string\n  ) {}\n\n  /**\n   * @desc  label offset\n   */\n  protected getLabelOffset(offset: number | string): number {\n    const coordinate = this.getCoordinate();\n    const vector = this.getOffsetVector(offset);\n    return coordinate.isTransposed ? vector[0] : vector[1];\n  }\n\n  /**\n   *  label  ()\n   * @param labelCfg\n   * @param index\n   * @param total\n   * @return {Point} offsetPoint\n   */\n  protected getLabelOffsetPoint(labelCfg: LabelCfg, index: number, total: number): Point {\n    const offset = labelCfg.offset;\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const dim = transposed ? 'x' : 'y';\n    const factor = transposed ? 1 : -1; // y transposed\n    const offsetPoint = {\n      x: 0,\n      y: 0,\n    };\n    if (index > 0 || total === 1) {\n      // 0\n      offsetPoint[dim] = offset * factor;\n    } else {\n      offsetPoint[dim] = offset * factor * -1;\n    }\n    return offsetPoint;\n  }\n\n  /**\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   * @returns label point\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    const coordinate = this.getCoordinate();\n    const total = labelCfg.content.length;\n\n    function getDimValue(value: number | number[], idx: number, isAvg = false) {\n      let v = value;\n      if (isArray(v)) {\n        if (labelCfg.content.length === 1) {\n          if (isAvg) {\n            v = avg(v);\n          } else {\n            //  label y,  y\n            if (v.length <= 2) {\n              v = v[(value as number[]).length - 1];\n            } else {\n              v = avg(v);\n            }\n          }\n        } else {\n          v = v[idx];\n        }\n      }\n      return v;\n    }\n\n    const label = {\n      content: labelCfg.content[index],\n      x: 0,\n      y: 0,\n      start: { x: 0, y: 0 },\n      color: '#fff',\n    };\n    const shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n    const isFunnel = shape === 'funnel' || shape === 'pyramid';\n\n    // \n    if (this.geometry.type === 'polygon') {\n      const centroid = getPolygonCentroid(mappingData.x, mappingData.y);\n      label.x = centroid[0];\n      label.y = centroid[1];\n    } else if (this.geometry.type === 'interval' && !isFunnel) {\n      // label X \n      label.x = getDimValue(mappingData.x, index, true);\n      label.y = getDimValue(mappingData.y, index);\n    } else {\n      label.x = getDimValue(mappingData.x, index);\n      label.y = getDimValue(mappingData.y, index);\n    }\n\n    // \n    if (isFunnel) {\n      const nextPoints = get(mappingData, 'nextPoints');\n      const points = get(mappingData, 'points');\n      if (nextPoints) {\n        // \n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(nextPoints[1] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      } else if (shape === 'pyramid') {\n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(points[2] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      }\n    }\n\n    if (labelCfg.position) {\n      //  label  position \n      this.setLabelPosition(label, mappingData, index, labelCfg.position);\n    }\n    const offsetPoint = this.getLabelOffsetPoint(labelCfg, index, total);\n    label.start = { x: label.x, y: label.y };\n    label.x += offsetPoint.x;\n    label.y += offsetPoint.y;\n    label.color = mappingData.color;\n    return label;\n  }\n\n  /**\n   * \n   * @param item\n   * @param index\n   * @param total\n   * @returns\n   */\n  protected getLabelAlign(item: LabelItem, index: number, total: number): TextAlign {\n    let align: TextAlign = 'center';\n    const coordinate = this.getCoordinate();\n    if (coordinate.isTransposed) {\n      const offset = item.offset;\n      if (offset < 0) {\n        align = 'right';\n      } else if (offset === 0) {\n        align = 'center';\n      } else {\n        align = 'left';\n      }\n      if (total > 1 && index === 0) {\n        if (align === 'right') {\n          align = 'left';\n        } else if (align === 'left') {\n          align = 'right';\n        }\n      }\n    }\n    return align;\n  }\n\n  /**\n   *  label  id\n   * @param mappingData label \n   */\n  protected getLabelId(mappingData: MappingDatum) {\n    const geometry = this.geometry;\n    const type = geometry.type;\n    const xScale = geometry.getXScale();\n    const yScale = geometry.getYScale();\n    const origin = mappingData[FIELD_ORIGIN]; // \n\n    let labelId = geometry.getElementId(mappingData);\n    if (type === 'line' || type === 'area') {\n      //  labels labels line id  x \n      labelId += ` ${origin[xScale.field]}`;\n    } else if (type === 'path') {\n      // path  x  y  x y  id\n      labelId += ` ${origin[xScale.field]}-${origin[yScale.field]}`;\n    }\n\n    return labelId;\n  }\n\n  //  labels \n  private getLabelsRenderer() {\n    const { labelsContainer, labelOption, canvasRegion, animateOption } = this.geometry;\n    const coordinate = this.geometry.coordinate;\n\n    let labelsRenderer = this.labelsRenderer;\n    if (!labelsRenderer) {\n      labelsRenderer = new Labels({\n        container: labelsContainer,\n        layout: get(labelOption, ['cfg', 'layout'], {\n          type: this.defaultLayout,\n        }),\n      });\n      this.labelsRenderer = labelsRenderer;\n    }\n    labelsRenderer.region = canvasRegion;\n    //  geometry  label \n    labelsRenderer.animate = animateOption ? getDefaultAnimateCfg('label', coordinate) : false;\n\n    return labelsRenderer;\n  }\n\n  private getLabelCfgs(mapppingArray: MappingDatum[]): LabelCfg[] {\n    const geometry = this.geometry;\n    const { labelOption, scales, coordinate } = geometry;\n    const { fields, callback, cfg } = labelOption as LabelOption;\n    const labelScales = fields.map((field: string) => {\n      return scales[field];\n    });\n\n    const labelCfgs: LabelCfg[] = [];\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const origin = mappingData[FIELD_ORIGIN]; // \n      const originText = this.getLabelText(origin, labelScales);\n      let callbackCfg;\n      if (callback) {\n        //  callback  cfg  callback \n        const originValues = fields.map((field: string) => origin[field]);\n        callbackCfg = callback(...originValues);\n        if (isNil(callbackCfg)) {\n          labelCfgs.push(null);\n          return;\n        }\n      }\n\n      let labelCfg = {\n        id: this.getLabelId(mappingData), //  ID \n        elementId: this.geometry.getElementId(mappingData), // label  Element  ID\n        data: origin, // \n        mappingData, // ,\n        coordinate, // \n        ...cfg,\n        ...callbackCfg,\n      };\n\n      if (isFunction(labelCfg.position)) {\n        labelCfg.position = labelCfg.position(origin, mappingData, index);\n      }\n\n      const offset = this.getLabelOffset(labelCfg.offset || 0);\n      // defaultCfg  innerLabels & labels\n      const defaultLabelCfg = this.getDefaultLabelCfg(offset, labelCfg.position);\n      // labelCfg priority: defaultCfg < cfg < callbackCfg\n      labelCfg = deepMix({}, defaultLabelCfg, labelCfg);\n      //  offset\n      labelCfg.offset = this.getLabelOffset(labelCfg.offset || 0);\n\n      const content = labelCfg.content;\n      if (isFunction(content)) {\n        labelCfg.content = content(origin, mappingData, index);\n      } else if (isUndefined(content)) {\n        //  content\n        labelCfg.content = originText[0];\n      }\n\n      labelCfgs.push(labelCfg);\n    });\n\n    return labelCfgs;\n  }\n\n  private getLabelText(origin: Datum, scales: Scale[]) {\n    const labelTexts = [];\n    each(scales, (scale: Scale) => {\n      let value = origin[scale.field];\n      if (isArray(value)) {\n        value = value.map((subVal) => {\n          return scale.getText(subVal);\n        });\n      } else {\n        value = scale.getText(value);\n      }\n\n      if (isNil(value) || value === '') {\n        labelTexts.push(null);\n      } else {\n        labelTexts.push(value);\n      }\n    });\n    return labelTexts;\n  }\n\n  private getOffsetVector(offset: number | string = 0) {\n    const coordinate = this.getCoordinate();\n    let actualOffset = 0;\n    if (isNumber(offset)) {\n      actualOffset = offset;\n    }\n    //  x,y  x y\n    return coordinate.isTransposed ? coordinate.applyMatrix(actualOffset, 0) : coordinate.applyMatrix(0, actualOffset);\n  }\n\n  private getGeometryShapes() {\n    const geometry = this.geometry;\n    const shapes = {};\n    each(geometry.elementsMap, (element: Element, id: string) => {\n      shapes[id] = element.shape;\n    });\n    //  shape  shape.getBBox()  offscreenGroup \n    each(geometry.getOffscreenGroup().getChildren(), (child) => {\n      const id = geometry.getElementId(child.get('origin').mappingData);\n      shapes[id] = child;\n    });\n\n    return shapes;\n  }\n}\n","import { Attribute } from '../dependents';\n\n/**\n * @ignore\n * get the mapping value by attribute, if mapping value is nil, return def\n * @param attr\n * @param value\n * @param def\n * @returns get mapping value\n */\nexport function getMappingValue(attr: Attribute, value: any, def: string): string {\n  if (!attr) {\n    return def;\n  }\n\n  let r;\n  // \n  if (attr.callback && attr.callback.length > 1) {\n    const restArgs = Array(attr.callback.length - 1).fill('');\n    r = attr.mapping(value, ...restArgs).join('');\n  } else {\n    r = attr.mapping(value).join('');\n  }\n\n  return r || def;\n}\n","/** @ignore */\nexport const MarkerSymbols = {\n  hexagon: (x: number, y: number, r: number) => {\n    const diffX = (r / 2) * Math.sqrt(3);\n    return [\n      ['M', x, y - r],\n      ['L', x + diffX, y - r / 2],\n      ['L', x + diffX, y + r / 2],\n      ['L', x, y + r],\n      ['L', x - diffX, y + r / 2],\n      ['L', x - diffX, y - r / 2],\n      ['Z'],\n    ];\n  },\n  bowtie: (x: number, y: number, r: number) => {\n    const diffY = r - 1.5;\n    return [['M', x - r, y - diffY], ['L', x + r, y + diffY], ['L', x + r, y - diffY], ['L', x - r, y + diffY], ['Z']];\n  },\n  cross: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y - r],\n      ['L', x + r, y + r],\n      ['M', x + r, y - r],\n      ['L', x - r, y + r],\n    ];\n  },\n  tick: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r / 2, y - r],\n      ['L', x + r / 2, y - r],\n      ['M', x, y - r],\n      ['L', x, y + r],\n      ['M', x - r / 2, y + r],\n      ['L', x + r / 2, y + r],\n    ];\n  },\n  plus: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n  hyphen: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n};\n","import { LegendMarkerCfg } from '@antv/component';\nimport { deepMix, isString, each, get, isFunction } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { Attribute, ShapeAttrs, Tick } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { LegendCfg, LegendItem, MarkerCfg } from '../interface';\nimport { getMappingValue } from './attr';\nimport { omit } from './helper';\nimport { MarkerSymbols } from './marker';\n\n/**  marker symbol */\nconst STROKES_SYMBOLS = ['line', 'cross', 'tick', 'plus', 'hyphen'];\n\n/**\n *  marker style\n * @param markerStyle\n * @param userMarker.style\n * @returns {ShapeAttrs} newStyle\n */\nfunction handleUserMarkerStyle(markerStyle: ShapeAttrs, style: MarkerCfg['style']): ShapeAttrs {\n  if (isFunction(style)) {\n    return style(markerStyle);\n  }\n  return deepMix({}, markerStyle, style);\n}\n\n/**\n *  marker  symbol, \n * @param symbol\n * @param style\n * @param color\n */\nfunction adpatorMarkerStyle(marker: LegendMarkerCfg, color: string): void {\n  const symbol = marker.symbol;\n  if (isString(symbol) && STROKES_SYMBOLS.indexOf(symbol) !== -1) {\n    const markerStyle = get(marker, 'style', {});\n    const lineWidth = get(markerStyle, 'lineWidth', 1);\n    const stroke = markerStyle.stroke || markerStyle.fill || color;\n    marker.style = deepMix({}, marker.style, { lineWidth, stroke, fill: null });\n  }\n}\n\n/**\n *  marker  symbol  symbol \n * @param marker\n */\nfunction setMarkerSymbol(marker: LegendMarkerCfg): void {\n  const symbol = marker.symbol;\n  if (isString(symbol) && MarkerSymbols[symbol]) {\n    marker.symbol = MarkerSymbols[symbol];\n  }\n}\n\n/**\n * @ignore\n * get the legend layout from direction\n * @param direction\n * @returns layout 'horizontal' | 'vertical'\n */\nexport function getLegendLayout(direction: DIRECTION): 'vertical' | 'horizontal' {\n  return direction.startsWith(DIRECTION.LEFT) || direction.startsWith(DIRECTION.RIGHT) ? 'vertical' : 'horizontal';\n}\n\n/** item of @antv/component legend  */\ntype ComponentLegendItem = Omit<LegendItem, 'marker'> & {\n  marker: any;\n};\n\n/**\n * @ignore\n * get the legend items\n * @param view\n * @param geometry\n * @param attr\n * @param themeMarker\n * @param markerCfg\n * @returns legend items\n */\nexport function getLegendItems(\n  view: View,\n  geometry: Geometry,\n  attr: Attribute,\n  themeMarker: object,\n  userMarker: LegendCfg['marker']\n): ComponentLegendItem[] {\n  const scale = attr.getScale(attr.type);\n  if (scale.isCategory) {\n    const field = scale.field;\n    const colorAttr = geometry.getAttribute('color');\n    const shapeAttr = geometry.getAttribute('shape');\n    const defaultColor = view.getTheme().defaultColor;\n    const isInPolar = geometry.coordinate.isPolar;\n\n    return scale.getTicks().map((tick: Tick, index: number) => {\n      const { text, value: scaleValue } = tick;\n      const name = text;\n      const value = scale.invert(scaleValue);\n\n      //  unchecked\n      let unchecked = view.filterFieldData(field, [{ [field]: value }]).length === 0;\n      each(view.views, (subView) => {\n        if (!subView.filterFieldData(field, [{ [field]: value }]).length) {\n          unchecked = true;\n        }\n      });\n\n      // @ts-ignore\n      const color = getMappingValue(colorAttr, value, defaultColor);\n      const shape = getMappingValue(shapeAttr, value, 'point');\n      let marker = geometry.getShapeMarker(shape, {\n        color,\n        isInPolar,\n      });\n\n      let markerCfg = userMarker;\n      if (isFunction(markerCfg)) {\n        markerCfg = markerCfg(name, index, { name, value, ...deepMix({}, themeMarker, marker) });\n      }\n\n      // the marker configure order should be ensure\n      marker = deepMix({}, themeMarker, marker, omit({ ...markerCfg }, ['style']));\n      adpatorMarkerStyle(marker, color);\n      if (markerCfg && markerCfg.style) {\n        // handle user's style settings\n        marker.style = handleUserMarkerStyle(marker.style, markerCfg.style);\n      }\n      setMarkerSymbol(marker);\n\n      return { id: value, name, value, marker, unchecked };\n    });\n  }\n  return [];\n}\n\n/**\n *\n * @ignore\n * custom legend  items \n * @param themeMarker\n * @param userMarker\n * @param customItems\n */\nexport function getCustomLegendItems(themeMarker: object, userMarker: object, customItems: LegendItem[]) {\n  //  item marker \n  return customItems.map((item: LegendItem, index: number) => {\n    let markerCfg = userMarker;\n    if (isFunction(markerCfg)) {\n      markerCfg = markerCfg(item.name, index, deepMix({}, themeMarker, item));\n    }\n\n    const itemMarker = isFunction(item.marker)\n      ? item.marker(item.name, index, deepMix({}, themeMarker, item))\n      : item.marker;\n\n    const marker = deepMix({}, themeMarker, markerCfg, itemMarker);\n    setMarkerSymbol(marker);\n\n    item.marker = marker;\n    return item;\n  });\n}\n\n/**\n * get the legend cfg from theme, will mix the common cfg of legend theme\n *\n * @param theme view theme object\n * @param direction legend direction\n * @returns legend theme cfg\n */\nexport function getLegendThemeCfg(theme: object, direction: string): object {\n  const legendTheme = get(theme, ['components', 'legend'], {});\n  return deepMix({}, get(legendTheme, ['common'], {}), deepMix({}, get(legendTheme, [direction], {})));\n}\n","import { isArray } from '@antv/util';\nimport { PathCommand } from '../../../dependents';\nimport { Point, RangePoint, ShapeVertices } from '../../../interface';\nimport { getSplinePath } from './path';\n\nfunction isValueEmpty(value) {\n  if (value) {\n    return false;\n  }\n  return value === null || value === undefined || isNaN(value);\n}\n\nfunction isYNil(point: Point[] | RangePoint) {\n  if (isArray(point)) {\n    //  area  [{x: 0, y: 1}, {x: 0, y: 2}]\n    return isValueEmpty(point[1].y);\n  }\n  const value = point.y;\n  return isArray(value) ? isValueEmpty(value[0]) : isValueEmpty(value);\n}\n\n/**\n * @ignore\n * y  null/undefined/NaN \n * \n *\n * ```typescript\n * // return [[{x: 1, y: 2}, {x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], true);\n * // return [[{x: 1, y: 2}], [{x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], false);\n * // return [[[{ x: 1, y: 10 }, { x: 2, y: 2 }], [{ x: 9, y: 34 }, { x: 1, y: 1 }]]]\n * getPathPoints([\n *   [{ x: 1, y: 10 }, { x: 2, y: 2 }],\n *   [{ x: 4, y: 2 }, { x: 8, y: NaN }],\n *   [{ x: 9, y: 34 }, { x: 1, y: 1 }],\n * ], true);\n * ```\n *\n * @param points \n * @param connectNulls \n * @param showSinglePoint \n * @returns \n */\nexport function getPathPoints(points: ShapeVertices, connectNulls: boolean = false, showSinglePoint: boolean = true) {\n  if (!points.length || (points.length === 1 && !showSinglePoint)) {\n    // \n    return [];\n  }\n\n  if (connectNulls) {\n    //  y \n    const filtered = [];\n    for (let i = 0, len = points.length; i < len; i++) {\n      const point = points[i];\n      if (!isYNil(point)) {\n        filtered.push(point);\n      }\n    }\n    return [filtered];\n  }\n\n  const result = [];\n  let tmp = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isYNil(point)) {\n      if (tmp.length) {\n        if (!(tmp.length === 1 && !showSinglePoint)) {\n          // \n          result.push(tmp);\n        }\n        tmp = [];\n      }\n    } else {\n      tmp.push(point);\n    }\n  }\n\n  if (tmp.length) {\n    result.push(tmp);\n  }\n  return result;\n}\n\n/**\n *  path\n * @param points\n * @returns\n */\nexport function getViolinPath(points: ShapeVertices): PathCommand[] {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i] as Point;\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n  const first = points[0] as Point;\n  if (first) {\n    path.push(['L', first.x, first.y]);\n    path.push(['z']);\n  }\n  return path;\n}\n\n/**\n *   path\n * @param points\n * @returns\n */\nexport function getSmoothViolinPath(points: ShapeVertices): PathCommand[] {\n  const half = points.length / 2;\n  const leftPoints = [];\n  const rightPoints = [];\n  for (let i = 0; i < points.length; i++) {\n    if (i < half) {\n      leftPoints.push(points[i]);\n    } else {\n      rightPoints.push(points[i]);\n    }\n  }\n  const leftPath = getSplinePath(leftPoints, false);\n  const rightPath = getSplinePath(rightPoints, false);\n  if (rightPoints.length) {\n    leftPath.push(['L', rightPoints[0].x, rightPoints[0].y]);\n  }\n  rightPath.shift();\n  const path = leftPath.concat(rightPath);\n  if (leftPoints.length) {\n    path.push(['L', leftPoints[0].x, leftPoints[0].y]);\n  }\n  path.push(['z']);\n  return path;\n}\n","import { deepMix, isNil, get } from '@antv/util';\nimport { ShapeInfo } from '../../../interface';\n\n/**\n * @ignore\n *  Shape \n * @param cfg\n * @param isStroke \n * @param isFill \n * @param [sizeName] lineWidth  r\n * @returns\n */\nexport function getStyle(cfg: ShapeInfo, isStroke: boolean, isFill: boolean, sizeName: string = '') {\n  const { style = {}, defaultStyle, color, size } = cfg;\n  const attrs = {\n    ...defaultStyle,\n    ...style,\n  };\n  if (color) {\n    if (isStroke) {\n      if (!style.stroke) {\n        //  style()  stroke\n        attrs.stroke = color;\n      }\n    }\n\n    if (isFill) {\n      if (!style.fill) {\n        //  style()  fill\n        attrs.fill = color;\n      }\n    }\n  }\n  if (sizeName && isNil(style[sizeName]) && !isNil(size)) {\n    //  style()  lineWidth  r \n    attrs[sizeName] = size;\n  }\n\n  return attrs;\n}\n\n/**\n *   \n * @param cfg\n */\nexport function getBackgroundRectStyle(cfg?: ShapeInfo) {\n  return deepMix(\n    {},\n    {\n      // copy from active-region\n      fill: '#CCD6EC',\n      fillOpacity: 0.3,\n    },\n    get(cfg, ['background', 'style'])\n  );\n}\n","import { isArray } from '@antv/util';\nimport { Point, RangePoint } from '../../../interface';\n\n/**\n * @ignore\n * \n * @example\n * // result: [{x: 20, y: 20}, {x: 20, y: 30}]\n * splitPoints({x: 20,y: [20, 30]});\n * @example\n * // result: [{x: 20, y: 20}, {x: 30, y: 30}]\n * splitPoints({x: [20, 30],y: [20, 30]});\n * @param obj\n */\nexport function splitPoints(obj: RangePoint): Point[] {\n  // y  y  [19, 30] x \n  const x = obj.x;\n  const y = isArray(obj.y) ? obj.y : [obj.y];\n\n  return y.map((eachY, index) => {\n    return {\n      x: isArray(x) ? x[index] : x,\n      y: eachY,\n    };\n  });\n}\n","import { ShapeMarkerCfg } from '../../../interface';\n\nconst LineSymbols = {\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dot: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dash: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  smooth: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['A', r / 2, r / 2, 0, 1, 1, x, y],\n      ['A', r / 2, r / 2, 0, 1, 0, x + r, y],\n    ];\n  },\n  hv: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y - 2.5],\n      ['L', x, y - 2.5],\n      ['L', x, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y + 2.5],\n      ['L', x, y + 2.5],\n      ['L', x, y - 2.5],\n      ['L', x + r + 1, y - 2.5],\n    ];\n  },\n  hvh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - (r + 1), y + 2.5],\n      ['L', x - r / 2, y + 2.5],\n      ['L', x - r / 2, y - 2.5],\n      ['L', x + r / 2, y - 2.5],\n      ['L', x + r / 2, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vhv: (x: number, y: number) => {\n    //  13px 8px\n    return [\n      ['M', x - 5, y + 2.5],\n      ['L', x - 5, y],\n      ['L', x, y],\n      ['L', x, y - 3],\n      ['L', x, y + 3],\n      ['L', x + 6.5, y + 3],\n    ];\n  },\n};\n\n/**\n * Gets line marker\n * @ignore\n * @param markerCfg\n * @param shapeType\n * @returns  Line  marker \n */\nexport function getLineMarker(markerCfg: ShapeMarkerCfg, shapeType: string) {\n  const { color } = markerCfg;\n  return {\n    symbol: LineSymbols[shapeType],\n    style: {\n      lineWidth: 2,\n      r: 6,\n      stroke: color,\n    },\n  };\n}\n","import { each, isArray } from '@antv/util';\nimport { IGroup, ShapeAttrs } from '../../../dependents';\nimport { Point, Position, RangePoint, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\nimport { getLineMarker } from './util';\n\nfunction getShapeAttrs(cfg: ShapeInfo, smooth?: boolean, constraint?: Position[]) {\n  const { isStack, connectNulls, isInCircle, showSinglePoint } = cfg;\n  const shapeAttrs = getStyle(cfg, true, false, 'lineWidth');\n\n  const points = getPathPoints(cfg.points, connectNulls, showSinglePoint); //  connectNulls  points\n  let path = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const eachLinePoints = points[i];\n    path = path.concat(getPath(eachLinePoints, isInCircle, isStack, smooth, constraint, shapeAttrs));\n  }\n  shapeAttrs.path = path;\n\n  return shapeAttrs;\n}\n\n//  path\nfunction getSinglePath(\n  points: Point[],\n  isInCircle: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  if (points.length === 1) {\n    // \n    return [\n      ['M', points[0].x, points[0].y - style.lineWidth / 2],\n      ['L', points[0].x, points[0].y],\n      ['L', points[0].x, points[0].y + style.lineWidth / 2],\n    ];\n  }\n\n  let path;\n  if (!smooth) {\n    path = getLinePath(points, false);\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  } else {\n    // \n    if (isInCircle && points.length) {\n      points.push({ x: points[0].x, y: points[0].y });\n    }\n    path = getSplinePath(points, false, constraint);\n  }\n\n  return path;\n}\n\nfunction getRangePath(\n  points: RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  const topPoints = [];\n  const bottomPoints = [];\n  each(points, (point: RangePoint) => {\n    const result = splitPoints(point);\n    topPoints.push(result[1]); // \n    bottomPoints.push(result[0]); // \n  });\n\n  const topPath = getSinglePath(topPoints, isInCircle, smooth, constraint, style);\n  const bottomPath = getSinglePath(bottomPoints, isInCircle, smooth, constraint, style);\n  if (isStack) {\n    return topPath;\n  }\n  return topPath.concat(bottomPath);\n}\n\n/**\n *  path\n */\nexport function getPath(\n  points: Point[] | RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  if (points.length) {\n    const first = points[0];\n\n    return isArray(first.y)\n      ? getRangePath(points as RangePoint[], isInCircle, isStack, smooth, constraint, style)\n      : getSinglePath(points as Point[], isInCircle, smooth, constraint, style);\n  }\n  return [];\n}\n\nconst LineShapeFactory = registerShapeFactory('line', {\n  defaultShapeType: 'line',\n});\n\n// \n// 'line' 'dot'  'dash'  - - -\neach(['line', 'dot', 'dash', 'smooth'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const smooth = shapeType === 'smooth';\n      let constraint;\n      if (smooth) {\n        const { start, end } = this.coordinate;\n        constraint = [\n          [start.x, end.y],\n          [end.x, start.y],\n        ];\n      }\n\n      const attrs = getShapeAttrs(cfg, smooth, constraint);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n        capture: !smooth,\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n\nexport default LineShapeFactory;\n","/* G2  Geometry */\n\nexport const VERSION = '4.2.0';\n\n// \nexport { Chart, View, Event } from './chart'; // Chart, View \nexport { Controller as ComponentController } from './chart/controller/base'; // G2 \nexport { default as TooltipController } from './chart/controller/tooltip'; // G2 tooltip \nexport { default as Geometry } from './geometry/base'; // Geometry \nexport { default as Element } from './geometry/element'; // Element \nexport { default as GeometryLabel } from './geometry/label/base'; // Geometry Label \nexport { Interaction, Action } from './interaction'; // Interaction, Action \nexport { Facet } from './facet'; // Facet \nexport { default as InteractionAction } from './interaction/action/base'; // Interaction Action \n\n//  ComponentController\nexport { registerComponentController } from './chart';\n\n//  Geometry\nexport { registerGeometry } from './chart';\n\n//  Geometry Shape\nexport { registerShape, registerShapeFactory, getShapeFactory } from './geometry/shape/base';\n\n//  Geometry label  Geometry Label \nexport {\n  registerGeometryLabel,\n  registerGeometryLabelLayout,\n  getGeometryLabel,\n  getGeometryLabelLayout,\n} from './geometry/label';\n\n//  interaction\nexport { getInteraction, registerInteraction, registerAction, getActionClass } from './interaction';\n\n//  facet\nexport { getFacet, registerFacet } from './facet';\n\n// \nexport { getTheme, registerTheme } from './theme';\n\n// G engine \nexport { registerEngine, getEngine } from './engine';\n\n// \nexport { registerAnimation, getAnimation } from './animate/animation';\n\nexport { LAYER, DIRECTION } from './constant';\n\n//  typescript  export * as \nimport * as Types from './interface';\nexport type { Types };\n\nexport { IGroup, ShapeAttrs, Coordinate, Scale, ScaleConfig } from './dependents';\n\n// \nimport { getMappingValue } from './util/attr';\nimport { getLegendItems } from './util/legend';\nimport { getAngle, getSectorPath, polarToCartesian } from './util/graphics';\nimport { rotate, transform, translate, zoom } from './util/transform';\nimport { getTooltipItems } from './util/tooltip';\nimport { getDelegationObject } from './interaction/action/util';\nimport { getPathPoints } from './geometry/shape/util/get-path-points';\nimport { getPath } from './geometry/shape/line';\n\nexport const Util = {\n  getLegendItems,\n  translate,\n  rotate,\n  zoom,\n  transform,\n  getAngle,\n  getSectorPath,\n  polarToCartesian,\n  getDelegationObject,\n  getTooltipItems,\n  getMappingValue,\n  // shape \n  getPath,\n  getPathPoints,\n};\n","import { StyleSheetCfg } from '../../interface';\n\nconst WHITE_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst BLACK_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#E86452',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#E86452',\n  '#F8D0CB',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\n/**  */\nconst SINGLE_SEQUENCE = [\n  '#B8E1FF',\n  '#9AC5FF',\n  '#7DAAFF',\n  '#5B8FF9',\n  '#3D76DD',\n  '#085EC0',\n  '#0047A5',\n  '#00318A',\n  '#001D70',\n];\n\nexport const createDarkStyleSheet = (cfg: StyleSheetCfg = {}) => {\n  const { paletteQualitative10 = QUALITATIVE_10, paletteQualitative20 = QUALITATIVE_20 } = cfg;\n  const { brandColor = paletteQualitative10[0] } = cfg;\n\n  const token = {\n    /**  */\n    backgroundColor: '#141414',\n    /**  */\n    brandColor,\n    /**  */\n    subColor: 'rgba(255,255,255,0.05)',\n    /**  1 10  */\n    paletteQualitative10,\n    /**  2 10  */\n    paletteQualitative20,\n    /**  */\n    paletteSemanticRed: '#F4664A',\n    /**  */\n    paletteSemanticGreen: '#30BF78',\n    /**  */\n    paletteSemanticYellow: '#FAAD14',\n    /** () */\n    paletteSequence: SINGLE_SEQUENCE,\n    /**  */\n    fontFamily: `\"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n    \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n    \"Noto Color Emoji\"`,\n\n    // --------------------  --------------------\n    /**  */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisLineBorder: 1,\n    /**  lineDash  */\n    axisLineDash: null,\n\n    /**  */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /**  */\n    axisTitleTextFontSize: 12,\n    /**  */\n    axisTitleTextLineHeight: 12,\n    /**  */\n    axisTitleTextFontWeight: 'normal',\n    /**  */\n    axisTitleSpacing: 12,\n    /** icon */\n    axisDescriptionIconFillColor: WHITE_COLORS[85],\n\n    /**  */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisTickLineLength: 4,\n    /**  */\n    axisTickLineBorder: 1,\n\n    /**  */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisSubTickLineLength: 2,\n    /**  */\n    axisSubTickLineBorder: 1,\n\n    /**  */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /**  */\n    axisLabelFontSize: 12,\n    /**  */\n    axisLabelLineHeight: 12,\n    /**  */\n    axisLabelFontWeight: 'normal',\n    /**  */\n    axisLabelOffset: 8,\n\n    /**  */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisGridBorder: 1,\n    /**  */\n    axisGridLineDash: null,\n\n    // --------------------  --------------------\n    /**  */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendTitleTextFontSize: 12,\n    /**  */\n    legendTitleTextLineHeight: 21,\n    /**  */\n    legendTitleTextFontWeight: 'normal',\n\n    /**  marker  */\n    legendMarkerColor: QUALITATIVE_10[0],\n    /**  marker  */\n    legendMarkerSpacing: 8,\n    /**  marker  */\n    legendMarkerSize: 4,\n    /**  'circle' marker  */\n    legendCircleMarkerSize: 4,\n    /**  'square' marker  */\n    legendSquareMarkerSize: 4,\n    /**  'line' marker  */\n    legendLineMarkerSize: 5,\n\n    /**  */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /**  */\n    legendItemNameFontSize: 12,\n    /**  */\n    legendItemNameLineHeight: 12,\n    /**  */\n    legendItemNameFontWeight: 'normal',\n    /**  */\n    legendItemSpacing: 24,\n    /**  */\n    legendItemMarginBottom: 12,\n    /**   */\n    legendSpacing: 16,\n    /**   */\n    legendPadding: [8, 8, 8, 8],\n    /**  */\n    legendHorizontalPadding: [8, 0, 8, 0],\n    /**  */\n    legendVerticalPadding: [0, 8, 0, 8],\n\n    // \n    /**  marker  */\n    legendPageNavigatorMarkerSize: 12,\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillColor: BLACK_COLORS[45],\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillOpacity: 0.45,\n    /**  marker  */\n    legendPageNavigatorMarkerFillColor: BLACK_COLORS[45],\n    /**  marker  */\n    legendPageNavigatorMarkerFillOpacity: 1,\n    /**  */\n    legendPageNavigatorTextFillColor: BLACK_COLORS[65],\n    /**  */\n    legendPageNavigatorTextFontSize: 12,\n\n    /**  */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /**  */\n    sliderRailBorder: 0,\n    /**  */\n    sliderRailBorderColor: null,\n    /**  */\n    sliderRailWidth: 100,\n    /**  */\n    sliderRailHeight: 12,\n\n    /**  */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /**  */\n    sliderLabelTextFontSize: 12,\n    /**  */\n    sliderLabelTextLineHeight: 12,\n    /**  */\n    sliderLabelTextFontWeight: 'normal',\n\n    /**  */\n    sliderHandlerFillColor: WHITE_COLORS[6],\n    /**  */\n    sliderHandlerWidth: 10,\n    /**  */\n    sliderHandlerHeight: 14,\n    /**  */\n    sliderHandlerBorder: 1,\n    /**  */\n    sliderHandlerBorderColor: WHITE_COLORS[25],\n\n    // -------------------- Annotation --------------------\n    /** arc  */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc  */\n    annotationArcBorder: 1,\n\n    /** line  */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line  */\n    annotationLineBorder: 1,\n    /** lube  */\n    annotationLineDash: null,\n\n    /** text  */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text  */\n    annotationTextFontSize: 12,\n    /** text  */\n    annotationTextLineHeight: 12,\n    /** text  */\n    annotationTextFontWeight: 'normal',\n    /** text  */\n    annotationTextBorderColor: null,\n    /** text  */\n    annotationTextBorder: 0,\n\n    /** region  */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region  */\n    annotationRegionFillOpacity: 0.06,\n    /** region  */\n    annotationRegionBorder: 0,\n    /** region  */\n    annotationRegionBorderColor: null,\n\n    /** dataMarker  */\n    annotationDataMarkerLineLength: 16,\n\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs  */\n    tooltipCrosshairsLineDash: null,\n\n    /** tooltip  */\n    tooltipContainerFillColor: '#1f1f1f',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip  */\n    tooltipContainerShadow: '0px 2px 4px rgba(0,0,0,.5)',\n    /** tooltip  */\n    tooltipContainerBorderRadius: 3,\n\n    /** tooltip  */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip  */\n    tooltipTextFontSize: 12,\n    /** tooltip  */\n    tooltipTextLineHeight: 12,\n    /** tooltip  */\n    tooltipTextFontWeight: 'bold',\n\n    // -------------------- Geometry labels --------------------\n    /** Geometry label  */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    labelFontSize: 12,\n    /** Geometry label  */\n    labelLineHeight: 12,\n    /** Geometry label  */\n    labelFontWeight: 'normal',\n    /** Geometry label  */\n    labelBorderColor: null,\n    /** Geometry label  */\n    labelBorder: 0,\n\n    /** Geometry innerLabel  */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel  */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel  */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel  */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel  */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel  */\n    innerLabelBorder: 0,\n\n    /** Geometry label  */\n    overflowLabelFillColor: BLACK_COLORS[65],\n    overflowLabelFillColorDark: '#2c3542',\n    overflowLabelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    overflowLabelFontSize: 12,\n    /** Geometry label  */\n    overflowLabelLineHeight: 12,\n    /** Geometry label  */\n    overflowLabelFontWeight: 'normal',\n    /** Geometry label  */\n    overflowLabelBorderColor: WHITE_COLORS[100],\n    /** Geometry label  */\n    overflowLabelBorder: 1,\n\n    /** Geometry label  */\n    labelLineBorder: 1,\n    /** Geometry label  */\n    labelLineBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Slider --------------------\n    /** slider  */\n    cSliderRailHieght: 16,\n    /** slider  */\n    cSliderBackgroundFillColor: '#416180',\n    /** slider  */\n    cSliderBackgroundFillOpacity: 0.05,\n    /** slider  */\n    cSliderForegroundFillColor: '#5B8FF9',\n    /** slider  */\n    cSliderForegroundFillOpacity: 0.15,\n    // slider handlerStyle \n    /** slider  */\n    cSliderHandlerHeight: 24,\n    /** Slider  */\n    cSliderHandlerWidth: 10,\n    /** Slider  */\n    cSliderHandlerFillColor: '#F7F7F7',\n    /** Slider  */\n    cSliderHandlerFillOpacity: 1,\n    /** Slider  */\n    cSliderHandlerHighlightFillColor: '#FFF',\n    /** Slider  */\n    cSliderHandlerBorderColor: '#BFBFBF',\n    /** Slider  */\n    cSliderHandlerBorder: 1,\n    /** Slider  */\n    cSliderHandlerBorderRadius: 2,\n    // slider textStyle \n    /** Slider  */\n    cSliderTextFillColor: '#fff',\n    /** Slider  */\n    cSliderTextFillOpacity: 0.45,\n    /** Slider  */\n    cSliderTextFontSize: 12,\n    /** Slider  */\n    cSliderTextLineHeight: 12,\n    /** Slider  */\n    cSliderTextFontWeight: 'normal',\n    /** Slider  */\n    cSliderTextBorderColor: null,\n    /** Slider  */\n    cSliderTextBorder: 0,\n\n    // -------------------- Scrollbar --------------------\n    /**   */\n    scrollbarTrackFillColor: 'rgba(255,255,255,0.65)',\n    /**   */\n    scrollbarThumbFillColor: 'rgba(0,0,0,0.35)',\n    /**   */\n    scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.45)',\n\n    // -------------------- Geometry --------------------\n    /**  */\n    pointFillColor: QUALITATIVE_10[0],\n    /**  */\n    pointFillOpacity: 0.95,\n    /**  */\n    pointSize: 4,\n    /**  */\n    pointBorder: 1,\n    /**  */\n    pointBorderColor: WHITE_COLORS[100],\n    /**  */\n    pointBorderOpacity: 1,\n\n    /**  active  */\n    pointActiveBorderColor: BLACK_COLORS[100],\n\n    /**  selected  */\n    pointSelectedBorder: 2,\n    /**  selected  */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n\n    /**  inactive  */\n    pointInactiveFillOpacity: 0.3,\n    /**  inactive  */\n    pointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    hollowPointSize: 4,\n    /**  */\n    hollowPointBorder: 1,\n    /**  */\n    hollowPointBorderColor: QUALITATIVE_10[0],\n    /**  */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n\n    /**  active  */\n    hollowPointActiveBorder: 1,\n    /**  active  */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /**  active  */\n    hollowPointActiveBorderOpacity: 1,\n\n    /**  selected  */\n    hollowPointSelectedBorder: 2,\n    /**  selected  */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /**  selected  */\n    hollowPointSelectedBorderOpacity: 1,\n\n    /**  inactive  */\n    hollowPointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    lineBorder: 2,\n    /**  */\n    lineBorderColor: QUALITATIVE_10[0],\n    /**  */\n    lineBorderOpacity: 1,\n\n    /**  Active  */\n    lineActiveBorder: 3,\n\n    /**  selected  */\n    lineSelectedBorder: 3,\n\n    /**  inactive  */\n    lineInactiveBorderOpacity: 0.3,\n\n    /** area  */\n    areaFillColor: QUALITATIVE_10[0],\n    /** area  */\n    areaFillOpacity: 0.25,\n\n    /** area  active  */\n    areaActiveFillColor: QUALITATIVE_10[0],\n    areaActiveFillOpacity: 0.5,\n\n    /** area  selected  */\n    areaSelectedFillColor: QUALITATIVE_10[0],\n    areaSelectedFillOpacity: 0.5,\n\n    /** area inactive  */\n    areaInactiveFillOpacity: 0.3,\n\n    /** hollowArea  */\n    hollowAreaBorderColor: QUALITATIVE_10[0],\n    /** hollowArea  */\n    hollowAreaBorder: 2,\n    /** hollowArea  */\n    hollowAreaBorderOpacity: 1,\n\n    /** hollowArea active  */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea selected  */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea inactive  */\n    hollowAreaInactiveBorderOpacity: 0.3,\n\n    /** interval  */\n    intervalFillColor: QUALITATIVE_10[0],\n    /** interval  */\n    intervalFillOpacity: 0.95,\n\n    /** interval active  */\n    intervalActiveBorder: 1,\n    /** interval active  */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n\n    /** interval selected  */\n    intervalSelectedBorder: 2,\n    /** interval selected  */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected  */\n    intervalSelectedBorderOpacity: 1,\n\n    /** interval inactive  */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive  */\n    intervalInactiveFillOpacity: 0.3,\n\n    /** interval  */\n    hollowIntervalBorder: 2,\n    /** hollowInterval  */\n    hollowIntervalBorderColor: QUALITATIVE_10[0],\n    /** hollowInterval  */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n\n    /** hollowInterval active  */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active  */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderOpacity: 1,\n\n    /** hollowInterval inactive  */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n  };\n\n  return { ...token, ...cfg };\n};\n\nexport const antvDark = createDarkStyleSheet();\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry, { GeometryCfg } from './base';\nimport Element from './element';\n/**  ShapeFactory */\nimport './shape/line';\nimport { isModelChange } from './util/is-model-change';\nimport { diff } from './util/diff';\n\n/** Path  */\nexport interface PathCfg extends GeometryCfg {\n  /**  */\n  connectNulls?: boolean;\n  /**  */\n  showSinglePoint?: boolean;\n}\n\n/**\n * Path \n * \n */\nexport default class Path extends Geometry {\n  public readonly type: string = 'path';\n  public readonly shapeType: string = 'line';\n  /**  */\n  public connectNulls: boolean;\n  /**  */\n  public showSinglePoint: boolean;\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { connectNulls = false, showSinglePoint = true } = cfg;\n    this.connectNulls = connectNulls;\n    this.showSinglePoint = showSinglePoint;\n  }\n\n  /**\n   *  Element  PathLineArea Element\n   * @param mappingData\n   * @param [isUpdate]\n   * @returns elements\n   */\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false) {\n    // Path  element \n    const keyData = new Map<string, MappingDatum[]>();\n    const keyIndex = new Map<string, number>();\n    const keys: string[] = [];\n\n    let index = 0;\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      const key = this.getElementId(mappingData);\n      keys.push(key);\n      keyData.set(key, mappingData);\n      keyIndex.set(key, index);\n      index++;\n    }\n\n    this.elements = new Array(index);\n\n    const { added, updated, removed } = diff(this.lastElementsMap, keys);\n\n    for (const key of added) {\n      const mappingData = keyData.get(key);\n      const shapeFactory = this.getShapeFactory();\n      const shapeCfg = this.getShapeInfo(mappingData);\n      const i = keyIndex.get(key);\n      const element = new Element({\n        shapeFactory,\n        container: this.container,\n        offscreenGroup: this.getOffscreenGroup(),\n        elementIndex: i,\n      });\n      element.geometry = this;\n      element.animate = this.animateOption;\n      element.draw(shapeCfg, isUpdate); //  shape\n      this.elementsMap[key] = element;\n      this.elements[i] = element;\n    }\n\n    for (const key of updated) {\n      const mappingData = keyData.get(key);\n      const element = this.lastElementsMap[key];\n      const i = keyIndex.get(key);\n      const shapeCfg = this.getShapeInfo(mappingData);\n      const preShapeCfg = element.getModel();\n      if (this.isCoordinateChanged || isModelChange(preShapeCfg, shapeCfg)) {\n        element.animate = this.animateOption;\n        // \n        element.update(shapeCfg); //  element\n      }\n      this.elementsMap[key] = element;\n      this.elements[i] = element;\n    }\n\n    for (const key of removed) {\n      const element = this.lastElementsMap[key];\n      // \n      element.animate = this.animateOption;\n      element.destroy();\n    }\n  }\n\n  /**\n   * \n   * @param mappingData \n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push({\n        x: obj.x,\n        y: obj.y,\n      });\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n    const { points, data } = this.getPointsAndData(mappingData);\n    shapeCfg.mappingData = mappingData;\n    shapeCfg.data = data;\n    shapeCfg.isStack = !!this.getAdjust('stack');\n    shapeCfg.points = points;\n    shapeCfg.connectNulls = this.connectNulls;\n    shapeCfg.showSinglePoint = this.showSinglePoint;\n\n    return shapeCfg;\n  }\n}\n","import { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position, Shape, ShapeInfo } from '../../../interface';\n\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\n\nfunction getPath(\n  points: Point[],\n  isInCircle: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n): PathCommand[] {\n  let path = [];\n\n  if (points.length) {\n    const topLinePoints = []; // area \n    let bottomLinePoints = []; // area \n    for (let i = 0, len = points.length; i < len; i++) {\n      const point = points[i];\n      topLinePoints.push(point[1]);\n      bottomLinePoints.push(point[0]);\n    }\n    bottomLinePoints = bottomLinePoints.reverse();\n\n    each([topLinePoints, bottomLinePoints], (pointsData, index) => {\n      let subPath = [];\n      const parsedPoints = registeredShape.parsePoints(pointsData);\n      const p1 = parsedPoints[0];\n\n      if (topLinePoints.length === 1 && bottomLinePoints.length === 1) {\n        // \n        subPath =\n          index === 0\n            ? [\n                ['M', p1.x - 0.5, p1.y],\n                ['L', p1.x + 0.5, p1.y],\n              ]\n            : [\n                ['L', p1.x + 0.5, p1.y],\n                ['L', p1.x - 0.5, p1.y],\n              ];\n      } else {\n        if (isInCircle) {\n          parsedPoints.push({ x: p1.x, y: p1.y });\n        }\n        if (smooth) {\n          subPath = getSplinePath(parsedPoints, false, constraint);\n        } else {\n          subPath = getLinePath(parsedPoints, false);\n        }\n        if (index > 0) {\n          subPath[0][0] = 'L';\n        }\n      }\n\n      path = path.concat(subPath);\n    });\n\n    path.push(['Z']);\n  }\n\n  return path;\n}\n\n/**\n * @ignore\n * Gets shape attrs\n * @param cfg\n * @param isStroke\n * @param smooth\n * @param registeredShape\n * @param [constraint]\n * @returns\n */\nexport function getShapeAttrs(\n  cfg: ShapeInfo,\n  isStroke: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n) {\n  const attrs = getStyle(cfg, isStroke, !isStroke, 'lineWidth');\n  const { connectNulls, isInCircle, points, showSinglePoint } = cfg;\n  const pathPoints = getPathPoints(points, connectNulls, showSinglePoint); //  connectNulls \n\n  let path = [];\n  for (let i = 0, len = pathPoints.length; i < len; i++) {\n    const eachPoints = pathPoints[i];\n    path = path.concat(getPath(eachPoints, isInCircle, smooth, registeredShape, constraint));\n  }\n  attrs.path = path;\n\n  return attrs;\n}\n\n/**\n * @ignore\n * Gets constraint\n * @param coordinate\n * @returns constraint\n */\nexport function getConstraint(coordinate: Coordinate): Position[] {\n  const { start, end } = coordinate;\n  return [\n    [start.x, end.y],\n    [end.x, start.y],\n  ];\n}\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getShapeAttrs } from './util';\n\nconst AreaShapeFactory = registerShapeFactory('area', {\n  defaultShapeType: 'area',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    // area \n    const { x, y0 } = pointInfo;\n    const y = isArray(pointInfo.y) ? pointInfo.y : [y0, pointInfo.y];\n\n    return y.map((yItem: number) => {\n      return {\n        x: x as number,\n        y: yItem,\n      };\n    });\n  },\n});\n\n// Area  shape\nregisterShape('area', 'area', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, false, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default AreaShapeFactory;\n","import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum } from '../interface';\nimport Path, { PathCfg } from './path';\nimport './shape/area';\n\n/** Area  */\nexport interface AreaCfg extends PathCfg {\n  /**\n   *  0 \n   * 1.  `true`\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2.  `false` \n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  startOnZero?: boolean;\n}\n\n/**\n * Area \n * \n */\nexport default class Area extends Path {\n  public readonly type: string = 'area';\n  public readonly shapeType: string = 'area';\n  /**  */\n  public readonly generatePoints: boolean = true;\n  /**\n   *  0 \n   * 1.  `true`\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2.  `false` \n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  public readonly startOnZero: boolean = true;\n\n  constructor(cfg: AreaCfg) {\n    super(cfg);\n\n    const { startOnZero = true, sortable = false, showSinglePoint = false } = cfg;\n    this.startOnZero = startOnZero; //  true\n    this.sortable = sortable; //  X \n    this.showSinglePoint = showSinglePoint;\n  }\n\n  /**\n   * \n   * @param mappingData \n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push(obj.points);\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  /**\n   *  Y \n   * @returns y \n   */\n  protected getYMinValue(): number {\n    if (this.startOnZero) {\n      return super.getYMinValue();\n    }\n    const yScale = this.getYScale();\n    return yScale.min;\n  }\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\n\nconst EdgeShapeFactory = registerShapeFactory('edge', {\n  defaultShapeType: 'line',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\nregisterShape('edge', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const path = getLinePath(this.parsePoints(cfg.points), this.coordinate.isPolar);\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n\nexport default EdgeShapeFactory;\n","import Geometry from './base';\nimport './shape/edge';\n\n/**\n * Edge ****\n * 1. \n * 2. \n * 3. \n * 4. \n * 5. \n */\nexport default class Edge extends Geometry {\n  public readonly type: string = 'edge';\n  public readonly shapeType: string = 'edge';\n  protected generatePoints: boolean = true;\n}\n","import ColorUtil from '@antv/color-util';\nimport { get, isNumber } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Color, IShape } from '../dependents';\nimport { Data, Datum, MappingDatum, ShapeInfo, AttributeOption, ColorAttrCallback } from '../interface';\nimport Geometry from './base';\n\n/**\n * \n */\nexport default class Heatmap extends Geometry {\n  public readonly type: string = 'heatmap';\n\n  private paletteCache: Record<number, number> = {};\n  private grayScaleBlurredCanvas: HTMLCanvasElement;\n  private shadowCanvas: HTMLCanvasElement;\n  private imageShape: IShape;\n\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false) {\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      const range = this.prepareRange(mappingData);\n      const radius = this.prepareSize();\n\n      let blur = get(this.styleOption, ['cfg', 'shadowBlur']);\n      if (!isNumber(blur)) {\n        blur = radius / 2;\n      }\n\n      this.prepareGreyScaleBlurredCircle(radius, blur);\n      this.drawWithRange(mappingData, range, radius, blur);\n    }\n  }\n\n  /**  callback  */\n  public color(field: AttributeOption | string, cfg?: string | string[] | ColorAttrCallback): Geometry {\n    this.createAttrOption('color', field, typeof cfg !== 'function' ? cfg : '');\n\n    return this;\n  }\n\n  /**\n   * clear\n   */\n  public clear() {\n    super.clear();\n    this.clearShadowCanvasCtx();\n    this.paletteCache = {};\n  }\n\n  private prepareRange(data: MappingDatum[]) {\n    const colorAttr = this.getAttribute('color');\n    const colorField = colorAttr.getFields()[0];\n\n    let min = Infinity;\n    let max = -Infinity;\n    data.forEach((row) => {\n      const value = row[FIELD_ORIGIN][colorField];\n      if (value > max) {\n        max = value;\n      }\n      if (value < min) {\n        min = value;\n      }\n    });\n\n    if (min === max) {\n      min = max - 1;\n    }\n\n    return [min, max];\n  }\n\n  private prepareSize() {\n    let radius = this.getDefaultValue('size');\n    if (!isNumber(radius)) {\n      radius = this.getDefaultSize();\n    }\n\n    return radius;\n  }\n\n  private prepareGreyScaleBlurredCircle(radius: number, blur: number) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    const r2 = radius + blur;\n    const ctx = grayScaleBlurredCanvas.getContext('2d');\n    grayScaleBlurredCanvas.width = grayScaleBlurredCanvas.height = r2 * 2;\n    ctx.clearRect(0, 0, grayScaleBlurredCanvas.width, grayScaleBlurredCanvas.height);\n    ctx.shadowOffsetX = ctx.shadowOffsetY = r2 * 2;\n    ctx.shadowBlur = blur;\n    ctx.shadowColor = 'black';\n\n    ctx.beginPath();\n    ctx.arc(-r2, -r2, radius, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n  }\n\n  private drawWithRange(data: MappingDatum[], range: number[], radius: number, blur: number) {\n    // canvas size\n    const { start, end } = this.coordinate;\n    const width = this.coordinate.getWidth();\n    const height = this.coordinate.getHeight();\n\n    // value, range, etc\n    const colorAttr = this.getAttribute('color');\n    const valueField = colorAttr.getFields()[0];\n\n    // prepare shadow canvas context\n    this.clearShadowCanvasCtx();\n    const ctx = this.getShadowCanvasCtx();\n    // filter data\n    if (range) {\n      data = data.filter((row) => {\n        return row[FIELD_ORIGIN][valueField] <= range[1] && row[FIELD_ORIGIN][valueField] >= range[0];\n      });\n    }\n\n    // step1. draw points with shadow\n    const scale = this.scales[valueField];\n    for (const obj of data) {\n      const { x, y } = this.getDrawCfg(obj);\n      const alpha = scale.scale(obj[FIELD_ORIGIN][valueField]);\n      this.drawGrayScaleBlurredCircle((x as number) - start.x, (y as number) - end.y, radius + blur, alpha, ctx);\n    }\n\n    // step2. convert pixels\n    const colored = ctx.getImageData(0, 0, width, height);\n    this.clearShadowCanvasCtx();\n    this.colorize(colored);\n    ctx.putImageData(colored, 0, 0);\n    const imageShape = this.getImageShape();\n    imageShape.attr('x', start.x);\n    imageShape.attr('y', end.y);\n    imageShape.attr('width', width);\n    imageShape.attr('height', height);\n    imageShape.attr('img', ctx.canvas);\n    imageShape.set('origin', this.getShapeInfo(data)); // \n  }\n\n  private getDefaultSize() {\n    const position = this.getAttribute('position');\n    const coordinate = this.coordinate;\n    return Math.min(\n      coordinate.getWidth() / (position.scales[0].ticks.length * 4),\n      coordinate.getHeight() / (position.scales[1].ticks.length * 4)\n    );\n  }\n\n  private clearShadowCanvasCtx() {\n    const ctx = this.getShadowCanvasCtx();\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  }\n\n  private getShadowCanvasCtx() {\n    let canvas = this.shadowCanvas;\n    if (!canvas) {\n      canvas = document.createElement('canvas');\n      this.shadowCanvas = canvas;\n    }\n    canvas.width = this.coordinate.getWidth();\n    canvas.height = this.coordinate.getHeight();\n    return canvas.getContext('2d');\n  }\n\n  private getGrayScaleBlurredCanvas() {\n    if (!this.grayScaleBlurredCanvas) {\n      this.grayScaleBlurredCanvas = document.createElement('canvas');\n    }\n\n    return this.grayScaleBlurredCanvas;\n  }\n\n  private drawGrayScaleBlurredCircle(x: number, y: number, r: number, alpha: number, ctx: CanvasRenderingContext2D) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    ctx.globalAlpha = alpha;\n    ctx.drawImage(grayScaleBlurredCanvas, x - r, y - r);\n  }\n\n  private colorize(img: ImageData) {\n    const colorAttr = this.getAttribute('color') as Color;\n    const pixels = img.data;\n    const paletteCache = this.paletteCache;\n    for (let i = 3; i < pixels.length; i += 4) {\n      const alpha = pixels[i]; // get gradient color from opacity value\n      if (isNumber(alpha)) {\n        const palette = paletteCache[alpha] ? paletteCache[alpha] : ColorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n        pixels[i - 3] = palette[0];\n        pixels[i - 2] = palette[1];\n        pixels[i - 1] = palette[2];\n        pixels[i] = alpha;\n      }\n    }\n  }\n\n  private getImageShape() {\n    let imageShape = this.imageShape;\n    if (imageShape) {\n      return imageShape;\n    }\n    const container = this.container;\n    imageShape = container.addShape({\n      type: 'image',\n      attrs: {},\n    });\n    this.imageShape = imageShape;\n    return imageShape;\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n\n    const data = mappingData.map((obj: Datum) => {\n      return obj[FIELD_ORIGIN];\n    });\n\n    return {\n      ...shapeCfg,\n      mappingData,\n      data,\n    };\n  }\n}\n","import { Coordinate } from '@antv/coord';\nimport { isArray, isNil, get } from '@antv/util';\nimport { getAngle, getSectorPath } from '../../../util/graphics';\nimport { PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapePoint } from '../../../interface';\n\n/**\n * @ignore\n * \n * @param pointInfo \n * @param [isPyramid] \n * @returns rect points \n */\nexport function getRectPoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  //  4 \n  // 1. x, y \n  // 2. yx\n  // 3. xy\n  // 4. x, y \n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  let xMin;\n  let xMax;\n  if (isArray(x)) {\n    [xMin, xMax] = x;\n  } else {\n    xMin = x - size / 2;\n    xMax = x + size / 2;\n  }\n\n  const points = [\n    { x: xMin, y: yMin },\n    { x: xMin, y: yMax },\n  ];\n\n  // \n  // 1 ---- 2\n  // |      |\n  // 0 ---- 3\n  points.push({ x: xMax, y: yMax }, { x: xMax, y: yMin });\n\n  return points;\n}\n\n/**\n * @ignore\n *  path\n * @param points \n * @param isClosed path \n * @returns  path\n */\nexport function getRectPath(points: Point[], isClosed: boolean = true): PathCommand[] {\n  const path = [];\n  const firstPoint = points[0];\n  path.push(['M', firstPoint.x, firstPoint.y]);\n  for (let i = 1, len = points.length; i < len; i++) {\n    path.push(['L', points[i].x, points[i].y]);\n  }\n  //  shape=\"line\" path  lineCap \n  if (isClosed) {\n    path.push(['L', firstPoint.x, firstPoint.y]); // \n    path.push(['z']);\n  }\n  return path;\n}\n\n/**\n *  rect path  radius\n * @returns  path  arc \n */\nexport function parseRadius(radius: number | number[], minLength: number): number[] {\n  let r1 = 0;\n  let r2 = 0;\n  let r3 = 0;\n  let r4 = 0;\n  if (isArray(radius)) {\n    if (radius.length === 1) {\n      r1 = r2 = r3 = r4 = radius[0];\n    } else if (radius.length === 2) {\n      r1 = r3 = radius[0];\n      r2 = r4 = radius[1];\n    } else if (radius.length === 3) {\n      r1 = radius[0];\n      r2 = r4 = radius[1];\n      r3 = radius[2];\n    } else {\n      r1 = radius[0];\n      r2 = radius[1];\n      r3 = radius[2];\n      r4 = radius[3];\n    }\n  } else {\n    r1 = r2 = r3 = r4 = radius;\n  }\n\n  //  \n  if (r1 + r2 > minLength) {\n    r1 = r1 ? minLength / (1 + r2 / r1) : 0;\n    r2 = minLength - r1;\n  }\n\n  if (r3 + r4 > minLength) {\n    r3 = r3 ? minLength / (1 + r4 / r3) : 0;\n    r4 = minLength - r3;\n  }\n\n  return [r1 || 0, r2 || 0, r3 || 0, r4 || 0];\n}\n\n/**\n *  interval  path\n * @param cfg \n * @param points  4 \n * @param coordinate \n * @returns  path\n */\nexport function getBackgroundRectPath(cfg: ShapeInfo, points: Point[], coordinate: Coordinate): PathCommand[] {\n  let path = [];\n  if (coordinate.isRect) {\n    const p0 = coordinate.isTransposed\n      ? { x: coordinate.start.x, y: points[0].y }\n      : { x: points[0].x, y: coordinate.start.y };\n    const p1 = coordinate.isTransposed\n      ? { x: coordinate.end.x, y: points[2].y }\n      : { x: points[3].x, y: coordinate.end.y };\n\n    // corner radius of background shape works only in \n    const radius = get(cfg, ['background', 'style', 'radius']);\n    if (radius) {\n      const width = coordinate.isTransposed ? Math.abs(points[0].y - points[2].y) : points[2].x - points[1].x;\n      const height = coordinate.isTransposed ? coordinate.getWidth() : coordinate.getHeight();\n      const [r1, r2, r3, r4] = parseRadius(radius, Math.min(width, height));\n\n      path.push(['M', p0.x, p1.y + r1]);\n      r1 !== 0 && path.push(['A', r1, r1, 0, 0, 1, p0.x + r1, p1.y]);\n      path.push(['L', p1.x - r2, p1.y]);\n      r2 !== 0 && path.push(['A', r2, r2, 0, 0, 1, p1.x, p1.y + r2]);\n      path.push(['L', p1.x, p0.y - r3]);\n      r3 !== 0 && path.push(['A', r3, r3, 0, 0, 1, p1.x - r3, p0.y]);\n      path.push(['L', p0.x + r4, p0.y]);\n      r4 !== 0 && path.push(['A', r4, r4, 0, 0, 1, p0.x, p0.y - r4]);\n    } else {\n      path.push(['M', p0.x, p0.y]);\n      path.push(['L', p1.x, p0.y]);\n      path.push(['L', p1.x, p1.y]);\n      path.push(['L', p0.x, p1.y]);\n      path.push(['L', p0.x, p0.y]);\n    }\n\n    path.push(['z']);\n  }\n\n  if (coordinate.isPolar) {\n    const center = coordinate.getCenter();\n    const { startAngle, endAngle } = getAngle(cfg, coordinate);\n    if (coordinate.type !== 'theta' && !coordinate.isTransposed) {\n      //  path\n      path = getSectorPath(center.x, center.y, coordinate.getRadius(), startAngle, endAngle);\n    } else {\n      const pow = (v) => Math.pow(v, 2);\n      const r1 = Math.sqrt(pow(center.x - points[0].x) + pow(center.y - points[0].y));\n      const r2 = Math.sqrt(pow(center.x - points[2].x) + pow(center.y - points[2].y));\n      //  path coordinate \n      path = getSectorPath(center.x, center.y, r1, coordinate.startAngle, coordinate.endAngle, r2);\n    }\n  }\n  return path;\n}\n\n/**\n * @ignore\n *  path\n * @param points \n * @param lineCap 'round'\n * @param coor \n * @returns  path\n */\nexport function getIntervalRectPath(points: Point[], lineCap: CanvasLineCap, coor: Coordinate): PathCommand[] {\n  const width = coor.getWidth();\n  const height = coor.getHeight();\n  const isRect = coor.type === 'rect';\n  let path = [];\n  const r = (points[2].x - points[1].x) / 2;\n  const ry = coor.isTransposed ? (r * height) / width : (r * width) / height;\n  if (lineCap === 'round') {\n    if (isRect) {\n      path.push(['M', points[0].x, points[0].y + ry]);\n      path.push(['L', points[1].x, points[1].y - ry]);\n      path.push(['A', r, r, 0, 0, 1, points[2].x, points[2].y - ry]);\n      path.push(['L', points[3].x, points[3].y + ry]);\n      path.push(['A', r, r, 0, 0, 1, points[0].x, points[0].y + ry]);\n    } else {\n      path.push(['M', points[0].x, points[0].y]);\n      path.push(['L', points[1].x, points[1].y]);\n      path.push(['A', r, r, 0, 0, 1, points[2].x, points[2].y]);\n      path.push(['L', points[3].x, points[3].y]);\n      path.push(['A', r, r, 0, 0, 1, points[0].x, points[0].y]);\n    }\n    path.push(['z']);\n  } else {\n    path = getRectPath(points);\n  }\n  return path;\n}\n\n/**\n * @ignore\n *  funnel  path\n * @param points \n * @param nextPoints \n * @param isPyramid \n * @returns  path\n */\nexport function getFunnelPath(points: Point[], nextPoints: Point[], isPyramid: boolean) {\n  const path = [];\n  if (!isNil(nextPoints)) {\n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', nextPoints[1].x, nextPoints[1].y],\n      ['L', nextPoints[0].x, nextPoints[0].y],\n      ['Z']\n    );\n  } else if (isPyramid) {\n    // \n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', (points[2].x + points[3].x) / 2, (points[2].y + points[3].y) / 2],\n      ['Z']\n    );\n  } else {\n    // \n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', points[2].x, points[2].y],\n      ['L', points[3].x, points[3].y],\n      ['Z']\n    );\n  }\n\n  return path;\n}\n\n/**\n * \n */\nfunction swap<T>(p0: T, p1: T) {\n  return [p1, p0];\n}\n\n/**\n *   \n * - \n */\nexport function getRectWithCornerRadius(points: Point[], coordinate: Coordinate, radius?: number | number[]) {\n  //  \n  let [p0, p1, p2, p3] = [...points];\n  let [r1, r2, r3, r4] = typeof radius === 'number' ? Array(4).fill(radius) : radius;\n\n  if (coordinate.isTransposed) {\n    [p1, p3] = swap(p1, p3);\n  }\n\n  /**\n   * \n   */\n  if (coordinate.isReflect('y')) {\n    [p0, p1] = swap(p0, p1);\n    [p2, p3] = swap(p2, p3);\n  }\n  if (coordinate.isReflect('x')) {\n    [p0, p3] = swap(p0, p3);\n    [p1, p2] = swap(p1, p2);\n  }\n\n  const path = [];\n\n\n  /**\n   *  p1  p2\n   *      \n   *  p0  p3\n   *\n   *  \n   *\n   *  p0  p3               p2  p1\n   *                           \n   *  p1  p2  --> ()  p3  p0\n   */\n  const abs = v => Math.abs(v);\n  [r1, r2, r3, r4] = parseRadius([r1, r2, r3, r4], Math.min(abs(p3.x - p0.x), abs(p1.y - p0.y))).map(d => abs(d));\n\n  if (coordinate.isTransposed) {\n    [r1, r2, r3, r4] = [r4, r1, r2, r3]\n  }\n\n  if (p0.y < p1.y /**  */) {\n    path.push(['M', p3.x, p3.y + r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 0, p3.x - r3, p3.y]);\n    path.push(['L', p0.x + r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 0, p0.x, p0.y + r4]);\n    path.push(['L', p1.x, p1.y - r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 0/**  */, p1.x + r1, p1.y]);\n    path.push(['L', p2.x - r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 0, p2.x, p2.y - r2]);\n    path.push(['L', p3.x, p3.y + r3]);\n    path.push(['z']);\n  } else if (p3.x < p0.x) {\n    path.push(['M', p2.x + r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 0, p2.x, p2.y + r2]);\n    path.push(['L', p3.x, p3.y - r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 0, p3.x + r3, p3.y]);\n    path.push(['L', p0.x - r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 0, p0.x, p0.y - r4]);\n    path.push(['L', p1.x, p1.y + r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 0, p1.x - r1, p1.y]);\n    path.push(['L', p2.x + r2, p2.y]);\n    path.push(['z']);\n  } else {\n    path.push(['M', p1.x, p1.y + r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 1, p1.x + r1, p1.y]);\n    path.push(['L', p2.x - r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 1, p2.x, p2.y + r2]);\n    path.push(['L', p3.x, p3.y - r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 1, p3.x - r3, p3.y]);\n    path.push(['L', p0.x + r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 1, p0.x, p0.y - r4]);\n    path.push(['L', p1.x, p1.y + r1]);\n    path.push(['z']);\n  }\n\n  return path;\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { BACKGROUND_SHAPE } from '../constant';\nimport { getBackgroundRectStyle, getStyle } from '../util/get-style';\nimport { getBackgroundRectPath, getIntervalRectPath, getRectPoints, getRectWithCornerRadius } from './util';\n\n/** Interval  shape  */\nconst IntervalShapeFactory = registerShapeFactory('interval', {\n  defaultShapeType: 'rect',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return getRectPoints(pointInfo);\n  },\n});\n\n/** Inerval  shape */\nregisterShape('interval', 'rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    let group = container;\n\n    const backgroundCfg = cfg?.background;\n    if (backgroundCfg) {\n      group = container.addGroup();\n      const backgroundStyle = getBackgroundRectStyle(cfg);\n      const backgroundPath = getBackgroundRectPath(cfg, this.parsePoints(cfg.points) as Point[], this.coordinate);\n      group.addShape('path', {\n        attrs: {\n          ...backgroundStyle,\n          path: backgroundPath,\n        },\n        zIndex: -1,\n        name: BACKGROUND_SHAPE,\n      });\n    }\n\n    let path;\n    if (style.radius && this.coordinate.isRect) {\n      path = getRectWithCornerRadius(this.parsePoints(cfg.points), this.coordinate, style.radius);\n    } else {\n      path = this.parsePath(getIntervalRectPath(cfg.points as Point[], style.lineCap, this.coordinate));\n    }\n\n    const shape = group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return backgroundCfg ? group : shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default IntervalShapeFactory;\n","import { flatten, isString, valuesOfKey, isNil } from '@antv/util';\nimport { getXDimensionLength } from '../../util/coordinate';\n\n// \nfunction findMinDistance(arr, scale) {\n  const count = arr.length;\n  let sourceArr = arr;\n  if (isString(sourceArr[0])) {\n    //  values \n    sourceArr = arr.map((v: string) => {\n      return scale.translate(v);\n    });\n  }\n  let distance = sourceArr[1] - sourceArr[0];\n  for (let i = 2; i < count; i++) {\n    const tmp = sourceArr[i] - sourceArr[i - 1];\n    if (distance > tmp) {\n      distance = tmp;\n    }\n  }\n  return distance;\n}\n\nfunction getDodgeCount(dataArray, dodgeBy) {\n  if (dodgeBy) {\n    const mergeData = flatten(dataArray);\n    const values = valuesOfKey(mergeData, dodgeBy);\n    return values.length;\n  }\n\n  return dataArray.length;\n}\n\n/** @ignore */\nexport function getDefaultSize(geometry): number {\n  const theme = geometry.theme;\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const xValues = xScale.values;\n  const dataArray = geometry.beforeMappingData;\n  let count: number = xValues.length;\n  const xDimensionLength = getXDimensionLength(geometry.coordinate);\n  // \n  const { intervalPadding, dodgePadding } = geometry;\n  // theme\n  const maxColumnWidth = geometry.maxColumnWidth || theme.maxColumnWidth;\n  const minColumnWidth = geometry.minColumnWidth || theme.minColumnWidth;\n  const columnWidthRatio = geometry.columnWidthRatio || theme.columnWidthRatio;\n  const multiplePieWidthRatio = geometry.multiplePieWidthRatio || theme.multiplePieWidthRatio;\n  const roseWidthRatio = geometry.roseWidthRatio || theme.roseWidthRatio;\n\n  // count\n  if (xScale.isLinear && xValues.length > 1) {\n    // Linear  min, max  count\n    xValues.sort();\n    const interval = findMinDistance(xValues, xScale);\n    count = (xScale.max - xScale.min) / interval;\n    if (xValues.length > count) {\n      count = xValues.length;\n    }\n  }\n\n  const range = xScale.range;\n  let normalizedSize = 1 / count;\n  let wr = 1;\n  if (coordinate.isPolar) {\n    // \n    if (coordinate.isTransposed && count > 1) {\n      // \n      wr = multiplePieWidthRatio;\n    } else {\n      wr = roseWidthRatio;\n    }\n  } else {\n    // \n    if (xScale.isLinear) {\n      normalizedSize *= range[1] - range[0];\n    }\n    wr = columnWidthRatio;\n  }\n\n  // \n  if (!isNil(intervalPadding) && intervalPadding >= 0) {\n    // \n    const normalizedIntervalPadding = intervalPadding / xDimensionLength;\n    normalizedSize = (1 - (count - 1) * normalizedIntervalPadding) / count;\n  } else {\n    // \n    normalizedSize *= wr;\n  }\n  // \n  if (geometry.getAdjust('dodge')) {\n    const dodgeAdjust = geometry.getAdjust('dodge');\n    const dodgeBy = dodgeAdjust.dodgeBy;\n    const dodgeCount = getDodgeCount(dataArray, dodgeBy);\n    if (!isNil(dodgePadding) && dodgePadding >= 0) {\n      // \n      const normalizedDodgePadding = dodgePadding / xDimensionLength;\n      normalizedSize = (normalizedSize - normalizedDodgePadding * (dodgeCount - 1)) / dodgeCount;\n    } else if (!isNil(intervalPadding) && intervalPadding >= 0) {\n      // wr\n      normalizedSize *= wr;\n      normalizedSize = normalizedSize / dodgeCount;\n    } else {\n      // \n      normalizedSize = normalizedSize / dodgeCount;\n    }\n    normalizedSize = normalizedSize >= 0 ? normalizedSize : 0;\n  }\n\n  // \n  if (!isNil(maxColumnWidth) && maxColumnWidth >= 0) {\n    const normalizedMaxColumnWidth = maxColumnWidth / xDimensionLength;\n    if (normalizedSize > normalizedMaxColumnWidth) {\n      normalizedSize = normalizedMaxColumnWidth;\n    }\n  }\n\n  // \bminColumnWidth0\n  if (!isNil(minColumnWidth) && minColumnWidth >= 0) {\n    const normalizedMinColumnWidth = minColumnWidth / xDimensionLength;\n    if (normalizedSize < normalizedMinColumnWidth) {\n      normalizedSize = normalizedMinColumnWidth;\n    }\n  }\n\n  return normalizedSize;\n}\n","import { get } from '@antv/util';\nimport { Datum, MappingDatum, ShapeInfo, LooseObject } from '../interface';\nimport { ShapeAttrs } from '../dependents';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry, { GeometryCfg } from './base';\n/**  ShapeFactory */\nimport './shape/interval';\nimport { getDefaultSize } from './util/shape-size';\nimport { getMaxScale } from '../util/scale';\n\n/** Path  */\nexport interface IntervalCfg extends GeometryCfg {\n  /** shape  Interval Geometry  interval-rect shape  */\n  background?: { style?: ShapeAttrs };\n}\n\n/**\n * Interval \n * \n */\nexport default class Interval extends Geometry {\n  public readonly type: string = 'interval';\n  public readonly shapeType: string = 'interval';\n  /** shape  interval-rect shape  */\n  protected background?: { style?: ShapeAttrs };\n  protected generatePoints: boolean = true;\n\n  constructor(cfg: IntervalCfg) {\n    super(cfg);\n\n    const { background } = cfg;\n    this.background = background;\n  }\n\n  /**\n   *  Shape \n   * @param obj  ->  -> adjust \n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg = super.createShapePointsCfg(obj);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, obj)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n\n  /**\n   *  y  scale \n   *  Y  0  \n   */\n  protected adjustScale() {\n    super.adjustScale();\n    const yScale = this.getYScale();\n    // \n    if (this.coordinate.type === 'theta') {\n      yScale.change({\n        nice: false,\n        min: 0,\n        //  stack yScale  max this.updateStackRange()\n        max: getMaxScale(yScale),\n      });\n    } else {\n      //  0 \n      const scaleDefs = this.scaleDefs;\n      const { field, min, max, type } = yScale;\n      if (type !== 'time') {\n        // time \n        //  Y  0 \n        if (min > 0 && !get(scaleDefs, [field, 'min'])) {\n          yScale.change({\n            min: 0,\n          });\n        }\n        //  0 \n        if (max <= 0 && !get(scaleDefs, [field, 'max'])) {\n          yScale.change({\n            max: 0,\n          });\n        }\n      }\n    }\n  }\n\n  /**\n   * @override\n   */\n  protected getDrawCfg(mappingData: MappingDatum): ShapeInfo {\n    const shapeCfg = super.getDrawCfg(mappingData);\n    shapeCfg.background = this.background;\n\n    return shapeCfg;\n  }\n}\n","import Path, { PathCfg } from './path';\n/**  Path  ShapeFactory */\nimport './shape/line';\n\n/**\n * Line \n * \n */\nexport default class Line extends Path {\n  public type: string = 'line';\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { sortable = false } = cfg; //  X \n    this.sortable = sortable;\n  }\n}\n","import { IGroup, IShape } from '../../../dependents';\nimport { ShapeInfo } from '../../../interface';\nimport { MarkerSymbols } from '../../../util/marker';\nimport { getStyle } from '../util/get-style';\n\nexport const SHAPES = ['circle', 'square', 'bowtie', 'diamond', 'hexagon', 'triangle', 'triangle-down'];\nexport const HOLLOW_SHAPES = ['cross', 'tick', 'plus', 'hyphen', 'line'];\n\n/**\n * @ignore\n * Draws points\n * @param shape\n * @param cfg\n * @param container\n * @param shapeName\n * @param isStroke\n * @returns points\n */\nexport function drawPoints(\n  shape,\n  cfg: ShapeInfo,\n  container: IGroup,\n  shapeName: string,\n  isStroke: boolean\n): IShape | IGroup {\n  const style = getStyle(cfg, isStroke, !isStroke, 'r');\n  const points = shape.parsePoints(cfg.points);\n  let pointPosition = points[0];\n  if (cfg.isStack) {\n    pointPosition = points[1];\n  } else if (points.length > 1) {\n    const group = container.addGroup();\n    for (const point of points) {\n      group.addShape({\n        type: 'marker',\n        attrs: {\n          ...style,\n          symbol: MarkerSymbols[shapeName] || shapeName,\n          ...point,\n        },\n      });\n    }\n    return group;\n  }\n\n  return container.addShape({\n    type: 'marker',\n    attrs: {\n      ...style,\n      symbol: MarkerSymbols[shapeName] || shapeName,\n      ...pointPosition,\n    },\n  });\n}\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { splitPoints } from '../util/split-points';\nimport { drawPoints, SHAPES } from './util';\n\nconst PointShapeFactory = registerShapeFactory('point', {\n  defaultShapeType: 'hollow-circle',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\neach(SHAPES, (shapeName: string) => {\n  //  shape  hollow-shape\n  registerShape('point', `hollow-${shapeName}`, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n\nexport default PointShapeFactory;\n","import { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry from './base';\n/**  Point  ShapeFactory */\nimport './shape/point';\n\n/**\n * Point \n * \n */\nexport default class Point extends Geometry {\n  public readonly type: string = 'point';\n  public readonly shapeType: string = 'point';\n  protected generatePoints: boolean = true;\n\n  /**\n   * \n   * @param mappingDatum\n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const shapeCfg = super.getDrawCfg(mappingDatum);\n\n    return {\n      ...shapeCfg,\n      isStack: !!this.getAdjust('stack'), // \n    };\n  }\n}\n","import { each, isEmpty, isEqual, last } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getPath(points: any[]) {\n  let flag: any = points[0];\n  let i = 1;\n\n  const path = [['M', flag.x, flag.y]];\n\n  while (i < points.length) {\n    const c: any = points[i];\n    if (c.x !== points[i - 1].x || c.y !== points[i - 1].y) {\n      path.push(['L', c.x, c.y]);\n      if (c.x === flag.x && c.y === flag.y && i < points.length - 1) {\n        flag = points[i + 1];\n        path.push(['Z']);\n        path.push(['M', flag.x, flag.y]);\n        i++;\n      }\n    }\n    i++;\n  }\n\n  if (!isEqual(last(path), flag)) {\n    path.push(['L', flag.x, flag.y]);\n  }\n\n  path.push(['Z']);\n\n  return path;\n}\n\nconst PolygonShapeFactory = registerShapeFactory('polygon', {\n  defaultShapeType: 'polygon',\n  getDefaultPoints(pointInfo: ShapePoint) {\n    const points = [];\n    each(pointInfo.x as number[], (subX, index) => {\n      const subY = pointInfo.y[index];\n      points.push({\n        x: subX,\n        y: subY,\n      });\n    });\n    return points;\n  },\n});\n\nregisterShape('polygon', 'polygon', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    if (!isEmpty(cfg.points)) {\n      const shapeAttrs = getStyle(cfg, true, true);\n      const path = this.parsePath(getPath(cfg.points));\n      return container.addShape('path', {\n        attrs: {\n          ...shapeAttrs,\n          path,\n        },\n        name: 'polygon',\n      });\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default PolygonShapeFactory;\n","import { isArray } from '@antv/util';\nimport { Datum } from '../interface';\nimport Geometry from './base';\n/**  Path  ShapeFactory */\nimport './shape/polygon';\n\n/**\n * Polygon \n * \n */\nexport default class Polygon extends Geometry {\n  public readonly type: string = 'polygon';\n  public readonly shapeType: string = 'polygon';\n  protected generatePoints: boolean = true;\n\n  /**\n   *  Shape \n   * @param obj\n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg: any = super.createShapePointsCfg(obj);\n    let x = cfg.x;\n    let y = cfg.y;\n    let temp;\n    // x y \n    if (!(isArray(x) && isArray(y))) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xCount = xScale.values.length;\n      const yCount = yScale.values.length;\n      const xOffset = (0.5 * 1) / xCount;\n      const yOffset = (0.5 * 1) / yCount;\n\n      if (xScale.isCategory && yScale.isCategory) {\n        // x,y\n        x = [x - xOffset, x - xOffset, x + xOffset, x + xOffset];\n        y = [y - yOffset, y + yOffset, y + yOffset, y - yOffset];\n      } else if (isArray(x)) {\n        // x \n        temp = x;\n        x = [temp[0], temp[0], temp[1], temp[1]];\n        y = [y - yOffset / 2, y + yOffset / 2, y + yOffset / 2, y - yOffset / 2];\n      } else if (isArray(y)) {\n        // y \n        temp = y;\n        y = [temp[0], temp[1], temp[1], temp[0]];\n        x = [x - xOffset / 2, x - xOffset / 2, x + xOffset / 2, x + xOffset / 2];\n      }\n      cfg.x = x;\n      cfg.y = y;\n    }\n    return cfg;\n  }\n}\n","import { LooseObject } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry from './base';\n/**  ShapeFactory */\nimport './shape/schema';\nimport { getDefaultSize } from './util/shape-size';\n\n/**\n * Schema \n */\nexport default class Schema extends Geometry {\n  public readonly type: string = 'schema';\n  public readonly shapeType: string = 'schema';\n  protected generatePoints: boolean = true;\n\n  /**\n   *  Shape \n   * @param record\n   * @returns\n   */\n  protected createShapePointsCfg(record: LooseObject) {\n    const cfg = super.createShapePointsCfg(record);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, record)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n}\n","import { registerShapeFactory } from '../base';\n\nconst SchemaShapeFactory = registerShapeFactory('schema', {\n  defaultShapeType: '', // 'schema' is for some custom shapes, so will not specify defaultShapeType\n});\n\nexport default SchemaShapeFactory;\n","import { each, max, map, isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg, ViolinShapePoint } from '../../../interface';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\nfunction normalizeSize(arr: number[]) {\n  if (!isArray(arr)) {\n    return [];\n  }\n  const maxValue = max(arr);\n  return map(arr, (num) => num / maxValue);\n}\n\nconst ViolinShapeFactory = registerShapeFactory('violin', {\n  defaultShapeType: 'violin',\n  getDefaultPoints(pointInfo: ViolinShapePoint) {\n    const radius = pointInfo.size / 2;\n    const points = [];\n    const sizeArr = normalizeSize(pointInfo._size);\n\n    each(pointInfo.y as number[], (y, index) => {\n      const offset = sizeArr[index] * radius;\n      const isMin = index === 0;\n      const isMax = index === (pointInfo.y as number[]).length - 1;\n      points.push({\n        isMin,\n        isMax,\n        x: (pointInfo.x as number) - offset,\n        y,\n      });\n      points.unshift({\n        isMin,\n        isMax,\n        x: (pointInfo.x as number) + offset,\n        y,\n      });\n    });\n    return points;\n  },\n});\n\nregisterShape('violin', 'violin', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const shapeAttrs = getStyle(cfg, true, true);\n    const path = this.parsePath(getViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...shapeAttrs,\n        path,\n      },\n      name: 'violin',\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default ViolinShapeFactory;\n","import { get } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Datum, ViolinShapePoint } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport { getDefaultSize } from './util/shape-size';\nimport Geometry from './base';\n/**  Path  ShapeFactory */\nimport './shape/violin';\n\n/**\n * Violin \n * \n */\nexport default class Violin extends Geometry<ViolinShapePoint> {\n  public readonly type: string = 'violin';\n  public readonly shapeType: string = 'violin';\n  protected generatePoints: boolean = true;\n  /** size  */\n  private _sizeField: string;\n\n  /**\n   *  Shape \n   * @param record\n   * @returns\n   */\n  protected createShapePointsCfg(record: Datum) {\n    const cfg = super.createShapePointsCfg(record);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, record)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n    cfg._size = get(record[FIELD_ORIGIN], [this._sizeField]);\n    return cfg;\n  }\n\n  /**\n   * @override\n   */\n  protected initAttributes() {\n    const { attributeOption } = this;\n    const sizeField = attributeOption.size\n      ? attributeOption.size.fields[0]\n      : this._sizeField\n      ? this._sizeField\n      : 'size';\n    this._sizeField = sizeField;\n    // fixme \n    delete attributeOption.size;\n    super.initAttributes();\n  }\n}\n","import { each } from '@antv/util';\nimport { Point } from '../../../interface';\n\n/**\n * @ignore\n * Gets cpath\n * @param from\n * @param to\n * @returns\n */\nexport function getCPath(from: Point, to: Point) {\n  return ['C', (from.x * 1) / 2 + (to.x * 1) / 2, from.y, (from.x * 1) / 2 + (to.x * 1) / 2, to.y, to.x, to.y];\n}\n\n/**\n * @ignore\n * Gets qpath\n * @param to\n * @param center\n * @returns\n */\nexport function getQPath(to: Point, center: Point) {\n  const points = [];\n  points.push({\n    x: center.x,\n    y: center.y,\n  });\n  points.push(to);\n\n  const sub = ['Q'];\n  each(points, (point) => {\n    sub.push(point.x, point.y);\n  });\n\n  return sub;\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { getArcPath } from '../../../util/graphics';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath, getQPath } from './util';\n\nfunction getArcShapePath(from: Point, to: Point, center: Point) {\n  const sub = getQPath(to, center);\n  const path = [['M', from.x, from.y]];\n  path.push(sub);\n  return path;\n}\n\nfunction getArcShapeWeightPath(points: Point[], center: Point) {\n  const arc1 = getQPath(points[1], center);\n  const arc2 = getQPath(points[3], center);\n  const path = [['M', points[0].x, points[0].y]];\n  path.push(arc2);\n  path.push(['L', points[3].x, points[3].y]);\n  path.push(['L', points[2].x, points[2].y]);\n  path.push(arc1);\n  path.push(['L', points[1].x, points[1].y]);\n  path.push(['L', points[0].x, points[0].y]);\n  path.push(['Z']);\n  return path;\n}\n\n// \nregisterShape('edge', 'arc', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n\n    let points = cfg.points as Point[];\n    const type = points.length > 2 ? 'weight' : 'normal';\n    let path;\n    if (cfg.isInCircle) {\n      const center = { x: 0, y: 1 };\n      if (type === 'normal') {\n        path = getArcShapePath(points[0], points[1], center);\n      } else {\n        style.fill = style.stroke;\n        path = getArcShapeWeightPath(points, center);\n      }\n      path = this.parsePath(path);\n\n      return container.addShape('path', {\n        attrs: {\n          ...style,\n          path,\n        },\n      });\n    } else {\n      if (type === 'normal') {\n        points = this.parsePoints(points);\n        path = getArcPath(\n          (points[1].x + points[0].x) / 2,\n          points[0].y,\n          Math.abs(points[1].x - points[0].x) / 2,\n          Math.PI,\n          Math.PI * 2\n        );\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      } else {\n        const c1 = getCPath(points[1], points[3]);\n        const c2 = getCPath(points[2], points[0]);\n\n        path = [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          c1,\n          ['L', points[3].x, points[3].y],\n          ['L', points[2].x, points[2].y],\n          c2,\n          ['Z'],\n        ];\n        path = this.parsePath(path);\n        style.fill = style.stroke;\n\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      }\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath } from './util';\n\nfunction getSmoothPath(from: Point, to: Point) {\n  const sub = getCPath(from, to);\n  const path = [['M', from.x, from.y]];\n\n  path.push(sub);\n  return path;\n}\n\nregisterShape('edge', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getSmoothPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getShapeAttrs } from './util';\n\n/**\n * \n */\nregisterShape('area', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, true, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/**\n * \n */\nregisterShape('area', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, false, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/**  */\nregisterShape('area', 'smooth-line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, true, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nconst CORNER_PERCENT = 1 / 3;\n\nfunction getVHVPath(from: Point, to: Point) {\n  const points = [];\n  points.push({\n    x: from.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push({\n    x: to.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push(to);\n\n  const path = [['M', from.x, from.y]];\n  each(points, (point) => {\n    path.push(['L', point.x, point.y]);\n  });\n\n  return path;\n}\n\nregisterShape('edge', 'vhv', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getVHVPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getRectPath } from './util';\nimport { omit } from '../../../util/helper';\n\n//  Line \nfunction getLinePoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0 } = pointInfo;\n\n  if (isArray(y)) {\n    return y.map((yItem, idx) => {\n      return {\n        x: isArray(x) ? x[idx] : x,\n        y: yItem,\n      };\n    });\n  }\n\n  //  y0 \n  return [\n    { x: x as number, y: y0 },\n    { x: x as number, y },\n  ];\n}\n\nregisterShape('interval', 'line', {\n  getPoints(shapePoint: ShapePoint) {\n    return getLinePoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const newStyle = omit({ ...style }, ['fill']);\n    const path = this.parsePath(getRectPath(cfg.points as Point[], false));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...newStyle,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x, y - r],\n          ['L', x, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\n//  tick shape  6 \nfunction getTickPoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  const xMax = (x as number) + size / 2;\n  const xMin = (x as number) - size / 2;\n\n  // tick \n  // 4 - 1 - 5\n  //     |\n  // 2 - 0 - 3\n  return [\n    { x: x as number, y: yMin },\n    { x: x as number, y: yMax },\n    { x: xMin, y: yMin },\n    { x: xMax, y: yMin },\n    { x: xMin, y: yMax },\n    { x: xMax, y: yMax },\n  ];\n}\n\n//  tick  path\nfunction getTickPath(points: Point[]) {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n  ];\n}\n\n/** I  error bar chart */\nregisterShape('interval', 'tick', {\n  getPoints(shapePoint: ShapePoint) {\n    return getTickPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getTickPath(cfg.points as Point[]));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x - r / 2, y - r],\n          ['L', x + r / 2, y - r],\n          ['M', x, y - r],\n          ['L', x, y + r],\n          ['M', x - r / 2, y + r],\n          ['L', x + r / 2, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/**  */\nregisterShape('interval', 'funnel', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; //  size \n    return getRectPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], false));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { BACKGROUND_SHAPE } from '../constant';\nimport { getBackgroundRectStyle, getStyle } from '../util/get-style';\nimport { getBackgroundRectPath, getRectPath } from './util';\n\n/**  */\nregisterShape('interval', 'hollow-rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    let group = container;\n    const backgroundCfg = cfg?.background;\n    if (backgroundCfg) {\n      group = container.addGroup();\n      const backgroundStyle = getBackgroundRectStyle(cfg);\n      const backgroundPath = getBackgroundRectPath(cfg, this.parsePoints(cfg.points) as Point[], this.coordinate);\n      group.addShape('path', {\n        attrs: {\n          ...backgroundStyle,\n          path: backgroundPath,\n        },\n        zIndex: -1,\n        name: BACKGROUND_SHAPE,\n      });\n    }\n\n    const path = this.parsePath(getRectPath(cfg.points as Point[]));\n    const shape = group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return backgroundCfg ? group : shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/**  */\nregisterShape('interval', 'pyramid', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; //  size \n    return getRectPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], true));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLineMarker } from './util';\n\nconst interpolateCallback = (point: Point, nextPoint: Point, shapeType: string) => {\n  const x = point.x as number;\n  const y = point.y as number;\n  const nextX = nextPoint.x as number;\n  const nextY = nextPoint.y as number;\n  let result;\n\n  switch (shapeType) {\n    case 'hv':\n      result = [{ x: nextX, y }];\n      break;\n    case 'vh':\n      result = [{ x, y: nextY }];\n      break;\n    case 'hvh':\n      const middleX = (nextX + x) / 2;\n      result = [\n        { x: middleX, y },\n        { x: middleX, y: nextY },\n      ];\n      break;\n    case 'vhv':\n      const middleY = (y + nextY) / 2;\n      result = [\n        { x, y: middleY },\n        { x: nextX, y: middleY },\n      ];\n      break;\n    default:\n      break;\n  }\n\n  return result;\n};\n\nfunction getInterpolatePoints(points: Point[], shapeType: string) {\n  let result = [];\n  each(points, (point: Point, index) => {\n    const nextPoint = points[index + 1];\n    result.push(point);\n    if (nextPoint) {\n      const interpolatePoint = interpolateCallback(point, nextPoint, shapeType);\n      result = result.concat(interpolatePoint);\n    }\n  });\n  return result;\n}\n\n// pathnull\nfunction getInterpolatePath(points: Point[]) {\n  return points.map((point, index) => {\n    return index === 0 ? ['M', point.x, point.y] : ['L', point.x, point.y];\n  });\n}\n\n// \nfunction getInterpolateShapeAttrs(cfg: ShapeInfo, shapeType: string) {\n  const points = getPathPoints(cfg.points, cfg.connectNulls, cfg.showSinglePoint); //  connectNulls  points\n  let path = [];\n  each(points, (eachLinePoints) => {\n    const interpolatePoints = getInterpolatePoints(eachLinePoints, shapeType);\n    path = path.concat(getInterpolatePath(interpolatePoints));\n  });\n\n  return {\n    ...getStyle(cfg, true, false, 'lineWidth'),\n    path,\n  };\n}\n\n// step line\neach(['hv', 'vh', 'hvh', 'vhv'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const attrs = getInterpolateShapeAttrs(cfg, shapeType);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n","import { isArray, isNil } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction parseValue(value: number[]) {\n  const array = !isArray(value) ? [value] : value;\n\n  const min = array[0]; // \n  const max = array[array.length - 1]; // \n  const min1 = array.length > 1 ? array[1] : min;\n  const max1 = array.length > 3 ? array[3] : max;\n  const median = array.length > 2 ? array[2] : min1;\n\n  return {\n    min, // \n    max, // \n    min1,\n    max1,\n    median,\n  };\n}\n\nfunction getBoxPoints(x: number | number[], y: number | number[], size: number): Point[] {\n  const halfSize = size / 2;\n  let pointsArray;\n  if (isArray(y)) {\n    // 2\n    const { min, max, median, min1, max1 } = parseValue(y);\n    const minX = (x as number) - halfSize;\n    const maxX = (x as number) + halfSize;\n    pointsArray = [\n      [minX, max],\n      [maxX, max],\n      [x as number, max],\n      [x as number, max1],\n      [minX, min1],\n      [minX, max1],\n      [maxX, max1],\n      [maxX, min1],\n      [x as number, min1],\n      [x as number, min],\n      [minX, min],\n      [maxX, min],\n      [minX, median],\n      [maxX, median],\n    ];\n  } else {\n    // \n    y = isNil(y) ? 0.5 : y;\n    const { min, max, median, min1, max1 } = parseValue(x as number[]);\n    const minY = y - halfSize;\n    const maxY = y + halfSize;\n    pointsArray = [\n      [min, minY],\n      [min, maxY],\n      [min, y],\n      [min1, y],\n      [min1, minY],\n      [min1, maxY],\n      [max1, maxY],\n      [max1, minY],\n      [max1, y],\n      [max, y],\n      [max, minY],\n      [max, maxY],\n      [median, minY],\n      [median, maxY],\n    ];\n  }\n\n  return pointsArray.map((arr) => {\n    return {\n      x: arr[0],\n      y: arr[1],\n    };\n  });\n}\n\nfunction getBoxPath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['L', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n    ['L', points[4].x, points[4].y], //  z\n    ['Z'],\n    ['M', points[8].x, points[8].y],\n    ['L', points[9].x, points[9].y],\n    ['M', points[10].x, points[10].y],\n    ['L', points[11].x, points[11].y],\n    ['M', points[12].x, points[12].y],\n    ['L', points[13].x, points[13].y],\n  ];\n}\n\n// box shape\nregisterShape('schema', 'box', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getBoxPoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getBoxPath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y - 6, y - 3, y, y + 3, y + 6];\n        const points = getBoxPoints(x, yValues, r);\n        return [\n          ['M', points[0].x + 1, points[0].y],\n          ['L', points[1].x - 1, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['M', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['L', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n          ['L', points[4].x, points[4].y],\n          ['Z'],\n          ['M', points[8].x, points[8].y],\n          ['L', points[9].x, points[9].y],\n          ['M', points[10].x + 1, points[10].y],\n          ['L', points[11].x - 1, points[11].y],\n          ['M', points[12].x, points[12].y],\n          ['L', points[13].x, points[13].y],\n        ];\n      },\n      style: {\n        r: 6,\n        lineWidth: 1,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { padEnd } from '../../../util/helper';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getCandleYValues(value: number | number[]) {\n  const array = !isArray(value) ? [value] : value;\n  // \n  const sorted = array.sort((a, b) => b - a);\n  return padEnd(sorted, 4, sorted[sorted.length - 1]);\n}\n\n// get candle shape's key points\nfunction getCandlePoints(x: number, y: number[], size: number): Point[] {\n  const yValues = getCandleYValues(y);\n  return [\n    { x, y: yValues[0] },\n    { x, y: yValues[1] },\n    { x: x - size / 2, y: yValues[2] },\n    { x: x - size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[2] },\n    { x, y: yValues[2] },\n    { x, y: yValues[3] },\n  ];\n}\n\nfunction getCandlePath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['L', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['Z'],\n    ['M', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n  ];\n}\n\n// k line shape\nregisterShape('schema', 'candle', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getCandlePoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, true);\n    const path = this.parsePath(getCandlePath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y + 7.5, y + 3, y - 3, y - 7.5];\n        const points = getCandlePoints(x, yValues, r);\n        return [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['L', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['Z'],\n          ['M', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n        ];\n      },\n      style: {\n        lineWidth: 1,\n        stroke: color,\n        fill: color,\n        r: 6,\n      },\n    };\n  },\n});\n","import { isEmpty, clamp } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getRectAttrs(points: any[], size: number) {\n  const width = Math.abs(points[0].x - points[2].x);\n  const height = Math.abs(points[0].y - points[2].y);\n\n  let len = Math.min(width, height);\n  if (size) {\n    len = clamp(size, 0, Math.min(width, height));\n  }\n  len = len / 2;\n  const centerX = (points[0].x + points[2].x) / 2;\n  const centerY = (points[0].y + points[2].y) / 2;\n\n  return {\n    x: centerX - len,\n    y: centerY - len,\n    width: len * 2,\n    height: len * 2,\n  };\n}\n\nregisterShape('polygon', 'square', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    if (!isEmpty(cfg.points)) {\n      const shapeAttrs = getStyle(cfg, true, true);\n      const points = this.parsePoints(cfg.points); // \n      return container.addShape('rect', {\n        attrs: {\n          ...shapeAttrs,\n          ...getRectAttrs(points, cfg.size), //  rect \n        },\n        name: 'polygon',\n      });\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, HOLLOW_SHAPES } from './util';\n\n//  hollowShape\neach(HOLLOW_SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName],\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nregisterShape('point', 'image', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const { r: size } = getStyle(cfg, false, false, 'r');\n    const points = this.parsePoints(cfg.points);\n    let pointPosition = points[0];\n    if (cfg.isStack) {\n      pointPosition = points[1];\n    } else if (points.length > 1) {\n      const group = container.addGroup();\n      for (const point of points) {\n        group.addShape('image', {\n          attrs: {\n            x: (point.x as number) - size / 2,\n            y: (point.y as number) - size,\n            width: size,\n            height: size,\n            img: cfg.shape[1],\n          },\n        });\n      }\n\n      return group;\n    }\n\n    return container.addShape('image', {\n      attrs: {\n        x: (pointPosition.x as number) - size / 2,\n        y: (pointPosition.y as number) - size,\n        width: size,\n        height: size,\n        img: cfg.shape[1],\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, SHAPES } from './util';\n\n//  SHAPES \neach(SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, false);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    },\n  });\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getSmoothViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\n/**\n * \n */\nregisterShape('violin', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, true);\n    const path = this.parsePath(getSmoothViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        stroke: null,\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup, Point } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getSmoothViolinPath, getViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\n/**\n * \n */\nregisterShape('violin', 'hollow', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, false);\n    const path = this.parsePath(getViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: null,\n        stroke: color,\n      },\n    };\n  },\n});\n\n/**\n * \n */\nregisterShape('violin', 'hollow-smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, false);\n    const path = this.parsePath(getSmoothViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: null,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { get, deepMix, isArray } from '@antv/util';\nimport { Writeable } from '../../util/types';\nimport { MappingDatum, Point } from '../../interface';\nimport GeometryLabel from './base';\nimport { LabelCfg, LabelItem, LabelPointCfg, TextAlign } from './interface';\n\n/**\n *  label\n */\nexport default class IntervalLabel extends GeometryLabel {\n  /**\n   *  interval label  value \n   * @param labelCfg\n   */\n  private getLabelValueDir(mappingData: MappingDatum) {\n    // points  x/y  transpose \n    const dim = 'y';\n    const { points } = mappingData;\n\n    return points[0][dim] <= points[2][dim] ? 1 : -1;\n  }\n\n  /**\n   *  interval  label \n   * @param labelCfg\n   * @param index\n   * @param total\n   */\n  protected getLabelOffsetPoint(labelCfg: LabelCfg, index: number, total: number, position?: string) {\n    let point = super.getLabelOffsetPoint(labelCfg, index, total);\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const dim = transposed ? 'x' : 'y';\n    const dir = this.getLabelValueDir(labelCfg.mappingData);\n    point = { ...point, [dim]: point[dim] * dir };\n\n    if (coordinate.isReflect('x')) {\n      point = {\n        ...point,\n        x: point.x * -1,\n      };\n    }\n    if (coordinate.isReflect('y')) {\n      point = {\n        ...point,\n        y: point.y * -1,\n      };\n    }\n\n    return point;\n  }\n\n  /**\n   *  interval label \n   * @param labelCfg\n   */\n  protected getThemedLabelCfg(labelCfg: LabelCfg) {\n    const geometry = this.geometry;\n    const defaultLabelCfg = this.getDefaultLabelCfg();\n    const { theme } = geometry;\n\n    //  interval label position  middle offset  0\n    return deepMix({}, defaultLabelCfg, theme.labels, labelCfg.position === 'middle' ? { offset: 0 } : {}, labelCfg);\n  }\n\n  protected setLabelPosition(\n    labelPointCfg: Writeable<LabelPointCfg>,\n    mappingData: MappingDatum,\n    index: number,\n    position: string\n  ) {\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const shapePoints = mappingData.points as Point[];\n    const point0 = coordinate.convert(shapePoints[0]);\n    const point2 = coordinate.convert(shapePoints[2]);\n    const dir = this.getLabelValueDir(mappingData);\n\n    let top;\n    let right;\n    let bottom;\n    let left;\n\n    const shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n    if (shape === 'funnel' || shape === 'pyramid') {\n      // \n      const nextPoints = get(mappingData, 'nextPoints');\n      const points = get(mappingData, 'points');\n      if (nextPoints) {\n        // \n        const p0 = coordinate.convert(points[0] as Point);\n        const p1 = coordinate.convert(points[1] as Point);\n        const nextP0 = coordinate.convert(nextPoints[0] as Point);\n        const nextP1 = coordinate.convert(nextPoints[1] as Point);\n\n        // TODO: \n        if (transposed) {\n          top = Math.min(nextP0.y, p0.y);\n          bottom = Math.max(nextP0.y, p0.y);\n          right = (p1.x + nextP1.x) / 2;\n          left = (p0.x + nextP0.x) / 2;\n        } else {\n          top = Math.min((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n          bottom = Math.max((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n          right = nextP1.x;\n          left = p0.x;\n        }\n      } else {\n        top = Math.min(point2.y, point0.y);\n        bottom = Math.max(point2.y, point0.y);\n        right = point2.x;\n        left = point0.x;\n      }\n    } else {\n      top = Math.min(point2.y, point0.y);\n      bottom = Math.max(point2.y, point0.y);\n      right = point2.x;\n      left = point0.x;\n    }\n\n    switch (position) {\n      case 'right':\n        labelPointCfg.x = right;\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n        break;\n      case 'left':\n        labelPointCfg.x = left;\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n        break;\n      case 'bottom':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = bottom;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n        break;\n      case 'middle':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', 'middle');\n        break;\n      case 'top':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = top;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n        break;\n      default:\n        break;\n    }\n  }\n}\n","import { each, get, isArray, map, isNumber, isString } from '@antv/util';\nimport { MappingDatum, Point } from '../../interface';\nimport { getDistanceToCenter } from '../../util/coordinate';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport GeometryLabel from './base';\nimport { LabelCfg, LabelItem, PolarLabelItem, LabelPointCfg, Writeable } from './interface';\n\nconst HALF_PI = Math.PI / 2;\n\n/**\n *  label\n */\nexport default class PolarLabel extends GeometryLabel {\n  /**\n   * @override\n   * @desc  label offset\n   * polar & theta coordinate supportstringtype, should transform to number\n   */\n  protected getLabelOffset(offset: number | string): number {\n    const coordinate = this.getCoordinate();\n    let actualOffset = 0;\n    if (isNumber(offset)) {\n      actualOffset = offset;\n    } else if (isString(offset) && offset.indexOf('%') !== -1) {\n      let r = coordinate.getRadius();\n      if (coordinate.innerRadius > 0) {\n        r = r * (1 - coordinate.innerRadius);\n      }\n      actualOffset = parseFloat(offset) * 0.01 * r;\n    }\n\n    return actualOffset;\n  }\n\n  /**\n   * @override\n   *  labelItems,  percent\n   * @param mapppingArray\n   */\n  public getLabelItems(mapppingArray: MappingDatum[]): PolarLabelItem[] {\n    const items = super.getLabelItems(mapppingArray);\n    const yScale = this.geometry.getYScale();\n\n    return map(items, (item) => {\n      if (item && yScale) {\n        const percent = yScale.scale(get(item.data, yScale.field));\n        return { ...item, percent };\n      }\n      return item;\n    });\n  }\n  /**\n   * @override\n   * \n   * @param point\n   */\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    let align;\n    if (point.labelEmit) {\n      align = point.angle <= Math.PI / 2 && point.angle >= -Math.PI / 2 ? 'left' : 'right';\n    } else if (!coordinate.isTransposed) {\n      align = 'center';\n    } else {\n      const center = coordinate.getCenter();\n      const offset = point.offset;\n      if (Math.abs(point.x - center.x) < 1) {\n        align = 'center';\n      } else if (point.angle > Math.PI || point.angle <= 0) {\n        align = offset > 0 ? 'left' : 'right';\n      } else {\n        align = offset > 0 ? 'right' : 'left';\n      }\n    }\n    return align;\n  }\n\n  /**\n   * @override\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    let factor = 1;\n    let arcPoint;\n    const content = labelCfg.content[index];\n    if (this.isToMiddle(mappingData)) {\n      arcPoint = this.getMiddlePoint(mappingData.points as Point[]);\n    } else {\n      if (labelCfg.content.length === 1 && index === 0) {\n        index = 1;\n      } else if (index === 0) {\n        factor = -1;\n      }\n      arcPoint = this.getArcPoint(mappingData, index);\n    }\n\n    const offset = labelCfg.offset * factor;\n    const middleAngle = this.getPointAngle(arcPoint);\n    const isLabelEmit = labelCfg.labelEmit;\n    const labelPositionCfg: Writeable<LabelPointCfg> = this.getCirclePoint(middleAngle, offset, arcPoint, isLabelEmit);\n    if (labelPositionCfg.r === 0) {\n      // \n      labelPositionCfg.content = '';\n    } else {\n      labelPositionCfg.content = content;\n      labelPositionCfg.angle = middleAngle;\n      labelPositionCfg.color = mappingData.color;\n    }\n\n    labelPositionCfg.rotate = labelCfg.autoRotate\n      ? this.getLabelRotate(middleAngle, offset, isLabelEmit)\n      : labelCfg.rotate;\n    labelPositionCfg.start = {\n      x: arcPoint.x,\n      y: arcPoint.y,\n    };\n    return labelPositionCfg;\n  }\n\n  /**\n   * \n   */\n  protected getArcPoint(mappingData: MappingDatum, index: number = 0): Point {\n    if (!isArray(mappingData.x) && !isArray(mappingData.y)) {\n      return {\n        x: mappingData.x,\n        y: mappingData.y,\n      };\n    }\n\n    return {\n      x: isArray(mappingData.x) ? mappingData.x[index] : mappingData.x,\n      y: isArray(mappingData.y) ? mappingData.y[index] : mappingData.y,\n    };\n  }\n\n  /**\n   * \n   * @param point\n   */\n  protected getPointAngle(point: Point): number {\n    return getAngleByPoint(this.getCoordinate(), point);\n  }\n\n  /**\n   * \n   * @param angle\n   * @param offset\n   * @param point\n   * @param isLabelEmit\n   */\n  protected getCirclePoint(angle: number, offset: number, point: Point, isLabelEmit: boolean) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    let r = getDistanceToCenter(coordinate, point);\n    if (r === 0) {\n      return {\n        ...center,\n        r,\n      };\n    }\n\n    let labelAngle = angle;\n    if (coordinate.isTransposed && r > offset && !isLabelEmit) {\n      const appendAngle = Math.asin(offset / (2 * r));\n      labelAngle = angle + appendAngle * 2;\n    } else {\n      r = r + offset;\n    }\n\n    return {\n      x: center.x + r * Math.cos(labelAngle),\n      y: center.y + r * Math.sin(labelAngle),\n      r,\n    };\n  }\n\n  /**\n   *  label \n   * @param angle\n   * @param offset\n   * @param isLabelEmit\n   */\n  protected getLabelRotate(angle: number, offset: number, isLabelEmit: boolean) {\n    let rotate = angle + HALF_PI;\n    if (isLabelEmit) {\n      rotate -= HALF_PI;\n    }\n    if (rotate) {\n      if (rotate > HALF_PI) {\n        rotate = rotate - Math.PI;\n      } else if (rotate < -HALF_PI) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  // \n  private getMiddlePoint(points: Point[]) {\n    const coordinate = this.getCoordinate();\n    const count = points.length;\n    let middlePoint = {\n      x: 0,\n      y: 0,\n    };\n    each(points, (point: Point) => {\n      middlePoint.x += point.x;\n      middlePoint.y += point.y;\n    });\n    middlePoint.x /= count;\n    middlePoint.y /= count;\n\n    middlePoint = coordinate.convert(middlePoint);\n    return middlePoint;\n  }\n\n  // \n  private isToMiddle(mappingData: MappingDatum) {\n    return (mappingData.x as number[]).length > 2;\n  }\n}\n","import { deepMix, get, isArray } from '@antv/util';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { LabelItem } from './interface';\nimport PolarLabel from './polar';\n\n/**\n *  label\n */\nexport default class PieLabel extends PolarLabel {\n  public defaultLayout = 'distribute';\n\n  protected getDefaultLabelCfg(offset?: number, position?: string) {\n    const cfg = super.getDefaultLabelCfg(offset, position);\n    return deepMix({}, cfg, get(this.geometry.theme, 'pieLabels', {}));\n  }\n\n  /** @override */\n  protected getLabelOffset(offset: string | number): number {\n    return super.getLabelOffset(offset) || 0;\n  }\n\n  protected getLabelRotate(angle: number, offset: number, isLabelLimit: boolean) {\n    let rotate;\n    if (offset < 0) {\n      rotate = angle;\n      if (rotate > Math.PI / 2) {\n        rotate = rotate - Math.PI;\n      }\n      if (rotate < -Math.PI / 2) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n\n    let align;\n    if (point.angle <= Math.PI / 2 && point.x >= center.x) {\n      align = 'left';\n    } else {\n      align = 'right';\n    }\n    if (point.offset <= 0) {\n      if (align === 'right') {\n        align = 'left';\n      } else {\n        align = 'right';\n      }\n    }\n    return align;\n  }\n\n  protected getArcPoint(point) {\n    return point;\n  }\n\n  protected getPointAngle(point) {\n    const coordinate = this.getCoordinate();\n    const startPoint = {\n      x: isArray(point.x) ? point.x[0] : point.x,\n      y: point.y[0],\n    };\n    const endPoint = {\n      x: isArray(point.x) ? point.x[1] : point.x,\n      y: point.y[1],\n    };\n    let angle;\n    const startAngle = getAngleByPoint(coordinate, startPoint);\n    if (point.points && point.points[0].y === point.points[1].y) {\n      angle = startAngle;\n    } else {\n      let endAngle = getAngleByPoint(coordinate, endPoint);\n      if (startAngle >= endAngle) {\n        // 100% pie slice\n        endAngle = endAngle + Math.PI * 2;\n      }\n      angle = startAngle + (endAngle - startAngle) / 2;\n    }\n    return angle;\n  }\n\n  /** @override */\n  protected getCirclePoint(angle: number, offset: number) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    const r = coordinate.getRadius() + offset;\n    return {\n      ...polarToCartesian(center.x, center.y, r, angle),\n      angle,\n      r,\n    };\n  }\n}\n","import { isObject, each, find, get } from '@antv/util';\n\nimport { BBox, IGroup, IShape } from '../../../../dependents';\nimport { LabelItem } from '../../interface';\n\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { IElement } from '@antv/g-base';\n\n/** label textline 4px */\nconst MARGIN = 4;\n\nfunction antiCollision(labelShapes, labels, lineHeight, plotRange, center, isRight) {\n  // adjust y position of labels to avoid overlapping\n  let overlapping = true;\n  const start = plotRange.start;\n  const end = plotRange.end;\n  const startY = Math.min(start.y, end.y);\n  let totalHeight = Math.abs(start.y - end.y);\n  let i;\n\n  let maxY = 0;\n  let minY = Number.MIN_VALUE;\n  const boxes = labels.map((label) => {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n    if (label.y < minY) {\n      minY = label.y;\n    }\n    return {\n      size: lineHeight,\n      targets: [label.y - startY],\n    };\n  });\n  minY -= startY;\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach((box) => {\n      const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n      // box.pos = Math.max(0, target - box.size / 2);\n    });\n\n    // detect overlapping and join boxes\n    overlapping = false;\n    i = boxes.length;\n    while (i--) {\n      if (i > 0) {\n        const previousBox = boxes[i - 1];\n        const box = boxes[i];\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets);\n\n          // overflow, shift up\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n          boxes.splice(i, 1); // removing box\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0;\n  // step 4: normalize y and adjust x\n  boxes.forEach((b) => {\n    let posInCompositeBox = startY + lineHeight / 2; // middle of the label\n    b.targets.forEach(() => {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += lineHeight;\n      i++;\n    });\n  });\n\n  const labelsMap = {};\n  for (const labelShape of labelShapes) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  // (x - cx)^2 + (y - cy)^2 = totalR^2\n  labels.forEach((label) => {\n    const rPow2 = label.r * label.r;\n    const dyPow2 = Math.pow(Math.abs(label.y - center.y), 2);\n    if (rPow2 < dyPow2) {\n      label.x = center.x;\n    } else {\n      const dx = Math.sqrt(rPow2 - dyPow2);\n      if (!isRight) {\n        // left\n        label.x = center.x - dx;\n      } else {\n        // right\n        label.x = center.x + dx;\n      }\n    }\n\n    // adjust labelShape\n    const labelShape = labelsMap[label.id];\n    labelShape.attr('x', label.x);\n    labelShape.attr('y', label.y);\n\n    // because group could not effect text-shape, should set text-shape position manually\n    const textShape = find(labelShape.getChildren(), (ele) => ele.get('type') === 'text') as IElement;\n    // @ts-ignore\n    if (textShape) {\n      textShape.attr('y', label.y);\n      textShape.attr('x', label.x);\n    }\n  });\n}\n\nexport function distribute(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  if (!items.length || !labels.length) {\n    return;\n  }\n  const offset = items[0] ? items[0].offset : 0;\n  const coordinate = labels[0].get('coordinate');\n  const radius = coordinate.getRadius();\n  const center = coordinate.getCenter();\n\n  if (offset > 0) {\n    // const lineHeight = get(this.geometry.theme, ['pieLabels', 'labelHeight'], 14);\n    const lineHeight = 14; // TODO\n    const totalR = radius + offset;\n    const totalHeight = totalR * 2 + lineHeight * 2;\n    const plotRange = {\n      start: coordinate.start,\n      end: coordinate.end,\n    };\n\n    // step 1: separate labels\n    const halves = [\n      [], // left\n      [], // right\n    ];\n    items.forEach((labelItem) => {\n      if (!labelItem) {\n        return;\n      }\n      if (labelItem.textAlign === 'right') {\n        // left\n        halves[0].push(labelItem);\n      } else {\n        // right or center will be put on the right side\n        halves[1].push(labelItem);\n      }\n    });\n\n    halves.forEach((half, index) => {\n      // step 2: reduce labels\n      const maxLabelsCountForOneSide = totalHeight / lineHeight;\n      if (half.length > maxLabelsCountForOneSide) {\n        half.sort((a, b) => {\n          // sort by percentage DESC\n          return b['..percent'] - a['..percent'];\n        });\n        half.splice(maxLabelsCountForOneSide, half.length - maxLabelsCountForOneSide);\n      }\n\n      // step 3: distribute position (x and y)\n      half.sort((a, b) => {\n        // sort by y ASC\n        return a.y - b.y;\n      });\n\n      antiCollision(labels, half, lineHeight, plotRange, center, index);\n    });\n  }\n\n  //  labelLine\n  each(items, (item) => {\n    if (item && item.labelLine) {\n      const distance = item.offset;\n      const angle = item.angle;\n      // \n      const startPoint = polarToCartesian(center.x, center.y, radius, angle);\n      const innerPoint = polarToCartesian(center.x, center.y, radius + distance / 2, angle);\n      const itemX = item.x + get(item, 'offsetX', 0);\n      const itemY = item.y + get(item, 'offsetY', 0);\n      const endPoint = {\n        x: itemX - Math.cos(angle) * MARGIN,\n        y: itemY - Math.sin(angle) * MARGIN,\n      };\n      if (!isObject(item.labelLine)) {\n        // labelLine: true\n        item.labelLine = {};\n      }\n      item.labelLine.path = [\n        `M ${startPoint.x}`,\n        `${startPoint.y} Q${innerPoint.x}`,\n        `${innerPoint.y} ${endPoint.x}`,\n        endPoint.y,\n      ].join(',');\n    }\n  });\n}\n","import { PolarLabelItem } from '../../interface';\n\n/**\n * \n */\nexport function antiCollision(\n  items: PolarLabelItem[],\n  labelHeight: number,\n  plotRange: { minY: number; maxY: number; minX: number; maxX: number }\n) {\n  const labels = items.filter((item) => !item.invisible);\n\n  // sorted by y, mutable\n  labels.sort((a, b) => a.y - b.y);\n  // adjust y position of labels to avoid overlapping\n  let overlapping = true;\n  const startY = plotRange.minY;\n  const endY = plotRange.maxY;\n  let totalHeight = Math.abs(startY - endY);\n  let i;\n\n  let maxY = 0;\n  let minY = Number.MIN_VALUE;\n  const boxes = labels.map((label) => {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n    if (label.y < minY) {\n      minY = label.y;\n    }\n    return {\n      content: label.content,\n      size: labelHeight,\n      targets: [label.y - startY],\n      pos: null,\n    };\n  });\n\n  minY -= startY;\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach((box) => {\n      const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n      box.pos = Math.max(0, box.pos);\n    });\n\n    // detect overlapping and join boxes\n    overlapping = false;\n    i = boxes.length;\n    while (i--) {\n      if (i > 0) {\n        const previousBox = boxes[i - 1];\n        const box = boxes[i];\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets);\n\n          // overflow, shift up\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n          boxes.splice(i, 1); // removing box\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0;\n  // step 4: normalize y and adjust x\n  boxes.forEach((b) => {\n    let posInCompositeBox = startY + labelHeight / 2; // middle of the label\n    b.targets.forEach(() => {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += labelHeight;\n      i++;\n    });\n  });\n}\n","import { Coordinate } from '@antv/coord';\nimport { BBox, IGroup, IShape, IElement } from '@antv/g-base';\nimport { isObject, each, get, groupBy, isNil, filter } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { PolarLabelItem } from '../../interface';\nimport { antiCollision } from './util';\n\n/** label textline 4px */\nconst MARGIN = 4;\n\n/**\n *  labelline\n * @param item PolarLabelItem\n */\nfunction drawLabelline(item: any /** PolarLabelItem */, coordinate: Coordinate) {\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n\n  if (item && item.labelLine) {\n    const { angle, offset: labelOffset } = item;\n    // \n    const startPoint = polarToCartesian(center.x, center.y, radius, angle);\n    const itemX = item.x + get(item, 'offsetX', 0) * (Math.cos(angle) > 0 ? 1 : -1);\n    const itemY = item.y + get(item, 'offsetY', 0) * (Math.sin(angle) > 0 ? 1 : -1);\n\n    const endPoint = {\n      x: itemX - Math.cos(angle) * MARGIN,\n      y: itemY - Math.sin(angle) * MARGIN,\n    };\n\n    const smoothConnector = item.labelLine.smooth;\n    const path = [];\n    const dx = endPoint.x - center.x;\n    const dy = endPoint.y - center.y;\n    let endAngle = Math.atan(dy / dx);\n    //  & \n    if (dx < 0) {\n      endAngle += Math.PI;\n    }\n\n    //  smooth, undefined  smooth\n    if (smoothConnector === false) {\n      if (!isObject(item.labelLine)) {\n        // labelLine: true\n        item.labelLine = {};\n      }\n\n      // 0 , 1 \n      let sweepFlag = 0;\n\n      // \n      if ((angle < 0 && angle > -Math.PI / 2) || angle > Math.PI * 1.5) {\n        if (endPoint.y > startPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle >= 0 && angle < Math.PI / 2) {\n        if (endPoint.y > startPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle >= Math.PI / 2 && angle < Math.PI) {\n        if (startPoint.y > endPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle < -Math.PI / 2 || (angle >= Math.PI && angle < Math.PI * 1.5)) {\n        if (startPoint.y > endPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      const distance = labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0);\n      const breakPoint = polarToCartesian(center.x, center.y, radius + distance, angle);\n      // \n      const breakPoint3 = polarToCartesian(center.x, center.y, radius + labelOffset / 2, endAngle);\n\n      /**\n       * @example\n       * M 100 100 L100 90 A 50 50 0 0 0 150 50\n       *  (100, 100),  (100, 90),  (50, 50)  (150, 50);\n       * A  4  large-arc-flag,  180 : 0 1 \n       *  5 : \n       */\n      // \n      const largeArcFlag = 0;\n      // step1: \n      path.push(`M ${startPoint.x} ${startPoint.y}`);\n      // step2: \n      path.push(`L ${breakPoint.x} ${breakPoint.y}`);\n      // step3:   \n      path.push(`A ${center.x} ${center.y} 0 ${largeArcFlag} ${sweepFlag} ${breakPoint3.x} ${breakPoint3.y}`);\n      // step4: \n      path.push(`L ${endPoint.x} ${endPoint.y}`);\n    } else {\n      const breakPoint = polarToCartesian(\n        center.x,\n        center.y,\n        radius + (labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0)),\n        angle\n      );\n      // G2 \n      // path.push('Q', `${breakPoint.x}`, `${breakPoint.y}`, `${endPoint.x}`, `${endPoint.y}`);\n      const xSign = startPoint.x < center.x ? 1 : -1;\n      // step1: \n      path.push(`M ${endPoint.x} ${endPoint.y}`);\n      const slope1 = (startPoint.y - center.y) / (startPoint.x - center.x);\n      const slope2 = (endPoint.y - center.y) / (endPoint.x - center.x);\n      if (Math.abs(slope1 - slope2) > Math.pow(Math.E, -16)) {\n        // step2:  curve line ( & , , )\n        path.push(\n          ...[\n            'C',\n            endPoint.x + xSign * 4,\n            endPoint.y,\n            2 * breakPoint.x - startPoint.x,\n            2 * breakPoint.y - startPoint.y,\n            startPoint.x,\n            startPoint.y,\n          ]\n        );\n      }\n      // step3: \n      path.push(`L ${startPoint.x} ${startPoint.y}`);\n    }\n    item.labelLine.path = path.join(' ');\n  }\n}\n\n/**\n *  outer-label ,  type = pie  label offset > 0 \n */\nexport function pieOuterLabelLayout(\n  originalItems: PolarLabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox\n) {\n  const items = filter(originalItems, (item) => !isNil(item));\n  /**  */\n  const coordinate = labels[0] && labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  /** label shapes */\n  const labelsMap: Record<string /** id */, IGroup> = {};\n  for (const labelShape of labels) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  // note labelHeight  label \n  const labelHeight: number = get(items[0], 'labelHeight', 14);\n  const labelOffset: number = get(items[0], 'offset', 0);\n\n  if (labelOffset <= 0) {\n    return;\n  }\n\n  const LEFT_HALF_KEY = 'left';\n  const RIGHT_HALF_KEY = 'right';\n  // step 1: separate labels\n  const separateLabels = groupBy(items, (item) => (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY));\n\n  const { start, end } = coordinate;\n  // step2: calculate totalHeight\n  const totalHeight = Math.min((radius + labelOffset + labelHeight) * 2, coordinate.getHeight());\n  const totalR = totalHeight / 2;\n\n  /** labels () */\n  const labelsContainerRange = {\n    minX: start.x,\n    maxX: end.x,\n    minY: center.y - totalR,\n    maxY: center.y + totalR,\n  };\n\n  // step 3: antiCollision\n  each(separateLabels, (half, key) => {\n    const maxLabelsCountForOneSide = Math.floor(totalHeight / labelHeight);\n    if (half.length > maxLabelsCountForOneSide) {\n      half.sort((a, b) => {\n        // sort by percentage DESC\n        return b.percent - a.percent;\n      });\n\n      each(half, (labelItem: PolarLabelItem, idx) => {\n        if (idx + 1 > maxLabelsCountForOneSide) {\n          labelsMap[labelItem.id].set('visible', false);\n          labelItem.invisible = true;\n        }\n      });\n    }\n    antiCollision(half, labelHeight, labelsContainerRange);\n  });\n\n  each(separateLabels, (half: PolarLabelItem[], key: string) => {\n    each(half, (item: PolarLabelItem) => {\n      const isRight = key === RIGHT_HALF_KEY;\n      const labelShape = labelsMap[item.id];\n\n      // because group could not effect content-shape, should set content-shape position manually\n      const content = labelShape.getChildByIndex(0) as IElement;\n\n      // textShape \n      if (content) {\n        const r = radius + labelOffset;\n        // (x - cx)^2 + (y - cy)^2 = totalR^2\n        const dy = item.y - center.y;\n\n        const rPow2 = Math.pow(r, 2);\n        const dyPow2 = Math.pow(dy, 2);\n        const dxPow2 = rPow2 - dyPow2 > 0 ? rPow2 - dyPow2 : 0;\n        const dx = Math.sqrt(dxPow2);\n\n        const dx_offset = Math.abs(Math.cos(item.angle) * r);\n        if (!isRight) {\n          // left\n          item.x = center.x - Math.max(dx, dx_offset);\n        } else {\n          // right\n          item.x = center.x + Math.max(dx, dx_offset);\n        }\n      }\n\n      // adjust labelShape\n      if (content) {\n        content.attr('y', item.y);\n        content.attr('x', item.x);\n      }\n\n      drawLabelline(item, coordinate);\n    });\n  });\n}\n","import { BBox, IGroup, IShape } from '@antv/g-base';\nimport { each, get, isNil, deepMix, groupBy } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { LabelItem, PolarLabelItem } from '../../interface';\nimport { antiCollision } from './util';\nimport { translate } from '../../../../util/transform';\nimport { Coordinate } from '@antv/coord';\n\n/** ,  */\nconst INFLECTION_OFFSET = 4;\n/** , distance between label and edge: offsetX */\nconst LABEL_OFFSET_X = 4;\n/**  */\nconst LABEL_TEXT_LINE_OFFSET = 4;\n\nfunction drawLabelline(item: PolarLabelItem, coordinate: Coordinate, inRight: boolean) {\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  const startPoint = {\n    x: item.x - (inRight ? LABEL_TEXT_LINE_OFFSET : -LABEL_TEXT_LINE_OFFSET),\n    y: item.y,\n  };\n  const inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n  const p1 = { x: startPoint.x, y: startPoint.y };\n  const p2 = { x: inflectionPoint.x, y: inflectionPoint.y };\n\n  const endPoint = polarToCartesian(center.x, center.y, radius, item.angle);\n  let path = '';\n\n  // \n  if (startPoint.y !== inflectionPoint.y) {\n    const offset = inRight ? 4 : -4;\n    p1.y = startPoint.y;\n\n    /**  */\n    if (item.angle < 0 && item.angle >= -Math.PI / 2) {\n      p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y < inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.max(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle > 0 && item.angle < Math.PI / 2) {\n      p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y > inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.max(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle > Math.PI / 2) {\n      p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y > inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.min(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle < -Math.PI / 2) {\n      p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y < inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.min(p2.x, p1.x - offset);\n      }\n    }\n  }\n\n  path = [\n    `M ${startPoint.x},${startPoint.y}`,\n    `L ${p1.x},${p1.y}`,\n    `L ${p2.x},${p2.y}`,\n    `L ${inflectionPoint.x},${inflectionPoint.y}`,\n    `L ${endPoint.x},${endPoint.y}`,\n  ].join(' ');\n  item.labelLine = deepMix({}, item.labelLine, { path });\n}\n\n/**\n *  spider ,  pie-spider \n * region  labelsRenderer ()\n */\nexport function pieSpiderLabelLayout(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  /**  */\n  const coordinate = labels[0] && labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  /** label shapes */\n  const labelsMap: Record<string /** id */, IGroup> = {};\n  for (const labelShape of labels) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  const labelHeight: number = get(items[0], 'labelHeight', 14);\n  const labelOffset: number = Math.max(get(items[0], 'offset', 0), INFLECTION_OFFSET);\n\n  // step 1: adjust items to spider\n  each(items, (item) => {\n    if (!item) return;\n    const label = get(labelsMap, [item.id]);\n    if (!label) return;\n\n    const inRight = item.x > center.x || (item.x === center.x && item.y > center.y);\n    const offsetX = !isNil(item.offsetX) ? item.offsetX : LABEL_OFFSET_X;\n    const inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n\n    const totalOffset = labelOffset + offsetX;\n    item.x = center.x + (inRight ? 1 : -1) * (radius + totalOffset);\n    item.y = inflectionPoint.y;\n  });\n\n  const { start, end } = coordinate;\n  const LEFT_HALF_KEY = 'left';\n  const RIGHT_HALF_KEY = 'right';\n  // step 1: separate labels\n  const separateLabels = groupBy(items, (item) => (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY));\n\n  // step2: calculate totalHeight\n  let totalHeight = (radius + labelOffset) * 2 + labelHeight;\n\n  each(separateLabels, (half: PolarLabelItem[]) => {\n    const halfHeight = half.length * labelHeight;\n    if (halfHeight > totalHeight) {\n      totalHeight = Math.min(halfHeight, Math.abs(start.y - end.y));\n    }\n  });\n\n  /** labels () */\n  const labelsContainerRange = {\n    minX: start.x,\n    maxX: end.x,\n    minY: center.y - totalHeight / 2,\n    maxY: center.y + totalHeight / 2,\n  };\n\n  // step 3: antiCollision\n  each(separateLabels, (half, key) => {\n    const maxLabelsCountForOneSide = totalHeight / labelHeight;\n    if (half.length > maxLabelsCountForOneSide) {\n      half.sort((a, b) => {\n        // sort by percentage DESC\n        return b.percent - a.percent;\n      });\n\n      each(half, (labelItem: PolarLabelItem, idx) => {\n        if (idx > maxLabelsCountForOneSide) {\n          labelsMap[labelItem.id].set('visible', false);\n          labelItem.invisible = true;\n        }\n      });\n    }\n    antiCollision(half, labelHeight, labelsContainerRange);\n  });\n\n  const startY = labelsContainerRange.minY;\n  const endY = labelsContainerRange.maxY;\n\n  // step4: applyTo labels and adjust labelLines\n  each(separateLabels, (half, key) => {\n    const inRight = key === RIGHT_HALF_KEY;\n\n    each(half, (item) => {\n      const label: IGroup = get(labelsMap, item && [item.id]);\n      if (!label) {\n        return;\n      }\n      // out of range, hidden\n      if (item.y < startY || item.y > endY) {\n        label.set('visible', false);\n        return;\n      }\n\n      const labelContent = label.getChildByIndex(0);\n      const box = labelContent.getCanvasBBox();\n      const originalPos = { x: inRight ? box.x : box.maxX, y: box.y + box.height / 2 /** vertical-align: middle */ };\n\n      translate(labelContent as any, item.x - originalPos.x /**  pos.x  item.x */, item.y - originalPos.y);\n\n      // adjust labelLines\n      if (item.labelLine) {\n        drawLabelline(item, coordinate, inRight);\n      }\n    });\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { translate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n *  label  label \n * @param labels\n * @param cfg\n */\nexport function limitInCanvas(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label: IGroup) => {\n    const { minX: regionMinX, minY: regionMinY, maxX: regionMaxX, maxY: regionMaxY } = region;\n    const { minX, minY, maxX, maxY, x, y, width, height } = label.getCanvasBBox();\n\n    let finalX = x;\n    let finalY = y;\n    if (minX < regionMinX || maxX < regionMinX) {\n      // \n      finalX = regionMinX;\n    }\n    if (minY < regionMinY || maxY < regionMinY) {\n      // \n      finalY = regionMinY;\n    }\n\n    if (minX > regionMaxX) {\n      // \n      finalX = regionMaxX - width;\n    } else if (maxX > regionMaxX) {\n      // \n      finalX = finalX - (maxX - regionMaxX);\n    }\n\n    if (minY > regionMaxY) {\n      // \n      finalY = regionMaxY - height;\n    } else if (maxY > regionMaxY) {\n      // \n      finalY = finalY - (maxY - regionMaxY);\n    }\n\n    if (finalX !== x || finalY !== y) {\n      translate(label, finalX - x, finalY - y);\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n *  label  bbox  label  shape  bbox \n */\nexport function limitInShape(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label, index) => {\n    const labelBBox = label.getCanvasBBox(); // \n    const shapeBBox = shapes[index].getBBox();\n    if (\n      labelBBox.minX < shapeBBox.minX ||\n      labelBBox.minY < shapeBBox.minY ||\n      labelBBox.maxX > shapeBBox.maxX ||\n      labelBBox.maxY > shapeBBox.maxY\n    ) {\n      label.remove(true); // \n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\nconst MAX_TIMES = 100;\n\n/** @ignore */\ninterface Bitmap {\n  [key: number]: {\n    [key: number]: boolean;\n  };\n}\n\n/** @ignore */\ninterface GreedyCfg {\n  readonly xGap?: number;\n  readonly yGap?: number;\n}\n\n/**\n * @ignore\n * Greedy \n */\nclass Greedy {\n  public readonly xGap: number;\n  /** optimizing for text overlapping detection: use a min text height as gap */\n  public readonly yGap: number;\n\n  private bitmap: Bitmap = {};\n\n  constructor(cfg: GreedyCfg = {}) {\n    const { xGap = 1, yGap = 8 } = cfg;\n    this.xGap = xGap;\n    this.yGap = yGap;\n  }\n\n  public hasGap(bbox: BBox): boolean {\n    let hasGap = true;\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n        continue;\n      }\n      if (i === minX || i === maxX) {\n        for (let j = minY; j <= maxY; j++) {\n          if (bitmap[i][j]) {\n            hasGap = false;\n            break;\n          }\n        }\n      } else {\n        if (bitmap[i][minY] || bitmap[i][maxY]) {\n          hasGap = false;\n          break;\n        }\n      }\n    }\n    return hasGap;\n  }\n\n  public fillGap(bbox: BBox): void {\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    // filling grid\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n      }\n    }\n    for (let i = minX; i <= maxX; i += this.xGap) {\n      for (let j = minY; j <= maxY; j += this.yGap) {\n        bitmap[i][j] = true;\n      }\n      bitmap[i][maxY] = true;\n    }\n\n    // filling y edges\n    if (this.yGap !== 1) {\n      for (let i = minY; i <= maxY; i += 1) {\n        bitmap[minX][i] = true;\n        bitmap[maxX][i] = true;\n      }\n    }\n\n    // filling x edges\n    if (this.xGap !== 1) {\n      for (let i = minX; i <= maxX; i += 1) {\n        bitmap[i][minY] = true;\n        bitmap[i][maxY] = true;\n      }\n    }\n  }\n\n  public destroy(): void {\n    this.bitmap = {};\n  }\n}\n\nfunction spiralFill(label: IShape, greedy: Greedy, maxTimes: number = MAX_TIMES) {\n  const dt = -1;\n  const { x, y } = label.attr();\n  const bbox = label.getCanvasBBox();\n  const maxDelta = Math.sqrt(bbox.width * bbox.width + bbox.height * bbox.height);\n  let dxdy;\n  let t = -dt;\n  let dx = 0;\n  let dy = 0;\n  const f = (param: number) => {\n    const nt = param * 0.1;\n    return [nt * Math.cos(nt), nt * Math.sin(nt)];\n  };\n\n  if (greedy.hasGap(bbox)) {\n    greedy.fillGap(bbox);\n    return true;\n  }\n  let canFill = false;\n  let times = 0;\n  const accessedCache = {};\n  while (Math.min(Math.abs(dx), Math.abs(dy)) < maxDelta && times < maxTimes) {\n    dxdy = f((t += dt));\n    dx = ~~dxdy[0];\n    dy = ~~dxdy[1];\n    if ((!dx && !dy) || accessedCache[`${dx}-${dy}`]) {\n      continue;\n    }\n    label.attr({ x: x + dx, y: y + dy });\n    if (dx + dy < 0) {\n      label.attr('textAlign', 'right');\n    }\n    times++;\n    if (greedy.hasGap(label.getCanvasBBox())) {\n      greedy.fillGap(label.getCanvasBBox());\n      canFill = true;\n      accessedCache[`${dx}-${dy}`] = true;\n      break;\n    }\n  }\n  return canFill;\n}\n\n/*\n *  label\n *                5\n *        ------------------\n *        |    1   |   0   |\n *    8   4   7\n *        |    2   |   3   |\n *        \n *                 6\n */\nfunction adjustLabelPosition(label: IShape, x: number, y: number, index: number) {\n  const { width, height } = label.getCanvasBBox();\n  const attrs = {\n    x,\n    y,\n    textAlign: 'center',\n  };\n  switch (index) {\n    case 0:\n      attrs.y -= height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 1:\n      attrs.y -= height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 2:\n      attrs.y += height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 3:\n      attrs.y += height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 5:\n      attrs.y -= height * 2 + 2;\n      break;\n    case 6:\n      attrs.y += height * 2 + 2;\n      break;\n    case 7:\n      attrs.x += width + 1;\n      attrs.textAlign = 'left';\n      break;\n    case 8:\n      attrs.x -= width + 1;\n      attrs.textAlign = 'right';\n      break;\n    default:\n      break;\n  }\n  label.attr(attrs);\n  return label.getCanvasBBox();\n}\n\n/**\n * @ignore\n * label  label  label \n *  'overlap'  label \n * @param labels  label \n */\nexport function fixedOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    if (!spiralFill(labelShape, greedy)) {\n      label.remove(true);\n    }\n  });\n  greedy.destroy();\n}\n\n/**\n * @ignore\n * label  label   label  label **** label\n * @param labels  label \n */\nexport function overlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    const { x, y } = labelShape.attr();\n    let canFill = false;\n    for (let i = 0; i <= 8; i++) {\n      const bbox = adjustLabelPosition(labelShape, x, y, i);\n      if (greedy.hasGap(bbox)) {\n        greedy.fillGap(bbox);\n        canFill = true;\n        break;\n      }\n    }\n    if (!canFill) {\n      label.remove(true);\n    }\n  });\n\n  greedy.destroy();\n}\n","import { isNumber } from '@antv/util';\nimport { Point } from '../dependents';\n\ntype Vec2 = [number, number];\n\ntype Item = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  rotation?: number;\n  visible?: boolean;\n};\n/**\n * \n */\ntype Projection = { min: number; max: number };\n\nfunction dot(a, b) {\n  return (a[0] || 0) * (b[0] || 0) + (a[1] || 0) * (b[1] || 0) + (a[2] || 0) * (b[2] || 0);\n}\n\n/**\n * @private\n * 1. \n */\nfunction getAxes(points: Point[] /**  */): Vec2[] {\n  //   , \n  if (points.length > 4) {\n    return [];\n  }\n  // \n  const vector = (start: Point, end: Point): Vec2 => {\n    return [end.x - start.x, end.y - start.y];\n  };\n\n  //   2 : A -> B, B -> C\n  const AB = vector(points[0], points[1]);\n  const BC = vector(points[1], points[2]);\n\n  return [AB, BC];\n}\n\n/**\n * @private\n * \n * \n */\nfunction rotateAtPoint(point: Point, deg = 0, origin = { x: 0, y: 0 }): Point {\n  const { x, y } = point;\n  return {\n    x: (x - origin.x) * Math.cos(-deg) + (y - origin.y) * Math.sin(-deg) + origin.x,\n    y: (origin.x - x) * Math.sin(-deg) + (y - origin.y) * Math.cos(-deg) + origin.y,\n  };\n}\n\n/**\n * @private\n * \n *\n * @param {Object} box\n */\nfunction getRectPoints(box: Item): Point[] {\n  const points = [\n    { x: box.x, y: box.y },\n    { x: box.x + box.width, y: box.y },\n    { x: box.x + box.width, y: box.y + box.height },\n    { x: box.x, y: box.y + box.height },\n  ];\n\n  const rotation = box.rotation;\n  if (rotation) {\n    return [\n      rotateAtPoint(points[0], rotation, points[0]),\n      rotateAtPoint(points[1], rotation, points[0]),\n      rotateAtPoint(points[2], rotation, points[0]),\n      rotateAtPoint(points[3], rotation, points[0]),\n    ];\n  }\n\n  return points;\n}\n\n/**\n * @private\n * 2. \n *\n * \n * 1 x1 * x2 + y1 * y2\n */\nfunction getProjection(points: Point[] /**  */, axis: Vec2): Projection {\n  // \n  if (points.length > 4) {\n    return { min: 0, max: 0 };\n  }\n\n  const scalars = [];\n  points.forEach((point) => {\n    scalars.push(dot([point.x, point.y], axis));\n  });\n\n  return { min: Math.min(...scalars), max: Math.max(...scalars) };\n}\n\nfunction isProjectionOverlap(projection1: Projection, projection2: Projection): boolean {\n  return projection1.max > projection2.min && projection1.min < projection2.max;\n}\n\nfunction isValidNumber(d: number) {\n  return typeof d === 'number' && !Number.isNaN(d) && d !== Infinity && d !== -Infinity;\n}\n\nfunction isValidBox(box: Item) {\n  return ['x', 'y', 'width', 'height'].every(attr => isValidNumber(box[attr]))\n}\n\n/**\n * \n */\nexport function isIntersectRect(box1: Item, box2: Item, margin: number = 0): boolean {\n  return !(\n    box2.x > box1.x + box1.width + margin ||\n    box2.x + box2.width < box1.x - margin ||\n    box2.y > box1.y + box1.height + margin ||\n    box2.y + box2.height < box1.y - margin\n  );\n}\n\n/**\n * detect whether two shape is intersected, useful when shape is been rotated\n * , \n *\n * - : \n */\nexport function intersect(box1: Item, box2: Item, margin: number = 0) {\n  //  box  box\n  if (!isValidBox(box1) || !isValidBox(box2)) return false;\n\n  // \n  if (!box1.rotation && !box2.rotation) {\n    return isIntersectRect(box1, box2, margin);\n  }\n\n  //  4 \n  const rect1Points = getRectPoints(box1);\n  const rect2Points = getRectPoints(box2);\n\n  // \n  const axes = getAxes(rect1Points).concat(getAxes(rect2Points));\n\n  for (let i = 0; i < axes.length; i++) {\n    const axis = axes[i];\n    const projection1 = getProjection(rect1Points, axis);\n    const projection2 = getProjection(rect2Points, axis);\n\n    // \n    if (!isProjectionOverlap(projection1, projection2)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","export function createWorker(f: any) {\n  let blob;\n  try {\n    blob = new Blob([f.toString()], { type: 'application/javascript' });\n  } catch (e) {\n    // @ts-ignore\n    blob = new window.BlobBuilder();\n    blob.append(f.toString());\n    blob = blob.getBlob();\n  }\n\n  return new Worker(URL.createObjectURL(blob));\n}\n","const onmessage = function (e) {\n  type Item = {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n    rotation?: number;\n    visible?: boolean;\n  };\n\n  // Copy from src/util/collision-detect.ts\n  function generateUtils() {\n    type Vec2 = [number, number];\n\n    type Point = { x: number; y: number };\n\n    /**\n     * \n     */\n    type Projection = { min: number; max: number };\n\n    function dot(a, b) {\n      return (a[0] || 0) * (b[0] || 0) + (a[1] || 0) * (b[1] || 0) + (a[2] || 0) * (b[2] || 0);\n    }\n    /**\n     * 1. \n     */\n    function getAxes(points: Point[] /**  */): Vec2[] {\n      //   , \n      if (points.length > 4) {\n        return [];\n      }\n      // \n      const vector = (start: Point, end: Point): Vec2 => {\n        return [end.x - start.x, end.y - start.y];\n      };\n\n      //   2 : A -> B, B -> C\n      const AB = vector(points[0], points[1]);\n      const BC = vector(points[1], points[2]);\n\n      return [AB, BC];\n    }\n\n    /**\n     * \n     * \n     */\n    function rotateAtPoint(point: Point, deg = 0, origin = { x: 0, y: 0 }): Point {\n      const { x, y } = point;\n      return {\n        x: (x - origin.x) * Math.cos(-deg) + (y - origin.y) * Math.sin(-deg) + origin.x,\n        y: (origin.x - x) * Math.sin(-deg) + (y - origin.y) * Math.cos(-deg) + origin.y,\n      };\n    }\n\n    /**\n     * @private\n     * \n     *\n     * @param {Object} box\n     */\n    function getRectPoints(box: Item): Point[] {\n      const points = [\n        { x: box.x, y: box.y },\n        { x: box.x + box.width, y: box.y },\n        { x: box.x + box.width, y: box.y + box.height },\n        { x: box.x, y: box.y + box.height },\n      ];\n\n      const rotation = box.rotation;\n      if (rotation) {\n        return [\n          rotateAtPoint(points[0], rotation, points[0]),\n          rotateAtPoint(points[1], rotation, points[0]),\n          rotateAtPoint(points[2], rotation, points[0]),\n          rotateAtPoint(points[3], rotation, points[0]),\n        ];\n      }\n\n      return points;\n    }\n\n    /**\n     * 2. \n     *\n     * \n     * 1 x1 * x2 + y1 * y2\n     */\n    function getProjection(points: Point[] /**  */, axis: Vec2): Projection {\n      // \n      if (points.length > 4) {\n        return { min: 0, max: 0 };\n      }\n\n      const scalars = [];\n      points.forEach((point) => {\n        scalars.push(dot([point.x, point.y], axis));\n      });\n\n      return { min: Math.min.apply(null, scalars), max: Math.max.apply(null, scalars) };\n    }\n\n    function isProjectionOverlap(projection1: Projection, projection2: Projection): boolean {\n      return projection1.max > projection2.min && projection1.min < projection2.max;\n    }\n\n    function isValidNumber(d: number) {\n      return typeof d === 'number' && !Number.isNaN(d) && d !== Infinity && d !== -Infinity;\n    }\n\n    function isValidBox(box: Item) {\n      return ['x', 'y', 'width', 'height'].every(attr => isValidNumber(box[attr]))\n    }\n\n    function isIntersectRect(box1: Item, box2: Item, margin: number = 0): boolean {\n      return !(\n        box2.x > box1.x + box1.width + margin ||\n        box2.x + box2.width < box1.x - margin ||\n        box2.y > box1.y + box1.height + margin ||\n        box2.y + box2.height < box1.y - margin\n      );\n    }\n    function intersect(box1: Item, box2: Item, margin: number = 0) {\n      if (!isValidBox(box1) || !isValidBox(box2)) return false;\n\n      // Quick detect, if rotation is null or zero.\n      if (!box1.rotation && !box2.rotation) {\n        return isIntersectRect(box1, box2, margin);\n      }\n\n      //  4 \n      const rect1Points = getRectPoints(box1);\n      const rect2Points = getRectPoints(box2);\n\n      // \n      const axes = getAxes(rect1Points).concat(getAxes(rect2Points));\n\n      for (let i = 0; i < axes.length; i++) {\n        const axis = axes[i];\n        const projection1 = getProjection(rect1Points, axis);\n        const projection2 = getProjection(rect2Points, axis);\n\n        if (!isProjectionOverlap(projection1, projection2)) return false;\n      }\n\n      return true;\n    }\n    return { intersect }\n  }\n  const { intersect } = generateUtils();\n\n  // Label layouts.\n  function hideOverlap(items: Item[]) {\n    const boxes = items.slice();\n    for (let i = 0; i < boxes.length; i++) {\n      const box1 = boxes[i];\n      if (box1.visible) {\n        for (let j = i + 1; j < boxes.length; j++) {\n          const box2 = boxes[j];\n          if (box1 !== box2 && box2.visible) {\n            if (intersect(box1, box2)) {\n              box2.visible = false;\n            }\n          }\n        }\n      }\n    }\n    return boxes;\n  }\n\n  const methods = {\n    'hide-overlap': hideOverlap,\n  }\n\n  // Main\n  try {\n    const eventData = JSON.parse(e.data);\n    if (!eventData || !eventData.type || !methods[eventData.type]) return;\n\n    const { type, items } = eventData;\n    const result = methods[type](items);\n    self.postMessage(result);\n  } catch (e) {\n    throw e;\n  }\n}\n\nconst code = `\n   self.onmessage = ${onmessage.toString()}\n`\nexport { code };\n","import { get, each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { intersect } from '../../../util/collision-detect';\nimport { LabelItem } from '../interface';\nimport { getLabelBackgroundInfo } from '../util';\nimport { createWorker } from '../util/createWorker';\nimport { code as layoutCode } from './worker/hide-overlap';\n\ntype Item = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  rotation?: number;\n  visible?: boolean;\n};\n\nconst layout = (items: Item[]): Item[] => {\n  const boxes = items.slice();\n  for (let i = 0; i < boxes.length; i++) {\n    const box1 = boxes[i];\n    if (box1.visible) {\n      for (let j = i + 1; j < boxes.length; j++) {\n        const box2 = boxes[j];\n        if (box1 !== box2 && box2.visible) {\n          if (intersect(box1, box2)) {\n            box2.visible = false;\n          }\n        }\n      }\n    }\n  }\n  return boxes;\n}\n\nconst cache: Map<string, any> = new Map();\nconst worker = createWorker(layoutCode);\n\n/**\n * label  label  label \n *  'overlap'  label \n * @param labels  label \n */\nexport function hideOverlap(labelItems: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  // todo  label rank\n  return new Promise((resolve) => {\n    const boxes = labels.map((d, idx) => ({\n      ...getLabelBackgroundInfo(d, labelItems[idx], get(labelItems[idx], 'background.padding')),\n      visible: true,\n    }));\n    const memoKey = JSON.stringify(boxes);\n    const cb = (items: Item[]) => {\n      cache.set(memoKey, items);\n      each(items, ({ visible }, idx) => {\n        const labelShape = labels[idx];\n        if (visible) {\n          labelShape?.show()\n        } else {\n          labelShape?.hide();\n        }\n      });\n      return resolve(items);\n    }\n    if (cache.get(memoKey)) {\n      cb(cache.get(memoKey))\n    } else if (worker) {\n      // Do layout in worker.\n      try {\n        worker.postMessage(JSON.stringify({ type: 'hide-overlap', items: boxes }));\n        worker.onmessage = (e) => cb(Array.isArray(e.data) ? e.data : []);\n        worker.onmessageerror = (e) => {\n          console.warn('[AntV G2] Web worker is not available');\n          // Normal layout in main thread.\n          cb(layout(boxes));\n        };\n      } catch (e) {\n        console.error(e);\n        cb(layout(boxes));\n      }\n    } else {\n      // Normal layout in main thread.\n      cb(layout(boxes));\n    }\n  });\n}\n","let ctx: CanvasRenderingContext2D;\n\n/**\n *  canvas context\n */\nexport function getCanvasContext() {\n  if (!ctx) {\n    ctx = document.createElement('canvas').getContext('2d');\n  }\n\n  return ctx;\n}\n","import { IGroup, IShape } from '../../../dependents';\nimport { BBox } from '../../../util/bbox';\nimport { isContrastColorWhite } from '../../../util/color';\nimport Element from '../../element';\nimport { LabelItem } from '../interface';\n\nexport function adjustColor(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0].get('element');\n  const theme = element.geometry.theme;\n  const { fillColorLight, fillColorDark } = theme.labels || {};\n\n  shapes.forEach((shape: IShape | IGroup, index: number) => {\n    const label = labels[index];\n    const textShape = label.find((el) => el.get('type') === 'text');\n    const shapeBBox = BBox.fromObject(shape.getBBox());\n    const textBBox = BBox.fromObject(textShape.getCanvasBBox());\n    const overflow = !shapeBBox.contains(textBBox);\n\n    const bgColor = shape.attr('fill');\n    const fillWhite = isContrastColorWhite(bgColor);\n\n    if (!overflow) {\n      if (fillWhite) {\n        if (fillColorLight) {\n          textShape.attr('fill', fillColorLight);\n        }\n      } else {\n        if (fillColorDark) {\n          textShape.attr('fill', fillColorDark);\n        }\n      }\n    } else {\n      //  overflowLabel \n      textShape.attr(theme.overflowLabels.style);\n    }\n  });\n}\n","import { IElement, IGroup, IShape } from '../../../../dependents';\nimport { BBox } from '../../../../util/bbox';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\nfunction shouldInShapeSingle(geometry: Geometry, label: IGroup, shape: IElement): boolean {\n  const coordinate = geometry.coordinate;\n  const textShape = findLabelTextShape(label);\n  const textBBox = BBox.fromObject(textShape.getCanvasBBox());\n  const shapeBBox = BBox.fromObject(shape.getBBox());\n\n  return coordinate.isTransposed ? shapeBBox.height >= textBBox.height : shapeBBox.width >= textBBox.width;\n}\n\nfunction shouldInShape(geometry: Geometry, labels: IGroup[], shapes: IShape[] | IGroup[]): boolean {\n  const isStack = !!geometry.getAdjust('stack');\n\n  return (\n    isStack ||\n    labels.every((label: IGroup, index: number) => {\n      const shape = shapes[index];\n      return shouldInShapeSingle(geometry, label, shape);\n    })\n  );\n}\n\nfunction moveInShape(geometry: Geometry, label: IGroup, shape: IElement): void {\n  const coordinate = geometry.coordinate;\n  const shapeBBox = BBox.fromObject(shape.getBBox());\n  const textShape = findLabelTextShape(label);\n\n  if (coordinate.isTransposed) {\n    // \n    textShape.attr({\n      x: shapeBBox.minX + shapeBBox.width / 2,\n      textAlign: 'center',\n    });\n  } else {\n    // \n    textShape.attr({\n      y: shapeBBox.minY + shapeBBox.height / 2,\n      textBaseline: 'middle',\n    });\n  }\n}\n\n/**\n *  interval geometry \n * @param items\n * @param labels\n * @param shapes\n */\nexport function intervalAdjustPosition(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'interval') {\n    return;\n  }\n\n  const inShape = shouldInShape(geometry, labels, shapes);\n  if (inShape) {\n    shapes.forEach((shape: IShape | IGroup, index: number) => {\n      const label = labels[index];\n      moveInShape(geometry, label, shape);\n    });\n  }\n}\n","import { IGroup, IShape } from '../../../../dependents';\nimport { each, groupBy, uniq, map, size, filter } from '@antv/util';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { checkShapeOverlap } from '../../util';\n\nfunction filterLabel(labels: IShape[] | IGroup[]) {\n  const MAX_CNT = 500; //  500 \n  const filteredLabels = [];\n  const pages = Math.max(Math.floor(labels.length / MAX_CNT), 1);\n  each(labels, (label, idx) => {\n    if (idx % pages === 0) {\n      filteredLabels.push(label);\n    } else {\n      label.set('visible', false);\n    }\n  });\n\n  return filteredLabels;\n}\n\n/**\n *  interval geometry \n * @param items\n * @param labels\n * @param shapes\n */\nexport function intervalHideOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'interval') {\n    return;\n  }\n\n  const filteredLabels = filterLabel(labels);\n  const [xField] = geometry.getXYFields();\n  const dones: IShape[] = [];\n  const todo: IShape[] = [];\n  const groupedLabels = groupBy(filteredLabels, (label) => label.get('data')[xField]);\n  const xValues = uniq(map(filteredLabels, (label: IShape) => label.get('data')[xField]));\n  let xValue;\n\n  filteredLabels.forEach((label) => {\n    label.set('visible', true);\n  });\n\n  const addCurrentGroup = (curItems: IShape[]) => {\n    if (curItems) {\n      if (curItems.length) {\n        // \n        todo.push(curItems.pop());\n      }\n      todo.push(...curItems);\n    }\n  };\n\n  if (size(xValues) > 0) {\n    // \n    xValue = xValues.shift();\n    addCurrentGroup(groupedLabels[xValue]);\n  }\n  if (size(xValues) > 0) {\n    // \n    xValue = xValues.pop();\n    addCurrentGroup(groupedLabels[xValue]);\n  }\n  each(xValues.reverse(), (val) => {\n    // \n    addCurrentGroup(groupedLabels[val]);\n  });\n\n  while (todo.length > 0) {\n    const cur = todo.shift();\n    if (cur.get('visible')) {\n      if (checkShapeOverlap(cur, dones)) {\n        cur.set('visible', false);\n      } else {\n        dones.push(cur);\n      }\n    }\n  }\n}\n","import { groupBy, keys, map } from '@antv/util';\nimport { IElement, IGroup, IShape, BBox } from '../../../../dependents';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\n/**\n * point-adjust-position layout \n */\nexport interface PointAdjustPositionLayoutCfg {\n  offset?: number;\n}\n\n/**\n * ( xField ) Label ...\n * @param geometry\n * @param labels\n */\nfunction sortLabels(geometry: Geometry, labels: IGroup[]) {\n  const yField = geometry.getXYFields()[1];\n  const result: IGroup[] = [];\n  const sortedLabels = labels.sort((left, right) => left.get('data')[yField] - left.get('data')[yField]);\n\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.shift());\n  }\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.pop());\n  }\n  result.push(...sortedLabels);\n\n  return result;\n}\n\nfunction hasSome(dones: IGroup[], current: IGroup, compare: (left: IGroup, right: IGroup) => boolean): boolean {\n  return dones.some((done) => compare(done, current));\n}\n\n/**\n * \n */\nfunction getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**\n *  Label \n * @param dones\n * @param current\n */\nfunction checkShapeOverlap(dones: IGroup[], current: IGroup): boolean {\n  return hasSome(dones, current, (left, right) => {\n    const leftText = findLabelTextShape(left);\n    const rightText = findLabelTextShape(right);\n\n    return getOverlapArea(leftText.getCanvasBBox(), rightText.getCanvasBBox(), 2) > 0;\n  });\n}\n/**\n *  point geometry \n * @param items\n * @param labels\n * @param shapes\n * @param region\n * @param cfg\n */\nexport function pointAdjustPosition(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg: PointAdjustPositionLayoutCfg\n): void {\n  if (shapes.length === 0) {\n    return;\n  }\n\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'point') {\n    return;\n  }\n  const [xField, yField] = geometry.getXYFields();\n  const groupedLabels = groupBy(labels, (label) => label.get('data')[xField]);\n  const dones: IGroup[] = [];\n  const offset = (cfg && cfg.offset) || items[0]?.offset || 12;\n\n  map(keys(groupedLabels).reverse(), (xValue) => {\n    const sortedCollections = sortLabels(geometry, groupedLabels[xValue]);\n    while (sortedCollections.length) {\n      const current = sortedCollections.shift();\n      const textShape = findLabelTextShape(current);\n      if (\n        hasSome(\n          dones,\n          current,\n          (left, right) =>\n            left.get('data')[xField] === right.get('data')[xField] &&\n            left.get('data')[yField] === right.get('data')[yField]\n        )\n      ) {\n        // \n        textShape.set('visible', false);\n        continue;\n      }\n      const upFail = checkShapeOverlap(dones, current);\n      let downFail: boolean = false;\n      if (upFail) {\n        textShape.attr('y', textShape.attr('y') + 2 * offset);\n        downFail = checkShapeOverlap(dones, current);\n      }\n      if (downFail) {\n        textShape.set('visible', false);\n        continue;\n      }\n      dones.push(current);\n    }\n  });\n}\n","import { groupBy, keys, map } from '@antv/util';\nimport { IGroup, IShape, BBox } from '../../../../dependents';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\n/**\n * point-adjust-position layout \n */\nexport interface PointAdjustPositionLayoutCfg {\n  offset?: number;\n}\n\n/**\n * ( xField ) Label ...\n * @param geometry\n * @param labels\n */\nfunction sortLabels(geometry: Geometry, labels: IGroup[]) {\n  const yField = geometry.getXYFields()[1];\n  const result: IGroup[] = [];\n  const sortedLabels = labels.sort((left, right) => left.get('data')[yField] - left.get('data')[yField]);\n\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.shift());\n  }\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.pop());\n  }\n  result.push(...sortedLabels);\n\n  return result;\n}\n\nfunction hasSome(dones: IGroup[], current: IGroup, compare: (left: IGroup, right: IGroup) => boolean): boolean {\n  return dones.some((done) => compare(done, current));\n}\n\n/**\n * \n */\nfunction getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**\n *  Label \n * @param dones\n * @param current\n */\nfunction checkShapeOverlap(dones: IGroup[], current: IGroup): boolean {\n  return hasSome(dones, current, (left, right) => {\n    const leftText = findLabelTextShape(left);\n    const rightText = findLabelTextShape(right);\n\n    return getOverlapArea(leftText.getCanvasBBox(), rightText.getCanvasBBox(), 2) > 0;\n  });\n}\n/**\n *  point geometry \n * @param items\n * @param labels\n * @param shapes\n * @param region\n * @param cfg\n */\nexport function pathAdjustPosition(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg: PointAdjustPositionLayoutCfg\n): void {\n  if (shapes.length === 0) {\n    return;\n  }\n\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || ['path', 'line', 'area'].indexOf(geometry.type) < 0) {\n    return;\n  }\n  const [xField, yField] = geometry.getXYFields();\n  const groupedLabels = groupBy(labels, (label) => label.get('data')[xField]);\n  const dones: IGroup[] = [];\n  const offset = (cfg && cfg.offset) || items[0]?.offset || 12;\n\n  map(keys(groupedLabels).reverse(), (xValue) => {\n    const sortedCollections = sortLabels(geometry, groupedLabels[xValue]);\n    while (sortedCollections.length) {\n      const current = sortedCollections.shift();\n      const textShape = findLabelTextShape(current);\n      if (\n        hasSome(\n          dones,\n          current,\n          (left, right) =>\n            left.get('data')[xField] === right.get('data')[xField] &&\n            left.get('data')[yField] === right.get('data')[yField]\n        )\n      ) {\n        // \n        textShape.set('visible', false);\n        continue;\n      }\n      const upFail = checkShapeOverlap(dones, current);\n      let downFail: boolean = false;\n      if (upFail) {\n        textShape.attr('y', textShape.attr('y') + 2 * offset);\n        downFail = checkShapeOverlap(dones, current);\n      }\n      if (downFail) {\n        textShape.set('visible', false);\n        continue;\n      }\n      dones.push(current);\n    }\n  });\n}\n","import { each, pick } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { getCoordinateBBox } from '../../../util/coordinate';\nimport { getEllipsisText } from '../../../util/text';\nimport { translate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/** limitInPlot layout  */\nexport interface LimitInPlotLayoutCfg {\n  /**  Plot  */\n  direction?: ('top' | 'right' | 'bottom' | 'left')[];\n  /**  margin */\n  margin?: number;\n  /**  translate ; ellipsis  text  */\n  action?: 'hide' | 'translate' | 'ellipsis';\n}\n\n/**\n * @ignore\n *  label  Plot  Plot  label \n * @param labels\n * @param cfg\n */\nexport function limitInPlot(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg?: LimitInPlotLayoutCfg\n) {\n  if (labels.length <= 0) {\n    return;\n  }\n  const direction = cfg?.direction || ['top', 'right', 'bottom', 'left'];\n  const action = cfg?.action || 'translate';\n  const margin = cfg?.margin || 0;\n  const coordinate = labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n  const {\n    minX: regionMinX,\n    minY: regionMinY,\n    maxX: regionMaxX,\n    maxY: regionMaxY,\n  } = getCoordinateBBox(coordinate, margin);\n\n  each(labels, (label: IGroup) => {\n    const { minX, minY, maxX, maxY, x, y, width, height } = label.getCanvasBBox();\n\n    let finalX = x;\n    let finalY = y;\n    if (direction.indexOf('left') >= 0 && (minX < regionMinX || maxX < regionMinX)) {\n      // \n      finalX = regionMinX;\n    }\n    if (direction.indexOf('top') >= 0 && (minY < regionMinY || maxY < regionMinY)) {\n      // \n      finalY = regionMinY;\n    }\n\n    if (direction.indexOf('right') >= 0) {\n      if (minX > regionMaxX) {\n        // \n        finalX = regionMaxX - width;\n      } else if (maxX > regionMaxX) {\n        // \n        finalX = finalX - (maxX - regionMaxX);\n      }\n    }\n\n    if (direction.indexOf('bottom') >= 0) {\n      if (minY > regionMaxY) {\n        // \n        finalY = regionMaxY - height;\n      } else if (maxY > regionMaxY) {\n        // \n        finalY = finalY - (maxY - regionMaxY);\n      }\n    }\n\n    if (finalX !== x || finalY !== y) {\n      const translateX = finalX - x;\n      if (action === 'translate') {\n        translate(label, translateX, finalY - y);\n      } else if (action === 'ellipsis') {\n        const textShapes = label.findAll((shape) => shape.get('type') === 'text');\n        textShapes.forEach((textShape) => {\n          const style = pick(textShape.attr(), ['fontSize', 'fontFamily', 'fontWeight', 'fontStyle', 'fontVariant']);\n          const textBox = textShape.getCanvasBBox();\n          const text = getEllipsisText(textShape.attr('text'), textBox.width - Math.abs(translateX), style);\n          textShape.attr('text', text);\n        });\n      } else {\n        label.hide();\n      }\n    }\n  });\n}\n","import { isNil } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n *  shape \n * \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function fadeIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: isNil(shape.attr('fillOpacity')) ? 1 : shape.attr('fillOpacity'),\n    strokeOpacity: isNil(shape.attr('strokeOpacity')) ? 1 : shape.attr('strokeOpacity'),\n    opacity: isNil(shape.attr('opacity')) ? 1 : shape.attr('opacity'),\n  };\n  shape.attr({\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  });\n  shape.animate(endState, animateCfg);\n}\n\n/**\n * @ignore\n *  shape \n * \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function fadeOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  };\n  const { easing, duration, delay } = animateCfg;\n  shape.animate(\n    endState,\n    duration,\n    easing,\n    () => {\n      shape.remove(true);\n    },\n    delay\n  );\n}\n","import { ext } from '@antv/matrix-util';\nimport { Coordinate, IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\n\n/**\n * @ignore\n * \n * @param shape \n * @param vector \n * @param direct \n */\nexport function transformShape(shape: IShape | IGroup, vector: [number, number], direct: string): number[] {\n  let scaledMatrix;\n\n  const [x, y] = vector;\n  shape.applyToMatrix([x, y, 1]);\n  if (direct === 'x') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 1],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 1],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'y') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 1, 100],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'xy') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 100],\n      ['t', x, y],\n    ]);\n  }\n  return scaledMatrix;\n}\n\n/**\n * \n * @param element \n * @param animateCfg \n * @param coordinate \n * @param yMinPoint y \n * @param type \n */\nexport function doScaleAnimate(\n  element: IGroup | IShape,\n  animateCfg: GAnimateCfg,\n  coordinate: Coordinate,\n  yMinPoint: Point,\n  type: string\n) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n  let x: number;\n  let y: number;\n\n  if (type === 'y') {\n    x = start.x + width / 2;\n    y = yMinPoint.y < start.y ? yMinPoint.y : start.y;\n  } else if (type === 'x') {\n    x = yMinPoint.x > start.x ? yMinPoint.x : start.x;\n    y = start.y + height / 2;\n  } else if (type === 'xy') {\n    if (coordinate.isPolar) {\n      x = coordinate.getCenter().x;\n      y = coordinate.getCenter().y;\n    } else {\n      x = (start.x + end.x) / 2;\n      y = (start.y + end.y) / 2;\n    }\n  }\n\n  const endMatrix = transformShape(element, [x, y], type);\n  element.animate(\n    {\n      matrix: endMatrix,\n    },\n    animateCfg\n  );\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { doScaleAnimate } from './util';\n\n/**\n * @ignore\n * \n * x \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInX(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'x');\n}\n\n/**\n * @ignore\n * \n * y \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'y');\n}\n\n/**\n * @ignore\n * \n * \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInXY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'xy');\n}\n","import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * path \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function pathIn(element: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  // @ts-ignore\n  const length = element.getTotalLength();\n  // \n  element.attr('lineDash', [length]);\n  element.animate((ratio: number) => {\n    return {\n      // \n      lineDashOffset: (1 - ratio) * length,\n    };\n  }, animateCfg);\n}\n","import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * @param shape \n * @param animateCfg\n * @param cfg\n */\nexport function positionUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs } = cfg;\n  // @ts-ignore\n  const x = toAttrs.x;\n  // @ts-ignore\n  const y = toAttrs.y;\n\n  // @ts-ignore\n  delete toAttrs.x;\n  // @ts-ignore\n  delete toAttrs.y;\n\n  shape.attr(toAttrs);\n\n  shape.animate(\n    {\n      x,\n      y,\n    },\n    animateCfg\n  );\n}\n","import { ext } from '@antv/matrix-util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n *  x \n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInX(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const points = mappingData.points as Point[];\n  // x \n  const x = points[0].y - points[1].y > 0 ? box.maxX : box.minX;\n  const y = (box.minY + box.maxY) / 2;\n\n  shape.applyToMatrix([x, y, 1]);\n\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 0.01, 1],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 100, 1],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n\n/**\n * @ignore\n *  y \n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInY(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const x = (box.minX + box.maxX) / 2;\n  const points = mappingData.points as Point[];\n  //  shape \n  const y = points[0].y - points[1].y <= 0 ? box.maxY : box.minY;\n\n  shape.applyToMatrix([x, y, 1]);\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 1, 0.01],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 100],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n","import { getArcParams } from '@antv/g-canvas';\nimport { isNumberEqual, isEqual } from '@antv/util';\n\nimport { IShape, PathCommand } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { getArcPath, getSectorPath } from '../../util/graphics';\n\nfunction getAngle(startPoint: number[], arcPath: PathCommand) {\n  let { startAngle, endAngle } = getArcParams(startPoint, arcPath);\n\n  if (!isNumberEqual(startAngle, -Math.PI * 0.5) && startAngle < -Math.PI * 0.5) {\n    startAngle += Math.PI * 2;\n  }\n  if (!isNumberEqual(endAngle, -Math.PI * 0.5) && endAngle < -Math.PI * 0.5) {\n    endAngle += Math.PI * 2;\n  }\n\n  if (arcPath[5] === 0) {\n    //  startAngle  endAngle  G2 \n    [startAngle, endAngle] = [endAngle, startAngle];\n  }\n\n  if (isNumberEqual(startAngle, Math.PI * 1.5)) {\n    startAngle = Math.PI * -0.5;\n  }\n\n  if (isNumberEqual(endAngle, Math.PI * -0.5)) {\n    endAngle = Math.PI * 1.5;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\nfunction getArcStartPoint(path: PathCommand) {\n  let startPoint;\n  if (path[0] === 'M' || path[0] === 'L') {\n    startPoint = [path[1], path[2]];\n  } else if (path[0] === 'a' || path[0] === 'A' || path[0] === 'C') {\n    startPoint = [path[path.length - 2], path[path.length - 1]];\n  }\n\n  return startPoint;\n}\n\n/**\n * path \n * 1.  path M, L, A, L, Z\n * 2.  path M, M, A, A, M, Z\n * 3.  path M, A, L, A, L, Z\n * 4.  path M, A, A, M, A, A, M, Z\n * 5. radial-line,  path,  M, A, A, Z\n * 6. radial-line,  path M, A, A, A, A, Z\n * @param path theta  path \n */\nfunction getArcInfo(path: PathCommand[]) {\n  let startAngle;\n  let endAngle;\n\n  const arcPaths = path.filter((command) => {\n    return command[0] === 'A' || command[0] === 'a';\n  });\n\n  if (arcPaths.length === 0) {\n    return {\n      startAngle: 0,\n      endAngle: 0,\n      radius: 0,\n      innerRadius: 0,\n    };\n  }\n\n  const firstArcPathCommand = arcPaths[0];\n  const lastArcPathCommand = arcPaths.length > 1 ? arcPaths[1] : arcPaths[0];\n  const firstIndex = path.indexOf(firstArcPathCommand);\n  const lastIndex = path.indexOf(lastArcPathCommand);\n  const firstStartPoint = getArcStartPoint(path[firstIndex - 1]);\n  const lastStartPoint = getArcStartPoint(path[lastIndex - 1]);\n\n  const { startAngle: firstStartAngle, endAngle: firstEndAngle } = getAngle(firstStartPoint, firstArcPathCommand);\n  const { startAngle: lastStartAngle, endAngle: lastEndAngle } = getAngle(lastStartPoint, lastArcPathCommand);\n\n  if (isNumberEqual(firstStartAngle, lastStartAngle) && isNumberEqual(firstEndAngle, lastEndAngle)) {\n    startAngle = firstStartAngle;\n    endAngle = firstEndAngle;\n  } else {\n    startAngle = Math.min(firstStartAngle, lastStartAngle);\n    endAngle = Math.max(firstEndAngle, lastEndAngle);\n  }\n\n  let radius = firstArcPathCommand[1];\n  let innerRadius = arcPaths[arcPaths.length - 1][1];\n  if (radius < innerRadius) {\n    [radius, innerRadius] = [innerRadius, radius];\n  } else if (radius === innerRadius) {\n    innerRadius = 0;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n    radius,\n    innerRadius,\n  };\n}\n\n/**\n * @ignore\n * \n * @param shape \n * @param animateCfg\n * @param cfg\n */\nexport function sectorPathUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs, coordinate } = cfg;\n  const path = (toAttrs as { path: PathCommand[] }).path || [];\n  const pathCommands = path.map((command) => command[0]);\n\n  if (path.length < 1) return;\n\n  const { startAngle: curStartAngle, endAngle: curEndAngle, radius, innerRadius } = getArcInfo(path);\n  const { startAngle: preStartAngle, endAngle: preEndAngle } = getArcInfo(shape.attr('path'));\n\n  const center = coordinate.getCenter();\n  const diffStartAngle = curStartAngle - preStartAngle;\n  const diffEndAngle = curEndAngle - preEndAngle;\n  //  diff  attrs\n  if (diffStartAngle === 0 && diffEndAngle === 0) {\n    shape.attr('path', path);\n    return;\n  }\n\n  shape.animate(\n    (ratio) => {\n      const onFrameStartAngle = preStartAngle + ratio * diffStartAngle;\n      const onFrameEndAngle = preEndAngle + ratio * diffEndAngle;\n      return {\n        ...toAttrs,\n        path:\n          // hack,  /examples/bar/basic/demo/radial-line.ts \n          isEqual(pathCommands, ['M', 'A', 'A', 'Z'])\n            ? getArcPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle)\n            : getSectorPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle, innerRadius),\n      };\n    },\n    {\n      ...animateCfg,\n      callback: () => {\n        //  path  setState() \n        shape.attr('path', path);\n      },\n    }\n  );\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { getCoordinateClipCfg } from '../../util/coordinate';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * \n * @todo \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function waveIn(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { type, startState, endState } = getCoordinateClipCfg(cfg.coordinate, 20); // \n  const clipShape = element.setClip({\n    type,\n    attrs: startState,\n  }) as IShape; //  shape \n\n  // \b\n  clipShape.animate(endState, {\n    ...animateCfg,\n    callback: () => {\n      if (element && !element.get('destroyed')) {\n        element.set('clipShape', null);\n      }\n      clipShape.remove(true); // \n    },\n  });\n}\n","import { ext } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nfunction doShapeZoom(shape: IShape | IGroup, animateCfg: GAnimateCfg, type: 'zoomIn' | 'zoomOut') {\n  if (shape.isGroup()) {\n    each((shape as IGroup).getChildren(), (child) => {\n      doShapeZoom(child, animateCfg, type);\n    });\n  } else {\n    const bbox = shape.getBBox();\n    const x = (bbox.minX + bbox.maxX) / 2;\n    const y = (bbox.minY + bbox.maxY) / 2;\n    shape.applyToMatrix([x, y, 1]);\n\n    if (type === 'zoomIn') {\n      // \n      const matrix = ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ]);\n      shape.setMatrix(matrix);\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 100, 100],\n            ['t', x, y],\n          ]),\n        },\n        animateCfg\n      );\n    } else {\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 0.01, 0.01],\n            ['t', x, y],\n          ]),\n        },\n        {\n          ...animateCfg,\n          callback: () => {\n            shape.remove(true);\n          },\n        }\n      );\n    }\n  }\n}\n\n/**\n * @ignore\n *  shape \n * shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function zoomIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomIn');\n}\n\n/**\n * @ignore\n *  shape \n * shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function zoomOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomOut');\n}\n","import { DIRECTION } from '../constant';\nimport { Point } from '../dependents';\nimport { FacetTitle } from '../interface';\n\n/**\n * @ignore\n *  facet title \n */\nexport function getFactTitleConfig(direction: DIRECTION): FacetTitle {\n  if ([DIRECTION.TOP, DIRECTION.BOTTOM].includes(direction)) {\n    return {\n      offsetX: 0,\n      offsetY: direction === DIRECTION.TOP ? -8 : 8,\n      style: {\n        textAlign: 'center',\n        textBaseline: direction === DIRECTION.TOP ? 'bottom' : 'top',\n      },\n    };\n  }\n\n  if ([DIRECTION.LEFT, DIRECTION.RIGHT].includes(direction)) {\n    return {\n      offsetX: direction === DIRECTION.LEFT ? -8 : 8,\n      offsetY: 0,\n      style: {\n        textAlign: direction === DIRECTION.LEFT ? 'right' : 'left',\n        textBaseline: 'middle',\n        rotate: Math.PI / 2, // \n      },\n    };\n  }\n\n  return {};\n}\n\n/**\n * @ignore\n *   \n * @param center\n * @param r\n * @param angle\n */\nexport function getAnglePoint(center: Point, r: number, angle: number): Point {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle),\n  };\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { AxisCfg, CircleCfg, CircleData, Datum } from '../interface';\n\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { getAnglePoint, getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Circle extends Facet<CircleCfg, CircleData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'circle',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   *  region\n   * @param count\n   * @param index\n   */\n  protected getRegion(count: number, index: number) {\n    const r = 1 / 2; // \n    // \n    const center = { x: 0.5, y: 0.5 };\n    // \n    const avgAngle = (Math.PI * 2) / count;\n\n    // \n    const angle = (-1 * Math.PI) / 2 + avgAngle * index;\n    // TODO \n    const facetR = r / (1 + 1 / Math.sin(avgAngle / 2));\n    // \n    const middle = getAnglePoint(center, r - facetR, angle);\n    const startAngle = (Math.PI * 5) / 4; // \n    const endAngle = (Math.PI * 1) / 4; // \n\n    return {\n      start: getAnglePoint(middle, facetR, startAngle),\n      end: getAnglePoint(middle, facetR, endAngle),\n    };\n  }\n\n  protected afterEachView(view: View, facet: CircleData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: CircleData) {}\n\n  protected generateFacets(data: Datum[]): CircleData[] {\n    const { fields, type } = this.cfg;\n    const [field] = fields;\n    if (!field) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const values = this.getFieldValues(data, field);\n    const count = values.length;\n\n    const rst = [];\n    values.forEach((value: any, index: number) => {\n      const conditions = [{ field, value, values }];\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: CircleData = {\n        type,\n        data: facetData,\n        region: this.getRegion(count, index),\n\n        columnValue: value,\n        columnField: field,\n        columnIndex: index,\n        columnValuesLength: count,\n\n        rowValue: null,\n        rowField: null,\n        rowIndex: 0,\n        rowValuesLength: 1,\n      };\n      rst.push(facet);\n    });\n    return rst;\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // \n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // \n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: CircleData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, ListCfg, ListData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class List extends Facet<ListCfg, ListData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'list',\n      cols: null, // \n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: ListData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: ListData) {}\n\n  protected generateFacets(data: Datum[]): ListData[] {\n    const { fields } = this.cfg;\n    let { cols } = this.cfg;\n\n    const [columnField] = fields;\n    if (!columnField) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const colValues = this.getFieldValues(data, columnField);\n\n    const count = colValues.length;\n    cols = cols || count; // \n\n    // \n    const rows = this.getPageCount(count, cols);\n    const rst = [];\n\n    colValues.forEach((val, index) => {\n      //  index \n      const { row, col } = this.getRowCol(index, cols);\n\n      const conditions = [{ field: columnField, value: val, values: colValues }];\n\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: ListData = {\n        type: this.cfg.type,\n        data: facetData,\n        region: this.getRegion(rows, cols, col, row),\n\n        columnValue: val,\n        rowValue: val,\n        columnField,\n        rowField: null,\n        columnIndex: col,\n        rowIndex: row,\n        columnValuesLength: cols,\n        rowValuesLength: rows,\n\n        total: count,\n      };\n\n      rst.push(facet);\n    });\n\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: ListData): object {\n    //  view \n    if (\n      facet.rowIndex !== facet.rowValuesLength - 1 &&\n      facet.columnValuesLength * facet.rowIndex + facet.columnIndex + 1 + facet.columnValuesLength <= facet.total\n    ) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: ListData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: ListData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n\n  /**\n   * \n   * @param total\n   * @param pageSize\n   */\n  private getPageCount(total: number, pageSize: number): number {\n    return Math.floor((total + pageSize - 1) / pageSize);\n  }\n\n  /**\n   * \n   * @param index\n   * @param pageSize\n   */\n  private getRowCol(index: number, pageSize: number) {\n    const row = Math.floor(index / pageSize);\n    const col = index % pageSize;\n\n    return { row, col };\n  }\n}\n","import { deepMix, each, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MatrixCfg, MatrixData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Matrix extends Facet<MatrixCfg, MatrixData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'matrix',\n      showTitle: false,\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: MatrixData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: MatrixData) {}\n\n  protected generateFacets(data: Datum[]): MatrixData[] {\n    const { fields, type } = this.cfg;\n\n    // \n    const rowValuesLength = fields.length;\n    const columnValuesLength = rowValuesLength;\n\n    const rst = [];\n    for (let i = 0; i < columnValuesLength; i++) {\n      const columnField = fields[i];\n      for (let j = 0; j < rowValuesLength; j++) {\n        const rowField = fields[j];\n\n        const facet: MatrixData = {\n          type,\n          data,\n          region: this.getRegion(rowValuesLength, columnValuesLength, i, j),\n\n          columnValue: columnField,\n          rowValue: rowField,\n          columnField,\n          rowField,\n          columnIndex: i,\n          rowIndex: j,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      }\n    }\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // \n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // \n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: MatrixData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, rowValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const formatter = get(this.cfg.columnTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.columnTitle\n        );\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const formatter = get(this.cfg.rowTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.rowTitle\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MirrorCfg, MirrorData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Mirror extends Facet<MirrorCfg, MirrorData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'mirror',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n      transpose: false,\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected beforeEachView(view: View, facet: MirrorData) {\n    // \n    if (this.cfg.transpose) {\n      if (facet.columnIndex % 2 === 0) {\n        view.coordinate().transpose().reflect('x');\n      } else {\n        view.coordinate().transpose();\n      }\n    } else {\n      if (facet.rowIndex % 2 !== 0) {\n        view.coordinate().reflect('y');\n      }\n    }\n  }\n\n  protected afterEachView(view: View, facet: MirrorData) {\n    this.processAxis(view, facet);\n  }\n\n  protected generateFacets(data: Datum[]): MirrorData[] {\n    const [f] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    let columnField;\n    let rowField;\n\n    if (this.cfg.transpose) {\n      columnField = f;\n      columnValues = this.getFieldValues(data, columnField).slice(0, 2); // \n      columnValuesLength = columnValues.length;\n    } else {\n      rowField = f;\n      rowValues = this.getFieldValues(data, rowField).slice(0, 2); // \n      rowValuesLength = rowValues.length;\n    }\n\n    // \n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: MirrorData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // \n    //  view \n    if (facet.columnIndex === 1 || facet.rowIndex === 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // do nothing\n    return option;\n  }\n\n  private renderTitle() {\n    each(this.facets, (facet: MirrorData, facetIndex: number) => {\n      const { columnValue, rowValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      if (this.cfg.transpose) {\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.title\n        );\n\n        view.annotation().text(config);\n      } else {\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.title\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, RectCfg, RectData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Rect extends Facet<RectCfg, RectData> {\n  protected afterEachView(view: View, facet: RectData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: RectData) {\n    // do nothing\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'rect',\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   * \n   * @param data\n   */\n  protected generateFacets(data: Datum[]): RectData[] {\n    const [columnField, rowField] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    if (columnField) {\n      columnValues = this.getFieldValues(data, columnField);\n      columnValuesLength = columnValues.length;\n    }\n    if (rowField) {\n      rowValues = this.getFieldValues(data, rowField);\n      rowValuesLength = rowValues.length;\n    }\n\n    // \n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: RectData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  private renderTitle(): void {\n    each(this.facets, (facet: RectData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const formatter = get(this.cfg.columnTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.columnTitle\n        );\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const formatter = get(this.cfg.rowTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.rowTitle\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: RectData): object {\n    // \n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.columnIndex !== Math.floor((facet.columnValuesLength - 1) / 2)) {\n      // \n      return {\n        ...option,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: RectData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.rowIndex !== Math.floor((facet.rowValuesLength - 1) / 2)) {\n      return {\n        ...option,\n        title: null,\n      };\n    }\n    return option;\n  }\n}\n","/**\n * Create By Bruce Too\n * On 2020-02-10\n */\nimport { assign, deepMix, each, get } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION, VIEW_LIFE_CIRCLE } from '../constant';\nimport { AxisCfg, Condition, Datum, TreeCfg, TreeData } from '../interface';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * Tree Facet\n */\nexport default class Tree extends Facet<TreeCfg, TreeData> {\n  protected afterEachView(view: View, facet: TreeData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: TreeData) {}\n\n  public init() {\n    super.init();\n    this.view.on(VIEW_LIFE_CIRCLE.AFTER_RENDER, this.afterChartRender);\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'tree',\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: '#ddd',\n        },\n        smooth: false,\n      },\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  protected generateFacets(data: Datum[]): TreeData[] {\n    const fields = this.cfg.fields;\n    if (!fields.length) {\n      throw new Error('Please specify for the fields for rootFacet!');\n    }\n    const rst = [];\n    const rootFacet: TreeData = {\n      type: this.cfg.type,\n      data,\n      region: null,\n      rowValuesLength: this.getRows(),\n      columnValuesLength: 1,\n      rowIndex: 0,\n      columnIndex: 0,\n      rowField: '',\n      columnField: '',\n      rowValue: '',\n      columnValue: '',\n    };\n    rst.push(rootFacet);\n    rootFacet.children = this.getChildFacets(data, 1, rst);\n    this.setRegion(rst);\n    return rst;\n  }\n\n  private setRegion(facets: TreeData[]) {\n    this.forceColIndex(facets);\n    facets.forEach((facet) => {\n      // @ts-ignore \n      facet.region = this.getRegion(facet.rowValuesLength, facet.columnValuesLength, facet.columnIndex, facet.rowIndex);\n    });\n  }\n\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number) {\n    const xWidth = 1 / cols; // x\n    const yWidth = 1 / rows; // y\n\n    const start = {\n      x: xWidth * xIndex,\n      y: yWidth * yIndex,\n    };\n\n    const end = {\n      x: start.x + xWidth,\n      y: start.y + (yWidth * 2) / 3, // 1/3\n    };\n    return {\n      start,\n      end,\n    };\n  }\n\n  private forceColIndex(facets: TreeData[]) {\n    const leafs: TreeData[] = [];\n    let index = 0;\n    facets.forEach((facet) => {\n      if (this.isLeaf(facet)) {\n        leafs.push(facet);\n        // @ts-ignore \n        facet.columnIndex = index;\n        index++;\n      }\n    });\n\n    leafs.forEach((facet) => {\n      // @ts-ignore\n      facet.columnValuesLength = leafs.length;\n    });\n    const maxLevel = this.cfg.fields.length;\n    for (let i = maxLevel - 1; i >= 0; i--) {\n      const levelFacets = this.getFacetsByLevel(facets, i);\n      // var yIndex = maxLevel - i;\n      for (const facet of levelFacets) {\n        if (!this.isLeaf(facet)) {\n          facet.originColIndex = facet.columnIndex;\n          // @ts-ignore\n          facet.columnIndex = this.getRegionIndex(facet.children);\n          // @ts-ignore\n          facet.columnValuesLength = leafs.length;\n        }\n      }\n    }\n  }\n\n  // get facet use level\n  private getFacetsByLevel(facets: TreeData[], level: number) {\n    const rst: TreeData[] = [];\n    facets.forEach((facet) => {\n      if (facet.rowIndex === level) {\n        rst.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  // if the facet has children , make it's column index in the middle of it's children\n  private getRegionIndex(children: TreeData[]) {\n    const first = children[0];\n    const last = children[children.length - 1];\n    return (last.columnIndex - first.columnIndex) / 2 + first.columnIndex;\n  }\n\n  // is  a leaf without children\n  private isLeaf(facet: TreeData) {\n    return !facet.children || !facet.children.length;\n  }\n\n  private getRows() {\n    return this.cfg.fields.length + 1;\n  }\n\n  // get child\n  private getChildFacets(data: Datum[], level: number, arr: TreeData[]) {\n    // [ 'grade', 'class' ]\n    const fields = this.cfg.fields;\n    const length = fields.length;\n    if (length < level) {\n      return;\n    }\n    const rst = [];\n    // get fist level except root node\n    const field = fields[level - 1];\n    // get field value\n    const values = this.getFieldValues(data, field);\n    values.forEach((value, index) => {\n      const conditions = [{ field, value, values } as Condition];\n      const subData = data.filter(this.getFacetDataFilter(conditions));\n      if (subData.length) {\n        const facet: TreeData = {\n          type: this.cfg.type,\n          data: subData,\n          region: null,\n          columnValue: value,\n          rowValue: '',\n          columnField: field,\n          rowField: '',\n          columnIndex: index,\n          rowValuesLength: this.getRows(),\n          columnValuesLength: 1,\n          rowIndex: level,\n          children: this.getChildFacets(subData, level + 1, arr),\n        };\n        rst.push(facet);\n        arr.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  public render() {\n    super.render();\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  private afterChartRender = () => {\n    if (this.facets && this.cfg.line) {\n      this.container.clear();\n      this.drawLines(this.facets);\n    }\n  };\n\n  private renderTitle() {\n    each(this.facets, (facet: TreeData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n\n  private drawLines(facets: TreeData[]) {\n    facets.forEach((facet) => {\n      if (!this.isLeaf(facet)) {\n        const children = facet.children;\n        this.addFacetLines(facet, children);\n      }\n    });\n  }\n\n  // add lines with it's children\n  private addFacetLines(facet: TreeData, children: TreeData[]) {\n    const view = facet.view;\n    const region = view.coordinateBBox;\n    // top, right, bottom, left\n    const start = {\n      x: region.x + region.width / 2,\n      y: region.y + region.height,\n    };\n\n    children.forEach((subFacet) => {\n      const subRegion = subFacet.view.coordinateBBox;\n      const end = {\n        x: subRegion.bl.x + (subRegion.tr.x - subRegion.bl.x) / 2,\n        y: subRegion.tr.y,\n      };\n\n      const middle1 = {\n        x: start.x,\n        y: start.y + (end.y - start.y) / 2,\n      };\n      const middle2 = {\n        x: end.x,\n        y: middle1.y,\n      };\n      this.drawLine([start, middle1, middle2, end]);\n    });\n  }\n\n  private getPath(points) {\n    const path = [];\n    const smooth = this.cfg.line.smooth;\n    if (smooth) {\n      path.push(['M', points[0].x, points[0].y]);\n      path.push(['C', points[1].x, points[1].y, points[2].x, points[2].y, points[3].x, points[3].y]);\n    } else {\n      points.forEach((point, index) => {\n        if (index === 0) {\n          path.push(['M', point.x, point.y]);\n        } else {\n          path.push(['L', point.x, point.y]);\n        }\n      });\n    }\n\n    return path;\n  }\n\n  // draw line width points\n  private drawLine(points) {\n    const path = this.getPath(points);\n    const line = this.cfg.line.style;\n    this.container.addShape('path', {\n      attrs: assign(\n        {\n          // @ts-ignore\n          path,\n        },\n        line\n      ),\n    });\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.originColIndex !== 0 && facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n}\n","import { reduce, isNumber } from '@antv/util';\n\n/**\n * \n * @param array\n */\nexport function getMedian(array: number[]) {\n  const arr = [...array];\n  // \n  arr.sort((a: number, b: number) => {\n    return a - b;\n  });\n\n  const len = arr.length;\n\n  // median\n  // 0\n  if (len === 0) {\n    return 0;\n  }\n\n  // \n  if (len % 2 === 1) {\n    return arr[(len - 1) / 2];\n  }\n\n  // \n  return (arr[len / 2] + arr[len / 2 - 1]) / 2;\n}\n\n/**\n * \n * @param array\n */\nexport function getMean(array: number[]) {\n  const sum = reduce(\n    array,\n    (r: number, num: number) => {\n      return (r += isNaN(num) || !isNumber(num) ? 0 : num);\n    },\n    0\n  );\n\n  return array.length === 0 ? 0 : sum / array.length;\n}\n","import { getMedian, getMean } from './stat';\nimport { Scale } from '../dependents';\n\n/**\n * parse the value position\n * @param val\n * @param scale\n */\nexport function getNormalizedValue(val: number | string, scale: Scale) {\n  if (!scale) {\n    return null;\n  }\n  let scaled: number;\n\n  switch (val) {\n    case 'start':\n      return 0;\n    case 'center':\n      return 0.5;\n    case 'end':\n      return 1;\n    case 'median': {\n      scaled = scale.isCategory ? getMedian(scale.values.map((_, idx: number) => idx)) : getMedian(scale.values);\n      break;\n    }\n    case 'mean': {\n      scaled = scale.isCategory ? (scale.values.length - 1) / 2 : getMean(scale.values);\n      break;\n    }\n    case 'min':\n      scaled = scale.isCategory ? 0 : scale[val];\n      break;\n    case 'max':\n      scaled = scale.isCategory ? scale.values.length - 1 : scale[val];\n      break;\n    default:\n      scaled = val as number;\n      break;\n  }\n\n  return scale.scale(scaled);\n}\n","import {\n  contains,\n  deepMix,\n  each,\n  get,\n  isArray,\n  isFunction,\n  isNil,\n  isString,\n  keys,\n  upperFirst,\n  find,\n  includes,\n} from '@antv/util';\nimport { Annotation as AnnotationComponent, IElement, IGroup } from '../../dependents';\nimport {\n  AnnotationBaseOption as BaseOption,\n  AnnotationPosition as Position,\n  ArcOption,\n  ComponentOption,\n  ShapeAnnotationOption,\n  Data,\n  DataMarkerOption,\n  DataRegionOption,\n  Datum,\n  HtmlAnnotationOption,\n  ImageOption,\n  LineOption,\n  Point,\n  RegionFilterOption,\n  RegionOption,\n  RegionPositionBaseOption,\n  TextOption,\n} from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\nimport { COMPONENT_TYPE, DIRECTION, GEOMETRY_LIFE_CIRCLE, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\n\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element';\nimport { getAngleByPoint, getDistanceToCenter } from '../../util/coordinate';\nimport { omit } from '../../util/helper';\nimport { getNormalizedValue } from '../../util/annotation';\nimport View from '../view';\nimport { Controller } from './base';\nimport { Scale } from '@antv/attr';\n\n/**  */\nconst ANNOTATIONS_AFTER_RENDER = ['regionFilter', 'shape'];\n\n/**\n * Annotation controller, :\n * 1.  Annotation: linetextarc ...\n * 2. : initlayoutrendercleardestroy\n */\nexport default class Annotation extends Controller<BaseOption[]> {\n  private foregroundContainer: IGroup;\n  private backgroundContainer: IGroup;\n\n  /*  cache object :  */\n  private cache = new Map<BaseOption, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    this.foregroundContainer = this.view.getLayer(LAYER.FORE).addGroup();\n    this.backgroundContainer = this.view.getLayer(LAYER.BG).addGroup();\n\n    this.option = [];\n  }\n\n  public get name(): string {\n    return 'annotation';\n  }\n\n  public init() { }\n\n  /**\n   *  annotation  render  layout \n   */\n  public layout() {\n    this.update();\n  }\n\n  //  Annotation  layout() \n  public render() { }\n\n  /**\n   * \n   */\n  public update() {\n    // 1.   Geometry \n    this.onAfterRender(() => {\n      const updated = new Map<BaseOption, ComponentOption>();\n      //  regionFilter/shape \n      each(this.option, (option: BaseOption) => {\n        if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n          const co = this.updateOrCreate(option);\n          // \n          if (co) {\n            updated.set(this.getCacheKey(option), co);\n          }\n        }\n      });\n\n      //  cache\n      // \n      this.cache = this.syncCache(updated);\n    });\n\n    // 2.  regionFilter\n    const updateCache = new Map<BaseOption, ComponentOption>();\n    each(this.option, (option: BaseOption) => {\n      if (!includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n        const co = this.updateOrCreate(option);\n        // \n        if (co) {\n          updateCache.set(this.getCacheKey(option), co);\n        }\n      }\n    });\n    this.cache = this.syncCache(updateCache);\n  }\n\n  /**\n   * \n   * @param includeOption  option \n   */\n  public clear(includeOption = false) {\n    super.clear();\n\n    this.clearComponents();\n    this.foregroundContainer.clear();\n    this.backgroundContainer.clear();\n\n    // clear all option\n    if (includeOption) {\n      this.option = [];\n    }\n  }\n\n  public destroy() {\n    this.clear(true);\n\n    this.foregroundContainer.remove(true);\n    this.backgroundContainer.remove(true);\n  }\n\n  /**\n   * \n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  /**\n   * \n   */\n  private clearComponents() {\n    this.getComponents().forEach((co) => {\n      co.component.destroy();\n    });\n\n    this.cache.clear();\n  }\n\n  /**\n   * region filter \n   * @param doWhat\n   */\n  private onAfterRender(doWhat: () => void) {\n    if (this.view.getOptions().animate) {\n      this.view.geometries.forEach((g: Geometry) => {\n        //  geometry \n        if (g.animateOption) {\n          g.once(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE, () => {\n            doWhat();\n          });\n        }\n      });\n    } else {\n      this.view.getRootView().once(VIEW_LIFE_CIRCLE.AFTER_RENDER, () => {\n        doWhat();\n      });\n    }\n  }\n\n  private createAnnotation(option: BaseOption) {\n    const { type } = option;\n\n    const Ctor = AnnotationComponent[upperFirst(type)];\n    if (Ctor) {\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n      // \n      if (!cfg) {\n        return null;\n      }\n      const annotation = new Ctor(cfg);\n\n      return {\n        component: annotation,\n        layer: this.isTop(cfg) ? LAYER.FORE : LAYER.BG,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.ANNOTATION,\n        extra: option,\n      };\n    }\n  }\n\n  // APIs for creating annotation component\n  public annotation(option: any) {\n    this.option.push(option);\n  }\n\n  /**\n   *  Arc\n   * @param option\n   * @returns AnnotationController\n   */\n  public arc(option: ArcOption) {\n    this.annotation({\n      type: 'arc',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  image\n   * @param option\n   * @returns AnnotationController\n   */\n  public image(option: ImageOption) {\n    this.annotation({\n      type: 'image',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Line\n   * @param option\n   * @returns AnnotationController\n   */\n  public line(option: LineOption) {\n    this.annotation({\n      type: 'line',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Region\n   * @param option\n   * @returns AnnotationController\n   */\n  public region(option: RegionOption) {\n    this.annotation({\n      type: 'region',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Text\n   * @param option\n   * @returns AnnotationController\n   */\n  public text(option: TextOption) {\n    this.annotation({\n      type: 'text',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  DataMarker\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataMarker(option: DataMarkerOption) {\n    this.annotation({\n      type: 'dataMarker',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  DataRegion\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataRegion(option: DataRegionOption) {\n    this.annotation({\n      type: 'dataRegion',\n      ...option,\n    });\n  }\n\n  /**\n   *  RegionFilter\n   * @param option\n   * @returns AnnotationController\n   */\n  public regionFilter(option: RegionFilterOption) {\n    this.annotation({\n      type: 'regionFilter',\n      ...option,\n    });\n  }\n\n  /**\n   *  ShapeAnnotation\n   * @param option\n   */\n  public shape(option: ShapeAnnotationOption) {\n    this.annotation({\n      type: 'shape',\n      ...option,\n    });\n  }\n\n  /**\n   *  HtmlAnnotation\n   * @param option\n   */\n  public html(option: HtmlAnnotationOption) {\n    this.annotation({\n      type: 'html',\n      ...option,\n    });\n  }\n  // end API\n\n  /**\n   * parse the point position to [x, y]\n   * @param p Position\n   * @returns { x, y }\n   */\n  private parsePosition(\n    p:\n      | [string | number, string | number]\n      | Datum\n      | ((xScale: Scale, yScale: Scale) => [string | number, string | number] | number | Datum)\n  ): Point {\n    const xScale = this.view.getXScale();\n    //  object\n    const yScales = this.view.getScalesByDim('y');\n\n    const position: Position = isFunction(p) ? p.call(null, xScale, yScales) : p;\n\n    let x = 0;\n    let y = 0;\n\n    //  [24, 24] \n    if (isArray(position)) {\n      const [xPos, yPos] = position;\n      //  ['50%', '50%'] \n      // fix:  'xxx5%xxx'  https://github.com/antvis/f2/issues/590\n      // @ts-ignore\n      if (isString(xPos) && xPos.indexOf('%') !== -1 && !isNaN(xPos.slice(0, -1))) {\n        return this.parsePercentPosition(position as [string, string]);\n      }\n\n      x = getNormalizedValue(xPos, xScale);\n      y = getNormalizedValue(yPos, Object.values(yScales)[0]);\n    } else if (!isNil(position)) {\n      //  object \n      for (const key of keys(position)) {\n        const value = position[key];\n        if (key === xScale.field) {\n          x = getNormalizedValue(value, xScale);\n        }\n        if (yScales[key]) {\n          y = getNormalizedValue(value, yScales[key]);\n        }\n      }\n    }\n\n    if (isNaN(x) || isNaN(y)) {\n      return null;\n    }\n\n    return this.view.getCoordinate().convert({ x, y });\n  }\n\n  /**\n   * parse all the points between start and end\n   * @param start\n   * @param end\n   * @return Point[]\n   */\n  private getRegionPoints(start: Position | Data, end: Position | Data): Point[] {\n    const xScale = this.view.getXScale();\n    const yScales = this.view.getScalesByDim('y');\n    const yScale = Object.values(yScales)[0];\n    const xField = xScale.field;\n    const viewData = this.view.getData();\n    const startXValue = isArray(start) ? start[0] : start[xField];\n    const endXValue = isArray(end) ? end[0] : end[xField];\n    const arr = [];\n\n    let startIndex;\n    each(viewData, (item, idx) => {\n      if (item[xField] === startXValue) {\n        startIndex = idx;\n      }\n      if (idx >= startIndex) {\n        const point = this.parsePosition([item[xField], item[yScale.field]]);\n        if (point) {\n          arr.push(point);\n        }\n      }\n      if (item[xField] === endXValue) {\n        return false;\n      }\n    });\n\n    return arr;\n  }\n\n  /**\n   * parse percent position\n   * @param position\n   */\n  private parsePercentPosition(position: [string, string]): Point {\n    const xPercent = parseFloat(position[0]) / 100;\n    const yPercent = parseFloat(position[1]) / 100;\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n    const x = coordinate.getWidth() * xPercent + topLeft.x;\n    const y = coordinate.getHeight() * yPercent + topLeft.y;\n    return { x, y };\n  }\n\n  /**\n   * get coordinate bbox\n   */\n  private getCoordinateBBox() {\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const width = coordinate.getWidth();\n    const height = coordinate.getHeight();\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n\n    return {\n      x: topLeft.x,\n      y: topLeft.y,\n      minX: topLeft.x,\n      minY: topLeft.y,\n      maxX: topLeft.x + width,\n      maxY: topLeft.y + height,\n      width,\n      height,\n    };\n  }\n\n  /**\n   * get annotation component config by different type\n   * @param type\n   * @param option \n   * @param theme\n   */\n  private getAnnotationCfg(type: string, option: any, theme: object): object | null {\n    const coordinate = this.view.getCoordinate();\n    const canvas = this.view.getCanvas();\n    let o = {};\n\n    if (isNil(option)) {\n      return null;\n    }\n    const { start, end, position } = option;;\n    const sp = this.parsePosition(start);\n    const ep = this.parsePosition(end);\n    const textPoint = this.parsePosition(position);\n    if (['arc', 'image', 'line', 'region', 'regionFilter'].includes(type) && (!sp || !ep)) {\n      return null;\n    } else if (['text', 'dataMarker', 'html'].includes(type) && !textPoint) {\n      return null;\n    }\n\n    if (type === 'arc') {\n      const { start, end, ...rest } = option as ArcOption;\n      const startAngle = getAngleByPoint(coordinate, sp);\n      let endAngle = getAngleByPoint(coordinate, ep);\n      if (startAngle > endAngle) {\n        endAngle = Math.PI * 2 + endAngle;\n      }\n\n      o = {\n        ...rest,\n        center: coordinate.getCenter(),\n        radius: getDistanceToCenter(coordinate, sp),\n        startAngle,\n        endAngle,\n      };\n    } else if (type === 'image') {\n      const { start, end, ...rest } = option as ImageOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n        src: option.src,\n      };\n    } else if (type === 'line') {\n      const { start, end, ...rest } = option as LineOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n        text: get(option, 'text', null),\n      };\n    } else if (type === 'region') {\n      const { start, end, ...rest } = option as RegionPositionBaseOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n      };\n    } else if (type === 'text') {\n      const filteredData = this.view.getData();\n      const { position, content, ...rest } = option as TextOption;\n      let textContent = content;\n      if (isFunction(content)) {\n        textContent = content(filteredData);\n      }\n      o = {\n        ...textPoint,\n        ...rest,\n        content: textContent,\n      };\n    } else if (type === 'dataMarker') {\n      const { position, point, line, text, autoAdjust, direction, ...rest } = option as DataMarkerOption;\n      o = {\n        ...rest,\n        ...textPoint,\n        coordinateBBox: this.getCoordinateBBox(),\n        point,\n        line,\n        text,\n        autoAdjust,\n        direction,\n      };\n    } else if (type === 'dataRegion') {\n      const { start, end, region, text, lineLength, ...rest } = option as DataRegionOption;\n      o = {\n        ...rest,\n        points: this.getRegionPoints(start, end),\n        region,\n        text,\n        lineLength,\n      };\n    } else if (type === 'regionFilter') {\n      const { start, end, apply, color, ...rest } = option as RegionFilterOption;\n      const geometries: Geometry[] = this.view.geometries;\n      const shapes = [];\n      const addShapes = (item?: IElement) => {\n        if (!item) {\n          return;\n        }\n        if (item.isGroup()) {\n          (item as IGroup).getChildren().forEach((child) => addShapes(child));\n        } else {\n          shapes.push(item);\n        }\n      };\n      each(geometries, (geom: Geometry) => {\n        if (apply) {\n          if (contains(apply, geom.type)) {\n            each(geom.elements, (elem: Element) => {\n              addShapes(elem.shape);\n            });\n          }\n        } else {\n          each(geom.elements, (elem: Element) => {\n            addShapes(elem.shape);\n          });\n        }\n      });\n      o = {\n        ...rest,\n        color,\n        shapes,\n        start: sp,\n        end: ep,\n      };\n    } else if (type === 'shape') {\n      const { render, ...restOptions } = option as ShapeAnnotationOption;\n      const wrappedRender = (container: IGroup) => {\n        if (isFunction(option.render)) {\n          return render(container, this.view, { parsePosition: this.parsePosition.bind(this) });\n        }\n      };\n      o = {\n        ...restOptions,\n        render: wrappedRender,\n      };\n    } else if (type === 'html') {\n      const { html, position, ...restOptions } = option as HtmlAnnotationOption;\n      const wrappedHtml = (container: HTMLElement) => {\n        if (isFunction(html)) {\n          return html(container, this.view);\n        }\n        return html;\n      };\n      o = {\n        ...restOptions,\n        ...textPoint,\n        // html  parent\n        parent: canvas.get('el').parentNode,\n        html: wrappedHtml,\n      };\n    }\n    // \n    const cfg = deepMix({}, theme, {\n      ...o,\n      top: option.top,\n      style: option.style,\n      offsetX: option.offsetX,\n      offsetY: option.offsetY,\n    });\n    if (type !== 'html') {\n      // html  G container\n      cfg.container = this.getComponentContainer(cfg);\n    }\n    cfg.animate = this.view.getOptions().animate && cfg.animate && get(option, 'animate', cfg.animate); //  view \n    cfg.animateOption = deepMix({}, DEFAULT_ANIMATE_CFG, cfg.animateOption, option.animateOption);\n\n    return cfg;\n  }\n\n  /**\n   * is annotation render on top\n   * @param option\n   * @return whethe on top\n   */\n  private isTop(option: any): boolean {\n    return get(option, 'top', true);\n  }\n\n  /**\n   * get the container by option.top\n   * default is on top\n   * @param option\n   * @returns the container\n   */\n  private getComponentContainer(option: any) {\n    return this.isTop(option) ? this.foregroundContainer : this.backgroundContainer;\n  }\n\n  private getAnnotationTheme(type: string) {\n    return get(this.view.getTheme(), ['components', 'annotation', type], {});\n  }\n\n  /**\n   *  annotation\n   * @param option\n   */\n  private updateOrCreate(option: BaseOption) {\n    // \n    let co = this.cache.get(this.getCacheKey(option));\n\n    // \n    if (co) {\n      const { type } = option;\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n\n      // \n      if (cfg) {\n        omit(cfg, ['container']);\n      }\n      co.component.update({ ...(cfg || {}), visible: !!cfg });\n      //  regionFilter/shape render\n      if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n        co.component.render();\n      }\n    } else {\n      // \n      co = this.createAnnotation(option);\n      if (co) {\n        co.component.init();\n        // NoteregionFilter/shape regionFilter/shape  Geometry  Shape view render \n        //  render \n        if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n          co.component.render();\n        }\n      }\n    }\n    return co;\n  }\n\n  /**\n   * \n   * @param updated \n   */\n  private syncCache(updated: Map<BaseOption, ComponentOption>) {\n    const newCache = new Map(this.cache); // clone \n\n    //  update  cache\n    updated.forEach((co: ComponentOption, key: BaseOption) => {\n      newCache.set(key, co);\n    });\n\n    //  options \n    newCache.forEach((co: ComponentOption, key: BaseOption) => {\n      // option \n      if (\n        !find(this.option, (option: BaseOption) => {\n          return key === this.getCacheKey(option);\n        })\n      ) {\n        co.component.destroy();\n        newCache.delete(key);\n      }\n    });\n\n    return newCache;\n  }\n\n  /**\n   *  key\n   * @param option\n   */\n  private getCacheKey(option: BaseOption) {\n    //  id id string option  key\n    return option;\n    //  id \n    // const id = get(option, 'id');\n    // return id ? id : option;\n  }\n}\n","import { deepMix, get, map } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale, Tick } from '../dependents';\n\n/**\n * @ignore\n * get the grid theme by type, will mix the common cfg of axis\n * @param theme\n * @param direction\n * @returns theme object\n */\nexport function getGridThemeCfg(theme: object, direction: DIRECTION | 'common'): object {\n  const axisTheme = deepMix(\n    {},\n    get(theme, ['components', 'axis', 'common']),\n    get(theme, ['components', 'axis', direction])\n  );\n  return get(axisTheme, ['grid'], {});\n}\n\n/**\n * @ignore\n * get axis grid items\n * @param coordinate\n * @param scale\n * @param dim\n * @return items\n */\nexport function getLineGridItems(coordinate: Coordinate, scale: Scale, dim: string, alignTick?: boolean) {\n  const items = [];\n  const ticks = scale.getTicks();\n  if (coordinate.isPolar) {\n    //  ticks\n    ticks.push({\n      value: 1,\n      text: '',\n      tickValue: '',\n    });\n  }\n  ticks.reduce((preTick: Tick, currentTick: Tick, currentIndex) => {\n    const currentValue = currentTick.value;\n    if (alignTick) {\n      items.push({\n        points: [\n          coordinate.convert(dim === 'y' ? { x: 0, y: currentValue } : { x: currentValue, y: 0 }),\n          coordinate.convert(dim === 'y' ? { x: 1, y: currentValue } : { x: currentValue, y: 1 }),\n        ],\n      });\n    } else {\n      if (currentIndex) {\n        const preValue = preTick.value;\n        const middleValue = (preValue + currentValue) / 2;\n        items.push({\n          points: [\n            coordinate.convert(dim === 'y' ? { x: 0, y: middleValue } : { x: middleValue, y: 0 }),\n            coordinate.convert(dim === 'y' ? { x: 1, y: middleValue } : { x: middleValue, y: 1 }),\n          ],\n        });\n      }\n    }\n    return currentTick;\n  }, ticks[0]);\n  return items;\n}\n\n/**\n * @ignore\n * get\n * @param coordinate\n * @param xScale\n * @param yScale\n * @param dim\n * @returns items\n */\nexport function getCircleGridItems(\n  coordinate: Coordinate,\n  xScale: Scale,\n  yScale: Scale,\n  alignTick: boolean,\n  dim: string\n) {\n  const count = xScale.values.length;\n  const items = [];\n  const ticks = yScale.getTicks();\n\n  ticks.reduce((preTick: Tick, currentTick: Tick) => {\n    const preValue = preTick ? preTick.value : currentTick.value; // \n    const currentValue = currentTick.value;\n    const middleValue = (preValue + currentValue) / 2;\n    if (dim === 'x') {\n      //  x \n      items.push({\n        points: [\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 0,\n          }),\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 1,\n          }),\n        ],\n      });\n    } else {\n      items.push({\n        points: map(Array(count + 1), (__: any, idx: number) => {\n          return coordinate.convert({\n            x: idx / count,\n            y: alignTick ? currentValue : middleValue,\n          });\n        }),\n      });\n    }\n\n    return currentTick;\n  }, ticks[0]);\n  return items;\n}\n\n/**\n * @ignore\n * show grid or not\n * @param axisTheme\n * @param axisOption\n */\nexport function showGrid(axisTheme: any, axisOption: any): boolean {\n  const userGrid = get(axisOption, 'grid');\n  if (userGrid === null) {\n    return false;\n  }\n\n  const themeGrid = get(axisTheme, 'grid');\n\n  return !(userGrid === undefined && themeGrid === null);\n}\n","import { deepMix, each, get, isUndefined } from '@antv/util';\nimport { DIRECTION, COMPONENT_TYPE, LAYER } from '../../constant';\nimport { CircleAxis, CircleGrid, IGroup, LineAxis, LineGrid, Scale } from '../../dependents';\nimport { AxisCfg, AxisOption, ComponentOption } from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\n\nimport {\n  getAxisDirection,\n  getAxisFactorByRegion,\n  getAxisRegion,\n  getAxisThemeCfg,\n  getAxisTitleOptions,\n  getAxisTitleText,\n  getCircleAxisCenterRadius,\n  isVertical,\n} from '../../util/axis';\nimport { getAxisOption } from '../../util/axis';\nimport { getCircleGridItems, getGridThemeCfg, getLineGridItems, showGrid } from '../../util/grid';\nimport { omit } from '../../util/helper';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype Option = Record<string, AxisOption> | boolean;\n\ntype Cache = Map<string, ComponentOption>;\n\n// update \nconst OMIT_CFG = ['container'];\n\n// \nconst AXIS_DEFAULT_ANIMATE_CFG = {\n  ...DEFAULT_ANIMATE_CFG,\n  appear: null,\n};\n\n/**\n * @ignore\n * G2 Axis controller, will:\n *  - create component\n *    - axis\n *    - grid\n *  - life circle\n */\nexport default class Axis extends Controller<Option> {\n  /** the draw group of axis */\n  private axisContainer: IGroup;\n  private axisForeContainer: IGroup;\n  private gridContainer: IGroup;\n  private gridForeContainer: IGroup;\n\n  /**  object  */\n  private cache: Cache = new Map<string, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    //  gridContainer grid  axis \n    this.gridContainer = this.view.getLayer(LAYER.BG).addGroup();\n    this.gridForeContainer = this.view.getLayer(LAYER.FORE).addGroup();\n    this.axisContainer = this.view.getLayer(LAYER.BG).addGroup();\n    this.axisForeContainer = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  public get name(): string {\n    return 'axis';\n  }\n\n  public init() {}\n\n  public render() {\n    this.update();\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    const coordinate = this.view.getCoordinate();\n\n    each(this.getComponents(), (co: ComponentOption) => {\n      const { component, direction, type, extra } = co;\n      const { dim, scale, alignTick } = extra;\n\n      let updated;\n\n      if (type === COMPONENT_TYPE.AXIS) {\n        if (coordinate.isPolar) {\n          if (dim === 'x') {\n            updated = coordinate.isTransposed\n              ? getAxisRegion(coordinate, direction)\n              : getCircleAxisCenterRadius(coordinate);\n          } else if (dim === 'y') {\n            updated = coordinate.isTransposed\n              ? getCircleAxisCenterRadius(coordinate)\n              : getAxisRegion(coordinate, direction);\n          }\n        } else {\n          updated = getAxisRegion(coordinate, direction);\n        }\n      } else if (type === COMPONENT_TYPE.GRID) {\n        if (coordinate.isPolar) {\n          let items;\n          if (coordinate.isTransposed) {\n            items =\n              dim === 'x'\n                ? getCircleGridItems(coordinate, this.view.getYScales()[0], scale, alignTick, dim)\n                : getLineGridItems(coordinate, scale, dim, alignTick);\n          } else {\n            items =\n              dim === 'x'\n                ? getLineGridItems(coordinate, scale, dim, alignTick)\n                : getCircleGridItems(coordinate, this.view.getXScale(), scale, alignTick, dim);\n          }\n          updated = {\n            items,\n            // coordinate center \n            center: this.view.getCoordinate().getCenter(),\n          };\n        } else {\n          updated = { items: getLineGridItems(coordinate, scale, dim, alignTick) };\n        }\n      }\n      component.update(updated);\n    });\n  }\n\n  /**\n   *  axis \n   */\n  public update() {\n    this.option = this.view.getOptions().axes;\n\n    const updatedCache = new Map<string, ComponentOption>();\n\n    this.updateXAxes(updatedCache);\n    this.updateYAxes(updatedCache);\n\n    // \n    // \n    const newCache = new Map<string, ComponentOption>();\n\n    this.cache.forEach((co: ComponentOption, key: string) => {\n      if (updatedCache.has(key)) {\n        newCache.set(key, co);\n      } else {\n        // \n        co.component.destroy();\n      }\n    });\n\n    // \n    this.cache = newCache;\n  }\n\n  public clear() {\n    super.clear();\n\n    this.cache.clear();\n    this.gridContainer.clear();\n    this.gridForeContainer.clear();\n    this.axisContainer.clear();\n    this.axisForeContainer.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.gridContainer.remove(true);\n    this.gridForeContainer.remove(true);\n    this.axisContainer.remove(true);\n    this.axisForeContainer.remove(true);\n  }\n\n  /**\n   * @override\n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  /**\n   *  x axis\n   * @param updatedCache\n   */\n  private updateXAxes(updatedCache: Cache) {\n    // x axis\n    const scale = this.view.getXScale();\n\n    if (!scale || scale.isIdentity) {\n      return;\n    }\n\n    const xAxisOption = getAxisOption(this.option, scale.field);\n    if (xAxisOption === false) {\n      return;\n    }\n\n    const direction = getAxisDirection(xAxisOption, DIRECTION.BOTTOM);\n    const layer = LAYER.BG;\n    const dim = 'x';\n\n    const coordinate = this.view.getCoordinate();\n\n    const axisId = this.getId('axis', scale.field);\n    const gridId = this.getId('grid', scale.field);\n\n    if (coordinate.isRect) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // \n      if (axis) {\n        const cfg = this.getLineAxisCfg(scale, xAxisOption, direction);\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // \n        axis = this.createLineAxis(scale, xAxisOption, layer, direction, dim);\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // \n      if (grid) {\n        const cfg = this.getLineGridCfg(scale, xAxisOption, direction, dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // \n        grid = this.createLineGrid(scale, xAxisOption, layer, direction, dim);\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else if (coordinate.isPolar) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // \n      if (axis) {\n        const cfg = coordinate.isTransposed\n          ? this.getLineAxisCfg(scale, xAxisOption, DIRECTION.RADIUS)\n          : this.getCircleAxisCfg(scale, xAxisOption, direction);\n\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // \n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            // \n            return;\n          } else {\n            //  chart.axis(true)/chart.axis('x', true)\n            //  x \n            axis = this.createLineAxis(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n          }\n        } else {\n          axis = this.createCircleAxis(scale, xAxisOption, layer, direction, dim);\n        }\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // \n      if (grid) {\n        const cfg = coordinate.isTransposed\n          ? this.getCircleGridCfg(scale, xAxisOption, DIRECTION.RADIUS, dim)\n          : this.getLineGridCfg(scale, xAxisOption, DIRECTION.CIRCLE, dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // \n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            return;\n          } else {\n            grid = this.createCircleGrid(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n          }\n        } else {\n          // grid x \n          grid = this.createLineGrid(scale, xAxisOption, layer, DIRECTION.CIRCLE, dim);\n        }\n\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else {\n      // helix and other, do not draw axis\n    }\n  }\n\n  private updateYAxes(updatedCache: Cache) {\n    // y axes\n    const yScales = this.view.getYScales();\n\n    each(yScales, (scale: Scale, idx: number) => {\n      // @ts-ignore\n      if (!scale || scale.isIdentity) {\n        return;\n      }\n      const { field } = scale;\n      const yAxisOption = getAxisOption(this.option, field);\n\n      if (yAxisOption !== false) {\n        const layer = LAYER.BG;\n        const dim = 'y';\n        const axisId = this.getId('axis', field);\n        const gridId = this.getId('grid', field);\n\n        const coordinate = this.view.getCoordinate();\n\n        if (coordinate.isRect) {\n          const direction = getAxisDirection(yAxisOption, idx === 0 ? DIRECTION.LEFT : DIRECTION.RIGHT);\n\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // \n          if (axis) {\n            const cfg = this.getLineAxisCfg(scale, yAxisOption, direction);\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // \n            axis = this.createLineAxis(scale, yAxisOption, layer, direction, dim);\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // \n          if (grid) {\n            const cfg = this.getLineGridCfg(scale, yAxisOption, direction, dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // \n            grid = this.createLineGrid(scale, yAxisOption, layer, direction, dim);\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else if (coordinate.isPolar) {\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // \n          if (axis) {\n            const cfg = coordinate.isTransposed\n              ? this.getCircleAxisCfg(scale, yAxisOption, DIRECTION.CIRCLE)\n              : this.getLineAxisCfg(scale, yAxisOption, DIRECTION.RADIUS);\n\n            // @ts-ignore\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // \n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                axis = this.createCircleAxis(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n              }\n            } else {\n              axis = this.createLineAxis(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n            }\n\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // \n          if (grid) {\n            const cfg = coordinate.isTransposed\n              ? this.getLineGridCfg(scale, yAxisOption, DIRECTION.CIRCLE, dim)\n              : this.getCircleGridCfg(scale, yAxisOption, DIRECTION.RADIUS, dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // \n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                grid = this.createLineGrid(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n              }\n            } else {\n              grid = this.createCircleGrid(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n            }\n\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else {\n          // helix and other, do not draw axis\n        }\n      }\n    });\n  }\n\n  /**\n   *  line axis\n   * @param scale\n   * @param option\n   * @param layer\n   * @param direction\n   * @param dim\n   */\n  private createLineAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    // axis\n    const axis = {\n      component: new LineAxis(this.getLineAxisCfg(scale, option, direction)),\n      layer,\n      direction: direction === DIRECTION.RADIUS ? DIRECTION.NONE : direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createLineGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getLineGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new LineGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n        },\n      };\n      grid.component.init();\n\n      return grid;\n    }\n  }\n\n  private createCircleAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const axis = {\n      component: new CircleAxis(this.getCircleAxisCfg(scale, option, direction)),\n      layer,\n      direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createCircleGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getCircleGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new CircleGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n        },\n      };\n\n      grid.component.init();\n      return grid;\n    }\n  }\n\n  /**\n   * generate line axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return line axis cfg\n   */\n  private getLineAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION) {\n    const container = get(axisOption, ['top']) ? this.axisForeContainer : this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n    const region = getAxisRegion(coordinate, direction);\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix(\n          { title: { style: { text: titleText } } },\n          { title: getAxisTitleOptions(this.view.getTheme(), direction, axisOption.title) },\n          axisOption\n        )\n      : axisOption;\n\n    const cfg = deepMix(\n      {\n        container,\n        ...region,\n        ticks: scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value })),\n        verticalFactor: coordinate.isPolar\n          ? getAxisFactorByRegion(region, coordinate.getCenter()) * -1\n          : getAxisFactorByRegion(region, coordinate.getCenter()),\n        theme: axisThemeCfg,\n      },\n      axisThemeCfg,\n      optionWithTitle\n    );\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animateOption = animateOption;\n    cfg.animate = animate;\n\n    //  verticalLimitLength\n    const isAxisVertical = isVertical(region);\n    // TODO: 1 / 3 \n    const verticalLimitLength = get(cfg, 'verticalLimitLength', isAxisVertical ? 1 / 3 : 1 / 2);\n    if (verticalLimitLength <= 1) {\n      // \n      const canvasWidth = this.view.getCanvas().get('width');\n      const canvasHeight = this.view.getCanvas().get('height');\n      cfg.verticalLimitLength = verticalLimitLength * (isAxisVertical ? canvasWidth : canvasHeight);\n    }\n\n    return cfg;\n  }\n\n  /**\n   * generate line grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @param dim\n   * @return line grid cfg\n   */\n  private getLineGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string) {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    // grid  axis \n    const gridCfg = deepMix(\n      {\n        container: get(axisOption, ['top']) ? this.gridForeContainer : this.gridContainer,\n      },\n      gridThemeCfg,\n      get(axisOption, 'grid'),\n      this.getAnimateCfg(axisOption)\n    );\n    gridCfg.items = getLineGridItems(this.view.getCoordinate(), scale, dim, get(gridCfg, 'alignTick', true));\n\n    return gridCfg;\n  }\n\n  /**\n   * generate circle axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle axis cfg\n   */\n  private getCircleAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION) {\n    const container = get(axisOption, ['top']) ? this.axisForeContainer : this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n\n    const ticks = scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value }));\n    if (!scale.isCategory && Math.abs(coordinate.endAngle - coordinate.startAngle) === Math.PI * 2) {\n      // x  cat \n      ticks.pop();\n    }\n\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), DIRECTION.CIRCLE);\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix(\n          { title: { style: { text: titleText } } },\n          { title: getAxisTitleOptions(this.view.getTheme(), direction, axisOption.title) },\n          axisOption\n        )\n      : axisOption;\n    const cfg = deepMix(\n      {\n        container,\n        ...getCircleAxisCenterRadius(this.view.getCoordinate()),\n        ticks,\n        verticalFactor: 1,\n        theme: axisThemeCfg,\n      },\n      axisThemeCfg,\n      optionWithTitle\n    );\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animate = animate;\n    cfg.animateOption = animateOption;\n\n    return cfg;\n  }\n\n  /**\n   * generate circle grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle grid cfg\n   */\n  private getCircleGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string) {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n\n    // the cfg order should be ensure\n    // grid  axis \n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), DIRECTION.RADIUS);\n    const gridCfg = deepMix(\n      {\n        container: get(axisOption, ['top']) ? this.gridForeContainer : this.gridContainer,\n        center: this.view.getCoordinate().getCenter(),\n      },\n      gridThemeCfg,\n      get(axisOption, 'grid'),\n      this.getAnimateCfg(axisOption)\n    );\n    const alignTick = get(gridCfg, 'alignTick', true);\n    const verticalScale = dim === 'x' ? this.view.getYScales()[0] : this.view.getXScale();\n    gridCfg.items = getCircleGridItems(this.view.getCoordinate(), verticalScale, scale, alignTick, dim);\n    // the cfg order should be ensure\n    // grid  axis \n    return gridCfg;\n  }\n\n  private getId(name: string, key: string): string {\n    const coordinate = this.view.getCoordinate();\n    //  key\n    return `${name}-${key}-${coordinate.type}`;\n  }\n\n  private getAnimateCfg(cfg) {\n    return {\n      animate: this.view.getOptions().animate && get(cfg, 'animate'), //  view \n      animateOption:\n        cfg && cfg.animateOption ? deepMix({}, AXIS_DEFAULT_ANIMATE_CFG, cfg.animateOption) : AXIS_DEFAULT_ANIMATE_CFG,\n    };\n  }\n}\n","import { DIRECTION } from '../constant';\nimport { Coordinate } from '../dependents';\nimport { Position } from '../interface';\nimport { BBox } from './bbox';\n\n/**\n * @ignore\n *  bbox \n * @param parentBBox\n * @param bbox\n * @param direction\n */\nexport function directionToPosition(parentBBox: BBox, bbox: BBox, direction: DIRECTION): Position {\n  if (direction === DIRECTION.TOP) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.minY];\n  }\n  if (direction === DIRECTION.BOTTOM) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.maxY - bbox.height];\n  }\n  if (direction === DIRECTION.LEFT) {\n    return [parentBBox.minX, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n  if (direction === DIRECTION.RIGHT) {\n    return [parentBBox.maxX - bbox.width, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n\n  if (direction === DIRECTION.TOP_LEFT || direction === DIRECTION.LEFT_TOP) {\n    return [parentBBox.tl.x, parentBBox.tl.y];\n  }\n  if (direction === DIRECTION.TOP_RIGHT || direction === DIRECTION.RIGHT_TOP) {\n    return [parentBBox.tr.x - bbox.width, parentBBox.tr.y];\n  }\n  if (direction === DIRECTION.BOTTOM_LEFT || direction === DIRECTION.LEFT_BOTTOM) {\n    return [parentBBox.bl.x, parentBBox.bl.y - bbox.height];\n  }\n  if (direction === DIRECTION.BOTTOM_RIGHT || direction === DIRECTION.RIGHT_BOTTOM) {\n    return [parentBBox.br.x - bbox.width, parentBBox.br.y - bbox.height];\n  }\n\n  return [0, 0];\n}\n\n/**\n * get direction after coordinate transpose\n * @param direction\n * @param coordinate\n * @returns direction after transpose or not\n */\nfunction getTransposedDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  if (coordinate.isTransposed) {\n    switch (direction) {\n      case DIRECTION.BOTTOM:\n        return DIRECTION.LEFT;\n      case DIRECTION.LEFT:\n        return DIRECTION.BOTTOM;\n      case DIRECTION.RIGHT:\n        return DIRECTION.TOP;\n      case DIRECTION.TOP:\n        return DIRECTION.RIGHT;\n    }\n  }\n  return direction;\n}\n\nfunction reflectX(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.LEFT) {\n    return DIRECTION.RIGHT;\n  }\n\n  if (direct === DIRECTION.RIGHT) {\n    return DIRECTION.LEFT;\n  }\n\n  return direct;\n}\n\nfunction reflectY(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.TOP) {\n    return DIRECTION.BOTTOM;\n  }\n  if (direct === DIRECTION.BOTTOM) {\n    return DIRECTION.TOP;\n  }\n\n  return direct;\n}\n\n/**\n * get direction after coordinate.scale\n * @param direction\n * @param coordinate\n */\nfunction getScaleDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  const x = coordinate.matrix[0];\n  const y = coordinate.matrix[4];\n\n  let d = direction;\n  if (x < 0) {\n    d = reflectX(d);\n  }\n  if (y < 0) {\n    d = reflectY(d);\n  }\n  return d;\n}\n\n/**\n *\n * @param direction\n * @param coordinate\n */\nfunction getReflectDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n\n  if (coordinate.isReflect('x')) {\n    d = reflectX(d);\n  }\n  if (coordinate.isReflect('y')) {\n    d = reflectY(d);\n  }\n\n  return d;\n}\n\n/**\n * @ignore\n * get direction after coordinate translate\n * @param direction\n * @param coordinate\n */\nexport function getTranslateDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n  d = getTransposedDirection(d, coordinate);\n  d = getScaleDirection(d, coordinate);\n  d = getReflectDirection(d, coordinate);\n\n  return d;\n}\n","import { deepMix, each, find, get, head, isBoolean, last } from '@antv/util';\nimport { COMPONENT_MAX_VIEW_PERCENTAGE, COMPONENT_TYPE, DIRECTION, LAYER } from '../../constant';\nimport { Attribute, CategoryLegend, ContinuousLegend, GroupComponent, IGroup, Scale, Tick } from '../../dependents';\nimport { ComponentOption, LegendCfg, LegendOption, LooseObject, AllLegendsOptions, Padding } from '../../interface';\nimport { DEFAULT_ANIMATE_CFG } from '../../animate';\nimport Geometry from '../../geometry/base';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { omit } from '../../util/helper';\nimport { getCustomLegendItems, getLegendItems, getLegendLayout, getLegendThemeCfg } from '../../util/legend';\nimport { getName } from '../../util/scale';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype DoEach = (geometry: Geometry, attr: Attribute, scale: Scale) => void;\n\n/**\n *  legend \n * @param legends\n * @param field\n * @returns the option of one legend field\n */\nfunction getLegendOption(legends: AllLegendsOptions, field: string) {\n  if (isBoolean(legends)) {\n    return legends === false ? false : {};\n  }\n\n  return get(legends, [field], legends);\n}\n\nfunction getDirection(legendOption: any): DIRECTION {\n  return get(legendOption, 'position', DIRECTION.BOTTOM);\n}\n\n/**\n * @ignore\n * legend Controller\n */\nexport default class Legend extends Controller<AllLegendsOptions> {\n  /** the draw group of axis */\n  private container: IGroup;\n  /**  legend  bbox */\n  private layoutBBox: BBox;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  public get name(): string {\n    return 'legend';\n  }\n\n  public init() {}\n\n  /**\n   * render the legend component by legend options\n   */\n  public render() {\n    //  update \n    this.update();\n  }\n\n  /**\n   * layout legend\n   *  legend  direction  x, y\n   */\n  public layout() {\n    this.layoutBBox = this.view.viewBBox;\n\n    each(this.components, (co: ComponentOption) => {\n      const { component, direction } = co;\n      const layout = getLegendLayout(direction);\n      const maxWidthRatio = component.get('maxWidthRatio');\n      const maxHeightRatio = component.get('maxHeightRatio');\n\n      const maxSize = this.getCategoryLegendSizeCfg(layout, maxWidthRatio, maxHeightRatio);\n\n      const maxWidth = component.get('maxWidth');\n      const maxHeight = component.get('maxHeight');\n\n      //  maxSize layoutBBox x y\n      component.update({\n        maxWidth: Math.min(maxSize.maxWidth, maxWidth || 0),\n        maxHeight: Math.min(maxSize.maxHeight, maxHeight || 0),\n      });\n\n      const padding = component.get('padding') as Padding;\n\n      const bboxObject = component.getLayoutBBox(); //  widthheight \n      const bbox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(padding);\n\n      const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, direction);\n      const [x2, y2] = directionToPosition(this.layoutBBox, bbox, direction);\n\n      let x = 0;\n      let y = 0;\n\n      //  legend x y  coordinateBBox \n      if (direction.startsWith('top') || direction.startsWith('bottom')) {\n        x = x1;\n        y = y2;\n      } else {\n        x = x2;\n        y = y1;\n      }\n\n      // \n      component.setLocation({ x: x + padding[3], y: y + padding[0] });\n\n      this.layoutBBox = this.layoutBBox.cut(bbox, direction);\n    });\n  }\n\n  /**\n   * legend \n   */\n  public update() {\n    this.option = this.view.getOptions().legends;\n\n    //  legend\n    const updated: Record<string, true> = {};\n\n    const eachLegend = (geometry: Geometry, attr: Attribute, scale: Scale) => {\n      const id = this.getId(scale.field);\n\n      const existCo = this.getComponentById(id);\n\n      //  update\n      if (existCo) {\n        let cfg;\n        const legendOption = getLegendOption(this.option, scale.field);\n\n        // if the legend option is not false, means legend should be created.\n        if (legendOption !== false) {\n          if (get(legendOption, 'custom')) {\n            cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n          } else {\n            if (scale.isLinear) {\n              // linear field, create continuous legend\n              cfg = this.getContinuousCfg(geometry, attr, scale, legendOption);\n            } else if (scale.isCategory) {\n              // category field, create category legend\n              cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n            }\n          }\n        }\n\n        //  cfg  updated \n        if (cfg) {\n          // omit  container \n          omit(cfg, ['container']);\n\n          existCo.direction = getDirection(legendOption);\n\n          existCo.component.update(cfg);\n\n          // \n          updated[id] = true;\n        }\n      } else {\n        //  create\n        const legend = this.createFieldLegend(geometry, attr, scale);\n\n        if (legend) {\n          (legend.component as GroupComponent).init();\n          this.components.push(legend);\n\n          // \n          updated[id] = true;\n        }\n      }\n    };\n\n    // \n    if (get(this.option, 'custom')) {\n      const id = 'global-custom';\n      const existCo = this.getComponentById(id);\n      if (existCo) {\n        const customCfg = this.getCategoryCfg(undefined, undefined, undefined, this.option, true);\n        omit(customCfg, ['container']);\n        existCo.component.update(customCfg);\n\n        updated[id] = true;\n      } else {\n        const component = this.createCustomLegend(undefined, undefined, undefined, this.option as LegendCfg);\n        if (component) {\n          component.init();\n\n          const layer = LAYER.FORE;\n          const direction = getDirection(this.option);\n\n          this.components.push({\n            id,\n            component,\n            layer,\n            direction,\n            type: COMPONENT_TYPE.LEGEND,\n            extra: undefined,\n          });\n\n          // \n          updated[id] = true;\n        }\n      }\n    } else {\n      // \n      this.loopLegends(eachLegend);\n    }\n\n    // \n    // \n    const components = [];\n    each(this.getComponents(), (co: ComponentOption) => {\n      if (updated[co.id]) {\n        components.push(co);\n      } else {\n        co.component.destroy();\n      }\n    });\n\n    //  components\n    this.components = components;\n  }\n\n  public clear() {\n    super.clear();\n    this.container.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.container.remove(true);\n  }\n\n  /**\n   *  Geometry\n   */\n  private getGeometries(view: View): Geometry[] {\n    let geometries = view.geometries;\n\n    each(view.views, (v: View) => {\n      geometries = geometries.concat(this.getGeometries(v));\n    });\n\n    return geometries;\n  }\n\n  /**\n   *  Geometry legend \n   * @param doEach  loop \n   */\n  private loopLegends(doEach: DoEach) {\n    const isRootView = this.view.getRootView() === this.view;\n    //  view legend\n    if (!isRootView) {\n      return;\n    }\n\n    //  view  Geometry legend\n    const geometries = this.getGeometries(this.view);\n\n    const looped: Record<string, true> = {}; //  legend\n\n    each(geometries, (geometry: Geometry) => {\n      const attributes = geometry.getGroupAttributes();\n\n      each(attributes, (attr: Attribute) => {\n        const scale = attr.getScale(attr.type);\n        //  size(2) shape('circle')  legend\n        if (!scale || scale.type === 'identity' || looped[scale.field]) {\n          return;\n        }\n\n        doEach(geometry, attr, scale);\n\n        looped[scale.field] = true;\n      });\n    });\n  }\n\n  /**\n   *  legend\n   * @param geometry\n   * @param attr\n   * @param scale\n   */\n  private createFieldLegend(geometry: Geometry, attr: Attribute, scale: Scale): ComponentOption {\n    let component;\n\n    const legendOption = getLegendOption(this.option, scale.field);\n    const layer = LAYER.FORE;\n    const direction = getDirection(legendOption);\n\n    // if the legend option is not false, means legend should be created.\n    if (legendOption !== false) {\n      if (get(legendOption, 'custom')) {\n        component = this.createCustomLegend(geometry, attr, scale, legendOption);\n      } else {\n        if (scale.isLinear) {\n          // linear field, create continuous legend\n          component = this.createContinuousLegend(geometry, attr, scale, legendOption);\n        } else if (scale.isCategory) {\n          // category field, create category legend\n          component = this.createCategoryLegend(geometry, attr, scale, legendOption);\n        }\n      }\n    }\n\n    if (component) {\n      component.set('field', scale.field);\n\n      return {\n        id: this.getId(scale.field),\n        component,\n        layer,\n        direction,\n        type: COMPONENT_TYPE.LEGEND,\n        extra: { scale },\n      };\n    }\n  }\n\n  /**\n   *  category \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCustomLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: LegendCfg) {\n    //  \n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createContinuousLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getContinuousCfg(geometry, attr, scale, omit(legendOption, ['value']));\n    return new ContinuousLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCategoryLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private getContinuousCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const ticks = scale.getTicks();\n\n    const containMin = find(ticks, (tick: Tick) => tick.value === 0);\n    const containMax = find(ticks, (tick: Tick) => tick.value === 1);\n    const items = ticks.map((tick: Tick) => {\n      const { value, tickValue } = tick;\n      const attrValue = attr.mapping(scale.invert(value)).join('');\n\n      return {\n        value: tickValue,\n        attrValue,\n        color: attrValue,\n        scaleValue: value,\n      };\n    });\n\n    if (!containMin) {\n      items.push({\n        value: scale.min,\n        attrValue: attr.mapping(scale.invert(0)).join(''),\n        color: attr.mapping(scale.invert(0)).join(''),\n        scaleValue: 0,\n      });\n    }\n    if (!containMax) {\n      items.push({\n        value: scale.max,\n        attrValue: attr.mapping(scale.invert(1)).join(''),\n        color: attr.mapping(scale.invert(1)).join(''),\n        scaleValue: 1,\n      });\n    }\n\n    // \n    items.sort((a: any, b: any) => a.value - b.value);\n\n    //  attr \n    // size color \n    const attrLegendCfg: LooseObject = {\n      min: head(items).value,\n      max: last(items).value,\n      colors: [],\n      rail: {\n        type: attr.type,\n      },\n      track: {},\n    };\n\n    if (attr.type === 'size') {\n      attrLegendCfg.track = {\n        style: {\n          // size  color color \n          // @ts-ignore\n          fill: attr.type === 'size' ? this.view.getTheme().defaultColor : undefined,\n        },\n      };\n    }\n\n    if (attr.type === 'color') {\n      attrLegendCfg.colors = items.map((item) => item.attrValue);\n    }\n\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = getDirection(legendOption);\n\n    const layout = getLegendLayout(direction);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix(\n        {\n          text: getName(scale),\n        },\n        title\n      );\n    }\n\n    // \n    attrLegendCfg.container = container;\n    attrLegendCfg.layout = layout;\n    attrLegendCfg.title = title;\n    attrLegendCfg.animateOption = DEFAULT_ANIMATE_CFG;\n    // @ts-ignore\n    return this.mergeLegendCfg(attrLegendCfg, legendOption, 'continuous');\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param custom\n   * @param legendOption\n   */\n  private getCategoryCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any, custom?: boolean) {\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = get(legendOption, 'position', DIRECTION.BOTTOM);\n\n    const legendTheme = getLegendThemeCfg(this.view.getTheme(), direction);\n\n    // the default marker style\n    const themeMarker = get(legendTheme, ['marker']);\n    const userMarker = get(legendOption, 'marker');\n    const layout = getLegendLayout(direction);\n    const themePageNavigator = get(legendTheme, ['pageNavigator']);\n    const userPageNavigator = get(legendOption, 'pageNavigator');\n\n    const items = custom\n      ? getCustomLegendItems(themeMarker, userMarker, legendOption.items)\n      : getLegendItems(this.view, geometry, attr, themeMarker, userMarker);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix(\n        {\n          text: scale ? getName(scale) : '',\n        },\n        title\n      );\n    }\n    const maxWidthRatio = get(legendOption, 'maxWidthRatio');\n    const maxHeightRatio = get(legendOption, 'maxHeightRatio');\n\n    const baseCfg: LooseObject = this.getCategoryLegendSizeCfg(layout, maxWidthRatio, maxHeightRatio);\n    baseCfg.container = container;\n    baseCfg.layout = layout;\n    baseCfg.items = items;\n    baseCfg.title = title;\n    baseCfg.animateOption = DEFAULT_ANIMATE_CFG;\n    baseCfg.pageNavigator = deepMix({}, themePageNavigator, userPageNavigator);\n\n    const categoryCfg = this.mergeLegendCfg(baseCfg, legendOption, direction);\n    if (categoryCfg.reversed) {\n      // \n      categoryCfg.items.reverse();\n    }\n\n    const maxItemWidth = get(categoryCfg, 'maxItemWidth');\n    if (maxItemWidth && maxItemWidth <= 1) {\n      // \n      categoryCfg.maxItemWidth = this.view.viewBBox.width * maxItemWidth;\n    }\n\n    return categoryCfg;\n  }\n\n  /**\n   * get legend config, use option > suggestion > theme\n   * @param baseCfg\n   * @param legendOption\n   * @param direction\n   */\n  private mergeLegendCfg(baseCfg: object, legendOption: LegendOption, direction: DIRECTION) {\n    const position = direction.split('-')[0];\n    const themeObject = getLegendThemeCfg(this.view.getTheme(), position);\n\n    return deepMix({}, themeObject, baseCfg, legendOption);\n  }\n\n  /**\n   *  id\n   * @param key\n   */\n  private getId(key: string): string {\n    return `${this.name}-${key}`;\n  }\n\n  /**\n   *  id \n   * @param id\n   */\n  private getComponentById(id: string): ComponentOption {\n    return find(this.components, (co) => co.id === id);\n  }\n\n  private getCategoryLegendSizeCfg(\n    layout: 'horizontal' | 'vertical',\n    maxWidthRatio = COMPONENT_MAX_VIEW_PERCENTAGE,\n    maxHeightRatio = COMPONENT_MAX_VIEW_PERCENTAGE\n  ) {\n    const { width: vw, height: vh } = this.view.viewBBox;\n    //  legend  viewBBox \n    // const { width: cw, height: ch } = this.view.coordinateBBox;\n    return layout === 'vertical'\n      ? {\n          maxWidth: vw * maxWidthRatio,\n          maxHeight: vh,\n        }\n      : {\n          maxWidth: vw,\n          maxHeight: vh * maxHeightRatio,\n        };\n  }\n}\n","import { deepMix, get, isObject, size, clamp, isNil, noop, throttle, isEmpty, valuesOfKey } from '@antv/util';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { IGroup, Slider as SliderComponent } from '../../dependents';\nimport { ComponentOption, Datum, Padding } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { isBetween } from '../../util/helper';\nimport { Writeable } from '../../util/types';\nimport View from '../view';\nimport { Controller } from './base';\nimport { SliderOption, SliderCfg } from '../../interface';\n\n/**\n * @ignore\n * slider Controller\n */\nexport default class Slider extends Controller<SliderOption> {\n  private slider: ComponentOption;\n  private container: IGroup;\n\n  private width: number;\n  private start: number;\n  private end: number;\n\n  private onChangeFn: (evt: {}) => void = noop;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n    this.onChangeFn = throttle(this.onValueChange, 20, {\n      leading: true,\n    }) as (evt: {}) => void;\n\n    this.width = 0;\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  get name(): string {\n    return 'slider';\n  }\n\n  public destroy() {\n    super.destroy();\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  /**\n   * \n   */\n  public init() {}\n\n  /**\n   * \n   */\n  public render() {\n    this.option = this.view.getOptions().slider;\n    const { start, end } = this.getSliderCfg();\n    if (isNil(this.start)) {\n      this.start = start;\n      this.end = end;\n    }\n\n    const { data: viewData } = this.view.getOptions();\n    if (this.option && !isEmpty(viewData)) {\n      if (this.slider) {\n        // exist, update\n        this.slider = this.updateSlider();\n      } else {\n        // not exist, create\n        this.slider = this.createSlider();\n        // \n        this.slider.component.on('sliderchange', this.onChangeFn);\n      }\n    } else {\n      if (this.slider) {\n        // exist, destroy\n        this.slider.component.destroy();\n        this.slider = undefined;\n      } else {\n        // do nothing\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    if (this.option && !this.width) {\n      this.measureSlider();\n      setTimeout(() => {\n        //  view \n        if (!this.view.destroyed) {\n          this.changeViewData(this.start, this.end);\n        }\n      }, 0);\n    }\n    if (this.slider) {\n      const width = this.view.coordinateBBox.width;\n      //  layout bbox\n      const padding: Padding = this.slider.component.get('padding') as Padding;\n      const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n      const bboxObject = this.slider.component.getLayoutBBox();\n      const bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(\n        padding\n      );\n      const { minText, maxText } = this.getMinMaxText(this.start, this.end);\n\n      const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM);\n      const [x2, y2] = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM);\n\n      //  bottom\n      this.slider.component.update({\n        ...this.getSliderCfg(),\n        x: x2 + paddingLeft,\n        y: y1 + paddingTop,\n        width: this.width,\n        start: this.start,\n        end: this.end,\n        minText,\n        maxText,\n      });\n\n      this.view.viewBBox = this.view.viewBBox.cut(bbox, DIRECTION.BOTTOM);\n    }\n  }\n\n  /**\n   * \n   */\n  public update() {\n    //  render \n    this.render();\n  }\n\n  /**\n   *  slider \n   */\n  private createSlider(): ComponentOption {\n    const cfg: any = this.getSliderCfg();\n    //  slider \n    const component = new SliderComponent({\n      container: this.container,\n      ...cfg,\n    });\n\n    component.init();\n\n    return {\n      component,\n      layer: LAYER.FORE,\n      direction: DIRECTION.BOTTOM,\n      type: COMPONENT_TYPE.SLIDER,\n    };\n  }\n\n  /**\n   * \n   */\n  private updateSlider() {\n    let cfg = this.getSliderCfg();\n    if (this.width) {\n      const { minText, maxText } = this.getMinMaxText(this.start, this.end);\n      cfg = { ...cfg, width: this.width, start: this.start, end: this.end, minText, maxText };\n    }\n\n    this.slider.component.update(cfg);\n\n    return this.slider;\n  }\n\n  /**\n   * \n   */\n  private measureSlider() {\n    const { width } = this.getSliderCfg();\n\n    this.width = width;\n  }\n\n  /**\n   * \n   */\n  private resetMeasure = () => {\n    this.clear();\n  };\n\n  /**\n   *  slider \n   */\n  private getSliderCfg() {\n    let cfg: Writeable<SliderCfg> & { x: number; y: number; width: number; minText: string; maxText: string } = {\n      height: 16,\n      start: 0,\n      end: 1,\n      minText: '',\n      maxText: '',\n      x: 0,\n      y: 0,\n      width: this.view.coordinateBBox.width,\n    };\n    if (isObject(this.option)) {\n      // \n      const trendCfg = {\n        data: this.getData(),\n        ...get(this.option, 'trendCfg', {}),\n      };\n\n      // \n      cfg = deepMix({}, cfg, this.getThemeOptions(), this.option);\n\n      // trendCfg \n      cfg = { ...cfg, trendCfg };\n    }\n\n    cfg.start = clamp(Math.min(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n    cfg.end = clamp(Math.max(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n\n    return cfg;\n  }\n\n  /**\n   *  view \n   */\n  private getData(): number[] {\n    const data = this.view.getOptions().data;\n    const [yScale] = this.view.getYScales();\n    const groupScales = this.view.getGroupScales();\n    if (groupScales.length) {\n      const { field, ticks } = groupScales[0];\n      return data.reduce((pre, cur) => {\n        if (cur[field] === ticks[0]) {\n          pre.push(cur[yScale.field] as number);\n        }\n        return pre;\n      }, []) as number[];\n    }\n\n    return data.map((datum) => datum[yScale.field] || 0);\n  }\n\n  /**\n   *  slider \n   */\n  private getThemeOptions() {\n    const theme = this.view.getTheme();\n    return get(theme, ['components', 'slider', 'common'], {});\n  }\n\n  /**\n   * \n   * @param v\n   */\n  private onValueChange = (v: any) => {\n    const [min, max] = v;\n\n    this.start = min;\n    this.end = max;\n\n    this.changeViewData(min, max);\n  };\n\n  /**\n   *  start/end  minText/maxText\n   * @param min\n   * @param max\n   */\n  private getMinMaxText(min: number, max: number) {\n    const data = this.view.getOptions().data;\n    const xScale = this.view.getXScale();\n    const isHorizontal = true;\n    let values = valuesOfKey(data, xScale.field);\n\n    //  xScale \n    if (xScale.isLinear) {\n      values = values.sort();\n    }\n\n    const xValues = isHorizontal ? values : values.reverse();\n    const dataSize = size(data);\n\n    if (!xScale || !dataSize) {\n      return {}; // fix: \n    }\n\n    const xTickCount = size(xValues);\n\n    const minIndex = Math.floor(min * (xTickCount - 1));\n    const maxIndex = Math.floor(max * (xTickCount - 1));\n\n    let minText = get(xValues, [minIndex]);\n    let maxText = get(xValues, [maxIndex]);\n\n    const formatter = this.getSliderCfg().formatter as SliderCfg['formatter'];\n    if (formatter) {\n      minText = formatter(minText, data[minIndex], minIndex);\n      maxText = formatter(maxText, data[maxIndex], maxIndex);\n    }\n\n    return {\n      minText,\n      maxText,\n    };\n  }\n\n  /**\n   *  view \n   * @param min\n   * @param max\n   */\n  private changeViewData(min: number, max: number) {\n    const data = this.view.getOptions().data;\n    const xScale = this.view.getXScale();\n    const dataSize = size(data);\n    if (!xScale || !dataSize) {\n      return;\n    }\n    const isHorizontal = true;\n    const values = valuesOfKey(data, xScale.field);\n\n    //  xScale \n    const xScaleValues = this.view.getXScale().isLinear ? values.sort((a, b) => Number(a) - Number(b)) : values;\n\n    const xValues = isHorizontal ? xScaleValues : xScaleValues.reverse();\n    const xTickCount = size(xValues);\n\n    const minIndex = Math.floor(min * (xTickCount - 1));\n    const maxIndex = Math.floor(max * (xTickCount - 1));\n\n    //  x \n    this.view.filter(xScale.field, (value: any, datum: Datum) => {\n      const idx: number = xValues.indexOf(value);\n      return idx > -1 ? isBetween(idx, minIndex, maxIndex) : true;\n    });\n    this.view.render(true);\n  }\n\n  /**\n   * \n   */\n  public getComponents() {\n    return this.slider ? [this.slider] : [];\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    if (this.slider) {\n      this.slider.component.destroy();\n      this.slider = undefined;\n    }\n    this.width = 0;\n    this.start = undefined;\n    this.end = undefined;\n  }\n}\n","import { Controller } from './base';\nimport { IGroup, Scrollbar as ScrollbarComponent, Scale } from '../../dependents';\nimport { ScrollbarOption, ComponentOption, ScrollbarCfg, Data, ScaleOption, Padding } from '../../interface';\nimport View from '../view';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { isObject, clamp, size, throttle, noop, get, valuesOfKey, deepMix } from '@antv/util';\nimport { isBetween } from '../../util/helper';\n\nconst DEFAULT_PADDING: number = 0;\nconst DEFAULT_SIZE: number = 8;\nconst DEFAULT_CATEGORY_SIZE: number = 32;\nconst MIN_THUMB_LENGTH: number = 20;\n\nexport default class Scrollbar extends Controller<ScrollbarOption> {\n  private scrollbar: ComponentOption;\n  private container: IGroup;\n\n  private trackLen: number;\n  private thumbLen: number;\n  private cnt: number;\n  private step: number;\n  private ratio: number;\n  private data: Data;\n  private xScaleCfg: {\n    field: string;\n    values: string[];\n  };\n  private yScalesCfg: Scale[];\n\n  private onChangeFn: (evt: {}) => void = noop;\n\n  constructor(view: View) {\n    super(view);\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n    this.onChangeFn = throttle(this.onValueChange, 20, {\n      leading: true,\n    }) as (evt: {}) => void;\n    this.trackLen = 0;\n    this.thumbLen = 0;\n    this.ratio = 0;\n\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  get name(): string {\n    return 'scrollbar';\n  }\n\n  public destroy() {\n    super.destroy();\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  public init() { }\n\n  /**\n   * \n   */\n  public render() {\n    this.option = this.view.getOptions().scrollbar;\n\n    if (this.option) {\n      if (this.scrollbar) {\n        // exist, update\n        this.scrollbar = this.updateScrollbar();\n      } else {\n        // not exist, create\n        this.scrollbar = this.createScrollbar();\n        this.scrollbar.component.on('scrollchange', this.onChangeFn);\n      }\n    } else {\n      if (this.scrollbar) {\n        // exist, destroy\n        this.scrollbar.component.destroy();\n        this.scrollbar = undefined;\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    if (this.option && !this.trackLen) {\n      this.measureScrollbar();\n      setTimeout(() => {\n        if (!this.view.destroyed) {\n          this.changeViewData(this.getScrollRange(), true);\n        }\n      });\n    }\n    if (this.scrollbar) {\n      const width = this.view.coordinateBBox.width;\n      const padding: Padding = this.scrollbar.component.get('padding') as Padding;\n      const bboxObject = this.scrollbar.component.getLayoutBBox();\n      const bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(\n        padding\n      );\n      const cfg = this.getScrollbarComponentCfg();\n\n      let x: number;\n      let y: number;\n\n      if (cfg.isHorizontal) {\n        const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM);\n        const [x2, y2] = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM);\n        x = x2;\n        y = y1;\n      } else {\n        const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT);\n        const [x2, y2] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT);\n        x = x2;\n        y = y1;\n      }\n\n      x += padding[3];\n      y += padding[0];\n\n      //  bottom\n      if (this.trackLen) {\n        this.scrollbar.component.update({\n          ...cfg,\n          x,\n          y,\n          trackLen: this.trackLen,\n          thumbLen: this.thumbLen,\n          thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,\n        });\n      } else {\n        this.scrollbar.component.update({\n          ...cfg,\n          x,\n          y,\n        });\n      }\n\n      this.view.viewBBox = this.view.viewBBox.cut(bbox, cfg.isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT);\n    }\n  }\n\n  /**\n   * \n   */\n  public update() {\n    //  render \n    this.render();\n  }\n\n  public getComponents() {\n    return this.scrollbar ? [this.scrollbar] : [];\n  }\n\n  public clear() {\n    if (this.scrollbar) {\n      this.scrollbar.component.destroy();\n      this.scrollbar = undefined;\n    }\n    this.trackLen = 0;\n    this.thumbLen = 0;\n    this.ratio = 0;\n    this.cnt = 0;\n    this.step = 0;\n    this.data = undefined;\n    this.xScaleCfg = undefined;\n    this.yScalesCfg = [];\n  }\n\n  /**   */\n  public setValue(ratio: number) {\n    this.onValueChange({ ratio });\n  }\n\n  /**   */\n  public getValue() {\n    return this.ratio;\n  }\n\n  /**\n   *  scrollbar \n   */\n  private getThemeOptions() {\n    const theme = this.view.getTheme();\n    return get(theme, ['components', 'scrollbar', 'common'], {});\n  }\n\n  /**\n   *  scrollbar \n   */\n  private getScrollbarTheme(style?: ScrollbarCfg['style']) {\n    const theme = get(this.view.getTheme(), ['components', 'scrollbar']);\n    const { thumbHighlightColor, ...restStyles } = style || {};\n    return {\n      default: deepMix({}, get(theme, ['default', 'style'], {}), restStyles),\n      hover: deepMix({}, get(theme, ['hover', 'style'], {}), { thumbColor: thumbHighlightColor }),\n    };\n  }\n\n  private resetMeasure = () => {\n    this.clear();\n  };\n\n  private onValueChange = ({ ratio }: { ratio: number }) => {\n    const { animate } = this.getValidScrollbarCfg();\n    this.ratio = clamp(ratio, 0, 1);\n    const originalAnimate = this.view.getOptions().animate;\n    if (!animate) {\n      this.view.animate(false);\n    }\n    this.changeViewData(this.getScrollRange(), true);\n    this.view.animate(originalAnimate);\n  };\n\n  private measureScrollbar(): void {\n    const xScale = this.view.getXScale();\n    const yScales = this.view.getYScales().slice();\n    this.data = this.getScrollbarData();\n    this.step = this.getStep();\n    this.cnt = this.getCnt();\n    const { trackLen, thumbLen } = this.getScrollbarComponentCfg();\n    this.trackLen = trackLen;\n    this.thumbLen = thumbLen;\n    this.xScaleCfg = {\n      field: xScale.field,\n      values: xScale.values || [],\n    };\n    this.yScalesCfg = yScales;\n  }\n\n  private getScrollRange(): [number, number] {\n    const startIdx: number = Math.floor((this.cnt - this.step) * clamp(this.ratio, 0, 1));\n    const endIdx: number = Math.min(startIdx + this.step - 1, this.cnt - 1);\n    return [startIdx, endIdx];\n  }\n\n  private changeViewData([startIdx, endIdx]: [number, number], render?: boolean): void {\n    const { type } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const values = valuesOfKey(this.data, this.xScaleCfg.field);\n\n    //  xScale \n    const xScaleValues = this.view.getXScale().isLinear ? values.sort((a, b) => Number(a) - Number(b)) : values;\n\n    const xValues = isHorizontal ? xScaleValues : xScaleValues.reverse();\n    this.yScalesCfg.forEach((cfg) => {\n      this.view.scale(cfg.field, {\n        formatter: cfg.formatter,\n        type: cfg.type as ScaleOption['type'],\n        min: cfg.min,\n        max: cfg.max,\n        tickMethod: cfg.tickMethod\n      });\n    });\n    this.view.filter(this.xScaleCfg.field, (val) => {\n      const idx = xValues.indexOf(val);\n      return idx > -1 ? isBetween(idx, startIdx, endIdx) : true;\n    });\n    this.view.render(true);\n  }\n\n  private createScrollbar(): ComponentOption {\n    const { type } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const component = new ScrollbarComponent({\n      container: this.container,\n      ...this.getScrollbarComponentCfg(),\n      x: 0,\n      y: 0,\n    });\n\n    component.init();\n\n    return {\n      component,\n      layer: LAYER.FORE,\n      direction: isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT,\n      type: COMPONENT_TYPE.SCROLLBAR,\n    };\n  }\n\n  private updateScrollbar(): ComponentOption {\n    const config = this.getScrollbarComponentCfg();\n    const realConfig = this.trackLen\n      ? {\n        ...config,\n        trackLen: this.trackLen,\n        thumbLen: this.thumbLen,\n        thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,\n      }\n      : { ...config };\n    this.scrollbar.component.update(realConfig);\n\n    return this.scrollbar;\n  }\n\n  private getStep() {\n    if (this.step) {\n      return this.step;\n    }\n    const { coordinateBBox } = this.view;\n    const { type, categorySize } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n\n    return Math.floor((isHorizontal ? coordinateBBox.width : coordinateBBox.height) / categorySize);\n  }\n\n  private getCnt() {\n    if (this.cnt) {\n      return this.cnt;\n    }\n    const xScale = this.view.getXScale();\n    const data = this.getScrollbarData();\n    const values = valuesOfKey(data, xScale.field);\n    return size(values);\n  }\n\n  private getScrollbarComponentCfg() {\n    const { coordinateBBox, viewBBox } = this.view;\n    const { type, padding, width, height, style } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n    const position = isHorizontal\n      ? {\n        x: coordinateBBox.minX + paddingLeft,\n        y: viewBBox.maxY - height - paddingBottom,\n      }\n      : {\n        x: viewBBox.maxX - width - paddingRight,\n        y: coordinateBBox.minY + paddingTop,\n      };\n    const step = this.getStep();\n    const cnt = this.getCnt();\n    const trackLen = isHorizontal\n      ? coordinateBBox.width - paddingLeft - paddingRight\n      : coordinateBBox.height - paddingTop - paddingBottom;\n    const thumbLen = Math.max(trackLen * clamp(step / cnt, 0, 1), MIN_THUMB_LENGTH);\n\n    return {\n      ...this.getThemeOptions(),\n      x: position.x,\n      y: position.y,\n      size: isHorizontal ? height : width,\n      isHorizontal,\n      trackLen,\n      thumbLen,\n      thumbOffset: 0,\n      theme: this.getScrollbarTheme(style),\n    };\n  }\n\n  /**\n   * \n   */\n  private getValidScrollbarCfg(): Required<ScrollbarCfg> {\n    let cfg: Required<ScrollbarCfg> = {\n      type: 'horizontal',\n      categorySize: DEFAULT_CATEGORY_SIZE,\n      width: DEFAULT_SIZE,\n      height: DEFAULT_SIZE,\n      padding: [0, 0, 0, 0],\n      animate: true,\n      style: {},\n    };\n    if (isObject(this.option)) {\n      cfg = { ...cfg, ...this.option };\n    }\n    if (!isObject(this.option) || !this.option.padding) {\n      cfg.padding =\n        cfg.type === 'horizontal' ? [DEFAULT_PADDING, 0, DEFAULT_PADDING, 0] : [0, DEFAULT_PADDING, 0, DEFAULT_PADDING];\n    }\n\n    return cfg;\n  }\n\n  /**\n   * \n   */\n  private getScrollbarData(): Data {\n    const coordinate = this.view.getCoordinate();\n    const cfg = this.getValidScrollbarCfg();\n    let data = this.view.getOptions().data || [];\n    //  y \n    if (coordinate.isReflect('y') && cfg.type === 'vertical') {\n      data = [...data].reverse();\n    }\n\n    return data;\n  }\n}\n","import { each, head, isEqual, last, get, flatten, isArray, uniq, isNil } from '@antv/util';\nimport { View } from 'src/chart';\nimport { findItemsFromViewRecurisive } from '../../util/tooltip';\nimport { IShape, Point, ShapeAttrs } from '../../dependents';\nimport Element from '../../geometry/element';\nimport { LooseObject, TooltipCfg } from '../../interface';\nimport { getAngle, getSectorPath } from '../../util/graphics';\nimport Action from './base';\n\nconst DEFAULT_REGION_PATH_STYLE = {\n  fill: '#CCD6EC',\n  opacity: 0.3,\n};\n\nexport function getItemsOfView(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  let items = findItemsFromViewRecurisive(view, point, tooltipCfg);\n  if (items.length) {\n    // \n    items = flatten(items);\n    for (const itemArr of items) {\n      for (const item of itemArr) {\n        const { x, y } = item.mappingData;\n        item.x = isArray(x) ? x[x.length - 1] : x;\n        item.y = isArray(y) ? y[y.length - 1] : y;\n      }\n    }\n\n    const { shared } = tooltipCfg;\n    // shared: false  shape  view  Geometry shape\n    if (shared === false && items.length > 1) {\n      let snapItem = items[0];\n      let min = Math.abs(point.y - snapItem[0].y);\n      for (const aItem of items) {\n        const yDistance = Math.abs(point.y - aItem[0].y);\n        if (yDistance <= min) {\n          snapItem = aItem;\n          min = yDistance;\n        }\n      }\n      items = [snapItem];\n    }\n\n    return uniq(flatten(items));\n  }\n\n  return [];\n}\n\n/**\n *  Action.  interval  schema geometry\n * @ignore\n */\nclass ActiveRegion extends Action {\n  private items: any[];\n  private regionPath: IShape;\n  /**\n   * \n   * @param {ShapeAttrs} style region-path \n   * @param {number} appendRatio .  x  linear : 0.25, x  linear :  0\n   * @param {number} appendWidth  .  > appendRatio\n   */\n  public show(args?: { style: ShapeAttrs; appendRatio?: number; appendWidth?: number }) {\n    const view = this.context.view;\n    const ev = this.context.event;\n\n    const tooltipCfg = view.getController('tooltip').getTooltipCfg();\n    const tooltipItems = getItemsOfView(\n      view,\n      {\n        x: ev.x,\n        y: ev.y,\n      },\n      tooltipCfg\n    );\n\n    if (isEqual(tooltipItems, this.items)) {\n      // \n      return;\n    }\n    this.items = tooltipItems;\n    if (tooltipItems.length) {\n      const xField = view.getXScale().field;\n      const xValue = tooltipItems[0].data[xField];\n      //  x  elements\n      let elements: Element[] = [];\n      const geometries = view.geometries;\n      each(geometries, (geometry) => {\n        if (geometry.type === 'interval' || geometry.type === 'schema') {\n          const result = geometry.getElementsBy((ele) => {\n            const eleData = ele.getData();\n            return eleData[xField] === xValue;\n          });\n\n          elements = elements.concat(result);\n        }\n      });\n\n      //  bbox \n      if (elements.length) {\n        const coordinate = view.getCoordinate();\n\n        let firstBBox = elements[0].shape.getCanvasBBox();\n        let lastBBox = elements[0].shape.getCanvasBBox();\n        const groupBBox: LooseObject = firstBBox;\n\n        each(elements, (ele: Element) => {\n          const bbox = ele.shape.getCanvasBBox();\n          if (coordinate.isTransposed) {\n            if (bbox.minY < firstBBox.minY) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxY > lastBBox.maxY) {\n              lastBBox = bbox;\n            }\n          } else {\n            if (bbox.minX < firstBBox.minX) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxX > lastBBox.maxX) {\n              lastBBox = bbox;\n            }\n          }\n\n          groupBBox.x = Math.min(bbox.minX, groupBBox.minX);\n          groupBBox.y = Math.min(bbox.minY, groupBBox.minY);\n          groupBBox.width = Math.max(bbox.maxX, groupBBox.maxX) - groupBBox.x;\n          groupBBox.height = Math.max(bbox.maxY, groupBBox.maxY) - groupBBox.y;\n        });\n\n        const { backgroundGroup, coordinateBBox } = view;\n        let path;\n        if (coordinate.isRect) {\n          const xScale = view.getXScale();\n\n          let { appendRatio, appendWidth } = args || {};\n          if (isNil(appendWidth)) {\n            appendRatio = isNil(appendRatio) ? (xScale.isLinear ? 0 : 0.25) : appendRatio; //  x \n            appendWidth = coordinate.isTransposed ? appendRatio * lastBBox.height : appendRatio * firstBBox.width;\n          }\n\n          let minX: number;\n          let minY: number;\n          let width: number;\n          let height: number;\n          if (coordinate.isTransposed) {\n            minX = coordinateBBox.minX;\n            minY = Math.min(lastBBox.minY, firstBBox.minY) - appendWidth;\n            width = coordinateBBox.width;\n            height = groupBBox.height + appendWidth * 2;\n          } else {\n            minX = Math.min(firstBBox.minX, lastBBox.minX) - appendWidth;\n            //    minY\n            minY = coordinateBBox.minY;\n            width = groupBBox.width + appendWidth * 2;\n            height = coordinateBBox.height;\n          }\n\n          path = [\n            ['M', minX, minY],\n            ['L', minX + width, minY],\n            ['L', minX + width, minY + height],\n            ['L', minX, minY + height],\n            ['Z'],\n          ];\n        } else {\n          const firstElement = head(elements);\n          const lastElement = last(elements);\n          const { startAngle } = getAngle(firstElement.getModel(), coordinate);\n          const { endAngle } = getAngle(lastElement.getModel(), coordinate);\n          const center = coordinate.getCenter();\n          const radius = coordinate.getRadius();\n          const innterRadius = coordinate.innerRadius * radius;\n          path = getSectorPath(center.x, center.y, radius, startAngle, endAngle, innterRadius);\n        }\n\n        if (this.regionPath) {\n          this.regionPath.attr('path', path);\n          this.regionPath.show();\n        } else {\n          const style = get(args, 'style', DEFAULT_REGION_PATH_STYLE);\n          this.regionPath = backgroundGroup.addShape({\n            type: 'path',\n            name: 'active-region',\n            capture: false,\n            attrs: {\n              ...style,\n              path,\n            },\n          });\n        }\n      }\n    }\n  }\n  /**\n   * \n   */\n  public hide() {\n    if (this.regionPath) {\n      this.regionPath.hide();\n    }\n    // this.regionPath = null;\n    this.items = null;\n  }\n  /**\n   * \n   */\n  public destroy() {\n    this.hide();\n    if (this.regionPath) {\n      this.regionPath.remove(true);\n    }\n    super.destroy();\n  }\n}\n\nexport default ActiveRegion;\n","import { isEqual, get } from '@antv/util';\nimport { View } from '../../../../chart';\nimport { Point } from '../../../../interface';\nimport Action from '../../base';\nimport Tooltip from '../../../../chart/controller/tooltip';\n\n/**\n * Tooltip  Action\n * @ignore\n */\nclass TooltipAction extends Action {\n  private timeStamp: number = 0;\n  private location: Point;\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public show() {\n    const context = this.context;\n    const ev = context.event;\n    const view = context.view;\n    const isTooltipLocked = view.isTooltipLocked();\n    if (isTooltipLocked) {\n      //  tooltip\n      return;\n    }\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    //  showDelay  16ms tooltip  enterable\n    const showDelay = get(context.view.getOptions(), 'tooltip.showDelay', 16);\n    if (timeStamp - lastTimeStamp > showDelay) {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(view, curLoc);\n      }\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hide() {\n    const view = this.context.view;\n\n    const tooltip = view.getController('tooltip');\n    const { clientX, clientY } = this.context.event;\n\n    //  enterable +  tooltip \n    if (tooltip.isCursorEntered({ x: clientX, y: clientY })) {\n      return;\n    }\n\n    //  tooltip \n    if (view.isTooltipLocked()) {\n      return;\n    }\n    this.hideTooltip(view);\n    this.location = null;\n  }\n\n  protected showTooltip(view: View, point: Point) {\n    // \n    view.showTooltip(point);\n  }\n\n  protected hideTooltip(view) {\n    view.hideTooltip();\n  }\n}\n\nexport default TooltipAction;\n","import { each } from '@antv/util';\nimport { View } from '../../../../chart';\nimport { Point } from '../../../../interface';\nimport { getSiblingPoint, getSilbings } from '../../util';\nimport TooltipAction from './geometry';\n\n/**\n *  view  view  tooltip \n * @ignore\n */\nclass SiblingTooltip extends TooltipAction {\n  /**\n   *  tooltip \n   * @param view\n   * @param point\n   */\n  protected showTooltip(view: View, point: Point) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const siblingPoint = getSiblingPoint(view, sibling, point);\n      sibling.showTooltip(siblingPoint);\n    });\n  }\n  /**\n   *  tooltip\n   * @param view\n   */\n  protected hideTooltip(view) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.hideTooltip();\n    });\n  }\n}\n\nexport default SiblingTooltip;\n","import { isEqual, get, deepMix } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { Point } from '../../../../interface';\nimport Action from '../../base';\nimport { HtmlTooltip } from '../../../../dependents';\n\n/**\n *  Tooltip Action\n * @ignore\n */\nexport default class EllipsisText extends Action {\n  private timeStamp: number = 0;\n  private location: Point;\n  private tooltip;\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public show() {\n    const context = this.context;\n    const ev = context.event;\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    if (timeStamp - lastTimeStamp > 16) {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(curLoc);\n      }\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hide() {\n    this.hideTooltip();\n    this.location = null;\n  }\n\n  protected showTooltip(curLoc: Point) {\n    const context = this.context;\n    const ev = context.event;\n    const target = ev.target;\n\n    if (target && target.get('tip')) {\n      if (!this.tooltip) {\n        this.renderTooltip(); // \n      }\n      const tipContent = target.get('tip');\n      //  tooltip\n      this.tooltip.update({\n        title: tipContent,\n        ...curLoc,\n      });\n      this.tooltip.show();\n    }\n  }\n\n  protected hideTooltip() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  private renderTooltip() {\n    const view = this.context.view;\n    const canvas = view.canvas;\n\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n\n    const theme = view.getTheme();\n    const tooltipStyles = get(theme, ['components', 'tooltip', 'domStyles'], {}); //  tooltip \n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      visible: false,\n      crosshairs: null,\n      domStyles: {\n        ...deepMix({}, tooltipStyles, {\n          // tooltip tip  50%\n          [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: { 'max-width': '50%' },\n          [TOOLTIP_CSS_CONST.TITLE_CLASS]: { 'word-break': 'break-all' },\n        }),\n      },\n    });\n    tooltip.init();\n    tooltip.setCapture(false); // \n    this.tooltip = tooltip;\n  }\n}\n","import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport Action from '../base';\nimport { getElementsByState } from '../util';\n\n/**\n *  Action \n * @abstract\n * @class\n * @ignore\n */\nabstract class StateBase extends Action {\n  /**\n   * \n   */\n  protected stateName: string = '';\n\n  /**\n   * \n   * @param enable \n   */\n  protected abstract setStateEnable(enable: boolean);\n\n  /**\n   * \n   * @param element  Element \n   */\n  protected hasState(element: Element): boolean {\n    return element.hasState(this.stateName);\n  }\n  /**\n   * \n   * @param enable \n   */\n  protected setElementState(element: Element, enable: boolean) {\n    // \n    element.setState(this.stateName, enable);\n  }\n\n  /**\n   * \n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   *  Element \n   */\n  public clear() {\n    const view = this.context.view;\n    this.clearViewState(view);\n  }\n\n  protected clearViewState(view) {\n    const elements = getElementsByState(view, this.stateName);\n    each(elements, (el: Element) => {\n      this.setElementState(el, false);\n    });\n  }\n}\n\nexport default StateBase;\n","import { each, isNil, get } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport {\n  getCurrentElement,\n  getDelegationObject,\n  getElements,\n  getElementValue,\n  getScaleByField,\n  isElementChange,\n  isList,\n} from '../util';\nimport StateBase from './state-base';\n\nfunction getItem(shape) {\n  return get(shape.get('delegateObject'), 'item');\n}\n\n/**\n *  Action  Element \n * @class\n * @ignore\n */\nclass ElementState extends StateBase {\n  protected ignoreListItemStates = ['unchecked'];\n\n  // \n  private isItemIgnore(item: ListItem, list) {\n    const states = this.ignoreListItemStates;\n    const filtered = states.filter((state) => {\n      return list.hasState(item, state);\n    });\n    return !!filtered.length;\n  }\n\n  // \n  private setStateByComponent(component, item: ListItem, enable: boolean) {\n    const view = this.context.view;\n    const field = component.get('field');\n    const elements = getElements(view);\n    this.setElementsStateByItem(elements, field, item, enable);\n  }\n\n  //  element \n  protected setStateByElement(element: Element, enable: boolean) {\n    this.setElementState(element, enable);\n  }\n\n  /**  element  */\n  protected isMathItem(element: Element, field: string, item: ListItem) {\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    return !isNil(value) && item.name === scale.getText(value);\n  }\n\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    each(elements, (el) => {\n      if (this.isMathItem(el, field, item)) {\n        el.setState(this.stateName, enable);\n      }\n    });\n  }\n\n  /**  */\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      //  element \n      if (isElementChange(this.context)) {\n        this.setStateByElement(element, enable);\n      }\n    } else {\n      // \n      const delegateObject = getDelegationObject(this.context);\n      // \n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (item && component && !this.isItemIgnore(item, component)) {\n          const event = this.context.event.gEvent;\n          // \n          if (event && event.fromShape && event.toShape && getItem(event.fromShape) === getItem(event.toShape)) {\n            return;\n          }\n          this.setStateByComponent(component, item, enable);\n        }\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = element.hasState(this.stateName);\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementState;\n","import StateAction from './state';\n\n/**\n *  active  Action active\n * @class\n * @ignore\n */\nclass ElementActive extends StateAction {\n  protected stateName: string = 'active';\n  /**\n   * Active Element\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementActive;\n","import Action from '../base';\nimport { getCurrentElement, getElementValue, getElementsByField } from '../util';\nimport Element from '../../../geometry/element/';\nimport { deepMix, each, isFunction } from '@antv/util';\nimport { LooseObject } from '../../../interface';\nimport { IGroup, ShapeAttrs } from '../../../dependents';\n\ntype LinkActiveStyle = ShapeAttrs | ((style: ShapeAttrs, Element: Element) => ShapeAttrs);\n\n/**\n * Link Elements by color\n *\n * public element-link-by-color:link, element-link-by-color:unlink, element-link-by-color:clear\n */\nclass LinkByColor extends Action {\n  private linkGroup: IGroup;\n  private cache: LooseObject = {};\n  //  scale\n  private getColorScale(view, element) {\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return null;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0]);\n    return scale;\n  }\n  //  path\n  private getLinkPath(element: Element, nextElement: Element) {\n    const view = this.context.view;\n    const { isTransposed } = view.getCoordinate();\n    const bbox = element.shape.getCanvasBBox();\n    const nextBBox = nextElement.shape.getCanvasBBox();\n    const path = isTransposed\n      ? [\n          ['M', bbox.minX, bbox.minY],\n          ['L', nextBBox.minX, nextBBox.maxY],\n          ['L', nextBBox.maxX, nextBBox.maxY],\n          ['L', bbox.maxX, bbox.minY],\n          ['Z'],\n        ]\n      : [\n          ['M', bbox.maxX, bbox.minY],\n          ['L', nextBBox.minX, nextBBox.minY],\n          ['L', nextBBox.minX, nextBBox.maxY],\n          ['L', bbox.maxX, bbox.maxY],\n          ['Z'],\n        ];\n    return path;\n  }\n  // \n  private addLinkShape(group: IGroup, element: Element, nextElement: Element, activeStyle?: LinkActiveStyle) {\n    const style = {\n      opacity: 0.4,\n      fill: element.shape.attr('fill'),\n    };\n    group.addShape({\n      type: 'path',\n      attrs: {\n        ...deepMix({}, style, isFunction(activeStyle) ? activeStyle(style, element) : activeStyle),\n        path: this.getLinkPath(element, nextElement),\n      },\n    });\n  }\n  // \n  private linkByElement(element: Element, activeStyle?: LinkActiveStyle) {\n    const view = this.context.view;\n    const scale = this.getColorScale(view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (!this.cache[value]) {\n      const elements = getElementsByField(view, scale.field, value);\n      const linkGroup = this.linkGroup;\n      const group = linkGroup.addGroup();\n      this.cache[value] = group; // \n      const count = elements.length;\n      each(elements, (el, index) => {\n        if (index < count - 1) {\n          const nextEl = elements[index + 1];\n          this.addLinkShape(group, el, nextEl, activeStyle);\n        }\n      });\n    }\n  }\n  // \n  private removeLink(element) {\n    const scale = this.getColorScale(this.context.view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (this.cache[value]) {\n      this.cache[value].remove();\n      this.cache[value] = null;\n    }\n  }\n\n  /**\n   *  elements\n   *\n   * @usage\n   * registerInteraction('xxx', {\n   *   start: [\n   *    {\n   *      trigger: 'interval:mouseenter',\n   *      action: 'element-link-by-color:link',\n   *      arg: {\n   *        // style: { fill: 'red' }\n   *        style: (style, element) => ({ fill: 'red' })\n   *     },\n   *   },\n   *  ],\n   * });\n   */\n  public link(args?: { style: LinkActiveStyle }) {\n    const context = this.context;\n    if (!this.linkGroup) {\n      // \n      this.linkGroup = context.view.foregroundGroup.addGroup({\n        id: 'link-by-color-group',\n        capture: false,\n      });\n    }\n    const element = getCurrentElement(context);\n    if (element) {\n      this.linkByElement(element, args?.style);\n    }\n  }\n\n  /**\n   *  elements\n   */\n  public unlink() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      this.removeLink(element);\n    }\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    if (this.linkGroup) {\n      this.linkGroup.clear();\n    }\n    this.cache = {};\n  }\n\n  /**\n   * \n   */\n  destroy() {\n    super.destroy();\n    if (this.linkGroup) {\n      this.linkGroup.remove();\n    }\n  }\n}\nexport default LinkByColor;\n","import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport {\n  getElements,\n  getIntersectElements,\n  getMaskedElements,\n  getSiblingMaskElements,\n  getSilbings,\n  isInRecords,\n  isMask,\n} from '../util';\nimport StateBase from './state-base';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementRangeState extends StateBase {\n  private startPoint = null;\n  private endPoint = null;\n  private isStarted: boolean = false;\n  /**\n   *  view  siblings false \n   */\n  protected effectSiblings = false;\n  /**\n   *  element \n   */\n  protected effectByRecord = false;\n  // \n  private getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n\n  /**\n   * \n   */\n  public start() {\n    this.clear(); // \n    this.startPoint = this.getCurrentPoint();\n    this.isStarted = true;\n  }\n\n  protected getIntersectElements() {\n    let elements = null;\n    if (isMask(this.context)) {\n      elements = getMaskedElements(this.context, 10);\n    } else {\n      const startPoint = this.startPoint;\n      const endPoint = this.isStarted ? this.getCurrentPoint() : this.endPoint;\n      // \n      if (!startPoint || !endPoint) {\n        return;\n      }\n      // \n      const box = {\n        minX: Math.min(startPoint.x, endPoint.x),\n        minY: Math.min(startPoint.y, endPoint.y),\n        maxX: Math.max(startPoint.x, endPoint.x),\n        maxY: Math.max(startPoint.y, endPoint.y),\n      };\n      // this.clear(); // \n      const view = this.context.view;\n      elements = getIntersectElements(view, box);\n    }\n    return elements;\n  }\n  /**\n   * \n   */\n  public setStateEnable(enable: boolean) {\n    if (this.effectSiblings && !this.effectByRecord) {\n      this.setSiblingsState(enable);\n    } else {\n      const allElements = getElements(this.context.view);\n      const elements = this.getIntersectElements();\n      if (elements && elements.length) {\n        if (this.effectByRecord) {\n          this.setSiblingsStateByRecord(elements, enable);\n        } else {\n          this.setElementsState(elements, enable, allElements);\n        }\n      } else {\n        this.clear();\n      }\n    }\n  }\n  //  element \n  private setSiblingsStateByRecord(elements, enable) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    const records = elements.map((el) => {\n      return el.getModel().data;\n    });\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    each(siblings, (sibling) => {\n      const allElements = getElements(sibling);\n      const effectElements = allElements.filter((el) => {\n        const record = el.getModel().data;\n        return isInRecords(records, record, xFiled, yField);\n      });\n      this.setElementsState(effectElements, enable, allElements);\n    });\n  }\n\n  //  view \n  private setSiblingsState(enable: boolean) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    if (isMask(this.context)) {\n      //  mask \n      each(siblings, (sibling) => {\n        const allElements = getElements(sibling);\n        const effectElements = getSiblingMaskElements(this.context, sibling, 10);\n        if (effectElements && effectElements.length) {\n          this.setElementsState(effectElements, enable, allElements);\n        } else {\n          this.clearViewState(sibling);\n        }\n      });\n    }\n  }\n\n  protected setElementsState(elements: Element[], enable, allElements: Element[]) {\n    each(allElements, (el) => {\n      if (!elements.includes(el)) {\n        this.setElementState(el, false);\n      } else {\n        this.setElementState(el, enable);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isStarted = false;\n    this.endPoint = this.getCurrentPoint();\n  }\n\n  //  clear\n  public clear() {\n    const view = this.context.view;\n    //  siblings\n    if (this.effectSiblings) {\n      const siblings = getSilbings(view);\n      each(siblings, (sibling) => {\n        this.clearViewState(sibling);\n      });\n    } else {\n      this.clearViewState(view);\n    }\n  }\n}\n\nexport default ElementRangeState;\n","import ElementRangeState from './range-state';\n\n/**\n * @ignore\n *  Active  Action\n */\nclass ElementRangeActive extends ElementRangeState {\n  protected stateName: string = 'active';\n  /**\n   *  Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeActive;\n","import { getCurrentElement, isElementChange } from '../util';\nimport StateBase from './state-base';\n\n/**\n *  Action \n * @class\n * @ignore\n */\nclass ElementSingleState extends StateBase {\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      //  element  label  shape \n      if (!isElementChange(this.context)) {\n        return;\n      }\n      //  element \n      if (enable) {\n        this.clear();\n        this.setElementState(element, true);\n      } else if (this.hasState(element)) {\n        this.setElementState(element, false);\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = this.hasState(element); // \n      if (!hasState) {\n        this.clear();\n      }\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementSingleState;\n","import ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Element Active  Action\n */\nclass ElementSingleActive extends ElementSingleState {\n  protected stateName: string = 'active';\n  /**\n   *  Element Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleActive;\n","import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport Element from '../../../geometry/element/';\nimport { getElements } from '../util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n * @ignore\n *  highlight \n * @param view View  Chart\n */\nexport function clearHighlight(view: View) {\n  const elements = getElements(view);\n  each(elements, (el) => {\n    if (el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_ACTIVE, false);\n    }\n    if (el.hasState(STATUS_UNACTIVE)) {\n      el.setState(STATUS_UNACTIVE, false);\n    }\n  });\n}\n\ntype MatchCallback = (el: Element) => boolean;\n\n/**\n * @ignore\n *  highlight\n * @param elements \n * @param callback \n * @param enable \n */\nexport function setHighlightBy(elements: Element[], callback: MatchCallback, enable: boolean) {\n  each(elements, (el) => {\n    //  active  unactive \n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, enable);\n    } else {\n      if (el.hasState(STATUS_ACTIVE)) {\n        el.setState(STATUS_ACTIVE, false);\n      }\n      el.setState(STATUS_UNACTIVE, enable);\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport { getElements, getElementsByState } from '../util';\nimport { clearHighlight } from './highlight-util';\nimport StateAction from './state';\n\nimport { ELEMENT_STATE } from '../../../constant';\n\nexport const STATUS_UNACTIVE = ELEMENT_STATE.INACTIVE;\nexport const STATUS_ACTIVE = ELEMENT_STATE.ACTIVE;\nexport type Callback = (el) => boolean;\n\n/**\n * @ignore\n * highlight\n */\nclass ElementHighlight extends StateAction {\n  protected stateName: string = STATUS_ACTIVE;\n\n  //  highlight\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    const callback = (el) => this.isMathItem(el, field, item);\n    this.setHighlightBy(elements, callback, enable);\n  }\n\n  //  highlight\n  protected setElementHighlight(el: Element, callback: Callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else if (!el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_UNACTIVE, true);\n    }\n  }\n\n  protected setHighlightBy(elements: Element[], callback: Callback, enable: boolean) {\n    if (enable) {\n      //  highlight  element  active\n      //  active unactive\n      each(elements, (el) => {\n        this.setElementHighlight(el, callback);\n      });\n    } else {\n      //  highlight highlight\n      const activeElements = getElementsByState(this.context.view, STATUS_ACTIVE);\n      let allCancel = true;\n      //  activeElements  highlight\n      each(activeElements, (el) => {\n        if (!callback(el)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        //  activeunactive \n        this.clear();\n      } else {\n        //  highlight,  element  unactive\n        //  element \n        each(elements, (el) => {\n          if (callback(el)) {\n            if (el.hasState(STATUS_ACTIVE)) {\n              el.setState(STATUS_ACTIVE, false);\n            }\n            el.setState(STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  //  highlight\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    this.setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  public highlight() {\n    this.setState();\n  }\n\n  //  active unactive \n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementHighlight;\n","import Element from '../../../geometry/element';\nimport { Event } from '../../../chart';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementRangeState from './range-state';\n\nenum EVENTS {\n  BEFORE_HIGHLIGHT = 'element-range-highlight:beforehighlight',\n  AFTER_HIGHLIGHT = 'element-range-highlight:afterhighlight',\n  BEFORE_CLEAR = 'element-range-highlight:beforeclear',\n  AFTER_CLEAR = 'element-range-highlight:afterclear',\n}\n\nexport { EVENTS as ELEMENT_RANGE_HIGHLIGHT_EVENTS };\n\n/**\n * @ignore\n *  highlight  Action\n */\nclass ElementRangeHighlight extends ElementRangeState {\n  protected stateName: string = 'active';\n\n  //  active unactive \n  protected clearViewState(view) {\n    clearHighlight(view);\n  }\n\n  /**\n   *  highlight\n   */\n  public highlight() {\n    const { view, event } = this.context;\n    const elements = this.getIntersectElements();\n    const payload = { view, event, highlightElements: elements };\n    view.emit(EVENTS.BEFORE_HIGHLIGHT, Event.fromData(view, EVENTS.BEFORE_HIGHLIGHT, payload));\n    this.setState();\n    view.emit(EVENTS.AFTER_HIGHLIGHT, Event.fromData(view, EVENTS.AFTER_HIGHLIGHT, payload));\n  }\n\n  /**\n   * @overrider \n   */\n  public clear() {\n    const view = this.context.view;\n    view.emit(EVENTS.BEFORE_CLEAR, Event.fromData(view, EVENTS.BEFORE_CLEAR, {}));\n    super.clear();\n    view.emit(EVENTS.AFTER_CLEAR, Event.fromData(view, EVENTS.AFTER_CLEAR, {}));\n  }\n\n  protected setElementsState(elements: Element[], enable: boolean, allElements: Element[]) {\n    setHighlightBy(allElements, (el) => elements.indexOf(el) >= 0, enable);\n  }\n}\n\nexport default ElementRangeHighlight;\n","import Element from '../../../geometry/element/';\nimport { getElements, getElementValue } from '../util';\nimport Highlight from './highlight';\n\n/**\n * Highlight color\n * @ignore\n */\nclass HighlightColor extends Highlight {\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0]);\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter((el) => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n}\n\nexport default HighlightColor;\n","import Element from '../../../geometry/element/';\nimport { getElements, getElementValue, getCurrentElement } from '../util';\nimport Highlight, { STATUS_ACTIVE, STATUS_UNACTIVE, Callback } from './highlight';\n\n/**\n * Highlight x\n * @ignore\n */\nclass HighlightX extends Highlight {\n  // \n  protected setElementHighlight(el: Element, callback: Callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else {\n      el.setState(STATUS_UNACTIVE, true);\n      if (el.hasState(STATUS_ACTIVE)) {\n        el.setState(STATUS_ACTIVE, false);\n      }\n    }\n  }\n\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const scale = view.getXScale();\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter((el) => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = element.hasState(this.stateName);\n      this.setStateByElement(element, !hasState);\n    }\n  }\n}\n\nexport default HighlightX;\n","import Element from '../../../geometry/element/';\nimport { getElements } from '../util';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Element Highlight  Action\n */\nclass ElementSingleHighlight extends ElementSingleState {\n  protected stateName: string = 'active';\n\n  /**\n   * Element Highlight\n   */\n  public highlight() {\n    this.setState();\n  }\n\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  //  active unactive \n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementSingleHighlight;\n","import ElementRangeState from './range-state';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementRangeSelected extends ElementRangeState {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeSelected;\n","import StateAction from './state';\n\n/**\n * @ignore\n *  Action\n * @class\n */\nclass ElementMultipleSelected extends StateAction {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementMultipleSelected;\n","import ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementSingleSelected extends ElementSingleState {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleSelected;\n","import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element';\nimport { LooseObject } from '../../../interface';\nimport Action from '../base';\nimport { getComponents } from '../util';\nimport { getCurrentElement, getDelegationObject, getElementValue, isList, getScaleByField } from '../util';\n\n/** @ignore */\ninterface ListStateCfg {\n  componentNames: string[];\n}\n\n/**\n *  Action \n * @class\n * @ignore\n */\nclass ListState extends Action<ListStateCfg> {\n  protected stateName: string = '';\n  protected ignoreItemStates = [];\n\n  /**  */\n  protected getTriggerListInfo() {\n    const delegateObject = getDelegationObject(this.context);\n    let info: LooseObject = null;\n    if (isList(delegateObject)) {\n      info = {\n        item: delegateObject.item,\n        list: delegateObject.component,\n      };\n    }\n    return info;\n  }\n  //  Action \n  protected getAllowComponents() {\n    const view = this.context.view;\n    const components = getComponents(view);\n    const rst = [];\n    each(components, (component) => {\n      if (component.isList() && this.allowSetStateByElement(component)) {\n        rst.push(component);\n      }\n    });\n    return rst;\n  }\n\n  /**  */\n  protected hasState(list: IList, item: ListItem) {\n    return list.hasState(item, this.stateName);\n  }\n\n  /**  */\n  protected clearAllComponentsState() {\n    const components = this.getAllowComponents();\n    each(components, (component) => {\n      component.clearItemsState(this.stateName);\n    });\n  }\n\n  //  component  active scale \n  protected allowSetStateByElement(component): boolean {\n    const field = component.get('field');\n    if (!field) {\n      return false;\n    }\n    if (this.cfg && this.cfg.componentNames) {\n      const name = component.get('name');\n      //  component name\n      if (this.cfg.componentNames.indexOf(name) === -1) {\n        return false;\n      }\n    }\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    return scale && scale.isCategory;\n  }\n  // \n  private allowSetStateByItem(item: ListItem, list: IList) {\n    const ignoreStates = this.ignoreItemStates;\n    if (ignoreStates.length) {\n      const filterStates = ignoreStates.filter((state) => {\n        return list.hasState(item, state);\n      });\n      return filterStates.length === 0;\n    }\n    return true; // \n  }\n\n  //  item active\n  private setStateByElement(component, element: Element, enable: boolean) {\n    const field = component.get('field');\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    const text = scale.getText(value);\n    this.setItemsState(component, text, enable);\n  }\n\n  // \n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      // trigger by element\n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        this.setStateByElement(component, element, enable);\n      });\n    } else {\n      // \n      const delegateObject = getDelegationObject(this.context);\n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (this.allowSetStateByElement(component) && this.allowSetStateByItem(item, component)) {\n          this.setItemState(component, item, enable);\n        }\n      }\n    }\n  }\n\n  //  item \n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    const items = list.getItems();\n    each(items, (item) => {\n      if (item.name === name) {\n        this.setItemState(list, item, enable);\n      }\n    });\n  }\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    list.setItemState(item, this.stateName, enable);\n  }\n\n  /**\n   * \n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      const { list, item } = triggerInfo;\n      const enable = this.hasState(list, item);\n      this.setItemState(list, item, !enable);\n    }\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      triggerInfo.list.clearItemsState(this.stateName);\n    } else {\n      this.clearAllComponentsState();\n    }\n  }\n}\n\nexport default ListState;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @class\n * @ignore\n */\nclass ListActive extends ListState {\n  protected stateName: string = 'active';\n  /**\n   * \n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ListActive;\n","import { IList } from '@antv/component';\nimport { each } from '@antv/util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n *  Highlight \n * @param list \n * @ignore\n */\nexport function clearList(list: IList) {\n  const items = list.getItems();\n  each(items, (item) => {\n    if (list.hasState(item, STATUS_ACTIVE)) {\n      list.setItemState(item, STATUS_ACTIVE, false);\n    }\n    if (list.hasState(item, STATUS_UNACTIVE)) {\n      list.setItemState(item, STATUS_UNACTIVE, false);\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport { clearList } from './list-highlight-util';\nimport ListState from './list-state';\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\ntype MatchCallback = (item: ListItem) => boolean;\n\n/**\n * highlight Action  active  inactive \n * @class\n * @ignore\n */\nclass ListHighlight extends ListState {\n  protected stateName: string = STATUS_ACTIVE;\n  protected ignoreItemStates = ['unchecked']; //  unchecked \n  //  item.name  highlight \n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    this.setHighlightBy(list, (item) => item.name === name, enable);\n  }\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    const items = list.getItems();\n    this.setHighlightBy(list, (el) => el === item, enable);\n  }\n\n  //  highlight\n  private setHighlightBy(list: IList, callback: MatchCallback, enable: boolean) {\n    const items = list.getItems();\n    if (enable) {\n      //  highlight  Highlight \n      each(items, (item) => {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNACTIVE)) {\n            list.setItemState(item, STATUS_UNACTIVE, false);\n          }\n          list.setItemState(item, STATUS_ACTIVE, true);\n        } else if (!list.hasState(item, STATUS_ACTIVE)) {\n          list.setItemState(item, STATUS_UNACTIVE, true);\n        }\n      });\n    } else {\n      const activeItems = list.getItemsByState(STATUS_ACTIVE);\n      let allCancel = true;\n      //  activeItems \n      each(activeItems, (item) => {\n        if (!callback(item)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        this.clear();\n      } else {\n        //  highlight,  element  unactive\n        //  element \n        each(items, (item) => {\n          if (callback(item)) {\n            if (list.hasState(item, STATUS_ACTIVE)) {\n              list.setItemState(item, STATUS_ACTIVE, false);\n            }\n            list.setItemState(item, STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  /**\n   * highlight \n   */\n  public highlight() {\n    this.setState();\n  }\n\n  //  active  unactive\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      clearList(triggerInfo.list);\n    } else {\n      //  component \n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        component.clearItemsState(STATUS_ACTIVE);\n        component.clearItemsState(STATUS_UNACTIVE);\n      });\n    }\n  }\n}\n\nexport default ListHighlight;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @ignore\n */\nclass ListSelected extends ListState {\n  protected stateName: string = 'selected';\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ListSelected;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @ignore\n */\nclass ListUnchecked extends ListState {\n  protected stateName: string = 'unchecked';\n  /**\n   * \n   */\n  public unchecked() {\n    this.setState();\n  }\n}\n\nexport default ListUnchecked;\n","import { each, some } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport ListState from './list-state';\n\nconst STATUS_UNCHECKED = 'unchecked';\nconst STATUS_CHECKED = 'checked';\ntype MatchCallback = (item: ListItem) => boolean;\n\n/**\n * checked Action\n * \n * 1. toggle \n * 2. checked \n * 3. reset \n */\nclass ListChecked extends ListState {\n  protected stateName: string = STATUS_CHECKED;\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    this.setCheckedBy(list, (el) => el === item, enable);\n  }\n\n  //  checked\n  private setCheckedBy(list: IList, callback: MatchCallback, enable: boolean) {\n    const items = list.getItems();\n    if (enable) {\n      //  checked  checked \n      each(items, (item) => {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNCHECKED)) {\n            list.setItemState(item, STATUS_UNCHECKED, false);\n          }\n          list.setItemState(item, STATUS_CHECKED, true);\n        } else if (!list.hasState(item, STATUS_CHECKED)) {\n          list.setItemState(item, STATUS_UNCHECKED, true);\n        }\n      });\n    }\n  }\n\n  /**\n   * .\n   * 1.    item \n   * 2. \n   * @override\n   */\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      const { list, item } = triggerInfo;\n\n      //    unchecked status\n      const allChecked = !some(list.getItems(), (t) => list.hasState(t, STATUS_UNCHECKED));\n\n      //\n      if (allChecked || list.hasState(item, STATUS_UNCHECKED)) {\n        this.setItemState(list, item, true);\n      } else {\n        this.reset();\n      }\n    }\n  }\n\n  /**\n   * checked \n   */\n  public checked() {\n    this.setState();\n  }\n\n  /**\n   *  checked  unchecked\n   */\n  public reset() {\n    const components = this.getAllowComponents();\n    each(components, (component) => {\n      component.clearItemsState(STATUS_CHECKED);\n      component.clearItemsState(STATUS_UNCHECKED);\n    });\n  }\n}\n\nexport default ListChecked;\n","import ListState from './list-state';\n\nconst STATUS_UNCHECKED = 'unchecked';\n\nclass ListFocus extends ListState {\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item: clickedItem } = triggerInfo;\n      const items = list.getItems();\n      const checkedItems = items.filter((t) => !list.hasState(t, STATUS_UNCHECKED));\n      const uncheckedItems = items.filter((t) => list.hasState(t, STATUS_UNCHECKED));\n      const checkedItem = checkedItems[0]\n      /**\n       * 1.  checked radio, clickItem \n       * 2. \n       *    2.1  item  clickItem\n       *    2.2  item\n       * 3.  2.2\n       */\n      if (items.length === checkedItems.length) {\n        for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n      } else if (items.length - uncheckedItems.length === 1) {\n        if (checkedItem.id === clickedItem.id) {\n          for (const item of items) list.setItemState(item, STATUS_UNCHECKED, false);\n        } else {\n          for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n        }\n      } else {\n        for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n      }\n    }\n  }\n}\n\nexport default ListFocus;\n","import ListState from './list-state';\nimport { isEqual } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { HtmlTooltip } from '../../../dependents';\nimport { Point } from '../../../interface';\n\nconst STATUS_SHOW = 'showRadio';\nconst TIP_ID = 'legend-radio-tip';\n\nclass ListRadio extends ListState {\n  public show() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item } = triggerInfo;\n      list.setItemState(item, STATUS_SHOW, true);\n    }\n  }\n\n  public hide() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item } = triggerInfo;\n      list.setItemState(item, STATUS_SHOW, false);\n    }\n  }\n\n  private timeStamp: number = 0;\n  private location: Point;\n  private tooltip;\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  /**\n   *  Tooltip ()\n   * @returns\n   */\n  public showTip() {\n    const context = this.context;\n    const ev = context.event;\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    const target = this.context.event.target;\n    if (timeStamp - lastTimeStamp > 16 && target.get('name') === 'legend-item-radio') {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      this.timeStamp = timeStamp;\n      this.location = curLoc;      \n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(curLoc);\n      }\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hideTip() {\n    this.hideTooltip();\n    this.location = null;\n  }\n\n  protected showTooltip(curLoc: Point) {\n    const context = this.context;\n    const ev = context.event;\n    const target = ev.target;\n\n    if (target && target.get('tip')) {\n      if (!this.tooltip) {\n        this.renderTooltip(); // \n      }\n      //  tooltip\n      const { x: offsetX, y: offsetY } = context.view.getCanvas().get('el').getBoundingClientRect();\n      this.tooltip.update({\n        title: target.get('tip'),\n        ...curLoc,\n        x: curLoc.x + offsetX,\n        y: curLoc.y + offsetY,\n      });\n      this.tooltip.show();\n    }\n  }\n\n  protected hideTooltip() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  private renderTooltip() {\n    const tooltipStyles = {\n      [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: {\n        padding: '6px 8px',\n        transform: 'translate(-50%, -80%)',\n        background: 'rgba(0,0,0,0.75)',\n        color: '#fff',\n        'border-radius': '2px',\n        // \n        'z-index': 100,\n      },\n      [TOOLTIP_CSS_CONST.TITLE_CLASS]: {\n        'font-size': '12px',\n        'line-height': '14px',\n        'margin-bottom': 0,\n        'word-break': 'break-all',\n      }\n    };\n    if (document.getElementById(TIP_ID)) {\n      document.body.removeChild(document.getElementById(TIP_ID));\n    }\n    const tooltip = new HtmlTooltip({\n      parent: document.body,\n      // tooltip \n      region: null,\n      visible: false,\n      crosshairs: null,\n      domStyles: tooltipStyles,\n      containerId: TIP_ID,\n    });\n    tooltip.init();\n    tooltip.setCapture(false); // \n    this.tooltip = tooltip;\n  }\n}\n\nexport default ListRadio;\n","import { deepMix, each } from '@antv/util';\nimport Action from '../base';\nimport { LooseObject } from '../../../interface';\n\n/**\n * @ignore\n *  Action \n */\nabstract class MaskBase extends Action {\n  // mask \n  protected maskShape = null;\n  //  mask \n  protected points = [];\n  //  mask \n  protected starting = false;\n  // \n  protected moving = false;\n  protected preMovePoint = null;\n\n  protected shapeType = 'path';\n  // \n  protected getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n  //  mask \n  protected emitEvent(type) {\n    const eventName = `mask:${type}`;\n    const view = this.context.view;\n    const event = this.context.event;\n    view.emit(eventName, {\n      target: this.maskShape,\n      shape: this.maskShape,\n      points: this.points,\n      x: event.x,\n      y: event.y,\n    });\n  }\n\n  //  mask\n  private createMask() {\n    const view = this.context.view;\n    const maskAttrs = this.getMaskAttrs();\n    const maskShape = view.foregroundGroup.addShape({\n      type: this.shapeType,\n      name: 'mask',\n      draggable: true,\n      attrs: {\n        fill: '#C5D4EB',\n        opacity: 0.3,\n        ...maskAttrs,\n      },\n    });\n    return maskShape;\n  }\n\n  protected abstract getMaskAttrs(): LooseObject;\n\n  //  mask \n  protected getMaskPath() {\n    return [];\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (this.maskShape) {\n      this.maskShape.show();\n      this.emitEvent('show');\n    }\n  }\n\n  /**\n   * \n   */\n  public start(arg?: { maskStyle: LooseObject }) {\n    this.starting = true;\n    // \n    this.moving = false;\n    this.points = [this.getCurrentPoint()];\n    if (!this.maskShape) {\n      this.maskShape = this.createMask();\n      //  capture: falseresize \n      this.maskShape.set('capture', false);\n    }\n    this.updateMask(arg?.maskStyle);\n    this.emitEvent('start');\n  }\n\n  /**\n   * \n   */\n  public moveStart() {\n    this.moving = true;\n    this.preMovePoint = this.getCurrentPoint();\n  }\n  /**\n   *  mask\n   */\n  public move() {\n    if (!this.moving || !this.maskShape) {\n      return;\n    }\n    const currentPoint = this.getCurrentPoint();\n    const preMovePoint = this.preMovePoint;\n    const dx = currentPoint.x - preMovePoint.x;\n    const dy = currentPoint.y - preMovePoint.y;\n    const points = this.points;\n    each(points, (point) => {\n      point.x += dx;\n      point.y += dy;\n    });\n    this.updateMask();\n    this.emitEvent('change');\n    this.preMovePoint = currentPoint;\n  }\n\n  protected updateMask(maskStyle?: LooseObject) {\n    const attrs = deepMix({}, this.getMaskAttrs(), maskStyle);\n    this.maskShape.attr(attrs);\n  }\n\n  /**\n   * \n   */\n  public moveEnd() {\n    this.moving = false;\n    this.preMovePoint = null;\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.starting = false;\n    this.emitEvent('end');\n    if (this.maskShape) {\n      this.maskShape.set('capture', true);\n    }\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.maskShape) {\n      this.maskShape.hide();\n      this.emitEvent('hide');\n    }\n  }\n\n  /**\n   * \n   */\n  public resize() {\n    // \n    if (this.starting && this.maskShape) {\n      this.points.push(this.getCurrentPoint());\n      this.updateMask();\n      this.emitEvent('change');\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.points = [];\n    if (this.maskShape) {\n      this.maskShape.remove();\n    }\n    this.maskShape = null;\n    this.preMovePoint = null;\n    super.destroy();\n  }\n}\n\nexport default MaskBase;\n","import { last } from '@antv/util';\nimport { distance } from '../util';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Action\n */\nclass CircleMask extends MaskBase {\n  protected shapeType = 'circle';\n  protected getMaskAttrs() {\n    const points = this.points;\n    const currentPoint = last(this.points);\n    let r = 0;\n    let x = 0;\n    let y = 0;\n    if (points.length) {\n      const first = points[0];\n      r = distance(first, currentPoint) / 2;\n      x = (currentPoint.x + first.x) / 2;\n      y = (currentPoint.y + first.y) / 2;\n    }\n    return {\n      x,\n      y,\n      r,\n    };\n  }\n}\n\nexport default CircleMask;\n","import { head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Action\n */\nclass RectMask extends MaskBase {\n  protected shapeType = 'rect';\n  protected getRegion(): Region {\n    const points = this.points;\n    return {\n      start: head(points),\n      end: last(points),\n    };\n  }\n  // \n  protected getMaskAttrs() {\n    const { start, end } = this.getRegion();\n    const x = Math.min(start.x, end.x);\n    const y = Math.min(start.y, end.y);\n    const width = Math.abs(end.x - start.x);\n    const height = Math.abs(end.y - start.y);\n    return {\n      x,\n      y,\n      width,\n      height,\n    };\n  }\n}\n\nexport default RectMask;\n","import { clamp, head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport RectMask from './rect';\n\nfunction clampPoint(point) {\n  point.x = clamp(point.x, 0, 1);\n  point.y = clamp(point.y, 0, 1);\n}\n\n/**\n * @ignore\n */\nclass DimRect extends RectMask {\n  protected dim = 'x';\n  protected inPlot = true;\n  protected getRegion(): Region {\n    let start = null;\n    let end = null;\n    const points = this.points;\n    const dim = this.dim;\n    const coord = this.context.view.getCoordinate();\n    const normalStart = coord.invert(head(points));\n    const normalEnd = coord.invert(last(points));\n    if (this.inPlot) {\n      //  0 - 1 \n      clampPoint(normalStart);\n      clampPoint(normalEnd);\n    }\n    if (dim === 'x') {\n      // x , y \n      start = coord.convert({\n        x: normalStart.x,\n        y: 0,\n      });\n      end = coord.convert({\n        x: normalEnd.x,\n        y: 1,\n      });\n    } else {\n      // y , x \n      start = coord.convert({\n        x: 0,\n        y: normalStart.y,\n      });\n      end = coord.convert({\n        x: 1,\n        y: normalEnd.y,\n      });\n    }\n    return {\n      start,\n      end,\n    };\n  }\n}\n\nexport default DimRect;\n","import { Point, Scale } from '../../../dependents';\nimport { FilterCondition, EventPayload } from '../../../interface';\nimport { View, Event } from '../../../chart';\nimport Action from '../base';\nimport { isMask } from '../util';\n\n//  scale\nfunction getFilter(scale: Scale, dim: string, point1: Point, point2: Point): FilterCondition {\n  let min = Math.min(point1[dim], point2[dim]);\n  let max = Math.max(point1[dim], point2[dim]);\n  const [rangeMin, rangeMax] = scale.range;\n  //  scale  range \n  if (min < rangeMin) {\n    min = rangeMin;\n  }\n  if (max > rangeMax) {\n    max = rangeMax;\n  }\n  //  view  null\n  if (min === rangeMax && max === rangeMax) {\n    return null;\n  }\n  const minValue = scale.invert(min);\n  const maxValue = scale.invert(max);\n  if (scale.isCategory) {\n    const minIndex = scale.values.indexOf(minValue);\n    const maxIndex = scale.values.indexOf(maxValue);\n    const arr = scale.values.slice(minIndex, maxIndex + 1);\n    return (value) => {\n      return arr.includes(value);\n    };\n  } else {\n    return (value) => {\n      return value >= minValue && value <= maxValue;\n    };\n  }\n}\n\n/** range-filter brush-filter, brush-x-filter, brush-y-filter */\nenum EVENTS {\n  FILTER = 'brush-filter-processing',\n  RESET = 'brush-filter-reset',\n  BEFORE_FILTER = 'brush-filter:beforefilter',\n  AFTER_FILTER = 'brush-filter:afterfilter',\n  BEFORE_RESET = 'brush-filter:beforereset',\n  AFTER_RESET = 'brush-filter:afterreset',\n}\n\nexport { EVENTS as BRUSH_FILTER_EVENTS };\n\n/**\n *  Action\n * @ignore\n */\nclass RangeFilter extends Action {\n  /**  dims */\n  protected cfgFields: ['dims'];\n  /**\n   * / x, y\n   */\n  protected dims: string[] = ['x', 'y'];\n  /**  */\n  protected startPoint: Point = null;\n\n  private isStarted: boolean = false;\n\n  // x,y \n  private hasDim(dim: string) {\n    return this.dims.includes(dim);\n  }\n\n  /**\n   * \n   */\n  public start() {\n    const context = this.context;\n    this.isStarted = true;\n    this.startPoint = context.getCurrentPoint();\n  }\n\n  /**\n   * \n   */\n  public filter() {\n    let startPoint;\n    let currentPoint;\n    if (isMask(this.context)) {\n      const maskShape = this.context.event.target;\n      const bbox = maskShape.getCanvasBBox();\n      startPoint = { x: bbox.x, y: bbox.y };\n      currentPoint = { x: bbox.maxX, y: bbox.maxY };\n    } else {\n      if (!this.isStarted) {\n        // \n        return;\n      }\n      startPoint = this.startPoint;\n      currentPoint = this.context.getCurrentPoint();\n    }\n    if (Math.abs(startPoint.x - currentPoint.x) < 5 || Math.abs(startPoint.x - currentPoint.y) < 5) {\n      // \n      return;\n    }\n    const { view, event } = this.context;\n    const payload = { view, event, dims: this.dims };\n    view.emit(EVENTS.BEFORE_FILTER, Event.fromData(view, EVENTS.BEFORE_FILTER, payload));\n\n    const coord = view.getCoordinate();\n    const normalCurrent = coord.invert(currentPoint);\n    const normalStart = coord.invert(startPoint);\n    //  x  filter\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      const filter = getFilter(xScale, 'x', normalCurrent, normalStart);\n      this.filterView(view, xScale.field, filter);\n    }\n    //  y  filter\n    if (this.hasDim('y')) {\n      const yScale = view.getYScales()[0];\n      const filter = getFilter(yScale, 'y', normalCurrent, normalStart);\n      this.filterView(view, yScale.field, filter);\n    }\n    this.reRender(view, { source: EVENTS.FILTER });\n\n    view.emit(EVENTS.AFTER_FILTER, Event.fromData(view, EVENTS.AFTER_FILTER, payload));\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isStarted = false;\n  }\n\n  /**\n   *  Action  x,y\n   */\n  public reset() {\n    const view = this.context.view;\n    view.emit(EVENTS.BEFORE_RESET, Event.fromData(view, EVENTS.BEFORE_RESET, {}));\n\n    this.isStarted = false;\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      this.filterView(view, xScale.field, null); // \n    }\n    if (this.hasDim('y')) {\n      // y  yScale\n      const yScale = view.getYScales()[0];\n      this.filterView(view, yScale.field, null); // \n    }\n    this.reRender(view, { source: EVENTS.RESET });\n\n    view.emit(EVENTS.AFTER_RESET, Event.fromData(view, EVENTS.AFTER_RESET, {}));\n  }\n\n  /**\n   *  view \n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    view.filter(field, filter);\n  }\n\n  /**\n   * \n   * @param view\n   */\n  protected reRender(view: View, payload?: EventPayload) {\n    view.render(true, payload);\n  }\n}\n\nexport default RangeFilter;\n","import { each } from '@antv/util';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Path  Action\n */\nclass PathMask extends MaskBase {\n  //  mask \n  protected getMaskPath() {\n    const points = this.points;\n    const path = [];\n    if (points.length) {\n      each(points, (point, index) => {\n        if (index === 0) {\n          path.push(['M', point.x, point.y]);\n        } else {\n          path.push(['L', point.x, point.y]);\n        }\n      });\n      path.push(['L', points[0].x, points[0].y]);\n    }\n    return path;\n  }\n\n  protected getMaskAttrs() {\n    return {\n      path: this.getMaskPath(),\n    };\n  }\n\n  /**\n   * \n   */\n  public addPoint() {\n    this.resize();\n  }\n}\n\nexport default PathMask;\n","import { getSpline } from '../util';\nimport PathMask from './path';\n\n/**\n * Smooth path mask\n * @ignore\n */\nclass SmoothPathMask extends PathMask {\n  //  mask \n  protected getMaskPath() {\n    const points = this.points;\n    return getSpline(points, true);\n  }\n}\n\nexport default SmoothPathMask;\n","/**\n * @fileoverview https://www.w3school.com.cn/jsref/prop_style_cursor.asp\n * @author dxq613\n */\nimport Action from './base';\n\n/**\n *  Action\n * @ignore\n */\nclass CursorAction extends Action {\n  private setCursor(cursor) {\n    const view = this.context.view;\n    view.getCanvas().setCursor(cursor);\n  }\n\n  /**\n   * \n   */\n  public default() {\n    this.setCursor('default');\n  }\n\n  /**  */\n  public pointer() {\n    this.setCursor('pointer');\n  }\n  /**  */\n  public move() {\n    this.setCursor('move');\n  }\n  /**  */\n  public crosshair() {\n    this.setCursor('crosshair');\n  }\n  /**  */\n  public wait() {\n    this.setCursor('wait');\n  }\n\n  /**  */\n  public help() {\n    this.setCursor('help');\n  }\n\n  /**  */\n  public text() {\n    this.setCursor('text');\n  }\n\n  /**\n   * \n   */\n  public eResize() {\n    this.setCursor('e-resize');\n  }\n\n  /**\n   * \n   */\n  public wResize() {\n    this.setCursor('w-resize');\n  }\n\n  /**\n   * \n   */\n  public nResize() {\n    this.setCursor('n-resize');\n  }\n\n  /**\n   * \n   */\n  public sResize() {\n    this.setCursor('s-resize');\n  }\n  /**\n   *  \n   */\n  public neResize() {\n    this.setCursor('ne-resize');\n  }\n  /**\n   *  \n   */\n  public nwResize() {\n    this.setCursor('nw-resize');\n  }\n  /**\n   * \n   */\n  public seResize() {\n    this.setCursor('se-resize');\n  }\n  /**\n   * \n   */\n  public swResize() {\n    this.setCursor('sw-resize');\n  }\n\n  /**\n   * \n   */\n  public nsResize() {\n    this.setCursor('ns-resize');\n  }\n  /**\n   * \n   */\n  public ewResize() {\n    this.setCursor('ew-resize');\n  }\n}\n\nexport default CursorAction;\n","import { each } from '@antv/util';\nimport { View } from 'src/chart';\nimport Action from '../base';\nimport { getDelegationObject, getScaleByField, isList, isSlider } from '../util';\n\n/**\n * \n * @ignore\n */\nclass DataFilter extends Action {\n  private filterView(view: View, field, filter) {\n    //  scale \n    if (view.getScaleByField(field)) {\n      view.filter(field, filter);\n    }\n    if (view.views && view.views.length) {\n      each(view.views, (subView) => {\n        this.filterView(subView, field, filter);\n      });\n    }\n  }\n  /**\n   * \n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    if (delegateObject) {\n      const view = this.context.view;\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // \n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names: string[] = unCheckedItems.map((item) => item.name);\n          if (names.length) {\n            this.filterView(view, field, (value) => {\n              const text = scale.getText(value);\n              return !names.includes(text);\n            });\n          } else {\n            this.filterView(view, field, null);\n          }\n          view.render(true);\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        this.filterView(view, field, (value) => {\n          return value >= min && value <= max;\n        });\n        view.render(true);\n      }\n    }\n  }\n}\n\nexport default DataFilter;\n","import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport { FilterCondition } from '../../../interface';\nimport RangeFilter from './range-filter';\n\nimport { getSilbings } from '../util';\n\n/**\n *  view  view  views \n * @ignore\n */\nclass SiblingFilter extends RangeFilter {\n  /**\n   *  view \n   * @param view\n   * @param field\n   * @param filter\n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.filter(field, filter);\n    });\n  }\n\n  /**\n   * \n   * @param view\n   */\n  protected reRender(view: View) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.render(true);\n    });\n  }\n}\n\nexport default SiblingFilter;\n","import { each } from '@antv/util';\nimport Action from '../base';\nimport {\n  getDelegationObject,\n  getElements,\n  getElementValue,\n  getScaleByField,\n  isList,\n  isSlider,\n  isMask,\n  getMaskedElements,\n} from '../util';\n/**\n *  Action\n * @ignore\n */\nclass ElementFilter extends Action {\n  /**\n   * \n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    const view = this.context.view;\n    const elements = getElements(view);\n    if (isMask(this.context)) {\n      const maskElements = getMaskedElements(this.context, 10);\n      if (maskElements) {\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    } else if (delegateObject) {\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // \n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names = unCheckedItems.map((item) => item.name);\n          // \n          each(elements, (el) => {\n            const value = getElementValue(el, field);\n            const text = scale.getText(value);\n            if (names.indexOf(text) >= 0) {\n              el.hide();\n            } else {\n              el.show();\n            }\n          });\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        each(elements, (el) => {\n          const value = getElementValue(el, field);\n          if (value >= min && value <= max) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    }\n  }\n  /**\n   * \n   */\n  public clear() {\n    const elements = getElements(this.context.view);\n    each(elements, (el) => {\n      el.show();\n    });\n  }\n\n  /**\n   *  data-filter \n   */\n  public reset() {\n    this.clear();\n  }\n}\n\nexport default ElementFilter;\n","import { each } from '@antv/util';\nimport Action from '../base';\nimport { getElements, getMaskedElements, getSiblingMaskElements, getSilbings, isInRecords, isMask } from '../util';\n\n/**\n * Sibling filter\n * @ignore\n */\nclass SiblingFilter extends Action {\n  protected byRecord = false;\n  /**\n   * \n   */\n  public filter() {\n    //  mask \n    if (isMask(this.context)) {\n      if (this.byRecord) {\n        this.filterByRecord();\n      } else {\n        this.filterByBBox();\n      }\n    }\n  }\n  // \n  private filterByRecord() {\n    const view = this.context.view;\n    const maskElements = getMaskedElements(this.context, 10);\n    if (!maskElements) {\n      return;\n    }\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    const records = maskElements.map((el) => {\n      return el.getModel().data;\n    });\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const elements = getElements(sibling);\n      each(elements, (el) => {\n        const record = el.getModel().data;\n        // records.includes(record) \n        if (isInRecords(records, record, xFiled, yField)) {\n          el.show();\n        } else {\n          el.hide();\n        }\n      });\n    });\n  }\n\n  // \n  private filterByBBox() {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const maskElements = getSiblingMaskElements(this.context, sibling, 10);\n      const elements = getElements(sibling);\n      if (maskElements) {\n        // mask  null\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    const siblings = getSilbings(this.context.view);\n    each(siblings, (sibling) => {\n      const elements = getElements(sibling);\n      each(elements, (el) => {\n        el.show();\n      });\n    });\n  }\n}\n\nexport default SiblingFilter;\n","import { LooseObject } from '../../../interface';\nimport { IGroup } from '@antv/g-base';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport { parsePadding } from '../../../util/padding';\nimport Action from '../base';\nconst PADDING_RIGHT = 10;\nconst PADDING_TOP = 5;\n\n/**\n * Button action\n * @ignore\n */\nclass ButtonAction extends Action {\n  private buttonGroup: IGroup = null;\n  private buttonCfg = {\n    name: 'button',\n    text: 'button',\n    textStyle: {\n      x: 0,\n      y: 0,\n      fontSize: 12,\n      fill: '#333333',\n      cursor: 'pointer',\n    },\n    padding: [8, 10],\n    style: {\n      fill: '#f7f7f7',\n      stroke: '#cccccc',\n      cursor: 'pointer',\n    },\n    activeStyle: {\n      fill: '#e6e6e6',\n    },\n  };\n  // mix \n  private getButtonCfg(): LooseObject {\n    return deepMix(this.buttonCfg, this.cfg);\n  }\n  //  Button  \n  private drawButton() {\n    const config = this.getButtonCfg();\n    const group = this.context.view.foregroundGroup.addGroup({\n      name: config.name,\n    });\n    // \n    const textShape = group.addShape({\n      type: 'text',\n      name: 'button-text',\n      attrs: {\n        text: config.text,\n        ...config.textStyle,\n      },\n    });\n    const textBBox = textShape.getBBox();\n    const padding = parsePadding(config.padding);\n    // \n    const buttonShape = group.addShape({\n      type: 'rect',\n      name: 'button-rect',\n      attrs: {\n        x: textBBox.x - padding[3],\n        y: textBBox.y - padding[0],\n        width: textBBox.width + padding[1] + padding[3],\n        height: textBBox.height + padding[0] + padding[2],\n        ...config.style,\n      },\n    });\n    buttonShape.toBack(); // \n    // active \n    group.on('mouseenter', () => {\n      buttonShape.attr(config.activeStyle);\n    });\n    group.on('mouseleave', () => {\n      buttonShape.attr(config.style);\n    });\n    this.buttonGroup = group;\n  }\n\n  // \n  private resetPosition() {\n    const view = this.context.view;\n    const coord = view.getCoordinate();\n    const point = coord.convert({ x: 1, y: 1 }); // \n    const buttonGroup = this.buttonGroup;\n    const bbox = buttonGroup.getBBox();\n    const matrix = ext.transform(null, [\n      ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n    ]);\n    buttonGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (!this.buttonGroup) {\n      this.drawButton();\n    }\n    this.resetPosition();\n    this.buttonGroup.show();\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.buttonGroup) {\n      this.buttonGroup.hide();\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    const buttonGroup = this.buttonGroup;\n    if (buttonGroup) {\n      buttonGroup.remove();\n    }\n    super.destroy();\n  }\n}\n\nexport default ButtonAction;\n","import { Point } from '../../../dependents';\nimport Action from '../base';\nimport { distance } from '../util';\n\nconst DISTANCE = 4; // \n\n/**\n * @ignore\n * View  Drag  Action\n */\nclass Drag extends Action {\n  // Action  \n  protected starting = false;\n  // \n  protected dragStart = false;\n  // \n  protected startPoint: Point;\n\n  /**\n   * \n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n  }\n\n  /**\n   * \n   */\n  public drag() {\n    if (!this.startPoint) {\n      return;\n    }\n    const current = this.context.getCurrentPoint();\n    const view = this.context.view;\n    const event = this.context.event;\n    if (!this.dragStart) {\n      if (distance(current, this.startPoint) > DISTANCE) {\n        view.emit('dragstart', {\n          target: event.target,\n          x: event.x,\n          y: event.y,\n        });\n        this.dragStart = true;\n      }\n    } else {\n      view.emit('drag', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    if (this.dragStart) {\n      const view = this.context.view;\n      const event = this.context.event;\n      view.emit('dragend', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n    this.starting = false;\n    this.dragStart = false;\n  }\n}\n\nexport default Drag;\n","import { ext } from '@antv/matrix-util';\nimport { Action } from '..';\nimport { distance } from '../util';\n\nconst MIN_DISTANCE = 5;\n\n/**\n * @ignore\n * View  Action\n */\nclass Move extends Action {\n  private starting = false;\n  private isMoving = false;\n  // private cacheRange = null;\n  private startPoint = null;\n  private startMatrix = null;\n  /**\n   * \n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n    // \n    this.startMatrix = this.context.view.middleGroup.getMatrix();\n  }\n\n  /**\n   * \n   */\n  public move() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const currentPoint = this.context.getCurrentPoint();\n    const d = distance(startPoint, currentPoint);\n    if (d > MIN_DISTANCE && !this.isMoving) {\n      this.isMoving = true;\n    }\n    if (this.isMoving) {\n      const view = this.context.view;\n      const matrix = ext.transform(this.startMatrix, [\n        ['t', currentPoint.x - startPoint.x, currentPoint.y - startPoint.y],\n      ]);\n      view.backgroundGroup.setMatrix(matrix);\n      view.foregroundGroup.setMatrix(matrix);\n      view.middleGroup.setMatrix(matrix);\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    if (this.isMoving) {\n      this.isMoving = false;\n    }\n    this.startMatrix = null;\n    this.starting = false;\n    this.startPoint = null;\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.starting = false;\n    this.startPoint = null;\n    this.isMoving = false;\n\n    const view = this.context.view;\n    view.backgroundGroup.resetMatrix();\n    view.foregroundGroup.resetMatrix();\n    view.middleGroup.resetMatrix();\n    this.isMoving = false;\n  }\n}\n\nexport default Move;\n","import { Action } from '..';\n\nconst DIM_X = 'x';\nconst DIM_Y = 'y';\n\n/**\n * Scale translate\n * @ignore\n */\nclass ScaleTranslate extends Action {\n  protected dims = [DIM_X, DIM_Y];\n  protected cfgFields = ['dims'];\n  protected cacheScaleDefs = {};\n\n  // \n  protected hasDim(dim) {\n    return this.dims.includes(dim);\n  }\n\n  protected getScale(dim) {\n    const view = this.context.view;\n    if (dim === 'x') {\n      return view.getXScale();\n    } else {\n      return view.getYScales()[0];\n    }\n  }\n\n  private resetDim(dim) {\n    const view = this.context.view;\n    if (this.hasDim(dim) && this.cacheScaleDefs[dim]) {\n      const scale = this.getScale(dim);\n      view.scale(scale.field, this.cacheScaleDefs[dim]);\n      this.cacheScaleDefs[dim] = null;\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.resetDim(DIM_X);\n    this.resetDim(DIM_Y);\n    const view = this.context.view;\n    view.render(true);\n  }\n}\n\nexport default ScaleTranslate;\n","import { each } from '@antv/util';\nimport { Point } from '../../../dependents';\nimport TransformAction from './scale-transform';\n\n/**\n *  Scale  Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  protected startPoint: Point = null;\n  protected starting = false;\n  private startCache = {};\n  /**\n   * \n   */\n  public start() {\n    this.startPoint = this.context.getCurrentPoint();\n    this.starting = true;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      const scale = this.getScale(dim);\n      const { min, max, values } = scale;\n      this.startCache[dim] = { min, max, values };\n    });\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * \n   */\n  public end() {\n    this.startPoint = null;\n    this.starting = false;\n    this.startCache = {};\n  }\n\n  /**\n   * \n   */\n  public translate() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const coord = this.context.view.getCoordinate();\n    const currentPoint = this.context.getCurrentPoint();\n    const normalStart = coord.invert(startPoint);\n    const noramlCurrent = coord.invert(currentPoint);\n    const dx = noramlCurrent.x - normalStart.x;\n    const dy = noramlCurrent.y - normalStart.y;\n    const view = this.context.view;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.translateDim(dim, { x: dx * -1, y: dy * -1 });\n    });\n    view.render(true);\n  }\n\n  // \n  private translateDim(dim, normalPoint) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.translateLinear(dim, scale, normalPoint);\n      }\n      //  else { // \n      // this.translateCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear \n  private translateLinear(dim, scale, normalPoint) {\n    const view = this.context.view;\n    const { min, max } = this.startCache[dim];\n    const range = max - min;\n    const d = normalPoint[dim] * range;\n    // \n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min,\n        max,\n      };\n    }\n    view.scale(scale.field, {\n      // @ts-ignore\n      nice: false,\n      min: min + d,\n      max: max + d,\n    });\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * \n   */\n  public reset() {\n    super.reset();\n    this.startPoint = null;\n    this.starting = false;\n  }\n}\n\nexport default ScaleTranslate;\n","import { each, throttle } from '@antv/util';\nimport TransformAction from './scale-transform';\n\n/**\n *  Scale  Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  private zoomRatio = 0.05;\n  /**\n   * \n   */\n  public zoomIn() {\n    this.zoom(this.zoomRatio);\n  }\n\n  private zoom(scale) {\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.zoomDim(dim, scale);\n    });\n    this.context.view.render(true);\n  }\n\n  /**\n   * \n   */\n  public zoomOut() {\n    this.zoom(-1 * this.zoomRatio);\n  }\n\n  // \n  private zoomDim(dim, dRatio) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.zoomLinear(dim, scale, dRatio);\n      }\n      //  else { // \n      // this.zoomCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear \n  private zoomLinear(dim, scale, dRatio) {\n    const view = this.context.view;\n    // \n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min: scale.min,\n        max: scale.max,\n      };\n    }\n    // \n    const scaleDef = this.cacheScaleDefs[dim];\n    const range = scaleDef.max - scaleDef.min;\n    const { min, max } = scale;\n    const d = dRatio * range;\n    const toMin = min - d;\n    const toMax = max + d;\n    const curRange = toMax - toMin;\n    const scaled = curRange / range;\n    if (toMax > toMin && scaled < 100 && scaled > 0.01) {\n      view.scale(scale.field, {\n        // @ts-ignore\n        nice: false,\n        min: min - d,\n        max: max + d,\n      });\n    }\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n}\n\nexport default ScaleTranslate;\n","import { clamp, size, valuesOfKey } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../../constant';\nimport { Action } from '..';\nimport { LooseObject } from '../../../interface';\n\nfunction isWheelDown(event: LooseObject) {\n  const wheelEvent = event.gEvent.originalEvent as WheelEvent;\n  return wheelEvent.deltaY > 0;\n}\n\nconst DEFAULT_WHEELDELTA = 1;\nclass MousewheelScroll extends Action {\n  public scroll(arg?) {\n    const { view, event } = this.context;\n\n    if (!view.getOptions().scrollbar) {\n      return;\n    }\n\n    const wheelDelta = arg?.wheelDelta || DEFAULT_WHEELDELTA;\n    const scrollbarController = view.getController('scrollbar');\n\n    const xScale = view.getXScale();\n    const data = view.getOptions().data;\n    const dataSize = size(valuesOfKey(data, xScale.field));\n    const step = size(xScale.values);\n\n    const currentRatio = scrollbarController.getValue();\n    const currentStart = Math.floor((dataSize - step) * currentRatio);\n\n    const nextStart = currentStart + (isWheelDown(event) ? wheelDelta : -wheelDelta);\n    const correction = wheelDelta / (dataSize - step) / 10000;\n    const nextRatio = clamp(nextStart / (dataSize - step) + correction, 0, 1);\n    scrollbarController.setValue(nextRatio);\n  }\n}\n\nexport default MousewheelScroll;\n","/**\n * Simplified from https://github.com/zertosh/invariant.\n */\n\nexport enum LEVEL {\n  ERROR = 'error',\n  WARN = 'warn',\n  INFO = 'log',\n}\n\nconst BRAND = 'AntV/G2Plot';\n\n/**\n * \n * @param format\n * @param args\n */\nfunction getMessage(format: string, ...args: any[]): string {\n  let argIndex = 0;\n  return `${BRAND}: ${format.replace(/%s/g, (): string => `${args[argIndex++]}`)}`;\n}\n\n/**\n * invariant error\n * @param condition\n * @param format\n * @param args\n */\nexport function invariant(condition: boolean, format: string, ...args: any[]): void {\n  if (!condition) {\n    const error = new Error(getMessage(format, ...args));\n    error.name = BRAND;\n    // error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\n/**\n * \n * @param level\n * @param condition\n * @param format\n * @param args\n */\nexport function log(level: LEVEL, condition: boolean, format, ...args: any[]): void {\n  if (!condition) {\n    console[level](getMessage(format, ...args));\n  }\n}\n","import { TOOLTIP_CSS_CONST } from \"@antv/component\";\nimport { deepMix } from \"@antv/util\";\nimport { HtmlTooltip } from \"../../../../dependents\";\nimport Action from \"../../base\";\nimport { getDelegationObject } from \"../../util\";\n\nconst AXIS_DESCRIPTION_TOOLTIP = 'aixs-description-tooltip'\n\nclass AxisDescription extends Action {\n  private tooltip;\n\n  public show() {\n    const context = this.context;\n    const { axis } = getDelegationObject(context);\n    const { description, text } = axis.cfg.title;\n    const { x, y } = context.event;\n    if(!this.tooltip) {\n      this.renderTooltip()\n    };\n    this.tooltip.update({\n      title: text || '',\n      customContent: () => {\n        return (`\n          <div class=\"${TOOLTIP_CSS_CONST.CONTAINER_CLASS}\">\n            <div class=\"${TOOLTIP_CSS_CONST.TITLE_CLASS}\">\n              ${text}\n            </div>\n            <div class=\"${TOOLTIP_CSS_CONST.LIST_CLASS}\">\n              ${description}\n            </div>\n          </div>\n        `)\n      },\n      x,\n      y\n    });\n    this.tooltip.show()\n  }\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  public hide() {\n    this.tooltip && this.tooltip.hide()\n  }\n\n  public renderTooltip() {\n    const view = this.context.view;\n    const canvas = view.canvas;\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      visible: false,\n      containerId: AXIS_DESCRIPTION_TOOLTIP,\n      domStyles: {\n        ...deepMix({}, {\n          // tooltip tip  50%\n          [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: {\n            'max-width': '50%',\n            'padding': '5px',\n            'line-height': '15px'\n          },\n          [TOOLTIP_CSS_CONST.TITLE_CLASS]: {\n            'word-break': 'break-all',\n            'font-size': '14px',\n            'margin-bottom': '3px'\n          },\n          [TOOLTIP_CSS_CONST.LIST_CLASS]: {\n            'word-break': 'break-all',\n            'opacity': '.5'\n          }\n        }),\n      },\n    });\n    tooltip.init();\n    tooltip.setCapture(false);\n    this.tooltip = tooltip\n  }\n}\nexport default AxisDescription\n","type FlowFunction<P> = (param: P) => P;\n\n/**\n *  lodash.flow \n * @param flows\n */\nexport function flow<P>(...flows: FlowFunction<P>[]): FlowFunction<P> {\n  return (param: P) => {\n    return flows.reduce((result: P, f: FlowFunction<P>) => {\n      return f(result);\n    }, param);\n  };\n}\n","/**\n *  lodash.pick \n * @param obj\n * @param keys\n */\nexport function pick(obj: any, keys: string[]): object {\n  const r = {};\n\n  if (obj !== null && typeof obj === 'object') {\n    keys.forEach((key: string) => {\n      const v = obj[key];\n      if (v !== undefined) {\n        r[key] = v;\n      }\n    });\n  }\n  return r;\n}\n","import { reduce } from '@antv/util';\n/**\n * \n * template('hello, {name}', { name: 'AntV' }); // hello, AntV\n * @param string\n * @param options\n */\nexport function template(source: string, data?: object): string {\n  if (!data) {\n    return source;\n  }\n  return reduce(\n    // @ts-ignore\n    data,\n    (r: string, v: string, k: string) => r.replace(new RegExp(`{\\\\s*${k}\\\\s*}`, 'g'), v),\n    source\n  );\n}\n","import { Size } from '../types';\n\n/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nexport function getContainerSize(ele: HTMLElement): Size {\n  if (!ele) {\n    return { width: 0, height: 0 };\n  }\n  const style = getComputedStyle(ele);\n\n  return {\n    width:\n      (ele.clientWidth || parseInt(style.width, 10)) -\n      parseInt(style.paddingLeft, 10) -\n      parseInt(style.paddingRight, 10),\n    height:\n      (ele.clientHeight || parseInt(style.height, 10)) -\n      parseInt(style.paddingTop, 10) -\n      parseInt(style.paddingBottom, 10),\n  };\n}\n","import { Geometry, View, Element } from '@antv/g2';\nimport { reduce, get } from '@antv/util';\n\n/**\n *  View  type  geometry\n * @param view\n * @param type\n */\nexport function findGeometry(view: View, type: string): Geometry {\n  return view.geometries.find((g: Geometry) => g.type === type);\n}\n\n/**\n *  View   elements\n */\nexport function getAllElements(view: View): Element[] {\n  return reduce(\n    view.geometries,\n    (r: Element[], geometry: Geometry) => {\n      return r.concat(geometry.elements);\n    },\n    []\n  );\n}\n\n/**\n *  View   elements,  View  View\n */\nexport function getAllElementsRecursively(view: View): Element[] {\n  if (get(view, ['views', 'length'], 0) <= 0) {\n    return getAllElements(view);\n  }\n\n  return reduce(\n    view.views,\n    (ele: Element[], subView: View) => {\n      return ele.concat(getAllElementsRecursively(subView));\n    },\n    getAllElements(view)\n  );\n}\n\n/**\n *  View   geometries,  View  View\n */\nexport function getAllGeometriesRecursively(view: View): Geometry[] {\n  if (get(view, ['views', 'length'], 0) <= 0) {\n    return view.geometries;\n  }\n\n  return reduce(\n    view.views,\n    (ele: Geometry[], subView: View) => {\n      return ele.concat(subView.geometries);\n    },\n    view.geometries\n  );\n}\n","import { View } from '@antv/g2';\n\n/**\n *  Chart  id  View\n * @param chart\n * @param id\n */\nexport function findViewById(chart: View, id: string): View {\n  return chart.views.find((view: View) => view.id === id);\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getViews(view: View): View[] {\n  const parent = view.parent;\n  return parent ? parent.views : [];\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getSiblingViews(view: View): View[] {\n  return getViews(view).filter((sub) => sub !== view);\n}\n","import { isType } from '@antv/util';\n/**\n *  v1 label formatter\n * @param labelOptions\n */\nexport function transformLabel(labelOptions: any) {\n  if (!isType(labelOptions, 'Object')) {\n    return labelOptions;\n  }\n  const label = { ...labelOptions };\n  if (label.formatter && !label.content) {\n    label.content = label.formatter;\n  }\n  return label;\n}\n","import { vec2 } from '@antv/matrix-util';\nimport { Position, Point } from '../types/common';\n\nexport function points2Path(points: Point[], isInCircle: boolean) {\n  const path = [];\n  if (points.length) {\n    path.push(['M', points[0].x, points[0].y]);\n    for (let i = 1, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      path.push(['L', item.x, item.y]);\n    }\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n  return path;\n}\n\n/**\n * @ignore\n * \n */\nexport const smoothBezier = (\n  points: Position[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: Position[]\n): Position[] => {\n  const cps = [];\n  let prevPoint: Position;\n  let nextPoint: Position;\n  const hasConstraint = !!constraint;\n  let min: Position;\n  let max: Position;\n  if (hasConstraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vec2.min([0, 0], min, point) as [number, number];\n      max = vec2.max([0, 0], max, point) as [number, number];\n    }\n    min = vec2.min([0, 0], min, constraint[0]) as [number, number];\n    max = vec2.max([0, 0], max, constraint[1]) as [number, number];\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isLoop) {\n      prevPoint = points[i ? i - 1 : len - 1];\n      nextPoint = points[(i + 1) % len];\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push(point);\n        continue;\n      } else {\n        prevPoint = points[i - 1];\n        nextPoint = points[i + 1];\n      }\n    }\n    let v: [number, number] = [0, 0];\n    v = vec2.sub(v, nextPoint, prevPoint) as [number, number];\n    v = vec2.scale(v, v, smooth) as [number, number];\n\n    let d0 = vec2.distance(point, prevPoint);\n    let d1 = vec2.distance(point, nextPoint);\n\n    const sum = d0 + d1;\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n\n    const v1 = vec2.scale([0, 0], v, -d0);\n    const v2 = vec2.scale([0, 0], v, d1);\n\n    let cp0 = vec2.add([0, 0], point, v1);\n    let cp1 = vec2.add([0, 0], point, v2);\n\n    if (hasConstraint) {\n      cp0 = vec2.max([0, 0], cp0, min);\n      cp0 = vec2.min([0, 0], cp0, max);\n      cp1 = vec2.max([0, 0], cp1, min);\n      cp1 = vec2.min([0, 0], cp1, max);\n    }\n\n    cps.push(cp0);\n    cps.push(cp1);\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n  return cps;\n};\n\n/**\n * @ignore\n * \n */\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: Position[]) {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: Position;\n  let cp2: Position;\n  let p: Position;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n/**\n * @ignore\n * \n */\nexport function getSplinePath(points: Point[], isInCircle?: boolean, constaint?: Position[]) {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // \n    return points2Path(points, isInCircle);\n  }\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  }\n  const constraint = constaint || [\n    // \n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n","const MAX_MIX_LEVEL = 5; // \n\nconst toString = {}.toString;\n\n// \nconst isType = (value: any, type: string): boolean => toString.call(value) === '[object ' + type + ']';\n\nconst isArray = (value: any): value is Array<any> => {\n  return isType(value, 'Array');\n};\n\nconst isObjectLike = (value: any): value is object => {\n  /**\n   * isObjectLike({}) => true\n   * isObjectLike([1, 2, 3]) => true\n   * isObjectLike(Function) => false\n   */\n  return typeof value === 'object' && value !== null;\n};\n\nconst isPlainObject = (value: any): value is object => {\n  /**\n   * isObjectLike(new Foo) => false\n   * isObjectLike([1, 2, 3]) => false\n   * isObjectLike({ x: 0, y: 0 }) => true\n   */\n  if (!isObjectLike(value) || !isType(value, 'Object')) {\n    return false;\n  }\n  let proto = value;\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n  return Object.getPrototypeOf(value) === proto;\n};\n\n/***\n * @param {any} dist\n * @param {any} src\n * @param {number} level \n * @param {number} maxLevel \n */\nconst deep = (dist, src, level?, maxLevel?) => {\n  level = level || 0;\n  maxLevel = maxLevel || MAX_MIX_LEVEL;\n  for (const key in src) {\n    if (Object.prototype.hasOwnProperty.call(src, key)) {\n      const value = src[key];\n      if (!value) {\n        // null  undefined \n        dist[key] = value;\n      } else {\n        if (isPlainObject(value)) {\n          if (!isPlainObject(dist[key])) {\n            dist[key] = {};\n          }\n          if (level < maxLevel) {\n            deep(dist[key], value, level + 1, maxLevel);\n          } else {\n            // \n            dist[key] = src[key];\n          }\n        } else if (isArray(value)) {\n          dist[key] = [];\n          dist[key] = dist[key].concat(value);\n        } else {\n          dist[key] = value;\n        }\n      }\n    }\n  }\n};\n\n/**\n * deepAssign  deepMix\n *  deepAssign  null undefined  source\n *  __tests__/unit/utils/deep-assign-spec.ts\n */\nexport const deepAssign = (rst: any, ...args: any[]) => {\n  for (let i = 0; i < args.length; i += 1) {\n    deep(rst, args[i]);\n  }\n  return rst;\n};\n","/**\n * @desc simple kebabCase like lodash\n *\n * kebabCase('fooBar'); => 'foo-bar'\n */\nexport function kebabCase(word: string) {\n  if (!word) {\n    return word;\n  }\n  const result = word.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);\n  return result.map((s: string) => s.toLowerCase()).join('-');\n}\n","import { View, IGroup } from '@antv/g2';\nimport { each, get, isNumber, isFunction, isString } from '@antv/util';\nimport { Datum, ShapeStyle, Statistic, StatisticText } from '../types';\nimport { pick, kebabCase } from '.';\n\n/**\n * @desc  html-statistic  style  ( canvas  shapeStyle  css)\n *\n * @param width\n * @param style\n */\nexport function adapteStyle(style?: StatisticText['style']): object {\n  const styleObject = {\n    overflow: 'hidden',\n    'white-space': 'nowrap',\n    'text-overflow': 'ellipsis',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  };\n\n  const shapeStyleKeys = [\n    'stroke',\n    'lineWidth',\n    'shadowColor',\n    'strokeOpacity',\n    'shadowBlur',\n    'shadowOffsetX',\n    'shadowOffsetY',\n    'fill',\n  ];\n\n  //  shapeStyle   start\n  if (get(style, 'fill')) {\n    styleObject['color'] = style['fill'];\n  }\n  const {\n    shadowColor,\n    shadowBlur = 0,\n    shadowOffsetX = 0,\n    shadowOffsetY = 0,\n  } = pick(style, shapeStyleKeys) as ShapeStyle;\n  styleObject['text-shadow'] = `${[shadowColor, `${shadowOffsetX}px`, `${shadowOffsetY}px`, `${shadowBlur}px`].join(\n    ' '\n  )}`;\n\n  const { stroke, lineWidth = 0 } = pick(style, shapeStyleKeys) as ShapeStyle;\n  styleObject['-webkit-text-stroke'] = `${[`${lineWidth}px`, stroke].join(' ')}`;\n  //  shapeStyle   end\n\n  each(style, (v, k) => {\n    //   shapeStyle  fontSize \n    if (['fontSize'].includes(k) && isNumber(v)) {\n      styleObject[kebabCase(k)] = `${v}px`;\n    } else if (k && !shapeStyleKeys.includes(k)) {\n      styleObject[kebabCase(k)] = `${v}`;\n    }\n  });\n\n  return styleObject;\n}\n\n/**\n * @desc  html-statistic \n *\n * - \n */\nexport function setStatisticContainerStyle(container: HTMLElement, style: Partial<CSSStyleDeclaration>) {\n  container.style['pointer-events'] = 'none';\n  each(style, (v, k) => {\n    if (k && v) {\n      container.style[k] = v;\n    }\n  });\n}\n\n/**\n *  html-annotation position  [50%, 50%]\n * @param chart\n * @param options\n * @param meta \n * @param {optional} datum \n */\nexport const renderStatistic = (chart: View, options: { statistic: Statistic; plotType: string }, datum?: Datum) => {\n  const { statistic, plotType } = options;\n  const { title: titleOpt, content: contentOpt } = statistic;\n\n  [titleOpt, contentOpt].forEach((option, idx) => {\n    if (!option) {\n      return;\n    }\n    let transform = '';\n    if (idx === 0) {\n      transform = contentOpt ? 'translate(-50%, -100%)' : 'translate(-50%, -50%)';\n    } else {\n      transform = titleOpt ? 'translate(-50%, 0)' : 'translate(-50%, -50%)';\n    }\n    const style = isFunction(option.style) ? option.style(datum) : option.style;\n\n    chart.annotation().html({\n      position: ['50%', '50%'],\n      html: (container, view) => {\n        const coordinate = view.getCoordinate();\n        let containerW = 0;\n        if (plotType === 'pie' || plotType === 'ring-progress') {\n          containerW = coordinate.getRadius() * coordinate.innerRadius * 2;\n        } else if (plotType === 'liquid') {\n          const liquidShape = get(view.geometries, [0, 'elements', 0, 'shape']);\n          if (liquidShape) {\n            // \n            const path = (liquidShape as IGroup).find((t) => t.get('name') === 'wrap');\n            const { width } = path.getCanvasBBox();\n            containerW = width;\n          }\n        } else if (!containerW) {\n          // \n          containerW = coordinate.getWidth();\n        }\n        setStatisticContainerStyle(container, {\n          width: `${containerW}px`,\n          transform,\n          // user's style setting has high priority\n          ...adapteStyle(style),\n        });\n\n        const filteredData = view.getData();\n        if (option.customHtml) {\n          return option.customHtml(container, view, datum, filteredData);\n        }\n\n        let text = option.content;\n        if (option.formatter) {\n          text = option.formatter(datum, filteredData);\n        }\n        // todo G2  & G2  number\n        return text ? (isString(text) ? text : `${text}`) : '<div></div>';\n      },\n      // @ts-ignore\n      key: `${idx === 0 ? 'top' : 'bottom'}-statistic`,\n      ...pick(option, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']) /**  */,\n    });\n  });\n};\n\n/**\n *  html-annotation for gauge ( plot),  position  [50%, 100%]\n * @param chart\n * @param options\n * @param meta \n * @param {optional} datum \n */\nexport const renderGaugeStatistic = (chart: View, options: { statistic: Statistic }, datum?: Datum) => {\n  const { statistic } = options;\n  const { title: titleOpt, content: contentOpt } = statistic;\n\n  [titleOpt, contentOpt].forEach((option) => {\n    if (!option) {\n      return;\n    }\n    const style = isFunction(option.style) ? option.style(datum) : option.style;\n    chart.annotation().html({\n      position: ['50%', '100%'],\n      html: (container, view) => {\n        const coordinate = view.getCoordinate();\n        // \n        const polarCoord = view.views[0].getCoordinate();\n        const polarCenter = polarCoord.getCenter();\n        const polarRadius = polarCoord.getRadius();\n        const polarMaxY = Math.max(Math.sin(polarCoord.startAngle), Math.sin(polarCoord.endAngle)) * polarRadius;\n        const offsetY = polarCenter.y + polarMaxY - coordinate.y.start - parseFloat(get(style, 'fontSize', 0));\n\n        const containerWidth = coordinate.getRadius() * coordinate.innerRadius * 2;\n        setStatisticContainerStyle(container, {\n          width: `${containerWidth}px`,\n          transform: `translate(-50%, ${offsetY}px)`,\n          // user's style setting has high priority\n          ...adapteStyle(style),\n        });\n\n        const filteredData = view.getData();\n        if (option.customHtml) {\n          return option.customHtml(container, view, datum, filteredData);\n        }\n\n        let text = option.content;\n        if (option.formatter) {\n          text = option.formatter(datum, filteredData);\n        }\n\n        // todo G2  & G2  number\n        return text ? (isString(text) ? text : `${text}`) : '<div></div>';\n      },\n      ...pick(option, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']) /**  */,\n    });\n  });\n};\n","let ctx: CanvasRenderingContext2D;\n\n/**\n *  canvas context\n */\nexport function getCanvasContext() {\n  if (!ctx) {\n    ctx = document.createElement('canvas').getContext('2d');\n  }\n\n  return ctx;\n}\n","import { isString, memoize, values } from '@antv/util';\nimport { getCanvasContext } from './context';\n\n/**\n * \n * @param text \n * @param font \n */\nexport const measureTextWidth = memoize(\n  (text: string, font: any = {}): number => {\n    const { fontSize, fontFamily = 'sans-serif', fontWeight, fontStyle, fontVariant } = font;\n    const ctx = getCanvasContext();\n    // @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/font\n    ctx.font = [fontStyle, fontWeight, fontVariant, `${fontSize}px`, fontFamily].join(' ');\n    const metrics = ctx.measureText(isString(text) ? text : '');\n    return metrics.width;\n  },\n  (text: string, font = {}) => [text, ...values(font)].join('')\n);\n","/**\n * \n * @param v\n */\nexport function isRealNumber(v: any) {\n  return typeof v === 'number' && !isNaN(v);\n}\n\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value: number, start: number, end: number): boolean {\n  const min = Math.min(start, end);\n  const max = Math.max(start, end);\n\n  return value >= min && value <= max;\n}\n","import { get, isNumber, filter } from '@antv/util';\nimport { Data, Datum, Meta, Options } from '../types';\nimport { Node, NodeLinkData } from '../types/relation-data';\nimport { LEVEL, log } from './invariant';\nimport { pick } from './pick';\n\n/**\n * \n * @param data\n * @param field\n */\nexport function adjustYMetaByZero(data: Data, field: string): Meta {\n  if (!data) return {};\n  // \n  const numberData = data.filter((datum: Datum) => {\n    const v = get(datum, [field]);\n    return isNumber(v) && !isNaN(v);\n  });\n\n  const gtZero = numberData.every((datum: Datum) => get(datum, [field]) >= 0);\n  const ltZero = numberData.every((datum: Datum) => get(datum, [field]) <= 0);\n\n  //  { min: 0, max: undefined }  update({ max: 0 })  { min: 0, max: 0 }\n  if (gtZero) {\n    return { min: 0 };\n  }\n  if (ltZero) {\n    return { max: 0 };\n  }\n  return {};\n}\n\n/**\n * \n * @param data\n * @param sourceField\n * @param targetField\n * @param weightField\n * @param rawFields \n */\nexport function transformDataToNodeLinkData(\n  data: Data,\n  sourceField: string,\n  targetField: string,\n  weightField: string,\n  rawFields: string[] = []\n): NodeLinkData {\n  if (!Array.isArray(data)) {\n    return {\n      nodes: [],\n      links: [],\n    };\n  }\n\n  //   const nodes = [];\n  const links = [];\n  // \n  const nodesMap: Record<string, Node> = {};\n  let nodesIndex = -1;\n  //  chord layout \n  data.forEach((datum: Datum) => {\n    const source = datum[sourceField];\n    const target = datum[targetField];\n    const weight = datum[weightField];\n\n    const rawData = pick(datum, rawFields);\n\n    // source node\n    if (!nodesMap[source]) {\n      nodesMap[source] = {\n        id: ++nodesIndex,\n        name: source,\n        ...rawData,\n      };\n    }\n    if (!nodesMap[target]) {\n      nodesMap[target] = {\n        id: ++nodesIndex,\n        name: target,\n        ...rawData,\n      };\n    }\n    // links\n    links.push({\n      source: nodesMap[source].id,\n      target: nodesMap[target].id,\n      // sourceName: source,\n      // targetName: target,\n      value: weight,\n      ...rawData,\n    });\n  });\n  return {\n    //  id \n    nodes: Object.values(nodesMap).sort((a, b) => a.id - b.id),\n    links,\n  };\n}\n\n/**\n * (   NaN null)\n * @param data\n * @param angleField\n */\nexport function processIllegalData(data: Options['data'], field: string) {\n  const processData = filter(data, (d) => {\n    const v = d[field];\n    return v === null || (typeof v === 'number' && !isNaN(v));\n  });\n\n  // \n  log(LEVEL.WARN, processData.length === data.length, 'illegal data existed in chart data.');\n\n  return processData;\n}\n","import { Types } from '@antv/g2';\nimport { isNumber, isArray } from '@antv/util';\n\n/**\n *  padding \n * @param padding\n */\nexport function normalPadding(padding: number | number[] | 'auto'): [number, number, number, number] {\n  if (isNumber(padding)) {\n    return [padding, padding, padding, padding];\n  }\n  if (isArray(padding)) {\n    const length = padding.length;\n\n    if (length === 1) {\n      return [padding[0], padding[0], padding[0], padding[0]];\n    }\n    if (length === 2) {\n      return [padding[0], padding[1], padding[0], padding[1]];\n    }\n    if (length === 3) {\n      return [padding[0], padding[1], padding[2], padding[1]];\n    }\n    if (length === 4) {\n      return padding as [number, number, number, number];\n    }\n  }\n\n  return [0, 0, 0, 0];\n}\n\n/**\n *  appendPadding\n */\nexport function getAdjustAppendPadding(padding: Types.ViewAppendPadding, position = 'bottom', append = 25) {\n  const currentAppendPadding = normalPadding(padding);\n\n  const PADDING = [\n    position.startsWith('top') ? append : 0,\n    position.startsWith('right') ? append : 0,\n    position.startsWith('bottom') ? append : 0,\n    position.startsWith('left') ? append : 0,\n  ];\n  return [\n    currentAppendPadding[0] + PADDING[0],\n    currentAppendPadding[1] + PADDING[1],\n    currentAppendPadding[2] + PADDING[2],\n    currentAppendPadding[3] + PADDING[3],\n  ];\n}\n\n/**\n *  padding  appendPadding  padding\n * @param array\n */\nexport function resolveAllPadding(paddings: Types.ViewPadding[]) {\n  //  padding  normal\n  const normalPaddings = paddings.map((item) => normalPadding(item));\n  let finalPadding = [0, 0, 0, 0];\n  if (normalPaddings.length > 0) {\n    finalPadding = finalPadding.map((item, index) => {\n      //  padding \n      normalPaddings.forEach((d, i) => {\n        item += normalPaddings[i][index];\n      });\n      return item;\n    });\n  }\n  return finalPadding;\n}\n","import { each } from '@antv/util';\n/**\n * @file ...\n */\nexport const GLOBAL = {\n  /**  */\n  locale: 'en-US',\n};\n\n/**\n * \n * @param key\n * @param value\n */\nexport function setGlobal(datum: Record<string, any>): void {\n  each(datum, (v, k) => (GLOBAL[k] = v));\n}\n","import { get } from '@antv/util';\nimport { Locale } from '../types/locale';\nimport { template } from '../utils';\nimport { GLOBAL } from './global';\n\nconst LocaleMap = {};\n\n/**\n * register a locale\n * @param locale\n * @param localeObj\n */\nexport function registerLocale(locale: string, localeObj: Locale) {\n  LocaleMap[locale] = localeObj;\n}\n\n/**\n * get locale of specific language\n * @param lang\n * @returns\n */\nexport function getLocale(locale: string) {\n  return {\n    get: (key: string | string[], obj?: Record<string, any>) => {\n      return template(\n        get(LocaleMap[locale], key) || get(LocaleMap[GLOBAL.locale], key) || get(LocaleMap['en-US'], key) || key,\n        obj\n      );\n    },\n  };\n}\n","import { Locale } from '../types/locale';\n\nexport const EN_US_LOCALE: Locale = {\n  locale: 'en-US',\n\n  // General\n  general: {\n    increase: 'Increase',\n    decrease: 'Decrease',\n    root: 'Root',\n  },\n\n  // Plot Components\n  /** statistic text component */\n  statistic: {\n    total: 'Total',\n  },\n  /** conversionTag component */\n  conversionTag: {\n    label: 'Rate',\n  },\n  legend: {},\n  tooltip: {},\n  slider: {},\n  scrollbar: {},\n\n  // Plots\n  waterfall: {\n    total: 'Total',\n  },\n};\n","import { Locale } from '../types/locale';\n\nexport const ZH_CN_LOCALE: Locale = {\n  locale: 'zh-CN',\n\n  // \n  general: {\n    increase: '',\n    decrease: '',\n    root: '',\n  },\n\n  // \n  /**  */\n  statistic: {\n    total: '',\n  },\n  /**  */\n  conversionTag: {\n    label: '',\n  },\n  legend: {},\n  tooltip: {},\n  slider: {},\n  scrollbar: {},\n\n  // \n  waterfall: {\n    total: '',\n  },\n};\n","import { Chart, Event, Element, View } from '@antv/g2';\nimport { each } from '@antv/util';\nimport EE from '@antv/event-emitter';\nimport { bind } from 'size-sensor';\nimport { Options, StateName, StateCondition, Size, StateObject, Annotation } from '../types';\nimport { getContainerSize, getAllElementsRecursively, deepAssign, pick } from '../utils';\nimport { Adaptor } from './adaptor';\n\n/**  pick  */\nexport type PickOptions = Pick<\n  Options,\n  | 'width'\n  | 'height'\n  | 'padding'\n  | 'appendPadding'\n  | 'renderer'\n  | 'pixelRatio'\n  | 'autoFit'\n  | 'syncViewPadding'\n  | 'supportCSSTransform'\n  | 'limitInPlot'\n  | 'locale'\n  | 'defaultInteractions'\n>;\n\nconst SOURCE_ATTRIBUTE_NAME = 'data-chart-source-type';\n\n/** plot  */\nexport const PLOT_CONTAINER_OPTIONS = [\n  'padding',\n  'appendPadding',\n  'renderer',\n  'pixelRatio',\n  'syncViewPadding',\n  'supportCSSTransform',\n  'limitInPlot',\n];\n\n/**\n *  plot \n */\nexport abstract class Plot<O extends PickOptions> extends EE {\n  /**\n   *  options \n   * \n   */\n  static getDefaultOptions(): any {\n    return {\n      renderer: 'canvas',\n      xAxis: {\n        nice: true,\n        label: {\n          autoRotate: false,\n          autoHide: { type: 'equidistance', cfg: { minGap: 6 } },\n        },\n      },\n      yAxis: {\n        nice: true,\n        label: {\n          autoHide: true,\n          autoRotate: false,\n        },\n      },\n      animation: true,\n    };\n  }\n\n  /** plot  */\n  public abstract readonly type: string;\n  /** plot  schema  */\n  public options: O;\n  /** plot  dom */\n  public readonly container: HTMLElement;\n  /** G2 chart  */\n  public chart: Chart;\n  /** resizer unbind  */\n  private unbind: () => void;\n\n  constructor(container: string | HTMLElement, options: O) {\n    super();\n    this.container = typeof container === 'string' ? document.getElementById(container) : container;\n\n    this.options = deepAssign({}, this.getDefaultOptions(), options);\n\n    this.createG2();\n\n    this.bindEvents();\n  }\n\n  /**\n   *  G2 \n   */\n  private createG2() {\n    const { width, height, defaultInteractions } = this.options;\n\n    this.chart = new Chart({\n      container: this.container,\n      autoFit: false, // G2Plot  size-sensor  autoFit\n      ...this.getChartSize(width, height),\n      localRefresh: false, //  G \n      ...pick(this.options, PLOT_CONTAINER_OPTIONS),\n      defaultInteractions,\n    });\n\n    //  G2\n    this.container.setAttribute(SOURCE_ATTRIBUTE_NAME, 'G2Plot');\n  }\n\n  /**\n   *  chart  width  height\n   * @param width\n   * @param height\n   */\n  private getChartSize(width: number, height: number): Size {\n    const chartSize = getContainerSize(this.container);\n    return { width: width || chartSize.width || 400, height: height || chartSize.height || 400 };\n  }\n\n  /**\n   *  G2 \n   */\n  private bindEvents() {\n    if (this.chart) {\n      this.chart.on('*', (e: Event) => {\n        if (e?.type) {\n          this.emit(e.type, e);\n        }\n      });\n    }\n  }\n\n  /**\n   *  options \n   * \n   */\n  protected getDefaultOptions(): any {\n    return Plot.getDefaultOptions();\n  }\n\n  /**\n   *  schema adaptor\n   */\n  protected abstract getSchemaAdaptor(): Adaptor<O>;\n\n  /**\n   * \n   */\n  public render() {\n    //  G2 \n    this.chart.clear();\n    //  view  view  options  legend legend \n    //  chart  options \n    //  G2 view.clear  options  resetOptions\n    // #1684  view  custom legend\n    // @ts-ignore\n    this.chart.options = {\n      data: [],\n      animate: true,\n    };\n    this.chart.views = []; //  views\n    //  adaptor\n    this.execAdaptor();\n    // \n    this.chart.render();\n    // \n    this.bindSizeSensor();\n  }\n\n  /**\n   * : \n   * @param options\n   */\n  public update(options: Partial<O>) {\n    this.updateOption(options);\n    this.render();\n  }\n\n  /**\n   * \n   * @param options\n   */\n  protected updateOption(options: Partial<O>) {\n    this.options = deepAssign({}, this.options, options);\n  }\n\n  /**\n   * \n   * @param type  'active' | 'inactive' | 'selected' \n   * @param conditions \n   * @param status  true\n   */\n  public setState(type: StateName, condition: StateCondition, status: boolean = true) {\n    const elements = getAllElementsRecursively(this.chart);\n\n    each(elements, (ele: Element) => {\n      if (condition(ele.getData())) {\n        ele.setState(type, status);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public getStates(): StateObject[] {\n    const elements = getAllElementsRecursively(this.chart);\n\n    const stateObjects: StateObject[] = [];\n    each(elements, (element: Element) => {\n      const data = element.getData();\n      const states = element.getStates();\n      each(states, (state) => {\n        stateObjects.push({ data, state, geometry: element.geometry, element });\n      });\n    });\n\n    return stateObjects;\n  }\n\n  /**\n   * \n   * @override\n   * @param options\n   */\n  public changeData(data: any) {\n    // @ts-ignore\n    this.update({ data });\n    // TODO: \n    // this.chart.changeData(data);\n  }\n\n  /**\n   * \n   * @param width\n   * @param height\n   */\n  public changeSize(width: number, height: number) {\n    this.chart.changeSize(width, height);\n  }\n\n  /**\n   *  id \n   */\n  public addAnnotations(annotations: Annotation[], view?: View): void {\n    view = view ? view : this.chart;\n    const incoming = [...annotations];\n    const controller = view.getController('annotation');\n    const current = controller.getComponents().map((co) => co.extra);\n\n    controller.clear(true);\n    for (let i = 0; i < current.length; i++) {\n      let annotation = current[i];\n\n      const findIndex = incoming.findIndex((item) => item.id && item.id === annotation.id);\n      if (findIndex !== -1) {\n        annotation = deepAssign({}, annotation, incoming[findIndex]);\n        incoming.splice(findIndex, 1);\n      }\n      controller.annotation(annotation);\n    }\n\n    incoming.forEach((annotation) => controller.annotation(annotation));\n    view.render(true);\n  }\n\n  /**\n   *  id \n   */\n  public removeAnnotations(annotations: Array<{ id: string } & Partial<Annotation>>): void {\n    const controller = this.chart.getController('annotation');\n    const current = controller.getComponents().map((co) => co.extra);\n\n    controller.clear(true);\n    for (let i = 0; i < current.length; i++) {\n      const annotation = current[i];\n\n      if (!annotations.find((item) => item.id && item.id === annotation.id)) {\n        controller.annotation(annotation);\n      }\n    }\n\n    this.chart.render(true);\n  }\n  /**\n   * \n   */\n  public destroy() {\n    //  size-sensor \n    this.unbindSizeSensor();\n    // G2 \n    this.chart.destroy();\n    // \n    this.off();\n\n    this.container.removeAttribute(SOURCE_ATTRIBUTE_NAME);\n  }\n\n  /**\n   *  adaptor \n   */\n  protected execAdaptor() {\n    const adaptor = this.getSchemaAdaptor();\n\n    const { padding, appendPadding } = this.options;\n    //  padding\n    this.chart.padding = padding;\n    //  appendPadding\n    this.chart.appendPadding = appendPadding;\n\n    //  G2 API\n    adaptor({\n      chart: this.chart,\n      options: this.options,\n    });\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    this.chart.forceFit();\n  }\n\n  /**\n   *  dom \n   */\n  private bindSizeSensor() {\n    if (this.unbind) {\n      return;\n    }\n\n    const { autoFit = true } = this.options;\n    if (autoFit) {\n      this.unbind = bind(this.container, () => {\n        // \n        const { width, height } = getContainerSize(this.container);\n\n        //  resize \n        if (width !== this.chart.width || height !== this.chart.height) {\n          this.triggerResize();\n        }\n      });\n    }\n  }\n\n  /**\n   * \n   */\n  private unbindSizeSensor() {\n    if (this.unbind) {\n      this.unbind();\n      this.unbind = undefined;\n    }\n  }\n}\n","import { PatternCfg } from '../../types/pattern';\n\n/**\n * \n */\nexport function getPixelRatio(): number {\n  return typeof window === 'object' ? window?.devicePixelRatio : 2;\n}\n\n/**\n *  cavnas\n */\nexport function initCanvas(width: number, height: number = width): HTMLCanvasElement {\n  const canvas = document.createElement('canvas');\n\n  const pixelRatio = getPixelRatio();\n  // \n  canvas.width = width * pixelRatio;\n  canvas.height = height * pixelRatio;\n  // \n  canvas.style.width = `${width}px`;\n  canvas.style.height = `${height}px`;\n\n  const ctx = canvas.getContext('2d');\n  ctx.scale(pixelRatio, pixelRatio);\n\n  return canvas;\n}\n\n/**\n * \n *\n * @param context\n * @param cfg\n * @param width\n * @param height\n */\nexport function drawBackground(\n  context: CanvasRenderingContext2D,\n  cfg: PatternCfg,\n  width: number,\n  height: number = width\n) {\n  const { backgroundColor, opacity } = cfg;\n\n  context.globalAlpha = opacity;\n  context.fillStyle = backgroundColor;\n\n  context.beginPath();\n  context.fillRect(0, 0, width, height);\n  context.closePath();\n}\n\n/**\n * \n *\n * @param size \n * @param padding \n * @param isStagger \n * @reutrn \n */\nexport function getUnitPatternSize(size: number, padding: number, isStagger: boolean): number {\n  // , unitSize \n  const unitSize = size + padding;\n  return isStagger ? unitSize * 2 : unitSize;\n}\n\n/**\n * \n *\n * @param unitSize \n * @param isStagger \n * @reutrn  x,y \n */\nexport function getSymbolsPosition(unitSize: number, isStagger: boolean): number[][] {\n  // ,  dot\n  const symbolsPos = isStagger\n    ? [\n        [unitSize * (1 / 4), unitSize * (1 / 4)],\n        [unitSize * (3 / 4), unitSize * (3 / 4)],\n      ]\n    : [[unitSize * (1 / 2), unitSize * (1 / 2)]];\n  return symbolsPos;\n}\n\n/**\n *  pattern , \n *\n * @param pattern \n * @param dpr  \n * @param rotation \n */\nexport function transformMatrix(dpr: number, rotation: number) {\n  const radian = (rotation * Math.PI) / 180;\n  const matrix = {\n    a: Math.cos(radian) * (1 / dpr),\n    b: Math.sin(radian) * (1 / dpr),\n    c: -Math.sin(radian) * (1 / dpr),\n    d: Math.cos(radian) * (1 / dpr),\n    e: 0,\n    f: 0,\n  };\n  return matrix;\n}\n","import { DotPatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport {\n  getUnitPatternSize,\n  initCanvas,\n  drawBackground,\n  getSymbolsPosition,\n  transformMatrix,\n  getPixelRatio,\n} from './util';\n\n/**\n * dotPattern\n */\nexport const defaultDotPatternCfg = {\n  size: 6,\n  padding: 2,\n  backgroundColor: 'transparent',\n  opacity: 1,\n  rotation: 0,\n  fill: '#fff',\n  fillOpacity: 0.5,\n  stroke: 'transparent',\n  lineWidth: 0,\n  isStagger: true,\n};\n\n/**\n * \n *\n * @param context\n * @param cfg\n * @param x x\n * @param y y\n */\nexport function drawDot(context: CanvasRenderingContext2D, cfg: DotPatternCfg, x: number, y: number) {\n  const { size, fill, lineWidth, stroke, fillOpacity } = cfg;\n\n  context.beginPath();\n  context.globalAlpha = fillOpacity;\n  context.fillStyle = fill;\n  context.strokeStyle = stroke;\n  context.lineWidth = lineWidth;\n  context.arc(x, y, size / 2, 0, 2 * Math.PI, false);\n  context.fill();\n  if (lineWidth) {\n    context.stroke();\n  }\n  context.closePath();\n}\n\n/**\n *  dot pattern HTMLCanvasElement\n *\n * @param cfg\n * @returns HTMLCanvasElement\n */\nexport function createDotPattern(cfg?: DotPatternCfg): CanvasPattern {\n  const dotCfg = deepAssign({}, defaultDotPatternCfg, cfg);\n\n  const { size, padding, isStagger, rotation } = dotCfg;\n\n  //  dots\n  const unitSize = getUnitPatternSize(size, padding, isStagger);\n  const dots = getSymbolsPosition(unitSize, isStagger);\n\n  //  patternCanvas\n  const canvas = initCanvas(unitSize, unitSize);\n  const ctx = canvas.getContext('2d');\n\n  //  backgrounddots\n  drawBackground(ctx, dotCfg, unitSize);\n  for (const [x, y] of dots) {\n    drawDot(ctx, dotCfg, x, y);\n  }\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  return pattern;\n}\n","import { LinePatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport { initCanvas, drawBackground, transformMatrix, getPixelRatio } from './util';\n\n/**\n * linePattern  \n */\nexport const defaultLinePatternCfg = {\n  rotation: 45,\n  spacing: 5,\n  opacity: 1,\n  backgroundColor: 'transparent',\n  strokeOpacity: 0.5,\n  stroke: '#fff',\n  lineWidth: 2,\n};\n\n/**\n * line\n *\n * @param context canvasContext\n * @param cfg linePattern \n * @param d  path  d\n */\nexport function drawLine(context: CanvasRenderingContext2D, cfg: LinePatternCfg, d: string) {\n  const { stroke, lineWidth, strokeOpacity } = cfg;\n  const path = new Path2D(d);\n\n  context.globalAlpha = strokeOpacity;\n  context.lineCap = 'square';\n  context.strokeStyle = lineWidth ? stroke : 'transparent';\n  context.lineWidth = lineWidth;\n  context.stroke(path);\n}\n\n/**\n *  linePattern\n */\nexport function createLinePattern(cfg?: LinePatternCfg): CanvasPattern {\n  const lineCfg = deepAssign({}, defaultLinePatternCfg, cfg);\n\n  const { spacing, rotation, lineWidth } = lineCfg;\n\n  //  pattern  path  d\n  const width = spacing + lineWidth || 1;\n  const height = spacing + lineWidth || 1;\n  const d = `\n            M 0 0 L ${width} 0\n            M 0 ${height} L ${width} ${height}\n            `;\n\n  //  patternCanvas\n  const canvas = initCanvas(width, height);\n  const ctx = canvas.getContext('2d');\n\n  //  backgroundline\n  drawBackground(ctx, lineCfg, width, height);\n  drawLine(ctx, lineCfg, d);\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  //  Pattern \n  return pattern;\n}\n","import { SquarePatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport {\n  getUnitPatternSize,\n  initCanvas,\n  drawBackground,\n  getSymbolsPosition,\n  transformMatrix,\n  getPixelRatio,\n} from './util';\n\n/**\n * squarePattern  \n */\nexport const defaultSquarePatternCfg = {\n  size: 6,\n  padding: 1,\n  isStagger: true,\n  backgroundColor: 'transparent',\n  opacity: 1,\n  rotation: 0,\n  fill: '#fff',\n  fillOpacity: 0.5,\n  stroke: 'transparent',\n  lineWidth: 0,\n};\n\n/**\n * square\n *\n * @param context canvasContext\n * @param cfg squarePattern \n * @param xy square\n */\nexport function drawSquare(context: CanvasRenderingContext2D, cfg: SquarePatternCfg, x: number, y: number) {\n  const { stroke, size, fill, lineWidth, fillOpacity } = cfg;\n\n  context.globalAlpha = fillOpacity;\n  context.strokeStyle = stroke;\n  context.lineWidth = lineWidth;\n  context.fillStyle = fill;\n  // xy\n  context.strokeRect(x - size / 2, y - size / 2, size, size);\n  context.fillRect(x - size / 2, y - size / 2, size, size);\n}\n\n/**\n *  squarePattern\n */\nexport function createSquarePattern(cfg?: SquarePatternCfg): CanvasPattern {\n  const squareCfg = deepAssign({}, defaultSquarePatternCfg, cfg);\n\n  const { size, padding, isStagger, rotation } = squareCfg;\n\n  //  squares\n  const unitSize = getUnitPatternSize(size, padding, isStagger);\n  const squares = getSymbolsPosition(unitSize, isStagger); //  dots \n\n  //  patternCanvas\n  const canvas = initCanvas(unitSize, unitSize);\n  const ctx = canvas.getContext('2d');\n\n  //  backgroundsquares\n  drawBackground(ctx, squareCfg, unitSize);\n  for (const [x, y] of squares) {\n    drawSquare(ctx, squareCfg, x, y);\n  }\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  return pattern;\n}\n","import { DotPatternCfg, LinePatternCfg, SquarePatternCfg } from '../../types/pattern';\nimport { createDotPattern } from './dot';\nimport { createLinePattern } from './line';\nimport { createSquarePattern } from './square';\n\nexport type PatternOption =\n  | {\n      type: 'dot';\n      cfg?: DotPatternCfg;\n    }\n  | {\n      type: 'line';\n      cfg?: LinePatternCfg;\n    }\n  | {\n      type: 'square';\n      cfg?: SquarePatternCfg;\n    };\n\n/**\n *  CanvasPattern \n * @param options\n * @returns\n */\nexport function getCanvasPattern(options: PatternOption): CanvasPattern | undefined {\n  const { type, cfg } = options;\n\n  let pattern;\n\n  switch (type) {\n    case 'dot':\n      pattern = createDotPattern(cfg);\n      break;\n    case 'line':\n      pattern = createLinePattern(cfg);\n      break;\n    case 'square':\n      pattern = createSquarePattern(cfg);\n      break;\n    default:\n      break;\n  }\n\n  return pattern;\n}\n","import { Util } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { getCanvasPattern } from '../utils/pattern';\nimport { Params } from '../core/adaptor';\nimport { Datum, Options, StyleAttr } from '../types';\nimport { deepAssign } from '../utils';\n\n/**\n *  Pattern  options colorField/seriesField/stackField \n */\ntype OptionsRequiredInPattern = Omit<Options, 'data'>;\n\n/**\n * Pattern \n *   view \n *\n * @param key key of style property\n * @returns\n */\nexport function pattern(key: string) {\n  return <O extends OptionsRequiredInPattern = OptionsRequiredInPattern>(params: Params<O>): Params<O> => {\n    const { options, chart } = params;\n    const { pattern: patternOption } = options;\n\n    //  pattern \n    if (!patternOption) {\n      return params;\n    }\n\n    /** ~~~~~~~  ~~~~~~~ */\n\n    const style: StyleAttr = (datum?: Datum, ...args: any[]) => {\n      const { defaultColor } = chart.getTheme();\n      let color = defaultColor;\n\n      const colorAttribute = chart.geometries?.[0]?.getAttribute('color');\n      if (colorAttribute) {\n        const colorField = colorAttribute.getFields()[0];\n        const seriesValue = get(datum, colorField);\n        color = Util.getMappingValue(colorAttribute, seriesValue, colorAttribute.values?.[0] || defaultColor);\n      }\n\n      let pattern: CanvasPattern = patternOption as CanvasPattern;\n\n      // 1.  patternOption `(datum: Datum, color: string) => CanvasPattern`\n      if (typeof patternOption === 'function') {\n        pattern = patternOption.call(this, datum, color);\n      }\n\n      // 2.  pattern  CanvasPattern fill\n      if (pattern instanceof CanvasPattern === false) {\n        //  createPattern(PatternStyle)  CanvasPattern\n        pattern = getCanvasPattern(deepAssign({}, { cfg: { backgroundColor: color } }, pattern));\n      }\n\n      const styleOption = options[key] as StyleAttr;\n\n      return {\n        ...(typeof styleOption === 'function' ? styleOption.call(this, datum, ...args) : styleOption || {}),\n        fill: pattern || color,\n      };\n    };\n\n    return deepAssign({}, params, { options: { [key]: style } });\n  };\n}\n","import { Geometry, Types } from '@antv/g2';\nimport { each, isNil, isObject } from '@antv/util';\nimport { Params } from '../core/adaptor';\nimport { Options } from '../types';\nimport { Interaction } from '../types/interaction';\nimport { Transformations } from '../types/coordinate';\nimport { Axis } from '../types/axis';\nimport { AXIS_META_CONFIG_KEYS } from '../constant';\nimport { pick, deepAssign } from '../utils';\n\n/**\n *  legend ,  colorField  seriesField \n * @param params\n */\nexport function legend<O extends Pick<Options, 'legend'> & { colorField?: string; seriesField?: string }>(\n  params: Params<O>\n): Params<O> {\n  const { chart, options } = params;\n  const { legend, colorField, seriesField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (colorField || seriesField) {\n    chart.legend(colorField || seriesField, legend);\n  }\n\n  return params;\n}\n\n/**\n *  tooltip \n * @param params\n */\nexport function tooltip<O extends Pick<Options, 'tooltip'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip !== undefined) {\n    chart.tooltip(tooltip);\n  }\n\n  return params;\n}\n\n/**\n * Interaction \n * @param params\n */\nexport function interaction<O extends Pick<Options, 'interactions'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { interactions } = options;\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation<O extends Pick<Options, 'animation'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  view \n  if (typeof animation === 'boolean') {\n    chart.animate(animation);\n  } else {\n    chart.animate(true);\n  }\n\n  //  Geometry \n  each(chart.geometries, (g: Geometry) => {\n    g.animate(animation);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function theme<O extends Pick<Options, 'theme'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { theme } = options;\n\n  // \n  if (theme) {\n    chart.theme(theme);\n  }\n  return params;\n}\n\n/**\n *  state \n * @param params\n */\nexport function state<O extends Options>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { state } = options;\n\n  if (state) {\n    each(chart.geometries, (geometry: Geometry) => {\n      geometry.state(state);\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adaptor\n * @param params\n */\nexport function slider(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { slider } = options;\n\n  chart.option('slider', slider);\n\n  return params;\n}\n\n/**\n *  adaptor\n * @param params\n */\nexport function scrollbar(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { scrollbar } = options;\n\n  chart.option('scrollbar', scrollbar);\n\n  return params;\n}\n\n/**\n * scale  adaptor\n * @param axes\n */\nexport function scale(axes: Record<string, Axis>, meta?: Options['meta']) {\n  return function <O extends Pick<Options, 'meta'>>(params: Params<O>): Params<O> {\n    const { chart, options } = params;\n\n    // 1.  scale \n    let scales: Record<string, any> = {};\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n\n    // 2. meta  scale \n    scales = deepAssign({}, meta, options.meta, scales);\n\n    chart.scale(scales);\n\n    return params;\n  };\n}\n\n/**\n * annotation \n * @param params\n */\nexport function annotation(annotationOptions?: Options['annotations']) {\n  return function <O extends Pick<Options, 'annotations'>>(params: Params<O>): Params<O> {\n    const { chart, options } = params;\n\n    const annotationController = chart.getController('annotation');\n\n    /**  annotation */\n    each([...(options.annotations || []), ...(annotationOptions || [])], (annotationOption) => {\n      // @ts-ignore\n      annotationController.annotation(annotationOption);\n    });\n\n    return params;\n  };\n}\n\n/**\n *  limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { yAxis, limitInPlot } = options;\n\n  let value = limitInPlot;\n\n  //  limitInPlot yAxis  min/max  limitInPlot\n  if (isObject(yAxis) && isNil(limitInPlot)) {\n    if (Object.values(pick(yAxis, ['min', 'max', 'minLimit', 'maxLimit'])).some((value) => !isNil(value))) {\n      value = true;\n    } else {\n      value = false;\n    }\n  }\n  chart.limitInPlot = value;\n\n  return params;\n}\n\n/**\n * \n */\nexport function transformations(coordinateType: Types.CoordinateOption['type'] = 'rect') {\n  return (params: Params<Options & { coordinate: Transformations }>) => {\n    const { chart, options } = params;\n    const { coordinate } = options;\n\n    const actions: Types.CoordinateActions[] = Array.from(coordinate || [])\n      .map((cfg) => {\n        if (cfg.type === 'reflectX') return ['reflect', 'x'] as Types.CoordinateActions;\n        if (cfg.type === 'reflectY') return ['reflect', 'y'] as Types.CoordinateActions;\n        if (cfg.type === 'transpose') return ['transpose'] as Types.CoordinateActions;\n\n        return null;\n      })\n      .filter((d) => !!d);\n\n    if (actions.length !== 0) {\n      chart.coordinate({ type: coordinateType, actions });\n    }\n\n    return params;\n  };\n}\n\nexport { pattern } from './pattern';\n","import { get } from '@antv/util';\nimport { Tooltip, TooltipMapping } from '../types/tooltip';\n\n/**\n *  tooltip \n * @param tooltip\n * @param defaultFields\n */\nexport function getTooltipMapping(tooltip: Tooltip, defaultFields: string[]): TooltipMapping {\n  if (tooltip === false) {\n    return {\n      fields: false, //  tooltip\n    };\n  }\n\n  let fields = get(tooltip, 'fields');\n  const formatter = get(tooltip, 'formatter');\n\n  if (formatter && !fields) {\n    fields = defaultFields;\n  }\n\n  return {\n    fields,\n    formatter,\n  };\n}\n","import { uniq, isFunction, isObject, isString, isNumber, isEmpty } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { ColorAttr, ShapeAttr, SizeAttr, StyleAttr, TooltipAttr, Options, Datum } from '../../types';\nimport { Label } from '../../types/label';\nimport { State } from '../../types/state';\nimport { transformLabel } from '../../utils';\n\n/**\n * \n */\nexport type MappingOptions = {\n  /** color  */\n  readonly color?: ColorAttr;\n  /** shape  */\n  readonly shape?: ShapeAttr;\n  /** ,  */\n  readonly size?: SizeAttr;\n  /**  */\n  readonly style?: StyleAttr;\n  /** tooltip  */\n  readonly tooltip?: TooltipAttr;\n};\n\n/**\n * \n * // TODO  adjust  field  styleFieldlabelField \n */\nexport type Geometry = {\n  /** geometry , 'line' | 'interval' | 'point' | 'area' | 'polygon' */\n  readonly type?: string;\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly colorField?: string;\n  /** shape  */\n  readonly shapeField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** style  */\n  readonly styleField?: string;\n  /** tooltip  */\n  readonly tooltipFields?: string[] | false;\n  /** ,  mapping  */\n  readonly rawFields?: string[];\n  /**  */\n  readonly mapping?: MappingOptions;\n  /** label  */\n  readonly label?: Label;\n  /**  */\n  readonly state?: State;\n  /**  registerShape  */\n  readonly customInfo?: any;\n  /** geometry params */\n  readonly args?: any;\n};\n\n/**\n * geometry options\n */\nexport type GeometryOptions = Geometry & Partial<Options>;\n\n/**\n * \n * @param options\n * @param field\n */\nexport function getMappingField(\n  o: GeometryOptions,\n  field: 'color' | 'shape' | 'size' | 'style'\n): {\n  mappingFields: string[];\n  tileMappingField: string;\n} {\n  const { type, xField, yField, colorField, shapeField, sizeField, styleField, rawFields = [] } = o;\n\n  let fields = [];\n\n  //  color  bar  widthRatio \n  //  color  colorField  + rawFields\n  // shape, size \n  if (field === 'color') {\n    fields = [colorField || xField, ...rawFields];\n  } else if (field === 'shape') {\n    fields = [shapeField || xField, ...rawFields];\n  } else if (field === 'size') {\n    fields = [sizeField || xField, ...rawFields];\n  } else {\n    fields = [xField, yField, colorField, shapeField, sizeField, styleField, ...rawFields];\n\n    // \n    const idx = ['x', 'y', 'color', 'shape', 'size', 'style'].indexOf(field);\n\n    const f = fields[idx];\n    // \n    fields.splice(idx, 1);\n    // \n    fields.unshift(f);\n  }\n\n  const mappingFields = uniq(fields.filter((f) => !!f));\n  /**\n   *  line geometry  color \n   * eg:\n   *   geometry.color(xField, ()=> '#f24')\n   */\n  const tileMappingField =\n    type === 'line' && [xField, yField].includes(mappingFields.join('*')) ? '' : mappingFields.join('*');\n  return {\n    mappingFields,\n    tileMappingField,\n  };\n}\n\n/**\n * \n * @param mappingFields\n * @param func\n */\nexport function getMappingFunction(mappingFields: string[], func: (datum: Datum) => any) {\n  if (!func) return undefined;\n  // \n  return (...args: any[]) => {\n    const params: Datum = {};\n\n    mappingFields.forEach((f: string, idx: number) => {\n      params[f] = args[idx];\n    });\n\n    //  undefined\n    delete params['undefined'];\n\n    return func(params);\n  };\n}\n\n/**\n *  geometry  adaptor\n * @param params\n */\nexport function geometry<O extends GeometryOptions>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const {\n    type,\n    args,\n    mapping,\n    xField,\n    yField,\n    colorField,\n    shapeField,\n    sizeField,\n    tooltipFields,\n    label,\n    state,\n    customInfo,\n  } = options;\n\n  //  mapping \n  if (!mapping) {\n    return params;\n  }\n\n  const { color, shape, size, style, tooltip } = mapping;\n\n  //  geometry\n  const geometry = chart[type](args).position(`${xField}*${yField}`);\n\n  /**\n   * color \n   * g.color('red');\n   * g.color('color', ['red', 'blue']);\n   * g.color('x', (x, y) => 'red');\n   * g.color('color', (color, x, y) => 'red');\n   */\n  if (isString(color)) {\n    colorField ? geometry.color(colorField, color) : geometry.color(color);\n  } else if (isFunction(color)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'color');\n    geometry.color(tileMappingField, getMappingFunction(mappingFields, color));\n  } else {\n    colorField && geometry.color(colorField, color);\n  }\n\n  /**\n   * shape \n   * g.shape('rect');\n   * g.shape('shape', ['rect', 'circle']);\n   * g.shape('x*y', (x, y) => 'rect');\n   * g.shape('shape*x*y', (shape, x, y) => 'rect');\n   */\n  if (isString(shape)) {\n    shapeField ? geometry.shape(shapeField, [shape]) : geometry.shape(shape); // [shape]  G2 \n  } else if (isFunction(shape)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'shape');\n    geometry.shape(tileMappingField, getMappingFunction(mappingFields, shape));\n  } else {\n    shapeField && geometry.shape(shapeField, shape);\n  }\n\n  /**\n   * size \n   * g.size(10);\n   * g.size('size', [10, 20]);\n   * g.size('x*y', (x, y) => 10);\n   * g.color('size*x*y', (size, x, y) => 1-);\n   */\n  if (isNumber(size)) {\n    sizeField ? geometry.size(sizeField, size) : geometry.size(size);\n  } else if (isFunction(size)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'size');\n    geometry.size(tileMappingField, getMappingFunction(mappingFields, size));\n  } else {\n    sizeField && geometry.size(sizeField, size);\n  }\n\n  /**\n   * style \n   * g.style({ fill: 'red' });\n   * g.style('x*y*color', (x, y, color) => ({ fill: 'red' }));\n   */\n  if (isFunction(style)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'style');\n    geometry.style(tileMappingField, getMappingFunction(mappingFields, style));\n  } else if (isObject(style)) {\n    geometry.style(style);\n  }\n\n  /**\n   * tooltip  API\n   * g.tooltip('x*y*color', (x, y, color) => ({ name, value }));\n   * g.tooltip(false);\n   */\n  if (tooltipFields === false) {\n    geometry.tooltip(false);\n  } else if (!isEmpty(tooltipFields)) {\n    geometry.tooltip(tooltipFields.join('*'), getMappingFunction(tooltipFields, tooltip));\n  }\n\n  /**\n   * label \n   */\n  if (label === false) {\n    geometry.label(false);\n  } else if (label) {\n    const { callback, fields, ...cfg } = label;\n    geometry.label({\n      fields: fields || [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  /**\n   * state \n   */\n  if (state) {\n    geometry.state(state);\n  }\n\n  /**\n   * \n   */\n  if (customInfo) {\n    geometry.customInfo(customInfo);\n  }\n\n  //  x y \n  [xField, yField]\n    .filter((f: string) => f !== colorField)\n    .forEach((f: string) => {\n      chart.legend(f, false);\n    });\n  return {\n    ...params,\n    // geometry adaptor  geometry  adaptor type \n    ext: { geometry },\n  };\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { GeometryOptions, geometry, MappingOptions } from './base';\n\nexport interface AreaGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /**  */\n  readonly smooth?: boolean;\n  /** area  */\n  readonly area?: MappingOptions;\n}\n\n/**\n * area geometry \n * @param params\n */\nexport function area<O extends AreaGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { area, xField, yField, seriesField, smooth, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  // \n  return area\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'area',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              shape: smooth ? 'smooth' : 'area',\n              tooltip: formatter,\n              ...area,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { deepMix } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { GeometryOptions, geometry, MappingOptions } from './base';\n\nexport interface LineGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /**  */\n  readonly smooth?: boolean;\n  /**  */\n  readonly connectNulls?: boolean;\n  /** line  */\n  readonly line?: MappingOptions;\n  /**  */\n  readonly stepType?: string;\n}\n\n/**\n * line \n * @param params\n */\nexport function line<O extends LineGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { line, stepType, xField, yField, seriesField, smooth, connectNulls, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  // \n  return line\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'line',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: deepMix(\n              {\n                shape: stepType || (smooth ? 'smooth' : 'line'),\n                tooltip: formatter,\n              },\n              line\n            ),\n            args: { connectNulls, useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface PointGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** shape  */\n  readonly shapeField?: string;\n  /** point  */\n  readonly point?: MappingOptions;\n}\n\n/**\n * point \n * @param params\n */\nexport function point<O extends PointGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { point, xField, yField, seriesField, sizeField, shapeField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField, shapeField]);\n\n  return point\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'point',\n            colorField: seriesField,\n            shapeField: shapeField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...point,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Geometry, getTheme, ShapeAttrs } from '@antv/g2';\nimport { isNil, isObject } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { GeometryOptions, MappingOptions, geometry } from './base';\n\nexport interface IntervalGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField: string;\n  /** y  */\n  readonly yField: string;\n  /**  groupFieldcolorField stackFieldcolorField  */\n  readonly seriesField?: string;\n  /**  */\n  readonly isGroup?: boolean;\n  /**  */\n  readonly isStack?: boolean;\n  /**  [0-1] */\n  readonly widthRatio?: number;\n  /** () */\n  readonly intervalPadding?: number;\n  /**  [0-1] */\n  readonly marginRatio?: number;\n  /** () */\n  readonly dodgePadding?: number;\n  /**  */\n  readonly minColumnWidth?: number;\n  /**  */\n  readonly maxColumnWidth?: number;\n  /**  */\n  readonly columnBackground?: { style: ShapeAttrs };\n  /**  colorshapesizestyletooltip */\n  readonly interval?: MappingOptions;\n  /**  seriesField , isGroup: true  groupField */\n  readonly groupField?: string;\n}\n\n/**\n *  adaptor\n * @param params\n */\nfunction otherAdaptor<O extends IntervalGeometryOptions>(params: Params<O>): Params<O> {\n  const { chart, options, ext } = params;\n  const { seriesField, isGroup, isStack, marginRatio, widthRatio, groupField, theme } = options;\n\n  /**\n   * adjust\n   */\n  const adjust = [];\n  if (seriesField) {\n    // group\n    if (isGroup) {\n      adjust.push({\n        type: 'dodge',\n        dodgeBy: groupField || seriesField,\n        marginRatio,\n      });\n    }\n    // stack\n    if (isStack) {\n      adjust.push({\n        type: 'stack',\n        marginRatio,\n      });\n    }\n  }\n\n  if (adjust.length && ext?.geometry) {\n    const g = ext?.geometry as Geometry;\n    g.adjust(adjust);\n  }\n\n  // widthRatio\n  if (!isNil(widthRatio)) {\n    chart.theme(\n      deepAssign({}, isObject(theme) ? theme : getTheme(theme), {\n        // columWidthRatio  theme \n        columnWidthRatio: widthRatio,\n      })\n    );\n  }\n\n  return params;\n}\n\nexport function interval<O extends IntervalGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const {\n    xField,\n    yField,\n    interval,\n    seriesField,\n    tooltip,\n    minColumnWidth,\n    maxColumnWidth,\n    columnBackground,\n    dodgePadding,\n    intervalPadding,\n    useDeferredLabel,\n  } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  //  interval \n  const { ext } = interval\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'interval',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...interval,\n            },\n            args: {\n              dodgePadding,\n              intervalPadding,\n              minColumnWidth,\n              maxColumnWidth,\n              background: columnBackground,\n              useDeferredLabel,\n            },\n          },\n        })\n      )\n    : params;\n\n  return otherAdaptor({\n    ...params,\n    ext,\n  });\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface PolygonGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** point  */\n  readonly polygon?: MappingOptions;\n}\n\n/**\n * polygon \n * @param params\n */\nexport function polygon<O extends PolygonGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { polygon, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return polygon\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'polygon',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...polygon,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface EdgeGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** edge  */\n  readonly edge?: MappingOptions;\n}\n\n/**\n * edge \n * @param params\n */\nexport function edge<O extends EdgeGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { edge, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return edge\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'edge',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...edge,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface SchemaGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** point  */\n  readonly schema?: MappingOptions;\n}\n\n/**\n * schema \n * @param params\n */\nexport function schema<O extends SchemaGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { schema, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return schema\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'schema',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...schema,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface ViolinGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y Y */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** violin  */\n  readonly violin?: MappingOptions;\n}\n\n/**\n * violin \n * @param params\n */\nexport function violin<O extends ViolinGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { violin, xField, yField, seriesField, sizeField, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField]);\n\n  return violin\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'violin',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...violin,\n            },\n          },\n        })\n      )\n    : params;\n}\n","import { Geometry } from '@antv/g2';\nimport { each, isArray } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport {\n  tooltip,\n  slider,\n  interaction,\n  animation,\n  theme,\n  scale,\n  annotation,\n  limitInPlot,\n  scrollbar,\n} from '../../adaptor/common';\nimport { findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { point, line, area } from '../../adaptor/geometries';\nimport { flow } from '../../utils';\nimport { adjustYMetaByZero } from '../../utils/data';\nimport { LineOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { data, color, lineStyle, lineShape, point: pointMapping, area: areaMapping, seriesField } = options;\n  const pointState = pointMapping?.state;\n  const areaState = areaMapping?.state;\n\n  chart.data(data);\n\n  // line geometry \n  const primary = deepAssign({}, params, {\n    options: {\n      shapeField: seriesField,\n      line: {\n        color,\n        style: lineStyle,\n        shape: lineShape,\n      },\n      //  tooltip \n      // \n      point: pointMapping && {\n        color,\n        shape: 'circle',\n        ...pointMapping,\n      },\n      // \n      area: areaMapping && {\n        color,\n        ...areaMapping,\n      },\n      // label  geometry adaptor label adaptor \n      label: undefined,\n    },\n  });\n  const second = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n  const areaParams = deepAssign({}, primary, { options: { tooltip: false, state: areaState } });\n\n  line(primary);\n  point(second);\n  area(areaParams);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<LineOptions>): Params<LineOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, data } = options;\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n      },\n      {\n        [xField]: {\n          type: 'cat',\n        },\n        [yField]: adjustYMetaByZero(data, yField),\n      }\n    )\n  )(params);\n}\n\n/**\n * .  reflect \n * @param params\n */\nfunction coordinate(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { reflect } = options;\n  if (reflect) {\n    let p = reflect as any;\n    if (!isArray(p)) {\n      p = [p];\n    }\n    const actions = p.map((d) => ['reflect', d]);\n\n    chart.coordinate({ type: 'rect', actions });\n  }\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend && seriesField) {\n    chart.legend(seriesField, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const lineGeometry = findGeometry(chart, 'line');\n\n  // label  false,   label\n  if (!label) {\n    lineGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    lineGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        layout: [\n          { type: 'limit-in-plot' },\n          { type: 'path-adjust-position' },\n          { type: 'point-adjust-position' },\n          { type: 'limit-in-plot', cfg: { action: 'hide' } },\n        ],\n        ...transformLabel(cfg),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adjust\n * @param params\n */\nexport function adjust(params: Params<Pick<LineOptions, 'isStack'>>): Params<any> {\n  const { chart, options } = params;\n  const { isStack } = options;\n\n  if (isStack) {\n    each(chart.geometries, (g: Geometry) => {\n      g.adjust('stack');\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<LineOptions>) {\n  // flow  G2 API\n  return flow(\n    geometry,\n    meta,\n    adjust,\n    theme,\n    coordinate,\n    axis,\n    legend,\n    tooltip,\n    label,\n    slider,\n    scrollbar,\n    interaction,\n    animation,\n    annotation(),\n    limitInPlot\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  tooltip: {\n    shared: true,\n    showMarkers: true,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'x',\n    },\n  },\n  legend: {\n    position: 'top-left',\n    radio: {},\n  },\n  isStack: false,\n});\n","import { each, findIndex } from '@antv/util';\nimport { InteractionAction, View, Geometry } from '@antv/g2';\n\nexport class MarkerActiveAction extends InteractionAction {\n  public active() {\n    const view = this.getView();\n    const evt = this.context.event;\n    if (evt.data) {\n      // items:  tooltip \n      const { items } = evt.data;\n      const points = view.geometries.filter((geom) => geom.type === 'point');\n      each(points, (point: Geometry) => {\n        each(point.elements, (element) => {\n          const active = findIndex(items, (item) => (item as any).data === element.data) !== -1;\n          element.setState('active', active);\n        });\n      });\n    }\n  }\n\n  public reset() {\n    const view = this.getView();\n    const points = view.geometries.filter((geom) => geom.type === 'point');\n    each(points, (point: Geometry) => {\n      each(point.elements, (element) => {\n        element.setState('active', false);\n      });\n    });\n  }\n\n  private getView(): View {\n    return this.context.view;\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { MarkerActiveAction } from './marker-active';\n\nregisterAction('marker-active', MarkerActiveAction);\nregisterInteraction('marker-active', {\n  start: [\n    {\n      trigger: 'tooltip:show',\n      action: 'marker-active:active',\n    },\n  ],\n  end: [\n    {\n      trigger: 'tooltip:hide',\n      action: 'marker-active:reset',\n    },\n  ],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { LineOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport './interactions';\n\nexport type { LineOptions };\n\nexport class Line extends Plot<LineOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<LineOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'line';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: LineOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Line.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<LineOptions> {\n    return adaptor;\n  }\n}\n","import { map, reduce } from '@antv/util';\nimport { Data, Datum } from '../../types';\nimport { isRealNumber } from '../number';\n\n/**\n * \n * @param data\n * @param measure\n * @param groupField\n * @param as\n */\nexport function percent(data: Data, measure: string, groupField: string, as: string) {\n  // 1.  max \n  const sumMap = reduce(\n    data,\n    (map, datum: Datum) => {\n      const groupValue = datum[groupField];\n      let sum = map.has(groupValue) ? map.get(groupValue) : 0;\n\n      const v = datum[measure];\n\n      sum = isRealNumber(v) ? sum + v : sum;\n      map.set(groupValue, sum);\n\n      return map;\n    },\n    new Map<string, number>()\n  );\n\n  // 2. \n  return map(data, (datum: Datum) => {\n    const v = datum[measure];\n    const groupValue = datum[groupField];\n    const percentage = isRealNumber(v) && sumMap.get(groupValue) !== 0 ? v / sumMap.get(groupValue) : 0;\n\n    return {\n      ...datum,\n      [as]: percentage,\n    };\n  });\n}\n\n/**\n * \n * @param data\n * @param measure  // \n * @param fields //  field\n * @param as // percent \n */\nexport function getDeepPercent(data: Record<string, any>[], measure: string, fields: string[], percent: string) {\n  const sumMap = reduce(\n    data,\n    (map, datum: Datum) => {\n      // key\n      const groupValue = reduce(fields, (value, field) => `${value}${datum[field]}`, '');\n\n      let sum = map.has(groupValue) ? map.get(groupValue) : 0;\n\n      const v = datum[measure];\n\n      sum = isRealNumber(v) ? sum + v : sum;\n      map.set(groupValue, sum);\n\n      return map;\n    },\n    new Map<string, number>()\n  );\n\n  // 2. \n  return map(data, (datum: Datum) => {\n    const v = datum[measure];\n    // key\n    const groupValue = reduce(fields, (value, field) => `${value}${datum[field]}`, '');\n\n    const percentage = isRealNumber(v) && sumMap.get(groupValue) !== 0 ? v / sumMap.get(groupValue) : 0;\n\n    return {\n      ...datum,\n      [percent]: percentage,\n    };\n  });\n}\n\n/**\n *  ()\n * @param isPercent \n */\nexport function getDataWhetherPercentage(\n  data: Record<string, any>[],\n  yField: string,\n  groupField: string,\n  asField: string,\n  isPercent?: boolean\n) {\n  return !isPercent ? data : percent(data, yField, groupField, asField);\n}\n","import { Geometry } from '@antv/g2';\nimport { each, omit } from '@antv/util';\nimport {\n  tooltip,\n  slider,\n  interaction,\n  animation,\n  theme,\n  annotation,\n  limitInPlot,\n  pattern,\n  transformations,\n} from '../../adaptor/common';\nimport { findGeometry } from '../../utils';\nimport { Params } from '../../core/adaptor';\nimport { area, point, line } from '../../adaptor/geometries';\nimport { flow, transformLabel, deepAssign } from '../../utils';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { Datum } from '../../types';\nimport { meta, legend, axis } from '../line/adaptor';\nimport { AreaOptions } from './types';\n\nexport { meta };\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    areaStyle,\n    color,\n    point: pointMapping,\n    line: lineMapping,\n    isPercent,\n    xField,\n    yField,\n    tooltip,\n    seriesField,\n    startOnZero,\n  } = options;\n  const pointState = pointMapping?.state;\n\n  const chartData = getDataWhetherPercentage(data, yField, xField, yField, isPercent);\n  chart.data(chartData);\n  //  % , \n  const tooltipOptions = isPercent\n    ? {\n        formatter: (datum: Datum) => ({\n          name: datum[seriesField] || datum[xField],\n          value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n        }),\n        ...tooltip,\n      }\n    : tooltip;\n  const primary = deepAssign({}, params, {\n    options: {\n      area: { color, style: areaStyle },\n      point: pointMapping && {\n        color,\n        ...pointMapping,\n      },\n      tooltip: tooltipOptions,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n      args: {\n        startOnZero,\n      },\n    },\n  });\n  //  2px ( state fill  stroke )\n  const lineParams = {\n    chart,\n    options: deepAssign({ line: { size: 2 } }, omit(options as any, ['state']), {\n      //  tooltip \n      // \n      line: lineMapping && {\n        color,\n        ...lineMapping,\n      },\n      sizeField: seriesField,\n      state: lineMapping?.state,\n      tooltip: false,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n      args: {\n        startOnZero,\n      },\n    }),\n  };\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  // area geometry \n  area(primary);\n  line(lineParams);\n  point(pointParams);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const areaGeometry = findGeometry(chart, 'area');\n\n  // label  false,   label\n  if (!label) {\n    areaGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    areaGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        layout: [\n          { type: 'limit-in-plot' },\n          { type: 'path-adjust-position' },\n          { type: 'point-adjust-position' },\n          { type: 'limit-in-plot', cfg: { action: 'hide' } },\n        ],\n        ...transformLabel(cfg),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adjust\n * @param params\n */\nfunction adjust(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const { isStack, isPercent, seriesField } = options;\n  if ((isPercent || isStack) && seriesField) {\n    each(chart.geometries, (g: Geometry) => {\n      g.adjust('stack');\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<AreaOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('areaStyle'),\n    transformations('rect'),\n    geometry,\n    meta,\n    adjust,\n    axis,\n    legend,\n    tooltip,\n    label,\n    slider,\n    annotation(),\n    interaction,\n    animation,\n    limitInPlot\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  tooltip: {\n    shared: true,\n    showMarkers: true,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'x',\n    },\n  },\n  isStack: true,\n  // \n  line: {},\n  legend: {\n    position: 'top-left',\n    radio: {},\n  },\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { AreaOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { AreaOptions };\n\nexport class Area extends Plot<AreaOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<AreaOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'area';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Area.getDefaultOptions();\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: AreaOptions['data']) {\n    this.updateOption({ data });\n    const { isPercent, xField, yField } = this.options;\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(getDataWhetherPercentage(data, yField, xField, yField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<AreaOptions> {\n    return adaptor;\n  }\n}\n","import { isNumber } from '@antv/util';\n/**\n * \n * @param prev\n * @param next\n */\nexport function conversionTagFormatter(prev: number, next: number): string {\n  if (!isNumber(prev) || !isNumber(next)) {\n    return '-';\n  }\n\n  if (prev === next) {\n    return '100%';\n  }\n  if (prev === 0) {\n    return '';\n  }\n  if (next === 0) {\n    return '-';\n  }\n\n  return `${((100 * next) / prev).toFixed(2)}%`;\n}\n","import { map, find, each, isObject } from '@antv/util';\nimport { Coordinate, IGroup, ShapeAttrs, Element, Geometry, View, getTheme } from '@antv/g2';\nimport { Params } from '../core/adaptor';\nimport { deepAssign } from '../utils';\nimport { conversionTagFormatter } from '../utils/conversion';\nimport { Options } from '../types';\n\n/**  */\nexport interface ConversionTagOptions {\n  /** tag  */\n  size?: number;\n  /** tag  */\n  spacing?: number;\n  /** tag  */\n  offset?: number;\n  /**  */\n  arrow?:\n    | {\n        /**  */\n        headSize?: number;\n        /**  */\n        style?: ShapeAttrs;\n      }\n    | false;\n  /**  */\n  text?:\n    | {\n        /**  */\n        size?: number;\n        /**  */\n        style?: ShapeAttrs;\n        /**  */\n        formatter?: (prev: number, next: number) => string;\n      }\n    | false;\n}\n\nexport interface OptionWithConversionTag {\n  conversionTag?: ConversionTagOptions | false;\n}\n\n/**  */\ntype TagRenderConfig = {\n  /**  View */\n  view: View;\n  /**  geometry */\n  geometry: Geometry;\n  /**  group */\n  group: IGroup;\n  /**  */\n  options: ConversionTagOptions;\n  /**  */\n  field: string;\n  /** / */\n  horizontal: boolean;\n};\n\nfunction getConversionTagOptionsWithDefaults(options: ConversionTagOptions, horizontal: boolean): ConversionTagOptions {\n  return deepAssign(\n    {\n      size: horizontal ? 32 : 80,\n      spacing: horizontal ? 8 : 12,\n      offset: horizontal ? 32 : 0,\n      arrow: options.arrow !== false && {\n        headSize: 12,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.05)',\n        },\n      },\n      text: options.text !== false && {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, 0.85)',\n          textAlign: 'center',\n          textBaseline: 'middle',\n        },\n        formatter: conversionTagFormatter,\n      },\n    },\n    options\n  );\n}\n\nfunction parsePoints(coordinate: Coordinate, element: Element): { x: number; y: number }[] {\n  // @ts-ignore\n  return map(element.getModel().points, (point) => coordinate.convertPoint(point));\n}\n\nfunction renderArrowTag(config: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  const { view, geometry, group, options, horizontal } = config;\n  const { offset, size, arrow } = options;\n  const coordinate = view.getCoordinate();\n  const pointPrev = parsePoints(coordinate, elemPrev)[3];\n  const pointNext = parsePoints(coordinate, elemNext)[0];\n  const totalHeight = pointNext.y - pointPrev.y;\n  const totalWidth = pointNext.x - pointPrev.x;\n\n  if (typeof arrow === 'boolean') {\n    return;\n  }\n  const { headSize } = arrow;\n  let spacing = options.spacing;\n  let points;\n\n  if (horizontal) {\n    if ((totalWidth - headSize) / 2 < spacing) {\n      // \n      spacing = Math.max(1, (totalWidth - headSize) / 2);\n      points = [\n        [pointPrev.x + spacing, pointPrev.y - offset],\n        [pointPrev.x + spacing, pointPrev.y - offset - size],\n        [pointNext.x - spacing, pointNext.y - offset - size / 2],\n      ];\n    } else {\n      // \n      points = [\n        [pointPrev.x + spacing, pointPrev.y - offset],\n        [pointPrev.x + spacing, pointPrev.y - offset - size],\n        [pointNext.x - spacing - headSize, pointNext.y - offset - size],\n        [pointNext.x - spacing, pointNext.y - offset - size / 2],\n        [pointNext.x - spacing - headSize, pointNext.y - offset],\n      ];\n    }\n  } else {\n    if ((totalHeight - headSize) / 2 < spacing) {\n      // \n      spacing = Math.max(1, (totalHeight - headSize) / 2);\n      points = [\n        [pointPrev.x + offset, pointPrev.y + spacing],\n        [pointPrev.x + offset + size, pointPrev.y + spacing],\n        [pointNext.x + offset + size / 2, pointNext.y - spacing],\n      ];\n    } else {\n      // \n      points = [\n        [pointPrev.x + offset, pointPrev.y + spacing],\n        [pointPrev.x + offset + size, pointPrev.y + spacing],\n        [pointNext.x + offset + size, pointNext.y - spacing - headSize],\n        [pointNext.x + offset + size / 2, pointNext.y - spacing],\n        [pointNext.x + offset, pointNext.y - spacing - headSize],\n      ];\n    }\n  }\n\n  group.addShape('polygon', {\n    id: `${view.id}-conversion-tag-arrow-${geometry.getElementId(elemPrev.getModel().mappingData)}`,\n    name: 'conversion-tag-arrow',\n    origin: {\n      element: elemPrev,\n      nextElement: elemNext,\n    },\n    attrs: {\n      ...(arrow.style || {}),\n      points,\n    },\n  });\n}\n\nfunction renderTextTag(config: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  const { view, geometry, group, options, field, horizontal } = config;\n  const { offset, size } = options;\n  if (typeof options.text === 'boolean') {\n    return;\n  }\n  const coordinate = view.getCoordinate();\n  const text = options.text?.formatter && options.text?.formatter(elemPrev.getData()[field], elemNext.getData()[field]);\n\n  const pointPrev = parsePoints(coordinate, elemPrev)[horizontal ? 3 : 0];\n  const pointNext = parsePoints(coordinate, elemNext)[horizontal ? 0 : 3];\n\n  const textShape = group.addShape('text', {\n    id: `${view.id}-conversion-tag-text-${geometry.getElementId(elemPrev.getModel().mappingData)}`,\n    name: 'conversion-tag-text',\n    origin: {\n      element: elemPrev,\n      nextElement: elemNext,\n    },\n    attrs: {\n      ...(options.text?.style || {}),\n      text,\n      x: horizontal ? (pointPrev.x + pointNext.x) / 2 : pointPrev.x + offset + size / 2,\n      y: horizontal ? pointPrev.y - offset - size / 2 : (pointPrev.y + pointNext.y) / 2,\n    },\n  });\n\n  if (horizontal) {\n    const totalWidth = pointNext.x - pointPrev.x;\n    const { width: textWidth } = textShape.getBBox();\n    if (textWidth > totalWidth) {\n      const cWidth = textWidth / text.length;\n      const cEnd = Math.max(1, Math.ceil(totalWidth / cWidth) - 1);\n      const textAdjusted = `${text.slice(0, cEnd)}...`;\n      textShape.attr('text', textAdjusted);\n    }\n  }\n}\n\nfunction renderTag(options: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  renderArrowTag(options, elemPrev, elemNext);\n  renderTextTag(options, elemPrev, elemNext);\n}\n\n/**\n *  adaptor/\n * @param field \n * @param horizontal \n * @param disabled \n */\nexport function conversionTag<O extends OptionWithConversionTag & Options>(\n  field: string,\n  horizontal = true,\n  disabled = false\n) {\n  return function (params: Params<O>): Params<O> {\n    const { options, chart } = params;\n    const { conversionTag, theme } = options;\n\n    if (conversionTag && !disabled) {\n      //  1/3\n      chart.theme(\n        deepAssign({}, isObject(theme) ? theme : getTheme(theme), {\n          columnWidthRatio: 1 / 3,\n        })\n      );\n      //   shape annotation \n      chart.annotation().shape({\n        render: (container, view) => {\n          const group = container.addGroup({\n            id: `${chart.id}-conversion-tag-group`,\n            name: 'conversion-tag-group',\n          });\n          const interval = find(chart.geometries, (geom: Geometry) => geom.type === 'interval');\n          const config: TagRenderConfig = {\n            view,\n            geometry: interval,\n            group,\n            field,\n            horizontal,\n            options: getConversionTagOptionsWithDefaults(conversionTag, horizontal),\n          };\n          const elements = interval.elements;\n          each(elements, (elem: Element, idx: number) => {\n            if (idx > 0) {\n              renderTag(config, elements[idx - 1], elem);\n            }\n          });\n        },\n      });\n    }\n\n    return params;\n  };\n}\n","import { registerInteraction, ShapeAttrs, Element } from '@antv/g2';\nimport { Params } from '../core/adaptor';\n\nexport interface ConnectedAreaOptions {\n  /** ,  hover */\n  trigger?: 'hover' | 'click';\n  /**  */\n  style?: ShapeAttrs | ((style: ShapeAttrs, element: Element) => ShapeAttrs);\n}\n\n/**  */\nexport interface OptionWithConnectedArea {\n  connectedArea?: ConnectedAreaOptions | false;\n}\n\nconst INTERACTION_MAP = {\n  hover: '__interval-connected-area-hover__',\n  click: '__interval-connected-area-click__',\n};\n\nconst getStartStages = (trigger: string, style?: ConnectedAreaOptions['style']) => {\n  if (trigger === 'hover') {\n    return [\n      {\n        trigger: `interval:mouseenter`,\n        action: ['element-highlight-by-color:highlight', 'element-link-by-color:link'],\n        arg: [null, { style }],\n      },\n    ];\n  }\n  return [\n    {\n      trigger: `interval:click`,\n      action: [\n        'element-highlight-by-color:clear',\n        'element-highlight-by-color:highlight',\n        'element-link-by-color:clear',\n        'element-link-by-color:unlink',\n        'element-link-by-color:link',\n      ],\n      arg: [null, null, null, null, { style }],\n    },\n  ];\n};\n\n/** hover  */\nregisterInteraction(INTERACTION_MAP.hover, {\n  start: getStartStages(INTERACTION_MAP.hover),\n  end: [\n    {\n      trigger: 'interval:mouseleave',\n      action: ['element-highlight-by-color:reset', 'element-link-by-color:unlink'],\n    },\n  ],\n});\n\n/** click  */\nregisterInteraction(INTERACTION_MAP.click, {\n  start: getStartStages(INTERACTION_MAP.click),\n  end: [\n    {\n      trigger: 'document:mousedown',\n      action: ['element-highlight-by-color:clear', 'element-link-by-color:clear'],\n    },\n  ],\n});\n\n/**\n *  adaptor/\n * @param disable\n */\nexport function connectedArea<O extends OptionWithConnectedArea>(disable = false) {\n  return function (params: Params<O>): Params<O> {\n    const { chart, options } = params;\n    const { connectedArea } = options;\n\n    const clear = () => {\n      chart.removeInteraction(INTERACTION_MAP.hover);\n      chart.removeInteraction(INTERACTION_MAP.click);\n    };\n\n    if (!disable && connectedArea) {\n      const trigger = connectedArea.trigger || 'hover';\n      clear();\n      chart.interaction(INTERACTION_MAP[trigger], {\n        start: getStartStages(trigger, connectedArea.style),\n      });\n    } else {\n      clear();\n    }\n\n    return params;\n  };\n}\n","import { Action, IGroup, Util } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { BBox, ButtonCfg } from '../../types';\nimport { deepAssign, normalPadding } from '../../utils';\n\nconst PADDING_RIGHT = 10;\nconst PADDING_TOP = 5;\n\n/**\n * Action  Button \n *\n * brush filter\n */\nexport const BUTTON_ACTION_CONFIG: ButtonCfg = {\n  padding: [8, 10],\n  text: 'reset',\n  textStyle: {\n    default: {\n      x: 0,\n      y: 0,\n      fontSize: 12,\n      fill: '#333333',\n      cursor: 'pointer',\n    },\n  },\n  buttonStyle: {\n    default: {\n      fill: '#f7f7f7',\n      stroke: '#cccccc',\n      cursor: 'pointer',\n    },\n    active: {\n      fill: '#e6e6e6',\n    },\n  },\n};\n\n/**\n * @override  G2 Button Action,  GUI\n */\nclass ButtonAction extends Action {\n  private buttonGroup: IGroup = null;\n  private buttonCfg = {\n    name: 'button',\n    ...BUTTON_ACTION_CONFIG,\n  };\n\n  /**\n   *  mix \n   */\n  private getButtonCfg(): ButtonCfg & { name: string } {\n    const { view } = this.context;\n    const buttonCfg: ButtonCfg = get(view, ['interactions', 'filter-action', 'cfg', 'buttonConfig']);\n\n    return deepAssign(this.buttonCfg, buttonCfg, this.cfg);\n  }\n\n  /**\n   *  Button  \n   */\n  private drawButton() {\n    const config = this.getButtonCfg();\n    const group = this.context.view.foregroundGroup.addGroup({\n      name: config.name,\n    });\n    const textShape = this.drawText(group);\n    this.drawBackground(group, textShape.getBBox());\n\n    this.buttonGroup = group;\n  }\n\n  /**\n   * \n   */\n  private drawText(group: IGroup) {\n    const config = this.getButtonCfg();\n    // \n    return group.addShape({\n      type: 'text',\n      name: 'button-text',\n      attrs: {\n        text: config.text,\n        ...config.textStyle?.default,\n      },\n    });\n  }\n\n  private drawBackground(group: IGroup, bbox: BBox) {\n    const config = this.getButtonCfg();\n    const padding = normalPadding(config.padding);\n    // \n    const buttonShape = group.addShape({\n      type: 'rect',\n      name: 'button-rect',\n      attrs: {\n        x: bbox.x - padding[3],\n        y: bbox.y - padding[0],\n        width: bbox.width + padding[1] + padding[3],\n        height: bbox.height + padding[0] + padding[2],\n        ...config.buttonStyle?.default,\n      },\n    });\n    buttonShape.toBack(); // \n\n    // active \n    group.on('mouseenter', () => {\n      buttonShape.attr(config.buttonStyle?.active);\n    });\n    group.on('mouseleave', () => {\n      buttonShape.attr(config.buttonStyle?.default);\n    });\n\n    return buttonShape;\n  }\n\n  // \n  private resetPosition() {\n    const view = this.context.view;\n    const coord = view.getCoordinate();\n    const point = coord.convert({ x: 1, y: 1 }); // \n    const buttonGroup = this.buttonGroup;\n    const bbox = buttonGroup.getBBox();\n    const matrix = Util.transform(null, [\n      ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n    ]);\n    buttonGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (!this.buttonGroup) {\n      this.drawButton();\n    }\n    this.resetPosition();\n    this.buttonGroup.show();\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.buttonGroup) {\n      this.buttonGroup.hide();\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    const buttonGroup = this.buttonGroup;\n    if (buttonGroup) {\n      buttonGroup.remove();\n    }\n    super.destroy();\n  }\n}\n\nexport { ButtonAction };\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { BrushCfg } from '../types';\nimport { ButtonAction } from './actions/reset-button';\n\nregisterAction('brush-reset-button', ButtonAction, {\n  name: 'brush-reset-button',\n});\n\nregisterInteraction('filter-action', {});\n\n/**\n * G2  brushbrush-xbrush-y \n *\n * 1. element-range-highlight  brush-highlight(mask )\n * 2. brush-visible  brush \n */\n\nfunction isPointInView(context) {\n  return context.isInPlot();\n}\n\n/**\n *   start \n */\nexport function getInteractionCfg(interactionType: string, brushType?: string, mask?: BrushCfg['mask']) {\n  const maskType = brushType || 'rect';\n\n  switch (interactionType) {\n    case 'brush':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isPointInView,\n            action: ['brush:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: [\n              'brush:filter',\n              'brush:end',\n              `${maskType}-mask:end`,\n              `${maskType}-mask:hide`,\n              'brush-reset-button:show',\n            ],\n          },\n        ],\n        rollback: [\n          {\n            trigger: 'brush-reset-button:click',\n            action: ['brush:reset', 'brush-reset-button:hide', 'cursor:crosshair'],\n          },\n        ],\n      };\n    case 'brush-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'mask:mouseenter', action: 'cursor:move' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable(context) {\n              //  mask \n              return !context.isInShape('mask');\n            },\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n    case 'brush-x':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isPointInView,\n            action: ['brush-x:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: ['brush-x:filter', 'brush-x:end', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['brush-x:reset'] }],\n      };\n    case 'brush-x-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'mask:mouseenter', action: 'cursor:move' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable(context) {\n              //  mask \n              return !context.isInShape('mask');\n            },\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n    case 'brush-y':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isPointInView,\n            action: ['brush-y:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: ['brush-y:filter', 'brush-y:end', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['brush-y:reset'] }],\n      };\n    case 'brush-y-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'mask:mouseenter', action: 'cursor:move' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable(context) {\n              //  mask \n              return !context.isInShape('mask');\n            },\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n\n    default:\n      return {};\n  }\n}\n\n// \nregisterInteraction('brush', getInteractionCfg('brush'));\n//  element-range-highlight interaction\nregisterInteraction('brush-highlight', getInteractionCfg('brush-highlight'));\n// \nregisterInteraction('brush-x', getInteractionCfg('brush-x', 'x-rect'));\n// \nregisterInteraction('brush-y', getInteractionCfg('brush-y', 'y-rect'));\n// , x \nregisterInteraction('brush-x-highlight', getInteractionCfg('brush-x-highlight', 'x-rect'));\n// , y \nregisterInteraction('brush-y-highlight', getInteractionCfg('brush-y-highlight', 'y-rect'));\n","import { filter } from '@antv/util';\nimport { Params } from '../core/adaptor';\nimport { getInteractionCfg } from '../interactions/brush';\nimport { deepAssign } from '../utils';\nimport { Options as BaseOptions, BrushCfg, Interaction, Writable } from '../types';\n\n/** brush  */\nimport '../interactions/brush';\n\ntype Options = Pick<BaseOptions, 'interactions'> & { brush?: BrushCfg };\n\nconst BRUSH_TYPES = ['brush', 'brush-x', 'brush-y', 'brush-highlight', 'brush-x-highlight', 'brush-y-highlight'];\n\n/**\n * brush \n */\nexport function brushInteraction<O extends Options = Options>(params: Params<O>): Params<O> {\n  const { options } = params;\n\n  const { brush } = options;\n\n  //  brush \n  const interactions = filter(options.interactions || [], (i) => BRUSH_TYPES.indexOf(i.type) === -1);\n\n  //  brush \n  if (brush?.enabled) {\n    BRUSH_TYPES.forEach((type) => {\n      let enable = false;\n      switch (brush.type) {\n        case 'x-rect':\n          enable = type === (brush.action === 'highlight' ? 'brush-x-highlight' : 'brush-x');\n          break;\n        case 'y-rect':\n          enable = type === (brush.action === 'highlight' ? 'brush-y-highlight' : 'brush-y');\n          break;\n        default:\n          enable = type === (brush.action === 'highlight' ? 'brush-highlight' : 'brush');\n          break;\n      }\n      const obj: Writable<Interaction> = { type, enable };\n\n      if (brush.mask?.style || brush.type) {\n        obj.cfg = getInteractionCfg(type, brush.type, brush.mask);\n      }\n      interactions.push(obj);\n    });\n\n    //  button  (G2Plot )\n    if (brush?.action !== 'highlight') {\n      interactions.push({\n        type: 'filter-action',\n        cfg: {\n          buttonConfig: brush.button,\n        },\n      });\n    }\n  }\n  return deepAssign({}, params, { options: { interactions } });\n}\n","import { Types } from '@antv/g2';\nimport { each, filter, isMatch } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport {\n  slider,\n  interaction,\n  animation,\n  theme,\n  scale,\n  annotation,\n  scrollbar,\n  limitInPlot,\n  state,\n  transformations,\n} from '../../adaptor/common';\nimport { conversionTag } from '../../adaptor/conversion-tag';\nimport { connectedArea } from '../../adaptor/connected-area';\nimport { interval } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { brushInteraction } from '../../adaptor/brush';\nimport { flow, transformLabel, deepAssign, findGeometry, adjustYMetaByZero, pick } from '../../utils';\nimport { getDataWhetherPercentage, getDeepPercent } from '../../utils/transform/percent';\nimport { Datum } from '../../types';\nimport { ColumnOptions } from './types';\n\n/**\n * defaultOptions\n * @param params\n */\nfunction defaultOptions(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { options } = params;\n  //  legend \n  let { legend } = options;\n  const { seriesField, isStack } = options;\n\n  if (seriesField) {\n    if (legend !== false) {\n      legend = {\n        position: isStack ? 'right-top' : 'top-left',\n        ...legend,\n      };\n    }\n  } else {\n    legend = false;\n  }\n\n  // @ts-ignore \n  params.options.legend = legend;\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    columnStyle,\n    color,\n    columnWidthRatio,\n    isPercent,\n    isGroup,\n    isStack,\n    xField,\n    yField,\n    seriesField,\n    groupField,\n    tooltip,\n    shape,\n  } = options;\n\n  const percentData =\n    isPercent && isGroup && isStack\n      ? getDeepPercent(data, yField, [xField, groupField], yField)\n      : getDataWhetherPercentage(data, yField, xField, yField, isPercent);\n\n  let chartData = [];\n\n  // ,seriesField \n  if (isStack && seriesField && !isGroup) {\n    percentData.forEach((item) => {\n      const stackedItem = chartData.find((v) => v[xField] === item[xField] && v[seriesField] === item[seriesField]);\n      if (stackedItem) {\n        stackedItem[yField] += item[yField] || 0;\n      } else {\n        chartData.push({ ...item });\n      }\n    });\n  } else {\n    chartData = percentData;\n  }\n\n  chart.data(chartData);\n\n  //  % , \n  const tooltipOptions = isPercent\n    ? {\n        formatter: (datum: Datum) => ({\n          name:\n            isGroup && isStack ? `${datum[seriesField]} - ${datum[groupField]}` : datum[seriesField] || datum[xField],\n          value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n        }),\n        ...tooltip,\n      }\n    : tooltip;\n\n  const p = deepAssign({}, params, {\n    options: {\n      data: chartData,\n      widthRatio: columnWidthRatio,\n      tooltip: tooltipOptions,\n      interval: {\n        shape,\n        style: columnStyle,\n        color,\n      },\n    },\n  });\n  interval(p);\n\n  return p;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, data, isPercent } = options;\n\n  const percentYMeta = isPercent ? { max: 1, min: 0, minLimit: 0, maxLimit: 1 } : {};\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n      },\n      {\n        [xField]: {\n          type: 'cat',\n        },\n        [yField]: {\n          ...adjustYMetaByZero(data, yField),\n          ...percentYMeta,\n        },\n      }\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend && seriesField) {\n    chart.legend(seriesField, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { label, yField, isRange } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        //  label layout  layout  position  layout\n        layout: cfg?.position\n          ? undefined\n          : [\n              { type: 'interval-adjust-position' },\n              { type: 'interval-hide-overlap' },\n              { type: 'adjust-color' },\n              { type: 'limit-in-plot', cfg: { action: 'hide' } },\n            ],\n        ...transformLabel(\n          isRange\n            ? {\n                content: (item: object) => {\n                  return item[yField]?.join('-');\n                },\n                ...cfg,\n              }\n            : cfg\n        ),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  tooltip  ()\n * @param params\n */\nfunction columnTooltip(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { tooltip, isGroup, isStack, groupField, data, xField, yField, seriesField } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    // fix: https://github.com/antvis/G2Plot/issues/2572\n    if (isGroup && isStack) {\n      const tooltipFormatter =\n        tooltipOptions?.formatter ||\n        ((datum: Datum) => ({ name: `${datum[seriesField]} - ${datum[groupField]}`, value: datum[yField] }));\n      tooltipOptions = {\n        ...tooltipOptions,\n        customItems: (originalItems: Types.TooltipItem[]) => {\n          const items: Types.TooltipItem[] = [];\n          each(originalItems, (item: Types.TooltipItem) => {\n            // Find datas in same cluster\n            const datas = filter(data, (d) => isMatch(d, pick(item.data, [xField, seriesField])));\n            datas.forEach((datum) => {\n              items.push({\n                ...item,\n                value: datum[yField],\n                data: datum,\n                mappingData: { _origin: datum },\n                ...tooltipFormatter(datum),\n              });\n            });\n          });\n          return items;\n        },\n      };\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<ColumnOptions>, isBar = false) {\n  const { options } = params;\n  const { seriesField } = options;\n  return flow(\n    defaultOptions, // \n    theme, // theme  geometry \n    pattern('columnStyle'),\n    state,\n    transformations('rect'),\n    geometry,\n    meta,\n    axis,\n    legend,\n    columnTooltip,\n    slider,\n    scrollbar,\n    label,\n    brushInteraction,\n    interaction,\n    animation,\n    annotation(),\n    conversionTag<ColumnOptions>(options.yField, !isBar, !!seriesField), // \n    connectedArea<ColumnOptions>(!options.isStack),\n    limitInPlot\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  columnWidthRatio: 0.6,\n  marginRatio: 1 / 32,\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n  },\n  legend: {\n    radio: {},\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { ColumnOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { ColumnOptions };\n\n/**\n * \n */\nexport class Column extends Plot<ColumnOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ColumnOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'column';\n\n  /**\n   * @override\n   */\n  public changeData(data: ColumnOptions['data']) {\n    this.updateOption({ data });\n    const { yField, xField, isPercent } = this.options;\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(getDataWhetherPercentage(data, yField, xField, yField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Column.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ColumnOptions> {\n    return adaptor;\n  }\n}\n","import { Params } from '../../core/adaptor';\nimport { tooltip } from '../../adaptor/common';\nimport { deepAssign, flow } from '../../utils';\nimport { Axis } from '../../types';\nimport { adaptor as columnAdaptor } from '../column/adaptor';\nexport { meta } from '../column/adaptor';\nimport { BarOptions } from './types';\n\n/**\n * \n * 1. switch xField yField\n * 2. switch xAxis yAxis and adjust axis.position configuration\n */\nfunction defaultOptions(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n  const { xField, yField, xAxis, yAxis } = options;\n\n  const position = {\n    left: 'bottom',\n    right: 'top',\n    top: 'left',\n    bottom: 'right',\n  };\n\n  const verticalAxis =\n    yAxis !== false\n      ? {\n          position: position[yAxis?.position || 'left'],\n          ...yAxis,\n        }\n      : false;\n  const horizontalAxis =\n    xAxis !== false\n      ? {\n          position: position[xAxis?.position || 'bottom'],\n          ...xAxis,\n        }\n      : false;\n\n  return {\n    ...params,\n    options: {\n      ...options,\n      xField: yField,\n      yField: xField,\n      //  xAxisyAxis  deepAssign\n      xAxis: verticalAxis as Axis,\n      yAxis: horizontalAxis as Axis,\n    },\n  };\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n  const { label } = options;\n  // label of bar charts default position is left, if plot has label\n  if (label && !label.position) {\n    label.position = 'left';\n    //  label layout  layout  position  layout\n    if (!label.layout) {\n      label.layout = [\n        { type: 'interval-adjust-position' },\n        { type: 'interval-hide-overlap' },\n        { type: 'adjust-color' },\n        { type: 'limit-in-plot', cfg: { action: 'hide' } },\n      ];\n    }\n  }\n\n  return deepAssign({}, params, { options: { label } });\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n\n  //  legend \n  const { seriesField, isStack } = options;\n  let { legend } = options;\n  if (seriesField) {\n    if (legend !== false) {\n      legend = {\n        position: isStack ? 'top-left' : 'right-top',\n        ...(legend || {}),\n      };\n    }\n  } else {\n    legend = false;\n  }\n\n  return deepAssign({}, params, { options: { legend } });\n}\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<BarOptions>): Params<BarOptions> {\n  // transpose column to bar  & y \n  const { options } = params;\n  const coordinateOptions = [{ type: 'transpose' }, { type: 'reflectY' }].concat(options.coordinate || []);\n  return deepAssign({}, params, { options: { coordinate: coordinateOptions } });\n}\n\n/**\n * \n * @param params\n */\nexport function geometry(params: Params<BarOptions>) {\n  const { chart, options } = params;\n\n  const { barStyle, barWidthRatio, minBarWidth, maxBarWidth, barBackground } = options;\n\n  return columnAdaptor(\n    {\n      chart,\n      options: {\n        ...options,\n        // rename attrs as column\n        columnStyle: barStyle,\n        columnWidthRatio: barWidthRatio,\n        minColumnWidth: minBarWidth,\n        maxColumnWidth: maxBarWidth,\n        columnBackground: barBackground,\n      },\n    },\n    true\n  ) as Params<BarOptions>;\n}\n\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BarOptions>): Params<BarOptions> {\n  // flow  G2 API\n  return flow<Params<BarOptions>>(defaultOptions, label, legend, tooltip, coordinate, geometry)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  barWidthRatio: 0.6,\n  marginRatio: 1 / 32,\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n  },\n  legend: {\n    radio: {},\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { BarOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { BarOptions };\n\n/**\n * \n */\nexport class Bar extends Plot<BarOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<BarOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'bar';\n\n  /**\n   * @override\n   */\n  public changeData(data: BarOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    const { xField, yField, isPercent } = options;\n    const switchedFieldOptions = { ...options, xField: yField, yField: xField };\n    meta({ chart, options: switchedFieldOptions });\n    chart.changeData(getDataWhetherPercentage(data, xField, yField, xField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Bar.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<BarOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  legend: {\n    position: 'right',\n    radio: {},\n  },\n  tooltip: {\n    shared: false,\n    showTitle: false,\n    showMarkers: false,\n  },\n  label: {\n    layout: { type: 'limit-in-plot', cfg: { action: 'ellipsis' } },\n  },\n  /** ,  */\n  pieStyle: {\n    stroke: 'white',\n    lineWidth: 1,\n  },\n  /**  */\n  statistic: {\n    title: {\n      style: { fontWeight: 300, color: '#4B535E', textAlign: 'center', fontSize: '20px', lineHeight: 1 },\n    },\n    content: {\n      style: {\n        fontWeight: 'bold',\n        color: 'rgba(44,53,66,0.85)',\n        textAlign: 'center',\n        fontSize: '32px',\n        lineHeight: 1,\n      },\n    },\n  },\n  /**  text-annotation  */\n  theme: {\n    components: {\n      annotation: {\n        text: {\n          animate: false,\n        },\n      },\n    },\n  },\n});\n","import { each, every, isString } from '@antv/util';\nimport { Data } from '../../types';\nimport { processIllegalData } from '../../utils';\nimport { PieOptions } from './types';\n\n/**\n * \n * @param data\n * @param field\n */\nexport function getTotalValue(data: Data, field: string) {\n  let total = null;\n  each(data, (item) => {\n    if (typeof item[field] === 'number') {\n      total += item[field];\n    }\n  });\n  return total;\n}\n\n/**\n * pie label offset adaptor\n */\nexport function adaptOffset(type: string, offset?: string | number): string | number {\n  let defaultOffset;\n  switch (type) {\n    case 'inner':\n      defaultOffset = '-30%';\n      if (isString(offset) && offset.endsWith('%')) {\n        return parseFloat(offset) * 0.01 > 0 ? defaultOffset : offset;\n      }\n      return offset < 0 ? offset : defaultOffset;\n    case 'outer':\n      defaultOffset = 12;\n      if (isString(offset) && offset.endsWith('%')) {\n        return parseFloat(offset) * 0.01 < 0 ? defaultOffset : offset;\n      }\n      return offset > 0 ? offset : defaultOffset;\n    default:\n      return offset;\n  }\n}\n\n/**\n *  0\n * @param data\n * @param angleField\n */\nexport function isAllZero(data: PieOptions['data'], angleField: string): boolean {\n  return every(processIllegalData(data, angleField), (d) => d[angleField] === 0);\n}\n","import { Util } from '@antv/g2';\n\nconst ORIGIN_MATRIX = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n/**\n * \n * @param actions\n * @param matrix\n */\nexport function transform(actions: any[][], matrix?: number[]) {\n  const ulMatrix = matrix ? [...matrix] : [...ORIGIN_MATRIX];\n  return Util.transform(ulMatrix, actions);\n}\n","import { IElement, IGroup } from '@antv/g-base';\nimport { Util, Element, Action } from '@antv/g2';\nimport { isEqual } from '@antv/util';\nimport { transform } from '../../../../utils/matrix';\n\n/**\n *   action\n */\nexport class PieLegendAction extends Action {\n  /**\n   * \n   */\n  private getActiveElements(): Element[] {\n    const delegateObject = Util.getDelegationObject(this.context);\n    if (delegateObject) {\n      const view = this.context.view;\n      const { component, item } = delegateObject;\n      const field = component.get('field');\n      if (field) {\n        const elements = view.geometries[0].elements;\n        return elements.filter((ele) => ele.getModel().data[field] === item.value);\n      }\n    }\n    return [];\n  }\n\n  /**\n   * \n   */\n  private getActiveElementLabels(): (IElement | IGroup)[] {\n    const view = this.context.view;\n    const elements = this.getActiveElements();\n    const labels = view.geometries[0].labelsContainer.getChildren();\n    return labels.filter((label) => elements.find((ele) => isEqual(ele.getData(), label.get('data'))));\n  }\n\n  protected transfrom(offset: number = 7.5) {\n    const elements = this.getActiveElements();\n    const elementLabels = this.getActiveElementLabels();\n    elements.forEach((element, idx) => {\n      const labelShape = elementLabels[idx];\n      const coordinate = element.geometry.coordinate;\n      if (coordinate.isPolar && coordinate.isTransposed) {\n        const { startAngle, endAngle } = Util.getAngle(element.getModel(), coordinate);\n        const middleAngle = (startAngle + endAngle) / 2;\n        const r = offset;\n        const x = r * Math.cos(middleAngle);\n        const y = r * Math.sin(middleAngle);\n        element.shape.setMatrix(transform([['t', x, y]]));\n        labelShape.setMatrix(transform([['t', x, y]]));\n      }\n    });\n  }\n\n  public active() {\n    this.transfrom();\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.transfrom(0);\n  }\n}\n","import { Element } from '@antv/g2';\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getCurrentElement(context): Element | undefined {\n  const event = context.event;\n  let element;\n  const target = event.target;\n  if (target) {\n    element = target.get('element');\n  }\n  return element;\n}\n","import { View, Action, Util, Types } from '@antv/g2';\nimport { each, get } from '@antv/util';\nimport { Annotation } from '../../../../types/annotation';\nimport { renderStatistic } from '../../../../utils/statistic';\nimport { PieOptions } from '../../types';\nimport { getCurrentElement } from '../util';\n\n/**\n * Pie  Action\n */\nexport class StatisticAction extends Action {\n  private initialAnnotation;\n\n  private getAnnotations(_view?: View): object[] {\n    const view = _view || this.context.view;\n    // @ts-ignore\n    return view.getController('annotation').option;\n  }\n\n  private getInitialAnnotation(): Types.ComponentOption[] | null {\n    return this.initialAnnotation;\n  }\n\n  init() {\n    const { view } = this.context;\n    view.removeInteraction('tooltip');\n\n    view.on('afterchangesize', () => {\n      const annotations = this.getAnnotations(view);\n      this.initialAnnotation = annotations;\n    });\n  }\n\n  public change(arg?: Pick<PieOptions, 'annotations' | 'statistic'>) {\n    const { view, event } = this.context;\n    if (!this.initialAnnotation) {\n      this.initialAnnotation = this.getAnnotations();\n    }\n\n    let data = get(event, ['data', 'data']);\n    if (event.type.match('legend-item')) {\n      const delegateObject = Util.getDelegationObject(this.context);\n      // @ts-ignore\n      const colorField = view.getGroupedFields()[0];\n      if (delegateObject && colorField) {\n        const { item } = delegateObject;\n        data = view.getData().find((d) => d[colorField] === item.value);\n      }\n    }\n\n    if (data) {\n      const annotations = get(arg, 'annotations', []);\n      const statistic = get(arg, 'statistic', {});\n      // \n      view.getController('annotation').clear(true);\n      //  annotations\n      each(annotations, (annotation: Annotation) => {\n        if (typeof annotation === 'object') {\n          view.annotation()[annotation.type](annotation);\n        }\n      });\n      renderStatistic(view, { statistic, plotType: 'pie' }, data);\n      view.render(true);\n    }\n\n    //  shape \n    const ele = getCurrentElement(this.context);\n    if (ele) {\n      ele.shape.toFront();\n    }\n  }\n\n  public reset() {\n    const { view } = this.context;\n    const annotationController = view.getController('annotation');\n    annotationController.clear(true);\n    const initialStatistic = this.getInitialAnnotation();\n    each(initialStatistic, (a) => {\n      view.annotation()[a.type](a);\n    });\n    view.render(true);\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { PieLegendAction } from './actions/legend-active';\nimport { StatisticAction } from './actions/statistic-active';\n\nexport const PIE_STATISTIC = 'pie-statistic';\n\nregisterAction(PIE_STATISTIC, StatisticAction);\nregisterInteraction('pie-statistic-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'pie-statistic:change' }],\n  end: [{ trigger: 'element:mouseleave', action: 'pie-statistic:reset' }],\n});\n\nregisterAction('pie-legend', PieLegendAction);\nregisterInteraction('pie-legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: 'pie-legend:active' }],\n  end: [{ trigger: 'legend-item:mouseleave', action: 'pie-legend:reset' }],\n});\n","import { isFunction, isString, isNil, get, isArray, isNumber, each, toString, isEmpty } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { legend, animation, theme, state, annotation } from '../../adaptor/common';\nimport { getMappingFunction } from '../../adaptor/geometries/base';\nimport { interval } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { getLocale } from '../../core/locale';\nimport { Interaction } from '../../types/interaction';\nimport { flow, template, transformLabel, deepAssign, renderStatistic, processIllegalData } from '../../utils';\nimport { Data, Datum } from '../../types';\nimport { DEFAULT_OPTIONS } from './contants';\nimport { adaptOffset, getTotalValue, isAllZero } from './utils';\nimport { PIE_STATISTIC } from './interactions';\nimport { PieOptions } from './types';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { data, angleField, colorField, color, pieStyle } = options;\n\n  // \n  let processData = processIllegalData(data, angleField);\n\n  if (isAllZero(processData, angleField)) {\n    //  0  position \n    const percentageField = '$$percentage$$';\n    processData = processData.map((d) => ({ ...d, [percentageField]: 1 / processData.length }));\n    chart.data(processData);\n\n    const p = deepAssign({}, params, {\n      options: {\n        xField: '1',\n        yField: percentageField,\n        seriesField: colorField,\n        isStack: true,\n        interval: {\n          color,\n          style: pieStyle,\n        },\n        args: {\n          zIndexReversed: true,\n          sortZIndex: true,\n        },\n      },\n    });\n\n    interval(p);\n  } else {\n    chart.data(processData);\n\n    const p = deepAssign({}, params, {\n      options: {\n        xField: '1',\n        yField: angleField,\n        seriesField: colorField,\n        isStack: true,\n        interval: {\n          color,\n          style: pieStyle,\n        },\n        args: {\n          zIndexReversed: true,\n          sortZIndex: true,\n        },\n      },\n    });\n\n    interval(p);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { meta, colorField } = options;\n\n  // meta  scale \n  const scales = deepAssign({}, meta);\n  chart.scale(scales, {\n    [colorField]: { type: 'cat' },\n  });\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart.coordinate({\n    type: 'theta',\n    cfg: {\n      radius,\n      innerRadius,\n      startAngle,\n      endAngle,\n    },\n  });\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { label, colorField, angleField } = options;\n\n  const geometry = chart.geometries[0];\n  // label  false,   label\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    const labelCfg = transformLabel(cfg);\n\n    //   label content \n    if (labelCfg.content) {\n      const { content } = labelCfg;\n      labelCfg.content = (data: object, dataum: any, index: number) => {\n        const name = data[colorField];\n        const value = data[angleField];\n        // dymatic get scale, scale is ready this time\n        const angleScale = chart.getScaleByField(angleField);\n        const percent = angleScale?.scale(value);\n        return isFunction(content)\n          ? // append percent (number) to data, users can get origin data from `dataum._origin`\n            content({ ...data, percent }, dataum, index)\n          : isString(content)\n          ? template(content as string, {\n              value,\n              name,\n              // percentage (string), default keep 2\n              percentage: isNumber(percent) && !isNil(value) ? `${(percent * 100).toFixed(2)}%` : null,\n            })\n          : content;\n      };\n    }\n\n    const LABEL_LAYOUT_TYPE_MAP = {\n      inner: '',\n      outer: 'pie-outer',\n      spider: 'pie-spider',\n    };\n    const labelLayoutType = labelCfg.type ? LABEL_LAYOUT_TYPE_MAP[labelCfg.type] : 'pie-outer';\n    const labelLayoutCfg = labelCfg.layout ? (!isArray(labelCfg.layout) ? [labelCfg.layout] : labelCfg.layout) : [];\n    labelCfg.layout = (labelLayoutType ? [{ type: labelLayoutType }] : []).concat(labelLayoutCfg);\n\n    geometry.label({\n      // fix: could not create scale, when field is undefinedattributes  fields  scale\n      fields: colorField ? [angleField, colorField] : [angleField],\n      callback,\n      cfg: {\n        ...labelCfg,\n        offset: adaptOffset(labelCfg.type, labelCfg.offset),\n        type: 'pie',\n      },\n    });\n  }\n  return params;\n}\n\n/**\n * statistic options \n * 1.  default options \n * 2.  meta  formatter\n */\nexport function transformStatisticOptions(options: PieOptions): PieOptions {\n  const { innerRadius, statistic, angleField, colorField, meta, locale } = options;\n\n  const i18n = getLocale(locale);\n\n  if (innerRadius && statistic) {\n    let { title: titleOpt, content: contentOpt } = deepAssign({}, DEFAULT_OPTIONS.statistic, statistic);\n    if (titleOpt !== false) {\n      titleOpt = deepAssign(\n        {},\n        {\n          formatter: (datum: Datum) => {\n            // \n            if (datum) {\n              return datum[colorField];\n            }\n            return !isNil(titleOpt.content) ? titleOpt.content : i18n.get(['statistic', 'total']);\n          },\n        },\n        titleOpt\n      );\n    }\n    if (contentOpt !== false) {\n      contentOpt = deepAssign(\n        {},\n        {\n          formatter: (datum: Datum, data: Data) => {\n            const dataValue = datum ? datum[angleField] : getTotalValue(data, angleField);\n            const metaFormatter = get(meta, [angleField, 'formatter']) || ((v) => v);\n            // \n            if (datum) {\n              return metaFormatter(dataValue);\n            }\n            return !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(dataValue);\n          },\n        },\n        contentOpt\n      );\n    }\n\n    return deepAssign({}, { statistic: { title: titleOpt, content: contentOpt } }, options);\n  }\n  return options;\n}\n\n/**\n * statistic \n * @param params\n */\nexport function pieAnnotation(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { innerRadius, statistic } = transformStatisticOptions(options);\n  // \n  chart.getController('annotation').clear(true);\n\n  //  annotations\n  flow(annotation())(params);\n\n  /**   */\n  if (innerRadius && statistic) {\n    renderStatistic(chart, { statistic, plotType: 'pie' });\n  }\n\n  return params;\n}\n\n/**\n *  tooltip \n * 1.  tooltip.shared  false\n * @param params\n */\nfunction tooltip(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { tooltip, colorField, angleField, data } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(tooltip);\n  } else {\n    chart.tooltip(deepAssign({}, tooltip, { shared: false }));\n\n    //  all zero  all zero \n    if (isAllZero(data, angleField)) {\n      let fields = get(tooltip, 'fields');\n      let formatter = get(tooltip, 'formatter');\n\n      if (isEmpty(get(tooltip, 'fields'))) {\n        fields = [colorField, angleField];\n        formatter = formatter || ((datum) => ({ name: datum[colorField], value: toString(datum[angleField]) }));\n      }\n      chart.geometries[0].tooltip(fields.join('*'), getMappingFunction(fields, formatter));\n    }\n  }\n\n  return params;\n}\n\n/**\n * Interaction  ( interaction, \n * @param params\n */\nexport function interaction(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { interactions, statistic, annotations } = transformStatisticOptions(options);\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else if (i.type === 'pie-statistic-active') {\n      //  start \n      let startStages = [];\n      if (!i.cfg?.start) {\n        startStages = [\n          {\n            trigger: 'element:mouseenter',\n            action: `${PIE_STATISTIC}:change`,\n            arg: { statistic, annotations },\n          },\n        ];\n      }\n      each(i.cfg?.start, (stage) => {\n        startStages.push({ ...stage, arg: { statistic, annotations } });\n      });\n      chart.interaction(i.type, deepAssign({}, i.cfg, { start: startStages }));\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<PieOptions>) {\n  // flow  G2 API\n  return flow<Params<PieOptions>>(\n    pattern('pieStyle'),\n    geometry,\n    meta,\n    theme,\n    coordinate,\n    legend,\n    tooltip,\n    label,\n    state,\n    /**   */\n    pieAnnotation,\n    interaction,\n    animation\n  )(params);\n}\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { processIllegalData } from '../../utils';\nimport { adaptor, pieAnnotation } from './adaptor';\nimport { DEFAULT_OPTIONS } from './contants';\nimport { PieOptions } from './types';\nimport { isAllZero } from './utils';\nimport './interactions';\n\nexport type { PieOptions };\n\nexport class Pie extends Plot<PieOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<PieOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'pie';\n\n  /**\n   * \n   * @param data\n   */\n  public changeData(data: PieOptions['data']) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    const prevOptions = this.options;\n    const { angleField } = this.options;\n    const prevData = processIllegalData(prevOptions.data, angleField);\n    const curData = processIllegalData(data, angleField);\n    //  0\n    if (isAllZero(prevData, angleField) || isAllZero(curData, angleField)) {\n      this.update({ data });\n    } else {\n      this.updateOption({ data });\n      this.chart.data(curData);\n      // todo  G2  afterrender  annotations\n      pieAnnotation({ chart: this.chart, options: this.options });\n      this.chart.render(true);\n    }\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   *   ,  base \n   */\n  protected getDefaultOptions(): Partial<PieOptions> {\n    return Pie.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<PieOptions> {\n    return adaptor;\n  }\n}\n","import { filter, isObject, isArray } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { flow, findGeometry, log, LEVEL, transformLabel, deepAssign } from '../../utils';\nimport { tooltip, interaction, animation, theme, scale, annotation, state, pattern } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { RoseOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { data, sectorStyle, color } = options;\n\n  // \n  chart.data(data);\n\n  flow(interval)(\n    deepAssign({}, params, {\n      options: {\n        marginRatio: 1,\n        interval: {\n          style: sectorStyle,\n          color,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { label, xField } = options;\n  const geometry = findGeometry(chart, 'interval');\n\n  // label  false  label\n  if (label === false) {\n    geometry.label(false);\n  } else if (isObject(label)) {\n    const { callback, fields, ...cfg } = label;\n    const { offset } = cfg;\n    let layout = cfg.layout;\n\n    //  label  shape  'limit-in-shape' \n    //  label \n    if (offset === undefined || offset >= 0) {\n      layout = layout ? (isArray(layout) ? layout : [layout]) : [];\n      cfg.layout = filter(layout, (v) => v.type !== 'limit-in-shape');\n      cfg.layout.length || delete cfg.layout;\n    }\n\n    geometry.label({\n      fields: fields || [xField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  } else {\n    log(LEVEL.WARN, label === null, 'the label option must be an Object.');\n    geometry.label({ fields: [xField] });\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (seriesField) {\n    chart.legend(seriesField, legend);\n  }\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart.coordinate({\n    type: 'polar',\n    cfg: {\n      radius,\n      innerRadius,\n      startAngle,\n      endAngle,\n    },\n  });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  falsy \n  if (!xAxis) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (!yAxis) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RoseOptions>) {\n  // flow  G2 API\n  flow(\n    pattern('sectorStyle'),\n    geometry,\n    meta,\n    label,\n    coordinate,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    theme,\n    annotation(),\n    state\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  xAxis: false,\n  yAxis: false,\n  legend: {\n    position: 'right',\n    radio: {},\n  },\n  sectorStyle: {\n    stroke: '#fff',\n    lineWidth: 1,\n  },\n  label: {\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { isNil, isFunction, assign } from '@antv/util';\r\nimport { Tag, Word } from '../../plots/word-cloud/types';\r\n\r\ntype FontWeight = number | 'normal' | 'bold' | 'bolder' | 'lighter';\r\n\r\nexport interface Options {\r\n  size: [number, number];\r\n  font?: string | ((row: Word, index?: number, words?: Word[]) => string);\r\n  fontSize?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  fontWeight?: FontWeight | ((row: Word, index?: number, words?: Word[]) => FontWeight);\r\n  rotate?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  padding?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  spiral?: 'archimedean' | 'rectangular' | ((size: [number, number]) => (t: number) => number[]);\r\n  random?: number | (() => number);\r\n  timeInterval?: number;\r\n  imageMask?: HTMLImageElement;\r\n}\r\n\r\nconst DEFAULT_OPTIONS: Options = {\r\n  font: () => 'serif',\r\n  padding: 1,\r\n  size: [500, 500],\r\n  spiral: 'archimedean', // 'archimedean' || 'rectangular' || {function}\r\n  // timeInterval: Infinity // max execute time\r\n  timeInterval: 3000, // max execute time\r\n  // imageMask: '', // instance of Image, must be loaded\r\n};\r\n\r\n/**\r\n * \r\n * \r\n * \r\n * @param words\r\n * @param options\r\n */\r\nexport function wordCloud(words: Word[], options?: Partial<Options>): Tag[] {\r\n  // \r\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\r\n  return transform(words, options as Options);\r\n}\r\n\r\n/**\r\n * \r\n * @param words\r\n * @param options\r\n */\r\nexport function transform(words: Word[], options: Options) {\r\n  // \r\n  const layout = tagCloud();\r\n  ['font', 'fontSize', 'fontWeight', 'padding', 'rotate', 'size', 'spiral', 'timeInterval', 'random'].forEach(\r\n    (key: string) => {\r\n      if (!isNil(options[key])) {\r\n        layout[key](options[key]);\r\n      }\r\n    }\r\n  );\r\n\r\n  layout.words(words);\r\n  if (options.imageMask) {\r\n    layout.createMask(options.imageMask);\r\n  }\r\n\r\n  const result = layout.start();\r\n  const tags: any[] = result._tags;\r\n\r\n  tags.forEach((tag) => {\r\n    tag.x += options.size[0] / 2;\r\n    tag.y += options.size[1] / 2;\r\n  });\r\n\r\n  const [w, h] = options.size;\r\n  // \r\n  // \r\n  // \r\n  // \r\n  tags.push({\r\n    text: '',\r\n    value: 0,\r\n    x: 0,\r\n    y: 0,\r\n    opacity: 0,\r\n  });\r\n  tags.push({\r\n    text: '',\r\n    value: 0,\r\n    x: w,\r\n    y: h,\r\n    opacity: 0,\r\n  });\r\n\r\n  return tags;\r\n}\r\n\r\n/*\r\n * Synchronous version of d3-cloud\r\n */\r\n// Word cloud layout by Jason Davies, https://www.jasondavies.com/wordcloud/\r\n// Algorithm due to Jonathan Feinberg, http://static.mrfeinberg.com/bv_ch03.pdf\r\n/* eslint-disable no-return-assign, no-cond-assign */\r\n\r\ninterface Item {\r\n  value: number;\r\n  text: string;\r\n  sprite: boolean;\r\n}\r\n\r\nconst cloudRadians = Math.PI / 180,\r\n  cw = (1 << 11) >> 5,\r\n  ch = 1 << 11;\r\n\r\nfunction cloudText(d: Item) {\r\n  return d.text;\r\n}\r\n\r\nfunction cloudFont() {\r\n  return 'serif';\r\n}\r\n\r\nfunction cloudFontNormal() {\r\n  return 'normal';\r\n}\r\n\r\nfunction cloudFontSize(d: Item) {\r\n  return d.value;\r\n}\r\n\r\nfunction cloudRotate() {\r\n  return ~~(Math.random() * 2) * 90;\r\n}\r\n\r\nfunction cloudPadding() {\r\n  return 1;\r\n}\r\n\r\n// Fetches a monochrome sprite bitmap for the specified text.\r\n// Load in batches for speed.\r\nfunction cloudSprite(contextAndRatio, d, data, di) {\r\n  if (d.sprite) return;\r\n  const c = contextAndRatio.context,\r\n    ratio = contextAndRatio.ratio;\r\n\r\n  c.clearRect(0, 0, (cw << 5) / ratio, ch / ratio);\r\n  let x = 0,\r\n    y = 0,\r\n    maxh = 0;\r\n  const n = data.length;\r\n  --di;\r\n  while (++di < n) {\r\n    d = data[di];\r\n    c.save();\r\n    c.font = d.style + ' ' + d.weight + ' ' + ~~((d.size + 1) / ratio) + 'px ' + d.font;\r\n    let w = c.measureText(d.text + 'm').width * ratio,\r\n      h = d.size << 1;\r\n    if (d.rotate) {\r\n      const sr = Math.sin(d.rotate * cloudRadians),\r\n        cr = Math.cos(d.rotate * cloudRadians),\r\n        wcr = w * cr,\r\n        wsr = w * sr,\r\n        hcr = h * cr,\r\n        hsr = h * sr;\r\n      w = ((Math.max(Math.abs(wcr + hsr), Math.abs(wcr - hsr)) + 0x1f) >> 5) << 5;\r\n      h = ~~Math.max(Math.abs(wsr + hcr), Math.abs(wsr - hcr));\r\n    } else {\r\n      w = ((w + 0x1f) >> 5) << 5;\r\n    }\r\n    if (h > maxh) maxh = h;\r\n    if (x + w >= cw << 5) {\r\n      x = 0;\r\n      y += maxh;\r\n      maxh = 0;\r\n    }\r\n    if (y + h >= ch) break;\r\n    c.translate((x + (w >> 1)) / ratio, (y + (h >> 1)) / ratio);\r\n    if (d.rotate) c.rotate(d.rotate * cloudRadians);\r\n    c.fillText(d.text, 0, 0);\r\n    if (d.padding) {\r\n      c.lineWidth = 2 * d.padding;\r\n      c.strokeText(d.text, 0, 0);\r\n    }\r\n    c.restore();\r\n    d.width = w;\r\n    d.height = h;\r\n    d.xoff = x;\r\n    d.yoff = y;\r\n    d.x1 = w >> 1;\r\n    d.y1 = h >> 1;\r\n    d.x0 = -d.x1;\r\n    d.y0 = -d.y1;\r\n    d.hasText = true;\r\n    x += w;\r\n  }\r\n  const pixels = c.getImageData(0, 0, (cw << 5) / ratio, ch / ratio).data,\r\n    sprite = [];\r\n  while (--di >= 0) {\r\n    d = data[di];\r\n    if (!d.hasText) continue;\r\n    const w = d.width,\r\n      w32 = w >> 5;\r\n    let h = d.y1 - d.y0;\r\n    // Zero the buffer\r\n    for (let i = 0; i < h * w32; i++) sprite[i] = 0;\r\n    x = d.xoff;\r\n    if (x == null) return;\r\n    y = d.yoff;\r\n    let seen = 0,\r\n      seenRow = -1;\r\n    for (let j = 0; j < h; j++) {\r\n      for (let i = 0; i < w; i++) {\r\n        const k = w32 * j + (i >> 5),\r\n          m = pixels[((y + j) * (cw << 5) + (x + i)) << 2] ? 1 << (31 - (i % 32)) : 0;\r\n        sprite[k] |= m;\r\n        seen |= m;\r\n      }\r\n      if (seen) seenRow = j;\r\n      else {\r\n        d.y0++;\r\n        h--;\r\n        j--;\r\n        y++;\r\n      }\r\n    }\r\n    d.y1 = d.y0 + seenRow;\r\n    d.sprite = sprite.slice(0, (d.y1 - d.y0) * w32);\r\n  }\r\n}\r\n\r\n// Use mask-based collision detection.\r\nfunction cloudCollide(tag, board, sw) {\r\n  sw >>= 5;\r\n  const sprite = tag.sprite,\r\n    w = tag.width >> 5,\r\n    lx = tag.x - (w << 4),\r\n    sx = lx & 0x7f,\r\n    msx = 32 - sx,\r\n    h = tag.y1 - tag.y0;\r\n  let x = (tag.y + tag.y0) * sw + (lx >> 5),\r\n    last;\r\n  for (let j = 0; j < h; j++) {\r\n    last = 0;\r\n    for (let i = 0; i <= w; i++) {\r\n      if (((last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0)) & board[x + i]) return true;\r\n    }\r\n    x += sw;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction cloudBounds(bounds, d) {\r\n  const b0 = bounds[0],\r\n    b1 = bounds[1];\r\n  if (d.x + d.x0 < b0.x) b0.x = d.x + d.x0;\r\n  if (d.y + d.y0 < b0.y) b0.y = d.y + d.y0;\r\n  if (d.x + d.x1 > b1.x) b1.x = d.x + d.x1;\r\n  if (d.y + d.y1 > b1.y) b1.y = d.y + d.y1;\r\n}\r\n\r\nfunction collideRects(a, b) {\r\n  return a.x + a.x1 > b[0].x && a.x + a.x0 < b[1].x && a.y + a.y1 > b[0].y && a.y + a.y0 < b[1].y;\r\n}\r\n\r\nfunction archimedeanSpiral(size) {\r\n  const e = size[0] / size[1];\r\n  return function (t) {\r\n    return [e * (t *= 0.1) * Math.cos(t), t * Math.sin(t)];\r\n  };\r\n}\r\n\r\nfunction rectangularSpiral(size) {\r\n  const dy = 4,\r\n    dx = (dy * size[0]) / size[1];\r\n  let x = 0,\r\n    y = 0;\r\n  return function (t) {\r\n    const sign = t < 0 ? -1 : 1;\r\n    // See triangular numbers: T_n = n * (n + 1) / 2.\r\n    switch ((Math.sqrt(1 + 4 * sign * t) - sign) & 3) {\r\n      case 0:\r\n        x += dx;\r\n        break;\r\n      case 1:\r\n        y += dy;\r\n        break;\r\n      case 2:\r\n        x -= dx;\r\n        break;\r\n      default:\r\n        y -= dy;\r\n        break;\r\n    }\r\n    return [x, y];\r\n  };\r\n}\r\n\r\n// TODO reuse arrays?\r\nfunction zeroArray(n) {\r\n  const a = [];\r\n  let i = -1;\r\n  while (++i < n) a[i] = 0;\r\n  return a;\r\n}\r\n\r\nfunction cloudCanvas() {\r\n  return document.createElement('canvas');\r\n}\r\n\r\nexport function functor(d) {\r\n  return isFunction(d)\r\n    ? d\r\n    : function () {\r\n        return d;\r\n      };\r\n}\r\n\r\nconst spirals = {\r\n  archimedean: archimedeanSpiral,\r\n  rectangular: rectangularSpiral,\r\n};\r\n\r\nfunction tagCloud() {\r\n  let size = [256, 256],\r\n    font = cloudFont,\r\n    fontSize = cloudFontSize,\r\n    fontWeight = cloudFontNormal,\r\n    rotate = cloudRotate,\r\n    padding = cloudPadding,\r\n    spiral = archimedeanSpiral,\r\n    random = Math.random,\r\n    words = [],\r\n    timeInterval = Infinity;\r\n\r\n  const text = cloudText;\r\n  const fontStyle = cloudFontNormal;\r\n  const canvas = cloudCanvas;\r\n  const cloud: any = {};\r\n\r\n  cloud.start = function () {\r\n    const [width, height] = size;\r\n    const contextAndRatio = getContext(canvas()),\r\n      board = cloud.board ? cloud.board : zeroArray((size[0] >> 5) * size[1]),\r\n      n = words.length,\r\n      tags = [],\r\n      data = words\r\n        .map(function (d, i, data) {\r\n          d.text = text.call(this, d, i, data);\r\n          d.font = font.call(this, d, i, data);\r\n          d.style = fontStyle.call(this, d, i, data);\r\n          d.weight = fontWeight.call(this, d, i, data);\r\n          d.rotate = rotate.call(this, d, i, data);\r\n          d.size = ~~fontSize.call(this, d, i, data);\r\n          d.padding = padding.call(this, d, i, data);\r\n          return d;\r\n        })\r\n        .sort(function (a, b) {\r\n          return b.size - a.size;\r\n        });\r\n    let i = -1,\r\n      bounds = !cloud.board\r\n        ? null\r\n        : [\r\n            {\r\n              x: 0,\r\n              y: 0,\r\n            },\r\n            {\r\n              x: width,\r\n              y: height,\r\n            },\r\n          ];\r\n\r\n    step();\r\n\r\n    function step() {\r\n      const start = Date.now();\r\n      while (Date.now() - start < timeInterval && ++i < n) {\r\n        const d = data[i];\r\n        d.x = (width * (random() + 0.5)) >> 1;\r\n        d.y = (height * (random() + 0.5)) >> 1;\r\n        cloudSprite(contextAndRatio, d, data, i);\r\n        if (d.hasText && place(board, d, bounds)) {\r\n          tags.push(d);\r\n          if (bounds) {\r\n            if (!cloud.hasImage) {\r\n              // update bounds if image mask not set\r\n              cloudBounds(bounds, d);\r\n            }\r\n          } else {\r\n            bounds = [\r\n              { x: d.x + d.x0, y: d.y + d.y0 },\r\n              { x: d.x + d.x1, y: d.y + d.y1 },\r\n            ];\r\n          }\r\n          // Temporary hack\r\n          d.x -= size[0] >> 1;\r\n          d.y -= size[1] >> 1;\r\n        }\r\n      }\r\n      cloud._tags = tags;\r\n      cloud._bounds = bounds;\r\n    }\r\n\r\n    return cloud;\r\n  };\r\n\r\n  function getContext(canvas: HTMLCanvasElement) {\r\n    canvas.width = canvas.height = 1;\r\n    const ratio = Math.sqrt(canvas.getContext('2d')!.getImageData(0, 0, 1, 1).data.length >> 2);\r\n    canvas.width = (cw << 5) / ratio;\r\n    canvas.height = ch / ratio;\r\n\r\n    const context = canvas.getContext('2d') as CanvasRenderingContext2D;\r\n    context.fillStyle = context.strokeStyle = 'red';\r\n    context.textAlign = 'center';\r\n    return { context, ratio };\r\n  }\r\n\r\n  function place(board, tag, bounds) {\r\n    // const perimeter = [{ x: 0, y: 0 }, { x: size[0], y: size[1] }],\r\n    const startX = tag.x,\r\n      startY = tag.y,\r\n      maxDelta = Math.sqrt(size[0] * size[0] + size[1] * size[1]),\r\n      s = spiral(size),\r\n      dt = random() < 0.5 ? 1 : -1;\r\n    let dxdy,\r\n      t = -dt,\r\n      dx,\r\n      dy;\r\n\r\n    while ((dxdy = s((t += dt)))) {\r\n      dx = ~~dxdy[0];\r\n      dy = ~~dxdy[1];\r\n\r\n      if (Math.min(Math.abs(dx), Math.abs(dy)) >= maxDelta) break;\r\n\r\n      tag.x = startX + dx;\r\n      tag.y = startY + dy;\r\n\r\n      if (tag.x + tag.x0 < 0 || tag.y + tag.y0 < 0 || tag.x + tag.x1 > size[0] || tag.y + tag.y1 > size[1]) continue;\r\n      // TODO only check for collisions within current bounds.\r\n      if (!bounds || !cloudCollide(tag, board, size[0])) {\r\n        if (!bounds || collideRects(tag, bounds)) {\r\n          const sprite = tag.sprite,\r\n            w = tag.width >> 5,\r\n            sw = size[0] >> 5,\r\n            lx = tag.x - (w << 4),\r\n            sx = lx & 0x7f,\r\n            msx = 32 - sx,\r\n            h = tag.y1 - tag.y0;\r\n          let last,\r\n            x = (tag.y + tag.y0) * sw + (lx >> 5);\r\n          for (let j = 0; j < h; j++) {\r\n            last = 0;\r\n            for (let i = 0; i <= w; i++) {\r\n              board[x + i] |= (last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0);\r\n            }\r\n            x += sw;\r\n          }\r\n          delete tag.sprite;\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  cloud.createMask = (img: HTMLImageElement) => {\r\n    const can: HTMLCanvasElement = document.createElement('canvas');\r\n    const [width, height] = size;\r\n\r\n    //  width  height  0  cxt.getImageData \r\n    if (!width || !height) {\r\n      return;\r\n    }\r\n    const w32 = width >> 5;\r\n    const board = zeroArray((width >> 5) * height);\r\n    can.width = width;\r\n    can.height = height;\r\n    const cxt = can.getContext('2d') as CanvasRenderingContext2D;\r\n    cxt.drawImage(img, 0, 0, img.width, img.height, 0, 0, width, height);\r\n    const imageData = cxt.getImageData(0, 0, width, height).data;\r\n    for (let j = 0; j < height; j++) {\r\n      for (let i = 0; i < width; i++) {\r\n        const k = w32 * j + (i >> 5);\r\n        const tmp = (j * width + i) << 2;\r\n        const flag = imageData[tmp] >= 250 && imageData[tmp + 1] >= 250 && imageData[tmp + 2] >= 250;\r\n        const m = flag ? 1 << (31 - (i % 32)) : 0;\r\n        board[k] |= m;\r\n      }\r\n    }\r\n    cloud.board = board;\r\n    cloud.hasImage = true;\r\n  };\r\n\r\n  cloud.timeInterval = function (_) {\r\n    timeInterval = _ == null ? Infinity : _;\r\n  };\r\n\r\n  cloud.words = function (_) {\r\n    words = _;\r\n  };\r\n\r\n  cloud.size = function (_) {\r\n    size = [+_[0], +_[1]];\r\n  };\r\n\r\n  cloud.font = function (_) {\r\n    font = functor(_);\r\n  };\r\n\r\n  cloud.fontWeight = function (_) {\r\n    fontWeight = functor(_);\r\n  };\r\n\r\n  cloud.rotate = function (_) {\r\n    rotate = functor(_);\r\n  };\r\n\r\n  cloud.spiral = function (_) {\r\n    spiral = spirals[_] || _;\r\n  };\r\n\r\n  cloud.fontSize = function (_) {\r\n    fontSize = functor(_);\r\n  };\r\n\r\n  cloud.padding = function (_) {\r\n    padding = functor(_);\r\n  };\r\n\r\n  cloud.random = function (_) {\r\n    random = functor(_);\r\n  };\r\n\r\n  return cloud;\r\n}\r\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { RoseOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { RoseOptions };\n\nexport class Rose extends Plot<RoseOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<RoseOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'rose';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *  options \n   */\n  protected getDefaultOptions(): Partial<RoseOptions> {\n    return Rose.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RoseOptions> {\n    return adaptor;\n  }\n}\n","import { Chart } from '@antv/g2';\r\nimport { Types } from '@antv/g2';\r\nimport { isArray, isFunction, isString } from '@antv/util';\r\nimport { normalPadding } from '../../utils/padding';\r\nimport { Params } from '../../core/adaptor';\r\nimport { Datum } from '../../types';\r\nimport { log, LEVEL, getContainerSize } from '../../utils';\r\nimport { functor, wordCloud } from '../../utils/transform/word-cloud';\r\nimport { Tag, Word, WordCloudOptions, WordStyle } from './types';\r\n\r\n/**\r\n *  DataSet \r\n * @param params\r\n */\r\nexport function transform(params: Params<WordCloudOptions>): Tag[] {\r\n  const { options: rawOptions, chart } = params;\r\n  const { width, height, padding: chartPadding, appendPadding, ele } = chart as Chart;\r\n  const {\r\n    data,\r\n    imageMask,\r\n    wordField,\r\n    weightField,\r\n    colorField,\r\n    wordStyle,\r\n    timeInterval,\r\n    random,\r\n    spiral,\r\n    autoFit = true,\r\n    placementStrategy,\r\n  } = rawOptions;\r\n  if (!data || !data.length) {\r\n    return [];\r\n  }\r\n  const { fontFamily, fontWeight, padding, fontSize } = wordStyle;\r\n  const arr = getSingleKeyValues(data, weightField);\r\n  const range = [min(arr), max(arr)] as [number, number];\r\n\r\n  //  text  value \r\n  const words = data.map(\r\n    (datum: Datum): Word => ({\r\n      text: datum[wordField],\r\n      value: datum[weightField],\r\n      color: datum[colorField],\r\n      datum, // \r\n    })\r\n  );\r\n\r\n  const options = {\r\n    imageMask: imageMask as HTMLImageElement,\r\n    font: fontFamily,\r\n    fontSize: getFontSizeMapping(fontSize, range),\r\n    fontWeight: fontWeight,\r\n    //  padding \r\n    size: getSize({\r\n      width,\r\n      height,\r\n      padding: chartPadding,\r\n      appendPadding,\r\n      autoFit,\r\n      container: ele,\r\n    }),\r\n    padding: padding,\r\n    timeInterval,\r\n    random,\r\n    spiral,\r\n    rotate: getRotate(rawOptions),\r\n  };\r\n\r\n  // \r\n  if (isFunction(placementStrategy)) {\r\n    const result = words.map((word: Word, index: number, words: Word[]) => ({\r\n      ...word,\r\n      hasText: !!word.text,\r\n      font: functor(options.font)(word, index, words),\r\n      weight: functor(options.fontWeight)(word, index, words),\r\n      rotate: functor(options.rotate)(word, index, words),\r\n      size: functor(options.fontSize)(word, index, words),\r\n      style: 'normal',\r\n      ...placementStrategy.call(chart, word, index, words),\r\n    }));\r\n\r\n    // \r\n    result.push({\r\n      text: '',\r\n      value: 0,\r\n      x: 0,\r\n      y: 0,\r\n      opacity: 0,\r\n    });\r\n    result.push({\r\n      text: '',\r\n      value: 0,\r\n      x: options.size[0],\r\n      y: options.size[1],\r\n      opacity: 0,\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  // wordCloud \r\n  return wordCloud(words, options);\r\n}\r\n\r\n/**\r\n * [width, height]\r\n * @param chart\r\n */\r\nexport function getSize(options: {\r\n  width: number;\r\n  height: number;\r\n  padding: Types.ViewPadding;\r\n  appendPadding: Types.ViewAppendPadding;\r\n  autoFit: boolean;\r\n  container: HTMLElement;\r\n}): [number, number] {\r\n  let { width, height } = options;\r\n  const { container, autoFit, padding, appendPadding } = options;\r\n\r\n  //  DataSet \r\n  //  DataSet \r\n  //  DataSet \r\n  // \r\n  if (autoFit) {\r\n    const containerSize = getContainerSize(container);\r\n    width = containerSize.width;\r\n    height = containerSize.height;\r\n  }\r\n\r\n  //  0\r\n  width = width || 400;\r\n  height = height || 400;\r\n\r\n  const [top, right, bottom, left] = resolvePadding({ padding, appendPadding });\r\n  const result = [width - (left + right), height - (top + bottom)];\r\n\r\n  return result as [number, number];\r\n}\r\n\r\n/**\r\n *  padding  appendPadding  padding\r\n * @param chart\r\n */\r\nfunction resolvePadding(options: { padding: Types.ViewPadding; appendPadding: Types.ViewAppendPadding }) {\r\n  const padding = normalPadding(options.padding);\r\n  const appendPadding = normalPadding(options.appendPadding);\r\n  const top = padding[0] + appendPadding[0];\r\n  const right = padding[1] + appendPadding[1];\r\n  const bottom = padding[2] + appendPadding[2];\r\n  const left = padding[3] + appendPadding[3];\r\n\r\n  return [top, right, bottom, left];\r\n}\r\n\r\n/**\r\n *  imageMask  url \r\n * @param  {HTMLImageElement | string} img\r\n * @return {Promise}\r\n */\r\nexport function processImageMask(img: HTMLImageElement | string): Promise<HTMLImageElement> {\r\n  return new Promise((res, rej) => {\r\n    if (img instanceof HTMLImageElement) {\r\n      res(img);\r\n      return;\r\n    }\r\n    if (isString(img)) {\r\n      const image = new Image();\r\n      image.crossOrigin = 'anonymous';\r\n      image.src = img;\r\n      image.onload = () => {\r\n        res(image);\r\n      };\r\n      image.onerror = () => {\r\n        log(LEVEL.ERROR, false, 'image %s load failed !!!', img);\r\n        rej();\r\n      };\r\n      return;\r\n    }\r\n    log(LEVEL.WARN, img === undefined, 'The type of imageMask option must be String or HTMLImageElement.');\r\n    rej();\r\n  });\r\n}\r\n\r\n/**\r\n *  fontSize  DataSet \r\n * @param options\r\n * @param range\r\n */\r\nexport function getFontSizeMapping(fontSize: WordStyle['fontSize'], range?: [number, number]) {\r\n  if (isFunction(fontSize)) {\r\n    return fontSize;\r\n  }\r\n  if (isArray(fontSize)) {\r\n    const [fMin, fMax] = fontSize;\r\n    if (!range) {\r\n      return () => (fMax + fMin) / 2;\r\n    }\r\n    const [min, max] = range;\r\n    if (max === min) {\r\n      return () => (fMax + fMin) / 2;\r\n    }\r\n    return function fontSize({ value }) {\r\n      return ((fMax - fMin) / (max - min)) * (value - min) + fMin;\r\n    };\r\n  }\r\n  return () => fontSize;\r\n}\r\n\r\nexport function getSingleKeyValues(data: Datum[], key: string) {\r\n  return data\r\n    .map((v) => v[key])\r\n    .filter((v) => {\r\n      //  number\r\n      if (typeof v === 'number' && !isNaN(v)) return true;\r\n      return false;\r\n    });\r\n}\r\n\r\n/**\r\n *  DataSet \r\n * @param options\r\n */\r\nfunction getRotate(options: WordCloudOptions) {\r\n  const { rotation, rotationSteps } = resolveRotate(options);\r\n  if (!isArray(rotation)) return rotation;\r\n  const min = rotation[0];\r\n  const max = rotation[1];\r\n  //  1  0\r\n  const perSize = rotationSteps === 1 ? 0 : (max - min) / (rotationSteps - 1);\r\n  return function rotate() {\r\n    if (max === min) return max;\r\n    return Math.floor(Math.random() * rotationSteps) * perSize;\r\n  };\r\n}\r\n\r\n/**\r\n * \r\n * @param options\r\n */\r\nfunction resolveRotate(options: WordCloudOptions) {\r\n  let { rotationSteps } = options.wordStyle;\r\n  if (rotationSteps < 1) {\r\n    log(LEVEL.WARN, false, 'The rotationSteps option must be greater than or equal to 1.');\r\n    rotationSteps = 1;\r\n  }\r\n  return {\r\n    rotation: options.wordStyle.rotation,\r\n    rotationSteps,\r\n  };\r\n}\r\n\r\n/**\r\n * \r\n * \r\n * @param numbers\r\n */\r\nfunction min(numbers: number[]) {\r\n  return Math.min(...numbers);\r\n}\r\n\r\n/**\r\n * \r\n * \r\n * @param numbers\r\n */\r\nfunction max(numbers: number[]) {\r\n  return Math.max(...numbers);\r\n}\r\n","import { Plot } from '../../core/plot';\nimport { Datum } from '../../types';\nimport { deepAssign } from '../../utils';\n\n/**  color  */\nexport const WORD_CLOUD_COLOR_FIELD = 'color';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  timeInterval: 2000,\n  legend: false,\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    showCrosshairs: false,\n    fields: ['text', 'value', WORD_CLOUD_COLOR_FIELD],\n    formatter: (datum: Datum) => {\n      return { name: datum.text, value: datum.value };\n    },\n  },\n  wordStyle: {\n    fontFamily: 'Verdana',\n    fontWeight: 'normal',\n    padding: 1,\n    fontSize: [12, 60],\n    rotation: [0, 90],\n    rotationSteps: 2,\n    rotateRatio: 0.5,\n  },\n});\n","import { isFunction, get } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme, scale, state } from '../../adaptor/common';\nimport { flow, deepAssign } from '../../utils';\nimport { point } from '../../adaptor/geometries';\nimport { WordCloudOptions } from './types';\nimport { transform } from './utils';\nimport { WORD_CLOUD_COLOR_FIELD } from './constant';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart, options } = params;\n  const { colorField, color } = options;\n  const data = transform(params);\n\n  chart.data(data);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'x',\n      yField: 'y',\n      seriesField: colorField && WORD_CLOUD_COLOR_FIELD,\n      rawFields: isFunction(color) && [...get(options, 'rawFields', []), 'datum'],\n      point: {\n        color,\n        shape: 'word-cloud',\n      },\n    },\n  });\n\n  const { ext } = point(p);\n  ext.geometry.label(false);\n\n  chart.coordinate().reflect('y');\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  return flow(\n    scale({\n      x: { nice: false },\n      y: { nice: false },\n    })\n  )(params);\n}\n\n/**\n *  legend \n * @param params\n */\nexport function legend(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart, options } = params;\n  const { legend, colorField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (colorField) {\n    chart.legend(WORD_CLOUD_COLOR_FIELD, legend);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<WordCloudOptions>) {\n  // flow  G2 API\n  flow(geometry, meta, tooltip, legend, interaction, animation, theme, state)(params);\n}\n","import { registerShape, Util, Types, IGroup, ShapeAttrs } from '@antv/g2';\nimport { Tag } from '../types';\n\ntype Config = Types.ShapeInfo & { data: Tag };\n\nregisterShape('point', 'word-cloud', {\n  draw(cfg: Config, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const shape = group.addShape('text', {\n      attrs: {\n        ...getTextAttrs(cfg),\n        x: cx,\n        y: cy,\n      },\n    });\n    const rotate = cfg.data.rotate;\n    if (typeof rotate === 'number') {\n      Util.rotate(shape, (rotate * Math.PI) / 180);\n    }\n\n    return shape;\n  },\n});\n\nfunction getTextAttrs(cfg: Config): ShapeAttrs {\n  return {\n    fontSize: cfg.data.size,\n    text: cfg.data.text,\n    textAlign: 'center',\n    fontFamily: cfg.data.font,\n    fontWeight: cfg.data.weight,\n    fill: cfg.color || cfg.defaultStyle.stroke,\n    textBaseline: 'alphabetic',\n  };\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { WordCloudOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { processImageMask, transform } from './utils';\n// shape\nimport './shapes/word-cloud';\n\nexport type { WordCloudOptions };\n\nexport class WordCloud extends Plot<WordCloudOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<WordCloudOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'word-cloud';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    if (this.options.imageMask) {\n      this.render();\n    } else {\n      this.chart.changeData(transform({ chart: this.chart, options: this.options }));\n    }\n  }\n\n  /**\n   *  options \n   */\n  protected getDefaultOptions(): Partial<WordCloudOptions> {\n    return WordCloud.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  public render() {\n    return new Promise<void>((res) => {\n      const { imageMask } = this.options;\n\n      if (!imageMask) {\n        // \n        super.render();\n        res();\n        return;\n      }\n\n      const handler = (img: HTMLImageElement) => {\n        this.options = {\n          ...this.options,\n          imageMask: img || null,\n        };\n\n        // \n        super.render();\n        res();\n      };\n\n      processImageMask(imageMask).then(handler).catch(handler);\n    });\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<WordCloudOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      //  adaptor\n      // \n      this.execAdaptor();\n\n      // \n      // TODO: \n      window.setTimeout(() => {\n        // \n        super.triggerResize();\n      });\n    }\n  }\n}\n","import {\n  regressionLinear,\n  regressionExp,\n  regressionLoess,\n  regressionLog,\n  regressionPoly,\n  regressionPow,\n  regressionQuad,\n} from 'd3-regression';\nimport { isArray, get, isNumber } from '@antv/util';\nimport { View } from '@antv/g2';\nimport { getSplinePath } from '../../utils';\nimport { ScatterOptions } from './types';\n\nconst REGRESSION_MAP = {\n  exp: regressionExp,\n  linear: regressionLinear,\n  loess: regressionLoess,\n  log: regressionLog,\n  poly: regressionPoly,\n  pow: regressionPow,\n  quad: regressionQuad,\n};\n\ntype RenderOptions = {\n  view: View;\n  options: ScatterOptions;\n};\n\n/**\n * \n * @param {number} xBaseline\n * @param {number} yBaseline\n */\nexport function getQuadrantDefaultConfig(xBaseline: number, yBaseline: number) {\n  // \n  const textOffset = 10;\n  // \n  const defaultConfig: { [key: string]: any } = {\n    regionStyle: [\n      {\n        position: {\n          start: [xBaseline, 'max'],\n          end: ['max', yBaseline],\n        },\n        style: {\n          fill: '#d8d0c0',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: ['min', 'max'],\n          end: [xBaseline, yBaseline],\n        },\n        style: {\n          fill: '#a3dda1',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: ['min', yBaseline],\n          end: [xBaseline, 'min'],\n        },\n        style: {\n          fill: '#d8d0c0',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: [xBaseline, yBaseline],\n          end: ['max', 'min'],\n        },\n        style: {\n          fill: '#a3dda1',\n          opacity: 0.4,\n        },\n      },\n    ],\n    lineStyle: {\n      stroke: '#9ba29a',\n      lineWidth: 1,\n    },\n    labelStyle: [\n      {\n        position: ['max', yBaseline],\n        offsetX: -textOffset,\n        offsetY: -textOffset,\n        style: {\n          textAlign: 'right',\n          textBaseline: 'bottom',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['min', yBaseline],\n        offsetX: textOffset,\n        offsetY: -textOffset,\n        style: {\n          textAlign: 'left',\n          textBaseline: 'bottom',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['min', yBaseline],\n        offsetX: textOffset,\n        offsetY: textOffset,\n        style: {\n          textAlign: 'left',\n          textBaseline: 'top',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['max', yBaseline],\n        offsetX: -textOffset,\n        offsetY: textOffset,\n        style: {\n          textAlign: 'right',\n          textBaseline: 'top',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n    ],\n  };\n  return defaultConfig;\n}\n\nconst splinePath = (data: number[][], config: RenderOptions) => {\n  const {\n    view,\n    options: { xField, yField },\n  } = config;\n  const xScaleView = view.getScaleByField(xField);\n  const yScaleView = view.getScaleByField(yField);\n  const pathData = data.map((d: [number, number]) =>\n    view.getCoordinate().convert({ x: xScaleView.scale(d[0]), y: yScaleView.scale(d[1]) })\n  );\n  return getSplinePath(pathData, false);\n};\n\nexport const getPath = (config: RenderOptions) => {\n  const { options } = config;\n  const { xField, yField, data, regressionLine } = options;\n  const { type = 'linear', algorithm } = regressionLine;\n  let pathData: Array<[number, number]>;\n  if (algorithm) {\n    pathData = isArray(algorithm) ? algorithm : algorithm(data);\n  } else {\n    const reg = REGRESSION_MAP[type]()\n      .x((d) => d[xField])\n      .y((d) => d[yField]);\n    pathData = reg(data);\n  }\n  return splinePath(pathData, config);\n};\n\n/**\n *  meta: { min, max }  data.length === 1   y    x \n * @param options\n * @returns\n */\nexport const getMeta = (\n  options: Pick<ScatterOptions, 'meta' | 'xField' | 'yField' | 'data'>\n): ScatterOptions['meta'] => {\n  const { meta = {}, xField, yField, data } = options;\n  const xFieldValue = data[0][xField];\n  const yFieldValue = data[0][yField];\n  const xIsPositiveNumber = xFieldValue > 0;\n  const yIsPositiveNumber = yFieldValue > 0;\n\n  /**\n   *  min max scale \n   */\n  function getMetaMinMax(field: string, axis: 'x' | 'y') {\n    const fieldMeta = get(meta, [field]);\n\n    function getCustomValue(type: 'min' | 'max') {\n      return get(fieldMeta, type);\n    }\n\n    const range = {};\n\n    if (axis === 'x') {\n      if (isNumber(xFieldValue)) {\n        if (!isNumber(getCustomValue('min'))) {\n          range['min'] = xIsPositiveNumber ? 0 : xFieldValue * 2;\n        }\n\n        if (!isNumber(getCustomValue('max'))) {\n          range['max'] = xIsPositiveNumber ? xFieldValue * 2 : 0;\n        }\n      }\n\n      return range;\n    }\n\n    if (isNumber(yFieldValue)) {\n      if (!isNumber(getCustomValue('min'))) {\n        range['min'] = yIsPositiveNumber ? 0 : yFieldValue * 2;\n      }\n\n      if (!isNumber(getCustomValue('max'))) {\n        range['max'] = yIsPositiveNumber ? yFieldValue * 2 : 0;\n      }\n    }\n\n    return range;\n  }\n\n  return {\n    ...meta,\n    [xField]: {\n      ...meta[xField],\n      ...getMetaMinMax(xField, 'x'),\n    },\n    [yField]: {\n      ...meta[yField],\n      ...getMetaMinMax(yField, 'y'),\n    },\n  };\n};\n","import { isNumber } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign, pick } from '../../utils';\nimport { point } from '../../adaptor/geometries';\nimport { brushInteraction } from '../../adaptor/brush';\nimport { interaction, animation, theme, scale, annotation, slider, scrollbar } from '../../adaptor/common';\nimport { findGeometry, transformLabel } from '../../utils';\nimport { getQuadrantDefaultConfig, getPath, getMeta } from './util';\nimport { ScatterOptions } from './types';\n\n/**\n * \n *  data.length === 1   y    x \n * @param params\n * @returns params\n */\nexport function transformOptions(options: ScatterOptions): ScatterOptions {\n  const { data = [], xField, yField } = options;\n\n  if (data.length) {\n    // x y \n    let isOneX = true;\n    let isOneY = true;\n\n    let prev = data[0];\n    let curr;\n\n    for (let i = 1; i < data.length; i++) {\n      curr = data[i];\n\n      if (prev[xField] !== curr[xField]) {\n        isOneX = false;\n      }\n\n      if (prev[yField] !== curr[yField]) {\n        isOneY = false;\n      }\n\n      //  oneValue\n      if (!isOneX && !isOneY) {\n        break;\n      }\n\n      prev = curr;\n    }\n\n    const keys = [];\n    isOneX && keys.push(xField);\n    isOneY && keys.push(yField);\n\n    const meta = pick(getMeta(options), keys);\n\n    return deepAssign({}, options, { meta });\n  }\n\n  return options;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { data, type, color, shape, pointStyle, shapeField, colorField, xField, yField, sizeField } = options;\n  let { size } = options;\n\n  let { tooltip } = options;\n\n  if (sizeField) {\n    if (!size) {\n      size = [2, 8];\n    }\n    if (isNumber(size)) {\n      size = [size, size];\n    }\n  }\n\n  if (tooltip && !tooltip.fields) {\n    tooltip = {\n      ...tooltip,\n      fields: [xField, yField, colorField, sizeField, shapeField],\n    };\n  }\n  // \n  chart.data(data);\n\n  // geometry\n  point(\n    deepAssign({}, params, {\n      options: {\n        seriesField: colorField,\n        point: {\n          color,\n          shape,\n          size,\n          style: pointStyle,\n        },\n        tooltip,\n      },\n    })\n  );\n\n  const geometry = findGeometry(chart, 'point');\n\n  // \n  if (type) {\n    geometry.adjust(type);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  const newOptions = transformOptions(options);\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(deepAssign({}, params, { options: newOptions }));\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  chart.axis(xField, xAxis);\n  chart.axis(yField, yAxis);\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { legend, colorField, shapeField, sizeField, shapeLegend, sizeLegend } = options;\n\n  /** legend  false, ,  color  */\n  const showLegend = legend !== false;\n\n  if (colorField) {\n    chart.legend(colorField, showLegend ? legend : false);\n  }\n\n  //  shapeLegend,  legend\n  if (shapeField) {\n    if (shapeLegend) {\n      chart.legend(shapeField, shapeLegend);\n    } else {\n      chart.legend(shapeField, shapeLegend === false ? false : legend);\n    }\n  }\n\n  if (sizeField) {\n    chart.legend(sizeField, sizeLegend ? sizeLegend : false);\n  }\n\n  /**  shape  shapeLegend  undefined  */\n  /**  sizeField */\n  if (!showLegend && !shapeLegend && !sizeLegend) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const scatterGeometry = findGeometry(chart, 'point');\n\n  // label  false,   label\n  if (!label) {\n    scatterGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    scatterGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * annotation \n * -  annotation: quadrant()\n * @param params\n */\nfunction scatterAnnotation(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options } = params;\n  const { quadrant } = options;\n\n  const annotationOptions = [];\n\n  if (quadrant) {\n    const { xBaseline = 0, yBaseline = 0, labels, regionStyle, lineStyle } = quadrant;\n    const defaultConfig = getQuadrantDefaultConfig(xBaseline, yBaseline);\n    // \n    const quadrants = new Array(4).join(',').split(',');\n    quadrants.forEach((_: string, index: number) => {\n      annotationOptions.push(\n        {\n          type: 'region',\n          top: false,\n          ...defaultConfig.regionStyle[index].position,\n          style: deepAssign({}, defaultConfig.regionStyle[index].style, regionStyle?.[index]),\n        },\n        {\n          type: 'text',\n          top: true,\n          ...deepAssign({}, defaultConfig.labelStyle[index], labels?.[index]),\n        }\n      );\n    });\n    // \n    annotationOptions.push(\n      {\n        type: 'line',\n        top: false,\n        start: ['min', yBaseline],\n        end: ['max', yBaseline],\n        style: deepAssign({}, defaultConfig.lineStyle, lineStyle),\n      },\n      {\n        type: 'line',\n        top: false,\n        start: [xBaseline, 'min'],\n        end: [xBaseline, 'max'],\n        style: deepAssign({}, defaultConfig.lineStyle, lineStyle),\n      }\n    );\n  }\n\n  return flow(annotation(annotationOptions))(params);\n}\n\n// \nfunction regressionLine(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options, chart } = params;\n  const { regressionLine } = options;\n  if (regressionLine) {\n    const { style, top = false } = regressionLine;\n    const defaultStyle = {\n      stroke: '#9ba29a',\n      lineWidth: 2,\n      opacity: 0.5,\n    };\n    chart.annotation().shape({\n      top,\n      render: (container, view) => {\n        const group = container.addGroup({\n          id: `${chart.id}-regression-line`,\n          name: 'regression-line-group',\n        });\n        const path = getPath({\n          view,\n          options,\n        });\n        group.addShape('path', {\n          name: 'regression-line',\n          attrs: {\n            path,\n            ...defaultStyle,\n            ...style,\n          },\n        });\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip) {\n    chart.tooltip(tooltip);\n  } else if (tooltip === false) {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ScatterOptions>) {\n  // flow  G2 API\n  return flow(\n    geometry,\n    meta,\n    axis,\n    legend,\n    tooltip,\n    label,\n    //  interaction \n    brushInteraction,\n    slider,\n    scrollbar,\n    interaction,\n    scatterAnnotation,\n    animation,\n    theme,\n    regressionLine\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  size: 4,\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'xy',\n    },\n  },\n});\n","import { registerInteraction } from '@antv/g2';\n\nregisterInteraction('drag-move', {\n  start: [{ trigger: 'plot:mousedown', action: 'scale-translate:start' }],\n  processing: [\n    {\n      trigger: 'plot:mousemove',\n      action: 'scale-translate:translate',\n      throttle: { wait: 100, leading: true, trailing: false },\n    },\n  ],\n  end: [{ trigger: 'plot:mouseup', action: 'scale-translate:end' }],\n});\n","import { BRUSH_FILTER_EVENTS, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { ScatterOptions } from './types';\nimport { adaptor, transformOptions, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport './interactions';\n\nexport type { ScatterOptions };\n\nexport class Scatter extends Plot<ScatterOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ScatterOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'scatter';\n\n  constructor(container: string | HTMLElement, options: ScatterOptions) {\n    super(container, options);\n\n    //  brush  meta\n    this.on(VIEW_LIFE_CIRCLE.BEFORE_RENDER, (evt) => {\n      //  option\n      const { options, chart } = this;\n      if (evt.data?.source === BRUSH_FILTER_EVENTS.FILTER) {\n        const filteredData = this.chart.filterData(this.chart.getData());\n        meta({ chart, options: { ...options, data: filteredData } });\n      }\n\n      if (evt.data?.source === BRUSH_FILTER_EVENTS.RESET) {\n        meta({ chart, options });\n      }\n    });\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: ScatterOptions['data']) {\n    this.updateOption(transformOptions(deepAssign({}, this.options, { data })));\n    const { options, chart } = this;\n    meta({ chart, options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ScatterOptions> {\n    return adaptor;\n  }\n\n  protected getDefaultOptions() {\n    return Scatter.getDefaultOptions();\n  }\n}\n","import { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme, scale, annotation, legend } from '../../adaptor/common';\nimport { area, point, line } from '../../adaptor/geometries';\nimport { findGeometry, flow, transformLabel, deepAssign } from '../../utils';\nimport { RadarOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { data, lineStyle, color, point: pointOptions, area: areaOptions } = options;\n\n  chart.data(data);\n\n  //   geometry\n  const primary = deepAssign({}, params, {\n    options: {\n      line: {\n        style: lineStyle,\n        color,\n      },\n      point: pointOptions\n        ? {\n            color,\n            ...pointOptions,\n          }\n        : pointOptions,\n      area: areaOptions\n        ? {\n            color,\n            ...areaOptions,\n          }\n        : areaOptions,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n    },\n  });\n  //  Geometry\n  const second = deepAssign({}, primary, {\n    options: {\n      tooltip: false,\n    },\n  });\n  //  point.state,  state \n  const pointState = pointOptions?.state || options.state;\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  line(primary);\n  point(pointParams);\n  area(second);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * coord \n * @param params\n */\nfunction coord(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { radius, startAngle, endAngle } = options;\n\n  chart.coordinate('polar', {\n    radius,\n    startAngle,\n    endAngle,\n  });\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { xField, xAxis, yField, yAxis } = options;\n\n  chart.axis(xField, xAxis);\n  chart.axis(yField, yAxis);\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const geometry = findGeometry(chart, 'line');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RadarOptions>) {\n  // flow  G2 API\n  return flow(geometry, meta, theme, coord, axis, legend, tooltip, label, interaction, animation, annotation())(params);\n}\n","import { registerComponentController, Util, TooltipController, Action } from '@antv/g2';\nimport { isNil } from '@antv/util';\nimport { Point } from '../../../types';\n\nexport class RadarTooltipController extends TooltipController {\n  public get name(): string {\n    return 'radar-tooltip';\n  }\n\n  public getTooltipItems(point: Point) {\n    const { shared, title: cfgTitle } = this.getTooltipCfg();\n    const hintItems = super.getTooltipItems(point);\n\n    if (hintItems.length > 0) {\n      const geometry = this.view.geometries[0];\n      const dataArray = geometry.dataArray;\n      const title = hintItems[0].name;\n      const result = [];\n      dataArray.forEach((mappingData) => {\n        mappingData.forEach((d) => {\n          const items = Util.getTooltipItems(d, geometry);\n          const item = items[0];\n          if (!shared && item && item.name === title) {\n            const displayTitle = isNil(cfgTitle) ? title : cfgTitle;\n            result.push({ ...item, name: item.title, title: displayTitle });\n          } else if (shared && item) {\n            const displayTitle = isNil(cfgTitle) ? item.name || title : cfgTitle;\n            result.push({ ...item, name: item.title, title: displayTitle });\n          }\n        });\n      });\n\n      return result;\n    }\n    return [];\n  }\n}\nregisterComponentController('radar-tooltip', RadarTooltipController);\n\n/**\n *  tooltip  action\n */\nexport class RadarTooltipAction extends Action {\n  init() {\n    const { view } = this.context;\n    view.removeInteraction('tooltip');\n  }\n\n  public show() {\n    const { event } = this.context;\n    const controller = this.getTooltipController();\n    controller.showTooltip({ x: event.x, y: event.y });\n  }\n\n  public hide() {\n    const controller = this.getTooltipController();\n    controller.hideTooltip();\n  }\n\n  private getTooltipController() {\n    const { view } = this.context;\n    return view.getController('radar-tooltip') as TooltipController;\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { RadarTooltipAction } from './radar-tooltip-action';\n\nregisterAction('radar-tooltip', RadarTooltipAction);\nregisterInteraction('radar-tooltip', {\n  start: [{ trigger: 'plot:mousemove', action: 'radar-tooltip:show' }],\n  end: [{ trigger: 'plot:mouseleave', action: 'radar-tooltip:hide' }],\n});\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { Adaptor } from '../../core/adaptor';\nimport { RadarOptions } from './types';\nimport { adaptor } from './adaptor';\nimport './interactions';\n\nexport type { RadarOptions };\n\nexport class Radar extends Plot<RadarOptions> {\n  /**  */\n  public type: string = 'radar';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<RadarOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      xAxis: {\n        label: {\n          offset: 15,\n        },\n        grid: {\n          line: {\n            type: 'line',\n          },\n        },\n      },\n      yAxis: {\n        grid: {\n          line: {\n            type: 'circle',\n          },\n        },\n      },\n      legend: {\n        position: 'top',\n      },\n      tooltip: {\n        shared: true,\n        showCrosshairs: true,\n        showMarkers: true,\n        crosshairs: {\n          type: 'xy',\n          line: {\n            style: {\n              stroke: '#565656',\n              lineDash: [4],\n            },\n          },\n          follow: true,\n        },\n      },\n    });\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RadarOptions> {\n    return adaptor;\n  }\n}\n","import { Options, ShapeAttr, SizeAttr, StyleAttr } from '../../types';\nimport { LineOptions } from '../line/types';\nimport { ColumnOptions } from '../column/types';\n\nexport enum AxisType {\n  Left = 'Left',\n  Right = 'Right',\n}\n\nexport enum DualAxesGeometry {\n  Line = 'line',\n  Column = 'column',\n}\n\nexport interface PointConfig {\n  readonly shape?: ShapeAttr;\n  readonly size?: SizeAttr;\n  readonly style?: StyleAttr;\n}\n\ntype CommonGeometryOption = {\n  /**\n   * @title \n   */\n  readonly geometry?: string;\n  /**\n   * @title \n   */\n  readonly label?: Options['label'];\n  /**\n   * @title legend\n   */\n  readonly legend?: Options['legend'];\n  /**\n   * @title \n   */\n  readonly color?: Options['color'];\n  /**\n   * @title \n   * @default false\n   */\n  readonly isGroup?: boolean;\n  /**\n   * @title \n   * @description  seriesField\n   */\n  readonly groupField?: string;\n};\n\n// ,  LineOption \nexport type GeometryLineOption = Pick<\n  LineOptions,\n  'seriesField' | 'smooth' | 'connectNulls' | 'lineStyle' | 'point' | 'isStack' | 'stepType'\n> &\n  CommonGeometryOption;\n\n// \nexport type GeometryColumnOption = Pick<\n  ColumnOptions,\n  | 'seriesField'\n  | 'isGroup'\n  | 'isStack'\n  | 'isRange'\n  | 'isPercent'\n  | 'columnWidthRatio'\n  | 'marginRatio'\n  | 'columnStyle'\n  | 'pattern'\n> &\n  CommonGeometryOption;\n\nexport type GeometryOption = GeometryColumnOption | GeometryLineOption;\n\nexport type DualAxesOptions = Omit<Options, 'data' | 'yAxis' | 'color' | 'annotations'> & {\n  /**\n   * @title \n   * @description \n   */\n  readonly data: Array<Record<string, any>[]>;\n  /**\n   * @title  x \n   * @description x \n   */\n  readonly xField: string;\n  /**\n   * @title  y \n   * @description \n   */\n  readonly yField: string[];\n  /**\n   * @title  yAxis \n   * @description  object key  y \n   */\n  readonly yAxis?: Options['yAxis'][] | Record<string, Options['yAxis']>;\n  /**\n   * @title \n   */\n  readonly geometryOptions?: GeometryOption[];\n  /**\n   * @title  annotation \n   * @description object  field \n   */\n  readonly annotations?: Options['annotations'][] | Record<string, Options['annotations']>;\n};\n","export const LEFT_AXES_VIEW = 'left-axes-view';\nexport const RIGHT_AXES_VIEW = 'right-axes-view';\n\nexport const DEFAULT_YAXIS_CONFIG = {\n  nice: true,\n  label: {\n    autoHide: true,\n    autoRotate: false,\n  },\n};\n\nexport const DEFAULT_LEFT_YAXIS_CONFIG = {\n  ...DEFAULT_YAXIS_CONFIG,\n  position: 'left',\n};\n\nexport const DEFAULT_RIGHT_YAXIS_CONFIG = {\n  ...DEFAULT_YAXIS_CONFIG,\n  position: 'right',\n  grid: null,\n};\n","import { get, isArray } from '@antv/util';\nimport { Axis } from '../../../types/axis';\nimport { deepAssign } from '../../../utils';\nimport {\n  DualAxesOptions,\n  GeometryOption,\n  DualAxesGeometry,\n  GeometryLineOption,\n  GeometryColumnOption,\n  AxisType,\n} from '../types';\nimport { DEFAULT_LEFT_YAXIS_CONFIG, DEFAULT_RIGHT_YAXIS_CONFIG } from '../constant';\n\n/**\n *  GeometryOption  geometry  line\n */\nexport function isLine(geometryOption: GeometryOption): geometryOption is GeometryLineOption {\n  return get(geometryOption, 'geometry') === DualAxesGeometry.Line;\n}\n\n/**\n *  GeometryOption  geometry  Column\n */\nexport function isColumn(geometryOption: GeometryOption): geometryOption is GeometryColumnOption {\n  return get(geometryOption, 'geometry') === DualAxesGeometry.Column;\n}\n\n/**\n *  GeometryOption\n * @param geometryOption\n * @param axis\n */\nexport function getGeometryOption(xField: string, yField: string, geometryOption: GeometryOption): GeometryOption {\n  // \n  return isColumn(geometryOption)\n    ? deepAssign(\n        {},\n        {\n          geometry: DualAxesGeometry.Column,\n          label:\n            geometryOption.label && geometryOption.isRange\n              ? {\n                  content: (item: object) => {\n                    return item[yField]?.join('-');\n                  },\n                }\n              : undefined,\n        },\n        geometryOption\n      )\n    : {\n        geometry: DualAxesGeometry.Line,\n        ...geometryOption,\n      };\n}\n\n/**\n *   arr  obj   yAxisannotations\n *  yField  object \n * @param yField\n * @param transformAttribute\n */\nexport function transformObjectToArray(\n  yField: DualAxesOptions['yField'],\n  transformAttribute: Record<string, any> | any[]\n): any[] {\n  const [y1, y2] = yField;\n\n  if (isArray(transformAttribute)) {\n    // \n    const [a1, a2] = transformAttribute;\n    return [a1, a2];\n  }\n  const a1 = get(transformAttribute, y1);\n  const a2 = get(transformAttribute, y2);\n  return [a1, a2];\n}\n\n/**\n * \n * @param yAxis\n * @param axisType\n */\nexport function getYAxisWithDefault(yAxis: Axis, axisType: AxisType): Axis {\n  if (axisType === AxisType.Left) {\n    return yAxis === false ? false : deepAssign({}, DEFAULT_LEFT_YAXIS_CONFIG, yAxis);\n  } else if (axisType === AxisType.Right) {\n    return yAxis === false ? false : deepAssign({}, DEFAULT_RIGHT_YAXIS_CONFIG, yAxis);\n  }\n  return yAxis;\n}\n","import { reduce, get, isEmpty, isFunction } from '@antv/util';\nimport { View, Util } from '@antv/g2';\nimport { deepAssign, findGeometry } from '../../../utils';\nimport { GeometryOption } from '../types';\nimport { Legend } from '../../../types/legend';\nimport { isLine } from './option';\n\n/**\n *  view  legendItem seriesField \n * @param params\n */\nexport function getViewLegendItems(params: {\n  view: View;\n  yField: string;\n  geometryOption: GeometryOption;\n  legend: Legend;\n}) {\n  const { view, geometryOption, yField, legend } = params;\n  const userMarker = get(legend, 'marker');\n\n  const geometry = findGeometry(view, isLine(geometryOption) ? 'line' : 'interval');\n  if (!geometryOption.seriesField) {\n    const legendItemName = get(view, `options.scales.${yField}.alias`) || yField;\n    //  g2 \n    const colorAttribute = geometry.getAttribute('color');\n    let color = view.getTheme().defaultColor;\n    if (colorAttribute) {\n      color = Util.getMappingValue(colorAttribute, legendItemName, get(colorAttribute, ['values', 0], color));\n    }\n\n    const marker =\n      (isFunction(userMarker)\n        ? userMarker\n        : !isEmpty(userMarker) &&\n          deepAssign(\n            {},\n            {\n              style: {\n                stroke: color,\n                fill: color,\n              },\n            },\n            userMarker\n          )) ||\n      (isLine(geometryOption)\n        ? {\n            symbol: (x: number, y: number, r: number) => {\n              return [\n                ['M', x - r, y],\n                ['L', x + r, y],\n              ];\n            },\n            style: {\n              lineWidth: 2,\n              r: 6,\n              stroke: color,\n            },\n          }\n        : {\n            symbol: 'square',\n            style: {\n              fill: color,\n            },\n          });\n    return [\n      {\n        value: yField,\n        name: legendItemName,\n        marker,\n        isGeometry: true,\n        viewId: view.id,\n      },\n    ];\n  }\n\n  const attributes = geometry.getGroupAttributes();\n  return reduce(\n    attributes,\n    (items, attr) => {\n      const attrItems = Util.getLegendItems(view, geometry, attr, view.getTheme(), userMarker);\n      return items.concat(attrItems);\n    },\n    []\n  );\n}\n","import { each } from '@antv/util';\nimport { Geometry } from '@antv/g2';\nimport { Params } from '../../../core/adaptor';\nimport { point, line } from '../../../adaptor/geometries';\nimport { pick, deepAssign } from '../../../utils';\nimport { adaptor as columnAdaptor } from '../../column/adaptor';\nimport { GeometryOption } from '../types';\nimport { isLine, isColumn } from './option';\n\n/**\n * \n * @param params\n */\nexport function drawSingleGeometry<O extends { xField: string; yField: string; geometryOption: GeometryOption }>(\n  params: Params<O>\n): Params<O> {\n  const { options, chart } = params;\n  const { geometryOption } = options;\n  const { isStack, color, seriesField, groupField, isGroup } = geometryOption;\n\n  const FIELD_KEY = ['xField', 'yField'];\n  if (isLine(geometryOption)) {\n    // \n    line(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          line: {\n            color: geometryOption.color,\n            style: geometryOption.lineStyle,\n          },\n        },\n      })\n    );\n    // \n    point(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          point: geometryOption.point && {\n            color,\n            shape: 'circle',\n            ...geometryOption.point,\n          },\n        },\n      })\n    );\n    // adjust\n    const adjust = [];\n    if (isGroup) {\n      adjust.push({\n        type: 'dodge',\n        dodgeBy: groupField || seriesField,\n        customOffset: 0,\n      });\n    }\n    if (isStack) {\n      adjust.push({\n        type: 'stack',\n      });\n    }\n    if (adjust.length) {\n      each(chart.geometries, (g: Geometry) => {\n        g.adjust(adjust);\n      });\n    }\n  }\n\n  if (isColumn(geometryOption)) {\n    columnAdaptor(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          widthRatio: geometryOption.columnWidthRatio,\n          interval: {\n            ...pick(geometryOption, ['color']),\n            style: geometryOption.columnStyle,\n          },\n        },\n      })\n    );\n  }\n\n  return params;\n}\n","import { View } from '@antv/g2';\nimport { size, valuesOfKey } from '@antv/util';\nimport { isBetween } from '../../../utils';\n\n/**\n *  View  slider \n *  View ,  Slider  change  View\n * @param { View } view \n * @param { number[] } sliderValue \n * @returns void\n */\nexport const doSliderFilter = (view: View, sliderValue: [number, number]) => {\n  const [min, max] = sliderValue;\n  const data = view.getOptions().data;\n  const xScale = view.getXScale();\n  const dataSize = size(data);\n  if (!xScale || !dataSize) {\n    return;\n  }\n  const isHorizontal = true;\n  const values = valuesOfKey(data, xScale.field);\n  const xValues = isHorizontal ? values : values.reverse();\n  const xTickCount = size(xValues);\n  const minIndex = Math.floor(min * (xTickCount - 1));\n  const maxIndex = Math.floor(max * (xTickCount - 1));\n\n  //  x \n  view.filter(xScale.field, (value: any) => {\n    const idx: number = xValues.indexOf(value);\n    return idx > -1 ? isBetween(idx, minIndex, maxIndex) : true;\n  });\n  view.getRootView().render(true);\n};\n","import { each, findIndex, get, find, isObject, every, isEqual, isBoolean } from '@antv/util';\nimport { Scale, Types, Event } from '@antv/g2';\nimport {\n  theme as commonTheme,\n  animation as commonAnimation,\n  scale,\n  interaction as commonInteraction,\n  annotation as commonAnnotation,\n  limitInPlot as commonLimitInPlot,\n} from '../../adaptor/common';\nimport { percent } from '../../utils/transform/percent';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport { flow, deepAssign } from '../../utils';\nimport { findViewById } from '../../utils/view';\nimport { isColumn, getYAxisWithDefault, getGeometryOption, transformObjectToArray } from './util/option';\nimport { getViewLegendItems } from './util/legend';\nimport { drawSingleGeometry } from './util/geometry';\nimport { doSliderFilter } from './util/render-sider';\nimport { DualAxesOptions, AxisType, DualAxesGeometry } from './types';\nimport { LEFT_AXES_VIEW, RIGHT_AXES_VIEW } from './constant';\n\n/**\n * transformOptions\n * 1. get index getOptions:  appendPaddingsyncView \n * 2. get adpator transformOption: deepAssign \n *    2.1 defaultoption tooltiplegend\n *    2.2  options\n *    2.3  options  options yaxisGeometryOption deepAssign  assign \n *\n * @param params\n */\nexport function transformOptions(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { options } = params;\n  const { geometryOptions = [], xField, yField } = options;\n  const allLine = every(\n    geometryOptions,\n    ({ geometry }) => geometry === DualAxesGeometry.Line || geometry === undefined\n  );\n  return deepAssign(\n    {},\n    {\n      options: {\n        geometryOptions: [],\n        meta: {\n          [xField]: {\n            //  cat \n            type: 'cat',\n            // x  scale \n            sync: true,\n            // \n            range: allLine ? [0, 1] : undefined,\n          },\n        },\n        tooltip: {\n          showMarkers: allLine,\n          //  crosshairs\n          showCrosshairs: allLine,\n          shared: true,\n          crosshairs: {\n            type: 'x',\n          },\n        },\n        interactions: !allLine\n          ? [{ type: 'legend-visible-filter' }, { type: 'active-region' }]\n          : [{ type: 'legend-visible-filter' }],\n        legend: {\n          position: 'top-left',\n        },\n      },\n    },\n    params,\n    {\n      options: {\n        // yAxis\n        yAxis: transformObjectToArray(yField, options.yAxis),\n        // geometryOptions\n        geometryOptions: [\n          getGeometryOption(xField, yField[0], geometryOptions[0]),\n          getGeometryOption(xField, yField[1], geometryOptions[1]),\n        ],\n        // annotations\n        annotations: transformObjectToArray(yField, options.annotations),\n      },\n    }\n  );\n}\n\n/**\n *    view theme \n * @param params\n */\nfunction createViews(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { geometryOptions } = options;\n\n  const SORT_MAP = { line: 0, column: 1 };\n\n  // id\n  const geometries = [\n    { type: geometryOptions[0]?.geometry, id: LEFT_AXES_VIEW },\n    { type: geometryOptions[1]?.geometry, id: RIGHT_AXES_VIEW },\n  ];\n\n  //  view \n  geometries.sort((a, b) => -SORT_MAP[a.type] + SORT_MAP[b.type]).forEach((g) => chart.createView({ id: g.id }));\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { xField, yField, geometryOptions, data, tooltip } = options;\n\n  // id\n  const geometries = [\n    { ...geometryOptions[0], id: LEFT_AXES_VIEW, data: data[0], yField: yField[0] },\n    { ...geometryOptions[1], id: RIGHT_AXES_VIEW, data: data[1], yField: yField[1] },\n  ];\n\n  geometries.forEach((geometry) => {\n    const { id, data, yField } = geometry;\n    // \n    const isPercent = isColumn(geometry) && geometry.isPercent;\n    const formatData = isPercent ? percent(data, yField, xField, yField) : data;\n    const view = findViewById(chart, id).data(formatData);\n\n    const tooltipOptions = isPercent\n      ? {\n          formatter: (datum: Datum) => ({\n            name: datum[geometry.seriesField] || yField,\n            value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n          }),\n          ...tooltip,\n        }\n      : tooltip;\n\n    // \n    drawSingleGeometry({\n      chart: view,\n      options: {\n        xField,\n        yField,\n        tooltip: tooltipOptions,\n        geometryOption: geometry,\n      },\n    });\n  });\n  return params;\n}\n\nexport function color(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { geometryOptions } = options;\n  const themeColor = chart.getTheme()?.colors10 || [];\n\n  let start = 0;\n  /*  geometry  color\n   * 1.  geometryOptions  color drawGeometry \n   * 2.   color Geometry group scales theme color 10 \n   * 3.  group  view  N   concat  themeColor\n   * 4.  Geometry group scales color\n   * 5.  view  g2\n   */\n  chart.once('beforepaint', () => {\n    each(geometryOptions, (geometryOption, index) => {\n      const view = findViewById(chart, index === 0 ? LEFT_AXES_VIEW : RIGHT_AXES_VIEW);\n      if (geometryOption.color) return;\n      const groupScale = view.getGroupScales();\n      const count = get(groupScale, [0, 'values', 'length'], 1);\n      const color = themeColor.slice(start, start + count).concat(index === 0 ? [] : themeColor);\n      view.geometries.forEach((geometry) => {\n        if (geometryOption.seriesField) {\n          geometry.color(geometryOption.seriesField, color);\n        } else {\n          geometry.color(color[0]);\n        }\n      });\n      start += count;\n    });\n    chart.render(true);\n  });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  scale({\n    [xField]: xAxis,\n    [yField[0]]: yAxis[0],\n  })(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n\n  scale({\n    [xField]: xAxis,\n    [yField[1]]: yAxis[1],\n  })(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  const { xField, yField, xAxis, yAxis } = options;\n\n  chart.axis(xField, false);\n  chart.axis(yField[0], false);\n  chart.axis(yField[1], false);\n\n  //  View\n  leftView.axis(xField, xAxis);\n  leftView.axis(yField[0], getYAxisWithDefault(yAxis[0], AxisType.Left));\n\n  //  Y \n  rightView.axis(xField, false);\n  rightView.axis(yField[1], getYAxisWithDefault(yAxis[1], AxisType.Right));\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  // tooltip  getDefaultOption  undefined\n  chart.tooltip(tooltip);\n  //  view  tooltip shared  interaction active-region \n  // view  chart  shared\n  leftView.tooltip({\n    shared: true,\n  });\n  rightView.tooltip({\n    shared: true,\n  });\n  return params;\n}\n\n/**\n * interaction \n * @param params\n */\nexport function interaction(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * annotation \n * @param params\n */\nexport function annotation(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { annotations } = options;\n\n  const a1 = get(annotations, [0]);\n  const a2 = get(annotations, [1]);\n\n  commonAnnotation(a1)(\n    deepAssign({}, params, {\n      chart: findViewById(chart, LEFT_AXES_VIEW),\n      options: {\n        annotations: a1,\n      },\n    })\n  );\n  commonAnnotation(a2)(\n    deepAssign({}, params, {\n      chart: findViewById(chart, RIGHT_AXES_VIEW),\n      options: {\n        annotations: a2,\n      },\n    })\n  );\n  return params;\n}\n\nexport function theme(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  /*\n   *  view  axisline chart  legend)\n   *  chart   view  theme G2 theme geometry > view > chart \n   */\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n  commonTheme(params);\n\n  return params;\n}\n\nexport function animation(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n *  limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { yAxis } = options;\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, LEFT_AXES_VIEW),\n      options: {\n        yAxis: yAxis[0],\n      },\n    })\n  );\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, RIGHT_AXES_VIEW),\n      options: {\n        yAxis: yAxis[1],\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * legend \n *  custom-\n * @param params\n */\nexport function legend(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { legend, geometryOptions, yField, data } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (isObject(legend) && legend.custom === true) {\n    chart.legend(legend);\n  } else {\n    const leftLegend = get(geometryOptions, [0, 'legend'], legend);\n    const rightLegend = get(geometryOptions, [1, 'legend'], legend);\n    // \n    chart.once('beforepaint', () => {\n      const leftItems = data[0].length\n        ? getViewLegendItems({\n            view: leftView,\n            geometryOption: geometryOptions[0],\n            yField: yField[0],\n            legend: leftLegend,\n          })\n        : [];\n\n      const rightItems = data[1].length\n        ? getViewLegendItems({\n            view: rightView,\n            geometryOption: geometryOptions[1],\n            yField: yField[1],\n            legend: rightLegend,\n          })\n        : [];\n\n      chart.legend(\n        deepAssign({}, legend, {\n          custom: true,\n          // todo \n          // @ts-ignore\n          items: leftItems.concat(rightItems),\n        })\n      );\n    });\n\n    if (geometryOptions[0].seriesField) {\n      leftView.legend(geometryOptions[0].seriesField, leftLegend);\n    }\n    if (geometryOptions[1].seriesField) {\n      rightView.legend(geometryOptions[1].seriesField, rightLegend);\n    }\n\n    // \n    chart.on('legend-item:click', (evt) => {\n      const delegateObject = get(evt, 'gEvent.delegateObject', {});\n      if (delegateObject && delegateObject.item) {\n        const { value: field, isGeometry, viewId } = delegateObject.item;\n        // geometry  view.changeVisible\n        if (isGeometry) {\n          const idx = findIndex(yField, (yF: string) => yF === field);\n          if (idx > -1) {\n            const geometries = get(findViewById(chart, viewId), 'geometries');\n            each(geometries, (g) => {\n              g.changeVisible(!delegateObject.item.unchecked);\n            });\n          }\n        } else {\n          const legendItem = get(chart.getController('legend'), 'option.items', []);\n          // \n          each(chart.views, (view) => {\n            // \n            const groupScale = view.getGroupScales();\n            each(groupScale, (scale: Scale) => {\n              if (scale.values && scale.values.indexOf(field) > -1) {\n                view.filter(scale.field, (value) => {\n                  const curLegendItem: Types.LegendItem = find(\n                    legendItem,\n                    (item: Types.LegendItem) => item.value === value\n                  );\n                  //  legend  unchecked \n                  return !curLegendItem.unchecked;\n                });\n              }\n            });\n            chart.render(true);\n          });\n        }\n      }\n    });\n  }\n\n  return params;\n}\n\n/**\n *  slider \n * @param params\n */\nexport function slider(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { slider } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  if (slider) {\n    //  View\n    leftView.option('slider', slider);\n    //  slider   View \n    leftView.on('slider:valuechanged', (evt: Event) => {\n      const {\n        event: { value, originValue },\n      } = evt;\n      if (isEqual(value, originValue)) {\n        return;\n      }\n      doSliderFilter(rightView, value);\n    });\n    chart.once('afterpaint', () => {\n      // \n      if (!isBoolean(slider)) {\n        const { start, end } = slider;\n        if (start || end) {\n          doSliderFilter(rightView, [start, end]);\n        }\n      }\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  // transformOptions color legend  beforepaint\n  return flow(\n    transformOptions,\n    createViews,\n    // \n    theme,\n    geometry,\n    meta,\n    axis,\n    limitInPlot,\n    tooltip,\n    interaction,\n    annotation,\n    animation,\n    color,\n    legend,\n    slider\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { DualAxesOptions } from './types';\nimport { adaptor } from './adaptor';\n\nexport type { DualAxesOptions };\n\nexport class DualAxes extends Plot<DualAxesOptions> {\n  /** :  */\n  public type: string = 'dual-axes';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<DualAxesOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      yAxis: [],\n      syncViewPadding: true,\n    });\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<DualAxesOptions> {\n    return adaptor;\n  }\n}\n","import { get } from '@antv/util';\n\nexport const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\n\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showTitle: false,\n  shared: true,\n  showMarkers: false,\n  customContent: (x: string, data: any[]) => `${get(data, [0, 'data', 'y'], 0)}`, // \n  containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n  itemTpl: '<span>{value}</span>',\n  domStyles: {\n    'g2-tooltip': {\n      padding: '2px 4px',\n      fontSize: '10px',\n    },\n  },\n  showCrosshairs: true,\n  crosshairs: {\n    type: 'x' as const,\n  },\n};\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  animation: {},\n};\n","import { map } from '@antv/util';\n\nexport function getTinyData(data: number[]) {\n  return map(data || [], (y: number, x: number) => ({ x: `${x}`, y }));\n}\n","import { theme, scale, animation, annotation, tooltip, pattern } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { area, line, point } from '../../adaptor/geometries';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { adjustYMetaByZero } from '../../utils/data';\nimport { TinyAreaOptions } from './types';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyAreaOptions>): Params<TinyAreaOptions> {\n  const { chart, options } = params;\n  const { data, color, areaStyle, point: pointOptions, line: lineOptions } = options;\n  const pointState = pointOptions?.state;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  const primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      area: { color, style: areaStyle },\n      line: lineOptions,\n      point: pointOptions,\n    },\n  });\n  const second = deepAssign({}, primary, { options: { tooltip: false } });\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  // area geometry \n  area(primary);\n  line(second);\n  point(pointParams);\n\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<TinyAreaOptions>): Params<TinyAreaOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, data } = options;\n  const seriesData = getTinyData(data);\n\n  return flow(\n    scale(\n      {\n        [X_FIELD]: xAxis,\n        [Y_FIELD]: yAxis,\n      },\n      {\n        [X_FIELD]: {\n          type: 'cat',\n        },\n        [Y_FIELD]: adjustYMetaByZero(seriesData, Y_FIELD),\n      }\n    )\n  )(params);\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyAreaOptions>) {\n  return flow(pattern('areaStyle'), geometry, meta, tooltip, theme, animation, annotation())(params);\n}\n","import { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { theme, animation, annotation, tooltip } from '../../adaptor/common';\nimport { line, point } from '../../adaptor/geometries';\nimport { meta } from '../tiny-area/adaptor';\nimport { getTinyData } from './utils';\nimport { TinyLineOptions } from './types';\nimport { X_FIELD, Y_FIELD } from './constants';\n\nexport { meta };\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyLineOptions>): Params<TinyLineOptions> {\n  const { chart, options } = params;\n  const { data, color, lineStyle, point: pointMapping } = options;\n\n  const pointState = pointMapping?.state;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  // line geometry \n  const primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      line: {\n        color,\n        style: lineStyle,\n      },\n      point: pointMapping,\n    },\n  });\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  line(primary);\n  point(pointParams);\n\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyLineOptions>) {\n  return flow(geometry, meta, theme, tooltip, animation, annotation())(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { TinyLineOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getTinyData } from './utils';\n\nexport type { TinyLineOptions };\n\nexport class TinyLine extends Plot<TinyLineOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyLineOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-line';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyLineOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyLine.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyLineOptions> {\n    return adaptor;\n  }\n}\n","import { theme, animation, annotation, tooltip, pattern } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { meta } from '../tiny-area/adaptor';\nimport { TinyColumnOptions } from './types';\n\nexport { meta };\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyColumnOptions>): Params<TinyColumnOptions> {\n  const { chart, options } = params;\n  const { data, color, columnStyle, columnWidthRatio } = options;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: columnStyle,\n        color,\n      },\n    },\n  });\n  interval(p);\n\n  chart.axis(false);\n  chart.legend(false);\n  chart.interaction('element-active');\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyColumnOptions>) {\n  return flow(theme, pattern('columnStyle'), geometry, meta, tooltip, animation, annotation())(params);\n}\n","import { get } from '@antv/util';\n\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showTitle: false,\n  shared: true,\n  showMarkers: false,\n  customContent: (x: string, data: any[]) => `${get(data, [0, 'data', 'y'], 0)}`, // \n  containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n  itemTpl: '<span>{value}</span>',\n  domStyles: {\n    'g2-tooltip': {\n      padding: '2px 4px',\n      fontSize: '10px',\n    },\n  },\n};\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  animation: {},\n};\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getTinyData } from '../tiny-line/utils';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { TinyColumnOptions } from './types';\n\nexport type { TinyColumnOptions };\n\nexport class TinyColumn extends Plot<TinyColumnOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyColumnOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-column';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyColumnOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyColumn.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyColumnOptions> {\n    return adaptor;\n  }\n}\n","import { DEFAULT_TOOLTIP_OPTIONS } from '../tiny-line/constants';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  // \n  color: 'l(90) 0:#E5EDFE 1:#ffffff',\n  areaStyle: {\n    fillOpacity: 0.6,\n  },\n  line: {\n    size: 1,\n    color: '#5B8FF9',\n  },\n  animation: {},\n};\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getTinyData } from '../tiny-line/utils';\nimport { TinyAreaOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { TinyAreaOptions };\n\nexport class TinyArea extends Plot<TinyAreaOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyAreaOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-area';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyAreaOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyArea.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyAreaOptions> {\n    return adaptor;\n  }\n}\n","import { clone, sortBy, valuesOfKey, getRange, each, hasKey, groupBy, isEmpty } from '@antv/util';\nimport { Data } from '../../types';\n\ntype StatisticData = {\n  range: Array<number>;\n  count: number;\n};\ntype StatisticBin = {\n  [key: string]: StatisticData;\n};\n\n//  range\nfunction getBinKey(value: number, binWidth: number, binNumber?: number): [number, number] {\n  // \n  if (binNumber === 1) {\n    return [0, binWidth];\n  }\n  const index = Math.floor(value / binWidth);\n  return [binWidth * index, binWidth * (index + 1)];\n}\n\n//  sturges \nfunction sturges(values: Array<number>): number {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n/**\n * \n * @param data\n * @param binField\n * @param binWidth\n * @param binNumber\n * @param stackField\n */\nexport function binHistogram(data: Data, binField: string, binWidth: number, binNumber?: number, stackField?: string) {\n  const originData_copy = clone(data);\n\n  //  binField \n  sortBy(originData_copy, binField);\n\n  //  binField  range\n  const values = valuesOfKey(originData_copy, binField);\n  const range = getRange(values);\n  const rangeWidth = range.max - range.min;\n\n  //  binWidth binNumber  binWidth \n  let _binWidth = binWidth;\n  if (!binWidth && binNumber) {\n    _binWidth = binNumber > 1 ? rangeWidth / (binNumber - 1) : range.max;\n  }\n  //  binWidth  binNumber  Sturges formula  binWidth\n  if (!binWidth && !binNumber) {\n    const _defaultBinNumber = sturges(values);\n    _binWidth = rangeWidth / _defaultBinNumber;\n  }\n  //  key - StatisticData \n  const bins: StatisticBin = {};\n  const groups = groupBy(originData_copy, stackField);\n  //  stackField \n  if (isEmpty(groups)) {\n    each(originData_copy, (data: any) => {\n      const value = data[binField];\n      const bin = getBinKey(value, _binWidth, binNumber);\n      const binKey = `${bin[0]}-${bin[1]}`;\n      if (!hasKey(bins, binKey)) {\n        bins[binKey] = { range: bin, count: 0 };\n      }\n      bins[binKey].count += 1;\n    });\n  } else {\n    Object.keys(groups).forEach((groupKey: string) => {\n      each(groups[groupKey], (data: any) => {\n        const value = data[binField];\n        const bin = getBinKey(value, _binWidth, binNumber);\n        const binKey = `${bin[0]}-${bin[1]}`;\n        const groupKeyBinKey = `${binKey}-${groupKey}`;\n        if (!hasKey(bins, groupKeyBinKey)) {\n          bins[groupKeyBinKey] = { range: bin, count: 0 };\n          bins[groupKeyBinKey][stackField] = groupKey;\n        }\n        bins[groupKeyBinKey].count += 1;\n      });\n    });\n  }\n  //  plotData \n  const plotData: Array<StatisticData> = [];\n  each(bins, (bin: StatisticData) => {\n    plotData.push(bin);\n  });\n  return plotData;\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**  xField */\nexport const HISTOGRAM_X_FIELD = 'range';\n/**  yField */\nexport const HISTOGRAM_Y_FIELD = 'count';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  columnStyle: {\n    stroke: '#FFFFFF',\n  },\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme, scale, state } from '../../adaptor/common';\nimport { pattern } from '../../adaptor/pattern';\nimport { findGeometry, deepAssign } from '../../utils';\nimport { flow, transformLabel } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { binHistogram } from '../../utils/transform/histogram';\nimport { HistogramOptions } from './types';\nimport { HISTOGRAM_X_FIELD, HISTOGRAM_Y_FIELD } from './constant';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { data, binField, binNumber, binWidth, color, stackField, legend, columnStyle } = options;\n\n  // \n  const plotData = binHistogram(data, binField, binWidth, binNumber, stackField);\n\n  chart.data(plotData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: HISTOGRAM_X_FIELD,\n      yField: HISTOGRAM_Y_FIELD,\n      seriesField: stackField,\n      isStack: true,\n      interval: {\n        color,\n        style: columnStyle,\n      },\n    },\n  });\n\n  interval(p);\n\n  // \n  if (legend && stackField) {\n    chart.legend(stackField, legend);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { options } = params;\n  const { xAxis, yAxis } = options;\n\n  return flow(\n    scale({\n      [HISTOGRAM_X_FIELD]: xAxis,\n      [HISTOGRAM_Y_FIELD]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(HISTOGRAM_X_FIELD, false);\n  } else {\n    chart.axis(HISTOGRAM_X_FIELD, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(HISTOGRAM_Y_FIELD, false);\n  } else {\n    chart.axis(HISTOGRAM_Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [HISTOGRAM_Y_FIELD],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<HistogramOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('columnStyle'),\n    geometry,\n    meta,\n    axis,\n    state,\n    label,\n    tooltip,\n    interaction,\n    animation\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { binHistogram } from '../../utils/transform/histogram';\nimport { HistogramOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { HistogramOptions };\n\nexport class Histogram extends Plot<HistogramOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<HistogramOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'histogram';\n\n  public changeData(data: HistogramOptions['data']) {\n    this.updateOption({ data });\n\n    const { binField, binNumber, binWidth, stackField } = this.options;\n    this.chart.changeData(binHistogram(data, binField, binWidth, binNumber, stackField));\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions() {\n    return Histogram.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<HistogramOptions> {\n    return adaptor;\n  }\n}\n","export const DEFAULT_COLOR = ['#FAAD14', '#E8EDF3'];\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0.2,\n  color: DEFAULT_COLOR,\n  animation: {},\n};\n","import { clamp } from '@antv/util';\nimport { isRealNumber } from '../../utils/number';\n\n/**\n * \n */\nexport function getProgressData(percent: number) {\n  const clampPercent = clamp(isRealNumber(percent) ? percent : 0, 0, 1);\n  return [\n    {\n      type: 'current',\n      percent: clampPercent,\n    },\n    {\n      type: 'target',\n      percent: 1 - clampPercent,\n    },\n  ];\n}\n","import { isString } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { scale, animation, theme, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { ProgressOptions } from './types';\nimport { DEFAULT_COLOR } from './constants';\nimport { getProgressData } from './utils';\n\n/**\n * \n * @param params\n */\nexport function geometry(params: Params<ProgressOptions>): Params<ProgressOptions> {\n  const { chart, options } = params;\n  const { percent, progressStyle, color, barWidthRatio } = options;\n\n  chart.data(getProgressData(percent));\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: '1',\n      yField: 'percent',\n      seriesField: 'type',\n      isStack: true,\n      widthRatio: barWidthRatio,\n      interval: {\n        style: progressStyle,\n        color: isString(color) ? [color, DEFAULT_COLOR[1]] : color,\n      },\n      args: {\n        zIndexReversed: true,\n        sortZIndex: true,\n      },\n    },\n  });\n\n  interval(p);\n\n  // \n  chart.tooltip(false);\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * other \n * @param params\n */\nfunction coordinate(params: Params<ProgressOptions>): Params<ProgressOptions> {\n  const { chart } = params;\n\n  chart.coordinate('rect').transpose();\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ProgressOptions>) {\n  // @ts-ignore\n  return flow(geometry, scale({}), coordinate, animation, theme, annotation())(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { ProgressOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getProgressData } from './utils';\n\nexport type { ProgressOptions };\n\nexport class Progress extends Plot<ProgressOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ProgressOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'process';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.updateOption({ percent });\n    this.chart.changeData(getProgressData(percent));\n  }\n\n  protected getDefaultOptions() {\n    return Progress.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ProgressOptions> {\n    return adaptor;\n  }\n}\n","import { get, isNil } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, renderStatistic } from '../../utils';\nimport { scale, animation, theme, annotation } from '../../adaptor/common';\nimport { geometry } from '../progress/adaptor';\nimport { RingProgressOptions } from './types';\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<RingProgressOptions>): Params<RingProgressOptions> {\n  const { chart, options } = params;\n  const { innerRadius, radius } = options;\n\n  // coordinate\n  chart.coordinate('theta', {\n    innerRadius,\n    radius,\n  });\n\n  return params;\n}\n\n/**\n * statistic \n * @param params\n */\nexport function statistic(params: Params<RingProgressOptions>, updated?: boolean): Params<RingProgressOptions> {\n  const { chart, options } = params;\n  const { innerRadius, statistic, percent, meta } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n\n  /**   */\n  if (innerRadius && statistic) {\n    const metaFormatter = get(meta, ['percent', 'formatter']) || ((v) => `${(v * 100).toFixed(2)}%`);\n    let contentOpt = statistic.content;\n    if (contentOpt) {\n      contentOpt = deepAssign({}, contentOpt, {\n        content: !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(percent),\n      });\n    }\n    renderStatistic(\n      chart,\n      { statistic: { ...statistic, content: contentOpt }, plotType: 'ring-progress' },\n      { percent }\n    );\n  }\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RingProgressOptions>) {\n  return flow(geometry, scale({}), coordinate, statistic, animation, theme, annotation())(params);\n}\n","/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0.2,\n  innerRadius: 0.8,\n  radius: 0.98,\n  color: ['#FAAD14', '#E8EDF3'],\n  statistic: {\n    title: false as const,\n    content: {\n      style: {\n        fontSize: '14px',\n        fontWeight: 300,\n        fill: '#4D4D4D',\n        textAlign: 'center' as const,\n        textBaseline: 'middle' as const,\n      },\n    },\n  },\n  animation: {},\n};\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getProgressData } from '../progress/utils';\nimport { RingProgressOptions } from './types';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { RingProgressOptions };\n\nexport class RingProgress extends Plot<RingProgressOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<RingProgressOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'ring-process';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    this.updateOption({ percent });\n\n    this.chart.data(getProgressData(percent));\n    // todo  G2  afterrender  annotations\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  protected getDefaultOptions() {\n    return RingProgress.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RingProgressOptions> {\n    return adaptor;\n  }\n}\n","import { get } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry } from '../../utils';\nimport { flow, transformLabel } from '../../utils';\nimport { tooltip, interaction, animation, theme, scale, annotation, state, pattern } from '../../adaptor/common';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { HeatmapOptions } from './types';\n\nfunction geometry(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { data, type, xField, yField, colorField, sizeField, sizeRatio, shape, color, tooltip, heatmapStyle } = options;\n\n  chart.data(data);\n  let geometryType = 'polygon';\n  if (type === 'density') {\n    geometryType = 'heatmap';\n  }\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, colorField]);\n\n  /**\n   * The ratio between the actual size and the max available size, must be in range `[0,1]`.\n   *\n   * If the `sizeRatio` attribute is undefined or it exceeds the range,\n   * `checkedSizeRatio` would be set to 1 as default.\n   */\n  let checkedSizeRatio = 1;\n  if (sizeRatio || sizeRatio === 0) {\n    if (!shape && !sizeField) {\n      console.warn('sizeRatio is not in effect: Must define shape or sizeField first');\n    } else if (sizeRatio < 0 || sizeRatio > 1) {\n      console.warn('sizeRatio is not in effect: It must be a number in [0,1]');\n    } else {\n      checkedSizeRatio = sizeRatio;\n    }\n  }\n\n  geometryAdaptor(\n    deepAssign({}, params, {\n      options: {\n        type: geometryType,\n        colorField,\n        tooltipFields: fields,\n        shapeField: sizeField || '',\n        label: undefined,\n        mapping: {\n          tooltip: formatter,\n          shape:\n            shape &&\n            (sizeField\n              ? (dautm) => {\n                  const field = data.map((row) => row[sizeField]);\n                  const min = Math.min(...field);\n                  const max = Math.max(...field);\n                  return [shape, (get(dautm, sizeField) - min) / (max - min), checkedSizeRatio];\n                }\n              : () => [shape, 1, checkedSizeRatio]),\n          color: color || (colorField && chart.getTheme().sequenceColors.join('-')),\n          style: heatmapStyle,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { legend, colorField, sizeField, sizeLegend } = options;\n\n  /** legend  false, ,  color  */\n  const showLegend = legend !== false;\n\n  if (colorField) {\n    chart.legend(colorField, showLegend ? legend : false);\n  }\n\n  // :  sizeField  sizeLegend.  legend \n  if (sizeField) {\n    chart.legend(sizeField, sizeLegend === undefined ? legend : sizeLegend);\n  }\n\n  /**  sizeField */\n  if (!showLegend && !sizeLegend) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * fixme \n * \n * @param params\n */\nfunction label(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { label, colorField, type } = options;\n\n  const geometry = findGeometry(chart, type === 'density' ? 'heatmap' : 'polygon');\n\n  if (!label) {\n    geometry.label(false);\n  } else if (colorField) {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [colorField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction coordinate(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { coordinate, reflect } = options;\n\n  if (coordinate) {\n    chart.coordinate({\n      type: coordinate.type || 'rect',\n      cfg: coordinate.cfg,\n    });\n  }\n\n  if (reflect) {\n    chart.coordinate().reflect(reflect);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<HeatmapOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('heatmapStyle'),\n    meta,\n    coordinate,\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    label,\n    annotation(),\n    interaction,\n    animation,\n    state\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  type: 'polygon',\n  legend: false,\n  coordinate: {\n    type: 'rect',\n  },\n  xAxis: {\n    tickLine: null,\n    line: null,\n    grid: {\n      alignTick: false,\n      line: {\n        style: {\n          lineWidth: 1,\n          lineDash: null,\n          stroke: '#f0f0f0',\n        },\n      },\n    },\n  },\n  yAxis: {\n    grid: {\n      alignTick: false,\n      line: {\n        style: {\n          lineWidth: 1,\n          lineDash: null,\n          stroke: '#f0f0f0',\n        },\n      },\n    },\n  },\n});\n","import { registerShape, Types, IGroup } from '@antv/g2';\n\nregisterShape('polygon', 'circle', {\n  draw(cfg: Types.ShapeInfo, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const points = this.parsePoints(cfg.points);\n    const width = Math.abs(points[2].x - points[1].x);\n    const height = Math.abs(points[1].y - points[0].y);\n    const maxRadius = Math.min(width, height) / 2;\n\n    const value = Number(cfg.shape[1]);\n    const sizeRatio = Number(cfg.shape[2]);\n    const radiusRatio = Math.sqrt(sizeRatio);\n    const radius = maxRadius * radiusRatio * Math.sqrt(value);\n    const fill = cfg.style?.fill || cfg.color || cfg.defaultStyle?.fill;\n    const polygon = group.addShape('circle', {\n      attrs: {\n        x: cx,\n        y: cy,\n        r: radius,\n        ...cfg.defaultStyle,\n        ...cfg.style,\n        fill,\n      },\n    });\n    return polygon;\n  },\n});\n","import { registerShape, Types, IGroup } from '@antv/g2';\n\nregisterShape('polygon', 'square', {\n  draw(cfg: Types.ShapeInfo, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const points = this.parsePoints(cfg.points);\n    const width = Math.abs(points[2].x - points[1].x);\n    const height = Math.abs(points[1].y - points[0].y);\n    const maxSideLength = Math.min(width, height);\n\n    const value = Number(cfg.shape[1]);\n    const sizeRatio = Number(cfg.shape[2]);\n    const lenRatio = Math.sqrt(sizeRatio);\n    const sideLength = maxSideLength * lenRatio * Math.sqrt(value);\n    const fill = cfg.style?.fill || cfg.color || cfg.defaultStyle?.fill;\n    const polygon = group.addShape('rect', {\n      attrs: {\n        x: cx - sideLength / 2,\n        y: cy - sideLength / 2,\n        width: sideLength,\n        height: sideLength,\n        ...cfg.defaultStyle,\n        ...cfg.style,\n        fill,\n      },\n    });\n    return polygon;\n  },\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { HeatmapOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n// registered shapes\nimport './shapes/circle';\nimport './shapes/square';\n\nexport type { HeatmapOptions };\n\nexport class Heatmap extends Plot<HeatmapOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<HeatmapOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'heatmap';\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<HeatmapOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Heatmap.getDefaultOptions();\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\nexport const BOX_RANGE = '$$range$$';\nexport const BOX_RANGE_ALIAS = 'low-q1-median-q3-high';\n\nexport const BOX_SYNC_NAME = '$$y_outliers$$';\n\nexport const OUTLIERS_VIEW_ID = 'outliers_view';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  meta: {\n    [BOX_RANGE]: { min: 0, alias: BOX_RANGE_ALIAS },\n  },\n\n  // \n  interactions: [{ type: 'active-region' }],\n\n  //  tooltips  markers\n  tooltip: {\n    showMarkers: false,\n    shared: true,\n  },\n  boxStyle: {\n    lineWidth: 1,\n  },\n});\n","import { map } from '@antv/util';\nimport { BOX_RANGE } from './constant';\nimport { BoxOptions } from './types';\n\n/**\n * @desc  box ,yField,datadata,data\n * @param data\n * @param yField\n */\nexport const transformData = (data: BoxOptions['data'], yField: BoxOptions['yField']) => {\n  let newData = data;\n  // formate data when `yField` is Array\n  if (Array.isArray(yField)) {\n    const [low, q1, median, q3, high] = yField;\n    newData = map(data, (obj) => {\n      obj[BOX_RANGE] = [obj[low], obj[q1], obj[median], obj[q3], obj[high]];\n      return obj;\n    });\n  }\n\n  return newData;\n};\n","import { isArray } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, tooltip } from '../../adaptor/common';\nimport { point, schema } from '../../adaptor/geometries';\nimport { flow, pick, deepAssign } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { BoxOptions } from './types';\nimport { BOX_RANGE, BOX_SYNC_NAME, OUTLIERS_VIEW_ID } from './constant';\nimport { transformData } from './utils';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xField, yField, groupField, color, tooltip, boxStyle } = options;\n\n  chart.data(transformData(options.data, yField));\n\n  const yFieldName = isArray(yField) ? BOX_RANGE : yField;\n  const rawFields = yField ? (isArray(yField) ? yField : [yField]) : [];\n\n  let tooltipOptions = tooltip;\n  if (tooltipOptions !== false) {\n    tooltipOptions = deepAssign({}, { fields: isArray(yField) ? yField : [] }, tooltipOptions);\n  }\n\n  const { ext } = schema(\n    deepAssign({}, params, {\n      options: {\n        xField,\n        yField: yFieldName,\n        seriesField: groupField,\n        tooltip: tooltipOptions,\n        rawFields,\n        //  label\n        label: false,\n        schema: {\n          shape: 'box',\n          color,\n          style: boxStyle,\n        },\n      },\n    })\n  );\n\n  if (groupField) {\n    ext.geometry.adjust('dodge');\n  }\n\n  return params;\n}\n\n/**\n *  view\n */\nfunction outliersPoint(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xField, data, outliersField, outliersStyle, padding, label } = options;\n\n  if (!outliersField) return params;\n\n  const outliersView = chart.createView({ padding, id: OUTLIERS_VIEW_ID });\n  const outliersViewData = data.reduce((ret, datum) => {\n    const outliersData = datum[outliersField];\n    outliersData.forEach((d) => ret.push({ ...datum, [outliersField]: d }));\n    return ret;\n  }, []) as Types.Datum[];\n\n  outliersView.data(outliersViewData);\n  point({\n    chart: outliersView,\n    options: {\n      xField,\n      yField: outliersField,\n      point: { shape: 'circle', style: outliersStyle },\n      label,\n    },\n  });\n\n  outliersView.axis(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis, xField, yField, outliersField } = options;\n  const yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n\n  let baseMeta = {};\n\n  // make yField and outliersField share y mate\n  if (outliersField) {\n    const syncName = BOX_SYNC_NAME;\n    baseMeta = {\n      [outliersField]: { sync: syncName, nice: true },\n      [yFieldName]: { sync: syncName, nice: true },\n    };\n  }\n\n  const scales = deepAssign(baseMeta, meta, {\n    [xField]: pick(xAxis, AXIS_META_CONFIG_KEYS),\n    [yFieldName]: pick(yAxis, AXIS_META_CONFIG_KEYS),\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n  const yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(BOX_RANGE, false);\n  } else {\n    chart.axis(yFieldName, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { legend, groupField } = options;\n\n  if (groupField) {\n    if (legend) {\n      chart.legend(groupField, legend);\n    } else {\n      // Grouped Box Chart default has legend, and it's position is `bottom`\n      chart.legend(groupField, { position: 'bottom' });\n    }\n  } else {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<BoxOptions>) {\n  return flow(field, outliersPoint, meta, axis, legend, tooltip, interaction, animation, theme)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { BoxOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { transformData } from './utils';\nimport { DEFAULT_OPTIONS, OUTLIERS_VIEW_ID } from './constant';\nexport type { BoxOptions };\n\nexport class Box extends Plot<BoxOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<BoxOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'box';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    const { yField } = this.options;\n\n    const outliersView = this.chart.views.find((v) => v.id === OUTLIERS_VIEW_ID);\n    if (outliersView) {\n      outliersView.data(data);\n    }\n\n    this.chart.changeData(transformData(data, yField));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<BoxOptions> {\n    return Box.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<BoxOptions> {\n    return adaptor;\n  }\n}\n","// from https://github.com/simple-statistics\n\n/**\n * This is the internal implementation of quantiles: when you know\n * that the order is sorted, you don't need to re-sort it, and the computations\n * are faster.\n *\n * @param {Array<number>} x sample of one or more data points\n * @param {number} p desired quantile: a number between 0 to 1, inclusive\n * @returns {number} quantile value\n * @throws {Error} if p ix outside of the range from 0 to 1\n * @throws {Error} if x is empty\n * @example\n * quantileSorted([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nexport function quantileSorted(x: number[], p: number) {\n  const idx = x.length * p;\n  if (x.length === 0) {\n    throw new Error('quantile requires at least one data point.');\n  } else if (p < 0 || p > 1) {\n    throw new Error('quantiles must be between 0 and 1');\n  } else if (p === 1) {\n    // If p is 1, directly return the last element\n    return x[x.length - 1];\n  } else if (p === 0) {\n    // If p is 0, directly return the first element\n    return x[0];\n  } else if (idx % 1 !== 0) {\n    // If p is not integer, return the next element in array\n    return x[Math.ceil(idx) - 1];\n  } else if (x.length % 2 === 0) {\n    // If the list has even-length, we'll take the average of this number\n    // and the next value, if there is one\n    return (x[idx - 1] + x[idx]) / 2;\n  } else {\n    // Finally, in the simple case of an integer value\n    // with an odd-length list, return the x value at the index.\n    return x[idx];\n  }\n}\n\n/**\n * \n * @param arr T[]\n * @param i number\n * @param j number\n */\nexport function swap<T = any>(arr: T[], i: number, j: number): void {\n  const tmp = arr[i];\n  arr[i] = arr[j];\n  arr[j] = tmp;\n}\n\n/**\n * Rearrange items in `arr` so that all items in `[left, k]` range are the smallest.\n * The `k`-th element will have the `(k - left + 1)`-th smallest value in `[left, right]`.\n *\n * Implements Floyd-Rivest selection algorithm https://en.wikipedia.org/wiki/Floyd-Rivest_algorithm\n *\n * @param {Array<number>} arr input array\n * @param {number} k pivot index\n * @param {number} [left] left index\n * @param {number} [right] right index\n * @returns {void} mutates input array\n * @example\n * var arr = [65, 28, 59, 33, 21, 56, 22, 95, 50, 12, 90, 53, 28, 77, 39];\n * quickselect(arr, 8);\n * // = [39, 28, 28, 33, 21, 12, 22, 50, 53, 56, 59, 65, 90, 77, 95]\n */\nexport function quickselect(arr: number[], k, left?: number, right?: number): void {\n  left = left || 0;\n  right = right || arr.length - 1;\n\n  while (right > left) {\n    // 600 and 0.5 are arbitrary constants chosen in the original paper to minimize execution time\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp((2 * z) / 3);\n      let sd = 0.5 * Math.sqrt((z * s * (n - s)) / n);\n      if (m - n / 2 < 0) sd *= -1;\n      const newLeft = Math.max(left, Math.floor(k - (m * s) / n + sd));\n      const newRight = Math.min(right, Math.floor(k + ((n - m) * s) / n + sd));\n      quickselect(arr, k, newLeft, newRight);\n    }\n\n    const t = arr[k];\n    let i = left;\n    let j = right;\n\n    swap(arr, left, k);\n    if (arr[right] > t) swap(arr, left, right);\n\n    while (i < j) {\n      swap(arr, i, j);\n      i++;\n      j--;\n      while (arr[i] < t) i++;\n      while (arr[j] > t) j--;\n    }\n\n    if (arr[left] === t) swap(arr, left, j);\n    else {\n      j++;\n      swap(arr, j, right);\n    }\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n}\n\n/**\n * The [quantile](https://en.wikipedia.org/wiki/Quantile):\n * this is a population quantile, since we assume to know the entire\n * dataset in this library. This is an implementation of the\n * [Quantiles of a Population](http://en.wikipedia.org/wiki/Quantile#Quantiles_of_a_population)\n * algorithm from wikipedia.\n *\n * Sample is a one-dimensional array of numbers,\n * and p is either a decimal number from 0 to 1 or an array of decimal\n * numbers from 0 to 1.\n * In terms of a k/q quantile, p = k/q - it's just dealing with fractions or dealing\n * with decimal values.\n * When p is an array, the result of the function is also an array containing the appropriate\n * quantiles in input order\n *\n * @param {Array<number>} x sample of one or more numbers\n * @param {Array<number> | number} p the desired quantile, as a number between 0 and 1\n * @returns {number} quantile\n * @example\n * quantile([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nfunction quantile(x: number[], p: number): number;\nfunction quantile(x: number[], p: number[]): number[];\nfunction quantile(x: any, p: any): any {\n  const copy = x.slice();\n\n  if (Array.isArray(p)) {\n    // rearrange elements so that each element corresponding to a requested\n    // quantile is on a place it would be if the array was fully sorted\n    multiQuantileSelect(copy, p);\n    // Initialize the result array\n    const results: number[] = [];\n    // For each requested quantile\n    for (let i = 0; i < p.length; i++) {\n      results[i] = quantileSorted(copy, p[i]);\n    }\n    return results;\n  } else {\n    const idx = quantileIndex(copy.length, p);\n    quantileSelect(copy, idx, 0, copy.length - 1);\n    return quantileSorted(copy, p);\n  }\n}\n\nfunction quantileSelect(arr, k, left, right) {\n  if (k % 1 === 0) {\n    quickselect(arr, k, left, right);\n  } else {\n    k = Math.floor(k);\n    quickselect(arr, k, left, right);\n    quickselect(arr, k + 1, k + 1, right);\n  }\n}\n\nfunction multiQuantileSelect(arr, p) {\n  const indices = [0];\n  for (let i = 0; i < p.length; i++) {\n    indices.push(quantileIndex(arr.length, p[i]));\n  }\n  indices.push(arr.length - 1);\n  indices.sort(compare);\n\n  const stack = [0, indices.length - 1];\n\n  while (stack.length) {\n    const r = Math.ceil(stack.pop());\n    const l = Math.floor(stack.pop());\n    if (r - l <= 1) continue;\n\n    const m = Math.floor((l + r) / 2);\n    quantileSelect(arr, indices[m], Math.floor(indices[l]), Math.ceil(indices[r]));\n\n    stack.push(l, m, m, r);\n  }\n}\n\nfunction compare(a, b) {\n  return a - b;\n}\n\nfunction quantileIndex(len, p) {\n  const idx = len * p;\n  if (p === 1) {\n    // If p is 1, directly return the last index\n    return len - 1;\n  } else if (p === 0) {\n    // If p is 0, directly return the first index\n    return 0;\n  } else if (idx % 1 !== 0) {\n    // If index is not integer, return the next index in array\n    return Math.ceil(idx) - 1;\n  } else if (len % 2 === 0) {\n    // If the list has even-length, we'll return the middle of two indices\n    // around quantile to indicate that we need an average value of the two\n    return idx - 0.5;\n  } else {\n    // Finally, in the simple case of an integer index\n    // with an odd-length list, return the index\n    return idx;\n  }\n}\n\nexport { quantile };\n","import { groupBy, min, max } from '@antv/util';\nimport pdf from 'pdfast';\nimport { quantile } from '../../utils/transform/quantile';\nimport { ViolinOptions } from './types';\n\nexport type ViolinData = {\n  /** X */\n  x: string;\n\n  /**  size  */\n  violinSize: number[];\n  /**  y  */\n  violinY: number[];\n\n  // \n  /**  */\n  high: number;\n  /**  */\n  low: number;\n  /**  */\n  q1: number;\n  /**  */\n  q3: number;\n  /**  */\n  median: number[];\n\n  /**  */\n  minMax: number[];\n  /**  */\n  quantile: number[];\n};\n\nexport type PdfOptions = {\n  min: number;\n  max: number;\n  size: number;\n  width: number;\n};\n\nexport const toBoxValue = (values: number[]) => {\n  return {\n    low: min(values),\n    high: max(values),\n    q1: quantile(values, 0.25),\n    q3: quantile(values, 0.75),\n    median: quantile(values, [0.5]),\n    minMax: [min(values), max(values)],\n    quantile: [quantile(values, 0.25), quantile(values, 0.75)],\n  };\n};\n\nexport const toViolinValue = (values: number[], pdfOptions: PdfOptions) => {\n  const pdfResults: Array<{ x: number; y: number }> = pdf.create(values, pdfOptions);\n  return {\n    violinSize: pdfResults.map((result) => result.y),\n    violinY: pdfResults.map((result) => result.x),\n  };\n};\n\nexport const transformViolinData = (options: ViolinOptions): ViolinData[] => {\n  const { xField, yField, seriesField, data, kde } = options;\n\n  /**  */\n  const pdfOptions: PdfOptions = {\n    min: kde.min,\n    max: kde.max,\n    size: kde.sampleSize,\n    width: kde.width,\n  };\n\n  // \n  if (!seriesField) {\n    const group = groupBy(data, xField);\n    return Object.keys(group).map((x) => {\n      const records = group[x];\n      const values = records.map((record) => record[yField]);\n      return {\n        x,\n        ...toViolinValue(values, pdfOptions),\n        ...toBoxValue(values),\n      };\n    });\n  }\n\n  // \n  const resultList: ViolinData[] = [];\n  const seriesGroup = groupBy(data, seriesField);\n  Object.keys(seriesGroup).forEach((series) => {\n    const group = groupBy(seriesGroup[series], xField);\n    return Object.keys(group).forEach((key) => {\n      const records = group[key];\n      const values = records.map((record) => record[yField]);\n      resultList.push({\n        x: key,\n        [seriesField]: series,\n        ...toViolinValue(values, pdfOptions),\n        ...toBoxValue(values),\n      });\n    });\n  });\n  return resultList;\n};\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { ViolinOptions } from './types';\n\nexport const X_FIELD = 'x';\nexport const VIOLIN_Y_FIELD = 'violinY';\nexport const VIOLIN_SIZE_FIELD = 'violinSize';\nexport const MIN_MAX_FIELD = 'minMax';\nexport const QUANTILE_FIELD = 'quantile';\nexport const MEDIAN_FIELD = 'median';\n\nexport const VIOLIN_VIEW_ID = 'violin_view';\nexport const MIN_MAX_VIEW_ID = 'min_max_view';\nexport const QUANTILE_VIEW_ID = 'quantile_view';\nexport const MEDIAN_VIEW_ID = 'median_view';\n\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  //  view  view padding \n  syncViewPadding: true,\n  // \n  kde: {\n    type: 'triangular',\n    sampleSize: 32,\n    width: 3,\n  },\n\n  // \n  violinStyle: {\n    lineWidth: 1,\n    fillOpacity: 0.3,\n    strokeOpacity: 0.75,\n  },\n  // \n  xAxis: {\n    grid: {\n      line: null,\n    },\n    tickLine: {\n      alignTick: false,\n    },\n  },\n  yAxis: {\n    grid: {\n      line: {\n        style: {\n          lineWidth: 0.5,\n          lineDash: [4, 4],\n        },\n      },\n    },\n  },\n  // \n  legend: {\n    position: 'top-left',\n  },\n  // Tooltip\n  tooltip: {\n    showMarkers: false,\n  },\n  // \n  // interactions: [{ type: 'active-region' }],\n} as Partial<ViolinOptions>);\n","import { Geometry } from '@antv/g2';\nimport { get, set, omit, each } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { interaction, theme, tooltip, annotation as baseAnnotation } from '../../adaptor/common';\nimport { interval, point, violin } from '../../adaptor/geometries';\nimport { flow, pick, deepAssign, findViewById } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { ViolinOptions } from './types';\nimport { transformViolinData } from './utils';\nimport {\n  MEDIAN_FIELD,\n  MEDIAN_VIEW_ID,\n  MIN_MAX_FIELD,\n  MIN_MAX_VIEW_ID,\n  QUANTILE_FIELD,\n  QUANTILE_VIEW_ID,\n  VIOLIN_SIZE_FIELD,\n  VIOLIN_VIEW_ID,\n  VIOLIN_Y_FIELD,\n  X_FIELD,\n} from './constant';\n\nconst TOOLTIP_FIELDS = ['low', 'high', 'q1', 'q3', 'median'];\n\nconst adjustCfg = [\n  {\n    type: 'dodge',\n    marginRatio: 1 / 32,\n  } as const,\n];\n\n/**  */\nfunction data(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  chart.data(transformViolinData(options));\n  return params;\n}\n\n/**  */\nfunction violinView(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { seriesField, color, shape = 'violin', violinStyle, tooltip, state } = options;\n\n  const view = chart.createView({ id: VIOLIN_VIEW_ID });\n  violin({\n    chart: view,\n    options: {\n      xField: X_FIELD,\n      yField: VIOLIN_Y_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      sizeField: VIOLIN_SIZE_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      violin: {\n        style: violinStyle,\n        color,\n        shape,\n      },\n      state,\n    },\n  });\n  view.geometries[0].adjust(adjustCfg);\n\n  return params;\n}\n\n/**  */\nfunction boxView(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { seriesField, color, tooltip, box } = options;\n\n  //  `box`  false \n  if (box === false) return params;\n\n  // \n  const minMaxView = chart.createView({ id: MIN_MAX_VIEW_ID });\n  interval({\n    chart: minMaxView,\n    options: {\n      xField: X_FIELD,\n      yField: MIN_MAX_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      interval: {\n        color,\n        size: 1,\n        style: {\n          lineWidth: 0,\n        },\n      },\n    },\n  });\n  minMaxView.geometries[0].adjust(adjustCfg);\n\n  // \n  const quantileView = chart.createView({ id: QUANTILE_VIEW_ID });\n  interval({\n    chart: quantileView,\n    options: {\n      xField: X_FIELD,\n      yField: QUANTILE_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      interval: {\n        color,\n        size: 8,\n        style: {\n          fillOpacity: 1,\n        },\n      },\n    },\n  });\n  quantileView.geometries[0].adjust(adjustCfg);\n\n  // \n  const medianView = chart.createView({ id: MEDIAN_VIEW_ID });\n  point({\n    chart: medianView,\n    options: {\n      xField: X_FIELD,\n      yField: MEDIAN_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      point: {\n        color,\n        size: 1,\n        style: {\n          fill: 'white',\n          lineWidth: 0,\n        },\n      },\n    },\n  });\n  medianView.geometries[0].adjust(adjustCfg);\n\n  //  view \n  quantileView.axis(false);\n  minMaxView.axis(false);\n  medianView.axis(false);\n\n  //  view \n  medianView.legend(false);\n  minMaxView.legend(false);\n  quantileView.legend(false);\n\n  return params;\n}\n\n/**\n * meta \n */\nfunction meta(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis } = options;\n\n  const baseMeta = {};\n\n  const scales = deepAssign(baseMeta, meta, {\n    [X_FIELD]: {\n      sync: true,\n      ...pick(xAxis, AXIS_META_CONFIG_KEYS),\n      // fix:  dodge is not support linear attribute, please use category attribute!\n      //  x \n      type: 'cat',\n    },\n    [VIOLIN_Y_FIELD]: {\n      sync: true,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [MIN_MAX_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [QUANTILE_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [MEDIAN_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n */\nfunction axis(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis } = options;\n\n  const view = findViewById(chart, VIOLIN_VIEW_ID);\n\n  //  false \n  if (xAxis === false) {\n    view.axis(X_FIELD, false);\n  } else {\n    view.axis(X_FIELD, xAxis);\n  }\n\n  if (yAxis === false) {\n    view.axis(VIOLIN_Y_FIELD, false);\n  } else {\n    view.axis(VIOLIN_Y_FIELD, yAxis);\n  }\n\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n *\n * @param params\n * @returns\n */\nfunction legend(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField, shape } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    const legendField = seriesField ? seriesField : X_FIELD;\n    // fixme \n    const legendOptions = omit(legend as any, ['selected']);\n    if (!shape || !shape.startsWith('hollow')) {\n      if (!get(legendOptions, ['marker', 'style', 'lineWidth'])) {\n        set(legendOptions, ['marker', 'style', 'lineWidth'], 0);\n      }\n    }\n    chart.legend(legendField, legendOptions);\n    //  fixme G2 \n    if (get(legend, 'selected')) {\n      each(chart.views, (view) => view.legend(legendField, legend));\n    }\n  }\n\n  return params;\n}\n\n/**\n * annotation, apply to violin view.\n * @param params\n * @returns\n */\nfunction annotation(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart } = params;\n\n  const violinView = findViewById(chart, VIOLIN_VIEW_ID);\n  baseAnnotation()({ ...params, chart: violinView });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  Geometry \n  each(chart.views, (view) => {\n    //  view \n    if (typeof animation === 'boolean') {\n      view.animate(animation);\n    } else {\n      view.animate(true);\n    }\n\n    each(view.geometries, (g: Geometry) => {\n      g.animate(animation);\n    });\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<ViolinOptions>) {\n  return flow(\n    theme,\n    data,\n    violinView,\n    boxView,\n    meta,\n    tooltip,\n    axis,\n    legend,\n    interaction,\n    annotation,\n    animation\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { ViolinOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { transformViolinData } from './utils';\nexport type { ViolinOptions };\n\nexport class Violin extends Plot<ViolinOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<ViolinOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'violin';\n\n  /**\n   * @override\n   */\n  public changeData(data: ViolinOptions['data']) {\n    this.updateOption({ data });\n    this.chart.changeData(transformViolinData(this.options));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<ViolinOptions> {\n    return Violin.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ViolinOptions> {\n    return adaptor;\n  }\n}\n","import colorUtil from '@antv/color-util';\n/*\n * interpolates between a set of colors uzing a bezier spline\n * blend mode formulas taken from http://www.venture-ware.com/kevin/coding/lets-learn-math-photoshop-blend-modes/\n */\n\nconst each =\n  (f) =>\n  (c0: number[], c1: number[]): number[] => {\n    const out = [];\n    out[0] = f(c0[0], c1[0]);\n    out[1] = f(c0[1], c1[1]);\n    out[2] = f(c0[2], c1[2]);\n    return out;\n  };\n\n/**\n * \n */\nconst blendObject = {\n  normal: (a: number) => a,\n  multiply: (a: number, b: number) => (a * b) / 255,\n  screen: (a: number, b: number) => 255 * (1 - (1 - a / 255) * (1 - b / 255)),\n  overlay: (a: number, b: number) => (b < 128 ? (2 * a * b) / 255 : 255 * (1 - 2 * (1 - a / 255) * (1 - b / 255))),\n  darken: (a: number, b: number) => (a > b ? b : a),\n  lighten: (a: number, b: number) => (a > b ? a : b),\n  dodge: (a: number, b: number) => {\n    if (a === 255) return 255;\n    a = (255 * (b / 255)) / (1 - a / 255);\n    return a > 255 ? 255 : a;\n  },\n  burn: (a: number, b: number) => {\n    //  w3c  0 \n    if (b === 255) return 255;\n    else if (a === 0) return 0;\n    else return 255 * (1 - Math.min(1, (1 - b / 255) / (a / 255)));\n  },\n};\n\n/**\n * \n */\nexport const innerBlend = (mode: string) => {\n  if (!blendObject[mode]) {\n    throw new Error('unknown blend mode ' + mode);\n  }\n  return blendObject[mode];\n};\n\n/**\n * \n * https://www.w3.org/TR/compositing/#blending\n * @param c0\n * @param c1\n * @param mode \n * @return rbga\n */\nexport function blend(c0: string, c1: string, mode = 'normal') {\n  // blendRgbArr:  blend color: [r, g, b]\n  const blendRgbArr = each(innerBlend(mode))(colorToArr(c0), colorToArr(c1));\n\n  const [r0, g0, b0, a0] = colorToArr(c0);\n  const [r1, g1, b1, a1] = colorToArr(c1);\n\n  const a = Number((a0 + a1 * (1 - a0)).toFixed(2));\n\n  const r = Math.round(\n    ((a0 * (1 - a1) * (r0 / 255) + a0 * a1 * (blendRgbArr[0] / 255) + (1 - a0) * a1 * (r1 / 255)) / a) * 255\n  );\n  const g = Math.round(\n    ((a0 * (1 - a1) * (g0 / 255) + a0 * a1 * (blendRgbArr[1] / 255) + (1 - a0) * a1 * (g1 / 255)) / a) * 255\n  );\n  const b = Math.round(\n    ((a0 * (1 - a1) * (b0 / 255) + a0 * a1 * (blendRgbArr[2] / 255) + (1 - a0) * a1 * (b1 / 255)) / a) * 255\n  );\n\n  return `rgba(${r}, ${g}, ${b}, ${a})`;\n}\n\n/**\n *  [r, g, b, a]\n * https://www.w3.org/TR/compositing/#blending\n * @param c color\n * @return [r, g, b, a]\n */\nexport function colorToArr(c: string): number[] {\n  const color = c.replace('/s+/g', ''); // \n  let rgbaArr: any[];\n\n  // 'red' -> [r, g, b, 1]\n  if (typeof color === 'string' && !color.startsWith('rgba') && !color.startsWith('#')) {\n    return (rgbaArr = colorUtil.rgb2arr(colorUtil.toRGB(color)).concat([1]));\n  }\n\n  // rgba(255, 200, 125, 0.5) -> [r, g, b, a]\n  if (color.startsWith('rgba')) rgbaArr = color.replace('rgba(', '').replace(')', '').split(',');\n\n  // '#fff000' -> [r, g, b, 1]\n  if (color.startsWith('#')) rgbaArr = colorUtil.rgb2arr(color).concat([1]); //  16 6  1\n\n  // [r, g, b, a] \n  return rgbaArr.map((item, index) => (index === 3 ? Number(item) : item | 0));\n}\n","const SMALL = 1e-10;\n\n/** Returns the intersection area of a bunch of circles (where each circle\n is an object having an x,y and radius property) */\nexport function intersectionArea(circles, stats?: any) {\n  // get all the intersection points of the circles\n  const intersectionPoints = getIntersectionPoints(circles);\n\n  // filter out points that aren't included in all the circles\n  const innerPoints = intersectionPoints.filter(function (p) {\n    return containedInCircles(p, circles);\n  });\n\n  let arcArea = 0,\n    polygonArea = 0,\n    i;\n  const arcs = [];\n  // if we have intersection points that are within all the circles,\n  // then figure out the area contained by them\n  if (innerPoints.length > 1) {\n    // sort the points by angle from the center of the polygon, which lets\n    // us just iterate over points to get the edges\n    const center = getCenter(innerPoints);\n    for (i = 0; i < innerPoints.length; ++i) {\n      const p = innerPoints[i];\n      p.angle = Math.atan2(p.x - center.x, p.y - center.y);\n    }\n    innerPoints.sort(function (a, b) {\n      return b.angle - a.angle;\n    });\n\n    // iterate over all points, get arc between the points\n    // and update the areas\n    let p2 = innerPoints[innerPoints.length - 1];\n    for (i = 0; i < innerPoints.length; ++i) {\n      const p1 = innerPoints[i];\n\n      // polygon area updates easily ...\n      polygonArea += (p2.x + p1.x) * (p1.y - p2.y);\n\n      // updating the arc area is a little more involved\n      const midPoint = { x: (p1.x + p2.x) / 2, y: (p1.y + p2.y) / 2 };\n      let arc = null;\n\n      for (let j = 0; j < p1.parentIndex.length; ++j) {\n        if (p2.parentIndex.indexOf(p1.parentIndex[j]) > -1) {\n          // figure out the angle halfway between the two points\n          // on the current circle\n          const circle = circles[p1.parentIndex[j]],\n            a1 = Math.atan2(p1.x - circle.x, p1.y - circle.y),\n            a2 = Math.atan2(p2.x - circle.x, p2.y - circle.y);\n\n          let angleDiff = a2 - a1;\n          if (angleDiff < 0) {\n            angleDiff += 2 * Math.PI;\n          }\n\n          // and use that angle to figure out the width of the\n          // arc\n          const a = a2 - angleDiff / 2;\n          let width = distance(midPoint, {\n            x: circle.x + circle.radius * Math.sin(a),\n            y: circle.y + circle.radius * Math.cos(a),\n          });\n\n          // clamp the width to the largest is can actually be\n          // (sometimes slightly overflows because of FP errors)\n          if (width > circle.radius * 2) {\n            width = circle.radius * 2;\n          }\n\n          // pick the circle whose arc has the smallest width\n          if (arc === null || arc.width > width) {\n            arc = { circle: circle, width: width, p1: p1, p2: p2 };\n          }\n        }\n      }\n\n      if (arc !== null) {\n        arcs.push(arc);\n        arcArea += circleArea(arc.circle.radius, arc.width);\n        p2 = p1;\n      }\n    }\n  } else {\n    // no intersection points, is either disjoint - or is completely\n    // overlapped. figure out which by examining the smallest circle\n    let smallest = circles[0];\n    for (i = 1; i < circles.length; ++i) {\n      if (circles[i].radius < smallest.radius) {\n        smallest = circles[i];\n      }\n    }\n\n    // make sure the smallest circle is completely contained in all\n    // the other circles\n    let disjoint = false;\n    for (i = 0; i < circles.length; ++i) {\n      if (distance(circles[i], smallest) > Math.abs(smallest.radius - circles[i].radius)) {\n        disjoint = true;\n        break;\n      }\n    }\n\n    if (disjoint) {\n      arcArea = polygonArea = 0;\n    } else {\n      arcArea = smallest.radius * smallest.radius * Math.PI;\n      arcs.push({\n        circle: smallest,\n        p1: { x: smallest.x, y: smallest.y + smallest.radius },\n        p2: { x: smallest.x - SMALL, y: smallest.y + smallest.radius },\n        width: smallest.radius * 2,\n      });\n    }\n  }\n\n  polygonArea /= 2;\n  if (stats) {\n    stats.area = arcArea + polygonArea;\n    stats.arcArea = arcArea;\n    stats.polygonArea = polygonArea;\n    stats.arcs = arcs;\n    stats.innerPoints = innerPoints;\n    stats.intersectionPoints = intersectionPoints;\n  }\n\n  return arcArea + polygonArea;\n}\n\n/** returns whether a point is contained by all of a list of circles */\nexport function containedInCircles(point, circles) {\n  for (let i = 0; i < circles.length; ++i) {\n    if (distance(point, circles[i]) > circles[i].radius + SMALL) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/** Gets all intersection points between a bunch of circles */\nfunction getIntersectionPoints(circles) {\n  const ret = [];\n  for (let i = 0; i < circles.length; ++i) {\n    for (let j = i + 1; j < circles.length; ++j) {\n      const intersect = circleCircleIntersection(circles[i], circles[j]);\n      for (let k = 0; k < intersect.length; ++k) {\n        const p: any = intersect[k];\n        p.parentIndex = [i, j];\n        ret.push(p);\n      }\n    }\n  }\n  return ret;\n}\n\n/** Circular segment area calculation. See http://mathworld.wolfram.com/CircularSegment.html */\nexport function circleArea(r, width) {\n  return r * r * Math.acos(1 - width / r) - (r - width) * Math.sqrt(width * (2 * r - width));\n}\n\n/** euclidean distance between two points */\nexport function distance(p1, p2) {\n  return Math.sqrt((p1.x - p2.x) * (p1.x - p2.x) + (p1.y - p2.y) * (p1.y - p2.y));\n}\n\n/** Returns the overlap area of two circles of radius r1 and r2 - that\nhave their centers separated by distance d. Simpler faster\ncircle intersection for only two circles */\nexport function circleOverlap(r1, r2, d) {\n  // no overlap\n  if (d >= r1 + r2) {\n    return 0;\n  }\n\n  // completely overlapped\n  if (d <= Math.abs(r1 - r2)) {\n    return Math.PI * Math.min(r1, r2) * Math.min(r1, r2);\n  }\n\n  const w1 = r1 - (d * d - r2 * r2 + r1 * r1) / (2 * d),\n    w2 = r2 - (d * d - r1 * r1 + r2 * r2) / (2 * d);\n  return circleArea(r1, w1) + circleArea(r2, w2);\n}\n\n/** Given two circles (containing a x/y/radius attributes),\nreturns the intersecting points if possible.\nnote: doesn't handle cases where there are infinitely many\nintersection points (circles are equivalent):, or only one intersection point*/\nexport function circleCircleIntersection(p1, p2) {\n  const d = distance(p1, p2),\n    r1 = p1.radius,\n    r2 = p2.radius;\n\n  // if to far away, or self contained - can't be done\n  if (d >= r1 + r2 || d <= Math.abs(r1 - r2)) {\n    return [];\n  }\n\n  const a = (r1 * r1 - r2 * r2 + d * d) / (2 * d),\n    h = Math.sqrt(r1 * r1 - a * a),\n    x0 = p1.x + (a * (p2.x - p1.x)) / d,\n    y0 = p1.y + (a * (p2.y - p1.y)) / d,\n    rx = -(p2.y - p1.y) * (h / d),\n    ry = -(p2.x - p1.x) * (h / d);\n\n  return [\n    { x: x0 + rx, y: y0 - ry },\n    { x: x0 - rx, y: y0 + ry },\n  ];\n}\n\n/** Returns the center of a bunch of points */\nexport function getCenter(points) {\n  const center = { x: 0, y: 0 };\n  for (let i = 0; i < points.length; ++i) {\n    center.x += points[i].x;\n    center.y += points[i].y;\n  }\n  center.x /= points.length;\n  center.y /= points.length;\n  return center;\n}\n","import { nelderMead, bisect, conjugateGradient, zeros, zerosM, norm2, scale } from 'fmin';\nimport { intersectionArea, circleOverlap, circleCircleIntersection, distance } from './circleintersection';\n\n/** given a list of set objects, and their corresponding overlaps.\nupdates the (x, y, radius) attribute on each set such that their positions\nroughly correspond to the desired overlaps */\nexport function venn(areas, parameters?: any) {\n  parameters = parameters || {};\n  parameters.maxIterations = parameters.maxIterations || 500;\n  const initialLayout = parameters.initialLayout || bestInitialLayout;\n  const loss = parameters.lossFunction || lossFunction;\n\n  // add in missing pairwise areas as having 0 size\n  areas = addMissingAreas(areas);\n\n  // initial layout is done greedily\n  const circles = initialLayout(areas, parameters);\n\n  // transform x/y coordinates to a vector to optimize\n  const initial = [],\n    setids = [];\n  let setid;\n  for (setid in circles) {\n    // eslint-disable-next-line\n    if (circles.hasOwnProperty(setid)) {\n      initial.push(circles[setid].x);\n      initial.push(circles[setid].y);\n      setids.push(setid);\n    }\n  }\n\n  // optimize initial layout from our loss function\n  const solution = nelderMead(\n    function (values) {\n      const current = {};\n      for (let i = 0; i < setids.length; ++i) {\n        const setid = setids[i];\n        current[setid] = {\n          x: values[2 * i],\n          y: values[2 * i + 1],\n          radius: circles[setid].radius,\n          // size : circles[setid].size\n        };\n      }\n      return loss(current, areas);\n    },\n    initial,\n    parameters\n  );\n\n  // transform solution vector back to x/y points\n  const positions = solution.x;\n  for (let i = 0; i < setids.length; ++i) {\n    setid = setids[i];\n    circles[setid].x = positions[2 * i];\n    circles[setid].y = positions[2 * i + 1];\n  }\n\n  return circles;\n}\n\nconst SMALL = 1e-10;\n\n/** Returns the distance necessary for two circles of radius r1 + r2 to\nhave the overlap area 'overlap' */\nexport function distanceFromIntersectArea(r1, r2, overlap) {\n  // handle complete overlapped circles\n  if (Math.min(r1, r2) * Math.min(r1, r2) * Math.PI <= overlap + SMALL) {\n    return Math.abs(r1 - r2);\n  }\n\n  return bisect(\n    function (distance) {\n      return circleOverlap(r1, r2, distance) - overlap;\n    },\n    0,\n    r1 + r2\n  );\n}\n\n/** Missing pair-wise intersection area data can cause problems:\n treating as an unknown means that sets will be laid out overlapping,\n which isn't what people expect. To reflect that we want disjoint sets\n here, set the overlap to 0 for all missing pairwise set intersections */\nfunction addMissingAreas(areas) {\n  areas = areas.slice();\n\n  // two circle intersections that aren't defined\n  const ids: number[] = [],\n    pairs: any = {};\n  let i, j, a, b;\n  for (i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      ids.push(area.sets[0]);\n    } else if (area.sets.length == 2) {\n      a = area.sets[0];\n      b = area.sets[1];\n      // @ts-ignore\n      pairs[[a, b]] = true;\n      // @ts-ignore\n      pairs[[b, a]] = true;\n    }\n  }\n  ids.sort((a, b) => {\n    return a > b ? 1 : -1;\n  });\n\n  for (i = 0; i < ids.length; ++i) {\n    a = ids[i];\n    for (j = i + 1; j < ids.length; ++j) {\n      b = ids[j];\n      // @ts-ignore\n      if (!([a, b] in pairs)) {\n        areas.push({ sets: [a, b], size: 0 });\n      }\n    }\n  }\n  return areas;\n}\n\n/// Returns two matrices, one of the euclidean distances between the sets\n/// and the other indicating if there are subset or disjoint set relationships\nexport function getDistanceMatrices(areas, sets, setids) {\n  // initialize an empty distance matrix between all the points\n  const distances = zerosM(sets.length, sets.length),\n    constraints = zerosM(sets.length, sets.length);\n\n  // compute required distances between all the sets such that\n  // the areas match\n  areas\n    .filter(function (x) {\n      return x.sets.length == 2;\n    })\n    .map(function (current) {\n      const left = setids[current.sets[0]],\n        right = setids[current.sets[1]],\n        r1 = Math.sqrt(sets[left].size / Math.PI),\n        r2 = Math.sqrt(sets[right].size / Math.PI),\n        distance = distanceFromIntersectArea(r1, r2, current.size);\n\n      distances[left][right] = distances[right][left] = distance;\n\n      // also update constraints to indicate if its a subset or disjoint\n      // relationship\n      let c = 0;\n      if (current.size + 1e-10 >= Math.min(sets[left].size, sets[right].size)) {\n        c = 1;\n      } else if (current.size <= 1e-10) {\n        c = -1;\n      }\n      constraints[left][right] = constraints[right][left] = c;\n    });\n\n  return { distances: distances, constraints: constraints };\n}\n\n/// computes the gradient and loss simulatenously for our constrained MDS optimizer\nfunction constrainedMDSGradient(x, fxprime, distances, constraints) {\n  let loss = 0,\n    i;\n  for (i = 0; i < fxprime.length; ++i) {\n    fxprime[i] = 0;\n  }\n\n  for (i = 0; i < distances.length; ++i) {\n    const xi = x[2 * i],\n      yi = x[2 * i + 1];\n    for (let j = i + 1; j < distances.length; ++j) {\n      const xj = x[2 * j],\n        yj = x[2 * j + 1],\n        dij = distances[i][j],\n        constraint = constraints[i][j];\n\n      const squaredDistance = (xj - xi) * (xj - xi) + (yj - yi) * (yj - yi),\n        distance = Math.sqrt(squaredDistance),\n        delta = squaredDistance - dij * dij;\n\n      if ((constraint > 0 && distance <= dij) || (constraint < 0 && distance >= dij)) {\n        continue;\n      }\n\n      loss += 2 * delta * delta;\n\n      fxprime[2 * i] += 4 * delta * (xi - xj);\n      fxprime[2 * i + 1] += 4 * delta * (yi - yj);\n\n      fxprime[2 * j] += 4 * delta * (xj - xi);\n      fxprime[2 * j + 1] += 4 * delta * (yj - yi);\n    }\n  }\n  return loss;\n}\n\n/// takes the best working variant of either constrained MDS or greedy\nexport function bestInitialLayout(areas, params) {\n  let initial = greedyLayout(areas, params);\n  const loss = params.lossFunction || lossFunction;\n\n  // greedylayout is sufficient for all 2/3 circle cases. try out\n  // constrained MDS for higher order problems, take its output\n  // if it outperforms. (greedy is aesthetically better on 2/3 circles\n  // since it axis aligns)\n  if (areas.length >= 8) {\n    const constrained = constrainedMDSLayout(areas, params),\n      constrainedLoss = loss(constrained, areas),\n      greedyLoss = loss(initial, areas);\n\n    if (constrainedLoss + 1e-8 < greedyLoss) {\n      initial = constrained;\n    }\n  }\n  return initial;\n}\n\n/// use the constrained MDS variant to generate an initial layout\nexport function constrainedMDSLayout(areas, params) {\n  params = params || {};\n  const restarts = params.restarts || 10;\n\n  // bidirectionally map sets to a rowid  (so we can create a matrix)\n  const sets = [],\n    setids = {};\n  let i;\n  for (i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      setids[area.sets[0]] = sets.length;\n      sets.push(area);\n    }\n  }\n\n  const matrices = getDistanceMatrices(areas, sets, setids);\n  let distances = matrices.distances;\n  const constraints = matrices.constraints;\n\n  // keep distances bounded, things get messed up otherwise.\n  // TODO: proper preconditioner?\n  const norm = norm2(distances.map(norm2)) / distances.length;\n  distances = distances.map(function (row) {\n    return row.map(function (value) {\n      return value / norm;\n    });\n  });\n\n  const obj = function (x, fxprime) {\n    return constrainedMDSGradient(x, fxprime, distances, constraints);\n  };\n\n  let best, current;\n  for (i = 0; i < restarts; ++i) {\n    const initial = zeros(distances.length * 2).map(Math.random);\n\n    current = conjugateGradient(obj, initial, params);\n    if (!best || current.fx < best.fx) {\n      best = current;\n    }\n  }\n  const positions = best.x;\n\n  // translate rows back to (x,y,radius) coordinates\n  const circles = {};\n  for (i = 0; i < sets.length; ++i) {\n    const set = sets[i];\n    circles[set.sets[0]] = {\n      x: positions[2 * i] * norm,\n      y: positions[2 * i + 1] * norm,\n      radius: Math.sqrt(set.size / Math.PI),\n    };\n  }\n\n  if (params.history) {\n    for (i = 0; i < params.history.length; ++i) {\n      scale(params.history[i].x, norm);\n    }\n  }\n  return circles;\n}\n\n/** Lays out a Venn diagram greedily, going from most overlapped sets to\nleast overlapped, attempting to position each new set such that the\noverlapping areas to already positioned sets are basically right */\nexport function greedyLayout(areas, params) {\n  const loss = params && params.lossFunction ? params.lossFunction : lossFunction;\n  // define a circle for each set\n  const circles = {},\n    setOverlaps = {};\n  let set;\n  for (let i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      set = area.sets[0];\n      circles[set] = {\n        x: 1e10,\n        y: 1e10,\n        // rowid: circles.length, // fix to ->\n        rowid: Object.keys(circles).length,\n        size: area.size,\n        radius: Math.sqrt(area.size / Math.PI),\n      };\n      setOverlaps[set] = [];\n    }\n  }\n  areas = areas.filter(function (a) {\n    return a.sets.length == 2;\n  });\n\n  // map each set to a list of all the other sets that overlap it\n  for (let i = 0; i < areas.length; ++i) {\n    const current = areas[i];\n    // eslint-disable-next-line\n    let weight = current.hasOwnProperty('weight') ? current.weight : 1.0;\n    const left = current.sets[0],\n      right = current.sets[1];\n\n    // completely overlapped circles shouldn't be positioned early here\n    if (current.size + SMALL >= Math.min(circles[left].size, circles[right].size)) {\n      weight = 0;\n    }\n\n    setOverlaps[left].push({ set: right, size: current.size, weight: weight });\n    setOverlaps[right].push({ set: left, size: current.size, weight: weight });\n  }\n\n  // get list of most overlapped sets\n  const mostOverlapped = [];\n  for (set in setOverlaps) {\n    // eslint-disable-next-line\n    if (setOverlaps.hasOwnProperty(set)) {\n      let size = 0;\n      for (let i = 0; i < setOverlaps[set].length; ++i) {\n        size += setOverlaps[set][i].size * setOverlaps[set][i].weight;\n      }\n\n      mostOverlapped.push({ set: set, size: size });\n    }\n  }\n\n  // sort by size desc\n  function sortOrder(a, b) {\n    return b.size - a.size;\n  }\n  mostOverlapped.sort(sortOrder);\n\n  // keep track of what sets have been laid out\n  const positioned = {};\n  function isPositioned(element) {\n    return element.set in positioned;\n  }\n\n  // adds a point to the output\n  function positionSet(point, index) {\n    circles[index].x = point.x;\n    circles[index].y = point.y;\n    positioned[index] = true;\n  }\n\n  // add most overlapped set at (0,0)\n  positionSet({ x: 0, y: 0 }, mostOverlapped[0].set);\n\n  // get distances between all points. TODO, necessary?\n  // answer: probably not\n  // var distances = venn.getDistanceMatrices(circles, areas).distances;\n  for (let i = 1; i < mostOverlapped.length; ++i) {\n    const setIndex = mostOverlapped[i].set,\n      overlap = setOverlaps[setIndex].filter(isPositioned);\n    set = circles[setIndex];\n    overlap.sort(sortOrder);\n\n    if (overlap.length === 0) {\n      // this shouldn't happen anymore with addMissingAreas\n      throw 'ERROR: missing pairwise overlap information';\n    }\n\n    const points = [];\n    for (let j = 0; j < overlap.length; ++j) {\n      // get appropriate distance from most overlapped already added set\n      const p1 = circles[overlap[j].set],\n        d1 = distanceFromIntersectArea(set.radius, p1.radius, overlap[j].size);\n\n      // sample positions at 90 degrees for maximum aesthetics\n      points.push({ x: p1.x + d1, y: p1.y });\n      points.push({ x: p1.x - d1, y: p1.y });\n      points.push({ y: p1.y + d1, x: p1.x });\n      points.push({ y: p1.y - d1, x: p1.x });\n\n      // if we have at least 2 overlaps, then figure out where the\n      // set should be positioned analytically and try those too\n      for (let k = j + 1; k < overlap.length; ++k) {\n        const p2 = circles[overlap[k].set],\n          d2 = distanceFromIntersectArea(set.radius, p2.radius, overlap[k].size);\n\n        const extraPoints = circleCircleIntersection(\n          { x: p1.x, y: p1.y, radius: d1 },\n          { x: p2.x, y: p2.y, radius: d2 }\n        );\n\n        for (let l = 0; l < extraPoints.length; ++l) {\n          points.push(extraPoints[l]);\n        }\n      }\n    }\n\n    // we have some candidate positions for the set, examine loss\n    // at each position to figure out where to put it at\n    let bestLoss = 1e50,\n      bestPoint = points[0];\n    for (let j = 0; j < points.length; ++j) {\n      circles[setIndex].x = points[j].x;\n      circles[setIndex].y = points[j].y;\n      const localLoss = loss(circles, areas);\n      if (localLoss < bestLoss) {\n        bestLoss = localLoss;\n        bestPoint = points[j];\n      }\n    }\n\n    positionSet(bestPoint, setIndex);\n  }\n\n  return circles;\n}\n\n/** Given a bunch of sets, and the desired overlaps between these sets - computes\nthe distance from the actual overlaps to the desired overlaps. Note that\nthis method ignores overlaps of more than 2 circles */\nexport function lossFunction(sets, overlaps) {\n  let output = 0;\n\n  function getCircles(indices) {\n    return indices.map(function (i) {\n      return sets[i];\n    });\n  }\n\n  for (let i = 0; i < overlaps.length; ++i) {\n    const area = overlaps[i];\n    let overlap;\n    if (area.sets.length == 1) {\n      continue;\n    } else if (area.sets.length == 2) {\n      const left = sets[area.sets[0]],\n        right = sets[area.sets[1]];\n      overlap = circleOverlap(left.radius, right.radius, distance(left, right));\n    } else {\n      overlap = intersectionArea(getCircles(area.sets));\n    }\n\n    // eslint-disable-next-line\n    const weight = area.hasOwnProperty('weight') ? area.weight : 1.0;\n    output += weight * (overlap - area.size) * (overlap - area.size);\n  }\n\n  return output;\n}\n\n// orientates a bunch of circles to point in orientation\nfunction orientateCircles(circles, orientation, orientationOrder) {\n  if (orientationOrder === null) {\n    circles.sort(function (a, b) {\n      return b.radius - a.radius;\n    });\n  } else {\n    circles.sort(orientationOrder);\n  }\n\n  let i;\n  // shift circles so largest circle is at (0, 0)\n  if (circles.length > 0) {\n    const largestX = circles[0].x,\n      largestY = circles[0].y;\n\n    for (i = 0; i < circles.length; ++i) {\n      circles[i].x -= largestX;\n      circles[i].y -= largestY;\n    }\n  }\n\n  if (circles.length == 2) {\n    // if the second circle is a subset of the first, arrange so that\n    // it is off to one side. hack for https://github.com/benfred/venn.js/issues/120\n    const dist = distance(circles[0], circles[1]);\n    if (dist < Math.abs(circles[1].radius - circles[0].radius)) {\n      circles[1].x = circles[0].x + circles[0].radius - circles[1].radius - 1e-10;\n      circles[1].y = circles[0].y;\n    }\n  }\n\n  // rotate circles so that second largest is at an angle of 'orientation'\n  // from largest\n  if (circles.length > 1) {\n    const rotation = Math.atan2(circles[1].x, circles[1].y) - orientation;\n    let x, y;\n    const c = Math.cos(rotation),\n      s = Math.sin(rotation);\n    for (i = 0; i < circles.length; ++i) {\n      x = circles[i].x;\n      y = circles[i].y;\n      circles[i].x = c * x - s * y;\n      circles[i].y = s * x + c * y;\n    }\n  }\n\n  // mirror solution if third solution is above plane specified by\n  // first two circles\n  if (circles.length > 2) {\n    let angle = Math.atan2(circles[2].x, circles[2].y) - orientation;\n    while (angle < 0) {\n      angle += 2 * Math.PI;\n    }\n    while (angle > 2 * Math.PI) {\n      angle -= 2 * Math.PI;\n    }\n    if (angle > Math.PI) {\n      const slope = circles[1].y / (1e-10 + circles[1].x);\n      for (i = 0; i < circles.length; ++i) {\n        const d = (circles[i].x + slope * circles[i].y) / (1 + slope * slope);\n        circles[i].x = 2 * d - circles[i].x;\n        circles[i].y = 2 * d * slope - circles[i].y;\n      }\n    }\n  }\n}\n\nexport function disjointCluster(circles) {\n  // union-find clustering to get disjoint sets\n  circles.map(function (circle) {\n    circle.parent = circle;\n  });\n\n  // path compression step in union find\n  function find(circle) {\n    if (circle.parent !== circle) {\n      circle.parent = find(circle.parent);\n    }\n    return circle.parent;\n  }\n\n  function union(x, y) {\n    const xRoot = find(x),\n      yRoot = find(y);\n    xRoot.parent = yRoot;\n  }\n\n  // get the union of all overlapping sets\n  for (let i = 0; i < circles.length; ++i) {\n    for (let j = i + 1; j < circles.length; ++j) {\n      const maxDistance = circles[i].radius + circles[j].radius;\n      if (distance(circles[i], circles[j]) + 1e-10 < maxDistance) {\n        union(circles[j], circles[i]);\n      }\n    }\n  }\n\n  // find all the disjoint clusters and group them together\n  const disjointClusters = {};\n  let setid;\n  for (let i = 0; i < circles.length; ++i) {\n    setid = find(circles[i]).parent.setid;\n    if (!(setid in disjointClusters)) {\n      disjointClusters[setid] = [];\n    }\n    disjointClusters[setid].push(circles[i]);\n  }\n\n  // cleanup bookkeeping\n  circles.map(function (circle) {\n    delete circle.parent;\n  });\n\n  // return in more usable form\n  const ret = [];\n  for (setid in disjointClusters) {\n    // eslint-disable-next-line\n    if (disjointClusters.hasOwnProperty(setid)) {\n      ret.push(disjointClusters[setid]);\n    }\n  }\n  return ret;\n}\n\nfunction getBoundingBox(circles) {\n  const minMax = function (d) {\n    const hi = Math.max.apply(\n        null,\n        circles.map(function (c) {\n          return c[d] + c.radius;\n        })\n      ),\n      lo = Math.min.apply(\n        null,\n        circles.map(function (c) {\n          return c[d] - c.radius;\n        })\n      );\n    return { max: hi, min: lo };\n  };\n\n  return { xRange: minMax('x'), yRange: minMax('y') };\n}\n\nexport function normalizeSolution(solution, orientation, orientationOrder) {\n  if (orientation === null) {\n    orientation = Math.PI / 2;\n  }\n\n  // work with a list instead of a dictionary, and take a copy so we\n  // don't mutate input\n  let circles = [],\n    i,\n    setid;\n  for (setid in solution) {\n    // eslint-disable-next-line\n    if (solution.hasOwnProperty(setid)) {\n      const previous = solution[setid];\n      circles.push({ x: previous.x, y: previous.y, radius: previous.radius, setid: setid });\n    }\n  }\n\n  // get all the disjoint clusters\n  const clusters = disjointCluster(circles);\n\n  // orientate all disjoint sets, get sizes\n  for (i = 0; i < clusters.length; ++i) {\n    orientateCircles(clusters[i], orientation, orientationOrder);\n    const bounds = getBoundingBox(clusters[i]);\n    clusters[i].size = (bounds.xRange.max - bounds.xRange.min) * (bounds.yRange.max - bounds.yRange.min);\n    clusters[i].bounds = bounds;\n  }\n  clusters.sort(function (a, b) {\n    return b.size - a.size;\n  });\n\n  // orientate the largest at 0,0, and get the bounds\n  circles = clusters[0];\n  // @ts-ignore fixme \n  let returnBounds = circles.bounds;\n\n  const spacing = (returnBounds.xRange.max - returnBounds.xRange.min) / 50;\n\n  function addCluster(cluster, right, bottom) {\n    if (!cluster) return;\n\n    const bounds = cluster.bounds;\n    let xOffset, yOffset, centreing;\n\n    if (right) {\n      xOffset = returnBounds.xRange.max - bounds.xRange.min + spacing;\n    } else {\n      xOffset = returnBounds.xRange.max - bounds.xRange.max;\n      centreing = (bounds.xRange.max - bounds.xRange.min) / 2 - (returnBounds.xRange.max - returnBounds.xRange.min) / 2;\n      if (centreing < 0) xOffset += centreing;\n    }\n\n    if (bottom) {\n      yOffset = returnBounds.yRange.max - bounds.yRange.min + spacing;\n    } else {\n      yOffset = returnBounds.yRange.max - bounds.yRange.max;\n      centreing = (bounds.yRange.max - bounds.yRange.min) / 2 - (returnBounds.yRange.max - returnBounds.yRange.min) / 2;\n      if (centreing < 0) yOffset += centreing;\n    }\n\n    for (let j = 0; j < cluster.length; ++j) {\n      cluster[j].x += xOffset;\n      cluster[j].y += yOffset;\n      circles.push(cluster[j]);\n    }\n  }\n\n  let index = 1;\n  while (index < clusters.length) {\n    addCluster(clusters[index], true, false);\n    addCluster(clusters[index + 1], false, true);\n    addCluster(clusters[index + 2], true, true);\n    index += 3;\n\n    // have one cluster (in top left). lay out next three relative\n    // to it in a grid\n    returnBounds = getBoundingBox(circles);\n  }\n\n  // convert back to solution form\n  const ret = {};\n  for (i = 0; i < circles.length; ++i) {\n    ret[circles[i].setid] = circles[i];\n  }\n  return ret;\n}\n\n/** Scales a solution from venn.venn or venn.greedyLayout such that it fits in\na rectangle of width/height - with padding around the borders. also\ncenters the diagram in the available space at the same time */\nexport function scaleSolution(solution, width, height, padding) {\n  const circles = [],\n    setids = [];\n  for (const setid in solution) {\n    // eslint-disable-next-line\n    if (solution.hasOwnProperty(setid)) {\n      setids.push(setid);\n      circles.push(solution[setid]);\n    }\n  }\n\n  width -= 2 * padding;\n  height -= 2 * padding;\n\n  const bounds = getBoundingBox(circles),\n    xRange = bounds.xRange,\n    yRange = bounds.yRange;\n\n  if (xRange.max == xRange.min || yRange.max == yRange.min) {\n    console.log('not scaling solution: zero size detected');\n    return solution;\n  }\n\n  const xScaling = width / (xRange.max - xRange.min),\n    yScaling = height / (yRange.max - yRange.min),\n    scaling = Math.min(yScaling, xScaling),\n    // while we're at it, center the diagram too\n    xOffset = (width - (xRange.max - xRange.min) * scaling) / 2,\n    yOffset = (height - (yRange.max - yRange.min) * scaling) / 2;\n\n  const scaled = {};\n  for (let i = 0; i < circles.length; ++i) {\n    const circle = circles[i];\n    scaled[setids[i]] = {\n      radius: scaling * circle.radius,\n      x: padding + xOffset + (circle.x - xRange.min) * scaling,\n      y: padding + yOffset + (circle.y - yRange.min) * scaling,\n    };\n  }\n\n  return scaled;\n}\n","import { nelderMead } from 'fmin';\nimport { intersectionArea, distance, getCenter } from './circleintersection';\n\nfunction circleMargin(current, interior, exterior) {\n  let margin = interior[0].radius - distance(interior[0], current),\n    i,\n    m;\n  for (i = 1; i < interior.length; ++i) {\n    m = interior[i].radius - distance(interior[i], current);\n    if (m <= margin) {\n      margin = m;\n    }\n  }\n\n  for (i = 0; i < exterior.length; ++i) {\n    m = distance(exterior[i], current) - exterior[i].radius;\n    if (m <= margin) {\n      margin = m;\n    }\n  }\n  return margin;\n}\n\n// compute the center of some circles by maximizing the margin of\n// the center point relative to the circles (interior) after subtracting\n// nearby circles (exterior)\nexport function computeTextCentre(interior, exterior) {\n  // get an initial estimate by sampling around the interior circles\n  // and taking the point with the biggest margin\n  const points = [];\n  let i;\n  for (i = 0; i < interior.length; ++i) {\n    const c = interior[i];\n    points.push({ x: c.x, y: c.y });\n    points.push({ x: c.x + c.radius / 2, y: c.y });\n    points.push({ x: c.x - c.radius / 2, y: c.y });\n    points.push({ x: c.x, y: c.y + c.radius / 2 });\n    points.push({ x: c.x, y: c.y - c.radius / 2 });\n  }\n  let initial = points[0],\n    margin = circleMargin(points[0], interior, exterior);\n  for (i = 1; i < points.length; ++i) {\n    const m = circleMargin(points[i], interior, exterior);\n    if (m >= margin) {\n      initial = points[i];\n      margin = m;\n    }\n  }\n\n  // maximize the margin numerically\n  const solution = nelderMead(\n    function (p) {\n      return -1 * circleMargin({ x: p[0], y: p[1] }, interior, exterior);\n    },\n    [initial.x, initial.y],\n    { maxIterations: 500, minErrorDelta: 1e-10 }\n  ).x;\n  let ret: any = { x: solution[0], y: solution[1] };\n\n  // check solution, fallback as needed (happens if fully overlapped\n  // etc)\n  let valid = true;\n  for (i = 0; i < interior.length; ++i) {\n    if (distance(ret, interior[i]) > interior[i].radius) {\n      valid = false;\n      break;\n    }\n  }\n\n  for (i = 0; i < exterior.length; ++i) {\n    if (distance(ret, exterior[i]) < exterior[i].radius) {\n      valid = false;\n      break;\n    }\n  }\n\n  if (!valid) {\n    if (interior.length == 1) {\n      ret = { x: interior[0].x, y: interior[0].y };\n    } else {\n      const areaStats: any = {};\n      intersectionArea(interior, areaStats);\n\n      if (areaStats.arcs.length === 0) {\n        ret = { x: 0, y: -1000, disjoint: true };\n      } else if (areaStats.arcs.length == 1) {\n        ret = { x: areaStats.arcs[0].circle.x, y: areaStats.arcs[0].circle.y };\n      } else if (exterior.length) {\n        // try again without other circles\n        ret = computeTextCentre(interior, []);\n      } else {\n        // take average of all the points in the intersection\n        // polygon. this should basically never happen\n        // and has some issues:\n        // https://github.com/benfred/venn.js/issues/48#issuecomment-146069777\n        ret = getCenter(\n          areaStats.arcs.map(function (a) {\n            return a.p1;\n          })\n        );\n      }\n    }\n  }\n\n  return ret;\n}\n\n// given a dictionary of {setid : circle}, returns\n// a dictionary of setid to list of circles that completely overlap it\nfunction getOverlappingCircles(circles) {\n  const ret = {},\n    circleids = [];\n  for (const circleid in circles) {\n    circleids.push(circleid);\n    ret[circleid] = [];\n  }\n  for (let i = 0; i < circleids.length; i++) {\n    const a = circles[circleids[i]];\n    for (let j = i + 1; j < circleids.length; ++j) {\n      const b = circles[circleids[j]],\n        d = distance(a, b);\n\n      if (d + b.radius <= a.radius + 1e-10) {\n        ret[circleids[j]].push(circleids[i]);\n      } else if (d + a.radius <= b.radius + 1e-10) {\n        ret[circleids[i]].push(circleids[j]);\n      }\n    }\n  }\n  return ret;\n}\n\nexport function computeTextCentres(circles, areas) {\n  const ret = {},\n    overlapped = getOverlappingCircles(circles);\n  for (let i = 0; i < areas.length; ++i) {\n    const area = areas[i].sets,\n      areaids = {},\n      exclude = {};\n    for (let j = 0; j < area.length; ++j) {\n      areaids[area[j]] = true;\n      const overlaps = overlapped[area[j]];\n      // keep track of any circles that overlap this area,\n      // and don't consider for purposes of computing the text\n      // centre\n      for (let k = 0; k < overlaps.length; ++k) {\n        exclude[overlaps[k]] = true;\n      }\n    }\n\n    const interior = [],\n      exterior = [];\n    for (const setid in circles) {\n      if (setid in areaids) {\n        interior.push(circles[setid]);\n      } else if (!(setid in exclude)) {\n        exterior.push(circles[setid]);\n      }\n    }\n    const centre = computeTextCentre(interior, exterior);\n    ret[area] = centre;\n    if (centre.disjoint && areas[i].size > 0) {\n      console.log('WARNING: area ' + area + ' not represented on screen');\n    }\n  }\n  return ret;\n}\n\n/**\n * (x, y)  r  path\n * @param x  x\n * @param y  y\n * @param r \n * @returns  path\n */\nexport function circlePath(x, y, r) {\n  const ret = [];\n  // ret.push('\\nM', x, y);\n  // ret.push('\\nm', -r, 0);\n  // ret.push('\\na', r, r, 0, 1, 0, r * 2, 0);\n  // ret.push('\\na', r, r, 0, 1, 0, -r * 2, 0);\n  const x0 = x - r;\n  const y0 = y;\n  ret.push('M', x0, y0);\n  ret.push('A', r, r, 0, 1, 0, x0 + 2 * r, y0);\n  ret.push('A', r, r, 0, 1, 0, x0, y0);\n\n  return ret.join(' ');\n}\n\n// inverse of the circlePath function, returns a circle object from an svg path\nexport function circleFromPath(path) {\n  const tokens = path.split(' ');\n  return { x: parseFloat(tokens[1]), y: parseFloat(tokens[2]), radius: -parseFloat(tokens[4]) };\n}\n\n/** returns a svg path of the intersection area of a bunch of circles */\nexport function intersectionAreaPath(circles) {\n  const stats: any = {};\n  intersectionArea(circles, stats);\n  const arcs = stats.arcs;\n\n  if (arcs.length === 0) {\n    return 'M 0 0';\n  } else if (arcs.length == 1) {\n    const circle = arcs[0].circle;\n    return circlePath(circle.x, circle.y, circle.radius);\n  } else {\n    // draw path around arcs\n    const ret = ['\\nM', arcs[0].p2.x, arcs[0].p2.y];\n    for (let i = 0; i < arcs.length; ++i) {\n      const arc = arcs[i],\n        r = arc.circle.radius,\n        wide = arc.width > r;\n      ret.push('\\nA', r, r, 0, wide ? 1 : 0, 1, arc.p1.x, arc.p1.y);\n    }\n    return ret.join(' ');\n  }\n}\n","import { VennOptions } from './types';\n\n// \nexport const ID_FIELD = 'id';\nexport const PATH_FIELD = 'path';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS: Partial<VennOptions> = {\n  appendPadding: [10, 0, 20, 0],\n  blendMode: 'multiply',\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    fields: ['id', 'size'],\n    formatter: (datum) => {\n      return { name: datum.id, value: datum.size };\n    },\n  },\n  legend: { position: 'top-left' },\n  label: {\n    style: {\n      textAlign: 'center',\n      fill: '#fff',\n    },\n  },\n  //  \n  interactions: [{ type: 'legend-filter', enable: false }],\n  state: {\n    active: {\n      style: {\n        stroke: '#000',\n      },\n    },\n    selected: {\n      style: {\n        stroke: '#000',\n        lineWidth: 2,\n      },\n    },\n    inactive: {\n      style: {\n        fillOpacity: 0.3,\n        strokeOpacity: 0.3,\n      },\n    },\n  },\n  // \n  defaultInteractions: ['tooltip', 'venn-legend-active'],\n};\n","import { assign, memoize } from '@antv/util';\nimport { blend } from '../../utils/color/blend';\nimport { log, LEVEL } from '../../utils';\nimport { venn, scaleSolution } from './layout/layout';\nimport { intersectionAreaPath, computeTextCentres } from './layout/diagram';\nimport { ID_FIELD, PATH_FIELD } from './constant';\nimport { VennData, VennOptions } from './types';\n\ntype ColorMapFunction = (\n  colorPalette: string[],\n  data: VennData,\n  blendMode: VennOptions['blendMode'],\n  setsField: VennOptions['setsField']\n) => Map<string, string>;\n\n/**\n *  \n * @usage colorMap.get(id) => color\n *\n * @returns Map<string, string>\n */\nexport const getColorMap = memoize(\n  ((colorPalette, data, blendMode, setsField) => {\n    const colorMap = new Map<string /** id */, string /** color */>();\n    const colorPaletteLen = colorPalette.length;\n    data.forEach((d, idx) => {\n      if (d[setsField].length === 1) {\n        colorMap.set(d[ID_FIELD], colorPalette[(idx + colorPaletteLen) % colorPaletteLen]);\n      } else {\n        /**   */\n        const colorArr = d[setsField].map((id) => colorMap.get(id));\n        colorMap.set(\n          d[ID_FIELD],\n          colorArr.slice(1).reduce((a, b) => blend(a, b, blendMode), colorArr[0])\n        );\n      }\n    });\n\n    return colorMap;\n  }) as ColorMapFunction,\n  (...params) => JSON.stringify(params)\n) as ColorMapFunction;\n\n/**\n * \n *\n * @param data\n * @param width\n * @param height\n * @param padding\n * @returns \n */\nexport function layoutVennData(options: VennOptions, width: number, height: number, padding: number = 0): VennData {\n  const { data, setsField, sizeField } = options;\n\n  // \n  if (data.length === 0) {\n    log(LEVEL.WARN, false, 'warn: %s', '');\n    return [];\n  }\n\n  const vennData: VennData = data.map((d) => ({\n    ...d,\n    sets: d[setsField] || [],\n    size: d[sizeField],\n    [PATH_FIELD]: '',\n    [ID_FIELD]: '',\n  }));\n  // 1. \n  vennData.sort((a, b) => a.sets.length - b.sets.length);\n  // todo 2.  crash\n\n  const solution = venn(vennData);\n  const circles = scaleSolution(solution, width, height, padding);\n  const textCenters = computeTextCentres(circles, vennData);\n  vennData.forEach((row) => {\n    const sets = row.sets;\n    const id = sets.join(',');\n    row[ID_FIELD] = id;\n    //  vennText \n    const setCircles = sets.map((set) => circles[set]);\n    let path = intersectionAreaPath(setCircles);\n    if (!/[zZ]$/.test(path)) {\n      path += ' Z';\n    }\n    row[PATH_FIELD] = path;\n    const center = textCenters[id] || { x: 0, y: 0 };\n    assign(row, center);\n  });\n  return vennData;\n}\n\n/**\n *  \n * @param legalArr ['A', 'B']\n * @param testArr ['A', 'B', 'C'] or ['A', 'C'] 'C'\n * @return boolean\n */\nexport function islegalSets(legalArr: any[], testArr: any[]): boolean {\n  for (let i = 0; i < testArr.length; i++) {\n    if (!legalArr.includes(testArr[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n","import { IGroup } from '@antv/g-base';\nimport { registerShape, Types, Util } from '@antv/g2';\nimport { parsePathString } from '@antv/path-util';\nimport { deepAssign } from '../../utils';\nimport { Datum, Point } from '../../types';\nimport { CustomInfo } from './types';\nimport { PATH_FIELD } from './constant';\n\n/**\n * \n * @param cfg \n */\nfunction getFillAttrs(cfg: Types.ShapeInfo) {\n  // style.fill \n  return deepAssign({}, cfg.defaultStyle, { fill: cfg.color }, cfg.style);\n}\n\nregisterShape('schema', 'venn', {\n  draw(cfg: Types.ShapeInfo & { points: Point[]; nextPoints: Point[] }, container: IGroup) {\n    const data = cfg.data as Datum;\n    const segments = parsePathString(data[PATH_FIELD]);\n    const fillAttrs = getFillAttrs(cfg);\n\n    const group = container.addGroup({ name: 'venn-shape' });\n\n    group.addShape('path', {\n      attrs: {\n        ...fillAttrs,\n        path: segments,\n      },\n      name: 'venn-path',\n    });\n\n    const { offsetX, offsetY } = cfg.customInfo as CustomInfo;\n\n    const matrix = Util.transform(null, [['t', offsetX, offsetY]]);\n    group.setMatrix(matrix);\n\n    return group;\n  },\n  getMarker(markerCfg: Types.ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        lineWidth: 0,\n        stroke: color,\n        fill: color,\n        r: 4,\n      },\n    };\n  },\n});\n","import { registerGeometryLabel, GeometryLabel } from '@antv/g2';\n\n// Step 1\n//  Label \n//  GeometryLabel \nclass VennLabel extends GeometryLabel {\n  /**\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   * @returns label point\n   */\n  protected getLabelPoint(labelCfg, mappingData, index: number) {\n    const { x, y } = labelCfg.data;\n    const { offsetX, offsetY } = labelCfg.customLabelInfo;\n    return {\n      content: labelCfg.content[index],\n      x: x + offsetX,\n      y: y + offsetY,\n    };\n  }\n}\n\n// Step 2:  CustomLabel\nregisterGeometryLabel('venn', VennLabel);\n","import { View } from '@antv/g2';\n\n/** tofront:   */\nexport function placeElementsOrdered(view: View) {\n  if (!view) {\n    return;\n  }\n  const elements = view.geometries[0].elements;\n  elements.forEach((elem) => {\n    elem.shape.toFront();\n  });\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementActiveAction: any = getActionClass('element-active');\n\nexport class VennElementActive extends ElementActiveAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public active() {\n    super.active();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementHighlightAction: any = getActionClass('element-highlight');\n\nexport class VennElementHighlight extends ElementHighlightAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public highlight() {\n    super.highlight();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public clear() {\n    super.clear();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementSelectedAction: any = getActionClass('element-selected');\nconst ElementSingleSelectedAction: any = getActionClass('element-single-selected');\n\n/**\n *  \n */\nexport class VennElementSelected extends ElementSelectedAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public selected() {\n    super.selected();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n\n/**\n *  \n */\nexport class VennElementSingleSelected extends ElementSingleSelectedAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public selected() {\n    super.selected();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { registerInteraction, registerAction } from '@antv/g2';\nimport { VennElementActive } from './actions/active';\nimport { VennElementHighlight } from './actions/highlight';\nimport { VennElementSelected, VennElementSingleSelected } from './actions/selected';\n\n/** ==================  aciton ================== */\n\nregisterAction('venn-element-active', VennElementActive as any);\nregisterAction('venn-element-highlight', VennElementHighlight as any);\nregisterAction('venn-element-selected', VennElementSelected as any);\nregisterAction('venn-element-single-selected', VennElementSingleSelected as any);\n\n/** ==================  ================== */\n\n// ========= Active  =========\nregisterInteraction('venn-element-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'venn-element-active:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'venn-element-active:reset' }],\n});\n\n// =========   =========\nregisterInteraction('venn-element-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'venn-element-highlight:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'venn-element-highlight:reset' }],\n});\n\n// ========= Selected  =========\n//  venn element \nregisterInteraction('venn-element-selected', {\n  start: [{ trigger: 'element:click', action: 'venn-element-selected:toggle' }],\n  rollback: [{ trigger: 'dblclick', action: ['venn-element-selected:reset'] }],\n});\n//  venn element \nregisterInteraction('venn-element-single-selected', {\n  start: [{ trigger: 'element:click', action: 'venn-element-single-selected:toggle' }],\n  rollback: [{ trigger: 'dblclick', action: ['venn-element-single-selected:reset'] }],\n});\n\n// =========  =========\n// legend hoverelement active\nregisterInteraction('venn-legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: ['list-active:active', 'venn-element-active:active'] }],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['list-active:reset', 'venn-element-active:reset'] }],\n});\n\n// legend hoverelement active\nregisterInteraction('venn-legend-highlight', {\n  start: [\n    {\n      trigger: 'legend-item:mouseenter',\n      action: ['legend-item-highlight:highlight', 'venn-element-highlight:highlight'],\n    },\n  ],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['legend-item-highlight:reset', 'venn-element-highlight:reset'] }],\n});\n","import { Geometry } from '@antv/g2';\nimport { isArray, get, deepMix, isEqual } from '@antv/util';\nimport { interaction, animation, theme, tooltip, scale } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { schema as schemaGeometry } from '../../adaptor/geometries';\nimport {\n  deepAssign,\n  flow,\n  findGeometry,\n  transformLabel,\n  getAdjustAppendPadding,\n  normalPadding,\n  resolveAllPadding,\n} from '../../utils';\nimport { Datum } from '../../types';\nimport { log, LEVEL } from '../../utils';\nimport { getColorMap, layoutVennData, islegalSets } from './utils';\nimport { CustomInfo, VennData, VennOptions } from './types';\nimport { ID_FIELD } from './constant';\nimport './shape';\nimport './label';\nimport './interactions';\n\n/**  */\nexport const LEGEND_SPACE = 40;\n\n/**\n *  color \n */\nfunction colorMap(params: Params<VennOptions>, data: VennData, colorPalette?: string[]) {\n  const { chart, options } = params;\n  const { blendMode, setsField } = options;\n  const { colors10, colors20 } = chart.getTheme();\n  let palette = colorPalette;\n  if (!isArray(palette)) {\n    palette = data.filter((d) => d[setsField].length === 1).length <= 10 ? colors10 : colors20;\n  }\n  const map = getColorMap(palette, data, blendMode, setsField);\n\n  return (id: string) => map.get(id) || palette[0];\n}\n\n/**\n * color options \n */\nfunction transformColor(params: Params<VennOptions>, data: VennData): VennOptions['color'] {\n  const { options } = params;\n  const { color } = options;\n\n  if (typeof color !== 'function') {\n    const colorPalette = typeof color === 'string' ? [color] : color;\n    const map = colorMap(params, data, colorPalette);\n    return (datum: Datum) => map(datum[ID_FIELD]);\n  }\n  return color;\n}\n\n/**\n *  padding\n */\nfunction padding(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { legend, appendPadding, padding } = options;\n\n  //  legend .  40px,  appendPadding \n  let tempPadding: number[] = normalPadding(appendPadding);\n  if (legend !== false) {\n    tempPadding = getAdjustAppendPadding(appendPadding, get(legend, 'position'), LEGEND_SPACE);\n  }\n\n  chart.appendPadding = resolveAllPadding([tempPadding, padding]);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction data(params: Params<VennOptions>): Params<VennOptions> {\n  const { options } = params;\n\n  /*     \n   * \n   * data = [\n   *   { sets: ['A'], size: 3 }, // \n   *   { sets: ['B'], size: 4 }, // \n   *   { sets: ['A', 'B'], size: 2 }, // \n   *   { sets: ['A', 'B', 'C'], size: 2 }, //  ( C)\n   *   ...\n   * ]\n   */\n\n  let data = options['data'];\n  if (!data) {\n    log(LEVEL.WARN, false, 'warn: %s', '');\n    data = [];\n  }\n\n  // ['A', 'B']\n  const currSets = data.filter((datum) => datum.sets.length === 1).map((datum) => datum.sets[0]);\n  //  data\n  const filterSets = data.filter((datum) => {\n    const sets = datum.sets;\n    // \n    return islegalSets(currSets, sets);\n  });\n\n  if (!isEqual(filterSets, data)) log(LEVEL.WARN, false, 'warn: %s', ', ');\n\n  return deepMix({}, params, {\n    options: {\n      data: filterSets,\n    },\n  });\n}\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { pointStyle, setsField, sizeField } = options;\n\n  // \n  const [t, r, b, l] = normalPadding(chart.appendPadding);\n  //  legend .  40px,  appendPadding \n  const customInfo: CustomInfo = { offsetX: l, offsetY: t };\n  // coordinateBBox + appendPadding = viewBBox,  appendPadding  viewBBox\n  const { width, height } = chart.viewBBox;\n  // padding w  h \n  const vennData: VennData = layoutVennData(options, Math.max(width - (r + l), 0), Math.max(height - (t + b), 0), 0);\n  chart.data(vennData);\n\n  const { ext } = schemaGeometry(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        sizeField: sizeField,\n        seriesField: ID_FIELD,\n        rawFields: [setsField, sizeField],\n        schema: {\n          shape: 'venn',\n          style: pointStyle,\n        },\n      },\n    })\n  );\n\n  const geometry = ext.geometry as Geometry;\n  geometry.customInfo(customInfo);\n\n  const colorOptions = transformColor(params, vennData);\n  // , color .  datum\n  if (typeof colorOptions === 'function') {\n    geometry.color(ID_FIELD, (id) => {\n      const datum = vennData.find((d) => d[ID_FIELD] === id);\n      const defaultColor = colorMap(params, vennData)(id);\n      return colorOptions(datum, defaultColor);\n    });\n  }\n\n  return params;\n}\n\n/**\n *  label\n * @param params\n */\nfunction label(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  // \n  const [t, , , l] = normalPadding(chart.appendPadding);\n  //  label  \n  const customLabelInfo = { offsetX: l, offsetY: t };\n\n  const geometry = findGeometry(chart, 'schema');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: ['id'],\n      callback,\n      cfg: deepMix({}, transformLabel(cfg), {\n        //  G2  label \n        type: 'venn',\n        customLabelInfo,\n      }),\n    });\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { legend, sizeField } = options;\n\n  chart.legend(ID_FIELD, legend);\n  //  \n  chart.legend(sizeField, false);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function axis(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart } = params;\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n *  interaction \n */\nfunction vennInteraction(params: Params<VennOptions>): Params<VennOptions> {\n  const { options, chart } = params;\n  const { interactions } = options;\n\n  if (interactions) {\n    const MAP = {\n      'legend-active': 'venn-legend-active',\n      'legend-highlight': 'venn-legend-highlight',\n    };\n    interaction(\n      deepAssign({}, params, {\n        options: {\n          interactions: interactions.map((i) => ({\n            ...i,\n            type: MAP[i.type] || i.type,\n          })),\n        },\n      })\n    );\n  }\n\n  chart.removeInteraction('legend-active');\n  chart.removeInteraction('legend-highlight');\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<VennOptions>) {\n  // flow  G2 API\n  return flow(\n    padding,\n    theme,\n    data,\n    geometry,\n    label,\n    scale({}),\n    legend,\n    axis,\n    tooltip,\n    vennInteraction,\n    animation\n    // ...  adaptor flow\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { VennOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { VennOptions };\n\n/**\n *  \n */\nexport class Venn extends Plot<VennOptions> {\n  /**  */\n  public type: string = 'venn';\n\n  static getDefaultOptions() {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Venn.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<VennOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      this.chart.forceFit(); // g2  changeSizechangeSize  render(true)\n      this.chart.clear();\n      this.execAdaptor(); // \n      // \n      this.chart.render(true);\n    }\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\nexport const Y_FIELD = '$$stock-range$$';\n\nexport const TREND_FIELD = 'trend';\nexport const TREND_UP = 'up';\nexport const TREND_DOWN = 'down';\n\n/** tooltip  */\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showMarkers: false,\n  showCrosshairs: true,\n  shared: true,\n  crosshairs: {\n    type: 'xy',\n    follow: true,\n    text: (type, defaultContent, items) => {\n      let textContent;\n      if (type === 'x') {\n        const item = items[0];\n        textContent = item ? item.title : defaultContent;\n      } else {\n        textContent = defaultContent;\n      }\n      return {\n        position: type === 'y' ? 'start' : 'end',\n        content: textContent,\n        style: {\n          fill: '#dfdfdf',\n        },\n      };\n    },\n    //  crosshairs textBackground \n    textBackground: {\n      padding: [2, 4],\n      style: {\n        fill: '#666',\n      },\n    },\n  },\n};\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  //  tooltips\n  tooltip: DEFAULT_TOOLTIP_OPTIONS,\n  interactions: [{ type: 'tooltip' }],\n  legend: {\n    position: 'top-left',\n  },\n  risingFill: '#ef5350',\n  fallingFill: '#26a69a',\n});\n","import { isArray, map } from '@antv/util';\nimport { TREND_FIELD, TREND_DOWN, TREND_UP, Y_FIELD } from './constant';\n\n/**\n * @desc \n * @param data\n * @param yField\n */\nexport function getStockData(data, yField) {\n  return map(data, (obj) => {\n    if (isArray(yField)) {\n      const [open, close, high, low] = yField;\n      obj[TREND_FIELD] = obj[open] <= obj[close] ? TREND_UP : TREND_DOWN;\n      obj[Y_FIELD] = [obj[open], obj[close], obj[high], obj[low]];\n    }\n    return obj;\n  });\n}\n","import { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, annotation, slider } from '../../adaptor/common';\nimport { schema } from '../../adaptor/geometries';\nimport { flow, pick, deepAssign } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\n\nimport { Y_FIELD, TREND_FIELD, TREND_UP, TREND_DOWN } from './constant';\nimport { StockOptions } from './types';\nimport { getStockData } from './utils';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { yField } = options;\n\n  const { data, risingFill, fallingFill, tooltip, stockStyle } = options;\n\n  chart.data(getStockData(data, yField));\n\n  let tooltipOptions = tooltip;\n  if (tooltipOptions !== false) {\n    tooltipOptions = deepAssign({}, { fields: yField }, tooltipOptions);\n  }\n\n  schema(\n    deepAssign({}, params, {\n      options: {\n        schema: {\n          shape: 'candle',\n          color: [risingFill, fallingFill],\n          style: stockStyle,\n        },\n        yField: Y_FIELD,\n        seriesField: TREND_FIELD,\n        rawFields: yField,\n        tooltip: tooltipOptions,\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis, xField } = options;\n\n  const baseMeta = {\n    [xField]: {\n      type: 'timeCat',\n      tickCount: 6,\n    },\n    [TREND_FIELD]: {\n      values: [TREND_UP, TREND_DOWN],\n    },\n  };\n\n  const scales = deepAssign(baseMeta, meta, {\n    [xField]: pick(xAxis, AXIS_META_CONFIG_KEYS),\n    [Y_FIELD]: pick(yAxis, AXIS_META_CONFIG_KEYS),\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(Y_FIELD, false);\n  } else {\n    chart.axis(Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip !== false) {\n    chart.tooltip(tooltip);\n  } else {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n\n  if (legend) {\n    chart.legend(TREND_FIELD, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * K\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<StockOptions>) {\n  // flow  G2 API\n  flow(theme, geometry, meta, axis, tooltip, legend, interaction, animation, annotation(), slider)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { StockOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { getStockData } from './utils';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { StockOptions };\n\nexport class Stock extends Plot<StockOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<StockOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'stock';\n\n  /**\n   * \n   *  g2/g2plot    -->         -->          -->      \n   */\n  protected getDefaultOptions(): Partial<StockOptions> {\n    return Stock.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<StockOptions> {\n    return adaptor;\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: StockOptions['data']) {\n    this.updateOption({ data });\n    const { yField } = this.options;\n    this.chart.changeData(getStockData(data, yField));\n  }\n}\n","// : data[n][yField] / data[0][yField]\nexport const FUNNEL_PERCENT = '$$percentage$$';\n// \nexport const FUNNEL_MAPPING_VALUE = '$$mappingValue$$';\n// : data[n][yField] / data[n-1][yField];\nexport const FUNNEL_CONVERSATION = '$$conversion$$';\n// \n// data[n][yField] / sum(data[0-n][yField])\nexport const FUNNEL_TOTAL_PERCENT = '$$totalPercentage$$';\n//  x \nexport const PLOYGON_X = '$$x$$';\nexport const PLOYGON_Y = '$$y$$';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: [0, 80],\n  minSize: 0,\n  maxSize: 1,\n  meta: {\n    [FUNNEL_MAPPING_VALUE]: {\n      min: 0,\n      max: 1,\n      nice: false,\n    },\n  },\n  label: {\n    style: {\n      fill: '#fff',\n      fontSize: 12,\n    },\n  },\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    shared: false,\n  },\n  conversionTag: {\n    offsetX: 10,\n    offsetY: 0,\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.45)',\n    },\n  },\n};\n","import { Types } from '@antv/g2';\nimport { isFunction, map, isNumber, maxBy, get } from '@antv/util';\nimport { Datum, Data } from '../../../types/common';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { Params } from '../../../core/adaptor';\nimport { FunnelOptions } from '../types';\n\n/**\n *  transform\n * @param geometry\n */\nexport function transformData(\n  data: FunnelOptions['data'],\n  originData: FunnelOptions['data'],\n  options: Pick<FunnelOptions, 'yField' | 'maxSize' | 'minSize'>\n): FunnelOptions['data'] {\n  let formatData = [];\n  const { yField, maxSize, minSize } = options;\n  const maxYFieldValue = get(maxBy(originData, yField), [yField]);\n  const max = isNumber(maxSize) ? maxSize : 1;\n  const min = isNumber(minSize) ? minSize : 0;\n\n  // format \n  formatData = map(data, (row, index) => {\n    const percent = (row[yField] || 0) / maxYFieldValue;\n    row[FUNNEL_PERCENT] = percent;\n    row[FUNNEL_MAPPING_VALUE] = (max - min) * percent + min;\n    // \n    row[FUNNEL_CONVERSATION] = [get(data, [index - 1, yField]), row[yField]];\n    return row;\n  });\n\n  return formatData;\n}\n\n/**\n * \n * @param getLineCoordinate  line \n */\nexport function conversionTagComponent(\n  getLineCoordinate: (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ) => Types.LineOption\n) {\n  return function (params: Params<FunnelOptions>): Params<FunnelOptions> {\n    const { chart, options } = params;\n    const { conversionTag } = options;\n\n    const { data } = chart.getOptions();\n\n    if (conversionTag) {\n      const { formatter } = conversionTag;\n      data.forEach((obj, index) => {\n        if (index <= 0 || Number.isNaN(obj[FUNNEL_MAPPING_VALUE])) return;\n        const lineOption = getLineCoordinate(obj, index, data, {\n          top: true,\n          text: {\n            content: isFunction(formatter) ? formatter(obj, data) : formatter,\n            offsetX: conversionTag.offsetX,\n            offsetY: conversionTag.offsetY,\n            position: 'end',\n            autoRotate: false,\n            style: {\n              textAlign: 'start',\n              textBaseline: 'middle',\n              ...conversionTag.style,\n            },\n          },\n        });\n\n        chart.annotation().line(lineOption);\n      });\n    }\n    return params;\n  };\n}\n","import { Types } from '@antv/g2';\nimport { isArray } from '@antv/util';\nimport { flow, findGeometry } from '../../../utils';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { Params } from '../../../core/adaptor';\nimport { Datum, Data } from '../../../types/common';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { FunnelOptions } from '../types';\nimport { FUNNEL_CONVERSATION, FUNNEL_PERCENT, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { conversionTagComponent, transformData } from './common';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField, maxSize, minSize } = options;\n  const formatData = transformData(data, data, {\n    yField,\n    maxSize,\n    minSize,\n  });\n\n  // \n  chart.data(formatData);\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { xField, yField, color, tooltip, label, shape = 'funnel', funnelStyle, state } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField]);\n\n  baseGeometry({\n    chart,\n    options: {\n      type: 'interval',\n      xField: xField,\n      yField: FUNNEL_MAPPING_VALUE,\n      colorField: xField,\n      tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n      mapping: {\n        shape,\n        tooltip: formatter,\n        color,\n        style: funnelStyle,\n      },\n      label,\n      state,\n    },\n  });\n\n  const geo = findGeometry(params.chart, 'interval');\n  geo.adjust('symmetric');\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction transpose(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { isTransposed } = options;\n  chart.coordinate({\n    type: 'rect',\n    actions: !isTransposed ? [['transpose'], ['scale', 1, -1]] : [],\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { maxSize } = options;\n\n  const getLineCoordinate = (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ): Types.LineOption => {\n    const percent = maxSize - (maxSize - datum[FUNNEL_MAPPING_VALUE]) / 2;\n    return {\n      ...initLineOption,\n      start: [datumIndex - 0.5, percent],\n      end: [datumIndex - 0.5, percent + 0.05],\n    };\n  };\n\n  conversionTagComponent(getLineCoordinate)(params);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function basicFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, transpose, conversionTag)(params);\n}\n","import { Types } from '@antv/g2';\nimport { isArray } from '@antv/util';\nimport { flow, deepAssign } from '../../../utils';\nimport { Params } from '../../../core/adaptor';\nimport { Datum, Data } from '../../../types/common';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { FunnelOptions } from '../types';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { conversionTagComponent, transformData } from './common';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n\n  // \n  chart.data(data);\n  chart.scale({\n    [yField]: {\n      sync: true,\n    },\n  });\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    xField,\n    yField,\n    color,\n    compareField,\n    isTransposed,\n    tooltip,\n    maxSize,\n    minSize,\n    label,\n    funnelStyle,\n    state,\n    showFacetTitle,\n  } = options;\n\n  chart.facet('mirror', {\n    fields: [compareField],\n    // \n    transpose: !isTransposed,\n    padding: isTransposed ? 0 : [32, 0, 0, 0],\n    showTitle: showFacetTitle,\n    eachView(view, facet) {\n      const index = isTransposed ? facet.rowIndex : facet.columnIndex;\n\n      if (!isTransposed) {\n        view.coordinate({\n          type: 'rect',\n          actions: [['transpose'], ['scale', index === 0 ? -1 : 1, -1]],\n        });\n      }\n\n      const formatterData = transformData(facet.data, data, {\n        yField,\n        maxSize,\n        minSize,\n      });\n\n      view.data(formatterData);\n\n      // \n      const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, compareField]);\n\n      const defaultFacetLabel = isTransposed\n        ? {\n            offset: index === 0 ? 10 : -23,\n            position: (index === 0 ? 'bottom' : 'top') as Types.IntervalGeometryLabelPosition,\n          }\n        : {\n            offset: 10,\n            position: 'left' as Types.IntervalGeometryLabelPosition,\n            style: {\n              textAlign: index === 0 ? 'end' : 'start',\n            },\n          };\n\n      baseGeometry({\n        chart: view,\n        options: {\n          type: 'interval',\n          xField: xField,\n          yField: FUNNEL_MAPPING_VALUE,\n          colorField: xField,\n          tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n          mapping: {\n            // todo   shape\n            shape: 'funnel',\n            tooltip: formatter,\n            color,\n            style: funnelStyle,\n          },\n          label: label === false ? false : deepAssign({}, defaultFacetLabel, label),\n          state,\n        },\n      });\n    },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { conversionTag, isTransposed } = options;\n  // @ts-ignore\n  chart.once('beforepaint', () => {\n    chart.views.forEach((view, viewIndex) => {\n      const getLineCoordinate = (\n        datum: Datum,\n        datumIndex: number,\n        data: Data,\n        initLineOption: Record<string, any>\n      ): Types.LineOption => {\n        const ratio = viewIndex === 0 ? -1 : 1;\n        return deepAssign({}, initLineOption, {\n          start: [datumIndex - 0.5, datum[FUNNEL_MAPPING_VALUE]],\n          end: [datumIndex - 0.5, datum[FUNNEL_MAPPING_VALUE] + 0.05],\n          text: isTransposed\n            ? {\n                style: {\n                  textAlign: 'start',\n                },\n              }\n            : {\n                offsetX: conversionTag !== false ? ratio * conversionTag.offsetX : 0,\n                style: {\n                  textAlign: viewIndex === 0 ? 'end' : 'start',\n                },\n              },\n        });\n      };\n\n      conversionTagComponent(getLineCoordinate)(\n        deepAssign(\n          {},\n          {\n            chart: view,\n            options,\n          }\n        )\n      );\n    });\n  });\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function compareFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, conversionTag)(params);\n}\n","import { flow, deepAssign } from '../../../utils';\nimport { Params } from '../../../core/adaptor';\nimport { FunnelOptions } from '../types';\nimport { basicFunnel } from './basic';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n  // \n  chart.data(data);\n  chart.scale({\n    [yField]: {\n      sync: true,\n    },\n  });\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { seriesField, isTransposed, showFacetTitle } = options;\n\n  chart.facet('rect', {\n    fields: [seriesField],\n    padding: [isTransposed ? 0 : 32, 10, 0, 10],\n    showTitle: showFacetTitle,\n    eachView(view, facet) {\n      basicFunnel(\n        deepAssign({}, params, {\n          chart: view,\n          options: {\n            data: facet.data,\n          },\n        })\n      );\n    },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function facetFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry)(params);\n}\n","import { map, reduce, maxBy, isArray, get } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { flow } from '../../../utils';\nimport { Params } from '../../../core/adaptor';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_TOTAL_PERCENT, PLOYGON_X, PLOYGON_Y } from '../constant';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { Datum, Data } from '../../../types/common';\nimport { FunnelOptions } from '../types';\nimport { conversionTagComponent } from './common';\n\n/**\n * \n * @param params\n * :  yfield 2 2\n * :  g2 data ->  -> \n *  -0.5 <= x <= 0.5, 0 <= y <= 1 \n * ,  x \n *  data.length + 1  y = 4x - 1 [0.5, 1], [0.25, 0] data  y  y \n */\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n\n  // \n  const sum = reduce(\n    data,\n    (total, item) => {\n      return total + (item[yField] || 0);\n    },\n    0\n  );\n\n  const max = maxBy(data, yField)[yField];\n\n  const formatData = map(data, (row, index) => {\n    //  xy  [, ]\n    const x = [];\n    const y = [];\n\n    row[FUNNEL_TOTAL_PERCENT] = (row[yField] || 0) / sum;\n\n    // \n    if (index) {\n      const preItemX = data[index - 1][PLOYGON_X];\n      const preItemY = data[index - 1][PLOYGON_Y];\n      x[0] = preItemX[3];\n      y[0] = preItemY[3];\n      x[1] = preItemX[2];\n      y[1] = preItemY[2];\n    } else {\n      x[0] = -0.5;\n      y[0] = 1;\n      x[1] = 0.5;\n      y[1] = 1;\n    }\n\n    // \n    y[2] = y[1] - row[FUNNEL_TOTAL_PERCENT];\n    x[2] = (y[2] + 1) / 4;\n    y[3] = y[2];\n    x[3] = -x[2];\n\n    // \n    row[PLOYGON_X] = x;\n    row[PLOYGON_Y] = y;\n    row[FUNNEL_PERCENT] = (row[yField] || 0) / max;\n    row[FUNNEL_CONVERSATION] = [get(data, [index - 1, yField]), row[yField]];\n    return row;\n  });\n\n  chart.data(formatData);\n\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { xField, yField, color, tooltip, label, funnelStyle, state } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField]);\n  // \n  baseGeometry({\n    chart,\n    options: {\n      type: 'polygon',\n      xField: PLOYGON_X,\n      yField: PLOYGON_Y,\n      colorField: xField,\n      tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n      label,\n      state,\n      mapping: {\n        tooltip: formatter,\n        color,\n        style: funnelStyle,\n      },\n    },\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction transpose(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { isTransposed } = options;\n  chart.coordinate({\n    type: 'rect',\n    actions: isTransposed ? [['transpose'], ['reflect', 'x']] : [],\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const getLineCoordinate = (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ): Types.LineOption => {\n    return {\n      ...initLineOption,\n      start: [datum[PLOYGON_X][1], datum[PLOYGON_Y][1]],\n      end: [datum[PLOYGON_X][1] + 0.05, datum[PLOYGON_Y][1]],\n    };\n  };\n\n  conversionTagComponent(getLineCoordinate)(params);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function dynamicHeightFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, transpose, conversionTag)(params);\n}\n","import { isFunction, clone } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, scale, annotation, tooltip } from '../../adaptor/common';\nimport { getLocale } from '../../core/locale';\nimport { Datum } from '../../types';\nimport { flow, deepAssign } from '../../utils';\nimport { conversionTagFormatter } from '../../utils/conversion';\nimport { FunnelOptions } from './types';\nimport { basicFunnel } from './geometries/basic';\nimport { compareFunnel } from './geometries/compare';\nimport { facetFunnel } from './geometries/facet';\nimport { dynamicHeightFunnel } from './geometries/dynamic-height';\nimport { FUNNEL_CONVERSATION, FUNNEL_PERCENT } from './constant';\n\n/**\n *\n * geometry,\n * 1. interval.shape('funnel')\n * 2. \n * 3. polypon\n * 4.  + list \n* /\n\n/**\n * options \n * @param params\n */\nfunction defaultOptions(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { compareField, xField, yField, locale, funnelStyle, data } = options;\n  const i18n = getLocale(locale);\n\n  const defaultOption = {\n    label: compareField\n      ? {\n          fields: [xField, yField, compareField, FUNNEL_PERCENT, FUNNEL_CONVERSATION],\n          formatter: (datum) => `${datum[yField]}`,\n        }\n      : {\n          fields: [xField, yField, FUNNEL_PERCENT, FUNNEL_CONVERSATION],\n          offset: 0,\n          position: 'middle',\n          formatter: (datum) => `${datum[xField]} ${datum[yField]}`,\n        },\n    tooltip: {\n      title: xField,\n      formatter: (datum) => {\n        return { name: datum[xField], value: datum[yField] };\n      },\n    },\n    conversionTag: {\n      // conversionTag \n      formatter: (datum) =>\n        `${i18n.get(['conversionTag', 'label'])}: ${conversionTagFormatter(\n          ...(datum[FUNNEL_CONVERSATION] as [number, number])\n        )}`,\n    },\n  };\n\n  // \n  let style;\n  if (compareField || funnelStyle) {\n    style = (datum: Datum) => {\n      return deepAssign(\n        {},\n        // \n        compareField && { lineWidth: 1, stroke: '#fff' },\n        isFunction(funnelStyle) ? funnelStyle(datum) : funnelStyle\n      );\n    };\n  }\n\n  return deepAssign({ options: defaultOption }, params, { options: { funnelStyle: style, data: clone(data) } });\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { compareField, dynamicHeight, seriesField } = options;\n  if (seriesField) {\n    return facetFunnel(params);\n  }\n  if (compareField) {\n    return compareFunnel(params);\n  }\n  if (dynamicHeight) {\n    return dynamicHeightFunnel(params);\n  }\n\n  return basicFunnel(params);\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * \n * @param params\n */\nfunction axis(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    chart.legend(legend);\n    // TODO FIX: legend-click \n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<FunnelOptions>) {\n  return flow(\n    defaultOptions,\n    geometry,\n    meta,\n    axis,\n    tooltip,\n    interaction,\n    legend,\n    animation,\n    theme,\n    annotation()\n  )(params);\n}\n","import { each } from '@antv/util';\nimport { Element } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { StateName, StateCondition, StateObject } from '../..';\nimport { getAllElementsRecursively } from '../../utils';\nimport { FunnelOptions } from './types';\nimport { adaptor } from './adaptor';\nimport {\n  DEFAULT_OPTIONS,\n  FUNNEL_CONVERSATION as FUNNEL_CONVERSATION_FIELD,\n  FUNNEL_PERCENT,\n  FUNNEL_TOTAL_PERCENT,\n} from './constant';\n\nexport type { FunnelOptions };\n\nexport { FUNNEL_CONVERSATION_FIELD };\n\nexport class Funnel extends Plot<FunnelOptions> {\n  /**  */\n  public type: string = 'funnel';\n\n  static getDefaultOptions(): Partial<FunnelOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  // \n  /**    */\n  static CONVERSATION_FIELD = FUNNEL_CONVERSATION_FIELD;\n  /**    */\n  static PERCENT_FIELD = FUNNEL_PERCENT;\n  /**    */\n  static TOTAL_PERCENT_FIELD = FUNNEL_TOTAL_PERCENT;\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<FunnelOptions> {\n    //  defaultOption  core.getDefaultOptions funnel  defaulOption  adaptor  defaultOption \n    return Funnel.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<FunnelOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   * @param type  'active' | 'inactive' | 'selected' \n   * @param conditions \n   * @param status  true\n   */\n  public setState(type: StateName, condition: StateCondition, status: boolean = true) {\n    const elements = getAllElementsRecursively(this.chart);\n\n    each(elements, (ele: Element) => {\n      if (condition(ele.getData())) {\n        ele.setState(type, status);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public getStates(): StateObject[] {\n    const elements = getAllElementsRecursively(this.chart);\n\n    const stateObjects: StateObject[] = [];\n    each(elements, (element: Element) => {\n      const data = element.getData();\n      const states = element.getStates();\n      each(states, (state) => {\n        stateObjects.push({ data, state, geometry: element.geometry, element });\n      });\n    });\n\n    return stateObjects;\n  }\n}\n","const CAT_VALUE = 'liquid';\n\n/**\n * \n */\nexport function getLiquidData(percent: number) {\n  return [{ percent, type: CAT_VALUE }];\n}\n","import { Geometry } from '@antv/g2';\nimport { get, isNil } from '@antv/util';\nimport { interaction, animation, theme, scale, pattern } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign, renderStatistic } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { LiquidOptions, CustomInfo } from './types';\nimport { getLiquidData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<LiquidOptions>): Params<LiquidOptions> {\n  const { chart, options } = params;\n  const { percent, liquidStyle, radius, outline, wave, shape, animation } = options;\n\n  chart.scale({\n    percent: {\n      min: 0,\n      max: 1,\n    },\n  });\n\n  chart.data(getLiquidData(percent));\n\n  const color = options.color || chart.getTheme().defaultColor;\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'type',\n      yField: 'percent',\n      // radius  columnWidthRatio \n      //   radius \n      widthRatio: radius,\n      interval: {\n        color,\n        style: liquidStyle,\n        shape: 'liquid-fill-gauge',\n      },\n    },\n  });\n  const { ext } = interval(p);\n  const geometry = ext.geometry as Geometry;\n  const { background } = chart.getTheme();\n  const customInfo: CustomInfo = {\n    radius,\n    outline,\n    wave,\n    shape,\n    background,\n    animation,\n  };\n\n  //  radius  shape \n  geometry.customInfo(customInfo);\n\n  // \n  chart.legend(false);\n  chart.axis(false);\n  chart.tooltip(false);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function statistic(params: Params<LiquidOptions>, updated?: boolean): Params<LiquidOptions> {\n  const { chart, options } = params;\n  const { statistic, percent, meta } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n\n  const metaFormatter = get(meta, ['percent', 'formatter']) || ((v) => `${(v * 100).toFixed(2)}%`);\n  let contentOpt = statistic.content;\n  if (contentOpt) {\n    contentOpt = deepAssign({}, contentOpt, {\n      content: !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(percent),\n    });\n  }\n\n  renderStatistic(chart, { statistic: { ...statistic, content: contentOpt }, plotType: 'liquid' }, { percent });\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<LiquidOptions>) {\n  // flow  G2 API ()\n  return flow(theme, pattern('liquidStyle'), geometry, statistic, scale({}), animation, interaction)(params);\n}\n","/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  radius: 0.9,\n  statistic: {\n    title: false as const,\n    content: {\n      style: {\n        opacity: 0.75,\n        fontSize: '30px',\n        lineHeight: '30px',\n        textAlign: 'center',\n      },\n    },\n  },\n  outline: {\n    border: 2,\n    distance: 0,\n  },\n  wave: {\n    count: 3,\n    length: 192,\n  },\n  shape: 'circle',\n};\n","import { registerShape } from '@antv/g2';\nimport { IGroup, IShape } from '@antv/g-base';\nimport { reduce, isNumber, mix } from '@antv/util';\nimport { transform } from '../../../utils/matrix';\nimport { Point, ShapeStyle } from '../../../types';\nimport { LiquidOptions, CustomInfo } from '../types';\n\nconst DURATION = 5000;\n\n/**\n * \n * @param min\n * @param max\n * @param factor\n */\nfunction lerp(min: number, max: number, factor: number) {\n  return min + (max - min) * factor;\n}\n\n/**\n *  attrs\n * @param cfg\n */\nfunction getFillAttrs(cfg: ShapeStyle) {\n  const attrs = { opacity: 1, ...cfg.style };\n\n  if (cfg.color && !attrs.fill) {\n    attrs.fill = cfg.color;\n  }\n\n  return attrs;\n}\n\n/**\n * shape  attrs\n * @param cfg\n */\nfunction getLineAttrs(cfg: ShapeStyle) {\n  const defaultAttrs = {\n    fill: '#fff',\n    fillOpacity: 0,\n    lineWidth: 4,\n  };\n  const attrs = mix({}, defaultAttrs, cfg.style);\n\n  if (cfg.color && !attrs.stroke) {\n    attrs.stroke = cfg.color;\n  }\n  if (isNumber(cfg.opacity)) {\n    attrs.opacity = attrs.strokeOpacity = cfg.opacity;\n  }\n\n  return attrs;\n}\n\n/**\n * \n * Using Bezier curves to fit sine wave.\n * There is 4 control points for each curve of wave,\n * which is at 1/4 wave length of the sine wave.\n *\n * The control points for a wave from (a) to (d) are a-b-c-d:\n *          c *----* d\n *     b *\n *       |\n * ... a * ..................\n *\n * whose positions are a: (0, 0), b: (0.5, 0.5), c: (1, 1), d: (PI / 2, 1)\n *\n * @param x          x position of the left-most point (a)\n * @param stage      0-3, stating which part of the wave it is\n * @param waveLength wave length of the sine wave\n * @param amplitude  wave amplitude\n * @return \n */\nfunction getWaterWavePositions(x: number, stage: number, waveLength: number, amplitude: number) {\n  if (stage === 0) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, amplitude],\n      [x + waveLength / 4, amplitude],\n    ];\n  }\n  if (stage === 1) {\n    return [\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), amplitude],\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), amplitude / 2],\n      [x + waveLength / 4, 0],\n    ];\n  }\n  if (stage === 2) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, -amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, -amplitude],\n      [x + waveLength / 4, -amplitude],\n    ];\n  }\n  return [\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), -amplitude],\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), -amplitude / 2],\n    [x + waveLength / 4, 0],\n  ];\n}\n/**\n * \n * @param radius          \n * @param waterLevel      \n * @param waveLength      \n * @param phase           \n * @param amplitude       \n * @param cx              x\n * @param cy              y\n * @return path            \n * @reference http://gitlab.alipay-inc.com/datavis/g6/blob/1.2.0/src/graph/utils/path.js#L135\n */\nfunction getWaterWavePath(\n  radius: number,\n  waterLevel: number,\n  waveLength: number,\n  phase: number,\n  amplitude: number,\n  cx: number,\n  cy: number\n) {\n  const curves = Math.ceil(((2 * radius) / waveLength) * 4) * 4;\n  const path = [];\n  let _phase = phase;\n\n  // map phase to [-Math.PI * 2, 0]\n  while (_phase < -Math.PI * 2) {\n    _phase += Math.PI * 2;\n  }\n  while (_phase > 0) {\n    _phase -= Math.PI * 2;\n  }\n  _phase = (_phase / Math.PI / 2) * waveLength;\n\n  const left = cx - radius + _phase - radius * 2;\n  /**\n   * top-left corner as start point\n   *\n   * draws this point\n   *  |\n   * \\|/\n   *  ~~~~~~~~\n   *  |      |\n   *  +------+\n   */\n  path.push(['M', left, waterLevel]);\n\n  /**\n   * top wave\n   *\n   * ~~~~~~~~ <- draws this sine wave\n   * |      |\n   * +------+\n   */\n  let waveRight = 0;\n  for (let c = 0; c < curves; ++c) {\n    const stage = c % 4;\n    const pos = getWaterWavePositions((c * waveLength) / 4, stage, waveLength, amplitude);\n    path.push([\n      'C',\n      pos[0][0] + left,\n      -pos[0][1] + waterLevel,\n      pos[1][0] + left,\n      -pos[1][1] + waterLevel,\n      pos[2][0] + left,\n      -pos[2][1] + waterLevel,\n    ]);\n\n    if (c === curves - 1) {\n      waveRight = pos[2][0];\n    }\n  }\n\n  /**\n   * top-right corner\n   *\n   *                       ~~~~~~~~\n   * 3. draws this line -> |      | <- 1. draws this line\n   *                       +------+\n   *                          ^\n   *                          |\n   *                  2. draws this line\n   */\n  path.push(['L', waveRight + left, cy + radius]);\n  path.push(['L', left, cy + radius]);\n  path.push(['Z']);\n  // path.push(['L', left, waterLevel]);\n  return path;\n}\n\n/**\n * \n * @param x           x\n * @param y           y\n * @param level        01\n * @param waveCount   \n * @param waveAttrs      \n * @param group       \n * @param clip        \n * @param radius      \n * @param waveLength  \n */\nexport function addWaterWave(\n  x: number,\n  y: number,\n  level: number,\n  waveCount: number,\n  waveAttrs: ShapeStyle,\n  group: IGroup,\n  clip: IShape,\n  radius: number,\n  waveLength: number,\n  animation: LiquidOptions['animation']\n) {\n  //   \n  const { fill, opacity } = waveAttrs;\n  const bbox = clip.getBBox();\n  const width = bbox.maxX - bbox.minX;\n  const height = bbox.maxY - bbox.minY;\n\n  //  waveCount \n  for (let idx = 0; idx < waveCount; idx++) {\n    const factor = waveCount <= 1 ? 0 : idx / (waveCount - 1);\n\n    // \n    const wave = group.addShape('path', {\n      name: `waterwave-path`,\n      attrs: {\n        // \n        path: getWaterWavePath(\n          radius,\n          bbox.minY + height * level,\n          waveLength,\n          0,\n          width / 32, // \n          x,\n          y\n        ),\n        fill,\n        opacity: lerp(0.2, 0.9, factor) * opacity,\n      },\n    });\n\n    try {\n      //  underfind \n      if (animation === false) return;\n      const matrix = transform([['t', waveLength, 0]]);\n\n      wave.stopAnimate();\n      wave.animate(\n        { matrix },\n        {\n          duration: lerp(0.5 * DURATION, DURATION, factor),\n          repeat: true,\n        }\n      );\n    } catch (e) {\n      // TODO off-screen canvas  canvas\n      console.warn('off-screen group animate error!');\n    }\n  }\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction pin(x: number, y: number, width: number, height: number) {\n  const w = (width * 2) / 3;\n  const h = Math.max(w, height);\n  const r = w / 2;\n\n  // attrs of the upper circle\n  const cx = x;\n  const cy = r + y - h / 2;\n  const theta = Math.asin(r / ((h - r) * 0.85));\n  const dy = Math.sin(theta) * r;\n  const dx = Math.cos(theta) * r;\n\n  // the start point of the path\n  const x0 = cx - dx;\n  const y0 = cy + dy;\n\n  // control point\n  const cpX = x;\n  const cpY = cy + r / Math.sin(theta);\n\n  return `\n      M ${x0} ${y0}\n      A ${r} ${r} 0 1 1 ${x0 + dx * 2} ${y0}\n      Q ${cpX} ${cpY} ${x} ${y + h / 2}\n      Q ${cpX} ${cpY} ${x0} ${y0}\n      Z \n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction circle(x: number, y: number, width: number, height: number) {\n  const rx = width / 2;\n  const ry = height / 2;\n  return `\n      M ${x} ${y - ry} \n      a ${rx} ${ry} 0 1 0 0 ${ry * 2}\n      a ${rx} ${ry} 0 1 0 0 ${-ry * 2}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction diamond(x: number, y: number, width: number, height: number) {\n  const h = height / 2;\n  const w = width / 2;\n  return `\n      M ${x} ${y - h}\n      L ${x + w} ${y}\n      L ${x} ${y + h}\n      L ${x - w} ${y}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction triangle(x: number, y: number, width: number, height: number) {\n  const h = height / 2;\n  const w = width / 2;\n  return `\n      M ${x} ${y - h}\n      L ${x + w} ${y + h}\n      L ${x - w} ${y + h}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction rect(x: number, y: number, width: number, height: number) {\n  const GOLDEN_SECTION_RATIO = 0.618;\n  const h = height / 2;\n  const w = (width / 2) * GOLDEN_SECTION_RATIO;\n  return `\n      M ${x - w} ${y - h}\n      L ${x + w} ${y - h}\n      L ${x + w} ${y + h}\n      L ${x - w} ${y + h}\n      Z\n    `;\n}\n\nconst builtInShapeByName = {\n  pin,\n  circle,\n  diamond,\n  triangle,\n  rect,\n};\n\nregisterShape('interval', 'liquid-fill-gauge', {\n  draw(cfg: any, container: IGroup) {\n    const cx = 0.5;\n    const cy = 0.5;\n\n    const { customInfo } = cfg;\n    const { radius: radio, shape, background, animation } = customInfo as CustomInfo;\n    const outline: LiquidOptions['outline'] = customInfo.outline;\n    const wave: LiquidOptions['wave'] = customInfo.wave;\n    const { border, distance } = outline;\n    const { count: waveCount, length: waveLength } = wave;\n\n    //  minX\n    const minX = reduce(\n      cfg.points as Point[],\n      (r: number, p: Point) => {\n        return Math.min(r, p.x);\n      },\n      Infinity\n    );\n\n    const center = this.parsePoint({ x: cx, y: cy });\n    const minXPoint = this.parsePoint({ x: minX, y: cy });\n    const halfWidth = center.x - minXPoint.x;\n\n    //   radius \n    const radius = Math.min(halfWidth, minXPoint.y * radio);\n    const waveAttrs = getFillAttrs(cfg);\n    const outlineAttrs = getLineAttrs(mix({}, cfg, outline));\n    const innerRadius = radius - border / 2;\n\n    const buildPath = typeof shape === 'function' ? shape : builtInShapeByName[shape] || builtInShapeByName['circle'];\n    const shapePath = buildPath(center.x, center.y, innerRadius * 2, innerRadius * 2);\n\n    // 1. \n    const waves = container.addGroup({\n      name: 'waves',\n    });\n\n    // 3.  clip \n    const clipPath = waves.setClip({\n      type: 'path',\n      attrs: {\n        path: shapePath,\n      },\n    });\n\n    // 4. \n    addWaterWave(\n      center.x,\n      center.y,\n      1 - (cfg.points[1] as Point).y,\n      waveCount,\n      waveAttrs,\n      waves,\n      clipPath,\n      radius * 2,\n      waveLength,\n      animation\n    );\n\n    // 2.  distance  border\n    container.addShape('path', {\n      name: 'distance',\n      attrs: {\n        path: shapePath,\n        fill: 'transparent',\n        lineWidth: border + distance * 2,\n        stroke: background === 'transparent' ? '#fff' : background,\n      },\n    });\n\n    // 3.  border  border\n    container.addShape('path', {\n      name: 'wrap',\n      attrs: mix(outlineAttrs, {\n        path: shapePath,\n        fill: 'transparent',\n        lineWidth: border,\n      }),\n    });\n\n    return container;\n  },\n});\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { LiquidOptions } from './types';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getLiquidData } from './utils';\n// register liquid shape\nimport './shapes/liquid';\n\nexport { addWaterWave } from './shapes/liquid';\n\nexport type { LiquidOptions };\n\n/**\n * \n */\nexport class Liquid extends Plot<LiquidOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<LiquidOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'liquid';\n\n  /**\n   *   ,  base \n   */\n  protected getDefaultOptions(): Partial<LiquidOptions> {\n    return Liquid.getDefaultOptions();\n  }\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    this.updateOption({ percent });\n\n    this.chart.data(getLiquidData(percent));\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<LiquidOptions> {\n    return adaptor;\n  }\n}\n","import { BulletOptions } from './types';\n\ntype TransformData = {\n  min: number;\n  max: number;\n  ds: any[];\n};\n/**\n * bullet \n * @param options\n */\nexport function transformData(options: BulletOptions): TransformData {\n  const { data, xField, measureField, rangeField, targetField, layout } = options;\n  const ds: any[] = [];\n  const scales: number[] = [];\n  data.forEach((item: any, index: number) => {\n    //  title * range\n    item[rangeField].sort((a: number, b: number) => a - b);\n    item[rangeField].forEach((d: number, i: number) => {\n      const range = i === 0 ? d : item[rangeField][i] - item[rangeField][i - 1];\n      ds.push({\n        rKey: `${rangeField}_${i}`,\n        [xField]: xField ? item[xField] : String(index), // xField\n        [rangeField]: range,\n      });\n    });\n    //  title * measure\n    item[measureField].forEach((d: number, i: number) => {\n      ds.push({\n        mKey: item[measureField].length > 1 ? `${measureField}_${i}` : `${measureField}`, // \n        [xField]: xField ? item[xField] : String(index),\n        [measureField]: d,\n      });\n    });\n    //  title * target\n    ds.push({\n      tKey: `${targetField}`,\n      [xField]: xField ? item[xField] : String(index),\n      [targetField]: item[targetField],\n    });\n    // \n    scales.push(item[rangeField], item[measureField], item[targetField]);\n  });\n  // scales \n  let min = Math.min(...scales.flat(Infinity));\n  const max = Math.max(...scales.flat(Infinity));\n  // min  0  0 \n  min = min > 0 ? 0 : min;\n\n  // \n  if (layout === 'vertical') {\n    ds.reverse();\n  }\n  return { min, max, ds };\n}\n","import { get, isFunction } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, tooltip, scale } from '../../adaptor/common';\nimport { flow, transformLabel, deepAssign } from '../../utils';\nimport { Datum } from '../../types';\nimport { interval, point } from '../../adaptor/geometries';\nimport { BulletOptions } from './types';\nimport { transformData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { bulletStyle, targetField, rangeField, measureField, xField, color, layout, size, label } = options;\n  // \n  const { min, max, ds } = transformData(options);\n  chart.data(ds);\n\n  // rangeGeometry\n  const r = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: rangeField,\n      seriesField: 'rKey',\n      isStack: true,\n      label: get(label, 'range'),\n      interval: {\n        color: get(color, 'range'),\n        style: get(bulletStyle, 'range'),\n        size: get(size, 'range'),\n      },\n    },\n  });\n  interval(r);\n  //  tooltip \n  chart.geometries[0].tooltip(false);\n\n  // measureGeometry\n  const m = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: measureField,\n      seriesField: 'mKey',\n      isStack: true,\n      label: get(label, 'measure'),\n      interval: {\n        color: get(color, 'measure'),\n        style: get(bulletStyle, 'measure'),\n        size: get(size, 'measure'),\n      },\n    },\n  });\n  interval(m);\n\n  // targetGeometry\n  const t = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: targetField,\n      seriesField: 'tKey',\n      label: get(label, 'target'),\n      point: {\n        color: get(color, 'target'),\n        style: get(bulletStyle, 'target'),\n        size: isFunction(get(size, 'target'))\n          ? (data: Datum) => get(size, 'target')(data) / 2\n          : get(size, 'target') / 2,\n        shape: layout === 'horizontal' ? 'line' : 'hyphen',\n      },\n    },\n  });\n  point(t);\n\n  // \n  if (layout === 'horizontal') {\n    chart.coordinate().transpose();\n  }\n\n  return { ...params, ext: { data: { min, max } } };\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { options, ext } = params;\n  const { xAxis, yAxis, targetField, rangeField, measureField, xField } = options;\n\n  const extData = ext.data;\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [measureField]: yAxis,\n      },\n      //  meta\n      {\n        [measureField]: { min: extData?.min, max: extData?.max, sync: true },\n        [targetField]: {\n          sync: `${measureField}`,\n        },\n        [rangeField]: {\n          sync: `${measureField}`,\n        },\n      }\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, measureField, rangeField, targetField } = options;\n\n  chart.axis(`${rangeField}`, false);\n  chart.axis(`${targetField}`, false);\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(`${xField}`, false);\n  } else {\n    chart.axis(`${xField}`, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(`${measureField}`, false);\n  } else {\n    chart.axis(`${measureField}`, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n  chart.removeInteraction('legend-filter');\n  // @TODO  legend\n  chart.legend(legend);\n\n  //  color  legend, legend\n  chart.legend('rKey', false);\n  chart.legend('mKey', false);\n  chart.legend('tKey', false);\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { label, measureField, targetField, rangeField } = options;\n  const [rangeGeometry, measureGeometry, targetGeometry] = chart.geometries;\n\n  if (get(label, 'range')) {\n    rangeGeometry.label(`${rangeField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.range),\n    });\n  } else {\n    rangeGeometry.label(false);\n  }\n  if (get(label, 'measure')) {\n    measureGeometry.label(`${measureField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.measure),\n    });\n  } else {\n    measureGeometry.label(false);\n  }\n  if (get(label, 'target')) {\n    targetGeometry.label(`${targetField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.target),\n    });\n  } else {\n    targetGeometry.label(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BulletOptions>) {\n  // flow  G2 API\n  flow(geometry, meta, axis, legend, theme, label, tooltip, interaction, animation)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  layout: 'horizontal',\n  size: {\n    range: 30,\n    measure: 20,\n    target: 20,\n  },\n  xAxis: {\n    tickLine: false,\n    line: null,\n  },\n  bulletStyle: {\n    range: {\n      fillOpacity: 0.5,\n    },\n  },\n  label: {\n    measure: {\n      position: 'right',\n    },\n  },\n  tooltip: {\n    // \n    showMarkers: false,\n  },\n});\n","import { isArray, isString, filter } from '@antv/util';\n\n/** export  */\n/**  */\nexport const NODE_INDEX_FIELD = 'nodeIndex';\n/** child  */\nexport const CHILD_NODE_COUNT = 'childNodeCount';\n/**  */\nexport const NODE_ANCESTORS_FIELD = 'nodeAncestor';\n\nconst INVALID_FIELD_ERR_MSG = 'Invalid field: it must be a string!';\n\ninterface Options {\n  field?: string | string[];\n  fields?: string | string[];\n}\n\nexport function getField(options: Options, defaultField?: string): string {\n  const { field, fields } = options;\n  if (isString(field)) {\n    return field;\n  }\n  if (isArray(field)) {\n    console.warn(INVALID_FIELD_ERR_MSG);\n    return field[0];\n  }\n  console.warn(`${INVALID_FIELD_ERR_MSG} will try to get fields instead.`);\n  if (isString(fields)) {\n    return fields;\n  }\n  if (isArray(fields) && fields.length) {\n    return fields[0];\n  }\n  if (defaultField) {\n    return defaultField;\n  }\n  throw new TypeError(INVALID_FIELD_ERR_MSG);\n}\n\nexport function getAllNodes(root: any) {\n  const nodes: any[] = [];\n  if (root && root.each) {\n    let parent;\n    let index;\n    // d3-hierarchy: Invokes the specified function for node and each descendant in **breadth-first order**\n    root.each((node: any) => {\n      if (node.parent !== parent) {\n        parent = node.parent;\n        index = 0;\n      } else {\n        index += 1;\n      }\n      const ancestors = filter(\n        (node.ancestors?.() || []).map((d: any) => nodes.find((n) => n.name === d.name) || d),\n        ({ depth }) => depth > 0 && depth < node.depth\n      );\n\n      node[NODE_ANCESTORS_FIELD] = ancestors;\n      node[CHILD_NODE_COUNT] = node.children?.length || 0;\n      node[NODE_INDEX_FIELD] = index;\n\n      nodes.push(node);\n    });\n  } else if (root && root.eachNode) {\n    // @antv/hierarchy\n    root.eachNode((node: any) => {\n      nodes.push(node);\n    });\n  }\n  return nodes;\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { BulletOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { transformData } from './utils';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { BulletOptions };\n\nexport class Bullet extends Plot<BulletOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<BulletOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'bullet';\n\n  public changeData(data) {\n    this.updateOption({ data });\n    const { min, max, ds } = transformData(this.options);\n    // scale\n    meta({ options: this.options, ext: { data: { min, max } }, chart: this.chart });\n    this.chart.changeData(ds);\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<BulletOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Bullet.getDefaultOptions();\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { CHILD_NODE_COUNT, NODE_ANCESTORS_FIELD, NODE_INDEX_FIELD } from '../../utils/hierarchy/util';\nimport { SunburstOptions } from './types';\n\n/**\n *  root \n */\nexport const SUNBURST_ANCESTOR_FIELD = 'ancestor-node';\nexport const SUNBURST_Y_FIELD = 'value';\nexport const SUNBURST_PATH_FIELD = 'path';\n\n/**  */\nexport const RAW_FIELDS = [\n  SUNBURST_PATH_FIELD,\n  NODE_INDEX_FIELD,\n  NODE_ANCESTORS_FIELD,\n  CHILD_NODE_COUNT,\n  'name',\n  'depth',\n  'height',\n];\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS: Partial<SunburstOptions> = deepAssign({}, Plot.getDefaultOptions(), {\n  innerRadius: 0,\n  radius: 0.85,\n\n  // \n  hierarchyConfig: {\n    //  value\n    field: 'value',\n  },\n\n  // \n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n    showTitle: false,\n  },\n  legend: false,\n\n  // \n  sunburstStyle: {\n    lineWidth: 0.5,\n    stroke: '#FFF',\n  },\n\n  // \n  drilldown: { enabled: true },\n});\n","import { Action, IGroup, Util } from '@antv/g2';\nimport { get, last, isNil, size } from '@antv/util';\nimport { Data } from '../../types';\nimport { DrillDownCfg } from '../../types/drill-down';\nimport { deepAssign } from '../../utils/deep-assign';\n\n// '/'\nconst PADDING = 4;\n// \nconst PADDING_LEFT = 0;\n// \nexport const PADDING_TOP = 5;\n\n/** Group name of breadCrumb:  */\nexport const BREAD_CRUMB_NAME = 'drilldown-bread-crumb';\n\n// \nexport const DEFAULT_BREAD_CRUMB_CONFIG: DrillDownCfg['breadCrumb'] = {\n  /**  */\n  position: 'top-left',\n  dividerText: '/',\n  textStyle: {\n    fontSize: 12,\n    fill: 'rgba(0, 0, 0, 0.65)',\n    cursor: 'pointer',\n  },\n  activeTextStyle: {\n    fill: '#87B5FF',\n  },\n};\n\n/**\n * hierarchy \n */\nexport const HIERARCHY_DATA_TRANSFORM_PARAMS = 'hierarchy-data-transform-params';\n\n/**\n * Hierarchy plot \n */\nexport type HierarchyNode<N = any /**  */> = {\n  /** todo  key  origin */\n  data: { name: string; value?: any; children: { name: string; value?: any }[] };\n  /** ,  transformData  */\n  [HIERARCHY_DATA_TRANSFORM_PARAMS]: object;\n  /** .  unique */\n  depth: number;\n  /** depth + height =  */\n  height: number;\n  parent: N;\n  children: N[];\n};\n\ntype HistoryCache = {\n  name: string;\n  id: string;\n  children: Data;\n}[];\n\n/**\n * @description  action\n * @author liuzhenying\n *\n * hierarchy plot\n */\nexport class DrillDownAction extends Action {\n  /** Action name */\n  public name = 'drill-down';\n\n  // \n  protected historyCache: HistoryCache = [];\n  //  group\n  private breadCrumbGroup: IGroup = null;\n  // \n  private breadCrumbCfg: DrillDownCfg['breadCrumb'] = DEFAULT_BREAD_CRUMB_CONFIG;\n\n  /**\n   * , \n   */\n  public click() {\n    const data = get(this.context, ['event', 'data', 'data']);\n    if (!data) return false;\n\n    this.drill(data);\n    this.drawBreadCrumb();\n  }\n\n  /**\n   *  chart  afterchangesize \n   */\n  public resetPosition() {\n    //  changedata  resetPosition  this.breadCrumbGroup \n    if (!this.breadCrumbGroup) return;\n    const coordinate = this.context.view.getCoordinate();\n    const breadCrumbGroup = this.breadCrumbGroup;\n    const bbox = breadCrumbGroup.getBBox();\n\n    const { position } = this.getButtonCfg();\n\n    // @todo  margin  padding \n    //  polar  coordinate\n    let point = { x: coordinate.start.x, y: coordinate.end.y - (bbox.height + PADDING_TOP * 2) };\n    if (coordinate.isPolar) {\n      // \n      point = { x: 0, y: 0 };\n    }\n    if (position === 'bottom-left') {\n      // \n      point = { x: coordinate.start.x, y: coordinate.start.y };\n    }\n    /** PADDING_LEFT, PADDING_TOP  */\n    const matrix = Util.transform(null, [['t', point.x + PADDING_LEFT, point.y + bbox.height + PADDING_TOP]]);\n    breadCrumbGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public back(): void {\n    if (size(this.historyCache)) {\n      this.backTo(this.historyCache.slice(0, -1));\n    }\n  }\n\n  /**\n   * \n   */\n  public reset(): void {\n    if (this.historyCache[0]) {\n      this.backTo(this.historyCache.slice(0, 1));\n    }\n    // \n    this.historyCache = [];\n    this.hideCrumbGroup();\n  }\n\n  /**\n   *  view \n   * @param nodeInfo \n   */\n  protected drill(nodeInfo: HierarchyNode) {\n    const { view } = this.context;\n    const transformData = get(view, ['interactions', 'drill-down', 'cfg', 'transformData'], (v) => v);\n\n    //  update \n    const drillData = transformData({ data: nodeInfo.data, ...nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] });\n    view.changeData(drillData);\n\n    // \n    const historyCache: HistoryCache = [];\n\n    let node = nodeInfo;\n    while (node) {\n      const nodeData = node.data;\n      historyCache.unshift({\n        id: `${nodeData.name}_${node.height}_${node.depth}`,\n        name: nodeData.name,\n        // children \n        children: transformData({ data: nodeData, ...nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] }),\n      });\n      node = node.parent;\n    }\n\n    this.historyCache = (this.historyCache || []).slice(0, -1).concat(historyCache);\n  }\n\n  /**\n   * \n   * @param historyCache \n   */\n  protected backTo(historyCache: HistoryCache) {\n    if (!historyCache || historyCache.length <= 0) {\n      return;\n    }\n\n    const { view } = this.context;\n    const data = last(historyCache).children; // \n    view.changeData(data);\n\n    if (historyCache.length > 1) {\n      this.historyCache = historyCache;\n      this.drawBreadCrumb();\n    } else {\n      // \n      this.historyCache = [];\n      this.hideCrumbGroup();\n    }\n  }\n\n  /**\n   *  mix \n   */\n  private getButtonCfg() {\n    const { view } = this.context;\n    const drillDownConfig: DrillDownCfg = get(view, ['interactions', 'drill-down', 'cfg', 'drillDownConfig']);\n\n    return deepAssign(this.breadCrumbCfg, drillDownConfig?.breadCrumb, this.cfg);\n  }\n\n  /**\n   * \n   */\n  private drawBreadCrumb() {\n    this.drawBreadCrumbGroup();\n    this.resetPosition();\n    this.breadCrumbGroup.show();\n  }\n\n  /**\n   *  Button  \n   */\n  private drawBreadCrumbGroup() {\n    const config = this.getButtonCfg();\n    const cache = this.historyCache;\n\n    //  group\n    if (!this.breadCrumbGroup) {\n      this.breadCrumbGroup = this.context.view.foregroundGroup.addGroup({\n        name: BREAD_CRUMB_NAME,\n      });\n    } else {\n      this.breadCrumbGroup.clear();\n    }\n\n    // \n    let left = 0;\n    cache.forEach((record, index) => {\n      // \n      const textShape = this.breadCrumbGroup.addShape({\n        type: 'text',\n        id: record.id,\n        name: `${BREAD_CRUMB_NAME}_${record.name}_text`,\n        attrs: {\n          text: index === 0 && !isNil(config.rootText) ? config.rootText : record.name,\n          ...config.textStyle,\n          x: left,\n          y: 0,\n        },\n      });\n\n      const textShapeBox = textShape.getBBox();\n      left += textShapeBox.width + PADDING;\n\n      // \n      textShape.on('click', (event) => {\n        const targetId = event.target.get('id');\n        if (targetId !== last(cache)?.id) {\n          const newHistoryCache = cache.slice(0, cache.findIndex((d) => d.id === targetId) + 1);\n          this.backTo(newHistoryCache);\n        }\n      });\n      // active \n      textShape.on('mouseenter', (event) => {\n        const targetId = event.target.get('id');\n        if (targetId !== last(cache)?.id) {\n          textShape.attr(config.activeTextStyle);\n        } else {\n          textShape.attr({ cursor: 'default' });\n        }\n      });\n      textShape.on('mouseleave', () => {\n        textShape.attr(config.textStyle);\n      });\n\n      if (index < cache.length - 1) {\n        // \n        const dividerShape = this.breadCrumbGroup.addShape({\n          type: 'text',\n          name: `${config.name}_${record.name}_divider`,\n          attrs: {\n            text: config.dividerText,\n            ...config.textStyle,\n            x: left,\n            y: 0,\n          },\n        });\n\n        const dividerBox = dividerShape.getBBox();\n        left += dividerBox.width + PADDING;\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  private hideCrumbGroup() {\n    if (this.breadCrumbGroup) {\n      this.breadCrumbGroup.hide();\n    }\n  }\n\n  /**\n   * @override\n   * destroy: \n   */\n  public destroy() {\n    if (this.breadCrumbGroup) {\n      this.breadCrumbGroup.remove();\n    }\n    super.destroy();\n  }\n}\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Dont include the roots parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray, reduce, size } from '@antv/util';\nimport { getField, getAllNodes } from './util';\n\nconst DEFAULT_OPTIONS: Options = {\n  field: 'value',\n  size: [1, 1], // width, height\n  round: false,\n  padding: 0,\n  // \n  sort: (a, b) => b.value - a.value,\n  as: ['x', 'y'],\n  //  parentValue,  true \n  ignoreParentValue: true,\n};\n\nexport interface Options {\n  field: string;\n  size?: [number, number];\n  round?: boolean;\n  ratio?: number;\n  padding?: number;\n  sort?: Function;\n  as?: [string, string];\n\n  ignoreParentValue?: boolean;\n}\n\nexport function partition(data: any, options: Options): any[] {\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 2) {\n    throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const partition = (data) =>\n    d3Hierarchy.partition().size(options.size).round(options.round).padding(options.padding)(\n      /**\n       * d3Hierarchy  sum  node  node  post-order traversal  value  node\n       * for example:\n       * { node: 'parent', value: 10, children: [{node: 'child1', value: 5}, {node: 'child2', value: 5}, ]}\n       * parent  sum(node(parent)) + sum(node(child1)) + sum(node(child2))\n       * sum d  data, children \n       */\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) =>\n          size(d.children)\n            ? options.ignoreParentValue\n              ? 0\n              : d[field] - reduce(d.children, (a, b) => a + b[field], 0)\n            : d[field]\n        )\n        .sort(options.sort)\n    );\n  const root = partition(data);\n\n  /*\n   * points:\n   *   3  2\n   *   0  1\n   */\n  const x = as[0];\n  const y = as[1];\n\n  root.each((node) => {\n    node[x] = [node.x0, node.x1, node.x1, node.x0];\n    node[y] = [node.y1, node.y1, node.y0, node.y0];\n    //  \n    node.name = node.name || node.data?.name || node.data?.label;\n    node.data.name = node.name;\n\n    ['x0', 'x1', 'y0', 'y1'].forEach((prop) => {\n      if (as.indexOf(prop) === -1) {\n        delete node[prop];\n      }\n    });\n  });\n\n  return getAllNodes(root);\n}\n","function defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n}\n","export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n\nexport function shuffle(array) {\n  var m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n","import {shuffle} from \"../array.js\";\n\nexport default function(circles) {\n  var i = 0, n = (circles = shuffle(Array.from(circles))).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + Math.max(a.r, b.r, 1) * 1e-9, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(A ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n","import array from \"../array.js\";\nimport enclose from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packEnclose(circles) {\n  if (!(n = (circles = array(circles)).length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // Closeness is determined by linear distance along the front-chain.\n    // Ahead or behind is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = enclose(a);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packEnclose(circles);\n  return circles;\n}\n","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {packEnclose} from \"./siblings.js\";\nimport {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildren(padding, 0.5))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildren(constantZero, 1))\n          .eachAfter(packChildren(padding, root.r / Math.min(dx, dy)))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildren(padding, k) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packEnclose(children);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","import {required} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar preroot = {depth: -1},\n    ambiguous = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId;\n\n  function stratify(data) {\n    var nodes = Array.from(data),\n        n = nodes.length,\n        d,\n        i,\n        root,\n        parent,\n        node,\n        nodeId,\n        nodeKey,\n        nodeByKey = new Map;\n\n    for (i = 0; i < n; ++i) {\n      d = nodes[i], node = nodes[i] = new Node(d);\n      if ((nodeId = id(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = node.id = nodeId;\n        nodeByKey.set(nodeKey, nodeByKey.has(nodeKey) ? ambiguous : node);\n      }\n      if ((nodeId = parentId(d, i, data)) != null && (nodeId += \"\")) {\n        node.parent = nodeId;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (nodeId = node.parent) {\n        parent = nodeByKey.get(nodeId);\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      } else {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = required(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = required(x), stratify) : parentId;\n  };\n\n  return stratify;\n}\n","import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-s ancestor is a sibling of v, returns vi-s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = value ? (x0 * valueRight + x1 * valueLeft) / value : x1;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = value ? (y0 * valueRight + y1 * valueLeft) / value : y1;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n","import dice from \"./dice.js\";\nimport slice from \"./slice.js\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += (y1 - y0) * row.value / value : y1);\n        else treemapSlice(row, x0, y0, value ? x0 += (x1 - x0) * row.value / value : x1, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n","import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray } from '@antv/util';\nimport { HierarchyOption } from './types';\nimport { getField, getAllNodes } from './util';\n\nconst DEFAULT_OPTIONS: HierarchyOption = {\n  field: 'value',\n  tile: 'treemapSquarify', // treemapBinary, treemapDice, treemapSlice, treemapSliceDice, treemapSquarify, treemapResquarify\n  size: [1, 1], // width, height\n  round: false,\n  ignoreParentValue: true,\n  padding: 0,\n  paddingInner: 0,\n  paddingOuter: 0,\n  paddingTop: 0,\n  paddingRight: 0,\n  paddingBottom: 0,\n  paddingLeft: 0,\n  as: ['x', 'y'],\n  // \n  sort: (a, b) => b.value - a.value,\n  // , treemapSquarify \n  ratio: 0.5 * (1 + Math.sqrt(5)),\n};\n\nexport function getTileMethod(tile: string, ratio: number) {\n  return tile === 'treemapSquarify' ? d3Hierarchy[tile].ratio(ratio) : d3Hierarchy[tile];\n}\n\nexport function treemap(data: any, options: HierarchyOption): any[] {\n  options = assign({} as HierarchyOption, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 2) {\n    throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const tileMethod = getTileMethod(options.tile, options.ratio);\n\n  const partition = (data) =>\n    d3Hierarchy\n      .treemap()\n      .tile(tileMethod)\n      .size(options.size)\n      .round(options.round)\n      .padding(options.padding)\n      .paddingInner(options.paddingInner)\n      .paddingOuter(options.paddingOuter)\n      .paddingTop(options.paddingTop)\n      .paddingRight(options.paddingRight)\n      .paddingBottom(options.paddingBottom)\n      .paddingLeft(options.paddingLeft)(\n      /**\n       * d3Hierarchy  sum  node  node  post-order traversal  value  node\n       * for example:\n       * { node: 'parent', value: 10, children: [{node: 'child1', value: 5}, {node: 'child2', value: 5}, ]}\n       * parent  sum(node(parent)) + sum(node(child1)) + sum(node(child2))\n       * ignoreParentValue  true()  0 + 5 + 5 = 10\n       * ignoreParentValue  false   10 + 5 + 5 = 20\n       * sum d  data, children \n       */\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) => (options.ignoreParentValue && d.children ? 0 : d[field]))\n        .sort(options.sort)\n    );\n  const root = partition(data);\n\n  /*\n   * points:\n   *   3  2\n   *   0  1\n   */\n  const x = as[0];\n  const y = as[1];\n  root.each((node) => {\n    node[x] = [node.x0, node.x1, node.x1, node.x0];\n    node[y] = [node.y1, node.y1, node.y0, node.y0];\n    ['x0', 'x1', 'y0', 'y1'].forEach((prop) => {\n      if (as.indexOf(prop) === -1) {\n        delete node[prop];\n      }\n    });\n  });\n\n  return getAllNodes(root);\n}\n","import { omit } from '@antv/util';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { pick } from '../../utils';\nimport { partition } from '../../utils/hierarchy/partition';\nimport { treemap } from '../../utils/hierarchy/treemap';\nimport { SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD } from './constant';\nimport { SunburstOptions } from './types';\n\n/**\n * sunburst \n * @param options\n */\nexport function transformData(options: Pick<SunburstOptions, 'data' | 'colorField' | 'rawFields' | 'hierarchyConfig'>) {\n  const { data, colorField, rawFields, hierarchyConfig = {} } = options;\n  const { activeDepth } = hierarchyConfig;\n  const transform = {\n    partition: partition,\n    treemap: treemap,\n  };\n  // @ts-ignore  seriesField  hierarchyConfig.field\n  const seriesField = options.seriesField;\n  // @ts-ignore \n  const type = options.type || 'partition';\n\n  const nodes = transform[type](data, {\n    field: seriesField || 'value',\n    ...omit(hierarchyConfig, ['activeDepth']),\n    // @ts-ignore\n    type: `hierarchy.${type}`,\n    as: ['x', 'y'],\n  });\n\n  const result = [];\n\n  nodes.forEach((node) => {\n    if (node.depth === 0) {\n      return null;\n    }\n    if (activeDepth > 0 && node.depth > activeDepth) {\n      return null;\n    }\n\n    let path = node.data.name;\n    let ancestorNode = { ...node };\n    while (ancestorNode.depth > 1) {\n      path = `${ancestorNode.parent.data?.name} / ${path}`;\n      ancestorNode = ancestorNode.parent;\n    }\n\n    const nodeInfo = {\n      ...pick(node.data, [...(rawFields || []), hierarchyConfig.field]),\n      [SUNBURST_PATH_FIELD]: path,\n      [SUNBURST_ANCESTOR_FIELD]: ancestorNode.data.name,\n      ...node,\n    };\n    // note: \n    if (seriesField) {\n      nodeInfo[seriesField] = node.data[seriesField] || node.parent?.data?.[seriesField];\n    }\n    if (colorField) {\n      nodeInfo[colorField] = node.data[colorField] || node.parent?.data?.[colorField];\n    }\n    nodeInfo.ext = hierarchyConfig;\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, colorField, rawFields };\n    result.push(nodeInfo);\n  });\n\n  return result;\n}\n","import { isFunction, get, uniq } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { Params } from '../../core/adaptor';\nimport { polygon as polygonAdaptor } from '../../adaptor/geometries';\nimport {\n  interaction as baseInteraction,\n  animation,\n  theme,\n  annotation,\n  scale,\n  pattern,\n  legend,\n} from '../../adaptor/common';\nimport { flow, findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { getAdjustAppendPadding } from '../../utils/padding';\nimport { Datum } from '../../types';\nimport { RAW_FIELDS, SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD, SUNBURST_Y_FIELD } from './constant';\nimport { transformData } from './utils';\nimport { SunburstOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { color, colorField = SUNBURST_ANCESTOR_FIELD, sunburstStyle, rawFields = [] } = options;\n  const data = transformData(options);\n  chart.data(data);\n\n  //  fillOpacity \n  let style;\n  if (sunburstStyle) {\n    style = (datum: Datum) => {\n      return deepAssign(\n        {},\n        {\n          fillOpacity: 0.85 ** datum.depth,\n        },\n        isFunction(sunburstStyle) ? sunburstStyle(datum) : sunburstStyle\n      );\n    };\n  }\n\n  // geometry\n  polygonAdaptor(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        rawFields: uniq([...RAW_FIELDS, ...rawFields]),\n        polygon: {\n          color,\n          style,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  const geometry = findGeometry(chart, 'polygon');\n\n  // undefined \n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { fields = ['name'], callback, ...cfg } = label;\n    geometry.label({\n      fields,\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { innerRadius, radius, reflect } = options;\n\n  const coord = chart.coordinate({\n    type: 'polar',\n    cfg: {\n      innerRadius,\n      radius,\n    },\n  });\n  if (reflect) {\n    coord.reflect(reflect);\n  }\n\n  return params;\n}\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { options } = params;\n  const { hierarchyConfig, meta } = options;\n\n  return flow(\n    scale(\n      {},\n      {\n        [SUNBURST_Y_FIELD]: get(meta, get(hierarchyConfig, ['field'], 'value')),\n      }\n    )\n  )(params);\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    //  fields customItems ;  formatter  fields\n    if (!get(tooltip, 'fields')) {\n      tooltipOptions = deepAssign(\n        {},\n        {\n          customItems: (items: Types.TooltipItem[]) =>\n            items.map((item) => {\n              const scales = get(chart.getOptions(), 'scales');\n              const pathFormatter = get(scales, [SUNBURST_PATH_FIELD, 'formatter'], (v) => v);\n              const valueFormatter = get(scales, [SUNBURST_Y_FIELD, 'formatter'], (v) => v);\n              return {\n                ...item,\n                name: pathFormatter(item.data[SUNBURST_PATH_FIELD]),\n                value: valueFormatter(item.data.value),\n              };\n            }),\n        },\n        tooltipOptions\n      );\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\nfunction adaptorInteraction(options: SunburstOptions): SunburstOptions {\n  const { drilldown, interactions = [] } = options;\n\n  if (drilldown?.enabled) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          cfg: { drillDownConfig: drilldown, transformData },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * \n * @param params\n * @returns\n */\nfunction interaction(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n\n  const { drilldown } = options;\n\n  baseInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  // \n  if (drilldown?.enabled) {\n    //  25px \n    chart.appendPadding = getAdjustAppendPadding(chart.appendPadding, get(drilldown, ['breadCrumb', 'position']));\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<SunburstOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('sunburstStyle'),\n    geometry,\n    axis,\n    meta,\n    legend,\n    coordinate,\n    tooltip,\n    label,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { registerInteraction, registerAction } from '@antv/g2';\nimport { get, isArray } from '@antv/util';\nimport { DrillDownAction } from './actions/drill-down';\n\n/**\n * \n */\nexport function isParentNode(context) {\n  const data = get(context, ['event', 'data', 'data'], {});\n  return isArray(data.children) && data.children.length > 0;\n}\n\n/**\n * \n */\nfunction inCenter(context) {\n  const coordinate = context.view.getCoordinate();\n  const { innerRadius } = coordinate;\n  if (innerRadius) {\n    const { x, y } = context.event;\n    const { x: centerX, y: centerY } = coordinate.center;\n    const r = coordinate.getRadius() * innerRadius;\n    const distance = Math.sqrt((centerX - x) ** 2 + (centerY - y) ** 2);\n    return distance < r;\n  }\n  return false;\n}\n\nregisterAction('drill-down-action', DrillDownAction);\nregisterInteraction('drill-down', {\n  showEnable: [\n    { trigger: 'element:mouseenter', action: 'cursor:pointer', isEnable: isParentNode },\n    { trigger: 'element:mouseleave', action: 'cursor:default' },\n    //  element:mouseleave \n    { trigger: 'element:mouseleave', action: 'cursor:pointer', isEnable: inCenter },\n  ],\n  start: [\n    {\n      trigger: 'element:click',\n      isEnable: isParentNode,\n      action: ['drill-down-action:click'],\n    },\n    {\n      trigger: 'afterchangesize',\n      action: ['drill-down-action:resetPosition'],\n    },\n    {\n      // \n      trigger: 'click',\n      isEnable: inCenter,\n      action: ['drill-down-action:back'],\n    },\n  ],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { NODE_ANCESTORS_FIELD } from '../../utils/hierarchy/util';\nimport { SunburstOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS, SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD } from './constant';\nimport './interactions';\n\nexport type { SunburstOptions };\n\nexport class Sunburst extends Plot<SunburstOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<SunburstOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**   */\n  static SUNBURST_ANCESTOR_FIELD = SUNBURST_ANCESTOR_FIELD;\n  /**   */\n  static SUNBURST_PATH_FIELD = SUNBURST_PATH_FIELD;\n  /**  */\n  static NODE_ANCESTORS_FIELD = NODE_ANCESTORS_FIELD;\n\n  /**  */\n  public type: string = 'sunburst';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Sunburst.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<SunburstOptions> {\n    return adaptor;\n  }\n}\n","export const RANGE_VALUE = 'range';\nexport const RANGE_TYPE = 'type';\nexport const PERCENT = 'percent';\n\nexport const DEFAULT_COLOR = '#f0f0f0';\n\n/**    */\nexport const INDICATEOR_VIEW_ID = 'indicator-view';\nexport const RANGE_VIEW_ID = 'range-view';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0, // \n  range: {\n    ticks: [],\n  }, // \n  innerRadius: 0.9,\n  radius: 0.95,\n  startAngle: (-7 / 6) * Math.PI,\n  endAngle: (1 / 6) * Math.PI,\n  syncViewPadding: true,\n  axis: {\n    line: null,\n    label: {\n      offset: -24,\n      style: {\n        textAlign: 'center' as const,\n        textBaseline: 'middle' as const,\n      },\n    },\n    subTickLine: {\n      length: -8,\n    },\n    tickLine: {\n      length: -12,\n    },\n    grid: null,\n  },\n  indicator: {\n    pointer: {\n      style: {\n        lineWidth: 5,\n        lineCap: 'round' as const,\n      },\n    },\n    pin: {\n      style: {\n        r: 9.75,\n        lineWidth: 4.5,\n        fill: '#fff',\n      },\n    },\n  },\n  statistic: {\n    title: false as const,\n  },\n  meta: {\n    //  view  scale  v \n    [RANGE_VALUE]: {\n      sync: 'v',\n    },\n    [PERCENT]: {\n      sync: 'v',\n      tickCount: 5,\n      tickInterval: 0.2,\n    },\n  },\n  animation: false as const,\n};\n","import { clamp, get, size } from '@antv/util';\nimport { Data, Datum } from '../../types';\nimport { RANGE_VALUE, RANGE_TYPE, PERCENT } from './constants';\nimport { GaugeOptions, GaugeRangeData } from './types';\n\n/**\n *  range  data \n * @param range\n * @param key\n * @returns {GaugeRangeData}\n */\nexport function processRangeData(range: number[], percent: GaugeOptions['percent']): GaugeRangeData {\n  return (\n    range\n      //  stack \n      .map((r: number, idx: number) => {\n        return { [RANGE_VALUE]: r - (range[idx - 1] || 0), [RANGE_TYPE]: `${idx}`, [PERCENT]: percent };\n      })\n      //  0 \n      .filter((d: Datum) => !!d[RANGE_VALUE])\n  );\n}\n\n/**\n *   \n * @param percent\n */\nexport function getIndicatorData(percent: GaugeOptions['percent']): Data {\n  return [{ [PERCENT]: clamp(percent, 0, 1) }];\n}\n\n/**\n *  \n * @param percent\n * @param range\n */\nexport function getRangeData(percent: GaugeOptions['percent'], range?: GaugeOptions['range']): GaugeRangeData {\n  const ticks = get(range, ['ticks'], []);\n\n  const clampTicks = size(ticks) ? ticks : [0, clamp(percent, 0, 1), 1];\n  return processRangeData(clampTicks as number[], percent);\n}\n","import { Geometry } from '@antv/g2';\nimport { get, isString } from '@antv/util';\nimport { interaction, animation, theme, scale, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, pick, renderGaugeStatistic } from '../../utils';\nimport { RANGE_TYPE, RANGE_VALUE, PERCENT, DEFAULT_COLOR, INDICATEOR_VIEW_ID, RANGE_VIEW_ID } from './constants';\nimport { GaugeOptions } from './types';\nimport { getIndicatorData, getRangeData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { percent, range, radius, innerRadius, startAngle, endAngle, axis, indicator, gaugeStyle, type, meter } =\n    options;\n  const { color, width: rangeWidth } = range;\n\n  //  & \n  // \n  if (indicator) {\n    const indicatorData = getIndicatorData(percent);\n\n    const v1 = chart.createView({ id: INDICATEOR_VIEW_ID });\n    v1.data(indicatorData);\n\n    v1.point()\n      .position(`${PERCENT}*1`)\n      .shape(indicator.shape || 'gauge-indicator')\n      //  shape \n      .customInfo({\n        defaultColor: chart.getTheme().defaultColor,\n        indicator,\n      });\n\n    v1.coordinate('polar', {\n      startAngle,\n      endAngle,\n      radius: innerRadius * radius, //  innerRadius * radius =  radius\n    });\n\n    v1.axis(PERCENT, axis);\n    //  scale \n    v1.scale(PERCENT, pick(axis, AXIS_META_CONFIG_KEYS));\n  }\n\n  //  range\n  // [{ range: 1, type: '0', percent:  }]\n  const rangeData = getRangeData(percent, options.range);\n  const v2 = chart.createView({ id: RANGE_VIEW_ID });\n  v2.data(rangeData);\n\n  const rangeColor = isString(color) ? [color, DEFAULT_COLOR] : color;\n\n  const { ext } = interval({\n    chart: v2,\n    options: {\n      xField: '1',\n      yField: RANGE_VALUE,\n      seriesField: RANGE_TYPE,\n      rawFields: [PERCENT],\n      isStack: true,\n      interval: {\n        color: rangeColor,\n        style: gaugeStyle,\n        shape: type === 'meter' ? 'meter-gauge' : null,\n      },\n      args: {\n        zIndexReversed: true,\n        sortZIndex: true,\n      },\n      minColumnWidth: rangeWidth,\n      maxColumnWidth: rangeWidth,\n    },\n  });\n\n  const geometry = ext.geometry as Geometry;\n  //  shape \n  geometry.customInfo({ meter });\n\n  v2.coordinate('polar', {\n    innerRadius,\n    radius,\n    startAngle,\n    endAngle,\n  }).transpose();\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  return flow(\n    scale({\n      range: {\n        min: 0,\n        max: 1,\n        maxLimit: 1,\n        minLimit: 0,\n      },\n      [PERCENT]: {},\n    })\n  )(params);\n}\n\n/**\n * \n * @param params\n */\nfunction statistic(params: Params<GaugeOptions>, updated?: boolean): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { statistic, percent } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n  if (statistic) {\n    const { content: contentOption } = statistic;\n    let transformContent;\n    //  content \n    if (contentOption) {\n      transformContent = deepAssign(\n        {},\n        {\n          content: `${(percent * 100).toFixed(2)}%`,\n          style: {\n            opacity: 0.75,\n            fontSize: '30px',\n            lineHeight: 1,\n            textAlign: 'center',\n            color: 'rgba(44,53,66,0.85)',\n          },\n        },\n        contentOption\n      );\n    }\n    renderGaugeStatistic(chart, { statistic: { ...statistic, content: transformContent } }, { percent });\n  }\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n */\nfunction tooltip(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip) {\n    chart.tooltip(\n      deepAssign(\n        {\n          showTitle: false,\n          showMarkers: false,\n          containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n          domStyles: {\n            'g2-tooltip': {\n              padding: '4px 8px',\n              fontSize: '10px',\n            },\n          },\n          customContent: (x: string, data: any[]) => {\n            const percent = get(data, [0, 'data', PERCENT], 0);\n            return `${(percent * 100).toFixed(2)}%`;\n          },\n        },\n        tooltip\n      )\n    );\n  } else {\n    //  tooltip\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * other \n * @param params\n */\nfunction other(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart } = params;\n\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n *  adaptor\n */\nexport { statistic };\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<GaugeOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    // animation  createView  View \n    animation,\n    geometry,\n    meta,\n    tooltip,\n    statistic,\n    interaction,\n    annotation(),\n    other\n    // ...  adaptor flow\n  )(params);\n}\n","import { registerShape, Types } from '@antv/g2';\nimport { Indicator } from '../types';\n\n// Shape \nregisterShape('point', 'gauge-indicator', {\n  draw(cfg: Types.ShapeInfo, container) {\n    //  customInfo \n    const { indicator, defaultColor } = cfg.customInfo;\n    const { pointer, pin } = indicator as Indicator;\n\n    const group = container.addGroup();\n    // \n    const center = this.parsePoint({ x: 0, y: 0 });\n    // \n    if (pointer) {\n      // pointer\n      group.addShape('line', {\n        name: 'pointer',\n        attrs: {\n          x1: center.x,\n          y1: center.y,\n          x2: cfg.x,\n          y2: cfg.y,\n          stroke: defaultColor,\n          ...pointer.style,\n        },\n      });\n    }\n\n    // pin\n    if (pin) {\n      group.addShape('circle', {\n        name: 'pin',\n        attrs: {\n          x: center.x,\n          y: center.y,\n          stroke: defaultColor,\n          ...pin.style,\n        },\n      });\n    }\n    return group;\n  },\n});\n","import { registerShape, Types, Util } from '@antv/g2';\nimport { clamp } from '@antv/util';\nimport { GaugeCustomInfo } from '../types';\n\ntype ShapeCfg = Omit<Types.ShapeInfo, 'customInfo'> & {\n  customInfo: GaugeCustomInfo;\n};\n\n/**\n *  Shape : \n *  STEP, STEP_RATIO. : 1 / (STEP + 1) * i -> 1 / (STEP + 1) * i + (STEP_RATIO / (STEP + 1))\n */\nregisterShape('interval', 'meter-gauge', {\n  draw(cfg: ShapeCfg, container) {\n    //  customInfo \n    const { meter = {} } = cfg.customInfo;\n    let { steps: STEP = 50, stepRatio: STEP_RATIO = 0.5 } = meter;\n    STEP = STEP < 1 ? 1 : STEP;\n    // stepRatio : (0, 1]\n    STEP_RATIO = clamp(STEP_RATIO, 0, 1);\n\n    const { startAngle: COORD_START_ANGLE, endAngle: COORD_END_ANGLE } = this.coordinate;\n    let GAP = 0;\n    if (STEP_RATIO > 0 && STEP_RATIO < 1) {\n      const TOTAL = COORD_END_ANGLE - COORD_START_ANGLE;\n      GAP = TOTAL / STEP / (STEP_RATIO / (1 - STEP_RATIO) + 1 - 1 / STEP);\n    }\n    const INTERVAL = (GAP / (1 - STEP_RATIO)) * STEP_RATIO;\n\n    const group = container.addGroup();\n    //  gap\n    const center = this.coordinate.getCenter();\n    const radius = this.coordinate.getRadius();\n    const { startAngle: START_ANGLE, endAngle: END_ANGLE } = Util.getAngle(cfg, this.coordinate);\n\n    for (let startAngle = START_ANGLE; startAngle < END_ANGLE; ) {\n      let endAngle;\n      const r = (startAngle - COORD_START_ANGLE) % (INTERVAL + GAP);\n      if (r < INTERVAL) {\n        endAngle = startAngle + (INTERVAL - r);\n      } else {\n        startAngle += INTERVAL + GAP - r;\n        endAngle = startAngle + INTERVAL;\n      }\n      const path = Util.getSectorPath(\n        center.x,\n        center.y,\n        radius,\n        startAngle,\n        Math.min(endAngle, END_ANGLE),\n        radius * this.coordinate.innerRadius\n      );\n      group.addShape('path', {\n        name: 'meter-gauge',\n        attrs: {\n          path,\n          fill: cfg.color,\n          stroke: cfg.color,\n          lineWidth: 0.5,\n        },\n      });\n      startAngle = endAngle + GAP;\n    }\n\n    return group;\n  },\n});\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { GaugeOptions } from './types';\nimport { adaptor, statistic } from './adaptor';\nimport { INDICATEOR_VIEW_ID, RANGE_VIEW_ID, DEFAULT_OPTIONS } from './constants';\nimport { getIndicatorData, getRangeData } from './utils';\n\n//  shape\nimport './shapes/indicator';\nimport './shapes/meter-gauge';\n\nexport type { GaugeOptions };\n\n/**\n * \n */\nexport class Gauge extends Plot<GaugeOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<GaugeOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'gauge';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n\n    this.updateOption({ percent });\n    const indicatorView = this.chart.views.find((v) => v.id === INDICATEOR_VIEW_ID);\n    if (indicatorView) {\n      indicatorView.data(getIndicatorData(percent));\n    }\n\n    const rangeView = this.chart.views.find((v) => v.id === RANGE_VIEW_ID);\n    if (rangeView) {\n      rangeView.data(getRangeData(percent, this.options.range));\n    }\n    // todo  G2  afterrender  annotations\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   * \n   *  base \n   */\n  protected getDefaultOptions() {\n    return Gauge.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<GaugeOptions> {\n    return adaptor;\n  }\n}\n","export const Y_FIELD = '$$yField$$';\nexport const DIFF_FIELD = '$$diffField$$';\nexport const ABSOLUTE_FIELD = '$$absoluteField$$';\nexport const IS_TOTAL = '$$isTotal$$';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  /** default: show label */\n  label: {},\n  /** default: show leaderLine */\n  leaderLine: {\n    style: {\n      lineWidth: 1,\n      stroke: '#8c8c8c',\n      lineDash: [4, 2],\n    },\n  },\n  /** default: show total */\n  total: {\n    style: {\n      fill: 'rgba(0, 0, 0, 0.25)',\n    },\n  },\n  interactions: [{ type: 'element-active' }],\n  risingFill: '#f4664a',\n  fallingFill: '#30bf78',\n  waterfallStyle: {\n    fill: 'rgba(0, 0, 0, 0.25)',\n  },\n  yAxis: {\n    grid: {\n      line: {\n        style: {\n          lineDash: [4, 2],\n        },\n      },\n    },\n  },\n};\n","import { isUndefined, isNumber, get, reduce, isObject } from '@antv/util';\nimport { Options } from '../../types';\nimport { LEVEL, log } from '../../utils';\nimport { ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL, Y_FIELD } from './constant';\n\n/**\n * @desc [start, end]\n * @param data\n * @param xField\n * @param yField\n * @param totalLabel\n */\nexport function processData(\n  data: Options['data'],\n  xField: string,\n  yField: string,\n  newYField: string,\n  total?: false | { label?: string }\n) {\n  const newData = [];\n  reduce(\n    data,\n    (r, d) => {\n      // \n      log(LEVEL.WARN, isNumber(d[yField]), `${d[yField]} is not a valid number`);\n      const value = isUndefined(d[yField]) ? null : d[yField];\n      newData.push({ ...d, [newYField]: [r, r + value] });\n\n      return r + value;\n    },\n    0\n  );\n  // \n  if (newData.length && total) {\n    const sum = get(newData, [[data.length - 1], newYField, [1]]);\n    newData.push({\n      [xField]: total.label,\n      [yField]: sum,\n      [newYField]: [0, sum],\n    });\n  }\n  return newData;\n}\n\n/**\n *   \n */\nexport function transformData(\n  data: Options['data'],\n  xField: string,\n  yField: string,\n  total?: false | { label?: string }\n) {\n  const processed = processData(data, xField, yField, Y_FIELD, total);\n  return processed.map((d, dIdx) => {\n    if (!isObject(d)) {\n      return d;\n    }\n    return {\n      ...d,\n      [ABSOLUTE_FIELD]: d[Y_FIELD][1],\n      [DIFF_FIELD]: d[Y_FIELD][1] - d[Y_FIELD][0],\n      [IS_TOTAL]: dIdx === data.length,\n    };\n  });\n}\n","import { IGroup } from '@antv/g-base';\nimport { registerShape } from '@antv/g2';\nimport { Types } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { deepAssign } from '../../utils';\nimport { Point } from '../../types';\n\n/**\n *  path\n * @param points\n */\nfunction getRectPath(points: Point[]) {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i];\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n\n  const first = points[0];\n  path.push(['L', first.x, first.y]);\n  path.push(['z']);\n\n  return path;\n}\n\n/**\n * \n * @param cfg \n */\nfunction getFillAttrs(cfg: Types.ShapeInfo) {\n  return deepAssign({}, cfg.defaultStyle, cfg.style, { fill: cfg.color });\n}\n\nregisterShape('interval', 'waterfall', {\n  draw(cfg: Types.ShapeInfo & { points: Point[]; nextPoints: Point[] }, container: IGroup) {\n    const { customInfo, points, nextPoints } = cfg;\n\n    const group = container.addGroup();\n\n    //  \n    const rectPath = this.parsePath(getRectPath(points));\n    const fillAttrs = getFillAttrs(cfg);\n\n    group.addShape('path', {\n      attrs: {\n        ...fillAttrs,\n        path: rectPath,\n      },\n    });\n\n    //  \n    const leaderLineCfg = get(customInfo, 'leaderLine');\n    if (leaderLineCfg && nextPoints) {\n      let linkPath = [\n        ['M', points[2].x, points[2].y],\n        ['L', nextPoints[0].x, nextPoints[0].y],\n      ];\n\n      if (points[2].y === nextPoints[1].y) {\n        linkPath[1] = ['L', nextPoints[1].x, nextPoints[1].y];\n      }\n\n      linkPath = this.parsePath(linkPath);\n      group.addShape('path', {\n        attrs: {\n          path: linkPath,\n          ...(leaderLineCfg.style || {}),\n        },\n      });\n    }\n\n    return group;\n  },\n});\n","import { Geometry } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Datum } from '../../types';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, state, scale, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { getLocale } from '../../core/locale';\nimport { findGeometry, flow, transformLabel, deepAssign } from '../../utils';\nimport { Y_FIELD, ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL } from './constant';\nimport { WaterfallOptions } from './types';\nimport { transformData } from './utils';\nimport './shape';\n\n/**\n *  \n * @param params\n * @returns\n */\nfunction defaultOptions(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { locale, total } = params.options;\n\n  const localeTotalLabel = getLocale(locale).get(['waterfall', 'total']);\n\n  if (total && typeof total.label !== 'string' && localeTotalLabel) {\n    // @ts-ignore\n    params.options.total.label = localeTotalLabel;\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { data, xField, yField, total, leaderLine, columnWidthRatio, waterfallStyle, risingFill, fallingFill, color } =\n    options;\n\n  // \n  chart.data(transformData(data, xField, yField, total));\n\n  //  colorMapping\n  const colorMapping =\n    color ||\n    function (datum: Datum) {\n      if (get(datum, [IS_TOTAL])) {\n        return get(total, ['style', 'fill'], '');\n      }\n      return get(datum, [Y_FIELD, 1]) - get(datum, [Y_FIELD, 0]) > 0 ? risingFill : fallingFill;\n    };\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: Y_FIELD,\n      seriesField: xField,\n      rawFields: [yField, DIFF_FIELD, IS_TOTAL, Y_FIELD],\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: waterfallStyle,\n        shape: 'waterfall',\n        color: colorMapping,\n      },\n    },\n  });\n  const { ext } = interval(p);\n  const geometry = ext.geometry as Geometry;\n\n  //  waterfall leaderLineCfg  shape \n  geometry.customInfo({ leaderLine });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, meta } = options;\n\n  const Y_FIELD_META = deepAssign({}, { alias: yField }, get(meta, yField));\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n        [Y_FIELD]: yAxis,\n      },\n      deepAssign({}, meta, { [Y_FIELD]: Y_FIELD_META, [DIFF_FIELD]: Y_FIELD_META, [ABSOLUTE_FIELD]: Y_FIELD_META })\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n    chart.axis(Y_FIELD, false);\n  } else {\n    chart.axis(yField, yAxis);\n    chart.axis(Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend  todo  hover \n * @param params\n */\nfunction legend(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { legend, total, risingFill, fallingFill, locale } = options;\n\n  const i18n = getLocale(locale);\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    const items = [\n      {\n        name: i18n.get(['general', 'increase']),\n        value: 'increase',\n        marker: { symbol: 'square', style: { r: 5, fill: risingFill } },\n      },\n      {\n        name: i18n.get(['general', 'decrease']),\n        value: 'decrease',\n        marker: { symbol: 'square', style: { r: 5, fill: fallingFill } },\n      },\n    ];\n\n    if (total) {\n      items.push({\n        name: total.label || '',\n        value: 'total',\n        marker: {\n          symbol: 'square',\n          style: deepAssign({}, { r: 5 }, get(total, 'style')),\n        },\n      });\n    }\n    chart.legend(\n      deepAssign(\n        {},\n        {\n          custom: true,\n          position: 'top',\n          items,\n        },\n        legend\n      )\n    );\n    chart.removeInteraction('legend-filter');\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { label, labelMode, xField } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: labelMode === 'absolute' ? [ABSOLUTE_FIELD, xField] : [DIFF_FIELD, xField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { tooltip, xField, yField } = options;\n\n  if (tooltip !== false) {\n    chart.tooltip({\n      showCrosshairs: false,\n      showMarkers: false,\n      shared: true,\n      // tooltip  y \n      fields: [yField],\n      ...tooltip,\n    });\n    //  yField  tooltip \n    const geometry = chart.geometries[0];\n    tooltip?.formatter ? geometry.tooltip(`${xField}*${yField}`, tooltip.formatter) : geometry.tooltip(yField);\n  } else {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<WaterfallOptions>) {\n  return flow(\n    defaultOptions,\n    theme,\n    geometry,\n    meta,\n    axis,\n    legend,\n    tooltip,\n    label,\n    state,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { WaterfallOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { transformData } from './utils';\n\nexport type { WaterfallOptions };\n\n/**\n * \n */\nexport class Waterfall extends Plot<WaterfallOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<WaterfallOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'waterfall';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    const { xField, yField, total } = this.options;\n    this.updateOption({ data });\n    this.chart.changeData(transformData(data, xField, yField, total));\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<WaterfallOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<WaterfallOptions> {\n    return Waterfall.getDefaultOptions();\n  }\n}\n","import { Data } from '../../types';\n\nexport function getScaleMax(maxAngle: number, yField: string, data: Data): number {\n  const yData = data.map((item) => item[yField]).filter((v) => v !== undefined);\n  const maxValue = yData.length > 0 ? Math.max(...yData) : 0;\n  const formatRadian = Math.abs(maxAngle) % 360;\n  if (!formatRadian) {\n    return maxValue;\n  }\n  return (maxValue * 360) / formatRadian;\n}\n\n/**\n * \n */\nexport function getStackedData(data: Data, xField: string, yField: string) {\n  const stackedData: Data = [];\n  data.forEach((item) => {\n    const valueItem = stackedData.find((v) => v[xField] === item[xField]);\n    if (valueItem) {\n      valueItem[yField] += item[yField] || null;\n    } else {\n      stackedData.push({ ...item });\n    }\n  });\n  return stackedData;\n}\n","import { interaction, animation, theme, scale, tooltip, legend, annotation } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign, findGeometry, transformLabel } from '../../utils';\nimport { interval, point } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { processIllegalData } from '../../utils';\nimport { RadialBarOptions } from './types';\nimport { getScaleMax, getStackedData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { barStyle: style, color, tooltip, colorField, type, xField, yField, data } = options;\n\n  // \n  const processData = processIllegalData(data, yField);\n  chart.data(processData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      tooltip,\n      seriesField: colorField,\n      interval: {\n        style,\n        color,\n        shape: type === 'line' ? 'line' : 'intervel',\n      },\n      // \n      minColumnWidth: options.minBarWidth,\n      maxColumnWidth: options.maxBarWidth,\n      columnBackground: options.barBackground,\n    },\n  });\n  interval(p);\n  if (type === 'line') {\n    point({\n      chart,\n      options: { xField, yField, seriesField: colorField, point: { shape: 'circle', color } },\n    });\n  }\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { options } = params;\n  const { yField, xField, data, isStack, isGroup, colorField, maxAngle } = options;\n\n  const actualData = isStack && !isGroup && colorField ? getStackedData(data, xField, yField) : data;\n  const processData = processIllegalData(actualData, yField);\n  return flow(\n    scale({\n      [yField]: {\n        min: 0,\n        max: getScaleMax(maxAngle, yField, processData),\n      },\n    })\n  )(params);\n}\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart\n    .coordinate({\n      type: 'polar',\n      cfg: {\n        radius,\n        innerRadius,\n        startAngle,\n        endAngle,\n      },\n    })\n    .transpose();\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { xField, xAxis } = options;\n  chart.axis(xField, xAxis);\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const intervalGeometry = findGeometry(chart, 'interval');\n\n  // label  false,   label\n  if (!label) {\n    intervalGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    intervalGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        ...transformLabel(cfg),\n        type: 'polar',\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RadialBarOptions>) {\n  return flow(\n    pattern('barStyle'),\n    geometry,\n    meta,\n    axis,\n    coordinate,\n    interaction,\n    animation,\n    theme,\n    tooltip,\n    legend,\n    annotation(),\n    label\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  interactions: [{ type: 'element-active' }],\n  legend: false,\n  tooltip: {\n    showMarkers: false,\n  },\n  xAxis: {\n    grid: null,\n    tickLine: null,\n    line: null,\n  },\n  maxAngle: 240,\n});\n","export const FIRST_AXES_VIEW = 'first-axes-view';\nexport const SECOND_AXES_VIEW = 'second-axes-view';\n/**  key  */\nexport const SERIES_FIELD_KEY = 'series-field-key';\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { RadialBarOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { RadialBarOptions };\n\n/**\n * \n */\nexport class RadialBar extends Plot<RadialBarOptions> {\n  static getDefaultOptions(): Partial<RadialBarOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'radial-bar';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    //  scale\n    meta({ chart: this.chart, options: this.options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions(): Partial<RadialBarOptions> {\n    return RadialBar.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<RadialBarOptions> {\n    return adaptor;\n  }\n}\n","import { groupBy } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { Datum } from '../../types';\nimport { BidirectionalBarOptions } from './types';\n\ntype TransformData = {\n  [key: string]: string | number;\n}[];\n\n/**\n * bidirectional-bar ,  SERIES_FIELD_KEY \n * @param xField\n * @param yField\n * @param data\n */\nexport function transformData(\n  xField: string,\n  yField: string[],\n  seriesField: string,\n  data: Datum,\n  reverse?: boolean\n): Types.Data[] {\n  const hopeData: TransformData = [];\n  yField.forEach((d: string) => {\n    data.forEach((k: any) => {\n      const obj = {\n        [xField]: k[xField],\n        [seriesField]: d,\n        [d]: k[d],\n      };\n      hopeData.push(obj);\n    });\n  });\n  const groupData = Object.values(groupBy(hopeData, seriesField));\n  const [data1 = [], data2 = []] = groupData;\n  return reverse ? [data1.reverse(), data2.reverse()] : [data1, data2];\n}\n\n/**\n * \n * @param layout\n */\nexport function isHorizontal(layout: BidirectionalBarOptions['layout']) {\n  return layout !== 'vertical';\n}\n\n/**\n *  view  padding \n * @param chart\n * @param views\n * @param p\n */\nexport function syncViewPadding(chart: any, views: any, p: any) {\n  const [v1, v2] = views;\n  const p1 = v1.autoPadding;\n  const p2 = v2.autoPadding;\n  const { layout, position } = chart.__axisPosition;\n  //  layout\n  if (isHorizontal(layout) && position === 'top') {\n    /**\n     *  v1  left  v2 right  v1 \n     * position top  v1  0\n     */\n    v1.autoPadding = p.instance(p1.top, 0, p1.bottom, p1.left);\n    v2.autoPadding = p.instance(p2.top, p1.left, p2.bottom, 0);\n  }\n  if (isHorizontal(layout) && position === 'bottom') {\n    /**\n     *  v1  left  v2 right  v1 \n     * position bottom  v1 v1 right = right / 2  v2 left = right / 2\n     * + 5  \n     */\n    v1.autoPadding = p.instance(p1.top, p1.right / 2 + 5, p1.bottom, p1.left);\n    v2.autoPadding = p.instance(p2.top, p2.right, p2.bottom, p1.right / 2 + 5);\n  }\n  if (!isHorizontal(layout) && position === 'bottom') {\n    /**\n     *  v1  left  v2 left  left \n     * position bottom  v1 v1 bottom = bottom / 2  v2 top = bottom / 2\n     * + 5  \n     */\n    const left = p1.left >= p2.left ? p1.left : p2.left;\n    v1.autoPadding = p.instance(p1.top, p1.right, p1.bottom / 2 + 5, left);\n    v2.autoPadding = p.instance(p1.bottom / 2 + 5, p2.right, p2.bottom, left);\n  }\n  // position  top \n  if (!isHorizontal(layout) && position === 'top') {\n    const left = p1.left >= p2.left ? p1.left : p2.left;\n    v1.autoPadding = p.instance(p1.top, p1.right, 0, left);\n    v2.autoPadding = p.instance(0, p2.right, p1.top, left);\n  }\n}\n","import { View } from '@antv/g2';\nimport { get, keys } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport {\n  tooltip,\n  interaction as commonInteraction,\n  animation as commonAnimation,\n  theme as commonTheme,\n  limitInPlot as commonLimitInPlot,\n  scale,\n} from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { flow, findViewById, findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { BidirectionalBarOptions } from './types';\nimport { FIRST_AXES_VIEW, SECOND_AXES_VIEW, SERIES_FIELD_KEY } from './constant';\nimport { isHorizontal, transformData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { data, xField, yField, color, barStyle, widthRatio, legend, layout } = options;\n\n  // \n  const groupData: any[] = transformData(xField, yField, SERIES_FIELD_KEY, data, isHorizontal(layout));\n  //  view  legend\n  if (legend) {\n    chart.legend(SERIES_FIELD_KEY, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n  //  view\n  let firstView: View;\n  let secondView: View;\n  const [firstViewData, secondViewData] = groupData;\n\n  // \n  if (isHorizontal(layout)) {\n    firstView = chart.createView({\n      region: {\n        start: { x: 0, y: 0 },\n        end: { x: 0.5, y: 1 },\n      },\n      id: FIRST_AXES_VIEW,\n    });\n\n    firstView.coordinate().transpose().reflect('x');\n\n    secondView = chart.createView({\n      region: {\n        start: { x: 0.5, y: 0 },\n        end: { x: 1, y: 1 },\n      },\n      id: SECOND_AXES_VIEW,\n    });\n    secondView.coordinate().transpose();\n\n    // @: ( transform )\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n  } else {\n    // \n    firstView = chart.createView({\n      region: {\n        start: { x: 0, y: 0 },\n        end: { x: 1, y: 0.5 },\n      },\n      id: FIRST_AXES_VIEW,\n    });\n    secondView = chart.createView({\n      region: {\n        start: { x: 0, y: 0.5 },\n        end: { x: 1, y: 1 },\n      },\n      id: SECOND_AXES_VIEW,\n    });\n    secondView.coordinate().reflect('y');\n\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n  }\n  const left = deepAssign({}, params, {\n    chart: firstView,\n    options: {\n      widthRatio,\n      xField,\n      yField: yField[0],\n      seriesField: SERIES_FIELD_KEY,\n      interval: {\n        color,\n        style: barStyle,\n      },\n    },\n  });\n  interval(left);\n\n  const right = deepAssign({}, params, {\n    chart: secondView,\n    options: {\n      xField,\n      yField: yField[1],\n      seriesField: SERIES_FIELD_KEY,\n      widthRatio,\n      interval: {\n        color,\n        style: barStyle,\n      },\n    },\n  });\n\n  interval(right);\n\n  return params;\n}\n\n/**\n * meta \n * -  SERIES_FIELD_KEY  yField \n * @param params\n */\nfunction meta(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { options, chart } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n\n  const aliasMap = {};\n  keys(options?.meta || {}).map((metaKey) => {\n    if (get(options?.meta, [metaKey, 'alias'])) {\n      aliasMap[metaKey] = options.meta[metaKey].alias;\n    }\n  });\n\n  chart.scale({\n    [SERIES_FIELD_KEY]: {\n      sync: true,\n      formatter: (v) => {\n        return get(aliasMap, v, v);\n      },\n    },\n  });\n\n  scale({\n    [xField]: xAxis,\n    [yField[0]]: yAxis[yField[0]],\n  })(deepAssign({}, params, { chart: firstView }));\n\n  scale({\n    [xField]: xAxis,\n    [yField[1]]: yAxis[yField[1]],\n  })(deepAssign({}, params, { chart: secondView }));\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField, layout } = options;\n\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n  //  view axis ;  bottom  label\n  // @ts-ignore\n  if (xAxis?.position === 'bottom') {\n    // fixme  label: null  tickLine \n    secondView.axis(xField, { ...xAxis, label: { formatter: () => '' } });\n  } else {\n    secondView.axis(xField, false);\n  }\n\n  //  false  firstView \n  if (xAxis === false) {\n    firstView.axis(xField, false);\n  } else {\n    firstView.axis(xField, {\n      //  firstView \n      position: isHorizontal(layout) ? 'top' : 'bottom',\n      ...xAxis,\n    });\n  }\n\n  if (yAxis === false) {\n    firstView.axis(yField[0], false);\n    secondView.axis(yField[1], false);\n  } else {\n    firstView.axis(yField[0], yAxis[yField[0]]);\n    secondView.axis(yField[1], yAxis[yField[1]]);\n  }\n  /**\n   *  syncViewPadding\n   *  TODO  g2 View  setter \n   */\n\n  //@ts-ignore\n  chart.__axisPosition = {\n    position: firstView.getOptions().axes[xField].position,\n    layout,\n  };\n  return params;\n}\n\n/**\n * interaction \n * @param params\n */\nexport function interaction(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { yField, yAxis } = options;\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, FIRST_AXES_VIEW),\n      options: {\n        yAxis: yAxis[yField[0]],\n      },\n    })\n  );\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, SECOND_AXES_VIEW),\n      options: {\n        yAxis: yAxis[yField[1]],\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * theme\n * @param params\n */\nexport function theme(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n  commonTheme(params);\n\n  return params;\n}\n\n/**\n * animation\n * @param params\n */\nexport function animation(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * label  (1.  offset  2. leftView  *= -1)\n * @param params\n */\nfunction label(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { label, yField, layout } = options;\n\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n  const leftGeometry = findGeometry(firstView, 'interval');\n  const rightGeometry = findGeometry(secondView, 'interval');\n\n  if (!label) {\n    leftGeometry.label(false);\n    rightGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    /** ----  ---- */\n    // \n    if (!cfg.position) {\n      cfg.position = 'middle';\n    }\n    if (cfg.offset === undefined) {\n      cfg.offset = 2;\n    }\n\n    /** ---- leftView label  ---- */\n    const leftLabelCfg = { ...cfg };\n    if (isHorizontal(layout)) {\n      //  textAlign \n      const textAlign = leftLabelCfg.style?.textAlign || (cfg.position === 'middle' ? 'center' : 'left');\n      cfg.style = deepAssign({}, cfg.style, { textAlign });\n      const textAlignMap = { left: 'right', right: 'left', center: 'center' };\n      leftLabelCfg.style = deepAssign({}, leftLabelCfg.style, { textAlign: textAlignMap[textAlign] });\n    } else {\n      const positionMap = { top: 'bottom', bottom: 'top', middle: 'middle' };\n      if (typeof cfg.position === 'string') {\n        cfg.position = positionMap[cfg.position];\n      } else if (typeof cfg.position === 'function') {\n        cfg.position = (...args) => positionMap[(cfg.position as Function).apply(this, args)];\n      }\n      //  textBaseline \n      const textBaseline = leftLabelCfg.style?.textBaseline || 'bottom';\n      leftLabelCfg.style = deepAssign({}, leftLabelCfg.style, { textBaseline });\n      const textBaselineMap = { top: 'bottom', bottom: 'top', middle: 'middle' };\n      cfg.style = deepAssign({}, cfg.style, { textBaseline: textBaselineMap[textBaseline] });\n    }\n\n    leftGeometry.label({\n      fields: [yField[0]],\n      callback,\n      cfg: transformLabel(leftLabelCfg),\n    });\n    rightGeometry.label({\n      fields: [yField[1]],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BidirectionalBarOptions>) {\n  // flow  G2 API\n  return flow(geometry, meta, axis, limitInPlot, theme, label, tooltip, interaction, animation)(params);\n}\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { deepAssign, findViewById } from '../../utils';\nimport { BidirectionalBarOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { syncViewPadding, transformData, isHorizontal } from './utils';\nimport { SERIES_FIELD_KEY, FIRST_AXES_VIEW, SECOND_AXES_VIEW } from './constant';\n\nexport type { BidirectionalBarOptions };\n\nexport class BidirectionalBar extends Plot<BidirectionalBarOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<BidirectionalBarOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      syncViewPadding,\n    });\n  }\n\n  /**  */\n  static SERIES_FIELD_KEY = SERIES_FIELD_KEY;\n\n  /**  */\n  public type: string = 'bidirectional-bar';\n\n  /**\n   * @override\n   */\n  public changeData(data = []) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n\n    // options\n    this.updateOption({ data });\n    const { xField, yField, layout } = this.options;\n    // \n    const groupData: any[] = transformData(xField, yField, SERIES_FIELD_KEY, data, isHorizontal(layout));\n    const [firstViewData, secondViewData] = groupData;\n    const firstView = findViewById(this.chart, FIRST_AXES_VIEW);\n    const secondView = findViewById(this.chart, SECOND_AXES_VIEW);\n    // viewdata\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n    // \n    this.chart.render(true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  protected getDefaultOptions() {\n    return BidirectionalBar.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<BidirectionalBarOptions> {\n    return adaptor;\n  }\n}\n","import { isArray, get } from '@antv/util';\nimport { View } from '@antv/g2';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { Interaction } from '../../types/interaction';\nimport { treemap } from '../../utils/hierarchy/treemap';\nimport { TreemapOptions } from './types';\n\nexport function findInteraction(\n  interactions: TreemapOptions['interactions'],\n  interactionType: string\n): undefined | Interaction {\n  if (!isArray(interactions)) return undefined;\n  return interactions.find((i) => i.type === interactionType);\n}\n\nexport function enableInteraction(interactions: TreemapOptions['interactions'], interactionType: string): boolean {\n  const interaction = findInteraction(interactions, interactionType);\n  return interaction && interaction.enable !== false;\n}\n\n/**\n * \n * @param interactions\n * @param interactionType\n * @returns\n */\nexport function enableDrillInteraction(options: TreemapOptions): boolean {\n  const { interactions, drilldown } = options;\n  // , treemap-drill-down\n  return get(drilldown, 'enabled') || enableInteraction(interactions, 'treemap-drill-down');\n}\n\nexport function resetDrillDown(chart: View) {\n  const drillDownInteraction = chart.interactions['drill-down'];\n\n  if (!drillDownInteraction) return;\n\n  // @ts-ignore\n  const drillDownAction = drillDownInteraction.context.actions.find((i) => i.name === 'drill-down-action');\n\n  drillDownAction.reset();\n}\n\ninterface TransformDataOptions {\n  data: TreemapOptions['data'];\n  colorField: TreemapOptions['colorField'];\n  enableDrillDown: boolean;\n  hierarchyConfig: TreemapOptions['hierarchyConfig'];\n}\n\nexport function transformData(options: TransformDataOptions) {\n  const { data, colorField, enableDrillDown, hierarchyConfig } = options;\n\n  const nodes = treemap(data, {\n    ...hierarchyConfig,\n    // @ts-ignore\n    type: 'hierarchy.treemap',\n    field: 'value',\n    as: ['x', 'y'],\n  });\n\n  const result = [];\n  nodes.forEach((node) => {\n    if (node.depth === 0) {\n      return null;\n    }\n\n    //  depth === 1 \n    if (enableDrillDown && node.depth !== 1) {\n      return null;\n    }\n\n    // \n    if (!enableDrillDown && node.children) {\n      return null;\n    }\n\n    // path (x, y), ( depth)\n    const curPath = node.ancestors().map((n) => ({\n      data: n.data,\n      height: n.height,\n      value: n.value,\n    }));\n    // data.path) \n    const path = enableDrillDown && isArray(data.path) ? curPath.concat(data.path.slice(1)) : curPath;\n\n    const nodeInfo = Object.assign({}, node.data, {\n      x: node.x,\n      y: node.y,\n      depth: node.depth,\n      value: node.value,\n      path,\n      ...node,\n    });\n    if (!node.data[colorField] && node.parent) {\n      const ancestorNode = node.ancestors().find((n) => n.data[colorField]);\n      nodeInfo[colorField] = ancestorNode?.data[colorField];\n    } else {\n      nodeInfo[colorField] = node.data[colorField];\n    }\n\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, colorField, enableDrillDown };\n    result.push(nodeInfo);\n  });\n  return result;\n}\n","import { get } from '@antv/util';\nimport { polygon as basePolygon } from '../../adaptor/geometries/polygon';\nimport { Params } from '../../core/adaptor';\nimport { interaction as commonInteraction, animation, theme, legend, annotation, tooltip } from '../../adaptor/common';\nimport { pattern } from '../../adaptor/pattern';\nimport { flow, deepAssign } from '../../utils';\nimport { getAdjustAppendPadding } from '../../utils/padding';\nimport { transformData, findInteraction, enableDrillInteraction } from './utils';\nimport { TreemapOptions } from './types';\n\n/**\n *  option\n * @param params\n */\nfunction defaultOptions(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { options } = params;\n  const { colorField } = options;\n\n  return deepAssign(\n    {\n      options: {\n        rawFields: ['value'],\n        tooltip: {\n          fields: ['name', 'value', colorField, 'path'],\n          formatter: (data) => {\n            return {\n              name: data.name,\n              value: data.value,\n            };\n          },\n        },\n      },\n    },\n    params\n  );\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart, options } = params;\n  const { color, colorField, rectStyle, hierarchyConfig, rawFields } = options;\n\n  const data = transformData({\n    data: options.data,\n    colorField: options.colorField,\n    enableDrillDown: enableDrillInteraction(options),\n    hierarchyConfig,\n  });\n\n  chart.data(data);\n\n  // geometry\n  basePolygon(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        rawFields: rawFields,\n        polygon: {\n          color,\n          style: rectStyle,\n        },\n      },\n    })\n  );\n\n  // \n  chart.coordinate().reflect('y');\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction axis(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\nfunction adaptorInteraction(options: TreemapOptions): TreemapOptions {\n  const { drilldown, interactions = [] } = options;\n\n  const enableDrillDown = enableDrillInteraction(options);\n  if (enableDrillDown) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          //   API\n          cfg: { drillDownConfig: drilldown, transformData },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * Interaction \n * @param params\n */\nexport function interaction(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart, options } = params;\n  const { interactions, drilldown } = options;\n\n  commonInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  //  view-zoom\n  const viewZoomInteraction = findInteraction(interactions, 'view-zoom');\n\n  if (viewZoomInteraction) {\n    //  interaction \n    if (viewZoomInteraction.enable !== false) {\n      chart.getCanvas().on('mousewheel', (ev) => {\n        ev.preventDefault();\n      });\n    } else {\n      //  viewZoomInteraction \n      chart.getCanvas().off('mousewheel');\n    }\n  }\n\n  // \n  const enableDrillDown = enableDrillInteraction(options);\n  if (enableDrillDown) {\n    //  25px \n    chart.appendPadding = getAdjustAppendPadding(chart.appendPadding, get(drilldown, ['breadCrumb', 'position']));\n  }\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TreemapOptions>) {\n  return flow(\n    defaultOptions,\n    theme,\n    pattern('rectStyle'),\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","export const DEFAULT_OPTIONS = {\n  //  name \n  colorField: 'name',\n  rectStyle: {\n    lineWidth: 1,\n    stroke: '#fff',\n  },\n  hierarchyConfig: {\n    tile: 'treemapSquarify' as const,\n  },\n  label: {\n    fields: ['name'],\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    showMarkers: false,\n    showTitle: false,\n  },\n  // \n  drilldown: {\n    enabled: false,\n    breadCrumb: {\n      position: 'bottom-left' as const,\n      rootText: '',\n      dividerText: '/',\n      textStyle: {\n        fontSize: 12,\n        fill: 'rgba(0, 0, 0, 0.65)',\n        cursor: 'pointer',\n      },\n      activeTextStyle: {\n        fill: '#87B5FF',\n      },\n    },\n  },\n};\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { TreemapOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { transformData, enableInteraction, resetDrillDown } from './utils';\nimport './interactions';\n\nexport type { TreemapOptions };\n\nexport class Treemap extends Plot<TreemapOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<TreemapOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'treemap';\n\n  /**\n   * changeData\n   */\n  public changeData(data) {\n    const { colorField, interactions, hierarchyConfig } = this.options;\n    this.updateOption({ data });\n    const transData = transformData({\n      data,\n      colorField,\n      enableDrillDown: enableInteraction(interactions, 'treemap-drill-down'),\n      hierarchyConfig,\n    });\n    this.chart.changeData(transData);\n\n    resetDrillDown(this.chart);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Treemap.getDefaultOptions();\n  }\n\n  protected getSchemaAdaptor(): Adaptor<TreemapOptions> {\n    return adaptor;\n  }\n}\n","import { minBy } from '@antv/util';\n\nfunction targetDepth(d) {\n  return d.target.depth;\n}\n\nexport function left(node) {\n  return node.depth;\n}\n\nexport function right(node, n) {\n  return n - 1 - node.height;\n}\n\nexport function justify(node, n) {\n  return node.sourceLinks.length ? node.depth : n - 1;\n}\n\nexport function center(node) {\n  return node.targetLinks.length ? node.depth : node.sourceLinks.length ? minBy(node.sourceLinks, targetDepth) - 1 : 0;\n}\n","export function constant(x: any) {\n  return function () {\n    return x;\n  };\n}\n\nexport function sumBy(arr, func) {\n  let r = 0;\n  for (let i = 0; i < arr.length; i++) {\n    r += func(arr[i]);\n  }\n\n  return r;\n}\n\n/**\n * \n * @param arr\n * @param func\n */\nexport function maxValueBy(arr, func): number {\n  let r = -Infinity;\n  for (let i = 0; i < arr.length; i++) {\n    r = Math.max(func(arr[i]), r);\n  }\n\n  return r;\n}\n\n/**\n * \n * @param arr\n * @param func\n */\nexport function minValueBy(arr, func): number {\n  let r = Infinity;\n  for (let i = 0; i < arr.length; i++) {\n    r = Math.min(func(arr[i]), r);\n  }\n\n  return r;\n}\n","import { justify } from './align';\nimport { constant, sumBy, maxValueBy, minValueBy } from './helper';\n\nfunction ascendingSourceBreadth(a, b) {\n  return ascendingBreadth(a.source, b.source) || a.index - b.index;\n}\n\nfunction ascendingTargetBreadth(a, b) {\n  return ascendingBreadth(a.target, b.target) || a.index - b.index;\n}\n\nfunction ascendingBreadth(a, b) {\n  return a.y0 - b.y0;\n}\n\nfunction value(d) {\n  return d.value;\n}\n\nfunction defaultId(d) {\n  return d.index;\n}\n\nfunction defaultNodes(graph) {\n  return graph.nodes;\n}\n\nfunction defaultLinks(graph) {\n  return graph.links;\n}\n\nfunction find(nodeById, id) {\n  const node = nodeById.get(id);\n  if (!node) throw new Error('missing: ' + id);\n  return node;\n}\n\nfunction computeLinkBreadths({ nodes }) {\n  for (const node of nodes) {\n    let y0 = node.y0;\n    let y1 = y0;\n    for (const link of node.sourceLinks) {\n      link.y0 = y0 + link.width / 2;\n      y0 += link.width;\n    }\n    for (const link of node.targetLinks) {\n      link.y1 = y1 + link.width / 2;\n      y1 += link.width;\n    }\n  }\n}\n\nexport function Sankey() {\n  let x0 = 0,\n    y0 = 0,\n    x1 = 1,\n    y1 = 1; // extent\n  let dx = 24; // nodeWidth\n  let dy = 8,\n    py; // nodePadding\n  let id = defaultId;\n  let align = justify;\n  let depth;\n  let sort;\n  let linkSort;\n  let nodes = defaultNodes;\n  let links = defaultLinks;\n  let iterations = 6;\n\n  function sankey(arg) {\n    const graph = {\n      nodes: nodes(arg),\n      links: links(arg),\n    };\n    computeNodeLinks(graph);\n    computeNodeValues(graph);\n    computeNodeDepths(graph);\n    computeNodeHeights(graph);\n    computeNodeBreadths(graph);\n    computeLinkBreadths(graph);\n    return graph;\n  }\n\n  sankey.update = function (graph) {\n    computeLinkBreadths(graph);\n    return graph;\n  };\n\n  sankey.nodeId = function (_) {\n    return arguments.length ? ((id = typeof _ === 'function' ? _ : constant(_)), sankey) : id;\n  };\n\n  sankey.nodeAlign = function (_) {\n    return arguments.length ? ((align = typeof _ === 'function' ? _ : constant(_)), sankey) : align;\n  };\n\n  sankey.nodeDepth = function (_) {\n    return arguments.length ? ((depth = typeof _ === 'function' ? _ : _), sankey) : depth;\n  };\n\n  sankey.nodeSort = function (_) {\n    return arguments.length ? ((sort = _), sankey) : sort;\n  };\n\n  sankey.nodeWidth = function (_) {\n    return arguments.length ? ((dx = +_), sankey) : dx;\n  };\n\n  sankey.nodePadding = function (_) {\n    return arguments.length ? ((dy = py = +_), sankey) : dy;\n  };\n\n  sankey.nodes = function (_) {\n    return arguments.length ? ((nodes = typeof _ === 'function' ? _ : constant(_)), sankey) : nodes;\n  };\n\n  sankey.links = function (_) {\n    return arguments.length ? ((links = typeof _ === 'function' ? _ : constant(_)), sankey) : links;\n  };\n\n  sankey.linkSort = function (_) {\n    return arguments.length ? ((linkSort = _), sankey) : linkSort;\n  };\n\n  sankey.size = function (_) {\n    return arguments.length ? ((x0 = y0 = 0), (x1 = +_[0]), (y1 = +_[1]), sankey) : [x1 - x0, y1 - y0];\n  };\n\n  sankey.extent = function (_) {\n    return arguments.length\n      ? ((x0 = +_[0][0]), (x1 = +_[1][0]), (y0 = +_[0][1]), (y1 = +_[1][1]), sankey)\n      : [\n          [x0, y0],\n          [x1, y1],\n        ];\n  };\n\n  sankey.iterations = function (_) {\n    return arguments.length ? ((iterations = +_), sankey) : iterations;\n  };\n\n  function computeNodeLinks({ nodes, links }) {\n    nodes.forEach((node, idx) => {\n      node.index = idx;\n      node.sourceLinks = [];\n      node.targetLinks = [];\n    });\n\n    const nodeById = new Map(nodes.map((d) => [id(d), d]));\n\n    links.forEach((link, idx) => {\n      link.index = idx;\n      let { source, target } = link;\n      if (typeof source !== 'object') source = link.source = find(nodeById, source);\n      if (typeof target !== 'object') target = link.target = find(nodeById, target);\n      source.sourceLinks.push(link);\n      target.targetLinks.push(link);\n    });\n\n    if (linkSort != null) {\n      for (const { sourceLinks, targetLinks } of nodes) {\n        sourceLinks.sort(linkSort);\n        targetLinks.sort(linkSort);\n      }\n    }\n  }\n\n  function computeNodeValues({ nodes }) {\n    for (const node of nodes) {\n      node.value =\n        node.fixedValue === undefined\n          ? Math.max(sumBy(node.sourceLinks, value), sumBy(node.targetLinks, value))\n          : node.fixedValue;\n    }\n  }\n\n  function computeNodeDepths({ nodes }) {\n    const n = nodes.length;\n    let current = new Set<any>(nodes);\n    let next = new Set();\n    let x = 0;\n    while (current.size) {\n      current.forEach((node) => {\n        node.depth = x;\n        for (const { target } of node.sourceLinks) {\n          next.add(target);\n        }\n      });\n      if (++x > n) throw new Error('circular link');\n      current = next;\n      next = new Set();\n    }\n\n    //  depth depth\n    if (depth) {\n      const maxDepth = Math.max(maxValueBy(nodes, (d: any) => d.depth) + 1, 0);\n\n      let node;\n      for (let i = 0; i < nodes.length; i++) {\n        node = nodes[i];\n        node.depth = depth.call(null, node, maxDepth);\n      }\n    }\n  }\n\n  function computeNodeHeights({ nodes }) {\n    const n = nodes.length;\n    let current = new Set<any>(nodes);\n    let next = new Set();\n    let x = 0;\n    while (current.size) {\n      current.forEach((node) => {\n        node.height = x;\n        for (const { source } of node.targetLinks) {\n          next.add(source);\n        }\n      });\n      if (++x > n) throw new Error('circular link');\n      current = next;\n      next = new Set();\n    }\n  }\n\n  function computeNodeLayers({ nodes }) {\n    const x = Math.max(maxValueBy(nodes, (d: any) => d.depth) + 1, 0);\n    const kx = (x1 - x0 - dx) / (x - 1);\n    const columns = new Array(x).fill(0).map(() => []);\n    for (const node of nodes) {\n      const i = Math.max(0, Math.min(x - 1, Math.floor(align.call(null, node, x))));\n      node.layer = i;\n      node.x0 = x0 + i * kx;\n      node.x1 = node.x0 + dx;\n      if (columns[i]) columns[i].push(node);\n      else columns[i] = [node];\n    }\n    if (sort)\n      for (const column of columns) {\n        column.sort(sort);\n      }\n    return columns;\n  }\n\n  function initializeNodeBreadths(columns) {\n    const ky = minValueBy(columns, (c: any[]) => (y1 - y0 - (c.length - 1) * py) / sumBy(c, value)) as any as number;\n    for (const nodes of columns) {\n      let y = y0;\n      for (const node of nodes) {\n        node.y0 = y;\n        node.y1 = y + node.value * ky;\n        y = node.y1 + py;\n        for (const link of node.sourceLinks) {\n          link.width = link.value * ky;\n        }\n      }\n      y = (y1 - y + py) / (nodes.length + 1);\n      for (let i = 0; i < nodes.length; ++i) {\n        const node = nodes[i];\n        node.y0 += y * (i + 1);\n        node.y1 += y * (i + 1);\n      }\n      reorderLinks(nodes);\n    }\n  }\n\n  function computeNodeBreadths(graph) {\n    const columns = computeNodeLayers(graph);\n    py = Math.min(dy, (y1 - y0) / ((maxValueBy(columns, (c: any[]) => c.length) as any as number) - 1));\n    initializeNodeBreadths(columns);\n    for (let i = 0; i < iterations; ++i) {\n      const alpha = Math.pow(0.99, i);\n      const beta = Math.max(1 - alpha, (i + 1) / iterations);\n      relaxRightToLeft(columns, alpha, beta);\n      relaxLeftToRight(columns, alpha, beta);\n    }\n  }\n\n  // Reposition each node based on its incoming (target) links.\n  function relaxLeftToRight(columns, alpha, beta) {\n    for (let i = 1, n = columns.length; i < n; ++i) {\n      const column = columns[i];\n      for (const target of column) {\n        let y = 0;\n        let w = 0;\n        for (const { source, value } of target.targetLinks) {\n          const v = value * (target.layer - source.layer);\n          y += targetTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        const dy = (y / w - target.y0) * alpha;\n        target.y0 += dy;\n        target.y1 += dy;\n        reorderNodeLinks(target);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      if (column.length) resolveCollisions(column, beta);\n    }\n  }\n\n  // Reposition each node based on its outgoing (source) links.\n  function relaxRightToLeft(columns, alpha, beta) {\n    for (let n = columns.length, i = n - 2; i >= 0; --i) {\n      const column = columns[i];\n      for (const source of column) {\n        let y = 0;\n        let w = 0;\n        for (const { target, value } of source.sourceLinks) {\n          const v = value * (target.layer - source.layer);\n          y += sourceTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        const dy = (y / w - source.y0) * alpha;\n        source.y0 += dy;\n        source.y1 += dy;\n        reorderNodeLinks(source);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      if (column.length) resolveCollisions(column, beta);\n    }\n  }\n\n  function resolveCollisions(nodes, alpha) {\n    const i = nodes.length >> 1;\n    const subject = nodes[i];\n    resolveCollisionsBottomToTop(nodes, subject.y0 - py, i - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, subject.y1 + py, i + 1, alpha);\n    resolveCollisionsBottomToTop(nodes, y1, nodes.length - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, y0, 0, alpha);\n  }\n\n  // Push any overlapping nodes down.\n  function resolveCollisionsTopToBottom(nodes, y, i, alpha) {\n    for (; i < nodes.length; ++i) {\n      const node = nodes[i];\n      const dy = (y - node.y0) * alpha;\n      if (dy > 1e-6) (node.y0 += dy), (node.y1 += dy);\n      y = node.y1 + py;\n    }\n  }\n\n  // Push any overlapping nodes up.\n  function resolveCollisionsBottomToTop(nodes, y, i, alpha) {\n    for (; i >= 0; --i) {\n      const node = nodes[i];\n      const dy = (node.y1 - y) * alpha;\n      if (dy > 1e-6) (node.y0 -= dy), (node.y1 -= dy);\n      y = node.y0 - py;\n    }\n  }\n\n  function reorderNodeLinks({ sourceLinks, targetLinks }) {\n    if (linkSort === undefined) {\n      for (const {\n        source: { sourceLinks },\n      } of targetLinks) {\n        sourceLinks.sort(ascendingTargetBreadth);\n      }\n      for (const {\n        target: { targetLinks },\n      } of sourceLinks) {\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  function reorderLinks(nodes) {\n    if (linkSort === undefined) {\n      for (const { sourceLinks, targetLinks } of nodes) {\n        sourceLinks.sort(ascendingTargetBreadth);\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  // Returns the target.y0 that would produce an ideal link from source to target.\n  function targetTop(source, target) {\n    let y = source.y0 - ((source.sourceLinks.length - 1) * py) / 2;\n    for (const { target: node, width } of source.sourceLinks) {\n      if (node === target) break;\n      y += width + py;\n    }\n    for (const { source: node, width } of target.targetLinks) {\n      if (node === source) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  // Returns the source.y0 that would produce an ideal link from source to target.\n  function sourceTop(source, target) {\n    let y = target.y0 - ((target.targetLinks.length - 1) * py) / 2;\n    for (const { source: node, width } of target.targetLinks) {\n      if (node === source) break;\n      y += width + py;\n    }\n    for (const { target: node, width } of source.sourceLinks) {\n      if (node === target) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  return sankey;\n}\n","import { assign, isString, isFunction } from '@antv/util';\nimport { Datum } from '../../types';\nimport { sankey, left, right, center, justify } from './sankey';\n\nconst ALIGN_METHOD = {\n  left,\n  right,\n  center,\n  justify,\n};\n\ntype InputNode = {\n  readonly name: string;\n};\n\ntype InputLink = {\n  readonly source: number;\n  readonly target: number;\n  readonly value: number;\n};\n\ntype OutputNode = {\n  readonly name: string;\n  readonly x0: number;\n  readonly x1: number;\n  readonly y0: number;\n  readonly y1: number;\n  readonly depth: number;\n  readonly value: number;\n\n  //  polygon\n  x: number[];\n  y: number[];\n};\n\ntype OutputLink = {\n  readonly source: OutputNode;\n  readonly target: OutputNode;\n  readonly value: number;\n  readonly width: number;\n  readonly y0: number;\n  readonly y1: number;\n\n  //  edge\n  x?: number[];\n  y?: number[];\n};\n\n/**\n * \n */\nexport type SankeyLayoutInputData = {\n  readonly nodes: InputNode[];\n  readonly links: InputLink[];\n};\n\ntype SankeyLayoutOutputData = {\n  readonly nodes: OutputNode[];\n  readonly links: OutputLink[];\n};\n\n/**\n * \n */\nexport type NodeAlign = keyof typeof ALIGN_METHOD | Function;\n\n/**\n *  depth \n */\nexport type NodeDepth = (datum: Datum, maxDepth: number) => number;\n\n/**\n * \n */\nexport type NodeSort = (a: Datum, b: Datum) => number;\n\n/**\n * \n */\nexport type SankeyLayoutOptions = {\n  readonly nodeId?: (node: Datum) => any;\n  // readonly value?: (node: Datum) => any;\n  // readonly source?: (edge: Datum) => any;\n  // readonly target?: (edge: Datum) => any;\n  // sankey.nodeSort(undefined) is the default and resorts by ascending breadth during each iteration.\n  // sankey.nodeSort(null) specifies the input order of nodes and never sorts.\n  // sankey.nodeSort(function) specifies the given order as a comparator function and sorts once on initialization.\n  readonly nodeSort?: (a: any, b: any) => number;\n  readonly nodeAlign?: NodeAlign;\n  readonly nodeWidth?: number;\n  readonly nodePadding?: number;\n  readonly nodeDepth?: NodeDepth;\n};\n\n/**\n * \n */\nconst DEFAULT_OPTIONS: Partial<SankeyLayoutOptions> = {\n  nodeId: (node: Datum) => node.index,\n  nodeAlign: 'justify',\n  nodeWidth: 0.008,\n  nodePadding: 0.03,\n  nodeSort: undefined,\n};\n\n/**\n *  align function\n * @param nodeAlign\n * @param nodeDepth\n */\nexport function getNodeAlignFunction(nodeAlign: NodeAlign) {\n  const func = isString(nodeAlign) ? ALIGN_METHOD[nodeAlign] : isFunction(nodeAlign) ? nodeAlign : null;\n\n  return func || justify;\n}\n\nexport function getDefaultOptions(sankeyLayoutOptions: SankeyLayoutOptions) {\n  return assign({}, DEFAULT_OPTIONS, sankeyLayoutOptions);\n}\n\n/**\n * 0 - 1 \n *  data \n * @param sankeyLayoutOptions\n * @param data\n */\nexport function sankeyLayout(\n  sankeyLayoutOptions: SankeyLayoutOptions,\n  data: SankeyLayoutInputData\n): SankeyLayoutOutputData {\n  const options = getDefaultOptions(sankeyLayoutOptions);\n\n  const { nodeId, nodeSort, nodeAlign, nodeWidth, nodePadding, nodeDepth } = options;\n\n  const sankeyProcessor = sankey()\n    // .links((d: any) => d.links)\n    // .nodes((d: any) => d.nodes)\n    .nodeSort(nodeSort)\n    .nodeWidth(nodeWidth)\n    .nodePadding(nodePadding)\n    .nodeDepth(nodeDepth)\n    .nodeAlign(getNodeAlignFunction(nodeAlign))\n    .extent([\n      [0, 0],\n      [1, 1],\n    ])\n    .nodeId(nodeId);\n\n  // \n  const layoutData: SankeyLayoutOutputData = sankeyProcessor(data);\n\n  // post process (x, y), etc.\n  layoutData.nodes.forEach((node) => {\n    const { x0, x1, y0, y1 } = node;\n    /* points\n     * 3---2\n     * |   |\n     * 0---1\n     */\n    node.x = [x0, x1, x1, x0];\n    node.y = [y0, y0, y1, y1];\n  });\n\n  layoutData.links.forEach((edge) => {\n    const { source, target } = edge;\n    const sx = source.x1;\n    const tx = target.x0;\n    edge.x = [sx, sx, tx, tx];\n    const offset = edge.width / 2;\n    edge.y = [edge.y0 + offset, edge.y0 - offset, edge.y1 + offset, edge.y1 - offset];\n  });\n\n  return layoutData;\n}\n","import { isArray } from '@antv/util';\nimport { Data } from '../../types';\n\n/**\n *  edges  node \n */\nexport function getNodes(edges: Data, sourceField: string, targetField: string): string[] {\n  const nodes = [];\n  edges.forEach((e) => {\n    const source = e[sourceField] as string;\n    const target = e[targetField] as string;\n    if (!nodes.includes(source)) {\n      nodes.push(source);\n    }\n    if (!nodes.includes(target)) {\n      nodes.push(target);\n    }\n  });\n  return nodes;\n}\n\n/**\n *  edges  dfs \n */\nexport function getMatrix(\n  edges: Data,\n  nodes: string[],\n  sourceField: string,\n  targetField: string\n): Record<string, Record<string, number>> {\n  const graphMatrix = {};\n\n  nodes.forEach((pre) => {\n    graphMatrix[pre] = {};\n    nodes.forEach((next) => {\n      graphMatrix[pre][next] = 0;\n    });\n  });\n\n  edges.forEach((edge) => {\n    graphMatrix[edge[sourceField]][edge[targetField]] = 1;\n  });\n\n  return graphMatrix;\n}\n\n/**\n *  DFS \n * @param data\n * @param sourceField\n * @param targetField\n */\nexport function cutoffCircle(edges: Data, sourceField: string, targetField: string): Data {\n  if (!isArray(edges)) return [];\n\n  // \n  const removedData = [];\n\n  // \n  const nodes = getNodes(edges, sourceField, targetField);\n  // \n  const graphMatrix = getMatrix(edges, nodes, sourceField, targetField);\n\n  // visited, 0,1, -1\n  const visited = {};\n  // visited\n  nodes.forEach((node) => {\n    visited[node] = 0;\n  });\n\n  // \n  function DFS(dfsNode) {\n    // \n    visited[dfsNode] = 1;\n    nodes.forEach((node) => {\n      if (graphMatrix[dfsNode][node] != 0) {\n        //  removeData\n        if (visited[node] == 1) {\n          // \n          removedData.push(`${dfsNode}_${node}`);\n        } else if (visited[node] == -1) {\n          // \n          return;\n        } else {\n          DFS(node); // \n        }\n      }\n    });\n    //-1\n    visited[dfsNode] = -1;\n  }\n\n  //  dfs \n  nodes.forEach((node) => {\n    //\n    if (visited[node] == -1) {\n      return;\n    }\n    DFS(node);\n  });\n\n  if (removedData.length !== 0) {\n    console.warn(`sankey data contains circle, ${removedData.length} records removed.`, removedData);\n  }\n\n  //  remove \n  return edges.filter((edge) => removedData.findIndex((i) => i === `${edge[sourceField]}_${edge[targetField]}`) < 0);\n}\n","import { isRealNumber, pick } from '../../utils';\nimport { transformDataToNodeLinkData } from '../../utils/data';\nimport { Data } from '../../types';\nimport { sankeyLayout, SankeyLayoutInputData } from './layout';\nimport { cutoffCircle } from './circle';\nimport { SankeyOptions } from './types';\n\n/**\n *  node-link \n * @param dataTyp\n * @returns\n */\nfunction isNodeLink(dataType: string) {\n  return dataType === 'node-link';\n}\n\nexport function getNodeWidthRatio(nodeWidth: number, nodeWidthRatio: number, width: number) {\n  return isRealNumber(nodeWidth) ? nodeWidth / width : nodeWidthRatio;\n}\n\nexport function getNodePaddingRatio(nodePadding: number, nodePaddingRatio: number, height: number) {\n  return isRealNumber(nodePadding) ? nodePadding / height : nodePaddingRatio;\n}\n\n/**\n *  layout view \n * @param options\n * @param width\n * @param height\n */\nexport function transformToViewsData(options: SankeyOptions, width: number, height: number) {\n  const {\n    dataType,\n    data,\n    sourceField,\n    targetField,\n    weightField,\n    nodeAlign,\n    nodeSort,\n    nodePadding,\n    nodePaddingRatio,\n    nodeWidth,\n    nodeWidthRatio,\n    nodeDepth,\n    rawFields = [],\n  } = options;\n\n  let sankeyLayoutInputData: unknown;\n\n  if (!isNodeLink(dataType)) {\n    sankeyLayoutInputData = transformDataToNodeLinkData(\n      cutoffCircle(data as Data, sourceField, targetField),\n      sourceField,\n      targetField,\n      weightField,\n      rawFields\n    );\n  } else {\n    sankeyLayoutInputData = data;\n  }\n\n  // 3. layout \n  const { nodes, links } = sankeyLayout(\n    {\n      nodeAlign,\n      nodePadding: getNodePaddingRatio(nodePadding, nodePaddingRatio, height),\n      nodeWidth: getNodeWidthRatio(nodeWidth, nodeWidthRatio, width),\n      nodeSort,\n      nodeDepth,\n    },\n    sankeyLayoutInputData as SankeyLayoutInputData\n  );\n\n  // 4. \n  return {\n    nodes: nodes.map((node) => {\n      return {\n        ...pick(node, ['x', 'y', 'name', ...rawFields]),\n        isNode: true,\n      };\n    }),\n    edges: links.map((link) => {\n      return {\n        source: link.source.name,\n        target: link.target.name,\n        name: link.source.name || link.target.name,\n        ...pick(link, ['x', 'y', 'value', ...rawFields]),\n        isNode: false,\n      };\n    }),\n  };\n}\n","export const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\nexport const COLOR_FIELD = 'name';\nexport const NODES_VIEW_ID = 'nodes';\nexport const EDGES_VIEW_ID = 'edges';\n","import { uniq } from '@antv/util';\nimport { theme } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findViewById, flow } from '../../utils';\nimport { polygon, edge } from '../../adaptor/geometries';\nimport { transformToViewsData } from './helper';\nimport { SankeyOptions } from './types';\nimport { X_FIELD, Y_FIELD, COLOR_FIELD, EDGES_VIEW_ID, NODES_VIEW_ID } from './constant';\n\n/**\n *  \n * @param params\n */\nfunction defaultOptions(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { options } = params;\n  const { rawFields = [] } = options;\n\n  return deepAssign(\n    {},\n    {\n      options: {\n        tooltip: {\n          fields: uniq(['name', 'source', 'target', 'value', 'isNode', ...rawFields]),\n        },\n        label: {\n          fields: uniq(['x', 'name', ...rawFields]),\n        },\n      },\n    },\n    params\n  );\n}\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { color, nodeStyle, edgeStyle, label, tooltip, nodeState, edgeState } = options;\n\n  // 1.  view \n  chart.legend(false);\n  chart.tooltip(tooltip);\n  chart.axis(false);\n  // y \n  chart.coordinate().reflect('y');\n\n  // 2. node edge views\n  // @ts-ignore\n  const { nodes, edges } = transformToViewsData(options, chart.width, chart.height);\n\n  // edge view\n  const edgeView = chart.createView({ id: EDGES_VIEW_ID });\n  edgeView.data(edges);\n\n  edge({\n    chart: edgeView,\n    // @ts-ignore\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: COLOR_FIELD,\n      edge: {\n        color,\n        style: edgeStyle,\n        shape: 'arc',\n      },\n      tooltip,\n      state: edgeState,\n    },\n  });\n\n  const nodeView = chart.createView({ id: NODES_VIEW_ID });\n  nodeView.data(nodes);\n\n  polygon({\n    chart: nodeView,\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: COLOR_FIELD,\n      polygon: {\n        color,\n        style: nodeStyle,\n      },\n      label,\n      tooltip,\n      state: nodeState,\n    },\n  });\n\n  chart.interaction('element-active');\n\n  // scale\n  chart.scale({\n    x: { sync: true, nice: true, min: 0, max: 1, minLimit: 0, maxLimit: 1 },\n    y: { sync: true, nice: true, min: 0, max: 1, minLimit: 0, maxLimit: 1 },\n    name: { sync: 'color', type: 'cat' },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  view \n  if (typeof animation === 'boolean') {\n    chart.animate(animation);\n  } else {\n    chart.animate(true);\n  }\n\n  const geometries = [...chart.views[0].geometries, ...chart.views[1].geometries];\n\n  //  Geometry \n  geometries.forEach((g) => {\n    g.animate(animation);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function nodeDraggable(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { nodeDraggable } = options;\n\n  const DRAG_INTERACTION = 'sankey-node-draggable';\n\n  if (nodeDraggable) {\n    chart.interaction(DRAG_INTERACTION);\n  } else {\n    chart.removeInteraction(DRAG_INTERACTION);\n  }\n\n  return params;\n}\n\n/**\n * Interaction \n * @param params\n */\nfunction interaction(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { interactions = [] } = options;\n\n  const nodeInteractions = [].concat(interactions, options.nodeInteractions || []);\n  const edgeInteractions = [].concat(interactions, options.edgeInteractions || []);\n\n  const nodeView = findViewById(chart, NODES_VIEW_ID);\n  const edgeView = findViewById(chart, EDGES_VIEW_ID);\n\n  nodeInteractions.forEach((i) => {\n    if (i?.enable === false) {\n      nodeView.removeInteraction(i.type);\n    } else {\n      nodeView.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  edgeInteractions.forEach((i) => {\n    if (i?.enable === false) {\n      edgeView.removeInteraction(i.type);\n    } else {\n      edgeView.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<SankeyOptions>) {\n  // flow  G2 API\n  return flow(\n    defaultOptions,\n    geometry,\n    interaction,\n    nodeDraggable,\n    animation,\n    theme\n    // ...  adaptor flow\n  )(params);\n}\n","import { Action, Element } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Datum, Point } from '../../../../types';\nimport { findViewById } from '../../../../utils';\nimport { EDGES_VIEW_ID, NODES_VIEW_ID } from '../../constant';\n\nexport class SankeyNodeDragAction extends Action {\n  /**\n   * \n   */\n  private isDragging = false;\n\n  /**\n   * \n   */\n  private prevPoint: Point;\n  /**\n   * \n   */\n  private prevNodeAnimateCfg: any;\n  /**\n   * \n   */\n  private prevEdgeAnimateCfg: any;\n  /**\n   *  element \n   */\n  private currentElementIdx: number;\n\n  /**\n   *  element\n   */\n  private isNodeElement() {\n    const shape = get(this.context, 'event.target');\n    if (shape) {\n      const element = shape.get('element');\n      return element && element.getModel().data.isNode;\n    }\n    return false;\n  }\n\n  private getNodeView() {\n    return findViewById(this.context.view, NODES_VIEW_ID);\n  }\n\n  private getEdgeView() {\n    return findViewById(this.context.view, EDGES_VIEW_ID);\n  }\n\n  /**\n   *  index\n   * @param element\n   */\n  private getCurrentDatumIdx(element: Element) {\n    return this.getNodeView().geometries[0].elements.indexOf(element);\n  }\n\n  /**\n   * \n   */\n  public start() {\n    // \n    if (this.isNodeElement()) {\n      this.prevPoint = {\n        x: get(this.context, 'event.x'),\n        y: get(this.context, 'event.y'),\n      };\n\n      const element = this.context.event.target.get('element');\n      const idx = this.getCurrentDatumIdx(element);\n\n      if (idx === -1) {\n        return;\n      }\n\n      this.currentElementIdx = idx;\n      this.context.isDragging = true;\n      this.isDragging = true;\n\n      // \n      this.prevNodeAnimateCfg = this.getNodeView().getOptions().animate;\n      this.prevEdgeAnimateCfg = this.getEdgeView().getOptions().animate;\n      this.getNodeView().animate(false);\n      this.getEdgeView().animate(false);\n    }\n  }\n\n  /**\n   * \n   */\n  public translate() {\n    if (this.isDragging) {\n      const chart = this.context.view;\n\n      const currentPoint = {\n        x: get(this.context, 'event.x'),\n        y: get(this.context, 'event.y'),\n      };\n\n      const x = currentPoint.x - this.prevPoint.x;\n      const y = currentPoint.y - this.prevPoint.y;\n\n      const nodeView = this.getNodeView();\n      const element = nodeView.geometries[0].elements[this.currentElementIdx];\n\n      // \n      if (element && element.getModel()) {\n        const prevDatum: Datum = element.getModel().data;\n        const data = nodeView.getOptions().data;\n        const coordinate = nodeView.getCoordinate();\n\n        const datumGap = {\n          x: x / coordinate.getWidth(),\n          y: y / coordinate.getHeight(),\n        };\n\n        const nextDatum = {\n          ...prevDatum,\n          x: prevDatum.x.map((x: number) => (x += datumGap.x)),\n          y: prevDatum.y.map((y: number) => (y += datumGap.y)),\n        };\n        //  [0, 1] \n\n        // 1.  node \n        const newData = [...data];\n        newData[this.currentElementIdx] = nextDatum;\n        nodeView.data(newData);\n\n        // 2.  edge \n        const name = prevDatum.name;\n        const edgeView = this.getEdgeView();\n        const edgeData = edgeView.getOptions().data;\n\n        edgeData.forEach((datum) => {\n          // 2.1  node  source  [x0, x1, x2, x3]  x0, x1\n          if (datum.source === name) {\n            datum.x[0] += datumGap.x;\n            datum.x[1] += datumGap.x;\n            datum.y[0] += datumGap.y;\n            datum.y[1] += datumGap.y;\n          }\n\n          // 2.2  node  target  [x0, x1, x2, x3]  x2, x3\n          if (datum.target === name) {\n            datum.x[2] += datumGap.x;\n            datum.x[3] += datumGap.x;\n            datum.y[2] += datumGap.y;\n            datum.y[3] += datumGap.y;\n          }\n        });\n        edgeView.data(edgeData);\n\n        // 3. \n        this.prevPoint = currentPoint;\n\n        // node edge  render\n        chart.render(true);\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isDragging = false;\n    this.context.isDragging = false;\n    this.prevPoint = null;\n    this.currentElementIdx = null;\n\n    // \n    this.getNodeView().animate(this.prevNodeAnimateCfg);\n    this.getEdgeView().animate(this.prevEdgeAnimateCfg);\n  }\n}\n","import { registerInteraction, registerAction } from '@antv/g2';\nimport { SankeyNodeDragAction } from './actions/node-drag';\n\nregisterAction('sankey-node-drag', SankeyNodeDragAction);\n\nregisterInteraction('sankey-node-draggable', {\n  showEnable: [\n    { trigger: 'polygon:mouseenter', action: 'cursor:pointer' },\n    { trigger: 'polygon:mouseleave', action: 'cursor:default' },\n  ],\n  start: [{ trigger: 'polygon:mousedown', action: 'sankey-node-drag:start' }],\n  processing: [\n    { trigger: 'plot:mousemove', action: 'sankey-node-drag:translate' },\n    { isEnable: (context) => context.isDragging, trigger: 'plot:mousemove', action: 'cursor:move' },\n  ],\n  end: [{ trigger: 'plot:mouseup', action: 'sankey-node-drag:end' }],\n});\n","import { get } from '@antv/util';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { Data, Datum } from '../../types';\nimport { findViewById } from '../../utils';\nimport { SankeyOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { transformToViewsData } from './helper';\nimport { EDGES_VIEW_ID, NODES_VIEW_ID } from './constant';\n// \nimport './interactions';\n\nexport type { SankeyOptions };\n\n/**\n *   Sankey\n */\nexport class Sankey extends Plot<SankeyOptions> {\n  /**  */\n  public type: string = 'sankey';\n\n  static getDefaultOptions(): Partial<SankeyOptions> {\n    return {\n      appendPadding: 8,\n      syncViewPadding: true,\n      nodeStyle: {\n        opacity: 1,\n        fillOpacity: 1,\n        lineWidth: 1,\n      },\n      edgeStyle: {\n        opacity: 0.3,\n        lineWidth: 0,\n      },\n      edgeState: {\n        active: {\n          style: {\n            opacity: 0.8,\n            lineWidth: 0,\n          },\n        },\n      },\n      label: {\n        formatter: ({ name }) => name,\n        callback: (x: number[]) => {\n          const isLast = x[1] === 1; // \n          return {\n            style: {\n              fill: '#545454',\n              textAlign: isLast ? 'end' : 'start',\n            },\n            offsetX: isLast ? -8 : 8,\n          };\n        },\n        layout: [\n          {\n            type: 'hide-overlap',\n          },\n        ],\n      },\n      tooltip: {\n        showTitle: false,\n        showMarkers: false,\n        shared: false,\n        // node  tooltipedge  tooltip\n        showContent: (items) => {\n          return !get(items, [0, 'data', 'isNode']);\n        },\n        formatter: (datum: Datum) => {\n          const { source, target, value } = datum;\n          return {\n            name: source + ' -> ' + target,\n            value,\n          };\n        },\n      },\n      nodeWidthRatio: 0.008,\n      nodePaddingRatio: 0.01,\n      animation: {\n        appear: {\n          animation: 'wave-in',\n        },\n        enter: {\n          animation: 'wave-in',\n        },\n      },\n    };\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: Data) {\n    this.updateOption({ data });\n\n    const { nodes, edges } = transformToViewsData(this.options, this.chart.width, this.chart.height);\n\n    const nodesView = findViewById(this.chart, NODES_VIEW_ID);\n    const edgesView = findViewById(this.chart, EDGES_VIEW_ID);\n\n    nodesView.changeData(nodes);\n    edgesView.changeData(edges);\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<SankeyOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Sankey.getDefaultOptions();\n  }\n}\n","/*\n * for Arc Diagram (edges without weight) / Chord Diagram (edges with source and target weight)\n * graph data required (nodes, edges)\n */\nimport { assign, forIn, isFunction } from '@antv/util';\nimport { NodeLinkData } from '../../types/relation-data';\n\nconst DEFAULT_OPTIONS: ChordLayoutOptions = {\n  y: 0,\n  nodeWidthRatio: 0.05, // width of the node, (0, 1)\n  weight: false,\n  nodePaddingRatio: 0.1, // margin ratio, [0, 1)\n  id: (node) => node.id,\n  source: (edge) => edge.source,\n  target: (edge) => edge.target,\n  sourceWeight: (edge) => edge.value || 1,\n  targetWeight: (edge) => edge.value || 1,\n  sortBy: null, // optional, id | weight | frequency | {function}\n};\n\nexport type ChordLayoutOptions = {\n  weight?: boolean;\n  y?: number;\n  nodeWidthRatio?: number; // (0, 1)\n  nodePaddingRatio?: number; // [0, 1)\n  id?(node: any): any;\n  source?(edge: any): any;\n  target?(edge: any): any;\n  sourceWeight?(edge: any): number;\n  targetWeight?(edge: any): number;\n  sortBy?: 'id' | 'weight' | 'frequency' | null | ((a: any, b: any) => number);\n};\n\ntype OutputNode = {\n  readonly id: number;\n  readonly name: string;\n  // readonly depth: number;\n  readonly value: number;\n\n  //  polygon\n  x: number[];\n  y: number[];\n};\n\ntype OutputLink = {\n  readonly source: OutputNode;\n  readonly target: OutputNode;\n  readonly value: number;\n\n  //  edge\n  x?: number[];\n  y?: number[];\n};\n\ntype ChordLayoutOutputData = {\n  readonly nodes: OutputNode[];\n  readonly links: OutputLink[];\n};\n\n/**\n * valueedges\n * @param nodeById\n * @param edges\n * @param options\n */\nfunction processGraph(nodeById, edges, options) {\n  forIn(nodeById, (node, id) => {\n    // in edges, out edges\n    node.inEdges = edges.filter((edge) => `${options.target(edge)}` === `${id}`);\n    node.outEdges = edges.filter((edge) => `${options.source(edge)}` === `${id}`);\n    // frequency\n    node.edges = node.outEdges.concat(node.inEdges);\n    node.frequency = node.edges.length;\n    // weight\n    node.value = 0;\n    node.inEdges.forEach((edge) => {\n      node.value += options.targetWeight(edge);\n    });\n    node.outEdges.forEach((edge) => {\n      node.value += options.sourceWeight(edge);\n    });\n  });\n}\n\n/**\n * \n * @param nodes\n * @param options\n */\nfunction sortNodes(nodes, options) {\n  const sortMethods = {\n    weight: (a, b) => b.value - a.value,\n    frequency: (a, b) => b.frequency - a.frequency,\n    id: (a, b) => `${options.id(a)}`.localeCompare(`${options.id(b)}`),\n  };\n  let method = sortMethods[options.sortBy];\n  if (!method && isFunction(options.sortBy)) {\n    method = options.sortBy;\n  }\n  if (method) {\n    nodes.sort(method);\n  }\n}\n\nfunction layoutNodes(nodes, options): OutputNode[] {\n  const len = nodes.length;\n  if (!len) {\n    throw new TypeError(\"Invalid nodes: it's empty!\");\n  }\n  if (options.weight) {\n    const nodePaddingRatio = options.nodePaddingRatio;\n    if (nodePaddingRatio < 0 || nodePaddingRatio >= 1) {\n      throw new TypeError('Invalid nodePaddingRatio: it must be in range [0, 1)!');\n    }\n    const margin = nodePaddingRatio / (2 * len);\n    const nodeWidthRatio = options.nodeWidthRatio;\n    if (nodeWidthRatio <= 0 || nodeWidthRatio >= 1) {\n      throw new TypeError('Invalid nodeWidthRatio: it must be in range (0, 1)!');\n    }\n    let totalValue = 0;\n    nodes.forEach((node) => {\n      totalValue += node.value;\n    });\n    nodes.forEach((node) => {\n      node.weight = node.value / totalValue;\n      node.width = node.weight * (1 - nodePaddingRatio);\n      node.height = nodeWidthRatio;\n    });\n    nodes.forEach((node, index) => {\n      // x\n      let deltaX = 0;\n      for (let i = index - 1; i >= 0; i--) {\n        deltaX += nodes[i].width + 2 * margin;\n      }\n      const minX = (node.minX = margin + deltaX);\n      const maxX = (node.maxX = node.minX + node.width);\n      const minY = (node.minY = options.y - nodeWidthRatio / 2);\n      const maxY = (node.maxY = minY + nodeWidthRatio);\n      node.x = [minX, maxX, maxX, minX];\n      node.y = [minY, minY, maxY, maxY];\n      /* points\n       * 3---2\n       * |   |\n       * 0---1\n       */\n      // node.x = minX + 0.5 * node.width;\n      // node.y = options.y;\n    });\n  } else {\n    const deltaX = 1 / len;\n    nodes.forEach((node, index) => {\n      node.x = (index + 0.5) * deltaX;\n      node.y = options.y;\n    });\n  }\n  return nodes;\n}\n\nfunction locatingEdges(nodeById, edges, options): OutputLink[] {\n  if (options.weight) {\n    const valueById = {};\n    forIn(nodeById, (node, id) => {\n      valueById[id] = node.value;\n    });\n    edges.forEach((edge) => {\n      const sId = options.source(edge);\n      const tId = options.target(edge);\n      const sNode = nodeById[sId];\n      const tNode = nodeById[tId];\n      if (sNode && tNode) {\n        const sValue = valueById[sId];\n        const currentSValue = options.sourceWeight(edge);\n        const sStart = sNode.minX + ((sNode.value - sValue) / sNode.value) * sNode.width;\n        const sEnd = sStart + (currentSValue / sNode.value) * sNode.width;\n        valueById[sId] -= currentSValue;\n\n        const tValue = valueById[tId];\n        const currentTValue = options.targetWeight(edge);\n        const tStart = tNode.minX + ((tNode.value - tValue) / tNode.value) * tNode.width;\n        const tEnd = tStart + (currentTValue / tNode.value) * tNode.width;\n        valueById[tId] -= currentTValue;\n\n        const y = options.y;\n        edge.x = [sStart, sEnd, tStart, tEnd];\n        edge.y = [y, y, y, y];\n        // edgesourcetargetid sourceNodetargetNode\n        edge.source = sNode;\n        edge.target = tNode;\n      }\n    });\n  } else {\n    edges.forEach((edge) => {\n      const sNode = nodeById[options.source(edge)];\n      const tNode = nodeById[options.target(edge)];\n      if (sNode && tNode) {\n        edge.x = [sNode.x, tNode.x];\n        edge.y = [sNode.y, tNode.y];\n        // edgesourcetargetid sourceNodetargetNode\n        edge.source = sNode;\n        edge.target = tNode;\n      }\n    });\n  }\n  return edges;\n}\n\nexport function getDefaultOptions(options: ChordLayoutOptions): ChordLayoutOptions {\n  return assign({}, DEFAULT_OPTIONS, options);\n}\n\nexport function chordLayout(\n  chordLayoutOptions: ChordLayoutOptions,\n  chordLayoutInputData: NodeLinkData\n): ChordLayoutOutputData {\n  const options = getDefaultOptions(chordLayoutOptions);\n  const nodeById = {};\n  const nodes = chordLayoutInputData.nodes;\n  const links = chordLayoutInputData.links;\n  nodes.forEach((node) => {\n    const id = options.id(node);\n    nodeById[id] = node;\n  });\n  processGraph(nodeById, links, options);\n  sortNodes(nodes, options);\n  const outputNodes = layoutNodes(nodes, options);\n  const outputLinks = locatingEdges(nodeById, links, options);\n  return {\n    nodes: outputNodes,\n    links: outputLinks,\n  };\n}\n","import { get } from '@antv/util';\nimport { Datum } from '../../types';\n\nexport const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\nexport const NODE_COLOR_FIELD = 'name';\nexport const EDGE_COLOR_FIELD = 'source';\n\nexport const DEFAULT_OPTIONS = {\n  nodeStyle: {\n    opacity: 1,\n    fillOpacity: 1,\n    lineWidth: 1,\n  },\n  edgeStyle: {\n    opacity: 0.5,\n    lineWidth: 2,\n  },\n  label: {\n    fields: ['x', 'name'],\n    callback: (x: number[], name: string) => {\n      const centerX = (x[0] + x[1]) / 2;\n      const offsetX = centerX > 0.5 ? -4 : 4;\n      return {\n        labelEmit: true,\n        style: {\n          fill: '#8c8c8c',\n        },\n        offsetX,\n        content: name,\n      };\n    },\n  },\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    fields: ['source', 'target', 'value', 'isNode'],\n    // node  tooltip ()edge  tooltip\n    showContent: (items) => {\n      return !get(items, [0, 'data', 'isNode']);\n    },\n    formatter: (datum: Datum) => {\n      const { source, target, value } = datum;\n      return {\n        name: `${source} -> ${target}`,\n        value,\n      };\n    },\n  },\n  interactions: [\n    {\n      type: 'element-active',\n    },\n  ],\n  weight: true,\n  nodePaddingRatio: 0.1,\n  nodeWidthRatio: 0.05,\n};\n","import { Geometry } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { interaction, theme, state } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, pick } from '../../utils';\nimport { polygon, edge } from '../../adaptor/geometries';\nimport { chordLayout } from '../../utils/transform/chord';\nimport { getAllGeometriesRecursively, transformDataToNodeLinkData } from '../../utils';\nimport { ChordOptions } from './types';\nimport { X_FIELD, Y_FIELD, NODE_COLOR_FIELD, EDGE_COLOR_FIELD } from './constant';\n\nfunction transformData(params: Params<ChordOptions>): Params<ChordOptions> {\n  // extnodeGeometry edgeGeometry\n\n  const { options } = params;\n  const { data, sourceField, targetField, weightField, nodePaddingRatio, nodeWidthRatio, rawFields = [] } = options;\n\n  // node link\n  const chordLayoutInputData = transformDataToNodeLinkData(data, sourceField, targetField, weightField);\n\n  const { nodes, links } = chordLayout({ weight: true, nodePaddingRatio, nodeWidthRatio }, chordLayoutInputData);\n\n  // 1. node\n  const nodesData = nodes.map((node) => {\n    return {\n      ...pick(node, ['id', 'x', 'y', 'name', ...rawFields]),\n      isNode: true,\n    };\n  });\n\n  // 2.  edge  \n  const edgesData = links.map((link) => {\n    return {\n      source: link.source.name,\n      target: link.target.name,\n      name: link.source.name || link.target.name,\n      ...pick(link, ['x', 'y', 'value', ...rawFields]),\n      isNode: false,\n    };\n  });\n\n  return {\n    ...params,\n    ext: {\n      ...params.ext,\n      // chordDataextgeometry\n      chordData: { nodesData, edgesData },\n    },\n  };\n}\n\n/**\n * scale\n * @param params \n */\nfunction scale(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.scale({\n    x: { sync: true, nice: true },\n    y: { sync: true, nice: true, max: 1 },\n    [NODE_COLOR_FIELD]: { sync: 'color' },\n    [EDGE_COLOR_FIELD]: { sync: 'color' },\n  });\n  return params;\n}\n\n/**\n * axis\n * @param params \n */\nfunction axis(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * legend\n * @param params \n */\nfunction legend(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.legend(false);\n  return params;\n}\n\n/**\n * tooltip\n * @param params \n */\nfunction tooltip(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  chart.tooltip(tooltip);\n  return params;\n}\n\n/**\n * coordinate\n * @param params \n */\nfunction coordinate(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.coordinate('polar').reflect('y');\n  return params;\n}\n\n/**\n * nodeGeometry\n * @param params \n */\nfunction nodeGeometry(params: Params<ChordOptions>): Params<ChordOptions> {\n  // node view\n  const { chart, options } = params;\n  const { nodesData } = params.ext.chordData;\n  const { nodeStyle, label, tooltip } = options;\n\n  const nodeView = chart.createView();\n  nodeView.data(nodesData);\n\n  // \n  polygon({\n    chart: nodeView,\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: NODE_COLOR_FIELD,\n      polygon: {\n        style: nodeStyle,\n      },\n      label,\n      tooltip,\n    },\n  });\n  return params;\n}\n\n/**\n * edgeGeometry\n * @param params \n */\nfunction edgeGeometry(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { edgesData } = params.ext.chordData;\n  const { edgeStyle, tooltip } = options;\n\n  const edgeView = chart.createView();\n  edgeView.data(edgesData);\n\n  // edge\n  const edgeOptions = {\n    xField: X_FIELD,\n    yField: Y_FIELD,\n    seriesField: EDGE_COLOR_FIELD,\n    edge: {\n      style: edgeStyle,\n      shape: 'arc',\n    },\n    tooltip,\n  };\n  edge({\n    chart: edgeView,\n    options: edgeOptions,\n  });\n  return params;\n}\n\nfunction animation(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  view \n  if (typeof animation === 'boolean') {\n    chart.animate(animation);\n  } else {\n    chart.animate(true);\n  }\n\n  //  Geometry \n  each(getAllGeometriesRecursively(chart), (g: Geometry) => {\n    g.animate(animation);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ChordOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    transformData,\n    coordinate,\n    scale,\n    axis,\n    legend,\n    tooltip,\n    edgeGeometry,\n    nodeGeometry,\n    interaction,\n    state,\n    animation\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { ChordOptions } from './types';\n\nexport type { ChordOptions };\n\n/**\n *   Chord\n */\nexport class Chord extends Plot<ChordOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ChordOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'chord';\n\n  protected getDefaultOptions() {\n    return Chord.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<ChordOptions> {\n    return adaptor;\n  }\n}\n","import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray } from '@antv/util';\nimport { getField, getAllNodes } from './util';\nimport { HierarchyOption } from './types';\n\ntype Options = Omit<HierarchyOption, 'as'> & { as?: [string, string, string] };\n\nconst DEFAULT_OPTIONS: Options = {\n  field: 'value',\n  as: ['x', 'y', 'r'],\n  // \n  sort: (a, b) => b.value - a.value,\n};\n\nexport function pack(data: any, options: Options): any[] {\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 3) {\n    throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ \"x\", \"y\", \"r\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const packLayout = (data) =>\n    d3Hierarchy.pack().size(options.size).padding(options.padding)(\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) => d[field])\n        .sort(options.sort)\n    );\n\n  const root = packLayout(data);\n\n  const x = as[0];\n  const y = as[1];\n  const r = as[2];\n  root.each((node) => {\n    node[x] = node.x;\n    node[y] = node.y;\n    node[r] = node.r;\n  });\n\n  return getAllNodes(root);\n}\n","import { Types } from '@antv/g2';\nimport { pack } from '../../utils/hierarchy/pack';\nimport { deepAssign, pick } from '../../utils';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { resolveAllPadding } from '../../utils/padding';\nimport { CirclePackingOptions } from './types';\n\ninterface TransformDataOptions {\n  data: CirclePackingOptions['data'];\n  rawFields: CirclePackingOptions['rawFields'];\n  enableDrillDown: boolean;\n  hierarchyConfig: CirclePackingOptions['hierarchyConfig'];\n}\n\n/**\n * circle-packing \n * @param options\n */\nexport function transformData(options: TransformDataOptions) {\n  const { data, hierarchyConfig, rawFields = [], enableDrillDown } = options;\n\n  const nodes = pack(data, {\n    ...hierarchyConfig,\n    field: 'value',\n    as: ['x', 'y', 'r'],\n  });\n\n  const result = [];\n  nodes.forEach((node) => {\n    let path = node.data.name;\n    let ancestorNode = { ...node };\n    while (ancestorNode.depth > 1) {\n      path = `${ancestorNode.parent.data?.name} / ${path}`;\n      ancestorNode = ancestorNode.parent;\n    }\n\n    //  depth <= 2  ()\n    if (enableDrillDown && node.depth > 2) {\n      return null;\n    }\n\n    const nodeInfo = deepAssign({}, node.data, {\n      ...pick(node.data, rawFields),\n      path,\n      // : x, y, r, name, depth, height\n      ...node,\n    });\n\n    nodeInfo.ext = hierarchyConfig;\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, rawFields, enableDrillDown };\n\n    result.push(nodeInfo);\n  });\n\n  return result;\n}\n\n/**\n *  padding     finalPadding  finalSize\n * @param params\n */\nexport function resolvePaddingForCircle(\n  padding: Types.ViewPadding,\n  appendPadding: Types.ViewAppendPadding,\n  containerSize: { width: number; height: number }\n) {\n  const tempPadding = resolveAllPadding([padding, appendPadding]);\n  const [top, right, bottom, left] = tempPadding; //  [0, 0, 0, 0]\n  const { width, height } = containerSize;\n\n  //  tempPadding coordinate minSize = circle-packing\n  const wSize = width - (left + right);\n  const hSize = height - (top + bottom);\n  const minSize = Math.min(wSize, hSize); // circle-packing\n\n  //  padding\n  const restWidthPadding = (wSize - minSize) / 2;\n  const restHeightPadding = (hSize - minSize) / 2;\n\n  const finalTop = top + restHeightPadding;\n  const finalRight = right + restWidthPadding;\n  const finalBottom = bottom + restHeightPadding;\n  const finalLeft = left + restWidthPadding;\n\n  const finalPadding = [finalTop, finalRight, finalBottom, finalLeft];\n  const finalSize = minSize < 0 ? 0 : minSize; // \n\n  return { finalPadding, finalSize };\n}\n","import { CirclePackingOptions } from './types';\n\n/**  */\nexport const RAW_FIELDS = ['x', 'y', 'r', 'name', 'value', 'path', 'depth'];\n\nexport const DEFAULT_OPTIONS: Partial<CirclePackingOptions> = {\n  //  name \n  colorField: 'name',\n  autoFit: true,\n  pointStyle: {\n    lineWidth: 0,\n    stroke: '#fff',\n  },\n  // \n  legend: false,\n  hierarchyConfig: {\n    size: [1, 1] as [number, number], // width, height\n    padding: 0,\n  },\n  label: {\n    fields: ['name'],\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    showMarkers: false,\n    showTitle: false,\n  },\n  // \n  drilldown: { enabled: false },\n};\n","import { get } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { point } from '../../adaptor/geometries/point';\nimport { Params } from '../../core/adaptor';\nimport {\n  interaction as baseInteraction,\n  animation,\n  theme,\n  legend,\n  annotation,\n  scale,\n  pattern,\n} from '../../adaptor/common';\nimport { flow, deepAssign } from '../../utils';\nimport { getAdjustAppendPadding, resolveAllPadding } from '../../utils/padding';\nimport { transformData, resolvePaddingForCircle } from './utils';\nimport { CirclePackingOptions } from './types';\nimport { RAW_FIELDS } from './constant';\n\n/**\n *  option\n * @param params\n */\nfunction defaultOptions(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart } = params;\n  const diameter = Math.min(chart.viewBBox.width, chart.viewBBox.height);\n\n  return deepAssign(\n    {\n      options: {\n        size: ({ r }) => r * diameter, // autofitfalse\n      },\n    },\n    params\n  );\n}\n\n/**\n * padding \n * @param params\n */\nfunction padding(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { options, chart } = params;\n  //  padding coordinate \n  const containerSize = chart.viewBBox;\n  const { padding, appendPadding, drilldown } = options;\n\n  let tempAppendPadding = appendPadding;\n  if (drilldown?.enabled) {\n    const appendPaddingByDrilldown = getAdjustAppendPadding(\n      chart.appendPadding,\n      get(drilldown, ['breadCrumb', 'position'])\n    );\n    tempAppendPadding = resolveAllPadding([appendPaddingByDrilldown, appendPadding]);\n  }\n\n  const { finalPadding } = resolvePaddingForCircle(padding, tempAppendPadding, containerSize);\n  chart.padding = finalPadding;\n  chart.appendPadding = 0;\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n  const { padding, appendPadding } = chart;\n  const { color, colorField, pointStyle, hierarchyConfig, sizeField, rawFields = [], drilldown } = options;\n\n  const data = transformData({\n    data: options.data,\n    hierarchyConfig,\n    enableDrillDown: drilldown?.enabled,\n    rawFields,\n  });\n  chart.data(data);\n\n  const containerSize = chart.viewBBox;\n  const { finalSize } = resolvePaddingForCircle(padding, appendPadding, containerSize);\n  // sizeField value  size \n  let circleSize = ({ r }) => r * finalSize; // \n\n  if (sizeField) {\n    circleSize = (d) => d[sizeField] * finalSize; //  r \n  }\n\n  // geometry\n  point(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        sizeField,\n        rawFields: [...RAW_FIELDS, ...rawFields],\n        point: {\n          color,\n          style: pointStyle,\n          shape: 'circle',\n          size: circleSize,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  return flow(\n    scale(\n      {},\n      {\n        //  nice\n        x: { min: 0, max: 1, minLimit: 0, maxLimit: 1, nice: true },\n        y: { min: 0, max: 1, minLimit: 0, maxLimit: 1, nice: true },\n      }\n    )\n  )(params);\n}\n\n/**\n * tooltip \n * @param params\n */\nfunction tooltip(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    //  fields customItems ;  formatter  fields\n    if (!get(tooltip, 'fields')) {\n      tooltipOptions = deepAssign(\n        {},\n        {\n          customItems: (items: Types.TooltipItem[]) =>\n            items.map((item) => {\n              const scales = get(chart.getOptions(), 'scales');\n              const nameFormatter = get(scales, ['name', 'formatter'], (v) => v);\n              const valueFormatter = get(scales, ['value', 'formatter'], (v) => v);\n              return {\n                ...item,\n                name: nameFormatter(item.data.name),\n                value: valueFormatter(item.data.value),\n              };\n            }),\n        },\n        tooltipOptions\n      );\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\n/**\n * , \n * @param params\n */\nfunction axis(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\nfunction adaptorInteraction(options: CirclePackingOptions): CirclePackingOptions {\n  const { drilldown, interactions = [] } = options;\n\n  if (drilldown?.enabled) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          cfg: { drillDownConfig: drilldown, transformData, enableDrillDown: true },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * \n * @param params\n * @returns\n */\nfunction interaction(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n\n  baseInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<CirclePackingOptions>) {\n  return flow(\n    pattern('pointStyle'),\n    defaultOptions,\n    padding,\n    theme,\n    meta,\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { CirclePackingOptions } from './types';\nimport './interactions';\n\nexport type { CirclePackingOptions };\n\n/**\n *  CirclePacking\n * @usage hierarchy, proportions\n */\nexport class CirclePacking extends Plot<CirclePackingOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<CirclePackingOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'circle-packing';\n\n  protected getDefaultOptions() {\n    return CirclePacking.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<CirclePackingOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      this.chart.forceFit(); // g2  changeSizechangeSize  render(true)\n      this.chart.clear();\n      this.execAdaptor(); // padding\n      // \n      this.chart.render(true);\n    }\n  }\n}\n","import { deepAssign } from '../utils';\nimport { Plot, PickOptions } from '../core/plot';\nimport { Adaptor } from '../core/adaptor';\n/**\n *  G2Plot  G2Plot \n * 1. \n * 2. \n * 3. \n * \n *\n * \n *\n * ```ts\n * import { P } from '@antv/g2plot';\n * import { GeoWorldMap, GeoWorldMapOptions } from 'g2plot-geo-world-map';\n *\n * const plot = new P('container', {\n *   geoJson: '',\n *   longitude: '',\n *   latitude: '',\n * }, GeoWorldMap, defaultOptions);\n *\n * plot.render();\n * ```\n */\nexport class P<O extends PickOptions> extends Plot<O> {\n  /**  any plot */\n  public readonly type = 'g2-plot';\n\n  /**  defaultOptions */\n  private defaultOptions: Partial<O>;\n\n  /**  adaptor  */\n  private adaptor: Adaptor<O>;\n\n  /**\n   *  adaptor \n   * @param container\n   * @param options\n   * @param adaptor\n   * @param defaultOptions\n   */\n  constructor(container: string | HTMLElement, options: O, adaptor: Adaptor<O>, defaultOptions?: Partial<O>) {\n    super(container, deepAssign({}, defaultOptions, options));\n\n    this.defaultOptions = defaultOptions;\n    this.adaptor = adaptor;\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions() {\n    return this.defaultOptions;\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<O> {\n    return this.adaptor;\n  }\n}\n","import { View } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { deepAssign } from '../../utils';\nimport { adaptor as lineAdaptor } from '../line/adaptor';\nimport { adaptor as pieAdaptor } from '../pie/adaptor';\nimport { adaptor as columnAdaptor } from '../column/adaptor';\nimport { adaptor as barAdaptor } from '../bar/adaptor';\nimport { adaptor as areaAdaptor } from '../area/adaptor';\nimport { adaptor as gaugeAdaptor } from '../gauge/adaptor';\nimport { adaptor as tinyLineAdaptor } from '../tiny-line/adaptor';\nimport { adaptor as tinyColumnAdaptor } from '../tiny-column/adaptor';\nimport { adaptor as tinyAreaAdaptor } from '../tiny-area/adaptor';\nimport { adaptor as ringProgressAdaptor } from '../ring-progress/adaptor';\nimport { adaptor as progressAdaptor } from '../progress/adaptor';\nimport { adaptor as scatterAdaptor } from '../scatter/adaptor';\nimport { adaptor as histogramAdaptor } from '../histogram/adaptor';\nimport { adaptor as funnelAdaptor } from '../funnel/adaptor';\nimport { adaptor as stockAdaptor } from '../stock/adaptor';\nimport { Line, LineOptions } from '../line';\nimport { Pie, PieOptions } from '../pie';\nimport { Bar, BarOptions } from '../bar';\nimport { Column, ColumnOptions } from '../column';\nimport { Area, AreaOptions } from '../area';\nimport { Gauge, GaugeOptions } from '../gauge';\nimport { TinyLine, TinyLineOptions } from '../tiny-line';\nimport { TinyArea, TinyAreaOptions } from '../tiny-area';\nimport { TinyColumn, TinyColumnOptions } from '../tiny-column';\nimport { RingProgress, RingProgressOptions } from '../ring-progress';\nimport { Progress, ProgressOptions } from '../progress';\nimport { Scatter, ScatterOptions } from '../scatter';\nimport { Histogram, HistogramOptions } from '../histogram';\nimport { Funnel, FunnelOptions } from '../funnel';\nimport { Stock, StockOptions } from '../stock';\nimport { Options } from '../../types';\n\n/**\n *  options  widthheight ,  options  data \n */\ntype PlotOptions<T> = Omit<T, 'width' | 'height' | 'data'> & Partial<Pick<T extends Options ? T : never, 'data'>>;\n\n/**\n * multi-view  plots  options \n */\nexport type IPlotTypes =\n  | {\n      /**\n       * plot \n       */\n      readonly type: 'line';\n      /**\n       * plot \n       */\n      readonly options: PlotOptions<LineOptions>;\n    }\n  | {\n      readonly type: 'pie';\n      readonly options: PlotOptions<PieOptions>;\n    }\n  | {\n      readonly type: 'bar';\n      readonly options: PlotOptions<BarOptions>;\n    }\n  | {\n      readonly type: 'column';\n      readonly options: PlotOptions<ColumnOptions>;\n    }\n  | {\n      readonly type: 'area';\n      readonly options: PlotOptions<AreaOptions>;\n    }\n  | {\n      readonly type: 'gauge';\n      readonly options: PlotOptions<GaugeOptions>;\n    }\n  | {\n      readonly type: 'tiny-line';\n      readonly options: PlotOptions<TinyLineOptions>;\n    }\n  | {\n      readonly type: 'tiny-area';\n      readonly options: PlotOptions<TinyAreaOptions>;\n    }\n  | {\n      readonly type: 'tiny-column';\n      readonly options: PlotOptions<TinyColumnOptions>;\n    }\n  | {\n      readonly type: 'ring-progress';\n      readonly options: PlotOptions<RingProgressOptions>;\n    }\n  | {\n      readonly type: 'progress';\n      readonly options: PlotOptions<ProgressOptions>;\n    }\n  | {\n      readonly type: 'histogram';\n      readonly options: PlotOptions<HistogramOptions>;\n    }\n  | {\n      readonly type: 'scatter';\n      readonly options: PlotOptions<ScatterOptions>;\n    }\n  | {\n      readonly type: 'funnel';\n      readonly options: PlotOptions<FunnelOptions>;\n    }\n  | {\n      readonly type: 'stock';\n      readonly options: PlotOptions<StockOptions>;\n    };\n\n/**\n *  multi-view  plots\n */\nconst PLOT_ADAPTORS = {\n  line: lineAdaptor,\n  pie: pieAdaptor,\n  column: columnAdaptor,\n  bar: barAdaptor,\n  area: areaAdaptor,\n  gauge: gaugeAdaptor,\n  'tiny-line': tinyLineAdaptor,\n  'tiny-column': tinyColumnAdaptor,\n  'tiny-area': tinyAreaAdaptor,\n  'ring-progress': ringProgressAdaptor,\n  progress: progressAdaptor,\n  scatter: scatterAdaptor,\n  histogram: histogramAdaptor,\n  funnel: funnelAdaptor,\n  stock: stockAdaptor,\n};\n\n/**\n *  plot  class contructor\n * @param {string} plot\n */\nconst PLOT_CONSTRUCTOR = {\n  line: Line,\n  pie: Pie,\n  column: Column,\n  bar: Bar,\n  area: Area,\n  gauge: Gauge,\n  'tiny-line': TinyLine,\n  'tiny-column': TinyColumn,\n  'tiny-area': TinyArea,\n  'ring-progress': RingProgress,\n  progress: Progress,\n  scatter: Scatter,\n  histogram: Histogram,\n  funnel: Funnel,\n  stock: Stock,\n};\n\n/**\n *  mix  facet defaultOptions \n */\nconst DEFAULT_OPTIONS_MAP = {\n  pie: { label: false },\n  column: { tooltip: { showMarkers: false } },\n  bar: { tooltip: { showMarkers: false } },\n};\n\n/**\n *  plot  adaptor,  defaultOptions\n * @param {string} plot\n */\nexport function execPlotAdaptor<T extends IPlotTypes['type']>(\n  plot: T,\n  view: View,\n  options: IPlotTypes['options']\n): void {\n  const cls = PLOT_CONSTRUCTOR[plot];\n  if (!cls) {\n    console.error(`could not find ${plot} plot`);\n    return;\n  }\n  const module = PLOT_ADAPTORS[plot];\n  module({\n    chart: view,\n    options: deepAssign({}, cls.getDefaultOptions(), get(DEFAULT_OPTIONS_MAP, plot, {}), options),\n  });\n}\n","import { each } from '@antv/util';\nimport { Geometry } from '@antv/g2';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { interaction, animation, theme, tooltip, annotation } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { PLOT_CONTAINER_OPTIONS } from '../../core/plot';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { deepAssign, flow, pick } from '../../utils';\nimport { Axis } from '../../types/axis';\nimport { Legend } from '../../types/legend';\nimport { Interaction } from '../../types/interaction';\nimport { MixOptions, IView, IGeometry } from './types';\nimport { execPlotAdaptor } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction multiView(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n  const { views, legend } = options;\n\n  each(views, (v: IView) => {\n    const { region, data, meta, axes, coordinate, interactions, annotations, tooltip, geometries } = v;\n\n    // 1.  view\n    const viewOfG2 = chart.createView({\n      region,\n    });\n\n    // 2. data\n    viewOfG2.data(data);\n\n    // 3. meta\n    let scales: Record<string, any> = {};\n    if (axes) {\n      each(axes, (axis: Axis, field: string) => {\n        scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n      });\n    }\n\n    scales = deepAssign({}, meta, scales);\n    viewOfG2.scale(scales);\n\n    // 4. x y axis\n    if (!axes) {\n      viewOfG2.axis(false);\n    } else {\n      each(axes, (axis: Axis, field: string) => {\n        viewOfG2.axis(field, axis);\n      });\n    }\n\n    // 5. coordinate\n    viewOfG2.coordinate(coordinate);\n\n    // 6. geometry\n    each(geometries, (geometry: IGeometry) => {\n      const { ext } = geometryAdaptor({\n        chart: viewOfG2,\n        options: geometry,\n      });\n\n      // adjust\n      const { adjust } = geometry;\n      if (adjust) {\n        ext.geometry.adjust(adjust);\n      }\n    });\n\n    // 7. interactions\n    each(interactions, (interaction: Interaction) => {\n      if (interaction.enable === false) {\n        viewOfG2.removeInteraction(interaction.type);\n      } else {\n        viewOfG2.interaction(interaction.type, interaction.cfg);\n      }\n    });\n\n    // 8. annotations\n    each(annotations, (annotation) => {\n      viewOfG2.annotation()[annotation.type]({\n        ...annotation,\n      });\n    });\n\n    // 9. animation ()\n    if (typeof v.animation === 'boolean') {\n      viewOfG2.animate(false);\n    } else {\n      viewOfG2.animate(true);\n      // 9.1  Geometry todo \n      each(viewOfG2.geometries, (g: Geometry) => {\n        g.animate(v.animation);\n      });\n    }\n\n    if (tooltip) {\n      // 10. tooltip\n      viewOfG2.interaction('tooltip');\n      viewOfG2.tooltip(tooltip);\n    }\n  });\n\n  // legend\n  if (!legend) {\n    chart.legend(false);\n  } else {\n    each(legend, (l: Legend, field: string) => {\n      chart.legend(field, l);\n    });\n  }\n\n  // tooltip\n  chart.tooltip(options.tooltip);\n  return params;\n}\n\n/**\n *  g2plot \n * @param params\n */\nfunction multiPlot(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n  const { plots, data = [] } = options;\n\n  each(plots, (plot) => {\n    const { type, region, options = {}, top } = plot;\n    const { tooltip } = options;\n\n    if (top) {\n      execPlotAdaptor(type, chart, { ...options, data });\n      return;\n    }\n\n    const viewOfG2 = chart.createView({ region, ...pick(options, PLOT_CONTAINER_OPTIONS) });\n    if (tooltip) {\n      //  tooltip \n      viewOfG2.interaction('tooltip');\n    }\n\n    execPlotAdaptor(type, viewOfG2, { data, ...options });\n  });\n\n  return params;\n}\n\n/**\n *  adaptor (mix)\n * @param params\n */\nexport function slider(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n\n  chart.option('slider', options.slider);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<MixOptions>) {\n  return flow(\n    animation, //  view \n    multiView,\n    multiPlot,\n    interaction,\n    animation,\n    theme,\n    tooltip,\n    slider,\n    annotation()\n    // ...  adaptor flow\n  )(params);\n}\n","import { View, Element } from '@antv/g2';\nimport { each, isArray } from '@antv/util';\nimport { getAllElements } from '../../../utils';\n\n/**\n * \n * @param element \n * @param field \n * @ignore\n */\nexport function getElementValue(element: Element, field) {\n  const model = element.getModel();\n  const record = model.data;\n  let value;\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n  return value;\n}\n\n/**\n * @ignore\n *  highlight \n * @param view View  Chart\n */\nexport function clearHighlight(view: View) {\n  const elements = getAllElements(view);\n  each(elements, (el) => {\n    if (el.hasState('active')) {\n      el.setState('active', false);\n    }\n    if (el.hasState('selected')) {\n      el.setState('selected', false);\n    }\n    if (el.hasState('inactive')) {\n      el.setState('inactive', false);\n    }\n  });\n}\n","import { each, get, map, isArray } from '@antv/util';\nimport { registerAction, registerInteraction, View, Element, Action } from '@antv/g2';\nimport { getAllElements, getViews, getSiblingViews } from '../../../utils';\nimport { clearHighlight, getElementValue } from './utils';\n\ntype EventItem = { element: Element; view: View; active: boolean; inactive: boolean };\ntype ActionParams = { linkField?: string; dim?: 'x' | 'y' };\n/**\n *  view view \n *\n *  actionlinkField dim \n * 1. showTooltip\n * 2. active\n * 3. highlight\n * 4. selected\n *\n *  action\n * 1. hidetooltip\n * 2. reset \n */\nclass Association extends Action {\n  /**\n   *  elements\n   *\n   * -  dim  dim  field linkField  return\n   * -  dim  linkField \n   * -  linkField \n   * @returns EventItem[]\n   */\n  private getAssociationItems(views: View[], params?: ActionParams): EventItem[] {\n    const { event } = this.context;\n    const { linkField, dim } = params || {};\n\n    const items = [];\n\n    if (event.data?.data) {\n      const { data } = event.data;\n      each(views, (v: View) => {\n        let field = linkField;\n        if (dim === 'x') {\n          field = v.getXScale().field;\n        } else if (dim === 'y') {\n          field = v.getYScales().find((s) => s.field === field)?.field;\n        } else if (!field) {\n          field = v.getGroupScales()[0]?.field;\n        }\n        if (!field) {\n          return;\n        }\n        const elements = map(getAllElements(v), (ele) => {\n          let active = false;\n          let inactive = false;\n          const dataValue = isArray(data) ? get(data[0], field) : get(data, field);\n          if (getElementValue(ele, field) === dataValue) {\n            active = true;\n          } else {\n            inactive = true;\n          }\n          return { element: ele, view: v, active, inactive };\n        });\n        items.push(...elements);\n      });\n    }\n\n    return items;\n  }\n\n  /**\n   *  tooltip \n   */\n  public showTooltip(params?: ActionParams) {\n    const siblings = getSiblingViews(this.context.view);\n    const elements = this.getAssociationItems(siblings, params);\n\n    each(elements, (ele) => {\n      if (ele.active) {\n        const box = ele.element.shape.getCanvasBBox();\n        ele.view.showTooltip({ x: box.minX + box.width / 2, y: box.minY + box.height / 2 });\n      }\n    });\n  }\n\n  /**\n   *  tooltip\n   */\n  public hideTooltip() {\n    const siblings = getSiblingViews(this.context.view);\n    each(siblings, (sibling) => {\n      sibling.hideTooltip();\n    });\n  }\n\n  /**\n   *  active \n   */\n  public active(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { active, element } = item;\n      if (active) {\n        element.setState('active', true);\n      }\n    });\n  }\n\n  /**\n   *  selected \n   */\n  public selected(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { active, element } = item;\n      if (active) {\n        element.setState('selected', true);\n      }\n    });\n  }\n\n  /**\n   *  =>  inactive \n   */\n  public highlight(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { inactive, element } = item;\n      if (inactive) {\n        element.setState('inactive', true);\n      }\n    });\n  }\n\n  public reset() {\n    const views = getViews(this.context.view);\n    each(views, (v) => {\n      clearHighlight(v);\n    });\n  }\n}\n\nregisterAction('association', Association);\n\n/**\n *  view  active  tooltip \n */\nregisterInteraction('association-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  active  tooltip \n */\nregisterInteraction('association-selected', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:selected' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  highlight ,  element\n */\nregisterInteraction('association-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  tooltip  groupField  tooltip \n */\nregisterInteraction('association-tooltip', {\n  start: [{ trigger: 'element:mousemove', action: 'association:showTooltip' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:hideTooltip' }],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { MixOptions } from './types';\nimport { adaptor } from './adaptor';\nimport './interactions';\n\nexport type { MixOptions };\n\n/**\n *  G2 80% \n * 1. \n *   -  + \n *   - \n *   - ...\n * 2. \n *   - \n *   - \n *   - ...\n */\nexport class Mix extends Plot<MixOptions> {\n  /**  */\n  public type: string = 'mix';\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<MixOptions> {\n    return adaptor;\n  }\n}\n","import { Geometry, View } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { pick, deepAssign } from '../../utils';\nimport { Axis, Interaction } from '../../types';\nimport { IView } from './types';\n\n/**\n *\n * @param params  \n * @returns facet eachView  view \n */\nexport function execViewAdaptor(viewOfG2: View, options: IView): void {\n  const { data, coordinate, interactions, annotations, animation, tooltip, axes, meta, geometries } = options;\n\n  // 1. data, optional\n  if (data) {\n    viewOfG2.data(data);\n  }\n\n  // 2. meta \n  let scales: Record<string, any> = {};\n  if (axes) {\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n  }\n\n  scales = deepAssign({}, meta, scales);\n  viewOfG2.scale(scales);\n\n  // 3. coordinate  ()\n  if (coordinate) {\n    viewOfG2.coordinate(coordinate);\n  }\n\n  // 4. axis  ( false )\n  if (axes === false) {\n    viewOfG2.axis(false);\n  } else {\n    each(axes, (axis: Axis, field: string) => {\n      viewOfG2.axis(field, axis);\n    });\n  }\n\n  each(geometries, (geometry) => {\n    // Geometry\n    const { ext } = geometryAdaptor({\n      chart: viewOfG2,\n      options: geometry,\n    });\n\n    // Geometry adjust\n    const { adjust } = geometry;\n    if (adjust) {\n      ext.geometry.adjust(adjust);\n    }\n  });\n\n  // 5. interactions\n  each(interactions, (interaction: Interaction) => {\n    if (interaction.enable === false) {\n      viewOfG2.removeInteraction(interaction.type);\n    } else {\n      viewOfG2.interaction(interaction.type, interaction.cfg);\n    }\n  });\n  // 6. annotations\n  each(annotations, (annotation) => {\n    viewOfG2.annotation()[annotation.type]({\n      ...annotation,\n    });\n  });\n\n  // 7. animation ()\n  if (typeof animation === 'boolean') {\n    viewOfG2.animate(false);\n  } else {\n    viewOfG2.animate(true);\n    //  Geometry todo \n    each(viewOfG2.geometries, (g: Geometry) => {\n      g.animate(animation);\n    });\n  }\n\n  if (tooltip) {\n    // 8. tooltip\n    viewOfG2.interaction('tooltip');\n    viewOfG2.tooltip(tooltip);\n  } else if (tooltip === false) {\n    viewOfG2.removeInteraction('tooltip');\n  }\n}\n","import { each, omit } from '@antv/util';\nimport { theme } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { pick, flow, deepAssign } from '../../utils';\nimport { Axis, Interaction } from '../../types';\nimport { execPlotAdaptor } from '../mix/utils';\nimport { FacetOptions, IPlot, IView } from './types';\nimport { execViewAdaptor } from './utils';\n\nfunction facetAdaptor(params: Params<FacetOptions>): Params<FacetOptions> {\n  const { chart, options } = params;\n  const { type: facetType, data, fields, eachView } = options;\n\n  const restFacetCfg = omit(options as any, [\n    'type',\n    'data',\n    'fields',\n    'eachView',\n    'axes',\n    'meta',\n    'tooltip',\n    'coordinate',\n    'theme',\n    'legend',\n    'interactions',\n    'annotations',\n  ]);\n\n  // 1. data\n  chart.data(data);\n\n  // 2. facet\n  chart.facet(facetType, {\n    ...restFacetCfg,\n    fields,\n    eachView: (viewOfG2, facet) => {\n      const viewOptions = eachView(viewOfG2, facet);\n      if ((viewOptions as IView).geometries) {\n        execViewAdaptor(viewOfG2, viewOptions as IView);\n      } else {\n        const plot = viewOptions as IPlot;\n        const plotOptions = plot.options;\n        // @ts-ignore  tooltip\n        if (plotOptions.tooltip) {\n          //  tooltip \n          viewOfG2.interaction('tooltip');\n        }\n        execPlotAdaptor(plot.type, viewOfG2, plotOptions);\n      }\n    },\n  });\n\n  return params;\n}\n\nfunction component(params: Params<FacetOptions>): Params<FacetOptions> {\n  const { chart, options } = params;\n  const { axes, meta, tooltip, coordinate, theme, legend, interactions, annotations } = options;\n\n  // 3. meta \n  let scales: Record<string, any> = {};\n  if (axes) {\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n  }\n\n  scales = deepAssign({}, meta, scales);\n  chart.scale(scales);\n\n  // 4. coordinate \n  chart.coordinate(coordinate);\n\n  // 5. axis  ()\n  if (!axes) {\n    chart.axis(false);\n  } else {\n    each(axes, (axis: Axis, field: string) => {\n      chart.axis(field, axis);\n    });\n  }\n\n  // 6. tooltip \n  if (tooltip) {\n    chart.interaction('tooltip');\n    chart.tooltip(tooltip);\n  } else if (tooltip === false) {\n    chart.removeInteraction('tooltip');\n  }\n\n  // 7. legend \n  chart.legend(legend);\n\n  // theme \n  if (theme) {\n    chart.theme(theme);\n  }\n\n  // 8. interactions\n  each(interactions, (interaction: Interaction) => {\n    if (interaction.enable === false) {\n      chart.removeInteraction(interaction.type);\n    } else {\n      chart.interaction(interaction.type, interaction.cfg);\n    }\n  });\n\n  // 9. annotations\n  each(annotations, (annotation) => {\n    chart.annotation()[annotation.type]({\n      ...annotation,\n    });\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<FacetOptions>) {\n  // flow  G2 API\n  return flow(theme, facetAdaptor, component)(params);\n}\n","/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  title: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n  rowTitle: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n  columnTitle: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n};\n","import { Mix } from './plots/mix';\n\n/**  */\nexport enum Stage {\n  DEV = 'DEV',\n  BETA = 'BETA',\n  STABLE = 'STABLE',\n}\n\n/**\n * \n * @param stage\n */\nexport function notice(stage: Stage, plotType: string) {\n  console.warn(\n    stage === Stage.DEV\n      ? `Plot '${plotType}' is in DEV stage, just give us issues.`\n      : stage === Stage.BETA\n      ? `Plot '${plotType}' is in BETA stage, DO NOT use it in production env.`\n      : stage === Stage.STABLE\n      ? `Plot '${plotType}' is in STABLE stage, import it by \"import { ${plotType} } from '@antv/g2plot'\".`\n      : 'invalid Stage type.'\n  );\n}\n\n/**\n * \n */\nexport class Lab {\n  static get MultiView() {\n    notice(Stage.STABLE, 'MultiView');\n    return Mix;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { FacetOptions } from './types';\n\nexport type { FacetOptions };\n\nexport class Facet extends Plot<FacetOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<FacetOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'area';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Facet.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<FacetOptions> {\n    return adaptor;\n  }\n}\n","import { render } from \"./DashboardView.vue?vue&type=template&id=45b8b50c&scoped=true\"\nimport script from \"./DashboardView.vue?vue&type=script&lang=js\"\nexport * from \"./DashboardView.vue?vue&type=script&lang=js\"\n\nimport \"./DashboardView.vue?vue&type=style&index=0&id=45b8b50c&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/chainta/Documents/Codes/PycharmProjects/Django/medata/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-45b8b50c\"]])\n\nexport default __exports__"],"names":["global","factory","exports","this","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","Array","isArray","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","value","length","err","TypeError","points","data","x","y","sort","filter","d","u","v","isFinite","a","b","xv","yv","n","X","Float64Array","Y","ux","uy","visitPoints","cb","iterations","dx","dy","determination","uY","predict","SSE","SST","sse","sst","angle","line","Math","atan2","PI","midpoint","interpose","xmin","xmax","l","log","LOG10E","precision","pow","maxIter","px","iter","find","found","p0","p1","m","mp","a0","a1","abs","splice","ols","uX","uXY","uX2","delta","slope","intercept","exponential","domain","YL","XY","XYL","X2Y","Infinity","ly","xy","_ols","_ols2","exp","fn","out","rSquared","arguments","linear","X2","median","floor","maxiters","epsilon","loess","bandwidth","_points","_points2","bw","max","yhat","residuals","robustWeights","fill","interval","i0","i1","edge","W","denom","k","xk","yk","w","tricube","xkw","updateInterval","medianResidual","arg","_w","output","val","left","right","cnt","prev","logarithmic","base","E","lb","lx","quad","quadratic","x2","X3","X4","n0","X2X2","c","polynomial","order","o","coefficients","_o","j","lhs","rhs","coef","gaussianElimination","uncenter","z","matrix","r","t","power","YS","regressionExp","regressionLinear","regressionLoess","regressionLog","regressionPoly","regressionPow","regressionQuad","Object","defineProperty","bisect","f","parameters","maxIterations","tolerance","fA","fB","mid","fMid","zeros","zerosM","map","dot","ret","norm2","sqrt","scale","weightedSum","w1","v1","w2","v2","nelderMead","x0","maxDiff","nonZeroDelta","zeroDelta","minErrorDelta","minTolerance","rho","chi","psi","sigma","N","simplex","fx","id","point","slice","updateSimplex","sortOrder","centroid","reflected","contracted","expanded","iteration","history","sortedSimplex","state","worst","shouldReduce","wolfeLineSearch","pk","current","c1","c2","phi0","phiPrime0","fxprime","phi","phi_old","phiPrime","zoom","a_lo","a_high","phi_lo","conjugateGradient","initial","params","temp","alpha","delta_k","beta_k","gradientDescent","learnRate","gradientDescentLineSearch","functionCalls","inner","self","module","isNumber","findMin","curr","min","findMax","findMinMulti","findMaxMulti","inside","DEFAULT_SIZE","DEFAULT_WIDTH","LN_2","helper","require","kernel","generatePartialAreas","width","partialAreas","accumulator","getUnifiedMinMax","options","getUnifiedMinMaxMulti","arrMulti","relaxMin","relaxMax","size","range","step","create","normalizedMinMax","buckets","xToBucket","partialArea","fullArea","initalValue","forEach","bucket","start","end","leftBlockCount","rightBlockCount","spilledAreaLeft","spilledAreaRight","weight","startGradPos","gradAccumulator","area","getExpectedValueFromPdf","pdf","expected","obj","getXWithLeftTailArea","last","getPerplexity","entropy","ln","SensorTabIndex","SensorClassName","SizeSensorId","_default","delay","timer","_this","_len","args","_key","clearTimeout","setTimeout","apply","concat","_sensorPool","bind","element","sensor","getSensor","unbind","clear","removeSensor","ver","_id","_interopRequireDefault","_sensors","_constant","__esModule","Sensors","sensorId","getAttribute","newId","setAttribute","createSensor","removeAttribute","destroy","_object","_resizeObserver","ResizeObserver","_debounce","listeners","newSensor","getComputedStyle","position","style","document","createElement","onload","contentDocument","defaultView","addEventListener","resizeListener","display","top","height","overflow","pointerEvents","zIndex","opacity","type","appendChild","listener","indexOf","parentNode","removeEventListener","removeChild","idx","s","observe","disconnect","class","_createElementVNode","_createElementBlock","_createVNode","_component_a_row","gutter","_component_a_col","span","_component_a_card","_Fragment","_renderList","_ctx","key","_createBlock","_component_a_statistic","title","suffix","item","M","F","toFixed","_hoisted_5","g","_toDisplayString","replaceAll","MAX_SAFE_INTEGER","nativeFloor","baseRepeat","string","result","castSlice","array","baseSlice","rsAstralRange","rsComboMarksRange","reComboHalfMarksRange","rsComboSymbolsRange","rsComboRange","rsVarRange","rsZWJ","reHasUnicode","RegExp","hasUnicode","test","asciiSize","baseProperty","rsAstral","rsCombo","rsFitz","rsModifier","rsNonAstral","rsRegional","rsSurrPair","reOptMod","rsOptVar","rsOptJoin","join","rsSeq","rsSymbol","reUnicode","unicodeSize","lastIndex","stringSize","asciiToArray","split","unicodeToArray","match","stringToArray","nativeCeil","ceil","createPadding","chars","baseToString","charsLength","padEnd","toString","toInteger","strLength","StatisticNumber","props","valueNode","formatter","decimalSeparator","_props$groupSeparator","groupSeparator","prefixCls","String","cells","negative","int","decimal","replace","displayName","skeletonTitleProps","Number","SkeletonTitle","defineComponent","name","setup","zWidth","skeletonParagraphProps","rows","SkeletonParagraph","getWidth","index","_props$rows","rowList","_toConsumableArray","_","Element","_classNames","_classNames2","shape","sizeCls","classNames","_defineProperty","shapeCls","sizeStyle","lineHeight","skeletonProps","active","Boolean","default","loading","avatar","paragraph","round","getComponentProps","prop","_typeof","getAvatarBasicProps","hasTitle","hasParagraph","getTitleBasicProps","hasAvatar","getParagraphBasicProps","basicProps","Skeleton","initDefaultProps","_ref","slots","_useConfigInject","useConfigInject","direction","_a","pre","avatarNode","contentNode","avatarProps","_extends","$title","paragraphNode","titleProps","Title","paragraphProps","Paragraph","cls","call","statisticProps","format","valueStyle","valueRender","PropTypes","prefix","_b","_c","_f","_g","_props$value","_objectSpread","Date","now","padStart","timeUnits","formatTimeStr","duration","leftDuration","escapeRegex","keepList","str","templateText","replacedText","reduce","_ref2","unit","len","formatCountdown","config","_config$format","target","getTime","diff","REFRESH_INTERVAL","countdownProps","onFinish","Function","onChange","emit","countdownId","ref","statistic","syncTimer","timestamp","startTimer","stopTimer","setInterval","$forceUpdate","clearInterval","formatCD","valueRenderHtml","node","onMounted","onUpdated","onBeforeUnmount","Statistic","omit","Countdown","install","app","component","extendStatics","setPrototypeOf","__proto__","p","prototype","hasOwnProperty","__extends","__","constructor","__assign","assign","__rest","e","getOwnPropertySymbols","propertyIsEnumerable","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","Promise","reject","fulfilled","rejected","then","__generator","body","label","sent","trys","ops","verb","op","pop","__values","__read","ar","error","__spreadArrays","il","jl","__spreadArray","to","from","pack","isArrayLike","contains","func","difference","values","isType","isNil","each","elements","rst","isObject","keys","isFunction","isMatch","attrs","_keys","isObjectLike","isPlainObject","getPrototypeOf","proto","predicate","_predicate","findIndex","fromIndex","firstValue","flatten","getRange","filterValues","isNaN","tmp","getMax","getMin","arrPrototype","pullAt","indexes","previous","init","remove","sortBy","comparer","keys_1","isString","uniq","cache","Map","has","set","tmpMap","head","every","some","groupBy","condition","groupToMap","paramscondition_1","row","unique","groups","clamp","fixedBase","substr","parseFloat","PRECISION","isInteger","isNumberEqual","maxItem","minItem","mod","RADIAN","toRadian","degree","lowerCase","toLowerCase","substitute","charAt","upperFirst","toUpperCase","substring","getType","isBoolean","isDate","isNull","objectProto","isPrototype","Ctor","isUndefined","isElement","HTMLDocument","requestAnimationFrame","method","window","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","cancelAnimationFrame","handler","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","clone","debounce","wait","immediate","timeout","context","later","callNow","resolver","memoized","get","MAX_MIX_LEVEL","_deepMix","dist","src","level","maxLevel","deepMix","isEmpty","isEqual","other","valueKeys","otherKeys","identity","object","_mix","mix","src1","src2","src3","ctx","defaultValue","keyArr","path","includes","leading","throttled","remaining","trailing","cancel","isArraylike","LAYER","DIRECTION","COMPONENT_TYPE","memoize","text","font","fontFamily","fontWeight","fontStyle","fontVariant","getContext","fontSize","measureText","maxWidth","currentText","currentWidth","STEP","PLACEHOLDER_WIDTH","measureTextWidth","leftText","leftWidth","default_1","def","VIEW_LIFE_CIRCLE","GEOMETRY_LIFE_CIRCLE","PLOT_EVENTS","ELEMENT_STATE","GROUP_Z_INDEX","FORE","MID","BG","TABLE","TABLE_TR","FRAGMENT_REG","CONTAINERS","GROUP_ATTRS","FIELD_ORIGIN","MIN_CHART_WIDTH","MIN_CHART_HEIGHT","COMPONENT_MAX_VIEW_PERCENTAGE","ENGINES","getEngine","G","Error","registerEngine","engine","initConstants","tr","tbody","thead","tfoot","td","th","createDom","$1","container","innerHTML","dom","childNodes","modifyCSS","css","getElementSize","ele","clientWidth","parseInt","paddingLeft","paddingRight","clientHeight","paddingTop","paddingBottom","getChartSize","autoFit","h","removeDom","parent","WILDCARD","EventEmitter","evt","callback","once","_events","on","events","wildcardEvents","doEmit","es","length_1","cfg","_super","visible","Base","changeVisible","off","destroyed","EE","SPACES","PATH_COMMAND","PATH_VALUES","parsePathString","pathString","paramCounts","q","catmullRomToBezier","crp","iLen","ellipsePath","rx","ry","res","rad","x1","cos","y1","sin","y2","pathToAbsolute","pathArray","pa0","dots","mx","my","crz","pa","ii","jj","kk","l2c","q2c","ax","ay","_13","_23","a2c","large_arc_flag","sweep_flag","recursive","f1","f2","cx","cy","_120","rotate","rx2","ry2","asin","df","f2old","x2old","y2old","s1","s2","tan","hx","hy","m1","m2","m3","m4","newres","pathToCurve","path2","p2","bx","by","qx","qy","attrs2","pcoms1","pcoms2","pfirst","pcom","processPath","nx","ny","T","Q","fixArc","pp","shift","pi","fixM","path1","a2","seg","seg2","seglen","seg2len","p2s","parsePathArray","base3","p3","p4","t1","t2","bezlen","x3","y3","x4","y4","z2","Tvalues","Cvalues","sum","ct","xbase","ybase","comb","curveDim","y0","tvalues","bounds","b2ac","sqrtb2ac","mt","jlen","intersect","denominator","py","px2","py2","isPointInsideBBox","bbox","rectPath","box","r1","r2","r0","vb","isBBoxIntersect","bbox1","bbox2","bezierBBox","p1x","p1y","c1x","c1y","c2x","c2y","p2x","p2y","findDotsAtSegment","t13","t12","t3","interHelper","bez1","bez2","justCount","l1","l2","n1","n2","dots1","dots2","di","di1","dj","dj1","ci","cj","is","interPathHelper","x1m","y1m","x2m","y2m","pj","intr","segment1","segment2","intersection","decasteljau","recurse","middlePoints","reverse","splitCurve","count","segments","leftSegments","rt","segment","cmd","splitSegment","fillPath","source","sourceLen","targetLen","ratio","segmentsToFill","filled","unshift","obj1","obj2","getMinDiff","del","add","modify","levenshteinDistance","sourceSegment","targetSegment","fillPathByDiff","diffMatrix","changes","minPos","_splitPoints","former","formerEnd","_getSegmentPoints","formatPath","fromPath","toPath","event","originalEvent","timeStamp","GraphEvent","defaultPrevented","preventDefault","propagationStopped","removeFromArray","isBrowser","isParent","isCanvas","getParent","isAllowCapture","capture","defaultCfg","getDefaultCfg","BrowserInfo","version","os","NodeInfo","process","platform","SearchBotDeviceInfo","bot","BotInfo","ReactNativeInfo","SEARCHBOX_UA_REGEX","SEARCHBOT_OS_REGEX","REQUIRED_VERSION_PARTS","userAgentRules","operatingSystemRules","detect","userAgent","parseUserAgent","navigator","product","getNodeVersion","matchUserAgent","ua","matched","browser","regex","uaMatch","exec","matchedRule","versionParts","createVersionParts","detectOS","searchBotMatch","isNode","invert","a00","a01","a02","a10","a11","a12","a20","a21","a22","b01","b11","b21","det","multiply","b00","b02","b10","b12","b20","b22","fromTranslation","fromRotation","fromScaling","ARRAY_TYPE","Float32Array","random","glMatrix","subtract","distance","hypot","normalize","transformMat3","mag","cosine","acos","exactEquals","sub","vec","leftTranslate","transMat","mat3","leftRotate","rotateMat","leftScale","scaleMat","leftMultiply","transform","actions","action","angleTo","direct","ang","vec2","angleLargeThanPI","multiplyMatrix","multiplyVec2","ext","MATRIX","CLONE_CFGS","RESERVED_PORPS","DELEGATION_SPLIT","_cloneArrayAttr","getFormatFromAttrs","toAttrs","fromAttrs","getFormatToAttrs","attr","checkExistedAttrs","animations","animation","onFrame","startTime","getDefaultAttrs","initAttrs","initAnimate","getDefaultMatrix","changeType","setAttr","afterAttrsChange","refX","refY","clip","getClip","isHit","originValue","onAttrChange","targetAttrs","isClipShape","applyTo","onCanvasChange","children","getChildren","totalMatrix","currentMatrix","parentMatrix","invertMatrix","clipCfg","canvas","getCanvas","clipShape","ShapeBase","getShapeBase","shapeType","Cons","originAttrs","cons","cfgName","isPaused","timeline","initTimer","repeat","pauseCallback","resumeCallback","animateCfg","easing","noop","formatToAttrs","uniqueId","pathFormatted","addAnimator","toEnd","pauseTime","_paused","_pauseTime","eventObj","relativeShape","paths","propagationPath","getEvents","fromShape","toShape","name_1","isGroup","subName","emitDelegateEvent","this_1","eventName","currentTarget","delegateTarget","delegateObject","translateX","translateY","getMatrix","newMatrix","setMatrix","targetX","targetY","translate","move","ratioX","ratioY","radian","SHAPE_MAP","INDEX","setCanvas","child","setTimeline","getComparer","compare","taskHead","taskTail","Container","minX","maxX","minY","maxY","xArr","yArr","getBBox","getCanvasBBox","getTotalMatrix","_applyChildrenMarix","preTotalMatrix","applyMatrix","group","groupClass","tmpCfg","TmpGroupClass","getGroupBase","ev","_findShape","invertFromMatrix","isClipped","getShape","preParent","_applyElementMatrix","getChildByIndex","contain","findAll","className","frame","pokeDelay","clockLast","clockNow","clockSkew","clock","performance","setFrame","clearNow","Timer","_call","_time","_next","time","restart","timerFlush","wake","nap","poke","t0","sleep","extend","definition","Color","stop","darker","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatHsl","hslConvert","formatHsl","color_formatRgb","formatRgb","color","trim","rgbn","Rgb","rgba","hsla","NaN","rgbConvert","rgb_formatHex","hex","rgb_formatRgb","Hsl","hsl","hsl2rgb","basis","v0","v3","gamma","nogamma","constant","define","copy","channels","displayable","rgbGamma","colorRgb","rgbSpline","spline","colors","basisClosed","isNumberArray","ArrayBuffer","isView","DataView","numberArray","genericArray","nb","na","setTime","reA","reB","zero","one","am","bm","bs","bi","number","date","valueOf","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","exponent","polyIn","custom","polyOut","polyInOut","halfPi","sinIn","sinOut","sinInOut","tpmt","expIn","expOut","expInOut","circleIn","circleOut","circleInOut","b1","b2","b3","b4","b5","b6","b7","b8","b9","b0","bounceIn","bounceOut","bounceInOut","overshoot","backIn","backOut","backInOut","tau","amplitude","period","elasticIn","elasticOut","elasticInOut","EASING_MAP","getEasing","d3Ease","registerEasing","easeFn","isColorProp","isGradientColor","IDENTITY_MATRIX","_update","cProps","interf","PathUtil","toPathPoint","fromPathPoint","cPathPoint","interpolate","matrixFn","interpolateArray","update","elapsed","Timeline","isFinished","d3Timer","animators","removeAnimator","isAnimatePaused","autoDraw","draw","animator","stopAnimate","CLICK_OFFSET","LEFT_BTN_CODE","EVENTS","emitTargetEvent","bubbleEvent","bubbles","isOverEvent","_triggerEvent","el","dragging","currentShape","pointInfo","_getPointInfo","_emitEvent","draggingShape","_afterDrag","EventController","_bindEvents","_eventCallback","_onDocumentMove","_onDocumentMouseUp","clientX","clientY","clientPoint","getClientByEvent","getPointByEvent","_getShape","leaveCanvas","preShape","cursor","button","mousedownShape","mousedownPoint","mousedownTimeStamp","isCanvasEmit","_emitMouseoverEvents","_emitDragoverEvents","timeWindow","_getEventObj","parent_1","emitDelegation","_clearEvents","PX_SUFFIX","isFirefox","initContainer","initDom","initEvents","initTimeline","Canvas","getElementById","setDOMSize","eventController","supportCSSTransform","layerX","offsetX","layerY","offsetY","getPointByClient","clientInfo","touches","changedTouches","getBoundingClientRect","clearEvents","AbstractGroup","AbstractShape","clearCacheBBox","calculateBBox","canvasBBox","calculateCanvasBBox","topLeft","topRight","bottomLeft","bottomRight","shadowColor","shadowOffsetX","shadowOffsetY","shadowLeft","shadowBlur","shadowRight","shadowTop","shadowBottom","startArrowShape","endArrowShape","inBBox","_isInBBox","isOnlyHitBox","isInShape","register","getMethod","minNum","maxNum","getBBoxByArray","piMod","pointAt","pointDistance","cross","lengthSquare","pointToLine","tangentAngle","EPSILON","nearestPoint","tCallback","segNum","increaseRate","_t","d1","d2","snapLength","totalLength","nextX","nextY","quadraticAt","onet","extrema","derivativeAt","divideQuadratic","xt","yt","controlPoint1","controlPoint2","quadraticLength","iterationCount","quadratics","xExtrema","yExtrema","interpolationAt","divide","cubicAt","discSqrt","extremas","disc","divideCubic","c3","c12","c23","cubicLength","cubics","copysign","absv","nearestX","nearestY","relativeX","relativeY","squareA","squareB","ex","ey","rx1","ry1","delta_c","delta_t","derivativeXAt","xRotation","startAngle","endAngle","derivativeYAt","atan","xAt","yAt","getAngle","getPoint","xDim","xs","xAngle","yDim","ys","yAngle","relativeVector","relativePoint","ellipse","vector","analyzePoints","lengthOfSegment","pointAtSegments","startRatio","currentRatio","localRatio","angleAtSegments","distanceAtSegment","minDistance","nextPoint","distance_1","mergeBBox","mergeArrowBBox","startArrowBBox","endArrowBBox","Util","offScreenCtx","getOffScreenContext","getTextHeight","lineCount","spaceingY","getLineSpaceing","getTextWidth","save","textArr","subText","measureWidth","restore","assembleFont","textBaseline","textAlign","regexTags","regexDot","parsePath","tag","smoothBezier","smooth","isLoop","constraint","prevPoint","nextCp0","cp1","cp0","cps","hasConstraint","prevIdx","d0","catmullRom2Bezier","pointList","cp2","controlPointList","REGEX_MD","toSymmetry","needProcess","first","preParams","upCmd","symetricT","symetricS","vMag","vRatio","vAngle","isSamePoint","point1","point2","getArcParams","startPoint","arcFlag","sweepFlag","xp","yp","lambda","cxp","cyp","theta","dTheta","center","getSegments","currentPoint","nextParams","startMovePoint","lastStartMovePointIndex","command","prePoint","startTangent","endTangent","arcParams","cp","preSegment","_h","dx1","dy1","dx2","dy2","dcmp","onSegment","isInPolygon","isBetween","getLineIntersect","D0","D1","kross","sqrKross","sqrLen0","sqrLen1","parseToLines","lines","lineIntersectPolygon","isIntersect","intersectBBox","box1","box2","isPolygonsIntersect","points1","points2","isIn","isPointInPolygon","lines1","lines2","getPathBox","lineWidth","segmentsWithAngle","QuadUtil","CubicUtil","EllipseArcUtil","extra","getExtraFromSegmentWithAngle","xExtra","yExtra","currentAndPre","currentAndNext","preAndNext","currentAngle","stroke","path2Segments","rect","circle","polyline","polygon","DEFAULT_Y","MARGIN_RATIO","DODGE_RATIO","GAP","yField","adjustNames","dimValuesMap","xField","Adjust","dim","dimValue","isAdjust","groupedDataArray","mergedData","getDimValues","dataArray","adjustDim","record","dims","ADJUST_MAP","getAdjust","registerAdjust","ctor","dodgeRatio","dodgeBy","intervalPadding","dodgePadding","xDimensionLength","groupNum","defaultSize","maxColumnWidth","minColumnWidth","columnWidthRatio","customOffset","marginRatio","xDimensionLegenth","Dodge","groupDataArray","mergeData","adjustDataArray","cacheMap","adjustData","frameIndex","getDistribution","groupData","getAdjustRange","valueArr","valIndex","getDodgeOffset","tickLength","offset","getIntervalOnlyOffset","getDodgeOnlyOffset","getIntervalAndDodgeOffset","margin","normalizedIntervalPadding","normalizedDodgePadding","geomWidth","normalizedMaxWidht","normalizedMinWidht","randomNumber","Jitter","adjustGroup","getAdjustOffset","Cache","reverseOrder","Stack","processStack","processOneDimStack","positive","xKey","xValue","newXValue","stackHeight","stackValue","Symmetric","getXValuesMaxMap","yValue","off_1","getDimMaxValue","dimValues","flattenValues","toScaleString","_parseCfg","Attribute","param","_toOriginParam","scales","percent","steps","leftPercent","names","field","_getAttributeValue","defaultCallback","isCategory","getLinearValue","isLinear","RGB_REG","regexLG","regexRG","regexColorStop","createTmp","getValue","arr2rgb","toHex","iEl","rgb2arr","x16Value","calColor","fixedPercent","toRGB","getPropertyValue","matches","cArray","gradient","colorArray","toCSSGradient","gradientColor","cssColor_1","colorStops_1","itemArr","colorUtil","Position","scaleX","scaleY","xi","yi","Shape","methodCache","getTickMethod","registerTickMethod","__cfg__","initCfg","Scale","ticks","tick","getText","tickValue","setDomain","getConfig","calculateTicks","tickMethod","Category","translateIndexMap","buildIndexMap","calcPercent","calcValue","rangeMin","rangeMax","scaledValue","domainRange","token","twoDigitsOptional","twoDigits","threeDigits","fourDigits","word","literal","shorten","sLen","newArr","monthUpdate","arrName","i18n","lowerCaseArr","origObj","dayNames","monthNames","monthNamesShort","dayNamesShort","defaultI18n","amPm","DoFn","dayOfMonth","globalI18n","setGlobalDateI18n","regexEscape","pad","formatFlags","D","dateObj","getDate","DD","Do","getDay","dd","ddd","dddd","getMonth","MM","MMM","MMMM","YY","getFullYear","YYYY","getHours","hh","H","HH","getMinutes","mm","getSeconds","ss","S","getMilliseconds","SS","SSS","A","ZZ","getTimezoneOffset","Z","monthParse","emptyDigits","emptyWord","timezoneOffset","parts","minutes","parseFlags","cent","globalMasks","shortDate","mediumDate","longDate","fullDate","isoDate","isoDateTime","shortTime","mediumTime","longTime","setGlobalDateMasks","masks","mask","literals","$0","combinedI18nSettings","parse","dateStr","today","dateInfo","year","month","day","hour","minute","second","millisecond","isPm","parseInfo","newFormat","specifiedFields","requiredFields","info","requiredField","dateTZ","parser","validateFields","UTC","getter","_lo","_hi","lo","hi","FORMAT_METHOD","timeFormat","fecha1","fecha","toTimeStamp","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","intervals","getTickInterval","tickCount","bisector","TimeCat","tickIndex","Continuous","getScalePercent","firstTick","lastTick","minLimit","maxLimit","nice","Linear","getInvertPercent","calBase","getLogPositiveMin","positiveMin","Log","appendPercent","Pow","factor","Time","numberValue","minConfig","maxConfig","timeStamps_1","min_1","secondMin_1","max_1","minTickInterval","Quantize","minIndex","minTick","nextTick","minIndexPercent","maxIndexPercent","Quantile","getClass","registerClass","Identity","calculateCatTicks","tickInterval","showLast","ticks_1","lastValue","d3Linear","D3Linear","DEFAULT_COUNT","e10","e5","e2","_domain","tickIncrement","d3ArrayTicks","LN10","snapMultiple","snapType","div","intervalTicks","maxTick","availableInterval","strictLimit","defaultMin","defaultMax","tickMin","tickMax","d3LinearTickMethod","prettyNumber","DEFAULT_Q","eps","simplicity","lmin","lmax","lstep","simplicityMax","density","dMin","dMax","lMin","lMax","densityMax","coverage","coverageMax","half","legibility","extended","onlyLoose","best","score","sm","dm","log10","cm","minStart","maxStart","i_1","lStep","calculateLogTicks","avg","pretty","h5","nu","ns","calculatePowTicks","quantileSorted","sorted","linearPretty","calculateTimeTicks","timeCat","catTicks","getYear","createYear","diffMonth","minYear","maxYear","minMonth","maxMonth","creatMonth","diffDay","diffHour","diffMinus","timePretty","yearInterval","monthInterval","mmMoth","dMonths","mday","ddays","hours","dHours","dMinus","minSecond","dSeconds","seconds","console","warn","cat","rPretty","quantile","registerScale","ATTRIBUTE_MAP","registerAttribute","Opacity","Size","isTransposed","originalMatrix","Coordinate","isReflect","vec3","inverted","convertPoint","invertPoint","isReflectX","isReflectY","radius","Cartesian","convertDim","invertDim","innerRadius","Helix","maxRadius","thi","newY","rMin","Polar","oneBox","getOneBox","oneWidth","oneHeight","circleCenter","polarRadius","getCenter","vPoint","vStart3","vStart2","xPercent","yPercent","COORDINATE_MAP","getCoordinate","registerCoordinate","propagationDelegate","eventObject","identityMatrix","getMatrixByAngle","getMatrixByTranslate","getAngleByMatrix","xVector","applyMatrix2BBox","applyRotate","applyTranslate","translateMatrix","formatPadding","padding","bottom","clearDom","hasClass","cName","regionToBBox","region","pointsToBBox","createBBox","getValueByPercent","getCirclePoint","near","getBBoxWithClip","clipBBox","minX_1","maxX_1","minY_1","maxY_1","leftTop","applyToMatrix","leftBottom","rightTop","rightBottom","boxMinX","boxMaxX","boxMinY","boxMaxY","updateClip","newElement","newClipShape","setClip","toPx","getTextPoint","lineLength","offsetPercent","LOCATION_FIELD_MAP","none","Component","locationType","animate","updateAutoRender","animateOption","appear","enter","leave","originCfg","newCfg","updateInner","afterUpdate","hasKey","show","hide","setCapture","location","fields","STATUS_UPDATE","COPY_PROPERTIES","COPY_PROPERTIES_EXCLUDES","GroupComponent","shapesMap","isRegister","isUpdating","isInit","clearOffScreenCache","inst","localId","getElementId","elem","offScreenRender","render","offScreenGroup","updateElements","deleteElements","applyOffset","initEvent","removeEvent","getInnerLayoutBBox","initGroup","GroupClass","newGroup","getDelegateObject","moveElementTo","addGroup","isComponent","createOffScreenGroup","renderInner","appendDelegateObject","registerElement","addShape","restCfg","elmentName","originOpacity","elementName","originElement","newAttrs","originGroup","preElement","elementId","childComponent","origChildComponent","pick","replaceAttrs","getReplaceAttrs","updateAnimation","siblings","registerNewGroup","addAnimation","parentObject","deleteArray","callbackAnimCfg","removeElement","removeAnimation","ELLIPSIS_CODE","strLen","charAtLength","charCodeAt","ellipsisString","reseveLength","charLength","startStr","endStr","startIndex","endIndex","startCodeLen","hasAdd","endCodeLen","ELLIPSIS_CODE_LENGTH","OPTIMIZE_THRESHOLD","getMaxLabelWidthOptimized","labels","texts","maxLen","maxIdx","code","getMaxLabelWidth","getLabelLength","isVertical","ellipsisLabel","limitLength","ellipsisText","getEllipsisText","labelLength","codeLength","ellipsisFlag","reserveLength","newText","renderTag","tagCfg","content","maxLength","autoEllipsis","ellipsisPosition","background","tagGroup","maxTextLength","backgroundStyle","tagBg","toBack","textColor","activeTextColor","uncheckedColor","lineColor","regionColor","verticalAxisRotate","horizontalAxisRotate","descriptionIconStroke","descriptionIconFill","LineAnnotation","Theme","autoRotate","renderLine","renderLabel","getLabelPoint","TextAnnotation","resetLocation","getLocation","textGroup","getElementByLocalId","ArcAnnotation","renderArc","endPoint","largeFlag","middlePoint","getArcPath","RegionAnnotation","renderRegion","ImageAnnotation","renderImage","img","getImageAttrs","DataMarkerAnnotation","autoAdjust","coordinateBBox","renderText","renderPoint","getShapeAttrs","textAttrs","isVertival","findById","textShape","lineShape","lineDisplay","pointStyle","lineStyle","textStyle","DataRegionAnnotation","regionStyle","textCfg","RegionFilterAnnotation","layer","shapeIdx","adjustShapeAttrs","fillStyle","strokeStyle","ShapeAnnotation","getStyle","getHeight","offsetWidth","getOuterWidth","bLeft","pLeft","pRight","bRight","mRight","mLeft","offsetHeight","getOuterHeight","bTop","pTop","pBottom","bBottom","mTop","mBottom","HtmlComponent","containerTpl","containerClassName","getContainer","resetStyles","applyStyles","initCapture","initVisible","defaultStyles","domStyles","applyChildrenStyles","containerCss","styles","getElementsByClassName","cssName","resetPosition","HtmlAnnotation","alignX","alignY","html","domWidth","domHeight","getStatesStyle","stateStyles","styleName","AxisBase","tickLine","subTickLine","verticalFactor","verticalLimitLength","overlapOrder","tickStates","optimize","alignTick","displayWithLabel","autoHide","spacing","iconStyle","description","labelStyle","tickLineStyle","inactive","enable","threshold","theme","drawLine","drawTicks","drawTitle","items","itemGroup","updateTickStates","getItemsByState","setItemState","getItems","hasState","getSideVector","align","labelGroup","getLinePath","tickLineItems","tickLineLength","tickSegment","getTickPoint","getSidePoint","tickId","subTickLineItems","subCount","tickLineCount","tickItem","tickItems","defaultTickLineStyle","tickLineGroup","getTickLineAttrs","getTickLineItems","tickCfg","labelId","drawTick","subTickLineItems_1","getSubTickLineItems","optimizeTicks","processTicks","drawLabels","drawTickLines","applyTickStates","page_1","optimizedTicks","labelCfg","getTextAnchor","getTextBaseline","getLabelAttrs","processOverlap","defaultLabelStyle","afterProcessTicks_1","newStyle","titleCfg","titleHeight","titlePoint","getAxisVector","titleAttrs","getTitleAttrs","titleShape","drawDescriptionIcon","descriptionShape","startX","startY","x5","y5","x6","y6","x7","y7","states","getItemStates","labelShape","labelStateStyle","tickLineId","tickLineShape","tickLineStateStyle","tickLineCfg","ellipseLabels","getDefault","ellipsisTail","ellipsisHead","ellipsisMiddle","isRotate","getRotateAngle","isOverlap","minGap","overlap","prevBBox","reserveOne","labelsGroup","reversed","autoHideCfg","hasHide","isHide","parityHide","firstBBox","equidistance","reserveFirst","reserveLast","reserveBoth","preLabel","equidistanceWithReverseBoth","setLabelsAngle","labelRotate","tickWidth","fixedAngle","customRotate","unfixedAngle","Line","regionX","regionY","axisVector","normal","verticalVector","isHorizontal","labelOffset","titleSpacing","canProcessOverlap","autoProcessOverlap","hasAdjusted","util","OverlapUtil","overlapCfg","verticalFactor_1","newAlign","unregisterElement","Circle","large","sweep","vecLen","CrosshairBase","textBackground","renderBackground","textPoint","textId","textBBox","backgroundShape","LineCrosshair","CONTAINER_CLASS","CROSSHAIR_LINE","CROSSHAIR_TEXT","CssConst","backgroundColor","HtmlCrosshair","crosshairTpl","textTpl","HtmlTheme","resetText","crosshairEl","applyStyle","textEl","initCrossHair","alignText","GridBase","alternateColor","closed","drawGrid","prePoints","regionPath","getGridPath","reversePoints","nextPath","preItem","getPathStyle","lineId","gridPath","regionId","isEven","drawAlternateRegion","getAlternatePath","lineType","getLineType","firstPoint","radius_1","sweepFlag_1","LegendBase","layout","getLayoutBBox","maxHeight","resetDraw","drawLegendContent","drawBackground","DEFAULT_PAGE_NAVIGATOR","marker","inactiveFill","inactiveOpacity","RIGHT_ARROW_NAME","LEFT_ARROW_NAME","ROTATE_MAP","up","down","currentPageIndex","updateNavigation","getCurrentNavigationMatrix","totalPagesCnt","itemSpacing","itemMarginBottom","maxItemWidth","itemWidth","itemHeight","itemName","itemValue","radio","itemStates","itemBackground","pageNavigator","symbol","alignRight","nameStyle","unchecked","markerStyle","itemElement","offsetGroup","drawItem","getItemHeight","clearUpdateStatus","processItems","drawItems","itemContainerGroup","wrapped","pageWidth","subGroup","pageHeight","adjustNavigation","style_1","items_1","markerCfg","markerAttrs","textName","xPosition","radioCfg","showRadio","radioShape","tip","groupId","subContainer","getLimitItemWidth","curX","markerShape","drawMarker","itemMarkerSpacing","nameShape","drawItemText","valueShape","drawRadio","backShape","applyItemStates","subGroups","navigation","drawNavigation","navigationBBox","pages","widthLimit","maxRow","maxRowHeight_1","cntPerPage_1","styleCfg","arrowStyle","leftArrow","drawArrow","onNavigationBack","leftArrowBBox","rightArrow","onNavigationAfter","cursorX","updateArrowPath","arrow","hasStates","itemStates_1","elName","statesStyle","HANDLER_HEIGHT_RATIO","HANDLER_TRIANGLE_RATIO","ContinueLegend","track","rail","slidable","defaultLength","getCurrentValue","resetTrackClip","resetHandlers","delegateEmit","bindSliderEvent","bindRailEvent","bindTrackEvent","drawRail","fixedElements","resetTrack","bindHandlersEvent","minValue","getValueByCanvasPoint","currentValue","maxValue","setValue","preValue","curValue","curDiff","dValue","drawLabel","labelAlign","labelFormatter","alignAttrs","getLabelAlignAttrs","railCfg","getRailPath","railShape","getRailShape","railBBox","getRailBBox","getPointByValue","trackCfg","getTrackPath","getTrackColor","trackId","trackShape","getClipTrackAttrs","trackAttrs","getTrackAttrs","draggable","isVertcal","getRailCanvasBBox","resetHandler","handlerCfg","halfWidth","oneSixthWidth","triangleX","triangleY","getHandlerPath","handlerShape","minLabel","maxLabel","getDrawPoint","fixedVertail","fixedHorizontal","minLabelBBox","maxLabelBBox","lengthField","elementsLength","changeRailLength","railHeight","fitRailLength","changeRailPosition","maxLabelWidth","TITLE_CLASS","LIST_CLASS","LIST_ITEM_CLASS","MARKER_CLASS","VALUE_CLASS","NAME_CLASS","CROSSHAIR_X","CROSSHAIR_Y","visibility","transition","boxShadow","borderRadius","marginBottom","listStyleType","marginRight","float","marginLeft","getOutSides","limitBox","hits","getPointByPosition","getAlignPoint","outSides","hasOneKey","Tooltip","customContent","itemTpl","xCrosshairTpl","yCrosshairTpl","showTitle","crosshairsRegion","crosshairs","TooltipTheme","renderCustomContent","resetTitle","renderItems","clearCrosshairs","setTitle","clearItemDoms","setCrossHairsVisible","xCrosshairDom","yCrosshairDom","getHtmlContentNode","cacheDoms","getOffset","resetCrosshairs","curContainer","replaceChild","titleDom","listDom","innerText","crosshairBox","resetCrosshair","croshairDom","checkCrosshair","domName","tplName","constName","substituteObj","domStr","itemDom","BACKGROUND_STYLE","LINE_STYLE","strokeOpacity","AREA_STYLE","pointsToPath","getSmoothLinePath","dataToPath","getAreaLineY","lineY","linePathToAreaPath","areaPath","lineYPx","Trend","isArea","areaStyle","DEFAULT_HANDLER_STYLE","highLightFill","Handler","bindEvents","FOREGROUND_STYLE","DEFAULT_HANDLER_WIDTH","HANDLER_STYLE","TEXT_STYLE","SLIDER_CHANGE","stopPropagation","prevX","pageX","prevY","pageY","containerDOM","getContainerDOM","onMouseMove","onMouseUp","offsetXRange","adjustOffsetRange","updateStartEnd","updateUI","Slider","oldStart","oldEnd","newStart","newEnd","foregroundStyle","handlerStyle","validCfg","minHandler","getChildComponentById","maxHandler","trend","trendCfg","minText","maxText","addComponent","silent","handlerWidth","handlerHeight","foregroundShape","minTextShape","maxTextShape","_dodgeText","minAttrs","maxAttrs","onMouseDown","foreground","offsetRange","PADDING","minBBox","maxBBox","eventType","attachEvent","detachEvent","DEFAULT_STYLE","trackColor","thumbColor","lineCap","DEFAULT_THEME","hover","isMobile","startPos","bindLaterEvent","thumbOffset","endPos","updateThumbOffset","thumbLen","newOffset","validateRange","Scrollbar","newValue","originalValue","minThumbLen","renderTrackShape","renderThumbShape","trackLen","themeSize","onStartEvent","onTrackClick","thumbShape","onThumbMouseOver","onThumbMouseOut","emitOffsetChange","LineAxis","Axis","CircleAxis","LineGrid","Grid","CircleGrid","CategoryLegend","Legend","ContinuousLegend","HtmlTooltip","getPointsBox","centerX","centerY","uniqueValues","Set","polarToCartesian","angleInRadian","getSectorPath","startAngleInRadian","endAngleInRadian","innerStart","innerEnd","innerMiddlePoint","circlePathCommands","arcSweep","sectorPathCommands","shapeModel","coordinate","coordStartAngle","coordEndAngle","diffAngle","getPolygonCentroid","sourceShape","targetShape","targetLength","padValue","sourceLength","sourceArray","targetArray","sourceArray_1_1","BBox","subBBox","fromRange","gap","toPoints","getXDimensionLength","isPolar","getRadius","convert","isFullCircle","getDistanceToCenter","isPointInCoordinate","getAngleByPoint","getCoordinateClipCfg","endState","endAngle_1","center_1","startState","startAngle_1","getCoordinateBBox","dateRegex","getDefaultType","inferScaleType","scaleDef","attrType","geometryType","createScaleByField","validData","getScale","valuesOfKey","ScaleCtor","syncScale","newScale","change","getName","alias","getDefaultCategoryScaleRange","widthRatio","getMaxScale","getLineAxisRelativeRegion","getCircleAxisRelativeRegion","getAxisRegion","isRect","getAxisFactorByRegion","isAxisVertical","getAxisThemeCfg","axisTheme","getAxisTitleOptions","axisOptions","getCircleAxisCenterRadius","startVector","normalVector","getAxisOption","axes","getAxisDirection","axisOption","getAxisTitleText","view","facets","Facet","createContainer","getData","generateFacets","renderViews","clearFacetViews","facet","createView","beforeEachView","eachView","afterEachView","foregroundGroup","getLayer","createFacetViews","facetToView","removeView","viewBBox","cols","xIndex","yIndex","parseSpacing","xSpacing","ySpacing","xRatio","yRatio","getTheme","getOptions","coordinateOption","geometries","coordinateType","getXYFields","xOption","yOption","getXAxisOption","getYAxisOption","conditions","datum","Facets","getFacet","registerFacet","addAction","Action","applyCfg","removeAction","CallbackAction","ActionCache","createAction","actionName","actionOption","ActionClass","getActionClass","registerAction","createCallbackAction","_points2path","isInCircle","_convertArr","coord","_convertArcPath","_convertPolarPath","cur","curPoint","angleRange","flag","middleConvertPoint","_filterFullCirleLine","subPath","catmullRom2bezier","getSplinePath","constaint","splinePath","convertNormalPath","convertPolarPath","transposed","equals","getMaskBBox","maskShape","maskBBox","getMaskPath","getCurrentElement","getDelegationObject","isElementChange","gEvent","isList","isSlider","isMask","getMaskedElements","maskPath","getElementsByPath","getIntersectElements","getSiblingMaskElements","sibling","getSiblingPoint","getElements","geom","views","subView","getElementsByField","getElementValue","getElementsByState","stateName","getElementsBy","model","getModel","intersectRect","shapeBBox","pathToPoints","shapePoints","getComponents","co","getSpline","isInBox","getSilbings","point2Normalize","normalPoint","isInRecords","records","xFiled","getScaleByField","Context","HTMLElement","getCurrentPoint","isPointInPlot","getCurrentShape","components","Interaction","parseAction","actionStr","getAction","methodName","executeAction","actionObject","STEP_NAMES","START","SHOW_ENABLE","END","ROLLBACK","PROCESSING","GrammarInteraction","initContext","callbackCaches","stepArr","stepName","getActionCallback","bindEvent","trigger","offEvent","InteractionContext","subSteps","actionArr","argArr_1","currentStepName","isAllowStep","getKey","emitCaches","isEnable","enterStep","actionCallback","isAllowExecute","afterExecute","throttle","nameArr","Interactions","getInteraction","registerInteraction","interaction","createInteraction","interaciton","createAxisStyles","styleSheet","axisTitleSpacing","axisTitleTextFillColor","axisTitleTextFontSize","axisTitleTextLineHeight","axisDescriptionIconFillColor","axisLabelOffset","axisLabelFillColor","axisLabelFontSize","axisLabelLineHeight","axisLineBorder","axisLineBorderColor","grid","axisGridBorderColor","axisGridBorder","lineDash","axisGridLineDash","axisTickLineBorder","axisTickLineBorderColor","axisTickLineLength","createLegendStyles","legendMarkerSpacing","legendCircleMarkerSize","legendMarkerColor","legendItemNameFillColor","legendItemNameFontSize","legendItemNameLineHeight","legendItemNameFontWeight","flipPage","legendPageNavigatorMarkerSize","legendPageNavigatorMarkerInactiveFillColor","legendPageNavigatorMarkerInactiveFillOpacity","legendPageNavigatorMarkerFillColor","legendPageNavigatorMarkerFillOpacity","legendPageNavigatorTextFillColor","legendPageNavigatorTextFontSize","legendItemSpacing","legendItemMarginBottom","legendPadding","createThemeByStyleSheet","shapeStyles","pointFillColor","pointSize","pointBorderColor","pointBorder","fillOpacity","pointFillOpacity","pointActiveBorderColor","pointActiveBorder","selected","pointSelectedBorderColor","pointSelectedBorder","pointInactiveFillOpacity","pointInactiveBorderOpacity","hollowPoint","hollowPointFillColor","hollowPointBorder","hollowPointBorderColor","hollowPointBorderOpacity","hollowPointSize","hollowPointActiveBorderColor","hollowPointActiveBorderOpacity","hollowPointSelectedBorder","hollowPointSelectedBorderColor","hollowPointSelectedBorderOpacity","hollowPointInactiveBorderOpacity","areaFillColor","areaFillOpacity","areaActiveFillOpacity","areaSelectedFillOpacity","areaInactiveFillOpacity","hollowArea","hollowAreaBorderColor","hollowAreaBorder","hollowAreaBorderOpacity","hollowAreaActiveBorder","hollowAreaSelectedBorder","hollowAreaInactiveBorderOpacity","intervalFillColor","intervalFillOpacity","intervalActiveBorderColor","intervalActiveBorder","intervalSelectedBorderColor","intervalSelectedBorder","intervalInactiveFillOpacity","intervalInactiveBorderOpacity","hollowInterval","hollowIntervalFillColor","hollowIntervalBorderColor","hollowIntervalBorder","hollowIntervalBorderOpacity","hollowIntervalActiveBorderColor","hollowIntervalActiveBorder","hollowIntervalActiveBorderOpacity","hollowIntervalSelectedBorderColor","hollowIntervalSelectedBorder","hollowIntervalSelectedBorderOpacity","hollowIntervalInactiveBorderColor","hollowIntervalInactiveBorder","hollowIntervalInactiveBorderOpacity","lineBorderColor","lineBorder","lineBorderOpacity","lineAppendWidth","lineJoin","lineActiveBorder","lineSelectedBorder","lineInactiveBorderOpacity","axisStyles","legendStyles","defaultColor","brandColor","subColor","semanticRed","paletteSemanticRed","semanticGreen","paletteSemanticGreen","roseWidthRatio","multiplePieWidthRatio","colors10","paletteQualitative10","colors20","paletteQualitative20","sequenceColors","paletteSequence","shapes","sizes","geometry","middleAngle","funnel","pyramid","dash","hv","vh","hvh","vhv","square","bowtie","diamond","hexagon","triangle","plus","hyphen","schema","candle","arc","violin","hollow","axis","common","legend","legendVerticalPadding","legendHorizontalPadding","continuous","sliderRailHeight","sliderRailWidth","sliderRailFillColor","sliderRailBorderColor","sliderRailBorder","sliderLabelTextFillColor","sliderLabelTextFontSize","sliderLabelTextLineHeight","sliderHandlerWidth","sliderHandlerFillColor","sliderHandlerBorderColor","tooltip","showContent","follow","showCrosshairs","showMarkers","shared","enterable","tooltipCrosshairsBorderColor","tooltipCrosshairsBorder","TOOLTIP_CSS_CONST","tooltipContainerFillColor","tooltipContainerFillOpacity","tooltipContainerShadow","tooltipContainerBorderRadius","tooltipTextFillColor","tooltipTextFontSize","tooltipTextLineHeight","marginTop","annotation","annotationArcBorderColor","annotationArcBorder","annotationLineBorderColor","annotationLineDash","annotationLineBorder","annotationTextFillColor","annotationTextBorderColor","annotationTextBorder","annotationTextFontSize","annotationRegionBorder","annotationRegionBorderColor","annotationRegionFillColor","annotationRegionFillOpacity","image","dataMarker","annotationDataMarkerLineLength","dataRegion","slider","cSliderBackgroundFillColor","cSliderBackgroundFillOpacity","cSliderForegroundFillColor","cSliderForegroundFillOpacity","cSliderHandlerWidth","cSliderHandlerHeight","cSliderHandlerFillColor","cSliderHandlerFillOpacity","cSliderHandlerBorderColor","cSliderHandlerBorder","cSliderHandlerBorderRadius","cSliderHandlerHighlightFillColor","cSliderTextFillColor","cSliderTextFillOpacity","cSliderTextFontSize","cSliderTextLineHeight","cSliderTextFontWeight","cSliderTextBorderColor","cSliderTextBorder","scrollbar","scrollbarTrackFillColor","scrollbarThumbFillColor","scrollbarThumbHighlightFillColor","labelFillColor","labelFontSize","labelBorderColor","labelBorder","fillColorDark","labelFillColorDark","fillColorLight","labelFillColorLight","innerLabels","innerLabelFillColor","innerLabelFontSize","innerLabelBorderColor","innerLabelBorder","overflowLabels","overflowLabelFillColor","overflowLabelFontSize","overflowLabelBorderColor","overflowLabelBorder","pieLabels","labelHeight","labelLine","labelLineBorder","BLACK_COLORS","WHITE_COLORS","QUALITATIVE_10","QUALITATIVE_20","SINGLE_SEQUENCE","createLightStyleSheet","paletteSemanticYellow","axisLineDash","axisTitleTextFontWeight","axisSubTickLineBorderColor","axisSubTickLineLength","axisSubTickLineBorder","axisLabelFontWeight","legendTitleTextFillColor","legendTitleTextFontSize","legendTitleTextLineHeight","legendTitleTextFontWeight","legendMarkerSize","legendSquareMarkerSize","legendLineMarkerSize","sliderLabelTextFontWeight","sliderHandlerHeight","sliderHandlerBorder","annotationTextLineHeight","annotationTextFontWeight","tooltipCrosshairsLineDash","tooltipTextFontWeight","labelLineHeight","labelFontWeight","innerLabelLineHeight","innerLabelFontWeight","overflowLabelLineHeight","overflowLabelFontWeight","labelLineBorderColor","cSliderRailHieght","pointBorderOpacity","hollowPointActiveBorder","areaActiveFillColor","areaSelectedFillColor","hollowAreaActiveBorderColor","hollowAreaSelectedBorderColor","intervalActiveBorderOpacity","intervalSelectedBorderOpacity","createTheme","themeCfg","styleSheetCfg","themeObject","defaultTheme","Themes","registerTheme","snapEqual","value1","value2","getXValueByPoint","xScale","getXScale","filterYValue","yScale","getYScale","originData","getXDistance","scaleValues","numericValue","getTooltipTitle","positionAttr","getFields","titleField","titleScale","tooltipTitle","getAttributesForLegend","attributes","attribute","getTooltipValueScale","attributes_1_1","tmpScale","tmpScaleDef","scaleDefs","inferedScaleType","getTooltipValue","valueScale","eachValue","getTooltipName","nameScale","groupScales","getGroupScales","findDataByPoint","firstXValue","firstYValue","lastXValue","isYArray","firstIdx","lastIdx","middleIdx","getTooltipItems","showNil","tooltipOption","addItem","mappingData","callbackParams","itemCfg","fields_1_1","getTooltipItemsByFindData","tooltipCfg","dataArray_1_1","elementsMap","getTooltipItemsByHitShape","findItemsFromView","geometries_1_1","tooltipItems","findItemsFromViewRecurisive","childView","isAutoPadding","parsePadding","paddingArray","LOAD_COMPONENT_CONTROLLERS","registerComponentController","plugin","getComponentControllerNames","getComponentController","option","wrapperOption","CoordinateController","isTheta","C","hasAction","transpose","execActions","resetMatrix","sx","sy","includeActions","shouldExec","Event","GEvent","defaultLayout","getController","controller","syncScales","ScalePool","finalScaleDef","cacheScaleMeta","getScaleMeta","cacheScale","cacheScaleDef","scaleKeys","syncKey","MIN_SAFE_INTEGER","isContinuous","getSyncKey","removeFromSyncScales","scaleMeta","delete","sync","PaddingCal","getPadding","calculatePadding","paddingCal","axisComponents","paddingComponents","otherComponents","AXIS","LEGEND","SLIDER","SCROLLBAR","GRID","TOOLTIP","bboxObject","componentBBox","exceed","componentPadding","expand","inc","defaultSyncViewPadding","chart","PC","syncPadding","instance","autoPadding","createViewEvent","doPlotEvent","backgroundGroup","middleGroup","appendPadding","limitInPlot","syncViewPadding","View","layoutFunc","calculateViewBBox","initComponentController","initOptions","isUpdate","payload","BEFORE_RENDER","paint","AFTER_RENDER","BEFORE_CLEAR","filteredData","coordinateInstance","isDataChanged","isCoordinateChanged","labelsContainer","controllers","createdScaleKeys","getRootView","scalePool","deleteScale","AFTER_CLEAR","BEFORE_DESTROY","interactions","filters","legendOption","scaleOption","coordinateCfg","coordinateController","facetInstance","status","opt","existInteraction","BEFORE_CHANGE_DATA","changeData","AFTER_CHANGE_DATA","sharedOptions","getOption","legends","removedView","yScales","dimType","defaultKey","getScaleKey","getGroupAttributes","xScales","getScalesByDim","showTooltip","hideTooltip","lockTooltip","unlockTooltip","isTooltipLocked","dataLen","snapRecords","getSnapRecords","curStart","curEnd","bl","adjust","renderDataRecursive","BEFORE_PAINT","renderPaddingRecursive","renderLayoutRecursive","renderBackgroundStyleShape","renderPaintRecursive","AFTER_PAINT","backgroundStyleRectShape","adjustCoordinate","initComponents","shrink","syncViewPaddingFn","doLayout","paintGeometries","renderComponents","currentScaleDef","mergedScaleDef","createScale","doFilterData","createCoordinate","initGeometries","renderFacet","onDelegateEvents","onCanvasEvent","usedControllers","controllerName","ALL_EVENTS","currentInPlot","newEvent","TYPE","isPreMouseInPlot","MOUSE_LEAVE","LEAVE","MOUSE_ENTER","ENTER","filterData","createOrUpdateScales","getGeometryScales","adjustScales","getScaleFields","groupedFields","getGroupedFields","geometryScales","groupFields","getGroupFields","adjustCategoryScaleRange","xyScales","getYScales","scaleOptions","isIdentity","doAnimation","canvasRegion","annotations","geometryOption","createGeometry","interactionOption","viewOption","annotationComponent","annotationOption","eventCallback","rest","geometry_1","registerGeometry","renderer","pixelRatio","localRefresh","defaultInteractions","wrapperElement","forceFit","updateCanvasStyle","bindAutoFit","initDefaultInteractions","Chart","ariaOption","ATTR","BEFORE_CHANGE_SIZE","changeSize","AFTER_CHANGE_SIZE","aria","unbindAutoFit","verticalAlign","onResize","Controller","includeOption","uniqItems","subItem","isVisible","getTitle","dataPoint","getTooltipCfg","lastItems","lastTitle","tooltipMarkersGroup","renderTooltip","getItemsAfterProcess","renderTooltipMarkers","isCrosshairsFollowCursor","renderCrosshairs","xCrosshair","yCrosshair","isLocked","guideGroup","reset","tooltipCrosshairsGroup","items_1_1","itemArr_1_1","snapItem","items_2_1","aItem","yDistance","isPointIn","processOption","processCustomContent","currentCustomContent","getTooltipMarkersGroup","rootView","items_3_1","attrs_1","crosshairsType","renderXCrosshairs","renderYCrosshairs","getViewWithGeometry","getTooltipCrosshairsGroup","getCrosshairsText","Crosshair","firstItem","getGuideGroup","toFront","originalItems","customItems","ANIMATIONS_MAP","getAnimation","registerAnimation","DEFAULT_ANIMATE_CFG","GEOMETRY_ANIMATE_CFG","GEOMETRY_GROUP_APPEAR_ANIMATION","parseAnimateConfig","getDefaultAnimateCfg","animateType","doAnimate","parsedAnimateCfg","animateFunction","doGroupAppearAnimate","minYPoint","BACKGROUND_SHAPE","shapeFactory","offscreenGroup","elementIndex","getShapeType","drawShape","setShapeInfo","getOffscreenGroup","newShape","origin","syncShapeStyle","getStates","getAnimateCfg","stateStatus","sortZIndex","zIndexReversed","setZIndex","offscreenShape","setState","labelBBox","stateOption","defaultShapeType","stateTheme","shapeKey","stateCfg","shapeStyle","cfg_1","AFTER_DRAW_ANIMATE","BEFORE_DRAW_ANIMATE","GroupCtor","newClip","newChildren","name_2","getStateStyle","GEOMETRY_LABELS_MAP","GEOMETRY_LABELS_LAYOUT_MAP","getGeometryLabel","registerGeometryLabel","getGeometryLabelLayout","registerGeometryLabelLayout","layoutFn","ShapeFactoryBase","getShapePoints","shapePoint","getPoints","getDefaultPoints","getDefaultStyle","geometryTheme","getMarker","parsedPath","parsePoint","parsePoints","ShapeFactoryMap","registerShapeFactory","factoryName","geomObj","registerShape","shapeObj","getShapeFactory","appendConditions","values_1_1","eachGroup","isModelChange","currentModel","preModel","parseFields","keyItem","added","updated","removed","keyIncluded","sortable","useDeferredLabel","userTheme","Geometry","positionCfg","attributeOption","createAttrOption","adjustCfg","adjusts","adjustOption","styleFunc","styleOption","secondParam","thirdParam","labelOption","customOption","setCfg","initAttributes","processData","adjustScale","lastAttributeOption","beforeMappingData","beforeMapping","mapping","lastElementsMap","canDoGroupAnimation","yMinPoint","getYMinValue","deferred","renderLabels","requestIdleCallback","geometryLabel","idFields","hasSorted","attrName","adjustType","shapeName","xVal","yVal","length_2","groupScale","dodgeAdjust","attributeType","eachOpt","length_3","uniqMap","fs","length_4","attributeName","mappingArray","xScale_1","xField_1","updateStackRange","normalizeValues","mappingDatum","shapeCfg","getDrawCfg","customInfo","defaultStyle","getStyleCfg","generatePoints","nextPoints","mappingDataArray","keyDatum","keyIndex","finalKey","added_1_1","updated_1_1","currentShapeCfg","preShapeCfg","removed_1_1","labelType","attrCfg","AttributeCtor","getAttributeClass","categoryScales","groupedArray","beforeAdjust","subData","subLen","categoryScales_1_1","xScale_2","sizeAttr","getDefaultValue","adjustCtor","getAdjustClass","adjustInstance","mergeArray","tmpMin","tmpMax","length_5","currentData","generateShapePoints","nextData","shapeAttr","createShapePointsCfg","getAttributeValues","newRecord","_origin","mappingRecord","rstX","rstY","xLen","yLen","BEFORE_RENDER_LABEL","getLabelType","GeometryLabelsCtor","labelsMap","labelsRenderer","elementLabels","labelGroupId","labelChildren","entries","AFTER_RENDER_LABEL","getRotateMatrix","rotateRadian","findLabelTextShape","getLabelBackgroundInfo","labelItem","boxPadding","rotation","getOverlapArea","xOverlap","yOverlap","checkShapeOverlap","dones","updateLabel","updateAnimateCfg","fromChild","toChild","getCount","Labels","createOffscreenGroup","renderLabelLine","renderLabelBackground","adjustLabel","lastShapesMap","origin_1","currentAnimateCfg","deleteShape","shapeAppendCfg","isShape","layouts","all","labelShapes","geometryShapes","labelItems","labelLineCfg","labelContentShape","GeometryLabel","mapppingArray","labelCfgs","getLabelCfgs","labelContent","total","subIndex","getLabelAlign","getLabelItems","getLabelsRenderer","getGeometryShapes","themedLabelCfg","defaultLabelCfg","getDefaultLabelCfg","labelPointCfg","getOffsetVector","offsetPoint","getDimValue","isAvg","isFunnel","setLabelPosition","getLabelOffsetPoint","labelScales","callbackCfg","originText","getLabelText","originValues","getLabelId","getLabelOffset","labelTexts","subVal","actualOffset","getMappingValue","restArgs","MarkerSymbols","diffX","diffY","STROKES_SYMBOLS","handleUserMarkerStyle","adpatorMarkerStyle","setMarkerSymbol","getLegendLayout","startsWith","getLegendItems","themeMarker","userMarker","field_1","colorAttr_1","shapeAttr_1","defaultColor_1","isInPolar_1","getTicks","scaleValue","filterFieldData","getShapeMarker","isInPolar","getCustomLegendItems","itemMarker","getLegendThemeCfg","legendTheme","isValueEmpty","isYNil","getPathPoints","connectNulls","showSinglePoint","filtered","getViolinPath","getSmoothViolinPath","leftPoints","rightPoints","leftPath","rightPath","isStroke","isFill","sizeName","getBackgroundRectStyle","splitPoints","eachY","LineSymbols","getLineMarker","isStack","shapeAttrs","eachLinePoints","getPath","getSinglePath","getRangePath","topPoints","bottomPoints","topPath","bottomPath","createDarkStyleSheet","legendSpacing","overflowLabelFillColorDark","overflowLabelFillColorLight","antvDark","getPixelRatio","devicePixelRatio","inBox","mergeRegion","region1","region2","regexPR","addStop","addColorStop","parseLineGradient","gradientStr","tanTheta","tanTheta2","createLinearGradient","parseRadialGradient","fy","fr","createRadialGradient","parsePattern","patternStr","pattern","createPattern","Image","crossOrigin","complete","parseStyle","CanvasPattern","parseRadius","r3","r4","_addDefaultArrow","isStart","arrowShape","Path","isArrowShape","rotateAtPoint","_addCustomizedArrow","endArrow","arrowAttrs","startArrow","arrowFill","arrowStroke","arrowLineWidth","restAttrs","getShortenOffset","addStartArrow","addEndArrow","SHAPE_ATTRS_MAP","applyAttrsToContext","setLineDash","globalAlpha","drawChildren","skipDraw","checkRefresh","refreshElements","refresh","setChildrenRefresh","checkChildrenRefresh","hasChanged","checkElementRefresh","clearChanged","cacheCanvasBBox","isAllow","isInView","drawPath","arcParamsCache","beginPath","tangent","getStartTangent","ArrowUtil","lastPath","getEndTangent","moveTo","lineTo","quadraticCurveTo","bezierCurveTo","closePath","refreshElement","_cacheCanvasBBox","getRefreshRegion","cacheBox","validCache","validBBox","getMergedRegion","minXArr","minYArr","maxXArr","maxYArr","mergeView","viewRegion","Group","createPath","_afterDraw","viewRange","getViewRange","allowDraw","_applyClip","getHitLineWidth","bboxMethod","getBBoxMethod","halfLineWidth","getCanvasViewBox","strokeAndFill","afterDrawPath","isInStrokeOrPath","absDistance","ellipseDistance","squareX","squareY","Ellipse","halfLineWith","nodeName","ImageShape","_setImage","image_1","_afterLoading","swidth","sheight","drawImage","inLine","LineUtil","setArrow","startArrowDistance","endArrowDistance","Symbols","Marker","_resetParamsCache","_getR","path2Absolute","_getPath","paramsCache","isPointInPath","hasArc","isPointInStroke","qDistance","cDistance","inArc","extractPolygons","polygons","polylines","isInPolygons","_setPathArr","getTotalLength","extractResutl","_calculateCurve","_setTcache","subt","tCache","curve","nextSeg","segmentT","segmentL","segmentN","tempLength","inPolyline","isClose","Polygon","PolyLine","_resetCache","PolylineUtil","inRect","rectWithRadius","Rect","inRectWithRadius","Text","_assembleFont","_setText","subY","_getSpaceingY","fillText","strokeText","_drawTextArr","_drawText","getRefXY","preTest","curShape","_clearFrame","clearRect","clipView","drawFrame","clearAnimationFrame","_startDraw","_getRefreshRegion","_drawRegion","_drawAll","AbstractCanvas","SHAPE_TO_TAGS","SVG_ATTR_MAP","lineDashOffset","miterLimit","preserveAspectRatio","createSVGElement","createElementNS","sortDom","sorter","childList","toArray","fragment","createDocumentFragment","targetIndex","nodeType","currentIndex","insertBefore","targetNext","setShadow","blur","addShadow","setTransform","hasAttribute","addClip","parentChildren","clipPathEl","defsEl","children_1","canFill","canStroke","shadow","_setColor","addGradient","addPattern","elementFromPoint","isEqualNode","Dom","toDataURL","ImageData","putImageData","addArrow","getDefaultArrow","triangleDown","getAll","_assembleMarker","symbolsFactory","_formatPath","getPointAtLength","Polyline","completed","pathRelatedAttrs","_assembleRect","LETTER_SPACING","BASELINE_MAP","middle","alphabetic","hanging","BASELINE_MAP_FOR_FIREFOX","ANCHOR_MAP","_setFont","baseline","textLen_1","arr_1","stops","Gradient","ATTR_MAP","shadowOpacity","SHADOW_DIMENSION","_parseShadow","Shadow","_setDefaultPath","_setMarker","Arrow","shapeEl","Clip","Pattern","defaultArrow","Defs","srcElement","tagName","keyData","getShapeInfo","getPointsAndData","registeredShape","topLinePoints_1","bottomLinePoints_1","pointsData","parsedPoints","pathPoints","eachPoints","getConstraint","yItem","startOnZero","Area","Heatmap","prepareRange","prepareSize","blur_1","prepareGreyScaleBlurredCircle","drawWithRange","clearShadowCanvasCtx","paletteCache","colorAttr","colorField","getDefaultSize","grayScaleBlurredCanvas","getGrayScaleBlurredCanvas","valueField","getShadowCanvasCtx","data_1_1","drawGrayScaleBlurredCircle","colored","getImageData","colorize","imageShape","getImageShape","shadowCanvas","pixels","palette","ColorUtil","getRectPoints","yMin","yMax","xMin","xMax","getRectPath","isClosed","minLength","getBackgroundRectPath","getIntervalRectPath","coor","getFunnelPath","isPyramid","swap","getRectWithCornerRadius","backgroundCfg","backgroundPath","findMinDistance","sourceArr","getDodgeCount","xValues","normalizedSize","wr","dodgeCount","normalizedMaxColumnWidth","normalizedMinColumnWidth","Interval","coordinateWidth","SHAPES","HOLLOW_SHAPES","drawPoints","pointPosition","points_1_1","Point","subX","xCount","yCount","xOffset","yOffset","Schema","normalizeSize","num","sizeArr","_size","isMin","isMax","Violin","_sizeField","sizeField","getCPath","getQPath","getArcShapePath","getArcShapeWeightPath","arc1","arc2","getSmoothPath","CORNER_PERCENT","getVHVPath","getLinePoints","getTickPoints","getTickPath","interpolateCallback","middleX","middleY","getInterpolatePoints","interpolatePoint","getInterpolatePath","getInterpolateShapeAttrs","interpolatePoints","parseValue","min1","max1","getBoxPoints","pointsArray","halfSize","getBoxPath","getCandleYValues","getCandlePoints","yValues","getCandlePath","getRectAttrs","IntervalLabel","dir","getLabelValueDir","point0","nextP0","nextP1","HALF_PI","PolarLabel","labelEmit","arcPoint","isToMiddle","getMiddlePoint","getArcPoint","getPointAngle","isLabelEmit","labelPositionCfg","getLabelRotate","labelAngle","appendAngle","PieLabel","isLabelLimit","MARGIN","antiCollision","plotRange","isRight","overlapping","totalHeight","MIN_VALUE","boxes","targets","pos","previousBox","posInCompositeBox","labelShapes_1_1","rPow2","dyPow2","distribute","lineHeight_1","totalR","totalHeight_1","plotRange_1","halves_1","maxLabelsCountForOneSide","innerPoint","itemX","itemY","invisible","endY","drawLabelline","smoothConnector","breakPoint","breakPoint3","largeArcFlag","xSign","slope1","slope2","pieOuterLabelLayout","labels_1_1","LEFT_HALF_KEY","RIGHT_HALF_KEY","separateLabels","labelsContainerRange","dxPow2","dx_offset","INFLECTION_OFFSET","LABEL_OFFSET_X","LABEL_TEXT_LINE_OFFSET","inRight","inflectionPoint","pieSpiderLabelLayout","totalOffset","halfHeight","originalPos","limitInCanvas","regionMinX","regionMinY","regionMaxX","regionMaxY","finalX","finalY","limitInShape","MAX_TIMES","bitmap","xGap","yGap","Greedy","hasGap","spiralFill","greedy","maxTimes","dxdy","dt","maxDelta","nt","fillGap","times","accessedCache","adjustLabelPosition","fixedOverlap","getAxes","AB","BC","deg","getProjection","scalars","isProjectionOverlap","projection1","projection2","isValidNumber","isValidBox","isIntersectRect","rect1Points","rect2Points","createWorker","blob","Blob","BlobBuilder","append","getBlob","Worker","URL","createObjectURL","onmessage","generateUtils","hideOverlap","methods","eventData","JSON","postMessage","worker","layoutCode","memoKey","stringify","onmessageerror","preset","isContrastColorWhite","isDark","adjustColor","fromObject","bgColor","fillWhite","shouldInShapeSingle","shouldInShape","moveInShape","intervalAdjustPosition","inShape","filterLabel","MAX_CNT","filteredLabels","intervalHideOverlap","todo","groupedLabels","addCurrentGroup","curItems","sortLabels","sortedLabels","hasSome","rightText","pointAdjustPosition","sortedCollections","upFail","downFail","pathAdjustPosition","getCanvasContext","DOT_WIDTH","translateX_1","textShapes","textBox","fadeIn","fadeOut","transformShape","scaledMatrix","doScaleAnimate","endMatrix","growInX","growInY","growInXY","pathIn","positionUpdate","scaleInX","scaleInY","arcPath","getArcStartPoint","getArcInfo","arcPaths","firstArcPathCommand","lastArcPathCommand","firstIndex","firstStartPoint","lastStartPoint","firstStartAngle","firstEndAngle","lastStartAngle","lastEndAngle","sectorPathUpdate","pathCommands","curStartAngle","curEndAngle","preStartAngle","preEndAngle","diffStartAngle","diffEndAngle","onFrameStartAngle","onFrameEndAngle","waveIn","doShapeZoom","zoomIn","zoomOut","getFactTitleConfig","getAnglePoint","getDefaultTitleCfg","renderTitle","avgAngle","facetR","processAxis","getFieldValues","facetData","getFacetDataFilter","getRegion","columnValue","columnField","columnIndex","columnValuesLength","rowValue","rowField","rowIndex","rowValuesLength","List","colValues","getPageCount","getRowCol","col","pageSize","Matrix","columnTitle","rowTitle","facetIndex","Mirror","reflect","columnValues","rowValues","drawLines","Tree","afterChartRender","rootFacet","getRows","getChildFacets","setRegion","forceColIndex","xWidth","yWidth","leafs","isLeaf","levelFacets","getFacetsByLevel","levelFacets_1_1","originColIndex","getRegionIndex","addFacetLines","subFacet","subRegion","middle1","middle2","getMedian","getMean","getNormalizedValue","scaled","ANNOTATIONS_AFTER_RENDER","foregroundContainer","backgroundContainer","Annotation","onAfterRender","updateOrCreate","getCacheKey","syncCache","updateCache","clearComponents","doWhat","AnnotationComponent","getAnnotationTheme","getAnnotationCfg","isTop","ANNOTATION","xPos","yPos","parsePercentPosition","viewData","startXValue","endXValue","parsePosition","sp","ep","textContent","start_5","end_5","getRegionPoints","apply_1","shapes_1","addShapes_1","_j","render_1","restOptions","wrappedRender","_k","html_1","wrappedHtml","getComponentContainer","createAnnotation","newCache","getGridThemeCfg","getLineGridItems","preTick","currentTick","middleValue","getCircleGridItems","showGrid","userGrid","themeGrid","OMIT_CFG","AXIS_DEFAULT_ANIMATE_CFG","gridContainer","gridForeContainer","axisContainer","axisForeContainer","updatedCache","updateXAxes","updateYAxes","xAxisOption","axisId","getId","gridId","getLineAxisCfg","createLineAxis","getLineGridCfg","createLineGrid","getCircleAxisCfg","createCircleAxis","getCircleGridCfg","createCircleGrid","yAxisOption","titleText","axisThemeCfg","optionWithTitle","canvasWidth","canvasHeight","gridThemeCfg","gridCfg","verticalScale","directionToPosition","parentBBox","tl","br","getLegendOption","getDirection","layoutBBox","maxWidthRatio","maxHeightRatio","maxSize","getCategoryLegendSizeCfg","setLocation","cut","eachLegend","existCo","getComponentById","getCategoryCfg","getContinuousCfg","createFieldLegend","customCfg","createCustomLegend","loopLegends","getGeometries","doEach","isRootView","looped","createContinuousLegend","createCategoryLegend","containMin","containMax","attrValue","attrLegendCfg","mergeLegendCfg","themePageNavigator","userPageNavigator","baseCfg","categoryCfg","vw","changeViewData","onChangeFn","onValueChange","resetMeasure","getSliderCfg","updateSlider","createSlider","measureSlider","getMinMaxText","SliderComponent","getThemeOptions","dataSize","xTickCount","maxIndex","xScaleValues","DEFAULT_PADDING","DEFAULT_CATEGORY_SIZE","MIN_THUMB_LENGTH","getValidScrollbarCfg","originalAnimate","getScrollRange","updateScrollbar","createScrollbar","measureScrollbar","getScrollbarComponentCfg","xScaleCfg","yScalesCfg","thumbHighlightColor","restStyles","getScrollbarData","getStep","getCnt","startIdx","endIdx","ScrollbarComponent","realConfig","categorySize","getScrollbarTheme","DEFAULT_REGION_PATH_STYLE","getItemsOfView","ActiveRegion","xValue_1","elements_1","eleData","coordinate_1","firstBBox_1","lastBBox_1","groupBBox_1","appendRatio","appendWidth","firstElement","lastElement","innterRadius","TooltipAction","lastTimeStamp","showDelay","preLoc","curLoc","isCursorEntered","SiblingTooltip","siblingPoint","EllipsisText","tipContent","tooltipStyles","StateBase","setStateEnable","clearViewState","setElementState","getItem","ElementState","list","ignoreListItemStates","setElementsStateByItem","isMathItem","setStateByElement","isItemIgnore","event_1","setStateByComponent","ElementActive","StateAction","LinkByColor","nextElement","nextBBox","activeStyle","getLinkPath","getColorScale","linkGroup","group_1","count_1","nextEl","addLinkShape","linkByElement","removeLink","ElementRangeState","isStarted","effectSiblings","effectByRecord","setSiblingsState","allElements","setSiblingsStateByRecord","setElementsState","effectElements","ElementRangeActive","ElementSingleState","ElementSingleActive","STATUS_UNACTIVE","STATUS_ACTIVE","clearHighlight","setHighlightBy","INACTIVE","ACTIVE","ElementHighlight","setElementHighlight","activeElements","allCancel_1","HighlightColor","highlightElements","Highlight","HighlightX","ElementRangeHighlight","BEFORE_HIGHLIGHT","AFTER_HIGHLIGHT","ElementSingleHighlight","ElementRangeSelected","ElementMultipleSelected","ElementSingleSelected","ListState","allowSetStateByElement","getAllowComponents","clearItemsState","componentNames","ignoreStates","ignoreItemStates","filterStates","setItemsState","allowSetStateByItem","triggerInfo","getTriggerListInfo","clearAllComponentsState","ListActive","clearList","ListHighlight","activeItems","ListSelected","ListUnchecked","STATUS_UNCHECKED","STATUS_CHECKED","ListChecked","setCheckedBy","allChecked","list_1","ListFocus","clickedItem","checkedItems","uncheckedItems","checkedItem","items_4_1","STATUS_SHOW","TIP_ID","ListRadio","containerId","MaskBase","maskAttrs","getMaskAttrs","emitEvent","starting","moving","createMask","updateMask","maskStyle","preMovePoint","CircleMask","RectMask","clampPoint","DimRect","normalStart","normalEnd","inPlot","PathMask","resize","SmoothPathMask","CursorAction","setCursor","DataFilter","filterView","unCheckedItems","scale_1","names_1","getFilter","RangeFilter","BEFORE_FILTER","normalCurrent","hasDim","reRender","FILTER","AFTER_FILTER","BEFORE_RESET","RESET","AFTER_RESET","SiblingFilter","ElementFilter","maskElements_1","byRecord","filterByRecord","filterByBBox","maskElements","PADDING_RIGHT","PADDING_TOP","ButtonAction","buttonCfg","getButtonCfg","buttonShape","buttonGroup","drawButton","DISTANCE","Drag","dragStart","MIN_DISTANCE","Move","startMatrix","isMoving","DIM_X","DIM_Y","ScaleTranslate","cacheScaleDefs","resetDim","startCache","noramlCurrent","translateDim","translateLinear","TransformAction","zoomRatio","zoomDim","dRatio","zoomLinear","toMin","toMax","curRange","isWheelDown","wheelEvent","deltaY","LEVEL","DEFAULT_WHEELDELTA","MousewheelScroll","wheelDelta","scrollbarController","currentStart","nextStart","correction","nextRatio","AXIS_DESCRIPTION_TOOLTIP","AxisDescription","isPointInView","isInPlot","flow","flows","template","CanvasEngine","SVGEngine","Edge","EllipsisTextAction","ElementHighlightByX","ElementHighlightByColor","ElementSelected","ElementLinkByColor","DimMask","DataRangeFilter","ElementSiblingFilter","ViewDrag","ViewMove","ScaleZoom","showEnable","processing","rollback","BRAND","getMessage","argIndex","getContainerSize","findGeometry","getAllElements","getAllElementsRecursively","getAllGeometriesRecursively","findViewById","getViews","getSiblingViews","transformLabel","labelOptions","points2Path","deep","deepAssign","kebabCase","adapteStyle","styleObject","justifyContent","alignItems","shapeStyleKeys","setStatisticContainerStyle","renderStatistic","plotType","titleOpt","contentOpt","containerW","liquidShape","customHtml","renderGaugeStatistic","polarCoord","polarCenter","polarMaxY","containerWidth","metrics","isRealNumber","adjustYMetaByZero","numberData","gtZero","ltZero","transformDataToNodeLinkData","sourceField","targetField","weightField","rawFields","nodes","links","nodesMap","nodesIndex","rawData","processIllegalData","WARN","normalPadding","getAdjustAppendPadding","currentAppendPadding","resolveAllPadding","paddings","normalPaddings","finalPadding","GLOBAL","locale","LocaleMap","registerLocale","localeObj","getLocale","EN_US_LOCALE","general","increase","decrease","root","conversionTag","waterfall","ZH_CN_LOCALE","SOURCE_ATTRIBUTE_NAME","PLOT_CONTAINER_OPTIONS","getDefaultOptions","createG2","Plot","xAxis","yAxis","chartSize","execAdaptor","bindSizeSensor","updateOption","stateObjects","incoming","unbindSizeSensor","adaptor","getSchemaAdaptor","triggerResize","AXIS_META_CONFIG_KEYS","initCanvas","fillRect","getUnitPatternSize","isStagger","unitSize","getSymbolsPosition","symbolsPos","transformMatrix","dpr","defaultDotPatternCfg","drawDot","createDotPattern","dotCfg","defaultLinePatternCfg","Path2D","createLinePattern","lineCfg","defaultSquarePatternCfg","drawSquare","strokeRect","createSquarePattern","squareCfg","squares","getCanvasPattern","patternOption","colorAttribute","seriesValue","seriesField","removeInteraction","meta","annotationOptions","annotationController","transformations","getTooltipMapping","defaultFields","getMappingField","shapeField","styleField","mappingFields","tileMappingField","getMappingFunction","tooltipFields","stepType","otherAdaptor","groupField","columnBackground","pointMapping","areaMapping","pointState","areaState","primary","areaParams","lineGeometry","DEFAULT_OPTIONS","MarkerActiveAction","getView","InteractionAction","measure","as","sumMap","groupValue","percentage","getDeepPercent","getDataWhetherPercentage","asField","isPercent","lineMapping","chartData","tooltipOptions","lineParams","pointParams","areaGeometry","conversionTagFormatter","getConversionTagOptionsWithDefaults","horizontal","headSize","renderArrowTag","elemPrev","elemNext","pointPrev","pointNext","totalWidth","renderTextTag","textWidth","cWidth","cEnd","textAdjusted","disabled","INTERACTION_MAP","click","getStartStages","connectedArea","disable","BUTTON_ACTION_CONFIG","buttonStyle","drawText","getInteractionCfg","interactionType","brushType","maskType","BRUSH_TYPES","brushInteraction","brush","enabled","buttonConfig","defaultOptions","columnStyle","percentData","stackedItem","percentYMeta","isRange","columnTooltip","tooltipFormatter_1","datas","isBar","Column","verticalAxis","horizontalAxis","coordinateOptions","barStyle","barWidthRatio","minBarWidth","maxBarWidth","barBackground","columnAdaptor","Bar","switchedFieldOptions","pieStyle","getTotalValue","adaptOffset","defaultOffset","endsWith","isAllZero","angleField","ORIGIN_MATRIX","ulMatrix","PieLegendAction","item_1","getActiveElements","getActiveElementLabels","transfrom","StatisticAction","_view","initialAnnotation","getAnnotations","colorField_1","initialStatistic","getInitialAnnotation","PIE_STATISTIC","percentageField_1","dataum","angleScale","content_1","LABEL_LAYOUT_TYPE_MAP","outer","spider","labelLayoutType","labelLayoutCfg","transformStatisticOptions","titleOpt_1","contentOpt_1","dataValue","metaFormatter","pieAnnotation","startStages_1","stage","Pie","prevOptions","prevData","curData","sectorStyle","Rose","spiral","timeInterval","wordCloud","words","tagCloud","imageMask","tags","_tags","cloudRadians","cw","ch","cloudText","cloudFont","cloudFontNormal","cloudFontSize","cloudRotate","cloudPadding","cloudSprite","contextAndRatio","sprite","maxh","sr","cr","wcr","wsr","hcr","hsr","xoff","yoff","hasText","w32","seen","seenRow","cloudCollide","board","sw","msx","cloudBounds","collideRects","archimedeanSpiral","rectangularSpiral","sign","zeroArray","cloudCanvas","functor","spirals","archimedean","rectangular","cloud","place","hasImage","_bounds","can","cxt","imageData","rawOptions","chartPadding","wordField","wordStyle","placementStrategy","getSingleKeyValues","getFontSizeMapping","getSize","getRotate","containerSize","resolvePadding","processImageMask","rej","HTMLImageElement","onerror","ERROR","fMax_1","fMin_1","resolveRotate","rotationSteps","perSize","numbers","WORD_CLOUD_COLOR_FIELD","rotateRatio","getTextAttrs","WordCloud","catch","REGRESSION_MAP","poly","getQuadrantDefaultConfig","xBaseline","yBaseline","textOffset","defaultConfig","xScaleView","yScaleView","pathData","regressionLine","algorithm","reg","getMeta","xFieldValue","yFieldValue","xIsPositiveNumber","yIsPositiveNumber","getMetaMinMax","fieldMeta","getCustomValue","transformOptions","isOneX","isOneY","meta_1","newOptions","shapeLegend","sizeLegend","showLegend","scatterGeometry","scatterAnnotation","quadrant","labels_1","regionStyle_1","defaultConfig_1","quadrants","top_1","defaultStyle_1","BRUSH_FILTER_EVENTS","Scatter","pointOptions","areaOptions","RadarTooltipController","cfgTitle","hintItems","title_1","result_1","displayTitle","TooltipController","RadarTooltipAction","getTooltipController","AxisType","DualAxesGeometry","Radar","LEFT_AXES_VIEW","RIGHT_AXES_VIEW","DEFAULT_YAXIS_CONFIG","DEFAULT_LEFT_YAXIS_CONFIG","DEFAULT_RIGHT_YAXIS_CONFIG","isLine","isColumn","getGeometryOption","transformObjectToArray","transformAttribute","a2_1","a1_1","getYAxisWithDefault","axisType","Left","Right","getViewLegendItems","legendItemName","isGeometry","viewId","attrItems","drawSingleGeometry","FIELD_KEY","adjust_1","doSliderFilter","sliderValue","geometryOptions","allLine","createViews","SORT_MAP","column","formatData","themeColor","leftView","rightView","commonInteraction","commonAnnotation","commonTheme","commonAnimation","commonLimitInPlot","leftLegend_1","rightLegend_1","leftItems","rightItems","yF","legendItem_1","curLegendItem","DualAxes","X_FIELD","Y_FIELD","DEFAULT_TOOLTIP_OPTIONS","getTinyData","lineOptions","seriesData","TinyLine","TinyColumn","TinyArea","getBinKey","binWidth","binNumber","sturges","LN2","binHistogram","binField","stackField","originData_copy","rangeWidth","_binWidth","_defaultBinNumber","bins","bin","binKey","groupKey","groupKeyBinKey","plotData","HISTOGRAM_X_FIELD","HISTOGRAM_Y_FIELD","Histogram","DEFAULT_COLOR","getProgressData","clampPercent","progressStyle","Progress","RingProgress","sizeRatio","heatmapStyle","checkedSizeRatio","geometryAdaptor","dautm","radiusRatio","maxSideLength","lenRatio","sideLength","BOX_RANGE","BOX_RANGE_ALIAS","BOX_SYNC_NAME","OUTLIERS_VIEW_ID","boxStyle","transformData","newData","q1_1","median_1","q3_1","high_1","low_1","yFieldName","outliersPoint","outliersField","outliersStyle","outliersView","outliersViewData","outliersData","baseMeta","syncName","Box","quickselect","sd","newLeft","newRight","multiQuantileSelect","results","quantileIndex","quantileSelect","indices","stack","toBoxValue","low","high","q1","q3","minMax","toViolinValue","pdfOptions","pdfResults","violinSize","violinY","transformViolinData","kde","sampleSize","resultList","seriesGroup","series","VIOLIN_Y_FIELD","VIOLIN_SIZE_FIELD","MIN_MAX_FIELD","QUANTILE_FIELD","MEDIAN_FIELD","VIOLIN_VIEW_ID","MIN_MAX_VIEW_ID","QUANTILE_VIEW_ID","MEDIAN_VIEW_ID","violinStyle","TOOLTIP_FIELDS","violinView","boxView","minMaxView","quantileView","medianView","legendField_1","legendOptions","baseAnnotation","c0","blendObject","screen","overlay","darken","lighten","dodge","burn","innerBlend","mode","blend","blendRgbArr","colorToArr","g0","g1","rgbaArr","SMALL","intersectionArea","circles","stats","intersectionPoints","getIntersectionPoints","innerPoints","containedInCircles","arcArea","polygonArea","arcs","midPoint","parentIndex","angleDiff","circleArea","smallest","disjoint","circleCircleIntersection","circleOverlap","venn","areas","initialLayout","bestInitialLayout","loss","lossFunction","addMissingAreas","setid","setids","solution","setid_1","positions","distanceFromIntersectArea","ids","pairs","sets","getDistanceMatrices","distances","constraints","constrainedMDSGradient","xj","yj","dij","squaredDistance","greedyLayout","constrained","constrainedMDSLayout","constrainedLoss","greedyLoss","restarts","matrices","norm","setOverlaps","rowid","mostOverlapped","positioned","isPositioned","positionSet","setIndex","extraPoints","bestLoss","bestPoint","localLoss","overlaps","getCircles","getBoundingBox","xRange","yRange","scaleSolution","xScaling","yScaling","scaling","circleMargin","interior","exterior","computeTextCentre","valid","areaStats","getOverlappingCircles","circleids","circleid","computeTextCentres","overlapped","areaids","exclude","centre","circlePath","intersectionAreaPath","wide","ID_FIELD","PATH_FIELD","blendMode","getColorMap","colorPalette","setsField","colorMap","colorPaletteLen","colorArr","layoutVennData","vennData","textCenters","setCircles","islegalSets","legalArr","testArr","getFillAttrs","fillAttrs","VennLabel","customLabelInfo","placeElementsOrdered","ElementActiveAction","VennElementActive","syncElementsPos","toggle","ElementHighlightAction","VennElementHighlight","highlight","ElementSelectedAction","ElementSingleSelectedAction","VennElementSelected","VennElementSingleSelected","LEGEND_SPACE","transformColor","map_1","tempPadding","currSets","filterSets","schemaGeometry","colorOptions","vennInteraction","MAP_1","Venn","TREND_FIELD","TREND_UP","TREND_DOWN","defaultContent","risingFill","fallingFill","getStockData","close_1","open_1","stockStyle","Stock","FUNNEL_PERCENT","FUNNEL_MAPPING_VALUE","FUNNEL_CONVERSATION","FUNNEL_TOTAL_PERCENT","PLOYGON_X","PLOYGON_Y","minSize","maxYFieldValue","maxBy","conversionTagComponent","getLineCoordinate","lineOption","formatter_1","funnelStyle","baseGeometry","geo","datumIndex","initLineOption","basicFunnel","compareField","showFacetTitle","formatterData","defaultFacetLabel","viewIndex","compareFunnel","facetFunnel","preItemX","preItemY","dynamicHeightFunnel","defaultOption","dynamicHeight","Funnel","FUNNEL_CONVERSATION_FIELD","CAT_VALUE","getLiquidData","liquidStyle","outline","wave","border","DURATION","lerp","getLineAttrs","defaultAttrs","getWaterWavePositions","waveLength","getWaterWavePath","waterLevel","phase","curves","_phase","waveRight","addWaterWave","waveCount","waveAttrs","pin","cpX","cpY","GOLDEN_SECTION_RATIO","builtInShapeByName","minXPoint","outlineAttrs","buildPath","shapePath","waves","clipPath","Liquid","measureField","rangeField","ds","rKey","mKey","tKey","flat","bulletStyle","extData","rangeGeometry","measureGeometry","targetGeometry","NODE_INDEX_FIELD","Bullet","CHILD_NODE_COUNT","NODE_ANCESTORS_FIELD","INVALID_FIELD_ERR_MSG","getField","defaultField","getAllNodes","index_1","ancestors","depth","eachNode","SUNBURST_ANCESTOR_FIELD","SUNBURST_Y_FIELD","SUNBURST_PATH_FIELD","RAW_FIELDS","hierarchyConfig","sunburstStyle","drilldown","PADDING_LEFT","BREAD_CRUMB_NAME","DEFAULT_BREAD_CRUMB_CONFIG","dividerText","activeTextStyle","HIERARCHY_DATA_TRANSFORM_PARAMS","DrillDownAction","drill","drawBreadCrumb","breadCrumbGroup","historyCache","backTo","hideCrumbGroup","nodeInfo","drillData","nodeData","drillDownConfig","breadCrumbCfg","breadCrumb","drawBreadCrumbGroup","rootText","textShapeBox","targetId","newHistoryCache","dividerShape","dividerBox","partition","eachBefore","positionNode","roundNode","treemapDice","eachAfter","that","ancestor","leastCommonAncestor","aNodes","bNodes","leaves","hierarchy","mapChildren","objectChildren","childs","Node","computeHeight","node_copy","copyData","node_count","node_each","node_eachAfter","node_eachBefore","node_find","node_sum","node_sort","node_path","node_ancestors","descendants","node_descendants","node_leaves","node_links","node_iterator","ignoreParentValue","d3Hierarchy","defaultSeparation","meanX","meanXReduce","maxYReduce","leafLeft","leafRight","separation","nodeSize","cluster","previousNode","shuffle","B","enclosesWeak","encloseBasis","extendBasis","enclosesWeakAll","enclosesNot","encloseBasis2","encloseBasis3","dr","encloseBasis1","x21","y21","r21","a3","d3","ab","xa","xb","ya","yb","intersects","packEnclose","aa","ca","sj","sk","enclose","optional","required","constantZero","defaultRadius","radiusLeaf","packChildren","translateChild","preroot","ambiguous","defaultId","defaultParentId","parentId","stratify","nodeId","nodeKey","nodeByKey","nextLeft","nextRight","moveSubtree","wm","wp","executeShifts","nextAncestor","vim","TreeNode","treeRoot","tree","firstWalk","secondWalk","sizeNode","tx","kx","ky","apportion","vip","vop","vom","sip","sop","sim","som","squarifyRatio","nodeValue","sumValue","newRatio","minRatio","beta","dice","treemapSlice","squarify","tile","paddingStack","paddingInner","treemap","paddingOuter","sums","valueOffset","valueTarget","valueLeft","valueRight","resquarify","_squarify","getTileMethod","tileMethod","activeDepth","ancestorNode","polygonAdaptor","pathFormatter","valueFormatter","adaptorInteraction","baseInteraction","isParentNode","inCenter","Sunburst","RANGE_VALUE","RANGE_TYPE","PERCENT","INDICATEOR_VIEW_ID","RANGE_VIEW_ID","indicator","pointer","processRangeData","getIndicatorData","getRangeData","clampTicks","gaugeStyle","meter","indicatorData","rangeData","rangeColor","contentOption","transformContent","STEP_RATIO","COORD_START_ANGLE","COORD_END_ANGLE","TOTAL","INTERVAL","START_ANGLE","END_ANGLE","Gauge","indicatorView","rangeView","DIFF_FIELD","ABSOLUTE_FIELD","IS_TOTAL","leaderLine","waterfallStyle","newYField","processed","dIdx","localeTotalLabel","colorMapping","Y_FIELD_META","labelMode","leaderLineCfg","linkPath","Waterfall","getScaleMax","maxAngle","yData","formatRadian","getStackedData","stackedData","valueItem","actualData","intervalGeometry","FIRST_AXES_VIEW","RadialBar","SECOND_AXES_VIEW","SERIES_FIELD_KEY","hopeData","data1","data2","__axisPosition","firstView","secondView","firstViewData","secondViewData","aliasMap","metaKey","leftGeometry","rightGeometry","leftLabelCfg","textAlignMap","positionMap_1","textBaselineMap","BidirectionalBar","findInteraction","enableInteraction","enableDrillInteraction","resetDrillDown","drillDownInteraction","drillDownAction","enableDrillDown","curPath","rectStyle","basePolygon","viewZoomInteraction","Treemap","transData","targetDepth","justify","sourceLinks","targetLinks","minBy","sumBy","maxValueBy","minValueBy","ascendingSourceBreadth","ascendingBreadth","ascendingTargetBreadth","defaultNodes","graph","defaultLinks","nodeById","computeLinkBreadths","link","Sankey","linkSort","sankey","computeNodeLinks","computeNodeValues","computeNodeDepths","computeNodeHeights","computeNodeBreadths","fixedValue","maxDepth","computeNodeLayers","columns","initializeNodeBreadths","nodes_6","reorderLinks","relaxRightToLeft","relaxLeftToRight","value_1","targetTop","dy_1","reorderNodeLinks","resolveCollisions","value_2","sourceTop","dy_2","subject","resolveCollisionsBottomToTop","resolveCollisionsTopToBottom","dy_3","dy_4","sourceLinks_2","targetLinks_2","nodeAlign","nodeDepth","nodeSort","nodeWidth","nodePadding","extent","ALIGN_METHOD","getNodeAlignFunction","sankeyLayoutOptions","sankeyLayout","sankeyProcessor","layoutData","getNodes","edges","graphMatrix","cutoffCircle","removedData","visited","DFS","dfsNode","isNodeLink","dataType","getNodeWidthRatio","nodeWidthRatio","getNodePaddingRatio","nodePaddingRatio","transformToViewsData","sankeyLayoutInputData","COLOR_FIELD","NODES_VIEW_ID","EDGES_VIEW_ID","nodeStyle","edgeStyle","nodeState","edgeState","edgeView","nodeView","nodeDraggable","DRAG_INTERACTION","nodeInteractions","edgeInteractions","SankeyNodeDragAction","getNodeView","isNodeElement","getCurrentDatumIdx","currentElementIdx","isDragging","prevNodeAnimateCfg","prevEdgeAnimateCfg","getEdgeView","prevDatum","datumGap_1","nextDatum","edgeData","isLast","nodesView","edgesView","sourceWeight","targetWeight","processGraph","forIn","inEdges","outEdges","frequency","sortNodes","sortMethods","localeCompare","layoutNodes","nodePaddingRatio_1","margin_1","nodeWidthRatio_1","totalValue_1","deltaX","deltaX_1","locatingEdges","valueById_1","sId","tId","sNode","tNode","sValue","currentSValue","sStart","sEnd","tValue","currentTValue","tStart","tEnd","chordLayout","chordLayoutOptions","chordLayoutInputData","outputNodes","outputLinks","NODE_COLOR_FIELD","EDGE_COLOR_FIELD","nodesData","edgesData","chordData","nodeGeometry","edgeGeometry","edgeOptions","Chord","packLayout","resolvePaddingForCircle","wSize","hSize","restWidthPadding","restHeightPadding","finalTop","finalRight","finalBottom","finalLeft","finalSize","diameter","tempAppendPadding","appendPaddingByDrilldown","circleSize","nameFormatter","CirclePacking","PLOT_ADAPTORS","lineAdaptor","pie","pieAdaptor","bar","barAdaptor","areaAdaptor","gauge","gaugeAdaptor","tinyLineAdaptor","tinyColumnAdaptor","tinyAreaAdaptor","ringProgressAdaptor","progress","progressAdaptor","scatter","scatterAdaptor","histogram","histogramAdaptor","funnelAdaptor","stock","stockAdaptor","PLOT_CONSTRUCTOR","DEFAULT_OPTIONS_MAP","execPlotAdaptor","plot","multiView","viewOfG2","multiPlot","plots","Association","linkField","data_1","getAssociationItems","Mix","execViewAdaptor","facetAdaptor","facetType","restFacetCfg","viewOptions","plotOptions","Stage","notice","DEV","BETA","STABLE","Lab","ARow","ACol","ACard","AStatistic","currentInstance","getCurrentInstance","$http","appContext","globalProperties","store","useStore","headers","Authorization","getters","getToken","reactive","sampleCounts","genderCounts","ageAverage","async","sample_counts","gender_counts","age_mean","setLinePlot","setHistPlot","hist_id","hist","toRefs","__exports__"],"sourceRoot":""}