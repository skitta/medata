{"version":3,"file":"static/js/396.67875059.js","mappings":"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","sources":["webpack://frontend/./node_modules/ant-design-vue/es/_util/hooks/useMergedState.js","webpack://frontend/./node_modules/ant-design-vue/es/_util/hooks/useState.js","webpack://frontend/./node_modules/ant-design-vue/es/col/index.js","webpack://frontend/./node_modules/ant-design-vue/es/row/index.js","webpack://frontend/./node_modules/ant-design-vue/es/space/index.js","webpack://frontend/./node_modules/ant-design-vue/es/vc-util/isMobile.js","webpack://frontend/./node_modules/d3-regression/dist/d3-regression.js","webpack://frontend/./node_modules/fmin/build/fmin.js","webpack://frontend/./node_modules/pdfast/src/helper.js","webpack://frontend/./node_modules/pdfast/src/index.js","webpack://frontend/./node_modules/size-sensor/lib/constant.js","webpack://frontend/./node_modules/size-sensor/lib/debounce.js","webpack://frontend/./node_modules/size-sensor/lib/id.js","webpack://frontend/./node_modules/size-sensor/lib/index.js","webpack://frontend/./node_modules/size-sensor/lib/sensorPool.js","webpack://frontend/./node_modules/size-sensor/lib/sensors/index.js","webpack://frontend/./node_modules/size-sensor/lib/sensors/object.js","webpack://frontend/./node_modules/size-sensor/lib/sensors/resizeObserver.js","webpack://frontend/./src/api/kawasaki.js","webpack://frontend/./src/views/home/DashboardView.vue","webpack://frontend/./node_modules/lodash-es/_baseRepeat.js","webpack://frontend/./node_modules/lodash-es/_castSlice.js","webpack://frontend/./node_modules/lodash-es/_hasUnicode.js","webpack://frontend/./node_modules/lodash-es/_asciiSize.js","webpack://frontend/./node_modules/lodash-es/_unicodeSize.js","webpack://frontend/./node_modules/lodash-es/_stringSize.js","webpack://frontend/./node_modules/lodash-es/_asciiToArray.js","webpack://frontend/./node_modules/lodash-es/_unicodeToArray.js","webpack://frontend/./node_modules/lodash-es/_stringToArray.js","webpack://frontend/./node_modules/lodash-es/_createPadding.js","webpack://frontend/./node_modules/lodash-es/padEnd.js","webpack://frontend/./node_modules/ant-design-vue/es/statistic/Number.js","webpack://frontend/./node_modules/ant-design-vue/es/skeleton/Title.js","webpack://frontend/./node_modules/ant-design-vue/es/skeleton/Paragraph.js","webpack://frontend/./node_modules/ant-design-vue/es/skeleton/Element.js","webpack://frontend/./node_modules/ant-design-vue/es/skeleton/Skeleton.js","webpack://frontend/./node_modules/ant-design-vue/es/statistic/Statistic.js","webpack://frontend/./node_modules/lodash-es/padStart.js","webpack://frontend/./node_modules/ant-design-vue/es/statistic/utils.js","webpack://frontend/./node_modules/ant-design-vue/es/statistic/Countdown.js","webpack://frontend/./node_modules/ant-design-vue/es/statistic/index.js","webpack://frontend/./node_modules/tslib/tslib.es6.js","webpack://frontend/../src/is-array-like.ts","webpack://frontend/../src/contains.ts","webpack://frontend/../src/filter.ts","webpack://frontend/../src/difference.ts","webpack://frontend/../src/is-type.ts","webpack://frontend/../src/is-function.ts","webpack://frontend/../src/is-nil.ts","webpack://frontend/../src/is-array.ts","webpack://frontend/../src/is-object.ts","webpack://frontend/../src/each.ts","webpack://frontend/../src/keys.ts","webpack://frontend/../src/is-match.ts","webpack://frontend/../src/is-object-like.ts","webpack://frontend/../src/is-plain-object.ts","webpack://frontend/../src/find.ts","webpack://frontend/../src/find-index.ts","webpack://frontend/../src/first-value.ts","webpack://frontend/../src/flatten.ts","webpack://frontend/../src/max.ts","webpack://frontend/../src/min.ts","webpack://frontend/../src/get-range.ts","webpack://frontend/../src/pull.ts","webpack://frontend/../src/pull-at.ts","webpack://frontend/../src/reduce.ts","webpack://frontend/../src/remove.ts","webpack://frontend/../src/is-string.ts","webpack://frontend/../src/sort-by.ts","webpack://frontend/../src/uniq.ts","webpack://frontend/../src/values-of-key.ts","webpack://frontend/../src/head.ts","webpack://frontend/../src/last.ts","webpack://frontend/../src/ends-with.ts","webpack://frontend/../src/every.ts","webpack://frontend/../src/some.ts","webpack://frontend/../src/group-by.ts","webpack://frontend/../src/group-to-map.ts","webpack://frontend/../src/group.ts","webpack://frontend/../src/parse-radius.ts","webpack://frontend/../src/clamp.ts","webpack://frontend/../src/fixed-base.ts","webpack://frontend/../src/is-number.ts","webpack://frontend/../src/is-number-equal.ts","webpack://frontend/../src/is-integer.ts","webpack://frontend/../src/is-odd.ts","webpack://frontend/../src/max-by.ts","webpack://frontend/../src/min-by.ts","webpack://frontend/../src/mod.ts","webpack://frontend/../src/to-radian.ts","webpack://frontend/../src/to-degree.ts","webpack://frontend/../src/to-integer.ts","webpack://frontend/../src/for-in.ts","webpack://frontend/../src/has.ts","webpack://frontend/../src/has-key.ts","webpack://frontend/../src/values.ts","webpack://frontend/../src/to-string.ts","webpack://frontend/../src/lower-case.ts","webpack://frontend/../src/substitute.ts","webpack://frontend/../src/upper-first.ts","webpack://frontend/../src/get-type.ts","webpack://frontend/../src/is-boolean.ts","webpack://frontend/../src/is-date.ts","webpack://frontend/../src/is-null.ts","webpack://frontend/../src/is-prototype.ts","webpack://frontend/../src/is-undefined.ts","webpack://frontend/../src/is-element.ts","webpack://frontend/../src/request-animation-frame.ts","webpack://frontend/../src/clear-animation-frame.ts","webpack://frontend/../src/augment.ts","webpack://frontend/../src/clone.ts","webpack://frontend/../src/debounce.ts","webpack://frontend/../src/memoize.ts","webpack://frontend/../src/deep-mix.ts","webpack://frontend/../src/index-of.ts","webpack://frontend/../src/is-empty.ts","webpack://frontend/../src/is-equal.ts","webpack://frontend/../src/map.ts","webpack://frontend/../src/map-values.ts","webpack://frontend/../src/mix.ts","webpack://frontend/../src/get.ts","webpack://frontend/../src/measure-text-width.ts","webpack://frontend/../src/set.ts","webpack://frontend/../src/pick.ts","webpack://frontend/../src/omit.ts","webpack://frontend/../src/throttle.ts","webpack://frontend/../src/to-array.ts","webpack://frontend/../src/unique-id.ts","webpack://frontend/../src/noop.ts","webpack://frontend/../src/size.ts","webpack://frontend/../src/constant.ts","webpack://frontend/../src/get-ellipsis-text.ts","webpack://frontend/../src/cache.ts","webpack://frontend/../src/create-dom.ts","webpack://frontend/../../src/engine/index.ts","webpack://frontend/../src/modify-css.ts","webpack://frontend/../../src/util/dom.ts","webpack://frontend/../src/index.ts","webpack://frontend/../src/base.ts","webpack://frontend/../../src/util/path.ts","webpack://frontend/../../src/event/graph-event.ts","webpack://frontend/../../src/util/util.ts","webpack://frontend/../../src/abstract/base.ts","webpack://frontend/./node_modules/detect-browser/es/index.js","webpack://frontend/./node_modules/gl-matrix/esm/mat3.js","webpack://frontend/./node_modules/gl-matrix/esm/common.js","webpack://frontend/./node_modules/gl-matrix/esm/vec2.js","webpack://frontend/../src/ext.ts","webpack://frontend/../../src/util/matrix.ts","webpack://frontend/../../src/abstract/element.ts","webpack://frontend/../../src/abstract/container.ts","webpack://frontend/./node_modules/d3-timer/src/timer.js","webpack://frontend/./node_modules/d3-color/src/define.js","webpack://frontend/./node_modules/d3-color/src/color.js","webpack://frontend/./node_modules/d3-interpolate/src/basis.js","webpack://frontend/./node_modules/d3-interpolate/src/basisClosed.js","webpack://frontend/./node_modules/d3-interpolate/src/constant.js","webpack://frontend/./node_modules/d3-interpolate/src/color.js","webpack://frontend/./node_modules/d3-interpolate/src/rgb.js","webpack://frontend/./node_modules/d3-interpolate/src/numberArray.js","webpack://frontend/./node_modules/d3-interpolate/src/array.js","webpack://frontend/./node_modules/d3-interpolate/src/date.js","webpack://frontend/./node_modules/d3-interpolate/src/number.js","webpack://frontend/./node_modules/d3-interpolate/src/object.js","webpack://frontend/./node_modules/d3-interpolate/src/string.js","webpack://frontend/./node_modules/d3-interpolate/src/value.js","webpack://frontend/./node_modules/d3-ease/src/linear.js","webpack://frontend/./node_modules/d3-ease/src/quad.js","webpack://frontend/./node_modules/d3-ease/src/cubic.js","webpack://frontend/./node_modules/d3-ease/src/poly.js","webpack://frontend/./node_modules/d3-ease/src/sin.js","webpack://frontend/./node_modules/d3-ease/src/math.js","webpack://frontend/./node_modules/d3-ease/src/exp.js","webpack://frontend/./node_modules/d3-ease/src/circle.js","webpack://frontend/./node_modules/d3-ease/src/bounce.js","webpack://frontend/./node_modules/d3-ease/src/back.js","webpack://frontend/./node_modules/d3-ease/src/elastic.js","webpack://frontend/../../src/animate/register.ts","webpack://frontend/../../src/util/color.ts","webpack://frontend/../../src/animate/timeline.ts","webpack://frontend/../../src/event/event-contoller.ts","webpack://frontend/../../src/abstract/canvas.ts","webpack://frontend/../../src/abstract/group.ts","webpack://frontend/../../src/abstract/shape.ts","webpack://frontend/../../src/bbox/register.ts","webpack://frontend/../../src/bbox/rect.ts","webpack://frontend/../../src/bbox/circle.ts","webpack://frontend/../src/util.ts","webpack://frontend/../src/line.ts","webpack://frontend/../src/bezier.ts","webpack://frontend/../src/quadratic.ts","webpack://frontend/../src/cubic.ts","webpack://frontend/../src/ellipse.ts","webpack://frontend/../src/arc.ts","webpack://frontend/../src/segments.ts","webpack://frontend/../src/polyline.ts","webpack://frontend/../../src/bbox/util.ts","webpack://frontend/../../src/bbox/polyline.ts","webpack://frontend/../../src/bbox/polygon.ts","webpack://frontend/../../src/util/offscreen.ts","webpack://frontend/../../src/util/text.ts","webpack://frontend/../../src/bbox/text.ts","webpack://frontend/../src/parse-path.ts","webpack://frontend/../src/catmull-rom-2-bezier.ts","webpack://frontend/../src/parse-path-string.ts","webpack://frontend/../src/path-2-absolute.ts","webpack://frontend/../../src/process/arc-2-cubic.ts","webpack://frontend/../src/get-arc-params.ts","webpack://frontend/../src/path-2-segments.ts","webpack://frontend/../src/point-in-polygon.ts","webpack://frontend/../src/get-line-intersect.ts","webpack://frontend/../src/is-polygons-intersect.ts","webpack://frontend/../../src/bbox/path.ts","webpack://frontend/../../src/bbox/line.ts","webpack://frontend/../../src/bbox/ellipse.ts","webpack://frontend/../../src/bbox/index.ts","webpack://frontend/../../src/adjusts/adjust.ts","webpack://frontend/../src/factory.ts","webpack://frontend/./node_modules/@antv/adjust/node_modules/tslib/tslib.es6.js","webpack://frontend/../../src/adjusts/dodge.ts","webpack://frontend/../../src/adjusts/jitter.ts","webpack://frontend/../../src/adjusts/stack.ts","webpack://frontend/../../src/adjusts/symmetric.ts","webpack://frontend/../../src/attributes/base.ts","webpack://frontend/./node_modules/@antv/attr/node_modules/tslib/tslib.es6.js","webpack://frontend/../../src/attributes/color.ts","webpack://frontend/../../src/attributes/opacity.ts","webpack://frontend/../../src/attributes/position.ts","webpack://frontend/../../src/attributes/shape.ts","webpack://frontend/../../src/attributes/size.ts","webpack://frontend/../../src/tick-method/register.ts","webpack://frontend/../../src/category/base.ts","webpack://frontend/../src/fecha.ts","webpack://frontend/../../src/util/bisector.ts","webpack://frontend/../../src/util/time.ts","webpack://frontend/../../src/category/time.ts","webpack://frontend/../../src/continuous/base.ts","webpack://frontend/../../src/continuous/linear.ts","webpack://frontend/../../src/util/math.ts","webpack://frontend/../../src/continuous/log.ts","webpack://frontend/../../src/continuous/pow.ts","webpack://frontend/../../src/continuous/time.ts","webpack://frontend/../../src/continuous/quantize.ts","webpack://frontend/../../src/continuous/quantile.ts","webpack://frontend/../../src/identity/index.ts","webpack://frontend/../../src/tick-method/cat.ts","webpack://frontend/../../src/util/d3-linear.ts","webpack://frontend/../../src/util/interval.ts","webpack://frontend/../../src/util/strict-limit.ts","webpack://frontend/../../src/tick-method/d3-linear.ts","webpack://frontend/../../src/util/pretty-number.ts","webpack://frontend/../../src/util/extended.ts","webpack://frontend/../../src/tick-method/linear.ts","webpack://frontend/../../src/tick-method/log.ts","webpack://frontend/../../src/util/pretty.ts","webpack://frontend/../../src/tick-method/pow.ts","webpack://frontend/../../src/tick-method/quantile.ts","webpack://frontend/../../src/tick-method/r-prettry.ts","webpack://frontend/../../src/tick-method/time.ts","webpack://frontend/../../src/tick-method/time-cat.ts","webpack://frontend/../../src/tick-method/time-pretty.ts","webpack://frontend/../../src/tick-method/index.ts","webpack://frontend/./node_modules/gl-matrix/esm/vec3.js","webpack://frontend/../../src/coord/base.ts","webpack://frontend/../../src/coord/cartesian.ts","webpack://frontend/../../src/coord/helix.ts","webpack://frontend/../../src/coord/polar.ts","webpack://frontend/../../src/util/event.ts","webpack://frontend/../../src/abstract/component.ts","webpack://frontend/../../src/abstract/group-component.ts","webpack://frontend/../../src/util/label.ts","webpack://frontend/../../src/util/graphic.ts","webpack://frontend/../../src/util/theme.ts","webpack://frontend/../../src/annotation/line.ts","webpack://frontend/../../src/annotation/text.ts","webpack://frontend/../../src/annotation/arc.ts","webpack://frontend/../../src/annotation/region.ts","webpack://frontend/../../src/annotation/image.ts","webpack://frontend/../../src/annotation/data-marker.ts","webpack://frontend/../../src/annotation/data-region.ts","webpack://frontend/../../src/annotation/region-filter.ts","webpack://frontend/../../src/annotation/shape.ts","webpack://frontend/../src/get-style.ts","webpack://frontend/../src/get-width.ts","webpack://frontend/../src/get-outer-width.ts","webpack://frontend/../src/get-height.ts","webpack://frontend/../src/get-outer-height.ts","webpack://frontend/../../src/abstract/html-component.ts","webpack://frontend/../../src/annotation/html.ts","webpack://frontend/../../src/util/state.ts","webpack://frontend/../../src/axis/base.ts","webpack://frontend/../../../src/axis/overlap/auto-ellipsis.ts","webpack://frontend/../../../src/axis/overlap/auto-hide.ts","webpack://frontend/../../../src/axis/overlap/auto-rotate.ts","webpack://frontend/../../src/axis/line.ts","webpack://frontend/../../src/axis/circle.ts","webpack://frontend/../../src/crosshair/base.ts","webpack://frontend/../../src/crosshair/line.ts","webpack://frontend/../../src/crosshair/circle.ts","webpack://frontend/../../src/crosshair/css-const.ts","webpack://frontend/../../src/crosshair/html-theme.ts","webpack://frontend/../../src/crosshair/html.ts","webpack://frontend/../../src/grid/base.ts","webpack://frontend/../../src/grid/circle.ts","webpack://frontend/../../src/grid/line.ts","webpack://frontend/../../src/legend/base.ts","webpack://frontend/../../src/legend/category.ts","webpack://frontend/../../src/legend/continuous.ts","webpack://frontend/../../src/tooltip/css-const.ts","webpack://frontend/../../src/tooltip/html-theme.ts","webpack://frontend/../../src/util/align.ts","webpack://frontend/../../src/tooltip/html.ts","webpack://frontend/../../src/trend/constant.ts","webpack://frontend/../../src/trend/path.ts","webpack://frontend/../../src/trend/trend.ts","webpack://frontend/../../src/slider/handler.ts","webpack://frontend/../../src/slider/constant.ts","webpack://frontend/../../src/slider/slider.ts","webpack://frontend/../src/add-event-listener.ts","webpack://frontend/../../src/scrollbar/scrollbar.ts","webpack://frontend/../src/dependents.ts","webpack://frontend/../../src/util/graphics.ts","webpack://frontend/../../src/util/helper.ts","webpack://frontend/../../src/util/bbox.ts","webpack://frontend/../../src/util/coordinate.ts","webpack://frontend/../../src/util/scale.ts","webpack://frontend/../../src/util/axis.ts","webpack://frontend/../../src/facet/facet.ts","webpack://frontend/../../src/facet/index.ts","webpack://frontend/../../../src/interaction/action/base.ts","webpack://frontend/../../../src/interaction/action/callback.ts","webpack://frontend/../../../src/interaction/action/register.ts","webpack://frontend/../../../../src/geometry/shape/util/path.ts","webpack://frontend/../../../src/interaction/action/util.ts","webpack://frontend/../../src/interaction/context.ts","webpack://frontend/../../src/interaction/interaction.ts","webpack://frontend/../../src/interaction/grammar-interaction.ts","webpack://frontend/../../src/interaction/index.ts","webpack://frontend/../../../src/theme/util/create-by-style-sheet.ts","webpack://frontend/../../../src/theme/style-sheet/light.ts","webpack://frontend/../../../src/theme/util/create-theme.ts","webpack://frontend/../../src/theme/index.ts","webpack://frontend/../../src/util/tooltip.ts","webpack://frontend/../../src/util/padding.ts","webpack://frontend/../../../src/chart/controller/index.ts","webpack://frontend/../../../src/chart/controller/coordinate.ts","webpack://frontend/../../src/chart/event.ts","webpack://frontend/../../../src/chart/layout/index.ts","webpack://frontend/../../../src/chart/util/scale-pool.ts","webpack://frontend/../../../src/chart/layout/padding-cal.ts","webpack://frontend/../../../src/chart/layout/auto.ts","webpack://frontend/../../../src/chart/util/sync-view-padding.ts","webpack://frontend/../../src/chart/view.ts","webpack://frontend/../../src/chart/chart.ts","webpack://frontend/../../../src/chart/controller/base.ts","webpack://frontend/../../../src/chart/controller/tooltip.ts","webpack://frontend/../../../src/animate/animation/index.ts","webpack://frontend/../../src/animate/index.ts","webpack://frontend/../../../src/geometry/shape/constant.ts","webpack://frontend/../../../src/geometry/element/index.ts","webpack://frontend/../../../src/geometry/label/index.ts","webpack://frontend/../../../src/geometry/shape/base.ts","webpack://frontend/../../../src/geometry/util/group-data.ts","webpack://frontend/../../../src/geometry/util/is-model-change.ts","webpack://frontend/../../../src/geometry/util/parse-fields.ts","webpack://frontend/../../../src/geometry/util/diff.ts","webpack://frontend/../../src/geometry/base.ts","webpack://frontend/../../src/util/transform.ts","webpack://frontend/../../../../src/geometry/label/util/index.ts","webpack://frontend/../../src/component/update-label.ts","webpack://frontend/../../src/component/labels.ts","webpack://frontend/../../../src/geometry/label/base.ts","webpack://frontend/../../src/util/attr.ts","webpack://frontend/../../src/util/marker.ts","webpack://frontend/../../src/util/legend.ts","webpack://frontend/../../../../src/geometry/shape/util/get-path-points.ts","webpack://frontend/../../../../src/geometry/shape/util/get-style.ts","webpack://frontend/../../../../src/geometry/shape/util/split-points.ts","webpack://frontend/../../../../src/geometry/shape/line/util.ts","webpack://frontend/../../../../src/geometry/shape/line/index.ts","webpack://frontend/../src/core.ts","webpack://frontend/../../../src/theme/style-sheet/dark.ts","webpack://frontend/../../src/util/parse.ts","webpack://frontend/../../src/util/arc-params.ts","webpack://frontend/../../src/util/arrow.ts","webpack://frontend/../../src/util/draw.ts","webpack://frontend/../../src/shape/base.ts","webpack://frontend/../../src/shape/circle.ts","webpack://frontend/../../src/shape/ellipse.ts","webpack://frontend/../../src/shape/image.ts","webpack://frontend/../../../src/util/in-stroke/line.ts","webpack://frontend/../../src/shape/line.ts","webpack://frontend/../../src/shape/marker.ts","webpack://frontend/../../../src/util/in-path/point-in-path.ts","webpack://frontend/../../../src/util/in-path/polygon.ts","webpack://frontend/../../../src/util/in-stroke/arc.ts","webpack://frontend/../../src/shape/path.ts","webpack://frontend/../../../src/util/in-stroke/polyline.ts","webpack://frontend/../../src/shape/polygon.ts","webpack://frontend/../../src/shape/polyline.ts","webpack://frontend/../../../src/util/in-stroke/rect.ts","webpack://frontend/../../../src/util/in-stroke/rect-radius.ts","webpack://frontend/../../src/shape/rect.ts","webpack://frontend/../../src/shape/text.ts","webpack://frontend/../../src/util/hit.ts","webpack://frontend/../src/canvas.ts","webpack://frontend/../../src/util/svg.ts","webpack://frontend/../../src/shape/dom.ts","webpack://frontend/../../../src/shape/marker/symbols.ts","webpack://frontend/../../../src/shape/marker/index.ts","webpack://frontend/../../src/util/format.ts","webpack://frontend/../../src/defs/gradient.ts","webpack://frontend/../../src/defs/shadow.ts","webpack://frontend/../../src/defs/arrow.ts","webpack://frontend/../../src/defs/clip.ts","webpack://frontend/../../src/defs/pattern.ts","webpack://frontend/../../src/defs/index.ts","webpack://frontend/../../src/geometry/path.ts","webpack://frontend/../../../../src/geometry/shape/area/util.ts","webpack://frontend/../../../../src/geometry/shape/area/index.ts","webpack://frontend/../../src/geometry/area.ts","webpack://frontend/../../../../src/geometry/shape/edge/index.ts","webpack://frontend/../../src/geometry/edge.ts","webpack://frontend/../../src/geometry/heatmap.ts","webpack://frontend/../../../../src/geometry/shape/interval/util.ts","webpack://frontend/../../../../src/geometry/shape/interval/index.ts","webpack://frontend/../../../src/geometry/util/shape-size.ts","webpack://frontend/../../src/geometry/interval.ts","webpack://frontend/../../src/geometry/line.ts","webpack://frontend/../../../../src/geometry/shape/point/util.ts","webpack://frontend/../../../../src/geometry/shape/point/index.ts","webpack://frontend/../../src/geometry/point.ts","webpack://frontend/../../../../src/geometry/shape/polygon/index.ts","webpack://frontend/../../src/geometry/polygon.ts","webpack://frontend/../../src/geometry/schema.ts","webpack://frontend/../../../../src/geometry/shape/schema/index.ts","webpack://frontend/../../../../src/geometry/shape/violin/index.ts","webpack://frontend/../../src/geometry/violin.ts","webpack://frontend/../../../../src/geometry/shape/edge/util.ts","webpack://frontend/../../../../src/geometry/shape/edge/arc.ts","webpack://frontend/../../../../src/geometry/shape/edge/smooth.ts","webpack://frontend/../../../../src/geometry/shape/area/line.ts","webpack://frontend/../../../../src/geometry/shape/area/smooth.ts","webpack://frontend/../../../../src/geometry/shape/area/smooth-line.ts","webpack://frontend/../../../../src/geometry/shape/edge/vhv.ts","webpack://frontend/../../../../src/geometry/shape/interval/line.ts","webpack://frontend/../../../../src/geometry/shape/interval/tick.ts","webpack://frontend/../../../../src/geometry/shape/interval/funnel.ts","webpack://frontend/../../../../src/geometry/shape/interval/hollow-rect.ts","webpack://frontend/../../../../src/geometry/shape/interval/pyramid.ts","webpack://frontend/../../../../src/geometry/shape/line/step.ts","webpack://frontend/../../../../src/geometry/shape/schema/box.ts","webpack://frontend/../../../../src/geometry/shape/schema/candle.ts","webpack://frontend/../../../../src/geometry/shape/polygon/square.ts","webpack://frontend/../../../../src/geometry/shape/point/hollow.ts","webpack://frontend/../../../../src/geometry/shape/point/image.ts","webpack://frontend/../../../../src/geometry/shape/point/solid.ts","webpack://frontend/../../../../src/geometry/shape/violin/smooth.ts","webpack://frontend/../../../../src/geometry/shape/violin/hollow.ts","webpack://frontend/../../../src/geometry/label/interval.ts","webpack://frontend/../../../src/geometry/label/polar.ts","webpack://frontend/../../../src/geometry/label/pie.ts","webpack://frontend/../../../../src/geometry/label/layout/pie/distribute.ts","webpack://frontend/../../../../src/geometry/label/layout/pie/util.ts","webpack://frontend/../../../../src/geometry/label/layout/pie/outer.ts","webpack://frontend/../../../../src/geometry/label/layout/pie/spider.ts","webpack://frontend/../../../../src/geometry/label/layout/limit-in-canvas.ts","webpack://frontend/../../../../src/geometry/label/layout/limit-in-shape.ts","webpack://frontend/../../../../src/geometry/label/layout/overlap.ts","webpack://frontend/../../src/util/collision-detect.ts","webpack://frontend/../../../../src/geometry/label/util/createWorker.ts","webpack://frontend/../../../../src/geometry/label/layout/worker/hide-overlap.ts","webpack://frontend/../../../../src/geometry/label/layout/hide-overlap.ts","webpack://frontend/../../src/util/context.ts","webpack://frontend/../../../../src/geometry/label/layout/adjust-color.ts","webpack://frontend/../../../../src/geometry/label/layout/interval/adjust-position.ts","webpack://frontend/../../../../src/geometry/label/layout/interval/hide-overlap.ts","webpack://frontend/../../../../src/geometry/label/layout/point/adjust-position.ts","webpack://frontend/../../../../src/geometry/label/layout/path/adjust-position.ts","webpack://frontend/../../../../src/geometry/label/layout/limit-in-plot.ts","webpack://frontend/../../../src/animate/animation/fade.ts","webpack://frontend/../../../src/animate/animation/util.ts","webpack://frontend/../../../src/animate/animation/grow-in.ts","webpack://frontend/../../../src/animate/animation/path-in.ts","webpack://frontend/../../../src/animate/animation/position-update.ts","webpack://frontend/../../../src/animate/animation/scale-in.ts","webpack://frontend/../../../src/animate/animation/sector-path-update.ts","webpack://frontend/../../../src/animate/animation/wave-in.ts","webpack://frontend/../../../src/animate/animation/zoom.ts","webpack://frontend/../../src/util/facet.ts","webpack://frontend/../../src/facet/circle.ts","webpack://frontend/../../src/facet/list.ts","webpack://frontend/../../src/facet/matrix.ts","webpack://frontend/../../src/facet/mirror.ts","webpack://frontend/../../src/facet/rect.ts","webpack://frontend/../../src/facet/tree.ts","webpack://frontend/../../src/util/stat.ts","webpack://frontend/../../src/util/annotation.ts","webpack://frontend/../../../src/chart/controller/annotation.ts","webpack://frontend/../../src/util/grid.ts","webpack://frontend/../../../src/chart/controller/axis.ts","webpack://frontend/../../src/util/direction.ts","webpack://frontend/../../../src/chart/controller/legend.ts","webpack://frontend/../../../src/chart/controller/slider.ts","webpack://frontend/../../../src/chart/controller/scrollbar.ts","webpack://frontend/../../../src/interaction/action/active-region.ts","webpack://frontend/../../../../src/interaction/action/component/tooltip/geometry.ts","webpack://frontend/../../../../src/interaction/action/component/tooltip/sibling.ts","webpack://frontend/../../../../src/interaction/action/component/tooltip/ellipsis-text.ts","webpack://frontend/../../../../src/interaction/action/element/state-base.ts","webpack://frontend/../../../../src/interaction/action/element/state.ts","webpack://frontend/../../../../src/interaction/action/element/active.ts","webpack://frontend/../../../../src/interaction/action/element/link-by-color.ts","webpack://frontend/../../../../src/interaction/action/element/range-state.ts","webpack://frontend/../../../../src/interaction/action/element/range-active.ts","webpack://frontend/../../../../src/interaction/action/element/single-state.ts","webpack://frontend/../../../../src/interaction/action/element/single-active.ts","webpack://frontend/../../../../src/interaction/action/element/highlight-util.ts","webpack://frontend/../../../../src/interaction/action/element/highlight.ts","webpack://frontend/../../../../src/interaction/action/element/range-highlight.ts","webpack://frontend/../../../../src/interaction/action/element/highlight-by-color.ts","webpack://frontend/../../../../src/interaction/action/element/highlight-by-x.ts","webpack://frontend/../../../../src/interaction/action/element/single-highlight.ts","webpack://frontend/../../../../src/interaction/action/element/range-selected.ts","webpack://frontend/../../../../src/interaction/action/element/selected.ts","webpack://frontend/../../../../src/interaction/action/element/single-selected.ts","webpack://frontend/../../../../src/interaction/action/component/list-state.ts","webpack://frontend/../../../../src/interaction/action/component/list-active.ts","webpack://frontend/../../../../src/interaction/action/component/list-highlight-util.ts","webpack://frontend/../../../../src/interaction/action/component/list-highlight.ts","webpack://frontend/../../../../src/interaction/action/component/list-selected.ts","webpack://frontend/../../../../src/interaction/action/component/list-unchecked.ts","webpack://frontend/../../../../src/interaction/action/component/list-checked.ts","webpack://frontend/../../../../src/interaction/action/component/list-focus.ts","webpack://frontend/../../../../src/interaction/action/component/list-radio.ts","webpack://frontend/../../../../src/interaction/action/mask/base.ts","webpack://frontend/../../../../src/interaction/action/mask/circle.ts","webpack://frontend/../../../../src/interaction/action/mask/rect.ts","webpack://frontend/../../../../src/interaction/action/mask/dim-rect.ts","webpack://frontend/../../../../src/interaction/action/data/range-filter.ts","webpack://frontend/../../../../src/interaction/action/mask/path.ts","webpack://frontend/../../../../src/interaction/action/mask/smooth-path.ts","webpack://frontend/../../../src/interaction/action/cursor.ts","webpack://frontend/../../../../src/interaction/action/data/filter.ts","webpack://frontend/../../../../src/interaction/action/data/sibling-filter.ts","webpack://frontend/../../../../src/interaction/action/element/filter.ts","webpack://frontend/../../../../src/interaction/action/element/sibling-filter.ts","webpack://frontend/../../../../src/interaction/action/view/button.ts","webpack://frontend/../../../../src/interaction/action/view/drag.ts","webpack://frontend/../../../../src/interaction/action/view/move.ts","webpack://frontend/../../../../src/interaction/action/view/scale-transform.ts","webpack://frontend/../../../../src/interaction/action/view/scale-translate.ts","webpack://frontend/../../../../src/interaction/action/view/scale-zoom.ts","webpack://frontend/../../../../src/interaction/action/view/mousewheel-scroll.ts","webpack://frontend/../../src/utils/invariant.ts","webpack://frontend/../../../../src/interaction/action/component/axis/axis-description.ts","webpack://frontend/../../src/utils/flow.ts","webpack://frontend/../../src/utils/pick.ts","webpack://frontend/../../src/utils/template.ts","webpack://frontend/../../src/utils/dom.ts","webpack://frontend/../../src/utils/geometry.ts","webpack://frontend/../../src/utils/view.ts","webpack://frontend/../../src/utils/label.ts","webpack://frontend/../../src/utils/path.ts","webpack://frontend/../../src/utils/deep-assign.ts","webpack://frontend/../../src/utils/kebab-case.ts","webpack://frontend/../../src/utils/statistic.ts","webpack://frontend/../../src/utils/context.ts","webpack://frontend/../../src/utils/measure-text.ts","webpack://frontend/../../src/utils/number.ts","webpack://frontend/../../src/utils/data.ts","webpack://frontend/../../src/utils/padding.ts","webpack://frontend/../../src/core/global.ts","webpack://frontend/../../src/core/locale.ts","webpack://frontend/../../src/locales/en_US.ts","webpack://frontend/../../src/locales/zh_CN.ts","webpack://frontend/../../src/core/plot.ts","webpack://frontend/../../../src/utils/pattern/util.ts","webpack://frontend/../../../src/utils/pattern/dot.ts","webpack://frontend/../../../src/utils/pattern/line.ts","webpack://frontend/../../../src/utils/pattern/square.ts","webpack://frontend/../../../src/utils/pattern/index.ts","webpack://frontend/../../src/adaptor/pattern.ts","webpack://frontend/../../src/adaptor/common.ts","webpack://frontend/../../src/utils/tooltip.ts","webpack://frontend/../../../src/adaptor/geometries/base.ts","webpack://frontend/../../../src/adaptor/geometries/area.ts","webpack://frontend/../../../src/adaptor/geometries/line.ts","webpack://frontend/../../../src/adaptor/geometries/point.ts","webpack://frontend/../../../src/adaptor/geometries/interval.ts","webpack://frontend/../../../src/adaptor/geometries/polygon.ts","webpack://frontend/../../../src/adaptor/geometries/edge.ts","webpack://frontend/../../../src/adaptor/geometries/schema.ts","webpack://frontend/../../../src/adaptor/geometries/violin.ts","webpack://frontend/../../../src/plots/line/adaptor.ts","webpack://frontend/../../../src/plots/line/constants.ts","webpack://frontend/../../../../src/plots/line/interactions/marker-active.ts","webpack://frontend/../../../../src/plots/line/interactions/index.ts","webpack://frontend/../../../src/plots/line/index.ts","webpack://frontend/../../../src/utils/transform/percent.ts","webpack://frontend/../../../src/plots/area/adaptor.ts","webpack://frontend/../../../src/plots/area/constants.ts","webpack://frontend/../../../src/plots/area/index.ts","webpack://frontend/../../src/utils/conversion.ts","webpack://frontend/../../src/adaptor/conversion-tag.ts","webpack://frontend/../../src/adaptor/connected-area.ts","webpack://frontend/../../../src/interactions/actions/reset-button.ts","webpack://frontend/../../src/interactions/brush.ts","webpack://frontend/../../src/adaptor/brush.ts","webpack://frontend/../../../src/plots/column/adaptor.ts","webpack://frontend/../../../src/plots/column/constants.ts","webpack://frontend/../../../src/plots/column/index.ts","webpack://frontend/../../../src/plots/bar/adaptor.ts","webpack://frontend/../../../src/plots/bar/constants.ts","webpack://frontend/../../../src/plots/bar/index.ts","webpack://frontend/../../../src/plots/pie/contants.ts","webpack://frontend/../../../src/plots/pie/utils.ts","webpack://frontend/../../src/utils/matrix.ts","webpack://frontend/../../../../src/plots/pie/interactions/actions/legend-active.ts","webpack://frontend/../../../../src/plots/pie/interactions/util.ts","webpack://frontend/../../../../src/plots/pie/interactions/actions/statistic-active.ts","webpack://frontend/../../../../src/plots/pie/interactions/index.ts","webpack://frontend/../../../src/plots/pie/adaptor.ts","webpack://frontend/../../../src/plots/pie/index.ts","webpack://frontend/../../../src/plots/rose/adaptor.ts","webpack://frontend/../../../src/plots/rose/constant.ts","webpack://frontend/../../../src/utils/transform/word-cloud.ts","webpack://frontend/../../../src/plots/rose/index.ts","webpack://frontend/../../../src/plots/word-cloud/utils.ts","webpack://frontend/../../../src/plots/word-cloud/constant.ts","webpack://frontend/../../../src/plots/word-cloud/adaptor.ts","webpack://frontend/../../../../src/plots/word-cloud/shapes/word-cloud.ts","webpack://frontend/../../../src/plots/word-cloud/index.ts","webpack://frontend/../../../src/plots/scatter/util.ts","webpack://frontend/../../../src/plots/scatter/adaptor.ts","webpack://frontend/../../../src/plots/scatter/constant.ts","webpack://frontend/../../src/interactions/drag-move.ts","webpack://frontend/../../../src/plots/scatter/index.ts","webpack://frontend/../../../src/plots/radar/adaptor.ts","webpack://frontend/../../../../src/plots/radar/interactions/radar-tooltip-action.ts","webpack://frontend/../../../../src/plots/radar/interactions/index.ts","webpack://frontend/../../../src/plots/radar/index.ts","webpack://frontend/../../../src/plots/dual-axes/types.ts","webpack://frontend/../../../src/plots/dual-axes/constant.ts","webpack://frontend/../../../../src/plots/dual-axes/util/option.ts","webpack://frontend/../../../../src/plots/dual-axes/util/legend.ts","webpack://frontend/../../../../src/plots/dual-axes/util/geometry.ts","webpack://frontend/../../../../src/plots/dual-axes/util/render-sider.ts","webpack://frontend/../../../src/plots/dual-axes/adaptor.ts","webpack://frontend/../../../src/plots/dual-axes/index.ts","webpack://frontend/../../../src/plots/tiny-line/constants.ts","webpack://frontend/../../../src/plots/tiny-line/utils.ts","webpack://frontend/../../../src/plots/tiny-area/adaptor.ts","webpack://frontend/../../../src/plots/tiny-line/adaptor.ts","webpack://frontend/../../../src/plots/tiny-line/index.ts","webpack://frontend/../../../src/plots/tiny-column/adaptor.ts","webpack://frontend/../../../src/plots/tiny-column/constants.ts","webpack://frontend/../../../src/plots/tiny-column/index.ts","webpack://frontend/../../../src/plots/tiny-area/constants.ts","webpack://frontend/../../../src/plots/tiny-area/index.ts","webpack://frontend/../../../src/utils/transform/histogram.ts","webpack://frontend/../../../src/plots/histogram/constant.ts","webpack://frontend/../../../src/plots/histogram/adaptor.ts","webpack://frontend/../../../src/plots/histogram/index.ts","webpack://frontend/../../../src/plots/progress/constants.ts","webpack://frontend/../../../src/plots/progress/utils.ts","webpack://frontend/../../../src/plots/progress/adaptor.ts","webpack://frontend/../../../src/plots/progress/index.ts","webpack://frontend/../../../src/plots/ring-progress/adaptor.ts","webpack://frontend/../../../src/plots/ring-progress/constants.ts","webpack://frontend/../../../src/plots/ring-progress/index.ts","webpack://frontend/../../../src/plots/heatmap/adaptor.ts","webpack://frontend/../../../src/plots/heatmap/constant.ts","webpack://frontend/../../../../src/plots/heatmap/shapes/circle.ts","webpack://frontend/../../../../src/plots/heatmap/shapes/square.ts","webpack://frontend/../../../src/plots/heatmap/index.ts","webpack://frontend/../../../src/plots/box/constant.ts","webpack://frontend/../../../src/plots/box/utils.ts","webpack://frontend/../../../src/plots/box/adaptor.ts","webpack://frontend/../../../src/plots/box/index.ts","webpack://frontend/../../../src/utils/transform/quantile.ts","webpack://frontend/../../../src/plots/violin/utils.ts","webpack://frontend/../../../src/plots/violin/constant.ts","webpack://frontend/../../../src/plots/violin/adaptor.ts","webpack://frontend/../../../src/plots/violin/index.ts","webpack://frontend/../../../src/utils/color/blend.ts","webpack://frontend/../../../../src/plots/venn/layout/circleintersection.ts","webpack://frontend/../../../../src/plots/venn/layout/layout.ts","webpack://frontend/../../../../src/plots/venn/layout/diagram.ts","webpack://frontend/../../../src/plots/venn/constant.ts","webpack://frontend/../../../src/plots/venn/utils.ts","webpack://frontend/../../../src/plots/venn/shape.ts","webpack://frontend/../../../src/plots/venn/label.ts","webpack://frontend/../../../../src/plots/venn/interactions/util.ts","webpack://frontend/../../../../src/plots/venn/interactions/actions/active.ts","webpack://frontend/../../../../src/plots/venn/interactions/actions/highlight.ts","webpack://frontend/../../../../src/plots/venn/interactions/actions/selected.ts","webpack://frontend/../../../../src/plots/venn/interactions/index.ts","webpack://frontend/../../../src/plots/venn/adaptor.ts","webpack://frontend/../../../src/plots/venn/index.ts","webpack://frontend/../../../src/plots/stock/constant.ts","webpack://frontend/../../../src/plots/stock/utils.ts","webpack://frontend/../../../src/plots/stock/adaptor.ts","webpack://frontend/../../../src/plots/stock/index.ts","webpack://frontend/../../../src/plots/funnel/constant.ts","webpack://frontend/../../../../src/plots/funnel/geometries/common.ts","webpack://frontend/../../../../src/plots/funnel/geometries/basic.ts","webpack://frontend/../../../../src/plots/funnel/geometries/compare.ts","webpack://frontend/../../../../src/plots/funnel/geometries/facet.ts","webpack://frontend/../../../../src/plots/funnel/geometries/dynamic-height.ts","webpack://frontend/../../../src/plots/funnel/adaptor.ts","webpack://frontend/../../../src/plots/funnel/index.ts","webpack://frontend/../../../src/plots/liquid/utils.ts","webpack://frontend/../../../src/plots/liquid/adaptor.ts","webpack://frontend/../../../src/plots/liquid/constants.ts","webpack://frontend/../../../../src/plots/liquid/shapes/liquid.ts","webpack://frontend/../../../src/plots/liquid/index.ts","webpack://frontend/../../../src/plots/bullet/utils.ts","webpack://frontend/../../../src/plots/bullet/adaptor.ts","webpack://frontend/../../../src/plots/bullet/constant.ts","webpack://frontend/../../../src/utils/hierarchy/util.ts","webpack://frontend/../../../src/plots/bullet/index.ts","webpack://frontend/../../../src/plots/sunburst/constant.ts","webpack://frontend/../../../src/interactions/actions/drill-down.ts","webpack://frontend/./node_modules/d3-hierarchy/src/treemap/round.js","webpack://frontend/./node_modules/d3-hierarchy/src/treemap/dice.js","webpack://frontend/./node_modules/d3-hierarchy/src/partition.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/count.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/each.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/find.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/sum.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/sort.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/path.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/ancestors.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/descendants.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/leaves.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/links.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/iterator.js","webpack://frontend/./node_modules/d3-hierarchy/src/hierarchy/index.js","webpack://frontend/../../../src/utils/hierarchy/partition.ts","webpack://frontend/./node_modules/d3-hierarchy/src/cluster.js","webpack://frontend/./node_modules/d3-hierarchy/src/array.js","webpack://frontend/./node_modules/d3-hierarchy/src/pack/enclose.js","webpack://frontend/./node_modules/d3-hierarchy/src/pack/siblings.js","webpack://frontend/./node_modules/d3-hierarchy/src/accessors.js","webpack://frontend/./node_modules/d3-hierarchy/src/constant.js","webpack://frontend/./node_modules/d3-hierarchy/src/pack/index.js","webpack://frontend/./node_modules/d3-hierarchy/src/stratify.js","webpack://frontend/./node_modules/d3-hierarchy/src/tree.js","webpack://frontend/./node_modules/d3-hierarchy/src/treemap/slice.js","webpack://frontend/./node_modules/d3-hierarchy/src/treemap/squarify.js","webpack://frontend/./node_modules/d3-hierarchy/src/treemap/index.js","webpack://frontend/./node_modules/d3-hierarchy/src/treemap/binary.js","webpack://frontend/./node_modules/d3-hierarchy/src/treemap/sliceDice.js","webpack://frontend/./node_modules/d3-hierarchy/src/treemap/resquarify.js","webpack://frontend/../../../src/utils/hierarchy/treemap.ts","webpack://frontend/../../../src/plots/sunburst/utils.ts","webpack://frontend/../../../src/plots/sunburst/adaptor.ts","webpack://frontend/../../src/interactions/drill-down.ts","webpack://frontend/../../../src/plots/sunburst/index.ts","webpack://frontend/../../../src/plots/gauge/constants.ts","webpack://frontend/../../../src/plots/gauge/utils.ts","webpack://frontend/../../../src/plots/gauge/adaptor.ts","webpack://frontend/../../../../src/plots/gauge/shapes/indicator.ts","webpack://frontend/../../../../src/plots/gauge/shapes/meter-gauge.ts","webpack://frontend/../../../src/plots/gauge/index.ts","webpack://frontend/../../../src/plots/waterfall/constant.ts","webpack://frontend/../../../src/plots/waterfall/utils.ts","webpack://frontend/../../../src/plots/waterfall/shape.ts","webpack://frontend/../../../src/plots/waterfall/adaptor.ts","webpack://frontend/../../../src/plots/waterfall/index.ts","webpack://frontend/../../../src/plots/radial-bar/utils.ts","webpack://frontend/../../../src/plots/radial-bar/adaptor.ts","webpack://frontend/../../../src/plots/radial-bar/constant.ts","webpack://frontend/../../../src/plots/bidirectional-bar/constant.ts","webpack://frontend/../../../src/plots/radial-bar/index.ts","webpack://frontend/../../../src/plots/bidirectional-bar/utils.ts","webpack://frontend/../../../src/plots/bidirectional-bar/adaptor.ts","webpack://frontend/../../../src/plots/bidirectional-bar/index.ts","webpack://frontend/../../../src/plots/treemap/utils.ts","webpack://frontend/../../../src/plots/treemap/adaptor.ts","webpack://frontend/../../../src/plots/treemap/constant.ts","webpack://frontend/../../../src/plots/treemap/index.ts","webpack://frontend/../../../../src/plots/sankey/sankey/align.ts","webpack://frontend/../../../../src/plots/sankey/sankey/helper.ts","webpack://frontend/../../../../src/plots/sankey/sankey/sankey.ts","webpack://frontend/../../../src/plots/sankey/layout.ts","webpack://frontend/../../../src/plots/sankey/circle.ts","webpack://frontend/../../../src/plots/sankey/helper.ts","webpack://frontend/../../../src/plots/sankey/constant.ts","webpack://frontend/../../../src/plots/sankey/adaptor.ts","webpack://frontend/../../../../src/plots/sankey/interactions/actions/node-drag.ts","webpack://frontend/../../../../src/plots/sankey/interactions/node-draggable.ts","webpack://frontend/../../../src/plots/sankey/index.ts","webpack://frontend/../../../src/utils/transform/chord.ts","webpack://frontend/../../../src/plots/chord/constant.ts","webpack://frontend/../../../src/plots/chord/adaptor.ts","webpack://frontend/../../../src/plots/chord/index.ts","webpack://frontend/../../../src/utils/hierarchy/pack.ts","webpack://frontend/../../../src/plots/circle-packing/utils.ts","webpack://frontend/../../../src/plots/circle-packing/constant.ts","webpack://frontend/../../../src/plots/circle-packing/adaptor.ts","webpack://frontend/../../../src/plots/circle-packing/index.ts","webpack://frontend/../../src/plugin/index.ts","webpack://frontend/../../../src/plots/mix/utils.ts","webpack://frontend/../../../src/plots/mix/adaptor.ts","webpack://frontend/../../../../src/plots/mix/interactions/utils.ts","webpack://frontend/../../../../src/plots/mix/interactions/association.ts","webpack://frontend/../../../src/plots/mix/index.ts","webpack://frontend/../../../src/plots/facet/utils.ts","webpack://frontend/../../../src/plots/facet/adaptor.ts","webpack://frontend/../../../src/plots/facet/constant.ts","webpack://frontend/../src/lab.ts","webpack://frontend/../../../src/plots/facet/index.ts","webpack://frontend/./src/views/home/DashboardView.vue?e0d2"],"sourcesContent":["import { toRaw, watchEffect, unref, watch, ref } from 'vue';\nexport default function useMergedState(defaultStateValue, option) {\n  var _ref = option || {},\n      defaultValue = _ref.defaultValue,\n      _ref$value = _ref.value,\n      value = _ref$value === void 0 ? ref() : _ref$value;\n\n  var initValue = typeof defaultStateValue === 'function' ? defaultStateValue() : defaultStateValue;\n\n  if (value.value !== undefined) {\n    initValue = unref(value);\n  }\n\n  if (defaultValue !== undefined) {\n    initValue = typeof defaultValue === 'function' ? defaultValue() : defaultValue;\n  }\n\n  var innerValue = ref(initValue);\n  var mergedValue = ref(initValue);\n  watchEffect(function () {\n    var val = value.value !== undefined ? value.value : innerValue.value;\n\n    if (option.postState) {\n      val = option.postState(val);\n    }\n\n    mergedValue.value = val;\n  });\n\n  function triggerChange(newValue) {\n    var preVal = mergedValue.value;\n    innerValue.value = newValue;\n\n    if (toRaw(mergedValue.value) !== newValue && option.onChange) {\n      option.onChange(newValue, preVal);\n    }\n  } // Effect of reset value to `undefined`\n\n\n  watch(value, function () {\n    innerValue.value = value.value;\n  });\n  return [mergedValue, triggerChange];\n}","import { ref } from 'vue';\nexport default function useState(defaultStateValue) {\n  var initValue = typeof defaultStateValue === 'function' ? defaultStateValue() : defaultStateValue;\n  var innerValue = ref(initValue);\n\n  function triggerChange(newValue) {\n    innerValue.value = newValue;\n  }\n\n  return [innerValue, triggerChange];\n}","import { Col } from '../grid';\nimport { withInstall } from '../_util/type';\nexport default withInstall(Col);","import { Row } from '../grid';\nimport { withInstall } from '../_util/type';\nexport default withInstall(Row);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { createVNode as _createVNode, Fragment as _Fragment } from \"vue\";\nimport { defineComponent, computed, ref, watch } from 'vue';\nimport PropTypes from '../_util/vue-types';\nimport { filterEmpty } from '../_util/props-util';\nimport { tuple, withInstall } from '../_util/type';\nimport useConfigInject from '../_util/hooks/useConfigInject';\nimport useFlexGapSupport from '../_util/hooks/useFlexGapSupport';\nimport classNames from '../_util/classNames';\nvar spaceSize = {\n  small: 8,\n  middle: 16,\n  large: 24\n};\nexport var spaceProps = function spaceProps() {\n  return {\n    prefixCls: String,\n    size: {\n      type: [String, Number, Array]\n    },\n    direction: PropTypes.oneOf(tuple('horizontal', 'vertical')).def('horizontal'),\n    align: PropTypes.oneOf(tuple('start', 'end', 'center', 'baseline')),\n    wrap: {\n      type: Boolean,\n      default: undefined\n    }\n  };\n};\n\nfunction getNumberSize(size) {\n  return typeof size === 'string' ? spaceSize[size] : size || 0;\n}\n\nvar Space = defineComponent({\n  name: 'ASpace',\n  props: spaceProps(),\n  slots: ['split'],\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n\n    var _useConfigInject = useConfigInject('space', props),\n        prefixCls = _useConfigInject.prefixCls,\n        space = _useConfigInject.space,\n        directionConfig = _useConfigInject.direction;\n\n    var supportFlexGap = useFlexGapSupport();\n    var size = computed(function () {\n      var _a, _b, _c;\n\n      return (_c = (_a = props.size) !== null && _a !== void 0 ? _a : (_b = space.value) === null || _b === void 0 ? void 0 : _b.size) !== null && _c !== void 0 ? _c : 'small';\n    });\n    var horizontalSize = ref();\n    var verticalSize = ref();\n    watch(size, function () {\n      var _map = (Array.isArray(size.value) ? size.value : [size.value, size.value]).map(function (item) {\n        return getNumberSize(item);\n      });\n\n      var _map2 = _slicedToArray(_map, 2);\n\n      horizontalSize.value = _map2[0];\n      verticalSize.value = _map2[1];\n    }, {\n      immediate: true\n    });\n    var mergedAlign = computed(function () {\n      return props.align === undefined && props.direction === 'horizontal' ? 'center' : props.align;\n    });\n    var cn = computed(function () {\n      var _classNames;\n\n      return classNames(prefixCls.value, \"\".concat(prefixCls.value, \"-\").concat(props.direction), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls.value, \"-rtl\"), directionConfig.value === 'rtl'), _defineProperty(_classNames, \"\".concat(prefixCls.value, \"-align-\").concat(mergedAlign.value), mergedAlign.value), _classNames));\n    });\n    var marginDirection = computed(function () {\n      return directionConfig.value === 'rtl' ? 'marginLeft' : 'marginRight';\n    });\n    var style = computed(function () {\n      var gapStyle = {};\n\n      if (supportFlexGap.value) {\n        gapStyle.columnGap = \"\".concat(horizontalSize.value, \"px\");\n        gapStyle.rowGap = \"\".concat(verticalSize.value, \"px\");\n      }\n\n      return _extends(_extends({}, gapStyle), props.wrap && {\n        flexWrap: 'wrap',\n        marginBottom: \"\".concat(-verticalSize.value, \"px\")\n      });\n    });\n    return function () {\n      var _a, _b;\n\n      var wrap = props.wrap,\n          _props$direction = props.direction,\n          direction = _props$direction === void 0 ? 'horizontal' : _props$direction;\n      var items = filterEmpty((_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots));\n      var len = items.length;\n\n      if (len === 0) {\n        return null;\n      }\n\n      var split = (_b = slots.split) === null || _b === void 0 ? void 0 : _b.call(slots);\n      var itemClassName = \"\".concat(prefixCls.value, \"-item\");\n      var horizontalSizeVal = horizontalSize.value;\n      var latestIndex = len - 1;\n      return _createVNode(\"div\", {\n        \"class\": cn.value,\n        \"style\": style.value\n      }, [items.map(function (child, index) {\n        var itemStyle = {};\n\n        if (!supportFlexGap.value) {\n          if (direction === 'vertical') {\n            if (index < latestIndex) {\n              itemStyle = {\n                marginBottom: \"\".concat(horizontalSizeVal / (split ? 2 : 1), \"px\")\n              };\n            }\n          } else {\n            itemStyle = _extends(_extends({}, index < latestIndex && _defineProperty({}, marginDirection.value, \"\".concat(horizontalSizeVal / (split ? 2 : 1), \"px\"))), wrap && {\n              paddingBottom: \"\".concat(verticalSize.value, \"px\")\n            });\n          }\n        }\n\n        return _createVNode(_Fragment, null, [_createVNode(\"div\", {\n          \"class\": itemClassName,\n          \"style\": itemStyle\n        }, [child]), index < latestIndex && split && _createVNode(\"span\", {\n          \"class\": \"\".concat(itemClassName, \"-split\"),\n          \"style\": itemStyle\n        }, [split])]);\n      })]);\n    };\n  }\n});\nexport default withInstall(Space);","export default (function () {\n  if (typeof navigator === 'undefined' || typeof window === 'undefined') {\n    return false;\n  }\n\n  var agent = navigator.userAgent || navigator.vendor || window.opera;\n\n  if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(agent) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(agent === null || agent === void 0 ? void 0 : agent.substr(0, 4))) {\n    return true;\n  }\n\n  return false;\n});","// https://github.com/HarryStevens/d3-regression#readme Version 1.3.10. Copyright 2022 Harry Stevens.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = global || self, factory(global.d3 = {}));\n}(this, (function (exports) { 'use strict';\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n\n  // Adapted from vega-statistics by Jeffrey Heer\n  // License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n  // Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/points.js\n  function points(data, x, y, sort) {\n    data = data.filter(function (d, i) {\n      var u = x(d, i),\n          v = y(d, i);\n      return u != null && isFinite(u) && v != null && isFinite(v);\n    });\n\n    if (sort) {\n      data.sort(function (a, b) {\n        return x(a) - x(b);\n      });\n    }\n\n    var n = data.length,\n        X = new Float64Array(n),\n        Y = new Float64Array(n); // extract values, calculate means\n\n    var ux = 0,\n        uy = 0,\n        xv,\n        yv,\n        d;\n\n    for (var i = 0; i < n;) {\n      d = data[i];\n      X[i] = xv = +x(d, i, data);\n      Y[i] = yv = +y(d, i, data);\n      ++i;\n      ux += (xv - ux) / i;\n      uy += (yv - uy) / i;\n    } // mean center the data\n\n\n    for (var _i = 0; _i < n; ++_i) {\n      X[_i] -= ux;\n      Y[_i] -= uy;\n    }\n\n    return [X, Y, ux, uy];\n  }\n  function visitPoints(data, x, y, cb) {\n    var iterations = 0;\n\n    for (var i = 0, n = data.length; i < n; i++) {\n      var d = data[i],\n          dx = +x(d, i, data),\n          dy = +y(d, i, data);\n\n      if (dx != null && isFinite(dx) && dy != null && isFinite(dy)) {\n        cb(dx, dy, iterations++);\n      }\n    }\n  }\n\n  // return the coefficient of determination, or R squared.\n\n  function determination(data, x, y, uY, predict) {\n    var SSE = 0,\n        SST = 0;\n    visitPoints(data, x, y, function (dx, dy) {\n      var sse = dy - predict(dx),\n          sst = dy - uY;\n      SSE += sse * sse;\n      SST += sst * sst;\n    });\n    return 1 - SSE / SST;\n  }\n\n  // Returns the angle of a line in degrees.\n  function angle(line) {\n    return Math.atan2(line[1][1] - line[0][1], line[1][0] - line[0][0]) * 180 / Math.PI;\n  } // Returns the midpoint of a line.\n\n  function midpoint(line) {\n    return [(line[0][0] + line[1][0]) / 2, (line[0][1] + line[1][1]) / 2];\n  }\n\n  // returns a smooth line.\n\n  function interpose(xmin, xmax, predict) {\n    var l = Math.log(xmax - xmin) * Math.LOG10E + 1 | 0;\n    var precision = 1 * Math.pow(10, -l / 2 - 1),\n        maxIter = 1e4;\n    var points = [px(xmin), px(xmax)],\n        iter = 0;\n\n    while (find(points) && iter < maxIter) {\n    }\n\n    return points;\n\n    function px(x) {\n      return [x, predict(x)];\n    }\n\n    function find(points) {\n      iter++;\n      var n = points.length;\n      var found = false;\n\n      for (var i = 0; i < n - 1; i++) {\n        var p0 = points[i],\n            p1 = points[i + 1],\n            m = midpoint([p0, p1]),\n            mp = px(m[0]),\n            a0 = angle([p0, m]),\n            a1 = angle([p0, mp]),\n            a = Math.abs(a0 - a1);\n\n        if (a > precision) {\n          points.splice(i + 1, 0, mp);\n          found = true;\n        }\n      }\n\n      return found;\n    }\n  }\n\n  // Ordinary Least Squares from vega-statistics by Jeffrey Heer\n  // License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n  // Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/ols.js\n  function ols(uX, uY, uXY, uX2) {\n    var delta = uX2 - uX * uX,\n        slope = Math.abs(delta) < 1e-24 ? 0 : (uXY - uX * uY) / delta,\n        intercept = uY - slope * uX;\n    return [intercept, slope];\n  }\n\n  function exponential () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function exponential(data) {\n      var n = 0,\n          Y = 0,\n          YL = 0,\n          XY = 0,\n          XYL = 0,\n          X2Y = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        var ly = Math.log(dy),\n            xy = dx * dy;\n        ++n;\n        Y += (dy - Y) / n;\n        XY += (xy - XY) / n;\n        X2Y += (dx * xy - X2Y) / n;\n        YL += (dy * ly - YL) / n;\n        XYL += (xy * ly - XYL) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(XY / Y, YL / Y, XYL / Y, X2Y / Y),\n          _ols2 = _slicedToArray(_ols, 2),\n          a = _ols2[0],\n          b = _ols2[1];\n\n      a = Math.exp(a);\n\n      var fn = function fn(x) {\n        return a * Math.exp(b * x);\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.a = a;\n      out.b = b;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    exponential.domain = function (arr) {\n      return arguments.length ? (domain = arr, exponential) : domain;\n    };\n\n    exponential.x = function (fn) {\n      return arguments.length ? (x = fn, exponential) : x;\n    };\n\n    exponential.y = function (fn) {\n      return arguments.length ? (y = fn, exponential) : y;\n    };\n\n    return exponential;\n  }\n\n  function linear () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function linear(data) {\n      var n = 0,\n          X = 0,\n          // sum of x\n      Y = 0,\n          // sum of y\n      XY = 0,\n          // sum of x * y\n      X2 = 0,\n          // sum of x * x\n      xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        ++n;\n        X += (dx - X) / n;\n        Y += (dy - Y) / n;\n        XY += (dx * dy - XY) / n;\n        X2 += (dx * dx - X2) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(X, Y, XY, X2),\n          _ols2 = _slicedToArray(_ols, 2),\n          intercept = _ols2[0],\n          slope = _ols2[1],\n          fn = function fn(x) {\n        return slope * x + intercept;\n      },\n          out = [[xmin, fn(xmin)], [xmax, fn(xmax)]];\n\n      out.a = slope;\n      out.b = intercept;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    linear.domain = function (arr) {\n      return arguments.length ? (domain = arr, linear) : domain;\n    };\n\n    linear.x = function (fn) {\n      return arguments.length ? (x = fn, linear) : x;\n    };\n\n    linear.y = function (fn) {\n      return arguments.length ? (y = fn, linear) : y;\n    };\n\n    return linear;\n  }\n\n  // Returns the medium value of an array of numbers.\n  function median(arr) {\n    arr.sort(function (a, b) {\n      return a - b;\n    });\n    var i = arr.length / 2;\n    return i % 1 === 0 ? (arr[i - 1] + arr[i]) / 2 : arr[Math.floor(i)];\n  }\n\n  var maxiters = 2,\n      epsilon = 1e-12;\n  function loess () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        bandwidth = .3;\n\n    function loess(data) {\n      var _points = points(data, x, y, true),\n          _points2 = _slicedToArray(_points, 4),\n          xv = _points2[0],\n          yv = _points2[1],\n          ux = _points2[2],\n          uy = _points2[3],\n          n = xv.length,\n          bw = Math.max(2, ~~(bandwidth * n)),\n          yhat = new Float64Array(n),\n          residuals = new Float64Array(n),\n          robustWeights = new Float64Array(n).fill(1);\n\n      for (var iter = -1; ++iter <= maxiters;) {\n        var interval = [0, bw - 1];\n\n        for (var i = 0; i < n; ++i) {\n          var dx = xv[i],\n              i0 = interval[0],\n              i1 = interval[1],\n              edge = dx - xv[i0] > xv[i1] - dx ? i0 : i1;\n          var W = 0,\n              X = 0,\n              Y = 0,\n              XY = 0,\n              X2 = 0,\n              denom = 1 / Math.abs(xv[edge] - dx || 1); // Avoid singularity\n\n          for (var k = i0; k <= i1; ++k) {\n            var xk = xv[k],\n                yk = yv[k],\n                w = tricube(Math.abs(dx - xk) * denom) * robustWeights[k],\n                xkw = xk * w;\n            W += w;\n            X += xkw;\n            Y += yk * w;\n            XY += yk * xkw;\n            X2 += xk * xkw;\n          } // Linear regression fit\n\n\n          var _ols = ols(X / W, Y / W, XY / W, X2 / W),\n              _ols2 = _slicedToArray(_ols, 2),\n              a = _ols2[0],\n              b = _ols2[1];\n\n          yhat[i] = a + b * dx;\n          residuals[i] = Math.abs(yv[i] - yhat[i]);\n          updateInterval(xv, i + 1, interval);\n        }\n\n        if (iter === maxiters) {\n          break;\n        }\n\n        var medianResidual = median(residuals);\n        if (Math.abs(medianResidual) < epsilon) break;\n\n        for (var _i = 0, arg, _w; _i < n; ++_i) {\n          arg = residuals[_i] / (6 * medianResidual); // Default to epsilon (rather than zero) for large deviations\n          // Keeping weights tiny but non-zero prevents singularites\n\n          robustWeights[_i] = arg >= 1 ? epsilon : (_w = 1 - arg * arg) * _w;\n        }\n      }\n\n      return output(xv, yhat, ux, uy);\n    }\n\n    loess.bandwidth = function (bw) {\n      return arguments.length ? (bandwidth = bw, loess) : bandwidth;\n    };\n\n    loess.x = function (fn) {\n      return arguments.length ? (x = fn, loess) : x;\n    };\n\n    loess.y = function (fn) {\n      return arguments.length ? (y = fn, loess) : y;\n    };\n\n    return loess;\n  } // Weighting kernel for local regression\n\n  function tricube(x) {\n    return (x = 1 - x * x * x) * x * x;\n  } // Advance sliding window interval of nearest neighbors\n\n\n  function updateInterval(xv, i, interval) {\n    var val = xv[i],\n        left = interval[0],\n        right = interval[1] + 1;\n    if (right >= xv.length) return; // Step right if distance to new right edge is <= distance to old left edge\n    // Step when distance is equal to ensure movement over duplicate x values\n\n    while (i > left && xv[right] - val <= val - xv[left]) {\n      interval[0] = ++left;\n      interval[1] = right;\n      ++right;\n    }\n  } // Generate smoothed output points\n  // Average points with repeated x values\n\n\n  function output(xv, yhat, ux, uy) {\n    var n = xv.length,\n        out = [];\n    var i = 0,\n        cnt = 0,\n        prev = [],\n        v;\n\n    for (; i < n; ++i) {\n      v = xv[i] + ux;\n\n      if (prev[0] === v) {\n        // Average output values via online update\n        prev[1] += (yhat[i] - prev[1]) / ++cnt;\n      } else {\n        // Add new output point\n        cnt = 0;\n        prev[1] += uy;\n        prev = [v, yhat[i]];\n        out.push(prev);\n      }\n    }\n\n    prev[1] += uy;\n    return out;\n  }\n\n  function logarithmic () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        base = Math.E,\n        domain;\n\n    function logarithmic(data) {\n      var n = 0,\n          X = 0,\n          Y = 0,\n          XY = 0,\n          X2 = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity,\n          lb = Math.log(base);\n      visitPoints(data, x, y, function (dx, dy) {\n        var lx = Math.log(dx) / lb;\n        ++n;\n        X += (lx - X) / n;\n        Y += (dy - Y) / n;\n        XY += (lx * dy - XY) / n;\n        X2 += (lx * lx - X2) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(X, Y, XY, X2),\n          _ols2 = _slicedToArray(_ols, 2),\n          intercept = _ols2[0],\n          slope = _ols2[1],\n          fn = function fn(x) {\n        return slope * Math.log(x) / lb + intercept;\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.a = slope;\n      out.b = intercept;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    logarithmic.domain = function (arr) {\n      return arguments.length ? (domain = arr, logarithmic) : domain;\n    };\n\n    logarithmic.x = function (fn) {\n      return arguments.length ? (x = fn, logarithmic) : x;\n    };\n\n    logarithmic.y = function (fn) {\n      return arguments.length ? (y = fn, logarithmic) : y;\n    };\n\n    logarithmic.base = function (n) {\n      return arguments.length ? (base = n, logarithmic) : base;\n    };\n\n    return logarithmic;\n  }\n\n  function quad () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function quadratic(data) {\n      var _points = points(data, x, y),\n          _points2 = _slicedToArray(_points, 4),\n          xv = _points2[0],\n          yv = _points2[1],\n          ux = _points2[2],\n          uy = _points2[3],\n          n = xv.length;\n\n      var X2 = 0,\n          X3 = 0,\n          X4 = 0,\n          XY = 0,\n          X2Y = 0,\n          i,\n          dx,\n          dy,\n          x2;\n\n      for (i = 0; i < n;) {\n        dx = xv[i];\n        dy = yv[i++];\n        x2 = dx * dx;\n        X2 += (x2 - X2) / i;\n        X3 += (x2 * dx - X3) / i;\n        X4 += (x2 * x2 - X4) / i;\n        XY += (dx * dy - XY) / i;\n        X2Y += (x2 * dy - X2Y) / i;\n      }\n\n      var Y = 0,\n          n0 = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        n0++;\n        Y += (dy - Y) / n0;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var X2X2 = X4 - X2 * X2,\n          d = X2 * X2X2 - X3 * X3,\n          a = (X2Y * X2 - XY * X3) / d,\n          b = (XY * X2X2 - X2Y * X3) / d,\n          c = -a * X2,\n          fn = function fn(x) {\n        x = x - ux;\n        return a * x * x + b * x + c + uy;\n      };\n\n      var out = interpose(xmin, xmax, fn);\n      out.a = a;\n      out.b = b - 2 * a * ux;\n      out.c = c - b * ux + a * ux * ux + uy;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    quadratic.domain = function (arr) {\n      return arguments.length ? (domain = arr, quadratic) : domain;\n    };\n\n    quadratic.x = function (fn) {\n      return arguments.length ? (x = fn, quadratic) : x;\n    };\n\n    quadratic.y = function (fn) {\n      return arguments.length ? (y = fn, quadratic) : y;\n    };\n\n    return quadratic;\n  }\n\n  // Source: https://github.com/Tom-Alexander/regression-js/blob/master/src/regression.js#L246\n  // License: https://github.com/Tom-Alexander/regression-js/blob/master/LICENSE\n  // ...with ideas from vega-statistics by Jeffrey Heer\n  // Source: https://github.com/vega/vega/blob/f21cb8792b4e0cbe2b1a3fd44b0f5db370dbaadb/packages/vega-statistics/src/regression/poly.js\n  // License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n\n  function polynomial () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        order = 3,\n        domain;\n\n    function polynomial(data) {\n      // Use more efficient methods for lower orders\n      if (order === 1) {\n        var o = linear().x(x).y(y).domain(domain)(data);\n        o.coefficients = [o.b, o.a];\n        delete o.a;\n        delete o.b;\n        return o;\n      }\n\n      if (order === 2) {\n        var _o = quad().x(x).y(y).domain(domain)(data);\n\n        _o.coefficients = [_o.c, _o.b, _o.a];\n        delete _o.a;\n        delete _o.b;\n        delete _o.c;\n        return _o;\n      }\n\n      var _points = points(data, x, y),\n          _points2 = _slicedToArray(_points, 4),\n          xv = _points2[0],\n          yv = _points2[1],\n          ux = _points2[2],\n          uy = _points2[3],\n          n = xv.length,\n          lhs = [],\n          rhs = [],\n          k = order + 1;\n\n      var Y = 0,\n          n0 = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        ++n0;\n        Y += (dy - Y) / n0;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n      var i, j, l, v, c;\n\n      for (i = 0; i < k; ++i) {\n        for (l = 0, v = 0; l < n; ++l) {\n          v += Math.pow(xv[l], i) * yv[l];\n        }\n\n        lhs.push(v);\n        c = new Float64Array(k);\n\n        for (j = 0; j < k; ++j) {\n          for (l = 0, v = 0; l < n; ++l) {\n            v += Math.pow(xv[l], i + j);\n          }\n\n          c[j] = v;\n        }\n\n        rhs.push(c);\n      }\n\n      rhs.push(lhs);\n\n      var coef = gaussianElimination(rhs),\n          fn = function fn(x) {\n        x -= ux;\n        var y = uy + coef[0] + coef[1] * x + coef[2] * x * x;\n\n        for (i = 3; i < k; ++i) {\n          y += coef[i] * Math.pow(x, i);\n        }\n\n        return y;\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.coefficients = uncenter(k, coef, -ux, uy);\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    polynomial.domain = function (arr) {\n      return arguments.length ? (domain = arr, polynomial) : domain;\n    };\n\n    polynomial.x = function (fn) {\n      return arguments.length ? (x = fn, polynomial) : x;\n    };\n\n    polynomial.y = function (fn) {\n      return arguments.length ? (y = fn, polynomial) : y;\n    };\n\n    polynomial.order = function (n) {\n      return arguments.length ? (order = n, polynomial) : order;\n    };\n\n    return polynomial;\n  }\n\n  function uncenter(k, a, x, y) {\n    var z = Array(k);\n    var i, j, v, c; // initialize to zero\n\n    for (i = 0; i < k; ++i) {\n      z[i] = 0;\n    } // polynomial expansion\n\n\n    for (i = k - 1; i >= 0; --i) {\n      v = a[i];\n      c = 1;\n      z[i] += v;\n\n      for (j = 1; j <= i; ++j) {\n        c *= (i + 1 - j) / j; // binomial coefficent\n\n        z[i - j] += v * Math.pow(x, j) * c;\n      }\n    } // bias term\n\n\n    z[0] += y;\n    return z;\n  } // Given an array for a two-dimensional matrix and the polynomial order,\n  // solve A * x = b using Gaussian elimination.\n\n\n  function gaussianElimination(matrix) {\n    var n = matrix.length - 1,\n        coef = [];\n    var i, j, k, r, t;\n\n    for (i = 0; i < n; ++i) {\n      r = i; // max row\n\n      for (j = i + 1; j < n; ++j) {\n        if (Math.abs(matrix[i][j]) > Math.abs(matrix[i][r])) {\n          r = j;\n        }\n      }\n\n      for (k = i; k < n + 1; ++k) {\n        t = matrix[k][i];\n        matrix[k][i] = matrix[k][r];\n        matrix[k][r] = t;\n      }\n\n      for (j = i + 1; j < n; ++j) {\n        for (k = n; k >= i; k--) {\n          matrix[k][j] -= matrix[k][i] * matrix[i][j] / matrix[i][i];\n        }\n      }\n    }\n\n    for (j = n - 1; j >= 0; --j) {\n      t = 0;\n\n      for (k = j + 1; k < n; ++k) {\n        t += matrix[k][j] * coef[k];\n      }\n\n      coef[j] = (matrix[n][j] - t) / matrix[j][j];\n    }\n\n    return coef;\n  }\n\n  function power () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function power(data) {\n      var n = 0,\n          X = 0,\n          Y = 0,\n          XY = 0,\n          X2 = 0,\n          YS = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        var lx = Math.log(dx),\n            ly = Math.log(dy);\n        ++n;\n        X += (lx - X) / n;\n        Y += (ly - Y) / n;\n        XY += (lx * ly - XY) / n;\n        X2 += (lx * lx - X2) / n;\n        YS += (dy - YS) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(X, Y, XY, X2),\n          _ols2 = _slicedToArray(_ols, 2),\n          a = _ols2[0],\n          b = _ols2[1];\n\n      a = Math.exp(a);\n\n      var fn = function fn(x) {\n        return a * Math.pow(x, b);\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.a = a;\n      out.b = b;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, YS, fn);\n      return out;\n    }\n\n    power.domain = function (arr) {\n      return arguments.length ? (domain = arr, power) : domain;\n    };\n\n    power.x = function (fn) {\n      return arguments.length ? (x = fn, power) : x;\n    };\n\n    power.y = function (fn) {\n      return arguments.length ? (y = fn, power) : y;\n    };\n\n    return power;\n  }\n\n  exports.regressionExp = exponential;\n  exports.regressionLinear = linear;\n  exports.regressionLoess = loess;\n  exports.regressionLog = logarithmic;\n  exports.regressionPoly = polynomial;\n  exports.regressionPow = power;\n  exports.regressionQuad = quad;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (factory((global.fmin = global.fmin || {})));\n}(this, function (exports) { 'use strict';\n\n    /** finds the zeros of a function, given two starting points (which must\n     * have opposite signs */\n    function bisect(f, a, b, parameters) {\n        parameters = parameters || {};\n        var maxIterations = parameters.maxIterations || 100,\n            tolerance = parameters.tolerance || 1e-10,\n            fA = f(a),\n            fB = f(b),\n            delta = b - a;\n\n        if (fA * fB > 0) {\n            throw \"Initial bisect points must have opposite signs\";\n        }\n\n        if (fA === 0) return a;\n        if (fB === 0) return b;\n\n        for (var i = 0; i < maxIterations; ++i) {\n            delta /= 2;\n            var mid = a + delta,\n                fMid = f(mid);\n\n            if (fMid * fA >= 0) {\n                a = mid;\n            }\n\n            if ((Math.abs(delta) < tolerance) || (fMid === 0)) {\n                return mid;\n            }\n        }\n        return a + delta;\n    }\n\n    // need some basic operations on vectors, rather than adding a dependency,\n    // just define here\n    function zeros(x) { var r = new Array(x); for (var i = 0; i < x; ++i) { r[i] = 0; } return r; }\n    function zerosM(x,y) { return zeros(x).map(function() { return zeros(y); }); }\n\n    function dot(a, b) {\n        var ret = 0;\n        for (var i = 0; i < a.length; ++i) {\n            ret += a[i] * b[i];\n        }\n        return ret;\n    }\n\n    function norm2(a)  {\n        return Math.sqrt(dot(a, a));\n    }\n\n    function scale(ret, value, c) {\n        for (var i = 0; i < value.length; ++i) {\n            ret[i] = value[i] * c;\n        }\n    }\n\n    function weightedSum(ret, w1, v1, w2, v2) {\n        for (var j = 0; j < ret.length; ++j) {\n            ret[j] = w1 * v1[j] + w2 * v2[j];\n        }\n    }\n\n    /** minimizes a function using the downhill simplex method */\n    function nelderMead(f, x0, parameters) {\n        parameters = parameters || {};\n\n        var maxIterations = parameters.maxIterations || x0.length * 200,\n            nonZeroDelta = parameters.nonZeroDelta || 1.05,\n            zeroDelta = parameters.zeroDelta || 0.001,\n            minErrorDelta = parameters.minErrorDelta || 1e-6,\n            minTolerance = parameters.minErrorDelta || 1e-5,\n            rho = (parameters.rho !== undefined) ? parameters.rho : 1,\n            chi = (parameters.chi !== undefined) ? parameters.chi : 2,\n            psi = (parameters.psi !== undefined) ? parameters.psi : -0.5,\n            sigma = (parameters.sigma !== undefined) ? parameters.sigma : 0.5,\n            maxDiff;\n\n        // initialize simplex.\n        var N = x0.length,\n            simplex = new Array(N + 1);\n        simplex[0] = x0;\n        simplex[0].fx = f(x0);\n        simplex[0].id = 0;\n        for (var i = 0; i < N; ++i) {\n            var point = x0.slice();\n            point[i] = point[i] ? point[i] * nonZeroDelta : zeroDelta;\n            simplex[i+1] = point;\n            simplex[i+1].fx = f(point);\n            simplex[i+1].id = i+1;\n        }\n\n        function updateSimplex(value) {\n            for (var i = 0; i < value.length; i++) {\n                simplex[N][i] = value[i];\n            }\n            simplex[N].fx = value.fx;\n        }\n\n        var sortOrder = function(a, b) { return a.fx - b.fx; };\n\n        var centroid = x0.slice(),\n            reflected = x0.slice(),\n            contracted = x0.slice(),\n            expanded = x0.slice();\n\n        for (var iteration = 0; iteration < maxIterations; ++iteration) {\n            simplex.sort(sortOrder);\n\n            if (parameters.history) {\n                // copy the simplex (since later iterations will mutate) and\n                // sort it to have a consistent order between iterations\n                var sortedSimplex = simplex.map(function (x) {\n                    var state = x.slice();\n                    state.fx = x.fx;\n                    state.id = x.id;\n                    return state;\n                });\n                sortedSimplex.sort(function(a,b) { return a.id - b.id; });\n\n                parameters.history.push({x: simplex[0].slice(),\n                                         fx: simplex[0].fx,\n                                         simplex: sortedSimplex});\n            }\n\n            maxDiff = 0;\n            for (i = 0; i < N; ++i) {\n                maxDiff = Math.max(maxDiff, Math.abs(simplex[0][i] - simplex[1][i]));\n            }\n\n            if ((Math.abs(simplex[0].fx - simplex[N].fx) < minErrorDelta) &&\n                (maxDiff < minTolerance)) {\n                break;\n            }\n\n            // compute the centroid of all but the worst point in the simplex\n            for (i = 0; i < N; ++i) {\n                centroid[i] = 0;\n                for (var j = 0; j < N; ++j) {\n                    centroid[i] += simplex[j][i];\n                }\n                centroid[i] /= N;\n            }\n\n            // reflect the worst point past the centroid  and compute loss at reflected\n            // point\n            var worst = simplex[N];\n            weightedSum(reflected, 1+rho, centroid, -rho, worst);\n            reflected.fx = f(reflected);\n\n            // if the reflected point is the best seen, then possibly expand\n            if (reflected.fx < simplex[0].fx) {\n                weightedSum(expanded, 1+chi, centroid, -chi, worst);\n                expanded.fx = f(expanded);\n                if (expanded.fx < reflected.fx) {\n                    updateSimplex(expanded);\n                }  else {\n                    updateSimplex(reflected);\n                }\n            }\n\n            // if the reflected point is worse than the second worst, we need to\n            // contract\n            else if (reflected.fx >= simplex[N-1].fx) {\n                var shouldReduce = false;\n\n                if (reflected.fx > worst.fx) {\n                    // do an inside contraction\n                    weightedSum(contracted, 1+psi, centroid, -psi, worst);\n                    contracted.fx = f(contracted);\n                    if (contracted.fx < worst.fx) {\n                        updateSimplex(contracted);\n                    } else {\n                        shouldReduce = true;\n                    }\n                } else {\n                    // do an outside contraction\n                    weightedSum(contracted, 1-psi * rho, centroid, psi*rho, worst);\n                    contracted.fx = f(contracted);\n                    if (contracted.fx < reflected.fx) {\n                        updateSimplex(contracted);\n                    } else {\n                        shouldReduce = true;\n                    }\n                }\n\n                if (shouldReduce) {\n                    // if we don't contract here, we're done\n                    if (sigma >= 1) break;\n\n                    // do a reduction\n                    for (i = 1; i < simplex.length; ++i) {\n                        weightedSum(simplex[i], 1 - sigma, simplex[0], sigma, simplex[i]);\n                        simplex[i].fx = f(simplex[i]);\n                    }\n                }\n            } else {\n                updateSimplex(reflected);\n            }\n        }\n\n        simplex.sort(sortOrder);\n        return {fx : simplex[0].fx,\n                x : simplex[0]};\n    }\n\n    /// searches along line 'pk' for a point that satifies the wolfe conditions\n    /// See 'Numerical Optimization' by Nocedal and Wright p59-60\n    /// f : objective function\n    /// pk : search direction\n    /// current: object containing current gradient/loss\n    /// next: output: contains next gradient/loss\n    /// returns a: step size taken\n    function wolfeLineSearch(f, pk, current, next, a, c1, c2) {\n        var phi0 = current.fx, phiPrime0 = dot(current.fxprime, pk),\n            phi = phi0, phi_old = phi0,\n            phiPrime = phiPrime0,\n            a0 = 0;\n\n        a = a || 1;\n        c1 = c1 || 1e-6;\n        c2 = c2 || 0.1;\n\n        function zoom(a_lo, a_high, phi_lo) {\n            for (var iteration = 0; iteration < 16; ++iteration) {\n                a = (a_lo + a_high)/2;\n                weightedSum(next.x, 1.0, current.x, a, pk);\n                phi = next.fx = f(next.x, next.fxprime);\n                phiPrime = dot(next.fxprime, pk);\n\n                if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                    (phi >= phi_lo)) {\n                    a_high = a;\n\n                } else  {\n                    if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                        return a;\n                    }\n\n                    if (phiPrime * (a_high - a_lo) >=0) {\n                        a_high = a_lo;\n                    }\n\n                    a_lo = a;\n                    phi_lo = phi;\n                }\n            }\n\n            return 0;\n        }\n\n        for (var iteration = 0; iteration < 10; ++iteration) {\n            weightedSum(next.x, 1.0, current.x, a, pk);\n            phi = next.fx = f(next.x, next.fxprime);\n            phiPrime = dot(next.fxprime, pk);\n            if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                (iteration && (phi >= phi_old))) {\n                return zoom(a0, a, phi_old);\n            }\n\n            if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                return a;\n            }\n\n            if (phiPrime >= 0 ) {\n                return zoom(a, a0, phi);\n            }\n\n            phi_old = phi;\n            a0 = a;\n            a *= 2;\n        }\n\n        return a;\n    }\n\n    function conjugateGradient(f, initial, params) {\n        // allocate all memory up front here, keep out of the loop for perfomance\n        // reasons\n        var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            yk = initial.slice(),\n            pk, temp,\n            a = 1,\n            maxIterations;\n\n        params = params || {};\n        maxIterations = params.maxIterations || initial.length * 20;\n\n        current.fx = f(current.x, current.fxprime);\n        pk = current.fxprime.slice();\n        scale(pk, current.fxprime,-1);\n\n        for (var i = 0; i < maxIterations; ++i) {\n            a = wolfeLineSearch(f, pk, current, next, a);\n\n            // todo: history in wrong spot?\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice(),\n                                     alpha: a});\n            }\n\n            if (!a) {\n                // faiiled to find point that satifies wolfe conditions.\n                // reset direction for next iteration\n                scale(pk, current.fxprime, -1);\n\n            } else {\n                // update direction using PolakRibiere CG method\n                weightedSum(yk, 1, next.fxprime, -1, current.fxprime);\n\n                var delta_k = dot(current.fxprime, current.fxprime),\n                    beta_k = Math.max(0, dot(yk, next.fxprime) / delta_k);\n\n                weightedSum(pk, beta_k, pk, -1, next.fxprime);\n\n                temp = current;\n                current = next;\n                next = temp;\n            }\n\n            if (norm2(current.fxprime) <= 1e-5) {\n                break;\n            }\n        }\n\n        if (params.history) {\n            params.history.push({x: current.x.slice(),\n                                 fx: current.fx,\n                                 fxprime: current.fxprime.slice(),\n                                 alpha: a});\n        }\n\n        return current;\n    }\n\n    function gradientDescent(f, initial, params) {\n        params = params || {};\n        var maxIterations = params.maxIterations || initial.length * 100,\n            learnRate = params.learnRate || 0.001,\n            current = {x: initial.slice(), fx: 0, fxprime: initial.slice()};\n\n        for (var i = 0; i < maxIterations; ++i) {\n            current.fx = f(current.x, current.fxprime);\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice()});\n            }\n\n            weightedSum(current.x, 1, current.x, -learnRate, current.fxprime);\n            if (norm2(current.fxprime) <= 1e-5) {\n                break;\n            }\n        }\n\n        return current;\n    }\n\n    function gradientDescentLineSearch(f, initial, params) {\n        params = params || {};\n        var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            maxIterations = params.maxIterations || initial.length * 100,\n            learnRate = params.learnRate || 1,\n            pk = initial.slice(),\n            c1 = params.c1 || 1e-3,\n            c2 = params.c2 || 0.1,\n            temp,\n            functionCalls = [];\n\n        if (params.history) {\n            // wrap the function call to track linesearch samples\n            var inner = f;\n            f = function(x, fxprime) {\n                functionCalls.push(x.slice());\n                return inner(x, fxprime);\n            };\n        }\n\n        current.fx = f(current.x, current.fxprime);\n        for (var i = 0; i < maxIterations; ++i) {\n            scale(pk, current.fxprime, -1);\n            learnRate = wolfeLineSearch(f, pk, current, next, learnRate, c1, c2);\n\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice(),\n                                     functionCalls: functionCalls,\n                                     learnRate: learnRate,\n                                     alpha: learnRate});\n                functionCalls = [];\n            }\n\n\n            temp = current;\n            current = next;\n            next = temp;\n\n            if ((learnRate === 0) || (norm2(current.fxprime) < 1e-5)) break;\n        }\n\n        return current;\n    }\n\n    exports.bisect = bisect;\n    exports.nelderMead = nelderMead;\n    exports.conjugateGradient = conjugateGradient;\n    exports.gradientDescent = gradientDescent;\n    exports.gradientDescentLineSearch = gradientDescentLineSearch;\n    exports.zeros = zeros;\n    exports.zerosM = zerosM;\n    exports.norm2 = norm2;\n    exports.weightedSum = weightedSum;\n    exports.scale = scale;\n\n}));","'use strict';\n\nvar self = module.exports;\n\nmodule.exports.isNumber = function (x) {\n  return (typeof x === 'number');\n};\n\nmodule.exports.findMin = function (arr) {\n  if (arr.length === 0) {\n    return Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMax = function (arr) {\n  if (arr.length === 0) {\n    return -Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMinMulti = function (arr) {\n  var curr = self.findMin(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, self.findMin(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.findMaxMulti = function (arr) {\n  var curr = self.findMax(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, self.findMax(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.inside = function (min, max, x) {\n  return (min <= x) && (x <= max);\n};\n","'use strict';\n\nvar DEFAULT_SIZE = 50;\nvar DEFAULT_WIDTH = 2;\n\nvar LN_2 = Math.log(2);\nvar self = module.exports;\n\nvar helper = require('./helper');\n\n// Triangle\nfunction kernel(x) {\n  return 1 - Math.abs(x);\n}\n\n/**\n * Get min and max value for the pdf, covering all arr data range while respecting options' data\n * @param arr\n * @param options\n * @returns {*}\n */\nmodule.exports.getUnifiedMinMax = function (arr, options) {\n  return self.getUnifiedMinMaxMulti([arr], options);\n};\n\nmodule.exports.getUnifiedMinMaxMulti = function (arrMulti, options) {\n  options = options || {};\n\n  var relaxMin = false;\n  var relaxMax = false;\n\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var min = helper.isNumber(options.min) ? options.min : (relaxMin = true, helper.findMinMulti(arrMulti));\n  var max = helper.isNumber(options.max) ? options.max : (relaxMax = true, helper.findMaxMulti(arrMulti));\n\n  var range = max - min;\n  var step = range / (size - 1);\n\n  // Relax?\n  if (relaxMin) {\n    min = min - 2 * width * step;\n  }\n  if (relaxMax) {\n    max = max + 2 * width * step;\n  }\n\n  return {\n    min: min,\n    max: max\n  };\n};\n\nmodule.exports.create = function (arr, options) {\n  options = options || {};\n\n  if (!arr || (arr.length === 0)) {\n    return [];\n  }\n\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var normalizedMinMax = self.getUnifiedMinMax(arr, {\n    size: size,\n    width: width,\n    min: options.min,\n    max: options.max\n  });\n\n  var min = normalizedMinMax.min;\n  var max = normalizedMinMax.max;\n\n  var range = max - min;\n  var step = range / (size - 1);\n  if (range === 0) {\n    // Special case...\n    return [{x: min, y: 1}];\n  }\n\n  // Good to go\n\n  var buckets = [];\n  for (var i = 0; i < size; i++) {\n    buckets.push({\n      x: min + i * step,\n      y: 0\n    });\n  }\n\n  var xToBucket = function (x) {\n    return Math.floor((x - min) / step);\n  };\n\n  var partialArea = generatePartialAreas(kernel, width);\n  var fullArea = partialArea[width];\n  var c = partialArea[width-1] - partialArea[width-2];\n\n  var initalValue = 0;\n  arr.forEach(function (x) {\n    var bucket = xToBucket(x);\n\n    // Totally outside?\n    if ((bucket + width < 0) || (bucket - width >= buckets.length)) {\n      return;\n    }\n\n    var start = Math.max(bucket - width, 0);\n    var mid = bucket;\n    var end = Math.min(bucket + width, buckets.length - 1);\n\n    var leftBlockCount = start - (bucket - width);\n    var rightBlockCount = (bucket + width) - end;\n    var spilledAreaLeft = partialArea[-width-1 + leftBlockCount] || 0;\n    var spilledAreaRight = partialArea[-width-1 + rightBlockCount] || 0;\n    var weight = fullArea / (fullArea - spilledAreaLeft - spilledAreaRight);\n\n    if (leftBlockCount > 0) {\n      initalValue += weight * (leftBlockCount - 1) * c;\n    }\n\n    // Add grads\n    var startGradPos = Math.max(0, bucket-width+1);\n    if (helper.inside(0, buckets.length-1, startGradPos)) {\n      buckets[startGradPos].y += weight * 1 * c;\n    }\n    if (helper.inside(0, buckets.length-1, mid + 1)) {\n      buckets[mid + 1].y -= weight * 2 * c;\n    }\n    if (helper.inside(0, buckets.length-1, end + 1)) {\n      buckets[end + 1].y += weight * 1 * c;\n    }\n  });\n\n  var accumulator = initalValue;\n  var gradAccumulator = 0;\n  var area = 0;\n  buckets.forEach(function (bucket) {\n    gradAccumulator += bucket.y;\n    accumulator += gradAccumulator;\n\n    bucket.y = accumulator;\n    area += accumulator;\n  });\n\n  // Normalize\n  if (area > 0) {\n    buckets.forEach(function (bucket) {\n      bucket.y /= area;\n    });\n  }\n\n  return buckets;\n};\n\nfunction generatePartialAreas(kernel, width) {\n  var partialAreas = {};\n\n  var accumulator = 0;\n  for (var i = -width; i <= width; i++) {\n    accumulator += kernel(i/width);\n    partialAreas[i] = accumulator;\n  }\n\n  return partialAreas;\n}\n\nmodule.exports.getExpectedValueFromPdf = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var expected = 0;\n\n  pdf.forEach(function (obj) {\n    expected += obj.x * obj.y;\n  });\n\n  return expected;\n};\n\nmodule.exports.getXWithLeftTailArea = function (pdf, area) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var accumulator = 0;\n  var last = 0;\n  for (var i = 0; i < pdf.length; i++) {\n    last = i;\n    accumulator += pdf[i].y;\n\n    if (accumulator >= area) {\n      break;\n    }\n  }\n\n  return pdf[last].x;\n};\n\nmodule.exports.getPerplexity = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var entropy = 0;\n  pdf.forEach(function (obj) {\n    var ln = Math.log(obj.y);\n\n    if (isFinite(ln)) {\n      entropy += obj.y * ln;\n    }\n  });\n  entropy = -entropy / LN_2;\n\n  return Math.pow(2, entropy);\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SensorTabIndex = exports.SensorClassName = exports.SizeSensorId = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar SizeSensorId = 'size-sensor-id';\nexports.SizeSensorId = SizeSensorId;\nvar SensorClassName = 'size-sensor-object';\nexports.SensorClassName = SensorClassName;\nvar SensorTabIndex = '-1';\nexports.SensorTabIndex = SensorTabIndex;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar _default = function _default(fn) {\n  var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 60;\n  var timer = null;\n  return function () {\n    var _this = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    clearTimeout(timer);\n    timer = setTimeout(function () {\n      fn.apply(_this, args);\n    }, delay);\n  };\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar id = 1;\n/**\n * generate unique id in application\n * @return {string}\n */\n\nvar _default = function _default() {\n  return \"\".concat(id++);\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ver = exports.clear = exports.bind = void 0;\n\nvar _sensorPool = require(\"./sensorPool\");\n\n/**\n * Created by hustcc on 18/6/9.[]\n * Contract: i@hust.cc\n */\n\n/**\n * bind an element with resize callback function\n * @param {*} element\n * @param {*} cb\n */\nvar bind = function bind(element, cb) {\n  var sensor = (0, _sensorPool.getSensor)(element); // listen with callback\n\n  sensor.bind(cb); // return unbind function\n\n  return function () {\n    sensor.unbind(cb);\n  };\n};\n/**\n * clear all the listener and sensor of an element\n * @param element\n */\n\n\nexports.bind = bind;\n\nvar clear = function clear(element) {\n  var sensor = (0, _sensorPool.getSensor)(element);\n  (0, _sensorPool.removeSensor)(sensor);\n};\n\nexports.clear = clear;\nvar ver = \"1.0.1\";\nexports.ver = ver;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removeSensor = exports.getSensor = void 0;\n\nvar _id = _interopRequireDefault(require(\"./id\"));\n\nvar _sensors = require(\"./sensors\");\n\nvar _constant = require(\"./constant\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\n/**\n * all the sensor objects.\n * sensor pool\n */\nvar Sensors = {};\n/**\n * get one sensor\n * @param element\n * @returns {*}\n */\n\nvar getSensor = function getSensor(element) {\n  var sensorId = element.getAttribute(_constant.SizeSensorId); // 1. if the sensor exists, then use it\n\n  if (sensorId && Sensors[sensorId]) {\n    return Sensors[sensorId];\n  } // 2. not exist, then create one\n\n\n  var newId = (0, _id[\"default\"])();\n  element.setAttribute(_constant.SizeSensorId, newId);\n  var sensor = (0, _sensors.createSensor)(element); // add sensor into pool\n\n  Sensors[newId] = sensor;\n  return sensor;\n};\n/**\n *  sensor\n * @param sensor\n */\n\n\nexports.getSensor = getSensor;\n\nvar removeSensor = function removeSensor(sensor) {\n  var sensorId = sensor.element.getAttribute(_constant.SizeSensorId); // remove attribute\n\n  sensor.element.removeAttribute(_constant.SizeSensorId); // remove event, dom of the sensor used\n\n  sensor.destroy(); // exist, then remove from pool\n\n  if (sensorId && Sensors[sensorId]) {\n    delete Sensors[sensorId];\n  }\n};\n\nexports.removeSensor = removeSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _object = require(\"./object\");\n\nvar _resizeObserver = require(\"./resizeObserver\");\n\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\n\n/**\n * sensor strategies\n */\n// export const createSensor = createObjectSensor;\nvar createSensor = typeof ResizeObserver !== 'undefined' ? _resizeObserver.createSensor : _object.createSensor;\nexports.createSensor = createSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\n\nvar _constant = require(\"../constant\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar createSensor = function createSensor(element) {\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * create object DOM of sensor\n   * @returns {HTMLObjectElement}\n   */\n\n  var newSensor = function newSensor() {\n    // adjust style\n    if (getComputedStyle(element).position === 'static') {\n      element.style.position = 'relative';\n    }\n\n    var obj = document.createElement('object');\n\n    obj.onload = function () {\n      obj.contentDocument.defaultView.addEventListener('resize', resizeListener); //  resize\n\n      resizeListener();\n    };\n\n    obj.style.display = 'block';\n    obj.style.position = 'absolute';\n    obj.style.top = '0';\n    obj.style.left = '0';\n    obj.style.height = '100%';\n    obj.style.width = '100%';\n    obj.style.overflow = 'hidden';\n    obj.style.pointerEvents = 'none';\n    obj.style.zIndex = '-1';\n    obj.style.opacity = '0';\n    obj.setAttribute('class', _constant.SensorClassName);\n    obj.setAttribute('tabindex', _constant.SensorTabIndex);\n    obj.type = 'text/html'; // append into dom\n\n    element.appendChild(obj); // for ie, should set data attribute delay, or will be white screen\n\n    obj.data = 'about:blank';\n    return obj;\n  };\n  /**\n   * trigger listeners\n   */\n\n\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all listener\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * listen with one callback function\n   * @param cb\n   */\n\n  var bind = function bind(cb) {\n    // if not exist sensor, then create one\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * destroy all\n   */\n\n\n  var destroy = function destroy() {\n    if (sensor && sensor.parentNode) {\n      if (sensor.contentDocument) {\n        // remote event\n        sensor.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n      } // remove dom\n\n\n      sensor.parentNode.removeChild(sensor); // initial variable\n\n      sensor = undefined;\n      listeners = [];\n    }\n  };\n  /**\n   * cancel listener bind\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // no listener, and sensor is exist\n    // then destroy the sensor\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\n\nexports.createSensor = createSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\nvar createSensor = function createSensor(element) {\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * trigger listeners\n   */\n\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * create ResizeObserver sensor\n   * @returns\n   */\n\n  var newSensor = function newSensor() {\n    var s = new ResizeObserver(resizeListener); // listen element\n\n    s.observe(element); // trigger once\n\n    resizeListener();\n    return s;\n  };\n  /**\n   * listen with callback\n   * @param cb\n   */\n\n\n  var bind = function bind(cb) {\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * destroy\n   */\n\n\n  var destroy = function destroy() {\n    sensor.disconnect();\n    listeners = [];\n    sensor = undefined;\n  };\n  /**\n   * cancel bind\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // no listener, and sensor is exist\n    // then destroy the sensor\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\n\nexports.createSensor = createSensor;","import axios from \"axios\";\r\nimport store from \"@/store\";\r\nimport Cookies from \"js-cookie\";\r\n\r\n\r\naxios.defaults.baseURL = 'https://192.168.1.10/api/kawasaki/';\r\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded;charset=UTF-8';\r\naxios.defaults.headers.post['X-CSRFToken'] = Cookies.get('csrftoken') || '';\r\n\r\naxios.interceptors.request.use(\r\n  config => {\r\n    const token = store.getters.getToken;\r\n    if (token) {\r\n      config.headers.Authorization = `Token ${store.getters.getToken}`;\r\n    }\r\n    return config;\r\n  },\r\n  error => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nfunction download(response) {\r\n  const blob = new Blob([response.data], { type: \"text/csv\" });\r\n  const fileName = \"kawasaki_export.zip\";\r\n  if (\"download\" in document.createElement(\"a\")) {\r\n    const a = document.createElement(\"a\");\r\n    a.download = fileName;\r\n    a.href = window.URL.createObjectURL(blob);\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    URL.revokeObjectURL(a.href);\r\n    document.body.removeChild(a);\r\n  } else {\r\n    navigator.msSaveBlob(blob, fileName);\r\n  }\r\n}\r\n\r\nfunction getGroups() {\r\n  return new Promise((resolve, reject) => {\r\n    let groupList = store.getters.getGroups;\r\n    if (groupList.length !== 0) {\r\n      resolve(groupList);\r\n    } else {\r\n      axios.get(\"enrollGroups/\").then(response => {\r\n        groupList = response.data.results.map(group => ({\r\n          value: group.id,\r\n          label: group.name,\r\n        }));\r\n        store.dispatch(\"setGroups\", groupList);\r\n        resolve(groupList);\r\n      }).catch(error => {\r\n        reject(error);\r\n      });\r\n    }\r\n  });\r\n\r\n}\r\n\r\nfunction addPatient(data) {\r\n  return new Promise((resolve, reject) => {\r\n    axios.post(\"patients/\", data).then(response => {\r\n      resolve(response.data);\r\n    }).catch(error => {\r\n      reject(error);\r\n    });\r\n  });\r\n}\r\n\r\nfunction getPatients(params) {\r\n  return new Promise((resolve, reject) => {\r\n    axios.get(\r\n      \"patients/\",\r\n      {\r\n        params: params\r\n      }\r\n    ).then(response => {\r\n      resolve(response.data);\r\n    }).catch(error => {\r\n      reject(error);\r\n    });\r\n  });\r\n}\r\n\r\nfunction updatePatient(id, data) {\r\n  return new Promise((resolve, reject) => {\r\n    axios.patch(`patients/${id}/`, data).then(response => {\r\n      resolve(response.data);\r\n    }).catch(error => {\r\n      reject(error);\r\n    });\r\n  });\r\n}\r\n\r\nfunction exportPatients(params) {\r\n  return new Promise((resolve, reject) => {\r\n    axios.get(\r\n      \"patients/export/\",\r\n      {\r\n        params: params\r\n      }\r\n    ).then(response => {\r\n      download(response);\r\n      resolve(response.headers);\r\n    }).catch(error => {\r\n      reject(error);\r\n    });\r\n  });\r\n}\r\n\r\nfunction addTestByName(name, data) {\r\n  return new Promise((resolve, reject) => {\r\n    axios.post(`${name}/`, data).then(response => {\r\n      resolve(response.data);\r\n    }).catch(error => {\r\n      reject(error);\r\n    });\r\n  });\r\n}\r\n\r\nfunction getTestsByPatientId(id) {\r\n  return new Promise((resolve, reject) => {\r\n    axios.get(`all-tests-by-patient/${id}/`).then(response => {\r\n      resolve(response.data);\r\n    }).catch(error => {\r\n      reject(error);\r\n    });\r\n  });\r\n}\r\n\r\nfunction updateTestByName(name, id, data) {\r\n  return new Promise((resolve, reject) => {\r\n    axios.put(`${name}/${id}/`, data).then(response => {\r\n      resolve(response.data);\r\n    }).catch(error => {\r\n      reject(error);\r\n    });\r\n  });\r\n}\r\n\r\nfunction exportBloodTests(params) {\r\n  return new Promise((resolve, reject) => {\r\n    axios.get(\r\n      \"bloodTests/export/\",\r\n      {\r\n        params: params\r\n      }\r\n    ).then(response => {\r\n      download(response);\r\n      resolve(response.headers);\r\n    }).catch(error => {\r\n      reject(error);\r\n    });\r\n  });\r\n}\r\n\r\nfunction exportLiverFunctions(params) {\r\n  return new Promise((resolve, reject) => {\r\n    axios.get(\r\n      \"liverFunction/export/\",\r\n      {\r\n        params: params\r\n      }\r\n    ).then(response => {\r\n      download(response);\r\n      resolve(response.headers);\r\n    }).catch(error => {\r\n      reject(error);\r\n    });\r\n  });\r\n}\r\n\r\nfunction exportEchocardiography(params) {\r\n  return new Promise((resolve, reject) => {\r\n    axios.get(\r\n      \"echocardiography/export/\",\r\n      {\r\n        params: params\r\n      }\r\n    ).then(response => {\r\n      download(response);\r\n      resolve(response.headers);\r\n    }).catch(error => {\r\n      reject(error);\r\n    });\r\n  });\r\n}\r\n\r\nfunction exportOtherTests(params) {\r\n  return new Promise((resolve, reject) => {\r\n    axios.get(\r\n      \"otherTests/export/\",\r\n      {\r\n        params: params\r\n      }\r\n    ).then(response => {\r\n      download(response);\r\n      resolve(response.headers);\r\n    }).catch(error => {\r\n      reject(error);\r\n    });\r\n  });\r\n}\r\n\r\nfunction exportSamples(params) {\r\n  return new Promise((resolve, reject) => {\r\n    axios.get(\r\n      \"samples/export/\",\r\n      {\r\n        params: params\r\n      }\r\n    ).then(response => {\r\n      download(response);\r\n      resolve(response.headers);\r\n    }).catch(error => {\r\n      reject(error);\r\n    });\r\n  });\r\n}\r\n\r\nfunction getSummary() {\r\n  return new Promise((resolve, reject) => {\r\n    axios.get(\"summary/\").then(response => {\r\n      resolve(response.data);\r\n    }).catch(error => {\r\n      reject(error);\r\n    });\r\n  });\r\n}\r\n\r\nfunction getCountByMonth() {\r\n  return new Promise((resolve, reject) => {\r\n    axios.get(\"count-by-month/\").then(response => {\r\n      resolve(response.data);\r\n    }).catch(error => {\r\n      reject(error);\r\n    });\r\n  });\r\n}\r\n\r\nfunction getAgeByGroup() {\r\n  return new Promise((resolve, reject) => {\r\n    axios.get(\"age-by-group/\").then(response => {\r\n      resolve(response.data);\r\n    }).catch(error => {\r\n      reject(error);\r\n    });\r\n  });\r\n}\r\n\r\nfunction getExportFile() {\r\n  return new Promise((resolve, reject) => {\r\n    axios.get(\"export/all/\", {responseType: 'blob'}).then(response => {\r\n      download(response);\r\n      resolve(response.headers);\r\n    }).catch(error => {\r\n      reject(error);\r\n    });\r\n  });\r\n}\r\n\r\nexport {\r\n  getGroups,\r\n  addPatient,\r\n  getPatients,\r\n  updatePatient,\r\n  exportPatients,\r\n  addTestByName,\r\n  getTestsByPatientId,\r\n  updateTestByName,\r\n  exportBloodTests,\r\n  exportLiverFunctions,\r\n  exportEchocardiography,\r\n  exportOtherTests,\r\n  exportSamples,\r\n  getSummary,\r\n  getCountByMonth,\r\n  getAgeByGroup,\r\n  getExportFile\r\n}\r\n","<template>\r\n  <div class=\"dashboard\">\r\n    <a-space direction=\"vertical\" :size=\"16\" style=\"width: 100%\">\r\n      <a-row :gutter=\"16\">\r\n        <a-col :span=\"8\">\r\n          <a-card :loading=\"sampleCountsLoading\">\r\n            \r\n            <a-row>\r\n              <a-col v-for=\"(value, key) in sampleCounts\" :key=\"key\" :span=\"24 / groups.length\">\r\n                <a-statistic :title=\"key\" :value=\"value\" suffix=\"\"></a-statistic>\r\n              </a-col>\r\n            </a-row>\r\n          </a-card>\r\n        </a-col>\r\n        <a-col :span=\"8\">\r\n          <a-card :loading=\"genderRateLoading\">\r\n             (:)\r\n            <a-row>\r\n              <a-col v-for=\"(item, key) in genderCounts\" :key=\"key\" :span=\"24 / groups.length\">\r\n                <a-statistic :title=\"key\" :value=\"(item.M / item.F).toFixed(2)\"></a-statistic>\r\n              </a-col>\r\n            </a-row>\r\n          </a-card>\r\n        </a-col>\r\n        <a-col :span=\"8\">\r\n          <a-card :loading=\"ageLoading\">\r\n            \r\n            <a-row>\r\n              <a-col v-for=\"(value, key) in ageAverage\" :key=\"key\" :span=\"24 / groups.length\">\r\n                <a-statistic :title=\"key\" :value=\"(value / 12).toFixed(2)\" suffix=\"\"></a-statistic>\r\n              </a-col>\r\n            </a-row>\r\n          </a-card>\r\n        </a-col>\r\n      </a-row>\r\n      <a-row>\r\n        <a-col :span=\"24\">\r\n          <a-card title=\"-\" :loading=\"linePlotLoading\">\r\n            <div id=\"count_line\"></div>\r\n          </a-card>\r\n        </a-col>\r\n      </a-row>\r\n      <a-row :gutter=\"16\">\r\n        <a-col v-for=\"g in groups\" :key=\"g\" :span=\"24 / groups.length\">\r\n          <a-card :title=\"`(${g})`\">\r\n            <div :id=\"`age_hist_${g.replaceAll(' ', '_')}`\"></div>\r\n          </a-card>\r\n        </a-col>\r\n      </a-row>\r\n    </a-space>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  defineComponent,\r\n  onMounted,\r\n  reactive,\r\n  toRefs,\r\n  nextTick\r\n} from \"vue\";\r\nimport { Line, Histogram } from \"@antv/g2plot\";\r\nimport { Row, Col, Card, Statistic, Space } from \"ant-design-vue\";\r\nimport { getSummary, getCountByMonth, getAgeByGroup } from \"@/api/kawasaki\";\r\n\r\nexport default defineComponent({\r\n  name: \"DashboardView\",\r\n  components: {\r\n    ARow: Row,\r\n    ACol: Col,\r\n    ACard: Card,\r\n    AStatistic: Statistic,\r\n    ASpace: Space\r\n  },\r\n  setup() {\r\n    const state = reactive({\r\n      sampleCounts: {},\r\n      sampleCountsLoading: true,\r\n      groups: [],\r\n      genderCounts: {},\r\n      genderRateLoading: true,\r\n      ageAverage: {},\r\n      ageLoading: true,\r\n      linePlotLoading: true,\r\n      histPlotLoading: true,\r\n    });\r\n\r\n    const getData = async () => {\r\n      const data = await getSummary();\r\n      state.sampleCounts = data.sample_counts;\r\n      state.sampleCountsLoading = false;\r\n      state.groups = data.groups;\r\n      state.genderCounts = data.gender_counts;\r\n      state.genderRateLoading = false;\r\n      state.ageAverage = data.age_mean;\r\n      state.ageLoading = false;\r\n    };\r\n\r\n    const setLinePlot = async () => {\r\n      const data = await getCountByMonth();\r\n      state.linePlotLoading = false;\r\n      if (data !== null && data.length !== 0) {\r\n        nextTick(() => {\r\n          const line = new Line(\"count_line\", {\r\n            data: data,\r\n            xField: \"date\",\r\n            yField: \"count\",\r\n            smooth: true,\r\n            meta: {\r\n              date: {\r\n                alias: \"\",\r\n              },\r\n              count: {\r\n                alias: \"\",\r\n              },\r\n            },\r\n          });\r\n          line.render();\r\n        })\r\n      }\r\n    };\r\n\r\n    const setHistPlot = async () => {\r\n      const data = await getAgeByGroup();\r\n      state.histPlotLoading = false;\r\n      for (const [key, value] of Object.entries(data)) {\r\n        if (value !== null && value.length !== 0) {\r\n          nextTick(() => {\r\n            const hist_id = `age_hist_${key.replaceAll(\" \", \"_\")}`;\r\n            const hist = new Histogram(hist_id, {\r\n              data: value,\r\n              binField: \"value\",\r\n              binWidth: 1,\r\n              tooltip: {\r\n                showMarkers: false,\r\n                position: \"top\",\r\n              },\r\n              interactions: [\r\n                {\r\n                  type: \"element-highlight\",\r\n                },\r\n              ],\r\n              meta: {\r\n                range: {\r\n                  min: 0,\r\n                  tickInterval: 1,\r\n                  alias: \"\",\r\n                },\r\n                count: {\r\n                  max: 10,\r\n                  tickInterval: 2,\r\n                  nice: true,\r\n                  alias: \"\",\r\n                },\r\n              },\r\n            });\r\n            hist.render();\r\n          })\r\n        }\r\n      }\r\n    };\r\n\r\n    onMounted(async () => {\r\n      await getData();\r\n      setLinePlot();\r\n      setHistPlot();\r\n    });\r\n\r\n    return {\r\n      ...toRefs(state),\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.dashboard {\r\n  padding: 24px;\r\n  margin: 20px 40px;\r\n}\r\n</style>\r\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeFloor = Math.floor;\n\n/**\n * The base implementation of `_.repeat` which doesn't coerce arguments.\n *\n * @private\n * @param {string} string The string to repeat.\n * @param {number} n The number of times to repeat the string.\n * @returns {string} Returns the repeated string.\n */\nfunction baseRepeat(string, n) {\n  var result = '';\n  if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n    return result;\n  }\n  // Leverage the exponentiation by squaring algorithm for a faster repeat.\n  // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n  do {\n    if (n % 2) {\n      result += string;\n    }\n    n = nativeFloor(n / 2);\n    if (n) {\n      string += string;\n    }\n  } while (n);\n\n  return result;\n}\n\nexport default baseRepeat;\n","import baseSlice from './_baseSlice.js';\n\n/**\n * Casts `array` to a slice if it's needed.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {number} start The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the cast slice.\n */\nfunction castSlice(array, start, end) {\n  var length = array.length;\n  end = end === undefined ? length : end;\n  return (!start && end >= length) ? array : baseSlice(array, start, end);\n}\n\nexport default castSlice;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsZWJ = '\\\\u200d';\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\nexport default hasUnicode;\n","import baseProperty from './_baseProperty.js';\n\n/**\n * Gets the size of an ASCII `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nvar asciiSize = baseProperty('length');\n\nexport default asciiSize;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Gets the size of a Unicode `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nfunction unicodeSize(string) {\n  var result = reUnicode.lastIndex = 0;\n  while (reUnicode.test(string)) {\n    ++result;\n  }\n  return result;\n}\n\nexport default unicodeSize;\n","import asciiSize from './_asciiSize.js';\nimport hasUnicode from './_hasUnicode.js';\nimport unicodeSize from './_unicodeSize.js';\n\n/**\n * Gets the number of symbols in `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the string size.\n */\nfunction stringSize(string) {\n  return hasUnicode(string)\n    ? unicodeSize(string)\n    : asciiSize(string);\n}\n\nexport default stringSize;\n","/**\n * Converts an ASCII `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction asciiToArray(string) {\n  return string.split('');\n}\n\nexport default asciiToArray;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Converts a Unicode `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction unicodeToArray(string) {\n  return string.match(reUnicode) || [];\n}\n\nexport default unicodeToArray;\n","import asciiToArray from './_asciiToArray.js';\nimport hasUnicode from './_hasUnicode.js';\nimport unicodeToArray from './_unicodeToArray.js';\n\n/**\n * Converts `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction stringToArray(string) {\n  return hasUnicode(string)\n    ? unicodeToArray(string)\n    : asciiToArray(string);\n}\n\nexport default stringToArray;\n","import baseRepeat from './_baseRepeat.js';\nimport baseToString from './_baseToString.js';\nimport castSlice from './_castSlice.js';\nimport hasUnicode from './_hasUnicode.js';\nimport stringSize from './_stringSize.js';\nimport stringToArray from './_stringToArray.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil;\n\n/**\n * Creates the padding for `string` based on `length`. The `chars` string\n * is truncated if the number of characters exceeds `length`.\n *\n * @private\n * @param {number} length The padding length.\n * @param {string} [chars=' '] The string used as padding.\n * @returns {string} Returns the padding for `string`.\n */\nfunction createPadding(length, chars) {\n  chars = chars === undefined ? ' ' : baseToString(chars);\n\n  var charsLength = chars.length;\n  if (charsLength < 2) {\n    return charsLength ? baseRepeat(chars, length) : chars;\n  }\n  var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n  return hasUnicode(chars)\n    ? castSlice(stringToArray(result), 0, length).join('')\n    : result.slice(0, length);\n}\n\nexport default createPadding;\n","import createPadding from './_createPadding.js';\nimport stringSize from './_stringSize.js';\nimport toInteger from './toInteger.js';\nimport toString from './toString.js';\n\n/**\n * Pads `string` on the right side if it's shorter than `length`. Padding\n * characters are truncated if they exceed `length`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to pad.\n * @param {number} [length=0] The padding length.\n * @param {string} [chars=' '] The string used as padding.\n * @returns {string} Returns the padded string.\n * @example\n *\n * _.padEnd('abc', 6);\n * // => 'abc   '\n *\n * _.padEnd('abc', 6, '_-');\n * // => 'abc_-_'\n *\n * _.padEnd('abc', 3);\n * // => 'abc'\n */\nfunction padEnd(string, length, chars) {\n  string = toString(string);\n  length = toInteger(length);\n\n  var strLength = length ? stringSize(string) : 0;\n  return (length && strLength < length)\n    ? (string + createPadding(length - strLength, chars))\n    : string;\n}\n\nexport default padEnd;\n","import { createVNode as _createVNode } from \"vue\";\nimport padEnd from 'lodash-es/padEnd';\n\nvar StatisticNumber = function StatisticNumber(props) {\n  var value = props.value,\n      formatter = props.formatter,\n      precision = props.precision,\n      decimalSeparator = props.decimalSeparator,\n      _props$groupSeparator = props.groupSeparator,\n      groupSeparator = _props$groupSeparator === void 0 ? '' : _props$groupSeparator,\n      prefixCls = props.prefixCls;\n  var valueNode;\n\n  if (typeof formatter === 'function') {\n    // Customize formatter\n    valueNode = formatter({\n      value: value\n    });\n  } else {\n    // Internal formatter\n    var val = String(value);\n    var cells = val.match(/^(-?)(\\d*)(\\.(\\d+))?$/); // Process if illegal number\n\n    if (!cells) {\n      valueNode = val;\n    } else {\n      var negative = cells[1];\n      var int = cells[2] || '0';\n      var decimal = cells[4] || '';\n      int = int.replace(/\\B(?=(\\d{3})+(?!\\d))/g, groupSeparator);\n\n      if (typeof precision === 'number') {\n        decimal = padEnd(decimal, precision, '0').slice(0, precision);\n      }\n\n      if (decimal) {\n        decimal = \"\".concat(decimalSeparator).concat(decimal);\n      }\n\n      valueNode = [_createVNode(\"span\", {\n        \"key\": \"int\",\n        \"class\": \"\".concat(prefixCls, \"-content-value-int\")\n      }, [negative, int]), decimal && _createVNode(\"span\", {\n        \"key\": \"decimal\",\n        \"class\": \"\".concat(prefixCls, \"-content-value-decimal\")\n      }, [decimal])];\n    }\n  }\n\n  return _createVNode(\"span\", {\n    \"class\": \"\".concat(prefixCls, \"-content-value\")\n  }, [valueNode]);\n};\n\nStatisticNumber.displayName = 'StatisticNumber';\nexport default StatisticNumber;","import { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from 'vue';\nexport var skeletonTitleProps = function skeletonTitleProps() {\n  return {\n    prefixCls: String,\n    width: {\n      type: [Number, String]\n    }\n  };\n};\nvar SkeletonTitle = defineComponent({\n  name: 'SkeletonTitle',\n  props: skeletonTitleProps(),\n  setup: function setup(props) {\n    return function () {\n      var prefixCls = props.prefixCls,\n          width = props.width;\n      var zWidth = typeof width === 'number' ? \"\".concat(width, \"px\") : width;\n      return _createVNode(\"h3\", {\n        \"class\": prefixCls,\n        \"style\": {\n          width: zWidth\n        }\n      }, null);\n    };\n  }\n});\nexport default SkeletonTitle;","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from 'vue';\nexport var skeletonParagraphProps = function skeletonParagraphProps() {\n  return {\n    prefixCls: String,\n    width: {\n      type: [Number, String, Array]\n    },\n    rows: Number\n  };\n};\nvar SkeletonParagraph = defineComponent({\n  name: 'SkeletonParagraph',\n  props: skeletonParagraphProps(),\n  setup: function setup(props) {\n    var getWidth = function getWidth(index) {\n      var width = props.width,\n          _props$rows = props.rows,\n          rows = _props$rows === void 0 ? 2 : _props$rows;\n\n      if (Array.isArray(width)) {\n        return width[index];\n      } // last paragraph\n\n\n      if (rows - 1 === index) {\n        return width;\n      }\n\n      return undefined;\n    };\n\n    return function () {\n      var prefixCls = props.prefixCls,\n          rows = props.rows;\n\n      var rowList = _toConsumableArray(Array(rows)).map(function (_, index) {\n        var width = getWidth(index);\n        return _createVNode(\"li\", {\n          \"key\": index,\n          \"style\": {\n            width: typeof width === 'number' ? \"\".concat(width, \"px\") : width\n          }\n        }, null);\n      });\n\n      return _createVNode(\"ul\", {\n        \"class\": prefixCls\n      }, [rowList]);\n    };\n  }\n});\nexport default SkeletonParagraph;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\nimport classNames from '../_util/classNames';\nexport var skeletonElementProps = function skeletonElementProps() {\n  return {\n    prefixCls: String,\n    size: [String, Number],\n    shape: String,\n    active: {\n      type: Boolean,\n      default: undefined\n    }\n  };\n};\n\nvar Element = function Element(props) {\n  var _classNames, _classNames2;\n\n  var prefixCls = props.prefixCls,\n      size = props.size,\n      shape = props.shape;\n  var sizeCls = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-lg\"), size === 'large'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-sm\"), size === 'small'), _classNames));\n  var shapeCls = classNames((_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-circle\"), shape === 'circle'), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-square\"), shape === 'square'), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-round\"), shape === 'round'), _classNames2));\n  var sizeStyle = typeof size === 'number' ? {\n    width: \"\".concat(size, \"px\"),\n    height: \"\".concat(size, \"px\"),\n    lineHeight: \"\".concat(size, \"px\")\n  } : {};\n  return _createVNode(\"span\", {\n    \"class\": classNames(prefixCls, sizeCls, shapeCls),\n    \"style\": sizeStyle\n  }, null);\n};\n\nElement.displayName = 'SkeletonElement';\nexport default Element;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from 'vue';\nimport classNames from '../_util/classNames';\nimport { initDefaultProps } from '../_util/props-util';\nimport Title from './Title';\nimport Paragraph from './Paragraph';\nimport useConfigInject from '../_util/hooks/useConfigInject';\nimport Element from './Element';\nexport var skeletonProps = function skeletonProps() {\n  return {\n    active: {\n      type: Boolean,\n      default: undefined\n    },\n    loading: {\n      type: Boolean,\n      default: undefined\n    },\n    prefixCls: String,\n    avatar: {\n      type: [Boolean, Object],\n      default: undefined\n    },\n    title: {\n      type: [Boolean, Object],\n      default: undefined\n    },\n    paragraph: {\n      type: [Boolean, Object],\n      default: undefined\n    },\n    round: {\n      type: Boolean,\n      default: undefined\n    }\n  };\n};\n\nfunction getComponentProps(prop) {\n  if (prop && _typeof(prop) === 'object') {\n    return prop;\n  }\n\n  return {};\n}\n\nfunction getAvatarBasicProps(hasTitle, hasParagraph) {\n  if (hasTitle && !hasParagraph) {\n    // Square avatar\n    return {\n      size: 'large',\n      shape: 'square'\n    };\n  }\n\n  return {\n    size: 'large',\n    shape: 'circle'\n  };\n}\n\nfunction getTitleBasicProps(hasAvatar, hasParagraph) {\n  if (!hasAvatar && hasParagraph) {\n    return {\n      width: '38%'\n    };\n  }\n\n  if (hasAvatar && hasParagraph) {\n    return {\n      width: '50%'\n    };\n  }\n\n  return {};\n}\n\nfunction getParagraphBasicProps(hasAvatar, hasTitle) {\n  var basicProps = {}; // Width\n\n  if (!hasAvatar || !hasTitle) {\n    basicProps.width = '61%';\n  } // Rows\n\n\n  if (!hasAvatar && hasTitle) {\n    basicProps.rows = 3;\n  } else {\n    basicProps.rows = 2;\n  }\n\n  return basicProps;\n}\n\nvar Skeleton = defineComponent({\n  name: 'ASkeleton',\n  props: initDefaultProps(skeletonProps(), {\n    avatar: false,\n    title: true,\n    paragraph: true\n  }),\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n\n    var _useConfigInject = useConfigInject('skeleton', props),\n        prefixCls = _useConfigInject.prefixCls,\n        direction = _useConfigInject.direction;\n\n    return function () {\n      var _a;\n\n      var loading = props.loading,\n          avatar = props.avatar,\n          title = props.title,\n          paragraph = props.paragraph,\n          active = props.active,\n          round = props.round;\n      var pre = prefixCls.value;\n\n      if (loading || props.loading === undefined) {\n        var _classNames;\n\n        var hasAvatar = !!avatar || avatar === '';\n        var hasTitle = !!title || title === '';\n        var hasParagraph = !!paragraph || paragraph === ''; // Avatar\n\n        var avatarNode;\n\n        if (hasAvatar) {\n          var avatarProps = _extends(_extends({\n            prefixCls: \"\".concat(pre, \"-avatar\")\n          }, getAvatarBasicProps(hasTitle, hasParagraph)), getComponentProps(avatar));\n\n          avatarNode = _createVNode(\"div\", {\n            \"class\": \"\".concat(pre, \"-header\")\n          }, [_createVNode(Element, avatarProps, null)]);\n        }\n\n        var contentNode;\n\n        if (hasTitle || hasParagraph) {\n          // Title\n          var $title;\n\n          if (hasTitle) {\n            var titleProps = _extends(_extends({\n              prefixCls: \"\".concat(pre, \"-title\")\n            }, getTitleBasicProps(hasAvatar, hasParagraph)), getComponentProps(title));\n\n            $title = _createVNode(Title, titleProps, null);\n          } // Paragraph\n\n\n          var paragraphNode;\n\n          if (hasParagraph) {\n            var paragraphProps = _extends(_extends({\n              prefixCls: \"\".concat(pre, \"-paragraph\")\n            }, getParagraphBasicProps(hasAvatar, hasTitle)), getComponentProps(paragraph));\n\n            paragraphNode = _createVNode(Paragraph, paragraphProps, null);\n          }\n\n          contentNode = _createVNode(\"div\", {\n            \"class\": \"\".concat(pre, \"-content\")\n          }, [$title, paragraphNode]);\n        }\n\n        var cls = classNames(pre, (_classNames = {}, _defineProperty(_classNames, \"\".concat(pre, \"-with-avatar\"), hasAvatar), _defineProperty(_classNames, \"\".concat(pre, \"-active\"), active), _defineProperty(_classNames, \"\".concat(pre, \"-rtl\"), direction.value === 'rtl'), _defineProperty(_classNames, \"\".concat(pre, \"-round\"), round), _classNames));\n        return _createVNode(\"div\", {\n          \"class\": cls\n        }, [avatarNode, contentNode]);\n      }\n\n      return (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n    };\n  }\n});\nexport default Skeleton;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from 'vue';\nimport PropTypes from '../_util/vue-types';\nimport initDefaultProps from '../_util/props-util/initDefaultProps';\nimport StatisticNumber from './Number';\nimport Skeleton from '../skeleton/Skeleton';\nimport useConfigInject from '../_util/hooks/useConfigInject';\nexport var statisticProps = function statisticProps() {\n  return {\n    prefixCls: String,\n    decimalSeparator: String,\n    groupSeparator: String,\n    format: String,\n    value: {\n      type: [String, Number, Object]\n    },\n    valueStyle: {\n      type: Object,\n      default: undefined\n    },\n    valueRender: PropTypes.any,\n    formatter: PropTypes.any,\n    precision: Number,\n    prefix: PropTypes.any,\n    suffix: PropTypes.any,\n    title: PropTypes.any,\n    loading: {\n      type: Boolean,\n      default: undefined\n    }\n  };\n};\nexport default defineComponent({\n  name: 'AStatistic',\n  props: initDefaultProps(statisticProps(), {\n    decimalSeparator: '.',\n    groupSeparator: ',',\n    loading: false\n  }),\n  slots: ['title', 'prefix', 'suffix', 'formatter'],\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n\n    var _useConfigInject = useConfigInject('statistic', props),\n        prefixCls = _useConfigInject.prefixCls,\n        direction = _useConfigInject.direction;\n\n    return function () {\n      var _a, _b, _c, _d, _e, _f, _g;\n\n      var _props$value = props.value,\n          value = _props$value === void 0 ? 0 : _props$value,\n          valueStyle = props.valueStyle,\n          valueRender = props.valueRender;\n      var pre = prefixCls.value;\n      var title = (_a = props.title) !== null && _a !== void 0 ? _a : (_b = slots.title) === null || _b === void 0 ? void 0 : _b.call(slots);\n      var prefix = (_c = props.prefix) !== null && _c !== void 0 ? _c : (_d = slots.prefix) === null || _d === void 0 ? void 0 : _d.call(slots);\n      var suffix = (_e = props.suffix) !== null && _e !== void 0 ? _e : (_f = slots.suffix) === null || _f === void 0 ? void 0 : _f.call(slots);\n      var formatter = (_g = props.formatter) !== null && _g !== void 0 ? _g : slots.formatter; // data-for-update just for update component\n      // https://github.com/vueComponent/ant-design-vue/pull/3170\n\n      var valueNode = _createVNode(StatisticNumber, _objectSpread({\n        \"data-for-update\": Date.now()\n      }, _extends(_extends({}, props), {\n        prefixCls: pre,\n        value: value,\n        formatter: formatter\n      })), null);\n\n      if (valueRender) {\n        valueNode = valueRender(valueNode);\n      }\n\n      return _createVNode(\"div\", {\n        \"class\": [pre, _defineProperty({}, \"\".concat(pre, \"-rtl\"), direction.value === 'rtl')]\n      }, [title && _createVNode(\"div\", {\n        \"class\": \"\".concat(pre, \"-title\")\n      }, [title]), _createVNode(Skeleton, {\n        \"paragraph\": false,\n        \"loading\": props.loading\n      }, {\n        default: function _default() {\n          return [_createVNode(\"div\", {\n            \"style\": valueStyle,\n            \"class\": \"\".concat(pre, \"-content\")\n          }, [prefix && _createVNode(\"span\", {\n            \"class\": \"\".concat(pre, \"-content-prefix\")\n          }, [prefix]), valueNode, suffix && _createVNode(\"span\", {\n            \"class\": \"\".concat(pre, \"-content-suffix\")\n          }, [suffix])])];\n        }\n      })]);\n    };\n  }\n});","import createPadding from './_createPadding.js';\nimport stringSize from './_stringSize.js';\nimport toInteger from './toInteger.js';\nimport toString from './toString.js';\n\n/**\n * Pads `string` on the left side if it's shorter than `length`. Padding\n * characters are truncated if they exceed `length`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to pad.\n * @param {number} [length=0] The padding length.\n * @param {string} [chars=' '] The string used as padding.\n * @returns {string} Returns the padded string.\n * @example\n *\n * _.padStart('abc', 6);\n * // => '   abc'\n *\n * _.padStart('abc', 6, '_-');\n * // => '_-_abc'\n *\n * _.padStart('abc', 3);\n * // => 'abc'\n */\nfunction padStart(string, length, chars) {\n  string = toString(string);\n  length = toInteger(length);\n\n  var strLength = length ? stringSize(string) : 0;\n  return (length && strLength < length)\n    ? (createPadding(length - strLength, chars) + string)\n    : string;\n}\n\nexport default padStart;\n","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport padStart from 'lodash-es/padStart'; // Countdown\n\nvar timeUnits = [['Y', 1000 * 60 * 60 * 24 * 365], ['M', 1000 * 60 * 60 * 24 * 30], ['D', 1000 * 60 * 60 * 24], ['H', 1000 * 60 * 60], ['m', 1000 * 60], ['s', 1000], ['S', 1] // million seconds\n];\nexport function formatTimeStr(duration, format) {\n  var leftDuration = duration;\n  var escapeRegex = /\\[[^\\]]*]/g;\n  var keepList = (format.match(escapeRegex) || []).map(function (str) {\n    return str.slice(1, -1);\n  });\n  var templateText = format.replace(escapeRegex, '[]');\n  var replacedText = timeUnits.reduce(function (current, _ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        name = _ref2[0],\n        unit = _ref2[1];\n\n    if (current.indexOf(name) !== -1) {\n      var value = Math.floor(leftDuration / unit);\n      leftDuration -= value * unit;\n      return current.replace(new RegExp(\"\".concat(name, \"+\"), 'g'), function (match) {\n        var len = match.length;\n        return padStart(value.toString(), len, '0');\n      });\n    }\n\n    return current;\n  }, templateText);\n  var index = 0;\n  return replacedText.replace(escapeRegex, function () {\n    var match = keepList[index];\n    index += 1;\n    return match;\n  });\n}\nexport function formatCountdown(value, config) {\n  var _config$format = config.format,\n      format = _config$format === void 0 ? '' : _config$format;\n  var target = new Date(value).getTime();\n  var current = Date.now();\n  var diff = Math.max(target - current, 0);\n  return formatTimeStr(diff, format);\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\nimport { defineComponent, onBeforeUnmount, onMounted, onUpdated, ref } from 'vue';\nimport omit from '../_util/omit';\nimport initDefaultProps from '../_util/props-util/initDefaultProps';\nimport Statistic, { statisticProps } from './Statistic';\nimport { formatCountdown as formatCD } from './utils';\nvar REFRESH_INTERVAL = 1000 / 30;\n\nfunction getTime(value) {\n  return new Date(value).getTime();\n}\n\nexport var countdownProps = function countdownProps() {\n  return _extends(_extends({}, statisticProps()), {\n    value: [Number, String, Object],\n    format: String,\n    onFinish: Function,\n    onChange: Function\n  });\n};\nexport default defineComponent({\n  name: 'AStatisticCountdown',\n  props: initDefaultProps(countdownProps(), {\n    format: 'HH:mm:ss'\n  }),\n  // emits: ['finish', 'change'],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit,\n        slots = _ref.slots;\n    var countdownId = ref();\n    var statistic = ref();\n\n    var syncTimer = function syncTimer() {\n      var value = props.value;\n      var timestamp = getTime(value);\n\n      if (timestamp >= Date.now()) {\n        startTimer();\n      } else {\n        stopTimer();\n      }\n    };\n\n    var startTimer = function startTimer() {\n      if (countdownId.value) return;\n      var timestamp = getTime(props.value);\n      countdownId.value = setInterval(function () {\n        statistic.value.$forceUpdate();\n\n        if (timestamp > Date.now()) {\n          emit('change', timestamp - Date.now());\n        }\n\n        syncTimer();\n      }, REFRESH_INTERVAL);\n    };\n\n    var stopTimer = function stopTimer() {\n      var value = props.value;\n\n      if (countdownId.value) {\n        clearInterval(countdownId.value);\n        countdownId.value = undefined;\n        var timestamp = getTime(value);\n\n        if (timestamp < Date.now()) {\n          emit('finish');\n        }\n      }\n    };\n\n    var formatCountdown = function formatCountdown(_ref2) {\n      var value = _ref2.value,\n          config = _ref2.config;\n      var format = props.format;\n      return formatCD(value, _extends(_extends({}, config), {\n        format: format\n      }));\n    };\n\n    var valueRenderHtml = function valueRenderHtml(node) {\n      return node;\n    };\n\n    onMounted(function () {\n      syncTimer();\n    });\n    onUpdated(function () {\n      syncTimer();\n    });\n    onBeforeUnmount(function () {\n      stopTimer();\n    });\n    return function () {\n      var value = props.value;\n      return _createVNode(Statistic, _objectSpread({\n        \"ref\": statistic\n      }, _extends(_extends({}, omit(props, ['onFinish', 'onChange'])), {\n        value: value,\n        valueRender: valueRenderHtml,\n        formatter: formatCountdown\n      })), slots);\n    };\n  }\n});","import Statistic from './Statistic';\nimport Countdown from './Countdown';\nStatistic.Countdown = Countdown;\n/* istanbul ignore next */\n\nStatistic.install = function (app) {\n  app.component(Statistic.name, Statistic);\n  app.component(Statistic.Countdown.name, Statistic.Countdown);\n  return app;\n};\n\nexport var StatisticCountdown = Statistic.Countdown;\nexport default Statistic;","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/**\n * view  group  key\n */\nexport enum LAYER {\n  /**  */\n  FORE = 'fore',\n  /**  */\n  MID = 'mid',\n  /**  */\n  BG = 'bg',\n}\n\n/**\n *  12 \n */\nexport enum DIRECTION {\n  TOP = 'top',\n  TOP_LEFT = 'top-left',\n  TOP_RIGHT = 'top-right',\n  RIGHT = 'right',\n  RIGHT_TOP = 'right-top',\n  RIGHT_BOTTOM = 'right-bottom',\n  LEFT = 'left',\n  LEFT_TOP = 'left-top',\n  LEFT_BOTTOM = 'left-bottom',\n  BOTTOM = 'bottom',\n  BOTTOM_LEFT = 'bottom-left',\n  BOTTOM_RIGHT = 'bottom-right',\n  RADIUS = 'radius',\n  CIRCLE = 'circle',\n  // no direction information\n  NONE = 'none',\n}\n\n/**\n * \n */\nexport enum COMPONENT_TYPE {\n  /** axis  */\n  AXIS = 'axis',\n  /** grid  */\n  GRID = 'grid',\n  /** legend  */\n  LEGEND = 'legend',\n  /** tooltip  */\n  TOOLTIP = 'tooltip',\n  /** annotation  */\n  ANNOTATION = 'annotation',\n  /**  */\n  SLIDER = 'slider',\n  /**  */\n  SCROLLBAR = 'scrollbar',\n  /**  */\n  OTHER = 'other',\n}\n\n/**\n *  group  z index\n */\nexport const GROUP_Z_INDEX = {\n  FORE: 3,\n  MID: 2,\n  BG: 1,\n};\n\n/**\n * View  3.x \n * \n */\nexport enum VIEW_LIFE_CIRCLE {\n  BEFORE_RENDER = 'beforerender',\n  AFTER_RENDER = 'afterrender',\n\n  BEFORE_PAINT = 'beforepaint',\n  AFTER_PAINT = 'afterpaint',\n\n  BEFORE_CHANGE_DATA = 'beforechangedata',\n  AFTER_CHANGE_DATA = 'afterchangedata',\n\n  BEFORE_CLEAR = 'beforeclear',\n  AFTER_CLEAR = 'afterclear',\n\n  BEFORE_DESTROY = 'beforedestroy',\n\n  BEFORE_CHANGE_SIZE = 'beforechangesize',\n  AFTER_CHANGE_SIZE = 'afterchangesize',\n}\n\n/**\n * geometry \n */\nexport enum GEOMETRY_LIFE_CIRCLE {\n  BEFORE_DRAW_ANIMATE = 'beforeanimate',\n  AFTER_DRAW_ANIMATE = 'afteranimate',\n\n  BEFORE_RENDER_LABEL = 'beforerenderlabel',\n  AFTER_RENDER_LABEL = 'afterrenderlabel',\n}\n\n/**\n * \n */\nexport enum PLOT_EVENTS {\n  // mouse \n  MOUSE_ENTER = 'plot:mouseenter',\n  MOUSE_DOWN = 'plot:mousedown',\n  MOUSE_MOVE = 'plot:mousemove',\n  MOUSE_UP = 'plot:mouseup',\n  MOUSE_LEAVE = 'plot:mouseleave',\n  // \n  TOUCH_START = 'plot:touchstart',\n  TOUCH_MOVE = 'plot:touchmove',\n  TOUCH_END = 'plot:touchend',\n  TOUCH_CANCEL = 'plot:touchcancel',\n  // click \n  CLICK = 'plot:click',\n  DBLCLICK = 'plot:dblclick',\n  CONTEXTMENU = 'plot:contextmenu',\n\n  LEAVE = 'plot:leave',\n  ENTER = 'plot:enter',\n}\n\n/**\n * Element \n */\nexport enum ELEMENT_STATE {\n  ACTIVE = 'active',\n  INACTIVE = 'inactive',\n  SELECTED = 'selected',\n  DEFAULT = 'default',\n}\n\n/**  */\nexport const GROUP_ATTRS = ['color', 'shape', 'size'];\n/**  */\nexport const FIELD_ORIGIN = '_origin';\n/**  */\nexport const MIN_CHART_WIDTH = 1;\n/**  */\nexport const MIN_CHART_HEIGHT = 1;\n/** 25% */\nexport const COMPONENT_MAX_VIEW_PERCENTAGE = 0.25;\n",null,null,null,"import { IG } from '../dependents';\n\nconst ENGINES: Record<string, IG> = {};\n\n/**\n *  engine\n * @param name \n * @returns G engine\n */\nexport function getEngine(name: string): IG {\n  const G = ENGINES[name];\n\n  if (!G) {\n    throw new Error(`G engine '${name}' is not exist, please register it at first.`);\n  }\n\n  return G;\n}\n\n/**\n * \n * @param name\n * @param engine\n */\nexport function registerEngine(name: string, engine: IG) {\n  ENGINES[name] = engine;\n}\n",null,"import { MIN_CHART_HEIGHT, MIN_CHART_WIDTH } from '../constant';\nimport { Size } from '../interface';\n\n/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nfunction getElementSize(ele: HTMLElement): Size {\n  const style = getComputedStyle(ele);\n\n  return {\n    width:\n      (ele.clientWidth || parseInt(style.width, 10)) -\n      parseInt(style.paddingLeft, 10) -\n      parseInt(style.paddingRight, 10),\n    height:\n      (ele.clientHeight || parseInt(style.height, 10)) -\n      parseInt(style.paddingTop, 10) -\n      parseInt(style.paddingBottom, 10),\n  };\n}\n\n/**\n * is value a valid number\n * @param v the input value\n * @returns whether it is a number\n */\nfunction isNumber(v: any): boolean {\n  return typeof v === 'number' && !isNaN(v);\n}\n\n/**\n * @ignore\n * calculate the chart size\n * @param ele DOM element\n * @param autoFit should auto fit\n * @param width chart width which is set by user\n * @param height chart height which is set by user\n * @returns the chart width and height\n */\nexport function getChartSize(ele: HTMLElement, autoFit: boolean, width: number, height: number): Size {\n  let w = width;\n  let h = height;\n\n  if (autoFit) {\n    const size = getElementSize(ele);\n\n    w = size.width ? size.width : w;\n    h = size.height ? size.height : h;\n  }\n\n  return {\n    width: Math.max(isNumber(w) ? w : MIN_CHART_WIDTH, MIN_CHART_WIDTH),\n    height: Math.max(isNumber(h) ? h : MIN_CHART_HEIGHT, MIN_CHART_HEIGHT),\n  };\n}\n\n/**\n * @ignore\n * remove html element from its parent\n * @param dom\n */\nexport function removeDom(dom: HTMLElement) {\n  const parent = dom.parentNode;\n\n  if (parent) {\n    parent.removeChild(dom);\n  }\n}\n\n/** @ignore */\nexport { createDom, modifyCSS } from '@antv/dom-util';\n",null,"import EE from '@antv/event-emitter';\n\ninterface BaseCfg {\n  visible?: boolean;\n}\n\n/**\n * G2 ChartViewGeometry  Element \n */\nexport default class Base extends EE {\n  /**  */\n  public visible: boolean;\n  /**  */\n  public destroyed: boolean = false;\n\n  constructor(cfg: BaseCfg) {\n    super();\n    const { visible = true } = cfg;\n    this.visible = visible;\n  }\n\n  /**\n   * \n   */\n  public show() {\n    const visible = this.visible;\n    if (!visible) {\n      this.changeVisible(true);\n    }\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    const visible = this.visible;\n    if (visible) {\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.off();\n    this.destroyed = true;\n  }\n\n  /**\n   * \n   * @param visible\n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.visible = visible;\n  }\n}\n",null,null,null,null,"var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\nexport { BrowserInfo };\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexport { NodeInfo };\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\nexport { SearchBotDeviceInfo };\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexport { BotInfo };\nvar ReactNativeInfo = /** @class */ (function () {\n    function ReactNativeInfo() {\n        this.type = 'react-native';\n        this.name = 'react-native';\n        this.version = null;\n        this.os = null;\n    }\n    return ReactNativeInfo;\n}());\nexport { ReactNativeInfo };\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /EdgA?\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['pie', /^Microsoft Pocket Internet Explorer\\/(\\d+\\.\\d+)$/],\n    ['pie', /^Mozilla\\/\\d\\.\\d+\\s\\(compatible;\\s(?:MSP?IE|MSInternet Explorer) (\\d+\\.\\d+);.*Windows CE.*\\)$/],\n    ['netfront', /^Mozilla\\/\\d\\.\\d+.*NetFront\\/(\\d.\\d)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FB[AS]V\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['curl', /^curl\\/([0-9\\.]+)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Windows CE', /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nexport function detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative') {\n        return new ReactNativeInfo();\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nexport function browserName(ua) {\n    var data = matchUserAgent(ua);\n    return data ? data[0] : null;\n}\nexport function parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    // Do not use RegExp for split operation as some browser do not support it (See: http://blog.stevenlevithan.com/archives/cross-browser-split)\n    var versionParts = match[1] && match[1].split('.').join('_').split('_').slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArray(__spreadArray([], versionParts, true), createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length), true);\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, version, os);\n}\nexport function detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexport function getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n","import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;","/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import * as glMatrix from \"./common.js\";\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();",null,null,null,null,"var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export function linear(t) {\n  return +t;\n}\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return (+t === 1) ? 1 : 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","// tpmt is two power minus ten times t scaled to [0,1]\nexport function tpmt(x) {\n  return (Math.pow(2, -10 * x) - 0.0009765625) * 1.0009775171065494;\n}\n","import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return (t = +t) * t * (s * (t - 1) + t);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((t + 1) * s + t) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","import {tpmt} from \"./math.js\";\n\nvar tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * tpmt(-(--t)) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * tpmt(t = +t) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * tpmt(-t) * Math.sin((s - t) / p)\n        : 2 - a * tpmt(t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n",null,null,null,null,null,"/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n",null,null,null,null,null,null,null,"const token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\nconst twoDigitsOptional = \"\\\\d\\\\d?\";\nconst twoDigits = \"\\\\d\\\\d\";\nconst threeDigits = \"\\\\d{3}\";\nconst fourDigits = \"\\\\d{4}\";\nconst word = \"[^\\\\s]+\";\nconst literal = /\\[([^]*?)\\]/gm;\n\ntype DateInfo = {\n  year: number;\n  month: number;\n  day: number;\n  hour: number;\n  minute: number;\n  second: number;\n  millisecond: number;\n  isPm: number | null;\n  timezoneOffset: number | null;\n};\n\nexport type I18nSettings = {\n  amPm: [string, string];\n  dayNames: Days;\n  dayNamesShort: Days;\n  monthNames: Months;\n  monthNamesShort: Months;\n  DoFn(dayOfMonth: number): string;\n};\n\nexport type I18nSettingsOptional = Partial<I18nSettings>;\n\nexport type Days = [string, string, string, string, string, string, string];\nexport type Months = [\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string\n];\n\nfunction shorten<T extends string[]>(arr: T, sLen: number): string[] {\n  const newArr: string[] = [];\n  for (let i = 0, len = arr.length; i < len; i++) {\n    newArr.push(arr[i].substr(0, sLen));\n  }\n  return newArr;\n}\n\nconst monthUpdate = (\n  arrName: \"monthNames\" | \"monthNamesShort\" | \"dayNames\" | \"dayNamesShort\"\n) => (v: string, i18n: I18nSettings): number | null => {\n  const lowerCaseArr = i18n[arrName].map(v => v.toLowerCase());\n  const index = lowerCaseArr.indexOf(v.toLowerCase());\n  if (index > -1) {\n    return index;\n  }\n  return null;\n};\n\nexport function assign<A>(a: A): A;\nexport function assign<A, B>(a: A, b: B): A & B;\nexport function assign<A, B, C>(a: A, b: B, c: C): A & B & C;\nexport function assign<A, B, C, D>(a: A, b: B, c: C, d: D): A & B & C & D;\nexport function assign(origObj: any, ...args: any[]): any {\n  for (const obj of args) {\n    for (const key in obj) {\n      // @ts-ignore ex\n      origObj[key] = obj[key];\n    }\n  }\n  return origObj;\n}\n\nconst dayNames: Days = [\n  \"Sunday\",\n  \"Monday\",\n  \"Tuesday\",\n  \"Wednesday\",\n  \"Thursday\",\n  \"Friday\",\n  \"Saturday\"\n];\nconst monthNames: Months = [\n  \"January\",\n  \"February\",\n  \"March\",\n  \"April\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"August\",\n  \"September\",\n  \"October\",\n  \"November\",\n  \"December\"\n];\n\nconst monthNamesShort: Months = shorten(monthNames, 3) as Months;\nconst dayNamesShort: Days = shorten(dayNames, 3) as Days;\n\nconst defaultI18n: I18nSettings = {\n  dayNamesShort,\n  dayNames,\n  monthNamesShort,\n  monthNames,\n  amPm: [\"am\", \"pm\"],\n  DoFn(dayOfMonth: number) {\n    return (\n      dayOfMonth +\n      [\"th\", \"st\", \"nd\", \"rd\"][\n        dayOfMonth % 10 > 3\n          ? 0\n          : ((dayOfMonth - (dayOfMonth % 10) !== 10 ? 1 : 0) * dayOfMonth) % 10\n      ]\n    );\n  }\n};\nlet globalI18n = assign({}, defaultI18n);\nconst setGlobalDateI18n = (i18n: I18nSettingsOptional): I18nSettings =>\n  (globalI18n = assign(globalI18n, i18n));\n\nconst regexEscape = (str: string): string =>\n  str.replace(/[|\\\\{()[^$+*?.-]/g, \"\\\\$&\");\n\nconst pad = (val: string | number, len = 2): string => {\n  val = String(val);\n  while (val.length < len) {\n    val = \"0\" + val;\n  }\n  return val;\n};\n\nconst formatFlags: Record<\n  string,\n  (dateObj: Date, i18n: I18nSettings) => string\n> = {\n  D: (dateObj: Date): string => String(dateObj.getDate()),\n  DD: (dateObj: Date): string => pad(dateObj.getDate()),\n  Do: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.DoFn(dateObj.getDate()),\n  d: (dateObj: Date): string => String(dateObj.getDay()),\n  dd: (dateObj: Date): string => pad(dateObj.getDay()),\n  ddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNamesShort[dateObj.getDay()],\n  dddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNames[dateObj.getDay()],\n  M: (dateObj: Date): string => String(dateObj.getMonth() + 1),\n  MM: (dateObj: Date): string => pad(dateObj.getMonth() + 1),\n  MMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNamesShort[dateObj.getMonth()],\n  MMMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNames[dateObj.getMonth()],\n  YY: (dateObj: Date): string =>\n    pad(String(dateObj.getFullYear()), 4).substr(2),\n  YYYY: (dateObj: Date): string => pad(dateObj.getFullYear(), 4),\n  h: (dateObj: Date): string => String(dateObj.getHours() % 12 || 12),\n  hh: (dateObj: Date): string => pad(dateObj.getHours() % 12 || 12),\n  H: (dateObj: Date): string => String(dateObj.getHours()),\n  HH: (dateObj: Date): string => pad(dateObj.getHours()),\n  m: (dateObj: Date): string => String(dateObj.getMinutes()),\n  mm: (dateObj: Date): string => pad(dateObj.getMinutes()),\n  s: (dateObj: Date): string => String(dateObj.getSeconds()),\n  ss: (dateObj: Date): string => pad(dateObj.getSeconds()),\n  S: (dateObj: Date): string =>\n    String(Math.round(dateObj.getMilliseconds() / 100)),\n  SS: (dateObj: Date): string =>\n    pad(Math.round(dateObj.getMilliseconds() / 10), 2),\n  SSS: (dateObj: Date): string => pad(dateObj.getMilliseconds(), 3),\n  a: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1],\n  A: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12\n      ? i18n.amPm[0].toUpperCase()\n      : i18n.amPm[1].toUpperCase(),\n  ZZ(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60) * 100 + (Math.abs(offset) % 60), 4)\n    );\n  },\n  Z(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60), 2) +\n      \":\" +\n      pad(Math.abs(offset) % 60, 2)\n    );\n  }\n};\n\ntype ParseInfo = [\n  keyof DateInfo,\n  string,\n  ((v: string, i18n: I18nSettings) => number | null)?,\n  string?\n];\nconst monthParse = (v: string): number => +v - 1;\nconst emptyDigits: ParseInfo = [null, twoDigitsOptional];\nconst emptyWord: ParseInfo = [null, word];\nconst amPm: ParseInfo = [\n  \"isPm\",\n  word,\n  (v: string, i18n: I18nSettings): number | null => {\n    const val = v.toLowerCase();\n    if (val === i18n.amPm[0]) {\n      return 0;\n    } else if (val === i18n.amPm[1]) {\n      return 1;\n    }\n    return null;\n  }\n];\nconst timezoneOffset: ParseInfo = [\n  \"timezoneOffset\",\n  \"[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z?\",\n  (v: string): number | null => {\n    const parts = (v + \"\").match(/([+-]|\\d\\d)/gi);\n\n    if (parts) {\n      const minutes = +parts[1] * 60 + parseInt(parts[2], 10);\n      return parts[0] === \"+\" ? minutes : -minutes;\n    }\n\n    return 0;\n  }\n];\nconst parseFlags: Record<string, ParseInfo> = {\n  D: [\"day\", twoDigitsOptional],\n  DD: [\"day\", twoDigits],\n  Do: [\"day\", twoDigitsOptional + word, (v: string): number => parseInt(v, 10)],\n  M: [\"month\", twoDigitsOptional, monthParse],\n  MM: [\"month\", twoDigits, monthParse],\n  YY: [\n    \"year\",\n    twoDigits,\n    (v: string): number => {\n      const now = new Date();\n      const cent = +(\"\" + now.getFullYear()).substr(0, 2);\n      return +(\"\" + (+v > 68 ? cent - 1 : cent) + v);\n    }\n  ],\n  h: [\"hour\", twoDigitsOptional, undefined, \"isPm\"],\n  hh: [\"hour\", twoDigits, undefined, \"isPm\"],\n  H: [\"hour\", twoDigitsOptional],\n  HH: [\"hour\", twoDigits],\n  m: [\"minute\", twoDigitsOptional],\n  mm: [\"minute\", twoDigits],\n  s: [\"second\", twoDigitsOptional],\n  ss: [\"second\", twoDigits],\n  YYYY: [\"year\", fourDigits],\n  S: [\"millisecond\", \"\\\\d\", (v: string): number => +v * 100],\n  SS: [\"millisecond\", twoDigits, (v: string): number => +v * 10],\n  SSS: [\"millisecond\", threeDigits],\n  d: emptyDigits,\n  dd: emptyDigits,\n  ddd: emptyWord,\n  dddd: emptyWord,\n  MMM: [\"month\", word, monthUpdate(\"monthNamesShort\")],\n  MMMM: [\"month\", word, monthUpdate(\"monthNames\")],\n  a: amPm,\n  A: amPm,\n  ZZ: timezoneOffset,\n  Z: timezoneOffset\n};\n\n// Some common format strings\nconst globalMasks: { [key: string]: string } = {\n  default: \"ddd MMM DD YYYY HH:mm:ss\",\n  shortDate: \"M/D/YY\",\n  mediumDate: \"MMM D, YYYY\",\n  longDate: \"MMMM D, YYYY\",\n  fullDate: \"dddd, MMMM D, YYYY\",\n  isoDate: \"YYYY-MM-DD\",\n  isoDateTime: \"YYYY-MM-DDTHH:mm:ssZ\",\n  shortTime: \"HH:mm\",\n  mediumTime: \"HH:mm:ss\",\n  longTime: \"HH:mm:ss.SSS\"\n};\nconst setGlobalDateMasks = (masks: {\n  [key: string]: string;\n}): { [key: string]: string } => assign(globalMasks, masks);\n\n/***\n * Format a date\n * @method format\n * @param {Date|number} dateObj\n * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n * @returns {string} Formatted date string\n */\nconst format = (\n  dateObj: Date,\n  mask: string = globalMasks[\"default\"],\n  i18n: I18nSettingsOptional = {}\n): string => {\n  if (typeof dateObj === \"number\") {\n    dateObj = new Date(dateObj);\n  }\n\n  if (\n    Object.prototype.toString.call(dateObj) !== \"[object Date]\" ||\n    isNaN(dateObj.getTime())\n  ) {\n    throw new Error(\"Invalid Date pass to format\");\n  }\n\n  mask = globalMasks[mask] || mask;\n\n  const literals: string[] = [];\n\n  // Make literals inactive by replacing them with @@@\n  mask = mask.replace(literal, function($0, $1) {\n    literals.push($1);\n    return \"@@@\";\n  });\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n  // Apply formatting rules\n  mask = mask.replace(token, $0 =>\n    formatFlags[$0](dateObj, combinedI18nSettings)\n  );\n  // Inline literal values back into the formatted value\n  return mask.replace(/@@@/g, () => literals.shift());\n};\n\n/**\n * Parse a date string into a Javascript Date object /\n * @method parse\n * @param {string} dateStr Date string\n * @param {string} format Date parse format\n * @param {i18n} I18nSettingsOptional Full or subset of I18N settings\n * @returns {Date|null} Returns Date object. Returns null what date string is invalid or doesn't match format\n */\nfunction parse(\n  dateStr: string,\n  format: string,\n  i18n: I18nSettingsOptional = {}\n): Date | null {\n  if (typeof format !== \"string\") {\n    throw new Error(\"Invalid format in fecha parse\");\n  }\n\n  // Check to see if the format is actually a mask\n  format = globalMasks[format] || format;\n\n  // Avoid regular expression denial of service, fail early for really long strings\n  // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n  if (dateStr.length > 1000) {\n    return null;\n  }\n\n  // Default to the beginning of the year.\n  const today = new Date();\n  const dateInfo: DateInfo = {\n    year: today.getFullYear(),\n    month: 0,\n    day: 1,\n    hour: 0,\n    minute: 0,\n    second: 0,\n    millisecond: 0,\n    isPm: null,\n    timezoneOffset: null\n  };\n  const parseInfo: ParseInfo[] = [];\n  const literals: string[] = [];\n\n  // Replace all the literals with @@@. Hopefully a string that won't exist in the format\n  let newFormat = format.replace(literal, ($0, $1) => {\n    literals.push(regexEscape($1));\n    return \"@@@\";\n  });\n  const specifiedFields: { [field: string]: boolean } = {};\n  const requiredFields: { [field: string]: boolean } = {};\n\n  // Change every token that we find into the correct regex\n  newFormat = regexEscape(newFormat).replace(token, $0 => {\n    const info = parseFlags[$0];\n    const [field, regex, , requiredField] = info;\n\n    // Check if the person has specified the same field twice. This will lead to confusing results.\n    if (specifiedFields[field]) {\n      throw new Error(`Invalid format. ${field} specified twice in format`);\n    }\n\n    specifiedFields[field] = true;\n\n    // Check if there are any required fields. For instance, 12 hour time requires AM/PM specified\n    if (requiredField) {\n      requiredFields[requiredField] = true;\n    }\n\n    parseInfo.push(info);\n    return \"(\" + regex + \")\";\n  });\n\n  // Check all the required fields are present\n  Object.keys(requiredFields).forEach(field => {\n    if (!specifiedFields[field]) {\n      throw new Error(\n        `Invalid format. ${field} is required in specified format`\n      );\n    }\n  });\n\n  // Add back all the literals after\n  newFormat = newFormat.replace(/@@@/g, () => literals.shift());\n\n  // Check if the date string matches the format. If it doesn't return null\n  const matches = dateStr.match(new RegExp(newFormat, \"i\"));\n  if (!matches) {\n    return null;\n  }\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n\n  // For each match, call the parser function for that date part\n  for (let i = 1; i < matches.length; i++) {\n    const [field, , parser] = parseInfo[i - 1];\n    const value = parser\n      ? parser(matches[i], combinedI18nSettings)\n      : +matches[i];\n\n    // If the parser can't make sense of the value, return null\n    if (value == null) {\n      return null;\n    }\n\n    dateInfo[field] = value;\n  }\n\n  if (dateInfo.isPm === 1 && dateInfo.hour != null && +dateInfo.hour !== 12) {\n    dateInfo.hour = +dateInfo.hour + 12;\n  } else if (dateInfo.isPm === 0 && +dateInfo.hour === 12) {\n    dateInfo.hour = 0;\n  }\n\n  let dateTZ: Date;\n  if (dateInfo.timezoneOffset == null) {\n    dateTZ = new Date(\n      dateInfo.year,\n      dateInfo.month,\n      dateInfo.day,\n      dateInfo.hour,\n      dateInfo.minute,\n      dateInfo.second,\n      dateInfo.millisecond\n    );\n    const validateFields: [\n      \"month\" | \"day\" | \"hour\" | \"minute\" | \"second\",\n      \"getMonth\" | \"getDate\" | \"getHours\" | \"getMinutes\" | \"getSeconds\"\n    ][] = [\n      [\"month\", \"getMonth\"],\n      [\"day\", \"getDate\"],\n      [\"hour\", \"getHours\"],\n      [\"minute\", \"getMinutes\"],\n      [\"second\", \"getSeconds\"]\n    ];\n    for (let i = 0, len = validateFields.length; i < len; i++) {\n      // Check to make sure the date field is within the allowed range. Javascript dates allows values\n      // outside the allowed range. If the values don't match the value was invalid\n      if (\n        specifiedFields[validateFields[i][0]] &&\n        dateInfo[validateFields[i][0]] !== dateTZ[validateFields[i][1]]()\n      ) {\n        return null;\n      }\n    }\n  } else {\n    dateTZ = new Date(\n      Date.UTC(\n        dateInfo.year,\n        dateInfo.month,\n        dateInfo.day,\n        dateInfo.hour,\n        dateInfo.minute - dateInfo.timezoneOffset,\n        dateInfo.second,\n        dateInfo.millisecond\n      )\n    );\n\n    // We can't validate dates in another timezone unfortunately. Do a basic check instead\n    if (\n      dateInfo.month > 11 ||\n      dateInfo.month < 0 ||\n      dateInfo.day > 31 ||\n      dateInfo.day < 1 ||\n      dateInfo.hour > 23 ||\n      dateInfo.hour < 0 ||\n      dateInfo.minute > 59 ||\n      dateInfo.minute < 0 ||\n      dateInfo.second > 59 ||\n      dateInfo.second < 0\n    ) {\n      return null;\n    }\n  }\n\n  // Don't allow invalid dates\n\n  return dateTZ;\n}\nexport default {\n  format,\n  parse,\n  defaultI18n,\n  setGlobalDateI18n,\n  setGlobalDateMasks\n};\nexport { format, parse, defaultI18n, setGlobalDateI18n, setGlobalDateMasks };\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/*  */\n\n// G\nexport {\n  ICanvas,\n  IElement,\n  IGroup,\n  IShape,\n  PathCommand,\n  BBox,\n  Point,\n  ShapeAttrs,\n  Event,\n  AbstractGroup,\n  AbstractShape,\n} from '@antv/g-base';\n//  G-base  g engine \nexport type IG = any;\n\n// adjust\nexport { registerAdjust, getAdjust, Adjust } from '@antv/adjust';\n\n// attr\nexport { getAttribute, Attribute } from '@antv/attr';\nexport { Color } from '@antv/attr';\n\n// coordinate\nexport { getCoordinate, registerCoordinate, Coordinate, CoordinateCfg } from '@antv/coord';\n\n// scale\nexport { getScale, registerScale, Scale, ScaleConfig, Tick } from '@antv/scale';\n\n// component\nimport {\n  Annotation,\n  Axis,\n  Component,\n  Crosshair,\n  Grid,\n  GroupComponent,\n  HtmlComponent,\n  Legend,\n  Slider,\n  Tooltip,\n  Scrollbar,\n} from '@antv/component';\n\nexport {\n  CategoryLegendCfg,\n  CircleAxisCfg,\n  LineAxisCfg,\n  GroupComponentCfg,\n  ListItem,\n  AxisLineCfg,\n  AxisTickLineCfg,\n  AxisSubTickLineCfg,\n  AxisTitleCfg,\n  AxisLabelCfg,\n  GridLineCfg,\n  LegendMarkerCfg,\n  LegendTitleCfg,\n  LegendBackgroundCfg,\n  LegendItemNameCfg,\n  LegendItemValueCfg,\n  LegendPageNavigatorCfg,\n  ContinueLegendCfg,\n  ContinueLegendTrackCfg,\n  ContinueLegendRailCfg,\n  ContinueLegendLabelCfg,\n  ContinueLegendHandlerCfg,\n  CrosshairLineCfg,\n  CrosshairTextCfg,\n  CrosshairTextBackgroundCfg,\n  SliderCfg,\n  TrendCfg,\n  EnhancedTextCfg,\n  LineAnnotationTextCfg,\n  IComponent,\n  IList,\n} from '@antv/component';\n\nexport { HtmlComponent, GroupComponent, Component, Crosshair };\nexport { Annotation };\n// axis\nconst { Line: LineAxis, Circle: CircleAxis } = Axis;\nexport { LineAxis, CircleAxis };\n// grid\nconst { Line: LineGrid, Circle: CircleGrid } = Grid;\nexport { LineGrid, CircleGrid };\n// legend\nconst { Category: CategoryLegend, Continuous: ContinuousLegend } = Legend;\nexport { CategoryLegend, ContinuousLegend };\n// Tooltip\nconst { Html: HtmlTooltip } = Tooltip;\nexport { HtmlTooltip };\n// Slider\nexport { Slider };\n// Scrollbar\nexport { Scrollbar };\n","import { BBox } from '@antv/g-svg';\nimport { each, isEmpty, isNumber, isNumberEqual, max, min } from '@antv/util';\nimport { Coordinate, IShape, Point } from '../dependents';\nimport { ShapeInfo } from '../interface';\n\n// \nfunction getPointsBox(points) {\n  if (isEmpty(points)) {\n    return null;\n  }\n\n  let minX = points[0].x;\n  let maxX = points[0].x;\n  let minY = points[0].y;\n  let maxY = points[0].y;\n  each(points, (point) => {\n    minX = minX > point.x ? point.x : minX;\n    maxX = maxX < point.x ? point.x : maxX;\n    minY = minY > point.y ? point.y : minY;\n    maxY = maxY < point.y ? point.y : maxY;\n  });\n\n  return {\n    minX,\n    maxX,\n    minY,\n    maxY,\n    centerX: (minX + maxX) / 2,\n    centerY: (minY + maxY) / 2,\n  };\n}\n\nfunction uniqueValues<T = number>(array: T[]) {\n  return Array.from(new Set(array)).length === 1;\n}\n\nfunction mid(array: number[]) {\n  return (min(array) + max(array)) / 2;\n}\n\n/**\n * @ignore\n * \n * @param centerX\n * @param centerY\n * @param radius\n * @param angleInRadian\n * @returns\n */\nexport function polarToCartesian(centerX: number, centerY: number, radius: number, angleInRadian: number) {\n  return {\n    x: centerX + radius * Math.cos(angleInRadian),\n    y: centerY + radius * Math.sin(angleInRadian),\n  };\n}\n\n/**\n * @ignore\n *  path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getSectorPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number,\n  innerRadius: number = 0\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  const innerStart = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian);\n  const innerEnd = polarToCartesian(centerX, centerY, innerRadius, endAngleInRadian);\n\n  if (endAngleInRadian - startAngleInRadian === Math.PI * 2) {\n    // \n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    const innerMiddlePoint = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian + Math.PI);\n    const circlePathCommands = [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, end.x, end.y],\n      ['M', innerStart.x, innerStart.y],\n    ];\n    if (innerRadius) {\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerMiddlePoint.x, innerMiddlePoint.y]);\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerEnd.x, innerEnd.y]);\n    }\n\n    circlePathCommands.push(['M', start.x, start.y]);\n    circlePathCommands.push(['Z']);\n\n    return circlePathCommands;\n  }\n\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  const sectorPathCommands = [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n    ['L', innerEnd.x, innerEnd.y],\n  ];\n  if (innerRadius) {\n    sectorPathCommands.push(['A', innerRadius, innerRadius, 0, arcSweep, 0, innerStart.x, innerStart.y]);\n  }\n  sectorPathCommands.push(['L', start.x, start.y]);\n  sectorPathCommands.push(['Z']);\n\n  return sectorPathCommands;\n}\n\n/**\n * @ignore\n * Gets arc path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getArcPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  if (isNumberEqual(endAngleInRadian - startAngleInRadian, Math.PI * 2)) {\n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    return [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, start.x, start.y],\n      ['A', radius, radius, 0, 1, 0, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 0, start.x, start.y],\n      ['Z'],\n    ];\n  }\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  return [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n  ];\n}\n\n/**\n * @ignore\n *  points \n * @param shapeModel\n * @param coordinate\n * @returns\n */\nexport function getAngle(shapeModel: ShapeInfo, coordinate: Coordinate) {\n  const points = shapeModel.points;\n  const box = getPointsBox(points);\n  let endAngle;\n  let startAngle;\n  const { startAngle: coordStartAngle, endAngle: coordEndAngle } = coordinate;\n  const diffAngle = coordEndAngle - coordStartAngle;\n\n  if (coordinate.isTransposed) {\n    endAngle = box.maxY * diffAngle;\n    startAngle = box.minY * diffAngle;\n  } else {\n    endAngle = box.maxX * diffAngle;\n    startAngle = box.minX * diffAngle;\n  }\n  endAngle += coordStartAngle;\n  startAngle += coordStartAngle;\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n * : https://en.wikipedia.org/wiki/Centroid#Of_a_polygon\n */\nexport function getPolygonCentroid(xs: number | number[], ys: number | number[]) {\n  if (isNumber(xs) && isNumber(ys)) {\n    // xs  ys \n    return [xs, ys];\n  }\n\n  xs = xs as number[];\n  ys = ys as number[];\n  //  polygon \n  //  xs [1, 1, 1, 1]\n  //  ys [0, 0, 0, 0]\n  //  k = 0\n  //  [NaN, NaN]\n  // \n  if (uniqueValues(xs) || uniqueValues(ys)) return [mid(xs), mid(ys)];\n\n  let i = -1;\n  let x = 0;\n  let y = 0;\n  let former;\n  let current = xs.length - 1;\n  let diff;\n  let k = 0;\n  while (++i < xs.length) {\n    former = current;\n    current = i;\n    k += diff = xs[former] * ys[current] - xs[current] * ys[former];\n    x += (xs[former] + xs[current]) * diff;\n    y += (ys[former] + ys[current]) * diff;\n  }\n  k *= 3;\n  return [x / k, y / k];\n}\n\n/**\n * @ignore\n *  undefined\n */\nexport function getReplaceAttrs(sourceShape: IShape, targetShape: IShape) {\n  const originAttrs = sourceShape.attr();\n  const newAttrs = targetShape.attr();\n  each(originAttrs, (v, k) => {\n    if (newAttrs[k] === undefined) {\n      newAttrs[k] = undefined;\n    }\n  });\n  return newAttrs;\n}\n","import { isArray, isString } from '@antv/util';\n\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value: number, start: number, end: number): boolean {\n  const min = Math.min(start, end);\n  const max = Math.max(start, end);\n\n  return value >= min && value <= max;\n}\n\n/**\n * @ignore\n * pads the current string/array with a given value (repeated, if needed) so that the resulting reaches a given length.\n * The padding is applied from the end of the current value.\n *\n * @param source\n * @param targetLength\n * @param padValue\n * @returns\n */\nexport function padEnd(source: string | any[], targetLength: number, padValue: any) {\n  if (isString(source)) {\n    return source.padEnd(targetLength, padValue);\n  } else if (isArray(source)) {\n    const sourceLength = source.length;\n    if (sourceLength < targetLength) {\n      const diff = targetLength - sourceLength;\n      for (let i = 0; i < diff; i++) {\n        source.push(padValue);\n      }\n    }\n  }\n\n  return source;\n}\n\n/**\n * @ignore\n * omit keys of an object.\n * @param obj\n * @param keys\n */\nexport function omit<T = any>(obj: T, keys: string[]): T {\n  if (typeof obj === 'object') {\n    keys.forEach((key: string) => {\n      delete obj[key];\n    });\n  }\n\n  return obj;\n}\n\n/**\n * @ignore\n * @param sourceArray\n * @param targetArray\n * @param map\n */\nexport function uniq(sourceArray: any[], targetArray: any[] = [], map: Map<any, boolean> = new Map()) {\n  for (const source of sourceArray) {\n    if (!map.has(source)) {\n      targetArray.push(source);\n      map.set(source, true);\n    }\n  }\n  return targetArray;\n}\n","import { each } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Padding, Point, Region } from '../interface';\nimport { BBox as BBoxObject } from '../dependents';\n\n/**\n * \n */\nexport class BBox {\n  /** x  */\n  public x: number;\n  /** y  */\n  public y: number;\n  /**  */\n  public height: number;\n  /**  */\n  public width: number;\n\n  public static fromRange(minX: number, minY: number, maxX: number, maxY: number) {\n    return new BBox(minX, minY, maxX - minX, maxY - minY);\n  }\n\n  public static fromObject(bbox: BBoxObject) {\n    return new BBox(bbox.minX, bbox.minY, bbox.width, bbox.height);\n  }\n\n  constructor(x: number = 0, y: number = 0, width: number = 0, height: number = 0) {\n    this.x = x;\n    this.y = y;\n    this.height = height;\n    this.width = width;\n  }\n\n  public get minX(): number {\n    return this.x;\n  }\n\n  public get maxX(): number {\n    return this.x + this.width;\n  }\n\n  public get minY(): number {\n    return this.y;\n  }\n\n  public get maxY(): number {\n    return this.y + this.height;\n  }\n\n  public get tl(): Point {\n    return { x: this.x, y: this.y };\n  }\n\n  public get tr(): Point {\n    return { x: this.maxX, y: this.y };\n  }\n\n  public get bl(): Point {\n    return { x: this.x, y: this.maxY };\n  }\n\n  public get br(): Point {\n    return { x: this.maxX, y: this.maxY };\n  }\n\n  public get top(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.minY,\n    };\n  }\n\n  public get right(): Point {\n    return {\n      x: this.maxX,\n      y: this.y + this.height / 2,\n    };\n  }\n  public get bottom(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.maxY,\n    };\n  }\n  public get left(): Point {\n    return {\n      x: this.minX,\n      y: this.y + this.height / 2,\n    };\n  }\n  // end \n\n  /**\n   * \n   * @param {BBox} bbox \n   * @returns      \n   */\n  public isEqual(bbox: BBox): boolean {\n    return this.x === bbox.x && this.y === bbox.y && this.width === bbox.width && this.height === bbox.height;\n  }\n\n  /**\n   * \n   * @param child\n   */\n  public contains(child: BBox): boolean {\n    return child.minX >= this.minX && child.maxX <= this.maxX && child.minY >= this.minY && child.maxY <= this.maxY;\n  }\n\n  /**\n   * \n   * @returns \n   */\n  public clone(): BBox {\n    return new BBox(this.x, this.y, this.width, this.height);\n  }\n\n  /**\n   * \n   * @param subBBox\n   */\n  public add(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.min(b.x, bbox.x);\n      bbox.y = Math.min(b.y, bbox.y);\n      bbox.width = Math.max(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.max(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * \n   * @param subBBox\n   */\n  public merge(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.max(b.x, bbox.x);\n      bbox.y = Math.max(b.y, bbox.y);\n      bbox.width = Math.min(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.min(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * bbox \n   * @param subBBox\n   * @param direction\n   */\n  public cut(subBBox: BBox, direction: DIRECTION): BBox {\n    const width = subBBox.width;\n    const height = subBBox.height;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        return BBox.fromRange(this.minX, this.minY + height, this.maxX, this.maxY);\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        return BBox.fromRange(this.minX, this.minY, this.maxX - width, this.maxY);\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        return BBox.fromRange(this.minX, this.minY, this.maxX, this.maxY - height);\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        return BBox.fromRange(this.minX + width, this.minY, this.maxX, this.maxY);\n      default:\n        // \n        return this;\n    }\n  }\n\n  /**\n   * \n   * @param gap\n   */\n  public shrink(gap: Padding): BBox {\n    const [top, right, bottom, left] = gap;\n\n    return new BBox(this.x + left, this.y + top, this.width - left - right, this.height - top - bottom);\n  }\n\n  /**\n   * \n   * @param gap\n   */\n  public expand(gap: Padding): BBox {\n    const [top, right, bottom, left] = gap;\n\n    return new BBox(this.x - left, this.y - top, this.width + left + right, this.height + top + bottom);\n  }\n\n  /**\n   * get the gap of two bbox, if not exceed, then 0\n   * @param bbox\n   * @returns [top, right, bottom, left]\n   */\n  public exceed(bbox: BBox): Padding {\n    return [\n      Math.max(-this.minY + bbox.minY, 0),\n      Math.max(this.maxX - bbox.maxX, 0),\n      Math.max(this.maxY - bbox.maxY, 0),\n      Math.max(-this.minX + bbox.minX, 0),\n    ];\n  }\n\n  /**\n   * \n   * @param bbox\n   */\n  public collide(bbox: BBox): boolean {\n    return this.minX < bbox.maxX && this.maxX > bbox.minX && this.minY < bbox.maxY && this.maxY > bbox.minY;\n  }\n\n  /**\n   * \n   * @returns \n   */\n  public size(): number {\n    return this.width * this.height;\n  }\n\n  /**\n   *  bbox \n   * @param p\n   */\n  public isPointIn(p: Point) {\n    return p.x >= this.minX && p.x <= this.maxX && p.y >= this.minY && p.y <= this.maxY;\n  }\n}\n\n/**\n *  bbox  region  bbox\n * @param bbox\n * @param region\n */\nexport const getRegionBBox = (bbox: BBox, region: Region): BBox => {\n  const { start, end } = region;\n\n  return new BBox(\n    bbox.x + bbox.width * start.x,\n    bbox.y + bbox.height * start.y,\n    bbox.width * Math.abs(end.x - start.x),\n    bbox.height * Math.abs(end.y - start.y)\n  );\n};\n\n/**\n *  bbox  points\n * @param bbox\n */\nexport function toPoints(bbox: Partial<BBox>): any[] {\n  return [\n    [bbox.minX, bbox.minY],\n    [bbox.maxX, bbox.minY],\n    [bbox.maxX, bbox.maxY],\n    [bbox.minX, bbox.maxY],\n  ];\n}\n","import { Coordinate } from '../dependents';\nimport { Point } from '../interface';\nimport { getSectorPath } from './graphics';\nimport { isBetween } from './helper';\nimport { BBox } from './bbox';\n\n/**\n * @ignore\n * Gets x dimension length\n * @param coordinate\n * @returns x dimension length\n */\nexport function getXDimensionLength(coordinate): number {\n  if (coordinate.isPolar && !coordinate.isTransposed) {\n    //  width \n    return (coordinate.endAngle - coordinate.startAngle) * coordinate.getRadius();\n  }\n\n  // \n  const start = coordinate.convert({ x: 0, y: 0 });\n  const end = coordinate.convert({ x: 1, y: 0 });\n  //  transpose \n  return Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n}\n\n/**\n * @ignore\n * Determines whether full circle is\n * @param coordinate\n * @returns true if full circle\n */\nexport function isFullCircle(coordinate: Coordinate): boolean {\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    return endAngle - startAngle === Math.PI * 2;\n  }\n  return false;\n}\n\n/**\n * @ignore\n * \n * @param coordinate \n * @param point \n * @returns distance to center\n */\nexport function getDistanceToCenter(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter() as Point;\n  return Math.sqrt((point.x - center.x) ** 2 + (point.y - center.y) ** 2);\n}\n\n/**\n * @ignore\n * \n * @param coordinate\n * @param point\n */\nexport function isPointInCoordinate(coordinate: Coordinate, point: Point) {\n  let result = false;\n\n  if (coordinate) {\n    if (coordinate.type === 'theta') {\n      const { start, end } = coordinate;\n      result = isBetween(point.x, start.x, end.x) && isBetween(point.y, start.y, end.y);\n    } else {\n      const invertPoint = coordinate.invert(point);\n    \n      result = isBetween(invertPoint.x, 0, 1) && isBetween(invertPoint.y, 0, 1);\n    }\n  }\n\n  return result;\n}\n\n/**\n * @ignore\n * \n */\nexport function getAngleByPoint(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter();\n  return Math.atan2(point.y - center.y, point.x - center.x);\n}\n\n/**\n * @ignore\n * \n * @param coordinate\n * @returns\n */\nexport function getCoordinateClipCfg(coordinate: Coordinate, margin: number = 0) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    const center = coordinate.getCenter();\n    const radius = coordinate.getRadius();\n\n    return {\n      type: 'path',\n      startState: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, startAngle),\n      },\n      endState: (ratio) => {\n        const diff = (endAngle - startAngle) * ratio + startAngle;\n        const path = getSectorPath(center.x, center.y, radius + margin, startAngle, diff);\n        return {\n          path,\n        };\n      },\n      attrs: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, endAngle),\n      },\n    };\n  }\n\n  let endState;\n  if (coordinate.isTransposed) {\n    endState = {\n      height: height + margin * 2,\n    };\n  } else {\n    endState = {\n      width: width + margin * 2,\n    };\n  }\n\n  return {\n    type: 'rect',\n    startState: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: coordinate.isTransposed ? width + margin * 2 : 0,\n      height: coordinate.isTransposed ? 0 : height + margin * 2,\n    },\n    endState,\n    attrs: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: width + margin * 2,\n      height: height + margin * 2,\n    },\n  };\n}\n\n/**\n *  BBox\n * @param coordinate\n * @param margin\n */\nexport function getCoordinateBBox(coordinate: Coordinate, margin = 0) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n  const minX = Math.min(start.x, end.x);\n  const minY = Math.min(start.y, end.y);\n\n  return BBox.fromRange(minX - margin, minY - margin, minX + width + margin, minY + height + margin);\n}\n","import { firstValue, get, isEmpty, isNil, isNumber, isString, valuesOfKey } from '@antv/util';\nimport { GROUP_ATTRS } from '../constant';\nimport { getScale, Scale, Coordinate } from '../dependents';\nimport { LooseObject, ScaleOption, ViewCfg } from '../interface';\nimport { isFullCircle } from './coordinate';\n\nconst dateRegex =\n  /^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\\1(?:29|30)|(?:0?[13578]|1[02])\\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\\2(?:29))(\\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;\n\n/**\n * \n * @param field \n * @param data \n * @returns default type \n */\nfunction getDefaultType(value: any): string {\n  let type = 'linear';\n  if (dateRegex.test(value)) {\n    type = 'timeCat';\n  } else if (isString(value)) {\n    type = 'cat';\n  }\n  return type;\n}\n\n/**\n * using the scale type if user specified, otherwise infer the type\n */\nexport function inferScaleType(scale: Scale, scaleDef: ScaleOption = {}, attrType: string, geometryType: string): string {\n  if (scaleDef.type) return scaleDef.type;\n  // identity scale \n  // geometry : edge,heatmap,interval,line,path,point,polygon,schema,voilininterval  linear scale \n  if (scale.type !== 'identity' && GROUP_ATTRS.includes(attrType) && ['interval'].includes(geometryType)) {\n    return 'cat';\n  }\n  return scale.isCategory ? 'cat' : scale.type;\n}\n\n/**\n * @ignore\n *  `field`  scale\n * @param field \n * @param [data] \n * @param [scaleDef] \n * @returns scale  Scale \n */\nexport function createScaleByField(field: string | number, data?: LooseObject[] | [], scaleDef?: ScaleOption): Scale {\n  const validData = data || [];\n\n  if (isNumber(field) || (isNil(firstValue(validData, field)) && isEmpty(scaleDef))) {\n    const Identity = getScale('identity');\n    return new Identity({\n      field: field.toString(),\n      values: [field],\n    });\n  }\n\n  const values = valuesOfKey(validData, field);\n\n  //  (fix-later  scale type )\n  const type = get(scaleDef, 'type', getDefaultType(values[0]));\n  const ScaleCtor = getScale(type);\n  return new ScaleCtor({\n    field,\n    values,\n    ...scaleDef,\n  });\n}\n\n/**\n * @ignore\n *  scale\n * @todo  scale.update() \n * @param scale  scale \n * @param newScale  Scale\n */\nexport function syncScale(scale: Scale, newScale: Scale) {\n  if (scale.type !== 'identity' && newScale.type !== 'identity') {\n    const obj = {};\n    for (const k in newScale) {\n      if (Object.prototype.hasOwnProperty.call(newScale, k)) {\n        obj[k] = newScale[k];\n      }\n    }\n\n    scale.change(obj);\n  }\n}\n\n/**\n * @ignore\n * get the scale name, if alias exist, return alias, or else field\n * @param scale\n * @returns the name of field\n */\nexport function getName(scale: Scale): string {\n  return scale.alias || scale.field;\n}\n\n/**\n *  scale values  coordinate  range\n * @param scale  scale \n * @param coordinate coordinate \n * @param theme theme\n */\nexport function getDefaultCategoryScaleRange(\n  scale: Scale,\n  coordinate: Coordinate,\n  theme: ViewCfg['theme']\n): Scale['range'] {\n  const { values } = scale;\n  const count = values.length;\n  let range;\n\n  if (count === 1) {\n    range = [0.5, 1]; // , [0.5,0.5] \n  } else {\n    let widthRatio = 1;\n    let offset = 0;\n\n    if (isFullCircle(coordinate)) {\n      if (!coordinate.isTransposed) {\n        range = [0, 1 - 1 / count];\n      } else {\n        widthRatio = get(theme, 'widthRatio.multiplePie', 1 / 1.3);\n        offset = (1 / count) * widthRatio;\n        range = [offset / 2, 1 - offset / 2];\n      }\n    } else {\n      offset = 1 / count / 2; // \n      range = [offset, 1 - offset]; // \n    }\n  }\n  return range;\n}\n\n/**\n * @function yscalemax\n * @param {yScale}\n */\nexport function getMaxScale(scale: Scale) {\n  // values[] NaN/undefined/null \n  const values = scale.values.filter((item) => !isNil(item) && !isNaN(item));\n\n  return Math.max(...values, isNil(scale.max) ? -Infinity : scale.max);\n}\n","import { deepMix, get, isBoolean } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale } from '../dependents';\nimport { AxisCfg, AxisOption, Point, Region } from '../interface';\nimport { getName } from './scale';\nimport { vec2 } from '@antv/matrix-util';\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is rect\n * @param direction\n * @returns axis coordinate region\n */\nexport function getLineAxisRelativeRegion(direction: DIRECTION): Region {\n  let start;\n  let end;\n\n  switch (direction) {\n    case DIRECTION.TOP:\n      start = { x: 0, y: 1 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.RIGHT:\n      start = { x: 1, y: 0 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.BOTTOM:\n      start = { x: 0, y: 0 };\n      end = { x: 1, y: 0 };\n      break;\n    case DIRECTION.LEFT:\n      start = { x: 0, y: 0 };\n      end = { x: 0, y: 1 };\n      break;\n    default:\n      start = end = { x: 0, y: 0 };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is polar\n * @param coordinate\n * @returns axis coordinate region\n */\nexport function getCircleAxisRelativeRegion(coordinate: Coordinate) {\n  let start;\n  let end;\n  if (coordinate.isTransposed) {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 1,\n      y: 0,\n    };\n  } else {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 0,\n      y: 1,\n    };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get the axis region from coordinate\n * @param coordinate\n * @param direction\n * @returns the axis region (start point, end point)\n */\nexport function getAxisRegion(coordinate: Coordinate, direction: DIRECTION): Region {\n  let region = { start: { x: 0, y: 0 }, end: { x: 0, y: 0 } };\n  if (coordinate.isRect) {\n    region = getLineAxisRelativeRegion(direction);\n  } else if (coordinate.isPolar) {\n    region = getCircleAxisRelativeRegion(coordinate);\n  }\n\n  const { start, end } = region;\n  return {\n    start: coordinate.convert(start),\n    end: coordinate.convert(end),\n  };\n}\n\n/**\n * @ignore\n * get axis factor\n * @param coordinate\n * @param direction\n * @returns factor\n */\nexport function getAxisFactor(coordinate: Coordinate, direction: DIRECTION): number {\n  // rect coordinate, by direction\n  if (coordinate.isRect) {\n    return coordinate.isTransposed\n      ? [DIRECTION.RIGHT, DIRECTION.BOTTOM].includes(direction)\n        ? 1\n        : -1\n      : [DIRECTION.BOTTOM, DIRECTION.RIGHT].includes(direction)\n      ? -1\n      : 1;\n  }\n\n  // polar y axis, by angle\n  if (coordinate.isPolar) {\n    const startAngle = coordinate.x.start;\n    return startAngle < 0 ? -1 : 1;\n  }\n\n  return 1;\n}\n\n/**\n * @ignore\n * whether the axis isVertical\n * @param region\n * @returns isVertical\n */\nexport function isVertical(region: Region): boolean {\n  const { start, end } = region;\n\n  return start.x === end.x;\n}\n\n/**\n * @ignore\n * get factor by region (real position)\n * @param region\n * @param center\n * @returns factor\n */\nexport function getAxisFactorByRegion(region: Region, center: Point): number {\n  const { start, end } = region;\n\n  const isAxisVertical = isVertical(region);\n\n  // \n  if (isAxisVertical) {\n    // ,,\n    if ((start.y - end.y) * (center.x - start.x) > 0) {\n      return 1;\n    } else {\n      return -1;\n    }\n  } else {\n    // ,,\n    if ((end.x - start.x) * (start.y - center.y) > 0) {\n      return -1;\n    } else {\n      return 1;\n    }\n  }\n}\n\n/**\n * @ignore\n * get the axis cfg from theme, will mix the common cfg of legend theme\n *\n * @param theme view theme object\n * @param direction axis direction\n * @returns axis theme cfg\n */\nexport function getAxisThemeCfg(theme: object, direction: string): object {\n  const axisTheme = get(theme, ['components', 'axis'], {});\n  return deepMix({}, get(axisTheme, ['common'], {}), deepMix({}, get(axisTheme, [direction], {})));\n}\n\n/**\n * get the options of axis titlemix the cfg from theme, avoid common themeCfg not work\n * @param theme\n * @param direction\n * @param axisOptions\n * @returns axis title options\n */\nexport function getAxisTitleOptions(theme: object, direction: string, axisOptions?: object): object {\n  const axisTheme = get(theme, ['components', 'axis'], {});\n  return deepMix(\n    {},\n    get(axisTheme, ['common', 'title'], {}),\n    deepMix({}, get(axisTheme, [direction, 'title'], {})),\n    axisOptions\n  );\n}\n\n/**\n * @ignore\n * get circle axis center and radius\n * @param coordinate\n */\nexport function getCircleAxisCenterRadius(coordinate: Coordinate) {\n  // @ts-ignore\n  const { x, y, circleCenter: center } = coordinate;\n  const isReflectY = y.start > y.end;\n  const start = coordinate.isTransposed\n    ? coordinate.convert({\n        x: isReflectY ? 0 : 1,\n        y: 0,\n      })\n    : coordinate.convert({\n        x: 0,\n        y: isReflectY ? 0 : 1,\n      });\n\n  const startVector: [number, number] = [start.x - center.x, start.y - center.y];\n  const normalVector: [number, number] = [1, 0];\n  const startAngle =\n    start.y > center.y ? vec2.angle(startVector, normalVector) : vec2.angle(startVector, normalVector) * -1;\n  const endAngle = startAngle + (x.end - x.start);\n  const radius = Math.sqrt((start.x - center.x) ** 2 + (start.y - center.y) ** 2);\n\n  return {\n    center,\n    radius,\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n *  axis \n * @param axes\n * @param field\n * @returns the axis option of field\n */\nexport function getAxisOption(axes: Record<string, AxisOption> | boolean, field: string) {\n  if (isBoolean(axes)) {\n    return axes === false ? false : {};\n  }\n  return get(axes, [field]);\n}\n\n/**\n * @ignore\n *  position\n * @param axisOption\n * @param def\n */\nexport function getAxisDirection(axisOption: AxisOption, def: DIRECTION): DIRECTION {\n  return get(axisOption, 'position', def);\n}\n\n/**\n *  axis  title \n * @param scale\n * @param axisOption\n */\nexport function getAxisTitleText(scale: Scale, axisOption: AxisCfg): string {\n  return get(axisOption, ['title', 'text'], getName(scale));\n}\n","import { deepMix, each, every, get, isNil, isNumber } from '@antv/util';\nimport { LAYER } from '../constant';\nimport { IGroup } from '../dependents';\nimport { AxisCfg, Condition, Datum, FacetCfg, FacetData, FacetDataFilter, Region } from '../interface';\n\nimport View from '../chart/view';\nimport { getAxisOption } from '../util/axis';\n\n/**\n * facet \n *  -  facet\n *  - \n *\n * \n *\n *  init\n * 1. \n * 2. \n *\n *  render\n * 1. view \n * 2. title\n * 3. axis\n *\n *  clear\n * 1.  view\n *\n *  destroy\n * 1. clear\n * 2. \n * 3.  group\n */\nexport abstract class Facet<C extends FacetCfg<FacetData> = FacetCfg<FacetData>, F extends FacetData = FacetData> {\n  /**  view */\n  public view: View;\n  /**  */\n  public container: IGroup;\n  /**  */\n  public destroyed: boolean = false;\n\n  /**  */\n  protected cfg: C;\n  /**  */\n  protected facets: F[] = [];\n\n  constructor(view: View, cfg: C) {\n    this.view = view;\n    this.cfg = deepMix({}, this.getDefaultCfg(), cfg);\n  }\n\n  /**\n   * \n   */\n  public init() {\n    // \n    if (!this.container) {\n      this.container = this.createContainer();\n    }\n\n    // \n    const data = this.view.getData();\n    this.facets = this.generateFacets(data);\n  }\n\n  /**\n   *  view \n   *  -  view\n   *  - \n   *  - title\n   *\n   *  \n   */\n  public render() {\n    this.renderViews();\n  }\n\n  /**\n   *  facet\n   */\n  public update() {\n    //  facet  View  Geometry  view \n  }\n\n  /**\n   * clear  init \n   * \n   */\n  public clear() {\n    this.clearFacetViews();\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.clear();\n\n    if (this.container) {\n      this.container.remove(true);\n      this.container = undefined;\n    }\n\n    this.destroyed = true;\n    this.view = undefined;\n    this.facets = [];\n  }\n\n  /**\n   *  facet  view\n   * @param facet\n   */\n  protected facetToView(facet: F): View {\n    const { region, data, padding = this.cfg.padding } = facet;\n\n    const view = this.view.createView({\n      region,\n      padding,\n    });\n\n    // \n    view.data(data || []);\n    facet.view = view;\n\n    // \n    this.beforeEachView(view, facet);\n\n    const { eachView } = this.cfg;\n    if (eachView) {\n      eachView(view, facet);\n    }\n\n    // \n    this.afterEachView(view, facet);\n\n    return view;\n  }\n\n  // \n  private createContainer(): IGroup {\n    const foregroundGroup = this.view.getLayer(LAYER.FORE);\n    return foregroundGroup.addGroup();\n  }\n\n  /**\n   *  view\n   */\n  private renderViews() {\n    this.createFacetViews();\n  }\n\n  /**\n   *   view\n   */\n  private createFacetViews(): View[] {\n    //   view\n    return this.facets.map((facet): View => {\n      return this.facetToView(facet);\n    });\n  }\n\n  /**\n   *  view  facetView\n   */\n  private clearFacetViews() {\n    //  view  view\n    each(this.facets, (facet) => {\n      if (facet.view) {\n        this.view.removeView(facet.view);\n        facet.view = undefined;\n      }\n    });\n  }\n\n  /**\n   *  spacing\n   */\n  private parseSpacing() {\n    /**\n     * @example\n     *\n     * // \n     * //  10% 10%\n     * ['10%', '10%']\n     * //  10px 10px\n     * [10, 10]\n     *\n     * // \n     * ['10%', 10]\n     * //  10% 10px\n     */\n    const { width, height } = this.view.viewBBox;\n    const { spacing } = this.cfg;\n    return spacing.map((s: number, idx: number) => {\n      if (isNumber(s)) return s / (idx === 0 ? width : height);\n      else return parseFloat(s) / 100;\n    });\n  }\n\n  // \n\n  /**\n   * \n   * @protected\n   * @param data \n   * @param field \n   * @return \n   */\n  protected getFieldValues(data: Datum[], field: string): string[] {\n    const rst = [];\n    const cache: Record<string, boolean> = {};\n\n    //  Nil \n    each(data, (d: Datum) => {\n      const value = d[field];\n      if (!isNil(value) && !cache[value]) {\n        rst.push(value);\n        cache[value] = true;\n      }\n    });\n\n    return rst;\n  }\n\n  /**\n   *  region\n   * @param rows row \n   * @param cols col \n   * @param xIndex x  index\n   * @param yIndex y  index\n   */\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number): Region {\n    const [xSpacing, ySpacing] = this.parseSpacing();\n    // xSPacing, ySpacing\n    // \n    /**\n     * ratio * num + spacing * (num - 1) = 1\n     * => ratio = (1 - (spacing * (num - 1))) / num\n     *          = (1 + spacing) / num - spacing\n     *\n     * num  cols/rows\n     * spacing  xSpacing/ySpacing\n     */\n    const xRatio = (1 + xSpacing) / (cols === 0 ? 1 : cols) - xSpacing;\n    const yRatio = (1 + ySpacing) / (rows === 0 ? 1 : rows) - ySpacing;\n\n    //  index \n    const start = {\n      x: (xRatio + xSpacing) * xIndex,\n      y: (yRatio + ySpacing) * yIndex,\n    };\n    const end = {\n      x: start.x + xRatio,\n      y: start.y + yRatio,\n    };\n    return { start, end };\n  }\n\n  protected getDefaultCfg() {\n    return {\n      eachView: undefined,\n      showTitle: true,\n      spacing: [0, 0],\n      padding: 10,\n      fields: [],\n    };\n  }\n\n  /**\n   *  title  title columnTitlerowTitle\n   */\n  protected getDefaultTitleCfg() {\n    // @ts-ignore\n    const fontFamily = this.view.getTheme().fontFamily;\n    return {\n      style: {\n        fontSize: 14,\n        fill: '#666',\n        fontFamily,\n      },\n    };\n  }\n\n  /**\n   *  axis \n   * @param view\n   * @param facet\n   */\n  protected processAxis(view: View, facet: F) {\n    const options = view.getOptions();\n\n    const coordinateOption = options.coordinate;\n    const geometries = view.geometries;\n\n    const coordinateType = get(coordinateOption, 'type', 'rect');\n\n    if (coordinateType === 'rect' && geometries.length) {\n      if (isNil(options.axes)) {\n        // @ts-ignore\n        options.axes = {};\n      }\n      const axes = options.axes;\n\n      const [x, y] = geometries[0].getXYFields();\n\n      const xOption = getAxisOption(axes, x);\n      const yOption = getAxisOption(axes, y);\n\n      if (xOption !== false) {\n        options.axes[x] = this.getXAxisOption(x, axes, xOption, facet);\n      }\n\n      if (yOption !== false) {\n        options.axes[y] = this.getYAxisOption(y, axes, yOption, facet);\n      }\n    }\n  }\n\n  /**\n   * \n   * @param conditions\n   */\n  protected getFacetDataFilter(conditions: Condition[]): FacetDataFilter {\n    return (datum: Datum) => {\n      // \n      return every(conditions, (condition) => {\n        const { field, value } = condition;\n\n        if (!isNil(value) && field) {\n          return datum[field] === value;\n        }\n        return true;\n      });\n    };\n  }\n\n  /**\n   * @override  eachView\n   * @param view\n   * @param facet\n   */\n  protected abstract beforeEachView(view: View, facet: F);\n\n  /**\n   * @override  eachView \n   * @param view\n   * @param facet\n   */\n  protected abstract afterEachView(view: View, facet: F);\n\n  /**\n   * @override \n   * @param data\n   */\n  protected abstract generateFacets(data: Datum[]): F[];\n\n  /**\n   *  x \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getXAxisOption(x: string, axes: any, option: AxisCfg, facet: F): object;\n\n  /**\n   *  y \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getYAxisOption(y: string, axes: any, option: AxisCfg, facet: F): object;\n}\n","import { lowerCase } from '@antv/util';\nimport { FacetCtor } from '../interface';\nexport { Facet } from './facet';\n\n/**\n *  Facet \n */\nconst Facets: Record<string, FacetCtor> = {};\n\n/**\n *  type  facet \n * @param type \n */\nexport const getFacet = (type: string): FacetCtor => {\n  return Facets[lowerCase(type)];\n};\n\n/**\n *  Facet \n * @param type \n * @param ctor \n */\nexport const registerFacet = (type: string, ctor: FacetCtor) => {\n  Facets[lowerCase(type)] = ctor;\n};\n","import { assign } from '@antv/util';\nimport { IAction, IInteractionContext, LooseObject } from '../../interface';\n\n/**\n * Action \n */\nabstract class Action<T = LooseObject> implements IAction {\n  /** Action  */\n  public name;\n  /**  */\n  public context: IInteractionContext;\n  /** Action  */\n  protected cfg: T;\n  /**  this  */\n  protected cfgFields: string[];\n\n  constructor(context: IInteractionContext, cfg?: T) {\n    this.context = context;\n    this.cfg = cfg;\n    context.addAction(this);\n  }\n\n  /**\n   * \n   * @param cfg\n   */\n  protected applyCfg(cfg) {\n    assign(this, cfg);\n  }\n\n  /**\n   * Inits action\n   */\n  public init() {\n    this.applyCfg(this.cfg);\n  }\n\n  /**\n   * Destroys action\n   */\n  public destroy() {\n    //  action\n    this.context.removeAction(this);\n    // \n    this.context = null;\n  }\n}\n\nexport default Action;\n","import { ActionCallback } from '../../interface';\nimport Action from './base';\n\n/**  Action */\nexport default class CallbackAction extends Action {\n  /**\n   * \n   */\n  public callback: ActionCallback;\n  /**\n   * \n   */\n  public execute() {\n    if (this.callback) {\n      this.callback(this.context);\n    }\n  }\n  /**\n   * \n   */\n  public destroy() {\n    super.destroy();\n    this.callback = null;\n  }\n}\n","import { ActionCallback, IInteractionContext, LooseObject } from '../../interface';\nimport Action from './base';\nimport CallbackAction from './callback';\nimport { get } from '@antv/util';\n\n/** Action  */\ntype ActionConstructor = new (context: IInteractionContext, cfg?: LooseObject) => Action;\n\n/** @ignore */\ninterface ActionOption {\n  ActionClass: ActionConstructor;\n  cfg: LooseObject;\n}\n\n// Action \nconst ActionCache: Record<string, ActionOption> = {};\n\n/**\n *  Action \n * @param actionName - action \n * @param context \n * @returns Action \n */\nexport function createAction(actionName: string, context: IInteractionContext): Action {\n  const actionOption = ActionCache[actionName];\n  let action = null;\n  if (actionOption) {\n    const { ActionClass, cfg } = actionOption;\n    action = new ActionClass(context, cfg);\n    action.name = actionName;\n    action.init();\n  }\n  return action;\n}\n\n/**\n *  action  name \n * @param actionName action  name\n */\nexport function getActionClass(actionName: string): ActionConstructor {\n  const actionOption = ActionCache[actionName];\n  return get(actionOption, 'ActionClass');\n}\n\n/**\n *  Action\n * @param actionName - action \n * @param ActionClass -  action \n */\nexport function registerAction(actionName: string, ActionClass: ActionConstructor, cfg?: LooseObject) {\n  ActionCache[actionName] = {\n    ActionClass,\n    cfg,\n  };\n}\n\n/**\n *  Action\n * @param actionName action \n */\nexport function unregisterAction(actionName: string) {\n  delete ActionCache[actionName];\n}\n\n/**\n *  Action \n * @param callback - action \n * @param context \n * @returns Action \n */\nexport function createCallbackAction(callback: ActionCallback, context: IInteractionContext): CallbackAction {\n  const action = new CallbackAction(context);\n  action.callback = callback;\n  action.name = 'callback';\n  return action;\n}\n","import { vec2 } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position } from '../../../interface';\nimport { getDistanceToCenter } from '../../../util/coordinate';\n\nfunction _points2path(points: Point[], isInCircle: boolean): PathCommand[] {\n  const path = [];\n  if (points.length) {\n    path.push(['M', points[0].x, points[0].y]);\n    for (let i = 1, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      path.push(['L', item.x, item.y]);\n    }\n\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n\n  return path;\n}\n\nfunction _convertArr(arr: number[], coord: Coordinate): any[] {\n  const tmp = [arr[0]];\n  for (let i = 1, len = arr.length; i < len; i = i + 2) {\n    const point = coord.convert({\n      x: arr[i],\n      y: arr[i + 1],\n    });\n    tmp.push(point.x, point.y);\n  }\n  return tmp;\n}\nfunction _convertArcPath(path: PathCommand, coord: Coordinate): any[] {\n  const { isTransposed } = coord;\n  const r = path[1];\n  const x = path[6];\n  const y = path[7];\n  const point = coord.convert({ x, y });\n  const direction = isTransposed ? 0 : 1;\n  return ['A', r, r, 0, 0, direction, point.x, point.y];\n}\n\nfunction _convertPolarPath(pre: PathCommand, cur: PathCommand, coord: Coordinate): PathCommand[] {\n  const { isTransposed, startAngle, endAngle } = coord;\n  const prePoint =\n    pre[0].toLowerCase() === 'a'\n      ? {\n          x: pre[6],\n          y: pre[7],\n        }\n      : {\n          x: pre[1],\n          y: pre[2],\n        };\n  const curPoint = {\n    x: cur[1],\n    y: cur[2],\n  };\n  const rst = [];\n  const xDim = isTransposed ? 'y' : 'x';\n  const angleRange = Math.abs(curPoint[xDim] - prePoint[xDim]) * (endAngle - startAngle);\n  const direction = curPoint[xDim] >= prePoint[xDim] ? 1 : 0; // \n  const flag = angleRange > Math.PI ? 1 : 0; // \n  const convertPoint = coord.convert(curPoint);\n  const r = getDistanceToCenter(coord, convertPoint);\n  if (r >= 0.5) {\n    // 1\n    if (angleRange === Math.PI * 2) {\n      const middlePoint = {\n        x: (curPoint.x + prePoint.x) / 2,\n        y: (curPoint.y + prePoint.y) / 2,\n      };\n      const middleConvertPoint = coord.convert(middlePoint);\n      rst.push(['A', r, r, 0, flag, direction, middleConvertPoint.x, middleConvertPoint.y]);\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    } else {\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    }\n  }\n  return rst;\n}\n\n// \nfunction _filterFullCirleLine(path: PathCommand[]) {\n  each(path, (subPath, index) => {\n    const cur = subPath;\n    if (cur[0].toLowerCase() === 'a') {\n      const pre = path[index - 1];\n      const next = path[index + 1];\n      if (next && next[0].toLowerCase() === 'a') {\n        if (pre && pre[0].toLowerCase() === 'l') {\n          pre[0] = 'M';\n        }\n      } else if (pre && pre[0].toLowerCase() === 'a') {\n        if (next && next[0].toLowerCase() === 'l') {\n          next[0] = 'M';\n        }\n      }\n    }\n  });\n}\n\n/**\n * @ignore\n * \n */\nexport const smoothBezier = (\n  points: Position[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: Position[]\n): Position[] => {\n  const cps = [];\n  const hasConstraint = !!constraint;\n\n  let prevPoint: Position;\n  let nextPoint: Position;\n  let min: Position;\n  let max: Position;\n  let nextCp0: Position;\n  let cp1: Position;\n  let cp0: Position;\n\n  if (hasConstraint) {\n    [min, max] = constraint;\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vec2.min([0, 0], min, point) as [number, number];\n      max = vec2.max([0, 0], max, point) as [number, number];\n    }\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (i === 0 && !isLoop) {\n      cp0 = point;\n    } else if (i === len - 1 && !isLoop) {\n      cp1 = point;\n      cps.push(cp0);\n      cps.push(cp1);\n    } else {\n      prevPoint = points[isLoop ? (i ? i - 1 : len - 1) : i - 1];\n      nextPoint = points[isLoop ? (i + 1) % len : i + 1];\n\n      let v: [number, number] = [0, 0];\n      v = vec2.sub(v, nextPoint, prevPoint) as [number, number];\n      v = vec2.scale(v, v, smooth) as [number, number];\n\n      let d0 = vec2.distance(point, prevPoint);\n      let d1 = vec2.distance(point, nextPoint);\n\n      const sum = d0 + d1;\n      if (sum !== 0) {\n        d0 /= sum;\n        d1 /= sum;\n      }\n\n      let v1 = vec2.scale([0, 0], v, -d0);\n      let v2 = vec2.scale([0, 0], v, d1);\n\n      cp1 = vec2.add([0, 0], point, v1) as Position;\n      nextCp0 = vec2.add([0, 0], point, v2) as Position;\n\n      // \n      nextCp0 = vec2.min([0, 0], nextCp0, vec2.max([0, 0], nextPoint, point)) as Position;\n      nextCp0 = vec2.max([0, 0], nextCp0, vec2.min([0, 0], nextPoint, point)) as Position;\n\n      //  cp1 \n      v1 = vec2.sub([0, 0], nextCp0, point);\n      v1 = vec2.scale([0, 0], v1, -d0 / d1);\n      cp1 = vec2.add([0, 0], point, v1) as Position;\n\n      // \n      cp1 = vec2.min([0, 0], cp1, vec2.max([0, 0], prevPoint, point)) as Position;\n      cp1 = vec2.max([0, 0], cp1, vec2.min([0, 0], prevPoint, point)) as Position;\n\n      //  nextCp0 \n      v2 = vec2.sub([0, 0], point, cp1);\n      v2 = vec2.scale([0, 0], v2, d1 / d0);\n      nextCp0 = vec2.add([0, 0], point, v2) as Position;\n\n      if (hasConstraint) {\n        cp1 = vec2.max([0, 0], cp1, min) as Position;\n        cp1 = vec2.min([0, 0], cp1, max) as Position;\n        nextCp0 = vec2.max([0, 0], nextCp0, min) as Position;\n        nextCp0 = vec2.min([0, 0], nextCp0, max) as Position;\n      }\n\n      cps.push(cp0);\n      cps.push(cp1);\n      cp0 = nextCp0;\n    }\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n\n  return cps;\n};\n\n/**\n * @ignore\n * \n */\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: Position[]): PathCommand[] {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: Position;\n  let cp2: Position;\n  let p: Position;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n/**\n * @ignore\n *  path\n */\nexport function getLinePath(points: Point[], isInCircle?: boolean): PathCommand[] {\n  return _points2path(points, isInCircle);\n}\n\n/**\n * @ignore\n * \n */\nexport function getSplinePath(points: Point[], isInCircle?: boolean, constaint?: Position[]): PathCommand[] {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // \n    return getLinePath(points, isInCircle);\n  }\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  }\n  const constraint = constaint || [\n    // \n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n\n/**\n * @ignore\n * \n */\nexport function convertNormalPath(coord, path: PathCommand[]): PathCommand[] {\n  const tmp = [];\n  each(path, (subPath) => {\n    const action = subPath[0];\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'l':\n      case 'c':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'a':\n        tmp.push(_convertArcPath(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  return tmp;\n}\n\n/**\n * @ignore\n * \n */\nexport function convertPolarPath(coord, path: PathCommand[]): PathCommand[] {\n  let tmp = [];\n  let pre: PathCommand;\n  let cur: PathCommand;\n  let transposed: boolean;\n  let equals: boolean;\n  each(path, (subPath, index) => {\n    const action = subPath[0];\n\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'c':\n      case 'q':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'l':\n        pre = path[index - 1];\n        cur = subPath;\n        transposed = coord.isTransposed;\n        // \n        equals = transposed ? pre[pre.length - 2] === cur[1] : pre[pre.length - 1] === cur[2];\n        if (equals) {\n          tmp = tmp.concat(_convertPolarPath(pre, cur, coord));\n        } else {\n          // y \n          tmp.push(_convertArr(subPath, coord));\n        }\n        break;\n      case 'a':\n        tmp.push(_convertArcPath(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  _filterFullCirleLine(tmp); // \n  return tmp;\n}\n","import { each, isArray } from '@antv/util';\nimport { View } from '../../chart';\nimport { BBox, PathCommand, Point } from '../../dependents';\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element/';\nimport { catmullRom2bezier, getLinePath } from '../../geometry/shape/util/path';\nimport { toPoints } from '../../util/bbox';\nimport { isPolygonsIntersect } from '@antv/path-util';\nimport { ComponentOption, IInteractionContext, LooseObject } from '../../interface';\n\nfunction getMaskBBox(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  const maskBBox = maskShape.getCanvasBBox();\n  //  bbox \n  if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n    return null;\n  }\n  return maskBBox;\n}\n\nfunction getMaskPath(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  const maskBBox = maskShape.getCanvasBBox();\n  //  bbox \n  if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n    return null;\n  }\n  return maskShape.attr('path');\n}\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getCurrentElement(context: IInteractionContext): Element {\n  const event = context.event;\n  let element;\n  const target = event.target;\n  if (target) {\n    element = target.get('element');\n  }\n  return element;\n}\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getDelegationObject(context: IInteractionContext): LooseObject {\n  const event = context.event;\n  const target = event.target;\n  let delegateObject;\n  if (target) {\n    delegateObject = target.get('delegateObject');\n  }\n  return delegateObject;\n}\n\nexport function isElementChange(context: IInteractionContext) {\n  const event = context.event.gEvent;\n  //  element label  shape \n  if (event && event.fromShape && event.toShape && event.fromShape.get('element') === event.toShape.get('element')) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * \n * @param delegateObject \n * @ignore\n */\nexport function isList(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isList();\n}\n\n/**\n * \n * @param delegateObject \n * @ignore\n */\nexport function isSlider(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isSlider();\n}\n\n/**\n *  mask \n * @param context \n * @ignore\n */\nexport function isMask(context: IInteractionContext): boolean {\n  const event = context.event;\n  const target = event.target;\n  return target && target.get('name') === 'mask';\n}\n\n/**\n *  elements\n * @param context \n * @ignore\n */\nexport function getMaskedElements(context: IInteractionContext, tolerance: number): Element[] {\n  const target = context.event.target;\n  if (target.get('type') === 'path') {\n    const maskPath = getMaskPath(context, tolerance);\n    if (!maskPath) {\n      return;\n    }\n    return getElementsByPath(context.view, maskPath);\n  }\n  const maskBBox = getMaskBBox(context, tolerance);\n  //  bbox \n  if (!maskBBox) {\n    return null;\n  }\n  return getIntersectElements(context.view, maskBBox);\n}\n\n/**\n * @ignore\n */\nexport function getSiblingMaskElements(context: IInteractionContext, sibling: View, tolerance: number) {\n  const maskBBox = getMaskBBox(context, tolerance);\n  //  bbox \n  if (!maskBBox) {\n    return null;\n  }\n  const view = context.view;\n  const start = getSiblingPoint(view, sibling, { x: maskBBox.x, y: maskBBox.y });\n  const end = getSiblingPoint(view, sibling, { x: maskBBox.maxX, y: maskBBox.maxY });\n  const box = {\n    minX: start.x,\n    minY: start.y,\n    maxX: end.x,\n    maxY: end.y,\n  };\n  return getIntersectElements(sibling, box);\n}\n\n/**\n * \n * @param view View/Chart\n * @ignore\n */\nexport function getElements(view: View): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.elements;\n    rst = rst.concat(elements);\n  });\n  if (view.views && view.views.length) {\n    each(view.views, (subView) => {\n      rst = rst.concat(getElements(subView));\n    });\n  }\n  return rst;\n}\n\n/**\n * \n * @param view View/Chart\n * @param field \n * @param value \n * @ignore\n */\nexport function getElementsByField(view: View, field: string, value: any) {\n  const elements = getElements(view);\n  return elements.filter((el) => {\n    return getElementValue(el, field) === value;\n  });\n}\n\n/**\n * \n * @param view View/Chart\n * @param stateName \n * @ignore\n */\nexport function getElementsByState(view: View, stateName: string): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.getElementsBy((el) => el.hasState(stateName));\n    rst = rst.concat(elements);\n  });\n  return rst;\n}\n\n/**\n * \n * @param element \n * @param field \n * @ignore\n */\nexport function getElementValue(element: Element, field) {\n  const model = element.getModel();\n  const record = model.data;\n  let value;\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n  return value;\n}\n\n/**\n * \n * @param box1 1\n * @param box2 2\n * @ignore\n */\nexport function intersectRect(box1, box2) {\n  return !(box2.minX > box1.maxX || box2.maxX < box1.minX || box2.minY > box1.maxY || box2.maxY < box1.minY);\n}\n\n/**\n * \n * @param view View/Chart\n * @param box \n * @ignore\n */\nexport function getIntersectElements(view: View, box) {\n  const elements = getElements(view);\n  const rst = [];\n  each(elements, (el) => {\n    const shape = el.shape;\n    const shapeBBox = shape.getCanvasBBox();\n    if (intersectRect(box, shapeBBox)) {\n      rst.push(el);\n    }\n  });\n  return rst;\n}\nfunction pathToPoints(path: any[]) {\n  const points = [];\n  each(path, (seg) => {\n    const command = seg[0];\n    if (command !== 'A') {\n      for (let i = 1; i < seg.length; i = i + 2) {\n        points.push([seg[i], seg[i + 1]]);\n      }\n    } else {\n      const length = seg.length;\n      points.push([seg[length - 2], seg[length - 1]]);\n    }\n  });\n  return points;\n}\n/**\n * \n * @param view View/Chart\n * @param path \n * @ignore\n */\nexport function getElementsByPath(view: View, path: any[]) {\n  const elements = getElements(view);\n  const points = pathToPoints(path);\n  const rst = elements.filter((el: Element) => {\n    const shape = el.shape;\n    let shapePoints;\n    if (shape.get('type') === 'path') {\n      shapePoints = pathToPoints(shape.attr('path'));\n    } else {\n      const shapeBBox = shape.getCanvasBBox();\n      shapePoints = toPoints(shapeBBox);\n    }\n    return isPolygonsIntersect(points, shapePoints);\n  });\n  return rst;\n}\n\n/**\n *  View \n * @param view View/Chart\n * @ignore\n */\nexport function getComponents(view) {\n  return view.getComponents().map((co: ComponentOption) => co.component);\n}\n\n/** @ignore */\nexport function distance(p1: Point, p2: Point) {\n  const dx = p2.x - p1.x;\n  const dy = p2.y - p1.y;\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\n/** @ignore */\nexport function getSpline(points: Point[], z: boolean): PathCommand[] {\n  if (points.length <= 2) {\n    return getLinePath(points, false);\n  }\n  const first = points[0];\n  const arr = [];\n  each(points, (point) => {\n    arr.push(point.x);\n    arr.push(point.y);\n  });\n  const path = catmullRom2bezier(arr, z, null);\n  path.unshift(['M', first.x, first.y]);\n  return path;\n}\n\n/**\n * \n * @param box \n * @param point \n * @ignore\n */\nexport function isInBox(box: BBox, point: Point) {\n  return box.x <= point.x && box.maxX >= point.x && box.y <= point.y && box.maxY > point.y;\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getSilbings(view: View): View[] {\n  const parent = view.parent;\n  let siblings = null;\n  if (parent) {\n    siblings = parent.views.filter((sub) => sub !== view);\n  }\n  return siblings;\n}\n\nfunction point2Normalize(view: View, point: Point): Point {\n  const coord = view.getCoordinate();\n  return coord.invert(point);\n}\n/**\n *  view  view \n * @param view  view\n * @param sibling  view\n * @param point \n * @ignore\n */\nexport function getSiblingPoint(view: View, sibling: View, point: Point): Point {\n  const normalPoint = point2Normalize(view, point);\n  return sibling.getCoordinate().convert(normalPoint);\n}\n\n/**\n *  view \n *  view  includes\n *  x, y  isEqual \n * \n * @param records\n * @param record\n * @param xFiled\n * @param yField\n * @returns\n * @ignore\n */\nexport function isInRecords(records: object[], record: object, xFiled: string, yField: string) {\n  let isIn = false;\n  each(records, (r) => {\n    if (r[xFiled] === record[xFiled] && r[yField] === record[yField]) {\n      isIn = true;\n      return false;\n    }\n  });\n  return isIn;\n}\n\n//  field  scale view  view\nexport function getScaleByField(view: View, field: string) {\n  let scale = view.getScaleByField(field);\n  if (!scale && view.views) {\n    each(view.views, (subView) => {\n      scale = getScaleByField(subView, field);\n      if (scale) {\n        return false; // \n      }\n    });\n  }\n  return scale;\n}\n","import { each, get } from '@antv/util';\nimport { View } from '../chart';\nimport { BBox, IShape, Point } from '../dependents';\nimport { IAction, IInteractionContext, LooseObject } from '../interface';\nimport { getComponents, isInBox } from './action/util';\n\n/**\n * \n */\nexport default class Context implements IInteractionContext {\n  /**  Action */\n  public actions: IAction[] = [];\n  /**  View  */\n  public view: View;\n  /**  */\n  public event: LooseObject = null;\n\n  private cacheMap: LooseObject = {};\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  /**\n   * \n   * @param params \n   *  - \n   *  - \n   */\n  public cache(...params) {\n    if (params.length === 1) {\n      return this.cacheMap[params[0]];\n    } else if (params.length === 2) {\n      this.cacheMap[params[0]] = params[1];\n    }\n  }\n\n  /**\n   *  Action\n   * @param name Action \n   */\n  public getAction(name: string): IAction {\n    return this.actions.find((action) => action.name === name);\n  }\n\n  /**\n   *  Action\n   * @param action Action \n   */\n  public addAction(action: IAction) {\n    this.actions.push(action);\n  }\n\n  /**\n   *  Action\n   * @param action Action \n   */\n  public removeAction(action: IAction) {\n    const actions = this.actions;\n    const index = this.actions.indexOf(action);\n    if (index >= 0) {\n      actions.splice(index, 1);\n    }\n  }\n\n  /**\n   * \n   */\n  public getCurrentPoint(): Point {\n    const event = this.event;\n    if (event) {\n      if (event.target instanceof HTMLElement) {\n        const canvas = this.view.getCanvas();\n        const point = canvas.getPointByClient(event.clientX, event.clientY);\n        return point;\n      } else {\n        return {\n          x: event.x,\n          y: event.y,\n        };\n      }\n    }\n    return null;\n  }\n\n  /**\n   *  shape\n   * @returns current shape\n   */\n  public getCurrentShape(): IShape {\n    return get(this.event, ['gEvent', 'shape']);\n  }\n\n  /**\n   *  View \n   */\n  public isInPlot() {\n    const point = this.getCurrentPoint();\n    if (point) {\n      return this.view.isPointInPlot(point);\n    }\n    return false;\n  }\n\n  /**\n   * \n   * @param name shape  name\n   */\n  public isInShape(name) {\n    const shape = this.getCurrentShape(); //  shape  parent \n    if (shape) {\n      return shape.get('name') === name;\n    }\n    return false;\n  }\n\n  /**\n   * \n   * @param name \n   */\n  public isInComponent(name?: string) {\n    const components = getComponents(this.view);\n    const point = this.getCurrentPoint();\n    if (point) {\n      return !!components.find((component) => {\n        const bbox = component.getBBox() as BBox;\n        if (name) {\n          return component.get('name') === name && isInBox(bbox, point);\n        } else {\n          return isInBox(bbox, point);\n        }\n      });\n    }\n    return false;\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    //  action \n    each(this.actions.slice(), (action) => {\n      action.destroy();\n    });\n    this.view = null;\n    this.event = null;\n    this.actions = null;\n    this.cacheMap = null;\n  }\n}\n","import { View } from '../chart';\nimport { LooseObject } from '../interface';\n\nexport type InteractionConstructor = new (view: View, cfg: LooseObject) => Interaction;\n\n/**\n * \n */\nexport default class Interaction {\n  /** view  chart */\n  protected view: View;\n  /**  */\n  protected cfg: LooseObject;\n\n  constructor(view: View, cfg: LooseObject) {\n    this.view = view;\n    this.cfg = cfg;\n  }\n\n  /**\n   * \n   */\n  public init() {\n    this.initEvents();\n  }\n\n  /**\n   * \n   */\n  protected initEvents() {}\n\n  /**\n   * \n   */\n  protected clearEvents() {}\n\n  /**\n   * \n   */\n  public destroy() {\n    this.clearEvents();\n  }\n}\n","import { each, isArray, isFunction, isString, debounce, throttle } from '@antv/util';\nimport { View } from '../chart';\nimport { ActionCallback, IAction, IInteractionContext, LooseObject } from '../interface';\nimport { createAction, createCallbackAction } from './action/register';\nimport InteractionContext from './context';\nimport Interaction from './interaction';\n\n//  action\nexport function parseAction(actionStr: string, context: IInteractionContext, arg?: any): ActionObject {\n  const arr = actionStr.split(':');\n  const actionName = arr[0];\n  //  action  action\n  const action = context.getAction(actionName) || createAction(actionName, context);\n  if (!action) {\n    throw new Error(`There is no action named ${actionName}`);\n  }\n  const methodName = arr[1];\n  return {\n    action,\n    methodName,\n    arg,\n  };\n}\n\n//  Action\nfunction executeAction(actionObject: ActionObject) {\n  const { action, methodName, arg } = actionObject;\n  if (action[methodName]) {\n    action[methodName](arg);\n  } else {\n    throw new Error(`Action(${action.name}) doesn't have a method called ${methodName}`);\n  }\n}\n\nconst STEP_NAMES = {\n  START: 'start',\n  SHOW_ENABLE: 'showEnable',\n  END: 'end',\n  ROLLBACK: 'rollback',\n  PROCESSING: 'processing',\n};\n\n/**  */\nexport interface InteractionStep {\n  /**\n   *  viewchart  documentwindow \n   */\n  trigger: string;\n  /**\n   *  action\n   * @param context - \n   */\n  isEnable?: (context: IInteractionContext) => boolean;\n  /**\n   * \n   * - action:method : action \n   * - [action1:method1, action2:method]\n   * - ActionCallback: \n   */\n  action: string | string[] | ActionCallback;\n  /**\n   *  action method \n   * -  action args \n   */\n  arg?: any | any[];\n  /**\n   * action \n   */\n  callback?: (context: IInteractionContext) => void;\n  /**\n   * @private\n   * \n   */\n  actionObject?: ActionObject | ActionObject[];\n  /**\n   * \n   */\n  once?: boolean;\n  /**\n   * \n   */\n  throttle?: ThrottleOption;\n  /**\n   * \n   */\n  debounce?: DebounceOption;\n}\n\n// action  debounce  throttlehttps://css-tricks.com/debouncing-throttling-explained-examples/\n/**\n * debounce \n */\nexport interface DebounceOption {\n  /**\n   * \n   */\n  wait: number;\n  /**\n   * \n   */\n  immediate?: boolean;\n}\n\n/**\n * throttle \n */\nexport interface ThrottleOption {\n  /**\n   * \n   */\n  wait: number;\n  /**\n   * \n   */\n  leading?: boolean;\n  /**\n   * \n   */\n  trailing?: boolean;\n}\n\n/**  action  */\ninterface ActionObject {\n  /**\n   *  action\n   */\n  action: IAction;\n  /**\n   * action \n   */\n  methodName: string;\n  /**\n   *  action \n   */\n  arg?: any;\n}\n\n/**  */\nexport interface InteractionSteps {\n  /**\n   * \n   */\n  showEnable?: InteractionStep[];\n  /**\n   * \n   */\n  start?: InteractionStep[];\n  /**\n   * \n   */\n  processing?: InteractionStep[];\n  /**\n   * \n   */\n  end?: InteractionStep[];\n  /**\n   * \n   */\n  rollback?: InteractionStep[];\n}\n\n/**\n * \n */\nexport default class GrammarInteraction extends Interaction {\n  // \n  private steps: InteractionSteps;\n  /**  */\n  public currentStepName: string;\n  /**\n   * \n   */\n  public context: IInteractionContext;\n\n  private callbackCaches: LooseObject = {};\n  // \n  private emitCaches: LooseObject = {};\n\n  constructor(view: View, steps: InteractionSteps) {\n    super(view, steps);\n    this.steps = steps;\n  }\n\n  /**\n   * \n   */\n  public init() {\n    this.initContext();\n    super.init();\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    super.destroy(); // \n    this.steps = null;\n    if (this.context) {\n      this.context.destroy();\n      this.context = null;\n    }\n\n    this.callbackCaches = null;\n    this.view = null;\n  }\n\n  /**\n   * \n   */\n  protected initEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          //  callback callback \n          this.bindEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  /**\n   * \n   */\n  protected clearEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          this.offEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  //  action\n  private initContext() {\n    const view = this.view;\n    const context = new InteractionContext(view);\n    this.context = context;\n    const steps = this.steps;\n    //  Action\n    each(steps, (subSteps: InteractionStep[]) => {\n      each(subSteps, (step: InteractionStep) => {\n        if (isFunction(step.action)) {\n          //  CallbackAction\n          step.actionObject = {\n            action: createCallbackAction(step.action, context),\n            methodName: 'execute',\n          };\n        } else if (isString(step.action)) {\n          // \n          step.actionObject = parseAction(step.action, context, step.arg);\n        } else if (isArray(step.action)) {\n          // \n          const actionArr = step.action;\n          const argArr = isArray(step.arg) ? step.arg : [step.arg];\n          step.actionObject = [];\n          each(actionArr, (actionStr, idx) => {\n            (step.actionObject as ActionObject[]).push(parseAction(actionStr, context, argArr[idx]));\n          });\n        }\n        //  action  actionObject\n      });\n    });\n  }\n\n  // \n  private isAllowStep(stepName: string): boolean {\n    const currentStepName = this.currentStepName;\n    const steps = this.steps;\n    // \n    if (currentStepName === stepName) {\n      return true;\n    }\n\n    if (stepName === STEP_NAMES.SHOW_ENABLE) {\n      // \n      return true;\n    }\n\n    if (stepName === STEP_NAMES.PROCESSING) {\n      //  start  processing\n      return currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.START) {\n      //  processing start end \n      return currentStepName !== STEP_NAMES.PROCESSING;\n    }\n\n    if (stepName === STEP_NAMES.END) {\n      return currentStepName === STEP_NAMES.PROCESSING || currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.ROLLBACK) {\n      if (steps[STEP_NAMES.END]) {\n        //  end,  end \n        return currentStepName === STEP_NAMES.END;\n      } else if (currentStepName === STEP_NAMES.START) {\n        //  end, \n        return true;\n      }\n    }\n    return false;\n  }\n\n  // \n  private isAllowExecute(stepName: string, step: InteractionStep): boolean {\n    if (this.isAllowStep(stepName)) {\n      const key = this.getKey(stepName, step);\n      // \n      if (step.once && this.emitCaches[key]) {\n        return false;\n      }\n      //  isEnable \n      if (step.isEnable) {\n        return step.isEnable(this.context);\n      }\n      return true; //  isEnable \n    }\n    return false;\n  }\n\n  private enterStep(stepName: string) {\n    this.currentStepName = stepName;\n    this.emitCaches = {}; // \n  }\n\n  // \n  private afterExecute(stepName: string, step) {\n    // show enable  step\n    if (stepName !== STEP_NAMES.SHOW_ENABLE && this.currentStepName !== stepName) {\n      this.enterStep(stepName);\n    }\n    const key = this.getKey(stepName, step);\n    // \n    this.emitCaches[key] = true;\n  }\n  // \n  private getKey(stepName, step) {\n    return stepName + step.trigger + step.action;\n  }\n\n  //  step \n  private getActionCallback(stepName: string, step: InteractionStep): (e: object) => void {\n    const context = this.context;\n    const callbackCaches = this.callbackCaches;\n    const actionObject = step.actionObject;\n    if (step.action && actionObject) {\n      const key = this.getKey(stepName, step);\n      if (!callbackCaches[key]) {\n        //  action \n        const actionCallback = (event) => {\n          context.event = event; //  event\n          if (this.isAllowExecute(stepName, step)) {\n            // \n            if (isArray(actionObject)) {\n              each(actionObject, (obj: ActionObject) => {\n                context.event = event; //  context.event \n                executeAction(obj);\n              });\n            } else {\n              context.event = event; //  context.event \n              executeAction(actionObject);\n            }\n            this.afterExecute(stepName, step);\n            if (step.callback) {\n              context.event = event; //  context.event \n              step.callback(context);\n            }\n          } else {\n            // \n            context.event = null;\n          }\n        };\n        //  debounce\n        if (step.debounce) {\n          callbackCaches[key] = debounce(actionCallback, step.debounce.wait, step.debounce.immediate);\n        } else if (step.throttle) {\n          //  throttle\n          callbackCaches[key] = throttle(actionCallback, step.throttle.wait, {\n            leading: step.throttle.leading,\n            trailing: step.throttle.trailing,\n          });\n        } else {\n          // \n          callbackCaches[key] = actionCallback;\n        }\n      }\n      return callbackCaches[key];\n    }\n    return null;\n  }\n\n  private bindEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.addEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.addEventListener(nameArr[1], callback);\n    } else {\n      this.view.on(eventName, callback);\n    }\n  }\n\n  private offEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.removeEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.removeEventListener(nameArr[1], callback);\n    } else {\n      this.view.off(eventName, callback);\n    }\n  }\n}\n","import { clone, isPlainObject, lowerCase, mix } from '@antv/util';\nimport { View } from '../chart';\nimport { LooseObject } from '../interface';\nimport GrammarInteraction, { InteractionSteps } from './grammar-interaction';\nimport { InteractionConstructor } from './interaction';\n\nconst Interactions: LooseObject = {};\n\n/**\n * \n * @param name \n * @returns \n */\nexport function getInteraction(name: string): InteractionSteps | InteractionConstructor {\n  return Interactions[lowerCase(name)];\n}\n\n/**\n * \n * @param name \n * @param interaction \n */\nexport function registerInteraction(name: string, interaction: InteractionSteps | InteractionConstructor) {\n  Interactions[lowerCase(name)] = interaction;\n}\n\n/**\n * \n * @param name \n * @param view  View \n * @param cfg \n */\nexport function createInteraction(name: string, view: View, cfg?: LooseObject) {\n  const interaciton = getInteraction(name);\n  if (!interaciton) {\n    return null;\n  }\n  if (isPlainObject(interaciton)) {\n    //  clone  interaction  step \n    const steps = mix(clone(interaciton), cfg) as InteractionSteps;\n    return new GrammarInteraction(view, steps);\n  } else {\n    const cls = interaciton as InteractionConstructor;\n    return new cls(view, cfg);\n  }\n}\n\nexport { default as Interaction } from './interaction';\nexport { Action, registerAction, getActionClass } from './action';\n","import { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport Element from '../../geometry/element';\nimport { LooseObject, StyleSheet } from '../../interface';\nimport { getAngle } from '../../util/graphics';\n\n/**\n *  axis \n * @param styleSheet\n */\nfunction createAxisStyles(styleSheet: StyleSheet): LooseObject {\n  return {\n    title: {\n      autoRotate: true,\n      position: 'center', // start, center, end\n      spacing: styleSheet.axisTitleSpacing,\n      style: {\n        fill: styleSheet.axisTitleTextFillColor,\n        fontSize: styleSheet.axisTitleTextFontSize,\n        lineHeight: styleSheet.axisTitleTextLineHeight,\n        textBaseline: 'middle',\n        fontFamily: styleSheet.fontFamily,\n      },\n      iconStyle: {\n        fill: styleSheet.axisDescriptionIconFillColor\n      }\n    },\n    label: {\n      autoRotate: false,\n      autoEllipsis: false,\n      autoHide: { type: 'equidistance', cfg: { minGap: 6 } },\n      offset: styleSheet.axisLabelOffset,\n      style: {\n        fill: styleSheet.axisLabelFillColor,\n        fontSize: styleSheet.axisLabelFontSize,\n        lineHeight: styleSheet.axisLabelLineHeight,\n        fontFamily: styleSheet.fontFamily,\n      },\n    },\n    line: {\n      style: {\n        lineWidth: styleSheet.axisLineBorder,\n        stroke: styleSheet.axisLineBorderColor,\n      },\n    },\n    grid: {\n      line: {\n        type: 'line',\n        style: {\n          stroke: styleSheet.axisGridBorderColor,\n          lineWidth: styleSheet.axisGridBorder,\n          lineDash: styleSheet.axisGridLineDash,\n        },\n      },\n      alignTick: true,\n      animate: true,\n    },\n    tickLine: {\n      style: {\n        lineWidth: styleSheet.axisTickLineBorder,\n        stroke: styleSheet.axisTickLineBorderColor,\n      },\n      alignTick: true, // \n      length: styleSheet.axisTickLineLength,\n    },\n    subTickLine: null,\n    animate: true,\n  };\n}\n\n/**\n *\n * @param styleSheet\n */\n// export function\n\n/**\n *  legend \n * @param styleSheet\n */\nfunction createLegendStyles(styleSheet: StyleSheet): LooseObject {\n  return {\n    title: null,\n    marker: {\n      symbol: 'circle',\n      spacing: styleSheet.legendMarkerSpacing,\n      style: {\n        r: styleSheet.legendCircleMarkerSize,\n        fill: styleSheet.legendMarkerColor,\n      },\n    },\n    itemName: {\n      spacing: 5, //  value \n      style: {\n        fill: styleSheet.legendItemNameFillColor,\n        fontFamily: styleSheet.fontFamily,\n        fontSize: styleSheet.legendItemNameFontSize,\n        lineHeight: styleSheet.legendItemNameLineHeight,\n        fontWeight: styleSheet.legendItemNameFontWeight,\n        textAlign: 'start',\n        textBaseline: 'middle',\n      },\n    },\n    itemStates: {\n      active: {\n        nameStyle: {\n          opacity: 0.8,\n        },\n      },\n      unchecked: {\n        nameStyle: {\n          fill: '#D8D8D8',\n        },\n        markerStyle: {\n          fill: '#D8D8D8',\n          stroke: '#D8D8D8',\n        },\n      },\n      inactive: {\n        nameStyle: {\n          fill: '#D8D8D8',\n        },\n        markerStyle: {\n          opacity: 0.2,\n        },\n      },\n    },\n    flipPage: true,\n    pageNavigator: {\n      marker: {\n        style: {\n          size: styleSheet.legendPageNavigatorMarkerSize,\n          inactiveFill: styleSheet.legendPageNavigatorMarkerInactiveFillColor,\n          inactiveOpacity: styleSheet.legendPageNavigatorMarkerInactiveFillOpacity,\n          fill: styleSheet.legendPageNavigatorMarkerFillColor,\n          opacity: styleSheet.legendPageNavigatorMarkerFillOpacity,\n        },\n      },\n      text: {\n        style: {\n          fill: styleSheet.legendPageNavigatorTextFillColor,\n          fontSize: styleSheet.legendPageNavigatorTextFontSize,\n        },\n      },\n    },\n    animate: false,\n    maxItemWidth: 200,\n    itemSpacing: styleSheet.legendItemSpacing,\n    itemMarginBottom: styleSheet.legendItemMarginBottom,\n    padding: styleSheet.legendPadding, // \n  };\n}\n\n/**\n * \n * @param styleSheet \n */\nexport function createThemeByStyleSheet(styleSheet: StyleSheet): LooseObject {\n  const shapeStyles = {\n    point: {\n      default: {\n        fill: styleSheet.pointFillColor,\n        r: styleSheet.pointSize,\n        stroke: styleSheet.pointBorderColor,\n        lineWidth: styleSheet.pointBorder,\n        fillOpacity: styleSheet.pointFillOpacity,\n      },\n      active: {\n        stroke: styleSheet.pointActiveBorderColor,\n        lineWidth: styleSheet.pointActiveBorder,\n      },\n      selected: {\n        stroke: styleSheet.pointSelectedBorderColor,\n        lineWidth: styleSheet.pointSelectedBorder,\n      },\n      inactive: {\n        fillOpacity: styleSheet.pointInactiveFillOpacity,\n        strokeOpacity: styleSheet.pointInactiveBorderOpacity,\n      },\n    },\n    hollowPoint: {\n      default: {\n        fill: styleSheet.hollowPointFillColor,\n        lineWidth: styleSheet.hollowPointBorder,\n        stroke: styleSheet.hollowPointBorderColor,\n        strokeOpacity: styleSheet.hollowPointBorderOpacity,\n        r: styleSheet.hollowPointSize,\n      },\n      active: {\n        stroke: styleSheet.hollowPointActiveBorderColor,\n        strokeOpacity: styleSheet.hollowPointActiveBorderOpacity,\n      },\n      selected: {\n        lineWidth: styleSheet.hollowPointSelectedBorder,\n        stroke: styleSheet.hollowPointSelectedBorderColor,\n        strokeOpacity: styleSheet.hollowPointSelectedBorderOpacity,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.hollowPointInactiveBorderOpacity,\n      },\n    },\n    area: {\n      default: {\n        fill: styleSheet.areaFillColor,\n        fillOpacity: styleSheet.areaFillOpacity,\n        stroke: null,\n      },\n      active: {\n        fillOpacity: styleSheet.areaActiveFillOpacity,\n      },\n      selected: {\n        fillOpacity: styleSheet.areaSelectedFillOpacity,\n      },\n      inactive: {\n        fillOpacity: styleSheet.areaInactiveFillOpacity,\n      },\n    },\n    hollowArea: {\n      default: {\n        fill: null,\n        stroke: styleSheet.hollowAreaBorderColor,\n        lineWidth: styleSheet.hollowAreaBorder,\n        strokeOpacity: styleSheet.hollowAreaBorderOpacity,\n      },\n      active: {\n        fill: null,\n        lineWidth: styleSheet.hollowAreaActiveBorder,\n      },\n      selected: {\n        fill: null,\n        lineWidth: styleSheet.hollowAreaSelectedBorder,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.hollowAreaInactiveBorderOpacity,\n      },\n    },\n    interval: {\n      default: {\n        fill: styleSheet.intervalFillColor,\n        fillOpacity: styleSheet.intervalFillOpacity,\n      },\n      active: {\n        stroke: styleSheet.intervalActiveBorderColor,\n        lineWidth: styleSheet.intervalActiveBorder,\n      },\n      selected: {\n        stroke: styleSheet.intervalSelectedBorderColor,\n        lineWidth: styleSheet.intervalSelectedBorder,\n      },\n      inactive: {\n        fillOpacity: styleSheet.intervalInactiveFillOpacity,\n        strokeOpacity: styleSheet.intervalInactiveBorderOpacity,\n      },\n    },\n    hollowInterval: {\n      default: {\n        fill: styleSheet.hollowIntervalFillColor,\n        stroke: styleSheet.hollowIntervalBorderColor,\n        lineWidth: styleSheet.hollowIntervalBorder,\n        strokeOpacity: styleSheet.hollowIntervalBorderOpacity,\n      },\n      active: {\n        stroke: styleSheet.hollowIntervalActiveBorderColor,\n        lineWidth: styleSheet.hollowIntervalActiveBorder,\n        strokeOpacity: styleSheet.hollowIntervalActiveBorderOpacity,\n      },\n      selected: {\n        stroke: styleSheet.hollowIntervalSelectedBorderColor,\n        lineWidth: styleSheet.hollowIntervalSelectedBorder,\n        strokeOpacity: styleSheet.hollowIntervalSelectedBorderOpacity,\n      },\n      inactive: {\n        stroke: styleSheet.hollowIntervalInactiveBorderColor,\n        lineWidth: styleSheet.hollowIntervalInactiveBorder,\n        strokeOpacity: styleSheet.hollowIntervalInactiveBorderOpacity,\n      },\n    },\n    line: {\n      default: {\n        stroke: styleSheet.lineBorderColor,\n        lineWidth: styleSheet.lineBorder,\n        strokeOpacity: styleSheet.lineBorderOpacity,\n        fill: null,\n        lineAppendWidth: 10,\n        lineCap: 'round',\n        lineJoin: 'round',\n      },\n      active: {\n        lineWidth: styleSheet.lineActiveBorder,\n      },\n      selected: {\n        lineWidth: styleSheet.lineSelectedBorder,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.lineInactiveBorderOpacity,\n      },\n    },\n  };\n  const axisStyles = createAxisStyles(styleSheet);\n  const legendStyles = createLegendStyles(styleSheet);\n\n  return {\n    background: styleSheet.backgroundColor,\n    defaultColor: styleSheet.brandColor,\n    subColor: styleSheet.subColor,\n    semanticRed: styleSheet.paletteSemanticRed,\n    semanticGreen: styleSheet.paletteSemanticGreen,\n    padding: 'auto',\n    fontFamily: styleSheet.fontFamily,\n    // Theme\n    /** geometrygeometrynull */\n    columnWidthRatio: 1 / 2,\n    /**  */\n    maxColumnWidth: null,\n    /**  */\n    minColumnWidth: null,\n    /**  */\n    roseWidthRatio: 0.9999999,\n    /** / */\n    multiplePieWidthRatio: 1 / 1.3,\n    colors10: styleSheet.paletteQualitative10,\n    colors20: styleSheet.paletteQualitative20,\n    sequenceColors: styleSheet.paletteSequence,\n    shapes: {\n      point: [\n        'hollow-circle',\n        'hollow-square',\n        'hollow-bowtie',\n        'hollow-diamond',\n        'hollow-hexagon',\n        'hollow-triangle',\n        'hollow-triangle-down',\n        'circle',\n        'square',\n        'bowtie',\n        'diamond',\n        'hexagon',\n        'triangle',\n        'triangle-down',\n        'cross',\n        'tick',\n        'plus',\n        'hyphen',\n        'line',\n      ],\n      line: ['line', 'dash', 'dot', 'smooth'],\n      area: ['area', 'smooth', 'line', 'smooth-line'],\n      interval: ['rect', 'hollow-rect', 'line', 'tick'],\n    },\n    sizes: [1, 10],\n    geometries: {\n      interval: {\n        rect: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: (element: Element) => {\n              const coordinate = element.geometry.coordinate;\n              if (coordinate.isPolar && coordinate.isTransposed) {\n                const { startAngle, endAngle } = getAngle(element.getModel(), coordinate);\n                const middleAngle = (startAngle + endAngle) / 2;\n                const r = 7.5;\n                const x = r * Math.cos(middleAngle);\n                const y = r * Math.sin(middleAngle);\n                return {\n                  matrix: ext.transform(null, [['t', x, y]]),\n                };\n              }\n              return shapeStyles.interval.selected;\n            },\n          },\n        },\n        'hollow-rect': {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        tick: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        funnel: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n        pyramid: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n      },\n      line: {\n        line: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        dot: {\n          default: {\n            style: {\n              ...shapeStyles.line.default,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          active: {\n            style: {\n              ...shapeStyles.line.active,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          inactive: {\n            style: {\n              ...shapeStyles.line.inactive,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          selected: {\n            style: {\n              ...shapeStyles.line.selected,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n        },\n        dash: {\n          default: {\n            style: {\n              ...shapeStyles.line.default,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          active: {\n            style: {\n              ...shapeStyles.line.active,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          inactive: {\n            style: {\n              ...shapeStyles.line.inactive,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          selected: {\n            style: {\n              ...shapeStyles.line.selected,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vh: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hvh: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vhv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n      },\n      polygon: {\n        polygon: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n      },\n      point: {\n        circle: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        square: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        bowtie: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        diamond: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        hexagon: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        triangle: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        'triangle-down': {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        'hollow-circle': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-square': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-bowtie': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-diamond': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-hexagon': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-triangle': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-triangle-down': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        cross: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        tick: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        plus: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        hyphen: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n      },\n      area: {\n        area: {\n          default: {\n            style: shapeStyles.area.default,\n          },\n          active: {\n            style: shapeStyles.area.active,\n          },\n          inactive: {\n            style: shapeStyles.area.inactive,\n          },\n          selected: {\n            style: shapeStyles.area.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.area.default,\n          },\n          active: {\n            style: shapeStyles.area.active,\n          },\n          inactive: {\n            style: shapeStyles.area.inactive,\n          },\n          selected: {\n            style: shapeStyles.area.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n        'smooth-line': {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n      },\n      schema: {\n        candle: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        box: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n      },\n      edge: {\n        line: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vhv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        arc: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n      },\n      violin: {\n        violin: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hollow: {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n        'hollow-smooth': {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n      },\n    },\n    components: {\n      axis: {\n        common: axisStyles,\n        top: {\n          position: 'top',\n          grid: null,\n          title: null,\n          verticalLimitLength: 1 / 2,\n        },\n        bottom: {\n          position: 'bottom',\n          grid: null,\n          title: null,\n          verticalLimitLength: 1 / 2,\n        },\n        left: {\n          position: 'left',\n          title: null,\n          line: null,\n          tickLine: null,\n          verticalLimitLength: 1 / 3,\n        },\n        right: {\n          position: 'right',\n          title: null,\n          line: null,\n          tickLine: null,\n          verticalLimitLength: 1 / 3,\n        },\n        circle: {\n          title: null,\n          grid: deepMix({}, axisStyles.grid, { line: { type: 'line' } }),\n        },\n        radius: {\n          title: null,\n          grid: deepMix({}, axisStyles.grid, { line: { type: 'circle' } }),\n        },\n      },\n      legend: {\n        common: legendStyles,\n        right: {\n          layout: 'vertical',\n          padding: styleSheet.legendVerticalPadding,\n        },\n        left: {\n          layout: 'vertical',\n          padding: styleSheet.legendVerticalPadding,\n        },\n        top: {\n          layout: 'horizontal',\n          padding: styleSheet.legendHorizontalPadding,\n        },\n        bottom: {\n          layout: 'horizontal',\n          padding: styleSheet.legendHorizontalPadding,\n        },\n        continuous: {\n          title: null,\n          background: null,\n          track: {},\n          rail: {\n            type: 'color',\n            size: styleSheet.sliderRailHeight,\n            defaultLength: styleSheet.sliderRailWidth,\n            style: {\n              fill: styleSheet.sliderRailFillColor,\n              stroke: styleSheet.sliderRailBorderColor,\n              lineWidth: styleSheet.sliderRailBorder,\n            },\n          },\n          label: {\n            align: 'rail',\n            spacing: 4, //  rail \n            formatter: null,\n            style: {\n              fill: styleSheet.sliderLabelTextFillColor,\n              fontSize: styleSheet.sliderLabelTextFontSize,\n              lineHeight: styleSheet.sliderLabelTextLineHeight,\n              textBaseline: 'middle',\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          handler: {\n            size: styleSheet.sliderHandlerWidth,\n            style: {\n              fill: styleSheet.sliderHandlerFillColor,\n              stroke: styleSheet.sliderHandlerBorderColor,\n            },\n          },\n          slidable: true,\n          padding: legendStyles.padding,\n        },\n      },\n      tooltip: {\n        showContent: true,\n        follow: true,\n        showCrosshairs: false,\n        showMarkers: true,\n        shared: false,\n        enterable: false,\n        position: 'auto',\n        marker: {\n          symbol: 'circle',\n          stroke: '#fff',\n          shadowBlur: 10,\n          shadowOffsetX: 0,\n          shadowOffsetY: 0,\n          shadowColor: 'rgba(0,0,0,0.09)',\n          lineWidth: 2,\n          r: 4,\n        },\n        crosshairs: {\n          line: {\n            style: {\n              stroke: styleSheet.tooltipCrosshairsBorderColor,\n              lineWidth: styleSheet.tooltipCrosshairsBorder,\n            },\n          },\n          text: null,\n          textBackground: {\n            padding: 2,\n            style: {\n              fill: 'rgba(0, 0, 0, 0.25)',\n              lineWidth: 0,\n              stroke: null,\n            },\n          },\n          follow: false,\n        },\n        // tooltip dom \n        domStyles: {\n          [`${TOOLTIP_CSS_CONST.CONTAINER_CLASS}`]: {\n            position: 'absolute',\n            visibility: 'hidden',\n            zIndex: 8,\n            transition: 'left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s',\n            backgroundColor: styleSheet.tooltipContainerFillColor,\n            opacity: styleSheet.tooltipContainerFillOpacity,\n            boxShadow: styleSheet.tooltipContainerShadow,\n            borderRadius: `${styleSheet.tooltipContainerBorderRadius}px`,\n            color: styleSheet.tooltipTextFillColor,\n            fontSize: `${styleSheet.tooltipTextFontSize}px`,\n            fontFamily: styleSheet.fontFamily,\n            lineHeight: `${styleSheet.tooltipTextLineHeight}px`,\n            padding: '0 12px 0 12px',\n          },\n          [`${TOOLTIP_CSS_CONST.TITLE_CLASS}`]: {\n            marginBottom: '12px',\n            marginTop: '12px',\n          },\n          [`${TOOLTIP_CSS_CONST.LIST_CLASS}`]: {\n            margin: 0,\n            listStyleType: 'none',\n            padding: 0,\n          },\n          [`${TOOLTIP_CSS_CONST.LIST_ITEM_CLASS}`]: {\n            listStyleType: 'none',\n            padding: 0,\n            marginBottom: '12px',\n            marginTop: '12px',\n            marginLeft: 0,\n            marginRight: 0,\n          },\n          [`${TOOLTIP_CSS_CONST.MARKER_CLASS}`]: {\n            width: '8px',\n            height: '8px',\n            borderRadius: '50%',\n            display: 'inline-block',\n            marginRight: '8px',\n          },\n          [`${TOOLTIP_CSS_CONST.VALUE_CLASS}`]: {\n            display: 'inline-block',\n            float: 'right',\n            marginLeft: '30px',\n          },\n        },\n      },\n      annotation: {\n        arc: {\n          style: {\n            stroke: styleSheet.annotationArcBorderColor,\n            lineWidth: styleSheet.annotationArcBorder,\n          },\n          animate: true,\n        },\n        line: {\n          style: {\n            stroke: styleSheet.annotationLineBorderColor,\n            lineDash: styleSheet.annotationLineDash,\n            lineWidth: styleSheet.annotationLineBorder,\n          },\n          text: {\n            position: 'start',\n            autoRotate: true,\n            style: {\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              textAlign: 'start',\n              fontFamily: styleSheet.fontFamily,\n              textBaseline: 'bottom',\n            },\n          },\n          animate: true,\n        },\n        text: {\n          style: {\n            fill: styleSheet.annotationTextFillColor,\n            stroke: styleSheet.annotationTextBorderColor,\n            lineWidth: styleSheet.annotationTextBorder,\n            fontSize: styleSheet.annotationTextFontSize,\n            textBaseline: 'middle',\n            textAlign: 'start',\n            fontFamily: styleSheet.fontFamily,\n          },\n          animate: true,\n        },\n        region: {\n          top: false,\n          style: {\n            lineWidth: styleSheet.annotationRegionBorder,\n            stroke: styleSheet.annotationRegionBorderColor,\n            fill: styleSheet.annotationRegionFillColor,\n            fillOpacity: styleSheet.annotationRegionFillOpacity,\n          }, // \n          animate: true,\n        },\n        image: {\n          top: false,\n          animate: true,\n        },\n        dataMarker: {\n          top: true,\n          point: {\n            style: {\n              r: 3,\n              stroke: styleSheet.brandColor,\n              lineWidth: 2,\n            },\n          },\n          line: {\n            style: {\n              stroke: styleSheet.annotationLineBorderColor,\n              lineWidth: styleSheet.annotationLineBorder,\n            },\n            length: styleSheet.annotationDataMarkerLineLength,\n          },\n          text: {\n            style: {\n              textAlign: 'start',\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          direction: 'upward',\n          autoAdjust: true,\n          animate: true,\n        },\n        dataRegion: {\n          style: {\n            region: {\n              fill: styleSheet.annotationRegionFillColor,\n              fillOpacity: styleSheet.annotationRegionFillOpacity,\n            },\n            text: {\n              textAlign: 'center',\n              textBaseline: 'bottom',\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          animate: true,\n        },\n      },\n      slider: {\n        common: {\n          padding: [8, 8, 8, 8],\n          backgroundStyle: {\n            fill: styleSheet.cSliderBackgroundFillColor,\n            opacity: styleSheet.cSliderBackgroundFillOpacity,\n          },\n          foregroundStyle: {\n            fill: styleSheet.cSliderForegroundFillColor,\n            opacity: styleSheet.cSliderForegroundFillOpacity,\n          },\n          handlerStyle: {\n            width: styleSheet.cSliderHandlerWidth,\n            height: styleSheet.cSliderHandlerHeight,\n            fill: styleSheet.cSliderHandlerFillColor,\n            opacity: styleSheet.cSliderHandlerFillOpacity,\n            stroke: styleSheet.cSliderHandlerBorderColor,\n            lineWidth: styleSheet.cSliderHandlerBorder,\n            radius: styleSheet.cSliderHandlerBorderRadius,\n            // \n            highLightFill: styleSheet.cSliderHandlerHighlightFillColor,\n          },\n          textStyle: {\n            fill: styleSheet.cSliderTextFillColor,\n            opacity: styleSheet.cSliderTextFillOpacity,\n            fontSize: styleSheet.cSliderTextFontSize,\n            lineHeight: styleSheet.cSliderTextLineHeight,\n            fontWeight: styleSheet.cSliderTextFontWeight,\n            stroke: styleSheet.cSliderTextBorderColor,\n            lineWidth: styleSheet.cSliderTextBorder,\n          },\n        },\n      },\n      scrollbar: {\n        common: {\n          padding: [8, 8, 8, 8],\n        },\n        default: {\n          style: {\n            trackColor: styleSheet.scrollbarTrackFillColor,\n            thumbColor: styleSheet.scrollbarThumbFillColor,\n          },\n        },\n        hover: {\n          style: {\n            thumbColor: styleSheet.scrollbarThumbHighlightFillColor,\n          },\n        },\n      },\n    },\n    labels: {\n      offset: 12,\n      style: {\n        fill: styleSheet.labelFillColor,\n        fontSize: styleSheet.labelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.labelBorderColor,\n        lineWidth: styleSheet.labelBorder,\n      },\n      fillColorDark: styleSheet.labelFillColorDark,\n      fillColorLight: styleSheet.labelFillColorLight,\n      autoRotate: true,\n    },\n    innerLabels: {\n      style: {\n        fill: styleSheet.innerLabelFillColor,\n        fontSize: styleSheet.innerLabelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.innerLabelBorderColor,\n        lineWidth: styleSheet.innerLabelBorder,\n      },\n      autoRotate: true,\n    },\n    overflowLabels: {\n      style: {\n        fill: styleSheet.overflowLabelFillColor,\n        fontSize: styleSheet.overflowLabelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.overflowLabelBorderColor,\n        lineWidth: styleSheet.overflowLabelBorder,\n      },\n    },\n    pieLabels: {\n      labelHeight: 14,\n      offset: 10,\n      labelLine: {\n        style: {\n          lineWidth: styleSheet.labelLineBorder,\n        },\n      },\n      autoRotate: true,\n    },\n  };\n}\n","import { StyleSheetCfg } from '../../interface';\n\nconst BLACK_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst WHITE_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#6F5EF9',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#6F5EF9',\n  '#D3CEFD',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\n/**  */\nconst SINGLE_SEQUENCE = [\n  '#B8E1FF',\n  '#9AC5FF',\n  '#7DAAFF',\n  '#5B8FF9',\n  '#3D76DD',\n  '#085EC0',\n  '#0047A5',\n  '#00318A',\n  '#001D70',\n];\n\nexport const createLightStyleSheet = (cfg: StyleSheetCfg = {}) => {\n  const { paletteQualitative10 = QUALITATIVE_10, paletteQualitative20 = QUALITATIVE_20 } = cfg;\n  const { brandColor = paletteQualitative10[0] } = cfg;\n\n  const token = {\n    /**  */\n    backgroundColor: 'transparent',\n    /**  */\n    brandColor,\n    /**  */\n    subColor: 'rgba(0,0,0,0.05)',\n    /**  1 10  */\n    paletteQualitative10,\n    /**  2 10  */\n    paletteQualitative20,\n    /**  */\n    paletteSemanticRed: '#F4664A',\n    /**  */\n    paletteSemanticGreen: '#30BF78',\n    /**  */\n    paletteSemanticYellow: '#FAAD14',\n    /** () */\n    paletteSequence: SINGLE_SEQUENCE,\n    /**  */\n    fontFamily: `\"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n    \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n    \"Noto Color Emoji\"`,\n\n    // --------------------  --------------------\n    /**  */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisLineBorder: 1,\n    /**  lineDash  */\n    axisLineDash: null,\n\n    /**  */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /**  */\n    axisTitleTextFontSize: 12,\n    /**  */\n    axisTitleTextLineHeight: 12,\n    /**  */\n    axisTitleTextFontWeight: 'normal',\n    /**  */\n    axisTitleSpacing: 12,\n    /** icon */\n    axisDescriptionIconFillColor: WHITE_COLORS[85],\n\n    /**  */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisTickLineLength: 4,\n    /**  */\n    axisTickLineBorder: 1,\n\n    /**  */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisSubTickLineLength: 2,\n    /**  */\n    axisSubTickLineBorder: 1,\n\n    /**  */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /**  */\n    axisLabelFontSize: 12,\n    /**  */\n    axisLabelLineHeight: 12,\n    /**  */\n    axisLabelFontWeight: 'normal',\n    /**  */\n    axisLabelOffset: 8,\n\n    /**  */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisGridBorder: 1,\n    /**  */\n    axisGridLineDash: null,\n\n    // --------------------  --------------------\n    /**  */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendTitleTextFontSize: 12,\n    /**  */\n    legendTitleTextLineHeight: 21,\n    /**  */\n    legendTitleTextFontWeight: 'normal',\n\n    /**  marker  */\n    legendMarkerColor: brandColor,\n    /**  marker  */\n    legendMarkerSpacing: 8,\n    /**  marker  */\n    legendMarkerSize: 4,\n    /**  'circle' marker  */\n    legendCircleMarkerSize: 4,\n    /**  'square' marker  */\n    legendSquareMarkerSize: 4,\n    /**  'line' marker  */\n    legendLineMarkerSize: 5,\n\n    /**  */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /**  */\n    legendItemNameFontSize: 12,\n    /**  */\n    legendItemNameLineHeight: 12,\n    /**  */\n    legendItemNameFontWeight: 'normal',\n    /**  */\n    legendItemSpacing: 24,\n    /**  */\n    legendItemMarginBottom: 12,\n    /**   */\n    legendPadding: [8, 8, 8, 8],\n    /**  */\n    legendHorizontalPadding: [8, 0, 8, 0],\n    /**  */\n    legendVerticalPadding: [0, 8, 0, 8],\n\n    // \n    /**  marker  */\n    legendPageNavigatorMarkerSize: 12,\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillColor: BLACK_COLORS[100],\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillOpacity: 0.45,\n    /**  marker  */\n    legendPageNavigatorMarkerFillColor: BLACK_COLORS[100],\n    /**  marker  */\n    legendPageNavigatorMarkerFillOpacity: 1,\n    /**  */\n    legendPageNavigatorTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendPageNavigatorTextFontSize: 12,\n\n    /**  */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /**  */\n    sliderRailBorder: 0,\n    /**  */\n    sliderRailBorderColor: null,\n    /**  */\n    sliderRailWidth: 100,\n    /**  */\n    sliderRailHeight: 12,\n\n    /**  */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /**  */\n    sliderLabelTextFontSize: 12,\n    /**  */\n    sliderLabelTextLineHeight: 12,\n    /**  */\n    sliderLabelTextFontWeight: 'normal',\n\n    /**  */\n    sliderHandlerFillColor: BLACK_COLORS[6],\n    /**  */\n    sliderHandlerWidth: 10,\n    /**  */\n    sliderHandlerHeight: 14,\n    /**  */\n    sliderHandlerBorder: 1,\n    /**  */\n    sliderHandlerBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Annotation --------------------\n    /** arc  */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc  */\n    annotationArcBorder: 1,\n\n    /** line  */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line  */\n    annotationLineBorder: 1,\n    /** lube  */\n    annotationLineDash: null,\n\n    /** text  */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text  */\n    annotationTextFontSize: 12,\n    /** text  */\n    annotationTextLineHeight: 12,\n    /** text  */\n    annotationTextFontWeight: 'normal',\n    /** text  */\n    annotationTextBorderColor: null,\n    /** text  */\n    annotationTextBorder: 0,\n\n    /** region  */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region  */\n    annotationRegionFillOpacity: 0.06,\n    /** region  */\n    annotationRegionBorder: 0,\n    /** region  */\n    annotationRegionBorderColor: null,\n\n    /** dataMarker  */\n    annotationDataMarkerLineLength: 16,\n\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs  */\n    tooltipCrosshairsLineDash: null,\n\n    /** tooltip  */\n    tooltipContainerFillColor: 'rgb(255, 255, 255)',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip  */\n    tooltipContainerShadow: '0px 0px 10px #aeaeae',\n    /** tooltip  */\n    tooltipContainerBorderRadius: 3,\n\n    /** tooltip  */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip  */\n    tooltipTextFontSize: 12,\n    /** tooltip  */\n    tooltipTextLineHeight: 12,\n    /** tooltip  */\n    tooltipTextFontWeight: 'bold',\n\n    // -------------------- Geometry labels --------------------\n    /** Geometry label  */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    labelFontSize: 12,\n    /** Geometry label  */\n    labelLineHeight: 12,\n    /** Geometry label  */\n    labelFontWeight: 'normal',\n    /** Geometry label  */\n    labelBorderColor: null,\n    /** Geometry label  */\n    labelBorder: 0,\n\n    /** Geometry innerLabel  */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel  */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel  */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel  */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel  */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel  */\n    innerLabelBorder: 0,\n\n    /** Geometry overflowLabel  */\n    overflowLabelFillColor: BLACK_COLORS[65],\n    /** Geometry overflowLabel  */\n    overflowLabelFontSize: 12,\n    /** Geometry overflowLabel  */\n    overflowLabelLineHeight: 12,\n    /** Geometry overflowLabel  */\n    overflowLabelFontWeight: 'normal',\n    /** Geometry overflowLabel  */\n    overflowLabelBorderColor: WHITE_COLORS[100],\n    /** Geometry overflowLabel  */\n    overflowLabelBorder: 1,\n\n    /** Geometry label  */\n    labelLineBorder: 1,\n    /** Geometry label  */\n    labelLineBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Slider --------------------\n    /** slider  */\n    cSliderRailHieght: 16,\n    /** slider  */\n    cSliderBackgroundFillColor: '#416180',\n    /** slider  */\n    cSliderBackgroundFillOpacity: 0.05,\n    /** slider  */\n    cSliderForegroundFillColor: '#5B8FF9',\n    /** slider  */\n    cSliderForegroundFillOpacity: 0.15,\n    // slider handlerStyle \n    /** slider  */\n    cSliderHandlerHeight: 24,\n    /** Slider  */\n    cSliderHandlerWidth: 10,\n    /** Slider  */\n    cSliderHandlerFillColor: '#F7F7F7',\n    /** Slider  */\n    cSliderHandlerFillOpacity: 1,\n    /** Slider  */\n    cSliderHandlerHighlightFillColor: '#FFF',\n    /** Slider  */\n    cSliderHandlerBorderColor: '#BFBFBF',\n    /** Slider  */\n    cSliderHandlerBorder: 1,\n    /** Slider  */\n    cSliderHandlerBorderRadius: 2,\n    // slider textStyle \n    /** Slider  */\n    cSliderTextFillColor: '#000',\n    /** Slider  */\n    cSliderTextFillOpacity: 0.45,\n    /** Slider  */\n    cSliderTextFontSize: 12,\n    /** Slider  */\n    cSliderTextLineHeight: 12,\n    /** Slider  */\n    cSliderTextFontWeight: 'normal',\n    /** Slider  */\n    cSliderTextBorderColor: null,\n    /** Slider  */\n    cSliderTextBorder: 0,\n\n    // -------------------- Scrollbar --------------------\n    /**   */\n    scrollbarTrackFillColor: 'rgba(0,0,0,0)',\n    /**   */\n    scrollbarThumbFillColor: 'rgba(0,0,0,0.15)',\n    /**   */\n    scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.2)',\n\n    // -------------------- Geometry --------------------\n    /**  */\n    pointFillColor: brandColor,\n    /**  */\n    pointFillOpacity: 0.95,\n    /**  */\n    pointSize: 4,\n    /**  */\n    pointBorder: 1,\n    /**  */\n    pointBorderColor: WHITE_COLORS[100],\n    /**  */\n    pointBorderOpacity: 1,\n\n    /**  active  */\n    pointActiveBorderColor: BLACK_COLORS[100],\n\n    /**  selected  */\n    pointSelectedBorder: 2,\n    /**  selected  */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n\n    /**  inactive  */\n    pointInactiveFillOpacity: 0.3,\n    /**  inactive  */\n    pointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    hollowPointSize: 4,\n    /**  */\n    hollowPointBorder: 1,\n    /**  */\n    hollowPointBorderColor: brandColor,\n    /**  */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n\n    /**  active  */\n    hollowPointActiveBorder: 1,\n    /**  active  */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /**  active  */\n    hollowPointActiveBorderOpacity: 1,\n\n    /**  selected  */\n    hollowPointSelectedBorder: 2,\n    /**  selected  */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /**  selected  */\n    hollowPointSelectedBorderOpacity: 1,\n\n    /**  inactive  */\n    hollowPointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    lineBorder: 2,\n    /**  */\n    lineBorderColor: brandColor,\n    /**  */\n    lineBorderOpacity: 1,\n\n    /**  Active  */\n    lineActiveBorder: 3,\n\n    /**  selected  */\n    lineSelectedBorder: 3,\n\n    /**  inactive  */\n    lineInactiveBorderOpacity: 0.3,\n\n    /** area  */\n    areaFillColor: brandColor,\n    /** area  */\n    areaFillOpacity: 0.25,\n\n    /** area  active  */\n    areaActiveFillColor: brandColor,\n    areaActiveFillOpacity: 0.5,\n\n    /** area  selected  */\n    areaSelectedFillColor: brandColor,\n    areaSelectedFillOpacity: 0.5,\n\n    /** area inactive  */\n    areaInactiveFillOpacity: 0.3,\n\n    /** hollowArea  */\n    hollowAreaBorderColor: brandColor,\n    /** hollowArea  */\n    hollowAreaBorder: 2,\n    /** hollowArea  */\n    hollowAreaBorderOpacity: 1,\n\n    /** hollowArea active  */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea selected  */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea inactive  */\n    hollowAreaInactiveBorderOpacity: 0.3,\n\n    /** interval  */\n    intervalFillColor: brandColor,\n    /** interval  */\n    intervalFillOpacity: 0.95,\n\n    /** interval active  */\n    intervalActiveBorder: 1,\n    /** interval active  */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n\n    /** interval selected  */\n    intervalSelectedBorder: 2,\n    /** interval selected  */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected  */\n    intervalSelectedBorderOpacity: 1,\n\n    /** interval inactive  */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive  */\n    intervalInactiveFillOpacity: 0.3,\n\n    /** interval  */\n    hollowIntervalBorder: 2,\n    /** hollowInterval  */\n    hollowIntervalBorderColor: brandColor,\n    /** hollowInterval  */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n\n    /** hollowInterval active  */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active  */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderOpacity: 1,\n\n    /** hollowInterval inactive  */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n  };\n\n  return { ...token, ...cfg };\n};\n\nexport const antvLight = createLightStyleSheet();\n","import { deepMix } from '@antv/util';\nimport { createThemeByStyleSheet } from './create-by-style-sheet';\nimport { createLightStyleSheet } from '../style-sheet/light';\nimport { LooseObject, StyleSheetCfg } from '../../interface';\n\ninterface ThemeCfg extends LooseObject {\n  styleSheet?: StyleSheetCfg;\n}\n\nexport function createTheme(themeCfg: ThemeCfg): LooseObject {\n  const { styleSheet: styleSheetCfg = {}, ...themeObject } = themeCfg;\n\n  //   ( light )\n  const styleSheet = createLightStyleSheet(styleSheetCfg);\n  //  \n  return deepMix({}, createThemeByStyleSheet(styleSheet), themeObject);\n}\n","import { get, lowerCase } from '@antv/util';\nimport { LooseObject } from '../interface';\n\nimport { createTheme } from './util';\n\nconst defaultTheme = createTheme({});\n\n// \nconst Themes: Record<string, LooseObject> = {\n  default: defaultTheme,\n};\n\n/**\n * \n * @param theme \n */\nexport function getTheme(theme?: string): LooseObject {\n  return get(Themes, lowerCase(theme), Themes.default);\n}\n\n/**\n * \n * @param theme \n * @param value \n */\nexport function registerTheme(theme: string, value: LooseObject) {\n  Themes[lowerCase(theme)] = createTheme(value);\n}\n","import {\n  contains,\n  filter,\n  find,\n  isArray,\n  isEmpty,\n  isFunction,\n  isNil,\n  isNumberEqual,\n  isObject,\n  memoize,\n  get,\n  values,\n} from '@antv/util';\nimport { View } from '../chart';\nimport { FIELD_ORIGIN, GROUP_ATTRS } from '../constant';\nimport { Attribute, Scale } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { Data, Datum, MappingDatum, Point, TooltipCfg, TooltipTitle } from '../interface';\nimport { getName, inferScaleType } from './scale';\n\nfunction snapEqual(v1: any, v2: any, scale: Scale) {\n  const value1 = scale.translate(v1);\n  const value2 = scale.translate(v2);\n\n  return isNumberEqual(value1, value2);\n}\n\nfunction getXValueByPoint(point: Point, geometry: Geometry): number {\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const range = xScale.range;\n  const rangeMax = range[range.length - 1];\n  const rangeMin = range[0];\n\n  const invertPoint = coordinate.invert(point);\n\n  let xValue = invertPoint.x;\n  if (coordinate.isPolar && xValue > (1 + rangeMax) / 2) {\n    xValue = rangeMin; // scale  range \n  }\n  return xScale.translate(xScale.invert(xValue));\n}\n\nfunction filterYValue(data: Data, point: Point, geometry: Geometry) {\n  const coordinate = geometry.coordinate;\n  const yScale = geometry.getYScale();\n  const yField = yScale.field;\n  const invertPoint = coordinate.invert(point);\n  const yValue = yScale.invert(invertPoint.y);\n\n  const result = find(data, (obj: Datum) => {\n    const originData = obj[FIELD_ORIGIN];\n    return originData[yField][0] <= yValue && originData[yField][1] >= yValue;\n  });\n  return result || data[data.length - 1];\n}\n\nconst getXDistance = memoize((scale: Scale) => {\n  if (scale.isCategory) {\n    return 1;\n  }\n  const scaleValues = scale.values; // values \n  const length = scaleValues.length;\n  let min = scale.translate(scaleValues[0]);\n  let max = min;\n\n  for (let index = 0; index < length; index++) {\n    const value = scaleValues[index];\n    //  translate\n    const numericValue = scale.translate(value);\n    if (numericValue < min) {\n      min = numericValue;\n    }\n    if (numericValue > max) {\n      max = numericValue;\n    }\n  }\n  return (max - min) / (length - 1);\n});\n\n/**\n *  tooltip  title\n * @param originData\n * @param geometry\n * @param title\n */\nfunction getTooltipTitle(originData: Datum, geometry: Geometry, title: TooltipTitle): string {\n  const positionAttr = geometry.getAttribute('position');\n  const fields = positionAttr.getFields();\n  const scales = geometry.scales;\n\n  const titleField = isFunction(title) || !title ? fields[0] : title;\n  const titleScale = scales[titleField];\n\n  //  scale scale.getText() \n  //  scale title \n  const tooltipTitle = titleScale ? titleScale.getText(originData[titleField]) : originData[titleField] || titleField;\n\n  return isFunction(title) ? title(tooltipTitle, originData) : tooltipTitle;\n}\n\nfunction getAttributesForLegend(geometry: Geometry) {\n  const attributes = values(geometry.attributes);\n  return filter(attributes, (attribute: Attribute) => contains(GROUP_ATTRS, attribute.type));\n}\n\nfunction getTooltipValueScale(geometry: Geometry) {\n  const attributes = getAttributesForLegend(geometry);\n  let scale;\n  for (const attribute of attributes) {\n    const tmpScale = attribute.getScale(attribute.type);\n    if (tmpScale && tmpScale.isLinear) {\n      const tmpScaleDef = get(geometry.scaleDefs, tmpScale.field);\n      const inferedScaleType = inferScaleType(tmpScale, tmpScaleDef, attribute.type, geometry.type);\n      if (inferedScaleType !== 'cat') {\n        //  position \n        scale = tmpScale;\n        break;\n      }\n    }\n  }\n\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  return scale || yScale || xScale;\n}\n\nfunction getTooltipValue(originData: Datum, valueScale: Scale) {\n  const field = valueScale.field;\n  const value = originData[field];\n\n  if (isArray(value)) {\n    const texts = value.map((eachValue) => {\n      return valueScale.getText(eachValue);\n    });\n    return texts.join('-');\n  }\n  return valueScale.getText(value);\n}\n\n//  tooltip item  name \nfunction getTooltipName(originData: Datum, geometry: Geometry) {\n  let nameScale: Scale;\n  const groupScales = geometry.getGroupScales();\n  if (groupScales.length) {\n    // \n    nameScale = groupScales[0];\n  }\n  if (nameScale) {\n    const field = nameScale.field;\n    return nameScale.getText(originData[field]);\n  }\n\n  const valueScale = getTooltipValueScale(geometry);\n  return getName(valueScale);\n}\n\n/**\n * @ignore\n * Finds data from geometry by point\n * @param point canvas point\n * @param data an item of geometry.dataArray\n * @param geometry\n * @returns\n */\nexport function findDataByPoint(point: Point, data: MappingDatum[], geometry: Geometry) {\n  if (data.length === 0) {\n    return null;\n  }\n\n  const geometryType = geometry.type;\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  const xField = xScale.field;\n  const yField = yScale.field;\n\n  let rst = null;\n\n  //  point \n  if (geometryType === 'heatmap' || geometryType === 'point') {\n    //  point \n    const coordinate = geometry.coordinate;\n    const invertPoint = coordinate.invert(point); // \n    const x = xScale.invert(invertPoint.x); // \n    const y = yScale.invert(invertPoint.y); // \n\n    let min = Infinity;\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const originData = obj[FIELD_ORIGIN];\n      const range = (originData[xField] - x) ** 2 + (originData[yField] - y) ** 2;\n      if (range < min) {\n        min = range;\n        rst = obj;\n      }\n    }\n\n    return rst;\n  }\n\n  //  Geometry  x \n  const first = data[0];\n  let last = data[data.length - 1];\n  const xValue = getXValueByPoint(point, geometry);\n  const firstXValue = first[FIELD_ORIGIN][xField];\n  const firstYValue = first[FIELD_ORIGIN][yField];\n  const lastXValue = last[FIELD_ORIGIN][xField];\n  const isYArray = yScale.isLinear && isArray(firstYValue); //  x y \n\n  //  x \n  if (isArray(firstXValue)) {\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const originData = record[FIELD_ORIGIN];\n      // xValue  originData[xField] \n      if (xScale.translate(originData[xField][0]) <= xValue && xScale.translate(originData[xField][1]) >= xValue) {\n        if (isYArray) {\n          // x  y \n          if (!isArray(rst)) {\n            rst = [];\n          }\n          rst.push(record);\n        } else {\n          rst = record;\n          break;\n        }\n      }\n    }\n    if (isArray(rst)) {\n      rst = filterYValue(rst, point, geometry);\n    }\n  } else {\n    let next;\n    if (!xScale.isLinear && xScale.type !== 'timeCat') {\n      // x \n      for (let index = 0; index < data.length; index++) {\n        const record = data[index];\n        const originData = record[FIELD_ORIGIN];\n        if (snapEqual(originData[xField], xValue, xScale)) {\n          if (isYArray) {\n            if (!isArray(rst)) {\n              rst = [];\n            }\n            rst.push(record);\n          } else {\n            rst = record;\n            break;\n          }\n        } else if (xScale.translate(originData[xField]) <= xValue) {\n          last = record;\n          next = data[index + 1];\n        }\n      }\n\n      if (isArray(rst)) {\n        rst = filterYValue(rst, point, geometry);\n      }\n    } else {\n      // x \n      if (\n        (xValue > xScale.translate(lastXValue) || xValue < xScale.translate(firstXValue)) &&\n        (xValue > xScale.max || xValue < xScale.min)\n      ) {\n        // \n        return null;\n      }\n\n      let firstIdx = 0;\n      let lastIdx = data.length - 1;\n      let middleIdx;\n      while (firstIdx <= lastIdx) {\n        middleIdx = Math.floor((firstIdx + lastIdx) / 2);\n        const item = data[middleIdx][FIELD_ORIGIN][xField];\n        if (snapEqual(item, xValue, xScale)) {\n          return data[middleIdx];\n        }\n\n        if (xScale.translate(item) <= xScale.translate(xValue)) {\n          firstIdx = middleIdx + 1;\n          last = data[middleIdx];\n          next = data[middleIdx + 1];\n        } else {\n          if (lastIdx === 0) {\n            last = data[0];\n          }\n          lastIdx = middleIdx - 1;\n        }\n      }\n    }\n\n    if (last && next) {\n      // \n      if (\n        Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) >\n        Math.abs(xScale.translate(next[FIELD_ORIGIN][xField]) - xValue)\n      ) {\n        last = next;\n      }\n    }\n  }\n\n  const distance = getXDistance(geometry.getXScale()); // \n  if (!rst && Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) <= distance / 2) {\n    rst = last;\n  }\n\n  return rst;\n}\n\n/**\n * @ignore\n * Gets tooltip items\n * @param data\n * @param geometry\n * @param [title]\n * @returns\n */\nexport function getTooltipItems(\n  data: MappingDatum,\n  geometry: Geometry,\n  title: TooltipTitle = '',\n  showNil: boolean = false\n) {\n  const originData = data[FIELD_ORIGIN];\n  const tooltipTitle = getTooltipTitle(originData, geometry, title);\n  const tooltipOption = geometry.tooltipOption;\n  const { defaultColor } = geometry.theme;\n  const items = [];\n  let name;\n  let value;\n\n  function addItem(itemName, itemValue) {\n    if (showNil || (!isNil(itemValue) && itemValue !== '')) {\n      //  null\n      const item = {\n        title: tooltipTitle,\n        data: originData, // \n        mappingData: data, // \n        name: itemName,\n        value: itemValue,\n        color: data.color || defaultColor,\n        marker: true,\n      };\n\n      items.push(item);\n    }\n  }\n\n  if (isObject(tooltipOption)) {\n    const { fields, callback } = tooltipOption;\n    if (callback) {\n      // \n      const callbackParams = fields.map((field: string) => {\n        return data[FIELD_ORIGIN][field];\n      });\n      const cfg = callback(...callbackParams);\n      const itemCfg = {\n        data: data[FIELD_ORIGIN], // \n        mappingData: data, // \n        title: tooltipTitle,\n        color: data.color || defaultColor,\n        marker: true, //  marker\n        ...cfg,\n      };\n\n      items.push(itemCfg);\n    } else {\n      const scales = geometry.scales;\n      for (const field of fields) {\n        if (!isNil(originData[field])) {\n          // null, undefined \n          const scale = scales[field];\n          name = getName(scale);\n          value = scale.getText(originData[field]);\n          addItem(name, value);\n        }\n      }\n    }\n  } else {\n    const valueScale = getTooltipValueScale(geometry);\n    // null ,undefined\n    value = getTooltipValue(originData, valueScale);\n    name = getTooltipName(originData, geometry);\n    addItem(name, value);\n  }\n  return items;\n}\n\nfunction getTooltipItemsByFindData(geometry: Geometry, point, title, tooltipCfg: TooltipCfg) {\n  const { showNil } = tooltipCfg;\n  const result = [];\n  const dataArray = geometry.dataArray;\n  if (!isEmpty(dataArray)) {\n    geometry.sort(dataArray); //  tooltip \n    for (const data of dataArray) {\n      const record = findDataByPoint(point, data, geometry);\n      if (record) {\n        const elementId = geometry.getElementId(record);\n        const element = geometry.elementsMap[elementId];\n        if (geometry.type === 'heatmap' || element.visible) {\n          // Heatmap  Element\n          //  tooltip \n          const items = getTooltipItems(record, geometry, title, showNil);\n          if (items.length) {\n            result.push(items);\n          }\n        }\n      }\n    }\n  }\n\n  return result;\n}\n\nfunction getTooltipItemsByHitShape(geometry, point, title, tooltipCfg: TooltipCfg) {\n  const { showNil } = tooltipCfg;\n  const result = [];\n  const container = geometry.container;\n  const shape = container.getShape(point.x, point.y);\n  if (shape && shape.get('visible') && shape.get('origin')) {\n    const mappingData = shape.get('origin').mappingData;\n    const items = getTooltipItems(mappingData, geometry, title, showNil);\n    if (items.length) {\n      result.push(items);\n    }\n  }\n\n  return result;\n}\n\n/**\n * \n */\nexport function findItemsFromView(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  const result = [];\n  //  view \n  const geometries = view.geometries;\n  const { shared, title, reversed } = tooltipCfg;\n  for (const geometry of geometries) {\n    if (geometry.visible && geometry.tooltipOption !== false) {\n      // geometry  tooltip\n      const geometryType = geometry.type;\n      let tooltipItems;\n      if (['point', 'edge', 'polygon'].includes(geometryType)) {\n        // \n        tooltipItems = getTooltipItemsByHitShape(geometry, point, title, tooltipCfg);\n      } else if (['area', 'line', 'path', 'heatmap'].includes(geometryType)) {\n        //  'area', 'line', 'path' tooltip\n        tooltipItems = getTooltipItemsByFindData(geometry, point, title, tooltipCfg);\n      } else {\n        if (shared !== false) {\n          tooltipItems = getTooltipItemsByFindData(geometry, point, title, tooltipCfg);\n        } else {\n          tooltipItems = getTooltipItemsByHitShape(geometry, point, title, tooltipCfg);\n        }\n      }\n      if (tooltipItems.length) {\n        if (reversed) {\n          tooltipItems.reverse();\n        }\n        // geometry  item geometry.tooltip('x*y*z')\n        result.push(tooltipItems);\n      }\n    }\n  }\n\n  return result;\n}\n\nexport function findItemsFromViewRecurisive(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  let result = findItemsFromView(view, point, tooltipCfg);\n\n  // \n  for (const childView of view.views) {\n    result = result.concat(findItemsFromView(childView, point, tooltipCfg));\n  }\n\n  return result;\n}\n","import { isArray, isNumber } from '@antv/util';\nimport { Padding, ViewPadding } from '../interface';\n\n/**\n * @ignore\n *  padding\n * @param padding\n */\nexport function isAutoPadding(padding: ViewPadding): padding is 'auto' {\n  return !isNumber(padding) && !isArray(padding);\n}\n\n/**\n * @ignore\n * padding \n * @param padding\n * @return [ top, right, bottom, left ]\n */\nexport function parsePadding(padding: number[] | number = 0): Padding {\n  let paddingArray = isArray(padding) ? padding : [padding];\n\n  switch (paddingArray.length) {\n    case 0:\n      paddingArray = [0, 0, 0, 0];\n      break;\n    case 1:\n      paddingArray = new Array(4).fill(paddingArray[0]);\n      break;\n    case 2:\n      paddingArray = [...paddingArray, ...paddingArray];\n      break;\n    case 3:\n      paddingArray = [...paddingArray, paddingArray[1]];\n      break;\n    default:\n      // \n      paddingArray = paddingArray.slice(0, 4);\n      break;\n  }\n\n  return paddingArray as [number, number, number, number];\n}\n","import { ControllerCtor } from './base';\n\nconst LOAD_COMPONENT_CONTROLLERS: Record<string, ControllerCtor> = {};\n\n/**\n * \n * @param name \n * @param plugin \n * @returns void\n */\nexport function registerComponentController(name: string, plugin: ControllerCtor) {\n  LOAD_COMPONENT_CONTROLLERS[name] = plugin;\n}\n\n/**\n * \n * @param name \n * @returns void\n */\nexport function unregisterComponentController(name: string) {\n  delete LOAD_COMPONENT_CONTROLLERS[name];\n}\n\n/**\n * \n * @returns string[] \n */\nexport function getComponentControllerNames(): string[] {\n  return Object.keys(LOAD_COMPONENT_CONTROLLERS);\n}\n\n/**\n * \n * @param name \n * @returns \n */\nexport function getComponentController(name: string): ControllerCtor {\n  return LOAD_COMPONENT_CONTROLLERS[name];\n}\n","import { each, isNil, some } from '@antv/util';\nimport { Coordinate, getCoordinate, Point } from '../../dependents';\nimport { CoordinateOption } from '../../interface';\n\n/**\n * coordinate controller\n * 1. \n * 2. \n */\nexport default class CoordinateController {\n  private option: CoordinateOption;\n  private coordinate: Coordinate;\n\n  constructor(option?: CoordinateOption) {\n    // \n    this.option = this.wrapperOption(option);\n  }\n\n  /**\n   * \n   * @param option\n   */\n  public update(option: CoordinateOption) {\n    this.option = this.wrapperOption(option);\n    return this;\n  }\n\n  /**\n   *  action\n   * @param actionName\n   */\n  public hasAction(actionName: string) {\n    const { actions } = this.option;\n\n    return some(actions, (action) => action[0] === actionName);\n  }\n  /**\n   * \n   * @param start \n   * @param end   \n   * @return \n   */\n  public create(start: Point, end: Point) {\n    const { type, cfg } = this.option;\n    const isTheta = type === 'theta';\n\n    // 1. \n    const props = {\n      start,\n      end,\n      ...cfg,\n    };\n\n    // 2. \n    const C = getCoordinate(isTheta ? 'polar' : type);\n\n    this.coordinate = new C(props);\n\n    // @ts-ignore FIXME coordinate  type \n    this.coordinate.type = type;\n\n    // 3.  action\n    if (isTheta) {\n      //  transpose action\n      if (!this.hasAction('transpose')) {\n        this.transpose();\n      }\n    }\n\n    // 4.  action\n    this.execActions();\n\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param start \n   * @param end   \n   * @return \n   */\n  public adjust(start: Point, end: Point) {\n    this.coordinate.update({\n      start,\n      end,\n    });\n\n    // \n    // 1.  matrix\n    // 2.  matrix  action\n    this.coordinate.resetMatrix();\n    this.execActions(['scale', 'rotate', 'translate']);\n\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param angle\n   */\n  public rotate(angle: number) {\n    this.option.actions.push(['rotate', angle]);\n    return this;\n  }\n\n  /**\n   * \n   * @param dim\n   */\n  public reflect(dim: 'x' | 'y') {\n    this.option.actions.push(['reflect', dim]);\n    return this;\n  }\n\n  /**\n   * scale\n   * @param sx\n   * @param sy\n   */\n  public scale(sx: number, sy: number) {\n    this.option.actions.push(['scale', sx, sy]);\n    return this;\n  }\n\n  /**\n   * \n   */\n  public transpose() {\n    this.option.actions.push(['transpose']);\n    return this;\n  }\n\n  /**\n   * \n   */\n  public getOption(): CoordinateOption {\n    return this.option;\n  }\n\n  /**\n   *  coordinate \n   */\n  public getCoordinate() {\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param option\n   */\n  private wrapperOption(option: CoordinateOption): CoordinateOption {\n    return {\n      type: 'rect',\n      actions: [],\n      cfg: {},\n      ...option,\n    };\n  }\n\n  /**\n   * coordinate  actions\n   * @params includeActions  action\n   */\n  private execActions(includeActions?: string[]) {\n    const { actions } = this.option;\n\n    each(actions, (action) => {\n      const [actionName, ...args] = action;\n\n      const shouldExec = isNil(includeActions) ? true : includeActions.includes(actionName);\n\n      if (shouldExec) {\n        this.coordinate[actionName](...args);\n      }\n    });\n  }\n}\n","import { Event as GEvent, IShape } from '../dependents';\nimport { Datum } from '../interface';\nimport View from './view';\n\n/**\n * @todo Whether it can(or necessary to) keep consistent with the structure of G.Event or directly use the structure of G.Event\n * G2  G.Event\n */\nexport default class Event {\n  /**  target  view  */\n  public view: View;\n  /**  G  */\n  public gEvent: GEvent;\n  /**  */\n  public data?: Datum;\n  /**  */\n  public type: string;\n\n  constructor(view: View, gEvent: GEvent, data?: Datum) {\n    this.view = view;\n    this.gEvent = gEvent;\n    this.data = data;\n    this.type = gEvent.type;\n  }\n\n  /**\n   * \n   * @param view\n   * @param type\n   * @param data\n   */\n  public static fromData(view: View, type: string, data: Datum) {\n    return new Event(view, new GEvent(type, {}), data);\n  }\n\n  // below props are proxy props of G.event convenient\n\n  /** the real trigger shape of the event */\n  public get target(): IShape {\n    // @todo G  object  ignore\n    // @ts-ignore\n    return this.gEvent.target;\n  }\n\n  /**  dom  */\n  public get event(): any {\n    return this.gEvent.originalEvent;\n  }\n\n  /** x  */\n  public get x(): number {\n    return this.gEvent.x;\n  }\n\n  /** y  */\n  public get y(): number {\n    return this.gEvent.y;\n  }\n\n  /** x  */\n  public get clientX(): number {\n    return this.gEvent.clientX;\n  }\n\n  /** y  */\n  public get clientY(): number {\n    return this.gEvent.clientY;\n  }\n  // end for proxy events\n\n  /**\n   * event string\n   * @returns string\n   */\n  public toString(): string {\n    return `[Event (type=${this.type})]`;\n  }\n\n  /**\n   * clone a new event with same attributes\n   * @returns [[Event]]\n   */\n  public clone(): Event {\n    return new Event(this.view, this.gEvent, this.data);\n  }\n}\n","import { Controller } from '../controller/base';\nimport View from '../view';\n\n// \n//  view  padding \nexport type Layout = (view: View) => void;\n\n/**\n * @ignore\n * G2  layout \n * \n *\n * 1.  padding = 'auto' direction  padding \n * 2.  padding  direction  padding \n * 3. \n *\n *  12  view \n * @param view\n */\nexport default function defaultLayout(view: View): void {\n  const axis = view.getController('axis');\n  const legend = view.getController('legend');\n  const annotation = view.getController('annotation');\n  const slider = view.getController('slider');\n  const scrollbar = view.getController('scrollbar');\n\n  //  coordinate \n  [axis, slider, scrollbar, legend, annotation].forEach((controller: Controller) => {\n    if (controller) {\n      controller.layout();\n    }\n  });\n}\n","/**\n * view  scale \n */\nimport { deepMix, each, get, isNumber, last } from '@antv/util';\nimport { Scale, Coordinate } from '../../dependents';\nimport { Data, LooseObject, ScaleOption, ViewCfg } from '../../interface';\nimport { createScaleByField, syncScale, getDefaultCategoryScaleRange } from '../../util/scale';\n\n/** @ignore */\ninterface ScaleMeta {\n  readonly key: string;\n  readonly scale: Scale;\n  scaleDef: ScaleOption;\n  syncKey?: string;\n}\n\n/** @ignore */\nexport class ScalePool {\n  /**  scales */\n  private scales = new Map<string, ScaleMeta>();\n  /**  scale  key: scaleKeyArray */\n  private syncScales = new Map<string, string[]>();\n\n  /**\n   *  scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  public createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    let finalScaleDef = scaleDef;\n\n    const cacheScaleMeta = this.getScaleMeta(key);\n    if (data.length === 0 && cacheScaleMeta) {\n      //  key  scale  scale \n      const cacheScale = cacheScaleMeta.scale;\n      const cacheScaleDef: LooseObject = {\n        type: cacheScale.type,\n      };\n      if (cacheScale.isCategory) {\n        //  values\n        cacheScaleDef.values = cacheScale.values;\n      }\n      finalScaleDef = deepMix(cacheScaleDef, cacheScaleMeta.scaleDef, scaleDef);\n    }\n\n    const scale = createScaleByField(field, data, finalScaleDef);\n\n    // \n    this.cacheScale(scale, scaleDef, key);\n\n    return scale;\n  }\n\n  /**\n   *  scale\n   */\n  public sync(coordinate: Coordinate, theme: ViewCfg['theme']) {\n    //  syncScales  syncKey  scale \n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      // min, max, values, ranges\n      let min = Number.MAX_SAFE_INTEGER;\n      let max = Number.MIN_SAFE_INTEGER;\n      const values = [];\n\n      // 1. values \n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        max = isNumber(scale.max) ? Math.max(max, scale.max) : max;\n        min = isNumber(scale.min) ? Math.min(min, scale.min) : min;\n\n        // \n        each(scale.values, (v: any) => {\n          if (!values.includes(v)) {\n            values.push(v);\n          }\n        });\n      });\n\n      // 2. \n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        if (scale.isContinuous) {\n          scale.change({\n            min,\n            max,\n            values,\n          });\n        } else if (scale.isCategory) {\n          let range = scale.range;\n          const cacheScaleMeta = this.getScaleMeta(key);\n\n          //  value  range  to fix https://github.com/antvis/G2/issues/2996\n          if (values && !get(cacheScaleMeta, ['scaleDef', 'range'])) {\n            //  range\n            range = getDefaultCategoryScaleRange(\n              deepMix({}, scale, {\n                values,\n              }),\n              coordinate,\n              theme\n            );\n          }\n          scale.change({\n            values,\n            range,\n          });\n        }\n      });\n    });\n  }\n\n  /**\n   *  scale\n   * @param scale\n   * @param scaleDef\n   * @param key\n   */\n  private cacheScale(scale: Scale, scaleDef: ScaleOption, key: string) {\n    // 1.  scales\n\n    let sm = this.getScaleMeta(key);\n    // \n    if (sm && sm.scale.type === scale.type) {\n      syncScale(sm.scale, scale);\n      sm.scaleDef = scaleDef;\n      //  scaleDef\n    } else {\n      sm = {\n        key,\n        scale,\n        scaleDef,\n      };\n\n      this.scales.set(key, sm);\n    }\n\n    // 2.  syncScales Record<sync, string[]> \n    const syncKey = this.getSyncKey(sm);\n    sm.syncKey = syncKey; //  sync  key\n\n    //  scale  syncScales  sync \n    this.removeFromSyncScales(key);\n\n    //  sync  sync\n    if (syncKey) {\n      //  syncKey\n      let scaleKeys = this.syncScales.get(syncKey);\n      if (!scaleKeys) {\n        scaleKeys = [];\n        this.syncScales.set(syncKey, scaleKeys);\n      }\n      scaleKeys.push(key);\n    }\n  }\n\n  /**\n   *  key  scale\n   * @param key\n   */\n  public getScale(key: string): Scale {\n    let scaleMeta = this.getScaleMeta(key);\n    if (!scaleMeta) {\n      const field = last(key.split('-'));\n      const scaleKeys = this.syncScales.get(field);\n      if (scaleKeys && scaleKeys.length) {\n        scaleMeta = this.getScaleMeta(scaleKeys[0]);\n      }\n    }\n    return scaleMeta && scaleMeta.scale;\n  }\n\n  /**\n   *  view  scale \n   * @param key\n   */\n  public deleteScale(key: string) {\n    const scaleMeta = this.getScaleMeta(key);\n    if (scaleMeta) {\n      const { syncKey } = scaleMeta;\n\n      const scaleKeys = this.syncScales.get(syncKey);\n\n      // \n      if (scaleKeys && scaleKeys.length) {\n        const idx = scaleKeys.indexOf(key);\n\n        if (idx !== -1) {\n          scaleKeys.splice(idx, 1);\n        }\n      }\n    }\n\n    //  scale \n    this.scales.delete(key);\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    this.scales.clear();\n    this.syncScales.clear();\n  }\n\n  /**\n   *  sync scale \n   * @param key\n   */\n  private removeFromSyncScales(key: string) {\n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      const idx = scaleKeys.indexOf(key);\n\n      if (idx !== -1) {\n        scaleKeys.splice(idx, 1);\n\n        // \n        if (scaleKeys.length === 0) {\n          this.syncScales.delete(syncKey);\n        }\n\n        return false; // \n      }\n    });\n  }\n\n  /**\n   * get sync key\n   * @param sm\n   */\n  private getSyncKey(sm: ScaleMeta): string {\n    const { scale, scaleDef } = sm;\n    const { field } = scale;\n    const sync = get(scaleDef, ['sync']);\n\n    //  sync = true syncKey\n    return sync === true ? field : sync === false ? undefined : sync;\n  }\n\n  /**\n   *  key  scale\n   * @param key\n   */\n  private getScaleMeta(key: string): ScaleMeta {\n    return this.scales.get(key);\n  }\n}\n","import { DIRECTION } from '../../constant';\nimport { BBox } from '../../dependents';\nimport { Padding } from '../../interface';\n\nexport type PaddingCalCtor = {\n  readonly instance: (top?: number, right?: number, bottom?: number, left?: number) => PaddingCal;\n};\n\n/** @ignore */\nexport class PaddingCal {\n  private top: number;\n  private right: number;\n  private bottom: number;\n  private left: number;\n\n  /**\n   * \n   * @param top\n   * @param right\n   * @param bottom\n   * @param left\n   */\n  public static instance(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n    return new PaddingCal(top, right, bottom, left);\n  }\n\n  /**\n   *  padding \n   * @param top\n   * @param right\n   * @param bottom\n   * @param left\n   */\n  constructor(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n    this.top = top;\n    this.right = right;\n    this.bottom = bottom;\n    this.left = left;\n  }\n\n  /**\n   * \n   * @param padding\n   */\n  public max(padding: Padding): PaddingCal {\n    const [top, right, bottom, left] = padding;\n\n    this.top = Math.max(this.top, top);\n    this.right = Math.max(this.right, right);\n    this.bottom = Math.max(this.bottom, bottom);\n    this.left = Math.max(this.left, left);\n\n    return this;\n  }\n\n  /**\n   *  padding\n   * @param padding\n   */\n  public shrink(padding: Padding): PaddingCal {\n    const [top, right, bottom, left] = padding;\n\n    this.top += top;\n    this.right += right;\n    this.bottom += bottom;\n    this.left += left;\n\n    return this;\n  }\n\n  /**\n   *  padding\n   * @param bbox\n   * @param direction\n   */\n  public inc(bbox: BBox, direction: DIRECTION): PaddingCal {\n    const { width, height } = bbox;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        this.top += height;\n        break;\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        this.right += width;\n        break;\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        this.bottom += height;\n        break;\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        this.left += width;\n        break;\n      default:\n        break;\n    }\n\n    return this;\n  }\n\n  /**\n   *  padding\n   */\n  public getPadding(): Padding {\n    return [this.top, this.right, this.bottom, this.left];\n  }\n\n  /**\n   * clone  padding cal\n   */\n  public clone(): PaddingCal {\n    return new PaddingCal(...this.getPadding());\n  }\n}\n","import { each } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../constant';\nimport { ComponentOption, Padding } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { isAutoPadding, parsePadding } from '../../util/padding';\nimport View from '../view';\nimport { PaddingCal } from './padding-cal';\n\n/**\n * @ignore\n *  view  padding \n * @param view\n */\nexport function calculatePadding(view: View): PaddingCal {\n  const padding = view.padding;\n\n  //  auto padding\n  if (!isAutoPadding(padding)) {\n    return new PaddingCal(...parsePadding(padding));\n  }\n\n  //  auto padding padding\n  const { viewBBox } = view;\n\n  const paddingCal = new PaddingCal();\n\n  const axisComponents = [];\n  const paddingComponents = [];\n  const otherComponents = [];\n\n  each(view.getComponents(), (co: ComponentOption) => {\n    const { type } = co;\n    if (type === COMPONENT_TYPE.AXIS) {\n      axisComponents.push(co);\n    } else if ([COMPONENT_TYPE.LEGEND, COMPONENT_TYPE.SLIDER, COMPONENT_TYPE.SCROLLBAR].includes(type)) {\n      paddingComponents.push(co);\n    } else if (type !== COMPONENT_TYPE.GRID && type !== COMPONENT_TYPE.TOOLTIP) {\n      otherComponents.push(co);\n    }\n  });\n\n  //  padding \n  each(axisComponents, (co: ComponentOption) => {\n    const { component } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n\n    const exceed = componentBBox.exceed(viewBBox);\n\n    //  axis \n    paddingCal.max(exceed);\n  });\n\n  //  padding \n  each(paddingComponents, (co: ComponentOption) => {\n    const { component, direction } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentPadding: Padding = component.get('padding');\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(\n      componentPadding\n    );\n    //  padding\n    paddingCal.inc(componentBBox, direction);\n  });\n\n  // \n  each(otherComponents, (co: ComponentOption) => {\n    const { component, direction } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n    //  padding\n    paddingCal.inc(componentBBox, direction);\n  });\n\n  return paddingCal;\n}\n","import { PaddingCalCtor } from '../layout/padding-cal';\nimport { View } from '../view';\n\n/**\n *  syncViewPadding \n * @param chart\n * @param views\n * @param PC: PaddingCalCtor\n */\nexport function defaultSyncViewPadding(chart: View, views: View[], PC: PaddingCalCtor) {\n  const syncPadding = PC.instance();\n\n  //  view  autoPadding \n  views.forEach((v: View) => {\n    v.autoPadding = syncPadding.max(v.autoPadding.getPadding());\n  });\n}\n","import {\n  clone,\n  deepMix,\n  each,\n  filter,\n  find,\n  flatten,\n  get,\n  isBoolean,\n  isFunction,\n  isNil,\n  isObject,\n  isString,\n  isUndefined,\n  mix,\n  remove,\n  set,\n  size,\n  uniqueId,\n  isEqual,\n  isPlainObject,\n  reduce,\n} from '@antv/util';\nimport { Attribute, Coordinate, Event as GEvent, GroupComponent, ICanvas, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AxisOption,\n  ComponentOption,\n  CoordinateCfg,\n  CoordinateOption,\n  Data,\n  Datum,\n  FacetCfgMap,\n  FilterCondition,\n  GeometryOption,\n  LegendOption,\n  LooseObject,\n  Options,\n  Point,\n  Region,\n  ScaleOption,\n  TooltipOption,\n  ViewCfg,\n  ViewPadding,\n  ViewAppendPadding,\n  EventPayload,\n  Padding,\n} from '../interface';\nimport { GROUP_Z_INDEX, LAYER, PLOT_EVENTS, VIEW_LIFE_CIRCLE } from '../constant';\nimport Base from '../base';\nimport { Facet, getFacet } from '../facet';\nimport Geometry from '../geometry/base';\nimport Element from '../geometry/element';\nimport { createInteraction, Interaction } from '../interaction';\nimport { getTheme } from '../theme';\nimport { BBox } from '../util/bbox';\nimport { getCoordinateClipCfg, isPointInCoordinate } from '../util/coordinate';\nimport { uniq } from '../util/helper';\nimport { findDataByPoint } from '../util/tooltip';\nimport { parsePadding } from '../util/padding';\nimport { getDefaultCategoryScaleRange } from '../util/scale';\nimport { createTheme } from '../theme/util';\nimport Chart from './chart';\nimport { getComponentController, getComponentControllerNames } from './controller';\nimport Annotation from './controller/annotation';\nimport { Controller } from './controller/base';\nimport CoordinateController from './controller/coordinate';\nimport Tooltip from './controller/tooltip';\nimport Slider from './controller/slider';\nimport Scrollbar from './controller/scrollbar';\nimport Axis from './controller/axis';\nimport Gesture from './controller/gesture';\nimport Legend from './controller/legend';\nimport Event from './event';\nimport defaultLayout, { Layout } from './layout';\nimport { ScalePool } from './util/scale-pool';\nimport { PaddingCal } from './layout/padding-cal';\nimport { calculatePadding } from './layout/auto';\nimport { defaultSyncViewPadding } from './util/sync-view-padding';\n\n/**\n * G2  View \n */\nexport class View extends Base {\n  /** view id */\n  public id: string;\n  /**  view */\n  public parent: View;\n  /**  view */\n  public views: View[] = [];\n  /**  geometry  */\n  public geometries: Geometry[] = [];\n  /**  controllers */\n  public controllers: Controller[] = [];\n  /**  Interaction  */\n  public interactions: Record<string, Interaction> = {};\n\n  /** view  */\n  public viewBBox: BBox;\n  /** ViewBBox - padding = coordinateBBox */\n  public coordinateBBox: BBox;\n  /** view  padding  */\n  public padding: ViewPadding;\n  /** padding */\n  public appendPadding: ViewAppendPadding;\n  /** G.Canvas  */\n  public canvas: ICanvas;\n  /**  padding  */\n  public autoPadding: PaddingCal;\n\n  /**  Group  */\n  public backgroundGroup: IGroup;\n  /**  Group  */\n  public middleGroup: IGroup;\n  /**  Group  */\n  public foregroundGroup: IGroup;\n  /**  Geometry  */\n  public limitInPlot: boolean = false;\n\n  /**\n   *  view  0 ~ 1 \n   */\n  protected region: Region;\n  /**  */\n  protected themeObject: LooseObject;\n\n  // \n  protected options: Options = {\n    data: [],\n    animate: true, // \n  }; // \n\n  /**  */\n  protected filteredData: Data;\n\n  /**  */\n  private usedControllers: string[] = getComponentControllerNames();\n\n  /**  scales */\n  private scalePool: ScalePool = new ScalePool();\n\n  /**  */\n  protected layoutFunc: Layout = defaultLayout;\n  /** {@link https://github.com/antvis/coord/blob/master/src/coord/base.ts|Coordinate} */\n  protected coordinateInstance: Coordinate;\n  /** Coordinate  */\n  protected coordinateController: CoordinateController;\n  /**  */\n  protected facetInstance: Facet;\n\n  /**  plot CoordinateBBox */\n  private isPreMouseInPlot: boolean = false;\n  /**  */\n  private isDataChanged: boolean = false;\n  /**  */\n  private isCoordinateChanged: boolean = false;\n  /**  view  scale key */\n  private createdScaleKeys = new Map<string, boolean>();\n  /**  shape */\n  private backgroundStyleRectShape;\n  /**  view  padding */\n  private syncViewPadding;\n\n  constructor(props: ViewCfg) {\n    super({ visible: props.visible });\n\n    const {\n      id = uniqueId('view'),\n      parent,\n      canvas,\n      backgroundGroup,\n      middleGroup,\n      foregroundGroup,\n      region = { start: { x: 0, y: 0 }, end: { x: 1, y: 1 } },\n      padding,\n      appendPadding,\n      theme,\n      options,\n      limitInPlot,\n      syncViewPadding,\n    } = props;\n\n    this.parent = parent;\n    this.canvas = canvas;\n    this.backgroundGroup = backgroundGroup;\n    this.middleGroup = middleGroup;\n    this.foregroundGroup = foregroundGroup;\n    this.region = region;\n    this.padding = padding;\n    this.appendPadding = appendPadding;\n    //  view \n    this.options = { ...this.options, ...options };\n    this.limitInPlot = limitInPlot;\n    this.id = id;\n    this.syncViewPadding = syncViewPadding;\n\n    //  theme\n    this.themeObject = isObject(theme) ? deepMix({}, getTheme('default'), createTheme(theme)) : getTheme(theme);\n    this.init();\n  }\n\n  /**\n   *  layout \n   * @param layout \n   * @returns void\n   */\n  public setLayout(layout: Layout) {\n    this.layoutFunc = layout;\n  }\n\n  /**\n   * \n   * @returns voids\n   */\n  public init() {\n    //  viewBBox\n    this.calculateViewBBox();\n\n    // \n    this.initEvents();\n\n    //  controller\n    this.initComponentController();\n\n    this.initOptions();\n  }\n\n  /**\n   * \n   * render  view  view\n   * @param isUpdate \n   * @param params render \n   */\n  public render(isUpdate: boolean = false, payload?: EventPayload) {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_RENDER, Event.fromData(this, VIEW_LIFE_CIRCLE.BEFORE_RENDER, payload));\n    // \n    this.paint(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_RENDER, Event.fromData(this, VIEW_LIFE_CIRCLE.AFTER_RENDER, payload));\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * chart \n   * @returns void\n   */\n  public clear() {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CLEAR);\n    // 1. \n    this.filteredData = [];\n    this.coordinateInstance = undefined;\n    this.isDataChanged = false; // \n    this.isCoordinateChanged = false; // \n\n    // 2.  geometries\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      geometries[i].clear();\n      // view  geometry  chart.geometry()  #2799\n      geometries[i].container.remove(true);\n      geometries[i].labelsContainer.remove(true);\n    }\n    this.geometries = [];\n\n    // 3.  controllers\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      if (controllers[i].name === 'annotation') {\n        // \n        (controllers[i] as Annotation).clear(true);\n      } else {\n        controllers[i].clear();\n      }\n    }\n\n    // 4.  scale \n    this.createdScaleKeys.forEach((v: boolean, k: string) => {\n      this.getRootView().scalePool.deleteScale(k);\n    });\n    this.createdScaleKeys.clear();\n\n    //  view\n    const views = this.views;\n    for (let i = 0; i < views.length; i++) {\n      views[i].clear();\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CLEAR);\n  }\n\n  /**\n   * \n   * @returns void\n   */\n  public destroy() {\n    // \n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_DESTROY);\n    const interactions = this.interactions;\n    //  interactions\n    each(interactions, (interaction) => {\n      if (interaction) {\n        //  undefined\n        interaction.destroy();\n      }\n    });\n\n    this.clear();\n\n    //  controller \n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.destroy();\n    }\n\n    this.backgroundGroup.remove(true);\n    this.middleGroup.remove(true);\n    this.foregroundGroup.remove(true);\n\n    super.destroy();\n  }\n  /* end  */\n\n  /**\n   *  view\n   * @param visible \n   * @returns View\n   */\n  public changeVisible(visible: boolean): View {\n    super.changeVisible(visible);\n\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      geometry.changeVisible(visible);\n    }\n\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.changeVisible(visible);\n    }\n\n    this.foregroundGroup.set('visible', visible);\n    this.middleGroup.set('visible', visible);\n    this.backgroundGroup.set('visible', visible);\n\n    // group.set('visible', visible) \n    this.getCanvas().draw();\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.data([{ city: '', sale: 100 }, { city: '', sale: 110 } ]);\n   * ```\n   *\n   * @param data json \n   * @returns View\n   */\n  public data(data: Data): View {\n    set(this.options, 'data', data);\n    this.isDataChanged = true;\n    return this;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #data(data)}\n   */\n  public source(data: Data): View {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.data() instead.');\n    return this.data(data);\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.filter('city', (value: any, datum: Datum) => value !== '');\n   *\n   * //  'city' \n   * view.filter('city', null);\n   * ```\n   *\n   * @param field \n   * @param condition \n   * @returns View\n   */\n  public filter(field: string, condition: FilterCondition | null): View {\n    if (isFunction(condition)) {\n      set(this.options, ['filters', field], condition);\n      return this;\n    }\n    // condition \n    if (!condition && get(this.options, ['filters', field])) {\n      delete this.options.filters[field];\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   *  view.axis(false); // \n   * ```\n   * @param field \n   */\n  public axis(field: boolean): View;\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.axis('city', false); //  'city' \n   *\n   * //  'city' \n   * view.axis('city', {\n   *   title: null,\n   * });\n   * ```\n   *\n   * @param field \n   * @param axisOption https://github.com/antvis/component#axis\n   */\n  public axis(field: string, axisOption: AxisOption): View;\n  public axis(field: string | boolean, axisOption?: AxisOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['axes'], field);\n    } else {\n      set(this.options, ['axes', field], axisOption);\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.legend(false); // \n   *\n   * view.legend({\n   *   position: 'right',\n   * }); // \n   * ```\n   * @param field\n   * @returns View\n   */\n  public legend(field: LegendOption): View;\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.legend('city', false); // \n   *\n   * // \n   * view.legend('city', {\n   *   position: 'right',\n   * });\n   * ```\n   *\n   * @param field \n   * @param legendOption https://github.com/antvis/component#axis\n   * @returns View\n   */\n  public legend(field: string, legendOption: LegendOption): View;\n  public legend(field: string | LegendOption, legendOption?: LegendOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['legends'], field);\n    } else if (isString(field)) {\n      set(this.options, ['legends', field], legendOption);\n      if (isPlainObject(legendOption) && legendOption?.selected) {\n        set(this.options, ['filters', field], (name: string) => {\n          return legendOption?.selected[name] ?? true;\n        });\n      }\n    } else {\n      //  legend \n      set(this.options, ['legends'], field);\n    }\n\n    return this;\n  }\n\n  /**\n   *  scale \n   *\n   * ```ts\n   * view.scale({\n   *   sale: {\n   *     min: 0,\n   *     max: 100,\n   *   }\n   * });\n   * ```\n   * Scale https://github.com/antvis/scale#api\n   * @returns View\n   */\n  public scale(field: Record<string, ScaleOption>): View;\n  /**\n   *  scale \n   *\n   * ```ts\n   * view.scale('sale', {\n   *   min: 0,\n   *   max: 100,\n   * });\n   * ```\n   *\n   * @returns View\n   */\n  public scale(field: string, scaleOption: ScaleOption): View;\n  public scale(field: string | Record<string, ScaleOption>, scaleOption?: ScaleOption): View {\n    if (isString(field)) {\n      set(this.options, ['scales', field], scaleOption);\n    } else if (isObject(field)) {\n      each(field, (v: ScaleOption, k: string) => {\n        set(this.options, ['scales', k], v);\n      });\n    }\n\n    return this;\n  }\n\n  /**\n   * tooltip \n   *\n   * ```ts\n   * view.tooltip(false); //  tooltip\n   *\n   * view.tooltip({\n   *   shared: true\n   * });\n   * ```\n   *\n   * @param cfg Tooltip https://github.com/antvis/component#tooltip\n   * @returns View\n   */\n  public tooltip(cfg: boolean | TooltipOption): View {\n    set(this.options, 'tooltip', cfg);\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.annotation().line({\n   *   start: ['min', 85],\n   *   end: ['max', 85],\n   *   style: {\n   *     stroke: '#595959',\n   *     lineWidth: 1,\n   *     lineDash: [3, 3],\n   *   },\n   * });\n   * ```\n   * https://github.com/antvis/component#annotation\n   * @returns [[Annotation]]\n   */\n  public annotation(): Annotation {\n    return this.getController('annotation');\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #guide()}\n   */\n  public guide(): Annotation {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.annotation() instead.');\n    return this.annotation();\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.coordinate({\n   *   type: 'polar',\n   *   cfg: {\n   *     radius: 0.85,\n   *   },\n   *   actions: [\n   *     [ 'transpose' ],\n   *   ],\n   * });\n   * ```\n   *\n   * @param option\n   * @returns\n   */\n  public coordinate(option?: CoordinateOption): CoordinateController;\n  /**\n   * \n   *\n   * ```ts\n   * // \n   * view.coordinate('rect').transpose();\n   *\n   * // \n   * view.coordinate();\n   * ```\n   *\n   * @param type \n   * @param [coordinateCfg] \n   * @returns\n   */\n  public coordinate(type: string, coordinateCfg?: CoordinateCfg): CoordinateController;\n  public coordinate(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    // \n    if (isString(type)) {\n      set(this.options, 'coordinate', { type, cfg: coordinateCfg } as CoordinateOption);\n    } else {\n      set(this.options, 'coordinate', type);\n    }\n\n    //  coordinate \n    this.coordinateController.update(this.options.coordinate);\n\n    return this.coordinateController;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #coordinate()}\n   */\n  public coord(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.coordinate() instead.');\n    // @ts-ignore\n    return this.coordinate(type, coordinateCfg);\n  }\n\n  /**\n   * view \n   *\n   * ```ts\n   * view.facet('rect', {\n   *   rowField: 'province',\n   *   columnField: 'category',\n   *   eachView: (innerView: View, facet?: FacetData) => {\n   *     innerView.line().position('city*sale');\n   *   },\n   * });\n   * ```\n   *\n   * @param type \n   * @param cfg  [[FacetCfgMap]]\n   * @returns View\n   */\n  public facet<T extends keyof FacetCfgMap>(type: T, cfg: FacetCfgMap[T]): View {\n    // \n    if (this.facetInstance) {\n      this.facetInstance.destroy();\n    }\n\n    // \n    const Ctor = getFacet(type);\n\n    if (!Ctor) {\n      throw new Error(`facet '${type}' is not exist!`);\n    }\n\n    this.facetInstance = new Ctor(this, { ...cfg, type });\n\n    return this;\n  }\n\n  /*\n   * \n   *\n   * ```ts\n   * view.animate(false);\n   * ```\n   *\n   * @param status true false \n   * @returns View\n   */\n  public animate(status: boolean): View {\n    set(this.options, 'animate', status);\n    return this;\n  }\n\n  /**\n   * \n   * @param options \n   */\n  public updateOptions(options: Options) {\n    this.clear(); // \n    mix(this.options, options);\n\n    //  view \n    //  view \n    this.views.forEach((view) => view.destroy());\n    this.views = [];\n\n    this.initOptions();\n    //  padding \n    this.coordinateBBox = this.viewBBox;\n    return this;\n  }\n\n  /**\n   *  `view.options` \n   * @param name \n   * @param opt \n   * @returns view\n   */\n  public option(name: string, opt: any): View {\n    //  option\n    // name  API option \n    if (View.prototype[name]) {\n      throw new Error(`Can't use built in variable name \"${name}\", please change another one.`);\n    }\n\n    //  option \n    set(this.options, name, opt);\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.theme('dark'); // 'dark'  `registerTheme()` \n   *\n   * view.theme({ defaultColor: 'red' });\n   * ```\n   *\n   * @param theme \n   * @returns View\n   */\n  public theme(theme: string | LooseObject): View {\n    this.themeObject = isObject(theme) ? deepMix({}, this.themeObject, createTheme(theme)) : getTheme(theme);\n\n    return this;\n  }\n\n  /* end  API */\n\n  /**\n   * Call the interaction based on the interaction name\n   *\n   * ```ts\n   * view.interaction('my-interaction', { extra: 'hello world' });\n   * ```\n   * https://g2.antv.vision/zh/docs/api/general/interaction\n   * @param name interaction name\n   * @param cfg interaction config\n   * @returns\n   */\n  public interaction(name: string, cfg?: LooseObject): View {\n    const existInteraction = this.interactions[name];\n    // \n    if (existInteraction) {\n      existInteraction.destroy();\n    }\n\n    // \n    const interaction = createInteraction(name, this, cfg);\n    if (interaction) {\n      interaction.init();\n      this.interactions[name] = interaction;\n    }\n    return this;\n  }\n\n  /**\n   *  View  interaction\n   * ```ts\n   * view.removeInteraction('my-interaction');\n   * ```\n   * @param name interaction name\n   */\n  public removeInteraction(name: string) {\n    const existInteraction = this.interactions[name];\n    // \n    if (existInteraction) {\n      existInteraction.destroy();\n      this.interactions[name] = undefined;\n    }\n  }\n\n  /**\n   *  view\n   *\n   * ```ts\n   * view.changeData([{ city: '', sale: '200' }]);\n   * ```\n   *\n   * @param data\n   * @returns void\n   */\n  public changeData(data: Data) {\n    this.isDataChanged = true;\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, Event.fromData(this, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null));\n    // 1. \n    this.data(data);\n\n    // 2. \n    this.paint(true);\n\n    // 3.  view  change data\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      // FIXME  view \n      view.changeData(data);\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, Event.fromData(this, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null));\n  }\n\n  /* View  API */\n\n  /**\n   *  view\n   *\n   * ```ts\n   * const innerView = view.createView({\n   *   start: { x: 0, y: 0 },\n   *   end: { x: 0.5, y: 0.5 },\n   *   padding: 8,\n   * });\n   * ```\n   *\n   * @param cfg\n   * @returns View\n   */\n  public createView(cfg?: Partial<ViewCfg>): View {\n    //  4.1  view chart - view \n    //  API  warning\n    if (this.parent && this.parent.parent) {\n      //  3  \n      console.warn('The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.');\n    }\n\n    //  view  options \n    const sharedOptions = {\n      data: this.options.data,\n      scales: clone(this.options.scales),\n      axes: clone(this.options.axes),\n      coordinate: clone(this.coordinateController.getOption()),\n      tooltip: clone(this.options.tooltip),\n      legends: clone(this.options.legends),\n      animate: this.options.animate,\n      visible: this.visible,\n    };\n\n    const v = new View({\n      parent: this,\n      canvas: this.canvas,\n      //  view  group\n      backgroundGroup: this.backgroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: this.middleGroup.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: this.foregroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      theme: this.themeObject,\n      padding: this.padding,\n      ...cfg,\n      options: {\n        ...sharedOptions,\n        ...get(cfg, 'options', {}),\n      },\n    });\n\n    this.views.push(v);\n\n    return v;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #createView()}\n   */\n  public view(cfg?: Partial<ViewCfg>) {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.createView() instead.');\n    return this.createView(cfg);\n  }\n\n  /**\n   *  view\n   * @param view\n   * @return removedView\n   */\n  public removeView(view: View): View {\n    const removedView = remove(this.views, (v: View) => v === view)[0];\n\n    if (removedView) {\n      removedView.destroy();\n    }\n\n    return removedView;\n  }\n  /* end View  API */\n\n  //  get \n\n  /**\n   * \n   * @returns [[Coordinate]]\n   */\n  public getCoordinate() {\n    return this.coordinateInstance;\n  }\n\n  /**\n   *  view \n   * @returns themeObject\n   */\n  public getTheme(): LooseObject {\n    return this.themeObject;\n  }\n\n  /**\n   *  x  scale \n   * @returns view  Geometry  x scale\n   */\n  public getXScale(): Scale {\n    //  Geometry  X scale\n    //  view  Geometry  x \n    const g = this.geometries[0];\n    return g ? g.getXScale() : null;\n  }\n\n  /**\n   *  y  scales \n   * @returns view  Geometry  y scale \n   */\n  public getYScales(): Scale[] {\n    //  Geometry  Y scale\n    const tmpMap = {};\n    const yScales = [];\n    this.geometries.forEach((g: Geometry) => {\n      const yScale = g.getYScale();\n      const field = yScale.field;\n      if (!tmpMap[field]) {\n        tmpMap[field] = true;\n        yScales.push(yScale);\n      }\n    });\n    return yScales;\n  }\n\n  /**\n   *  x  y  scale \n   * @param dimType x | y\n   * @returns x  y  scale \n   */\n  public getScalesByDim(dimType: 'x' | 'y'): Record<string, Scale> {\n    const geometries = this.geometries;\n    const scales = {};\n\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      const scale = dimType === 'x' ? geometry.getXScale() : geometry.getYScale();\n      if (scale && !scales[scale.field]) {\n        scales[scale.field] = scale;\n      }\n    }\n\n    return scales;\n  }\n\n  /**\n   *  scale \n   * @param field \n   * @param key id\n   */\n  public getScale(field: string, key?: string): Scale {\n    const defaultKey = key ? key : this.getScaleKey(field);\n    //  view \n    return this.getRootView().scalePool.getScale(defaultKey);\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Please use `getScale`.\n   */\n  public getScaleByField(field: string, key?: string): Scale {\n    return this.getScale(field, key);\n  }\n\n  /**\n   * \n   * @returns  view API \n   */\n  public getOptions(): Options {\n    return this.options;\n  }\n\n  /**\n   *  view \n   * @returns \n   */\n  public getData() {\n    return this.filteredData;\n  }\n\n  /**\n   * \n   * @returns  G2 \n   */\n  public getOriginalData() {\n    return this.options.data;\n  }\n\n  /**\n   *  padding\n   * @returns\n   */\n  public getPadding(): Padding {\n    return this.autoPadding.getPadding();\n  }\n\n  /**\n   *  view  geometries\n   * @returns\n   */\n  public getGeometries() {\n    return this.geometries;\n  }\n\n  /**\n   *  view  geome\n   */\n  public getElements(): Element[] {\n    return reduce(\n      this.geometries,\n      (elements: Element[], geometry: Geometry) => {\n        return elements.concat(geometry.getElements());\n      },\n      []\n    );\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElementsBy((element) => {\n   *   const data = element.getData();\n   *\n   *   return data.a === 'a';\n   * });\n   * ```\n   *\n   * @param condition \n   * @returns\n   */\n  public getElementsBy(condition: (element: Element) => boolean): Element[] {\n    return this.getElements().filter((el) => condition(el));\n  }\n\n  /**\n   *  group\n   * @param layer \n   * @returns  Group\n   */\n  public getLayer(layer: LAYER): IGroup {\n    return layer === LAYER.BG\n      ? this.backgroundGroup\n      : layer === LAYER.MID\n      ? this.middleGroup\n      : layer === LAYER.FORE\n      ? this.foregroundGroup\n      : this.foregroundGroup;\n  }\n\n  /**\n   * \n   * @param point \n   */\n  public isPointInPlot(point: Point): boolean {\n    return isPointInCoordinate(this.getCoordinate(), point);\n  }\n\n  /**\n   *  legend  attribute \n   * @returns  Attribute \n   */\n  public getLegendAttributes(): Attribute[] {\n    return flatten(this.geometries.map((g: Geometry) => g.getGroupAttributes())) as unknown as Attribute[];\n  }\n\n  /**\n   *  scale \n   * @returns  scale \n   */\n  public getGroupScales(): Scale[] {\n    //  Geometry   scale\n    const scales = this.geometries.map((g: Geometry) => g.getGroupScales());\n    return uniq(flatten(scales));\n  }\n\n  /**\n   *  G.Canvas \n   * @returns G.Canvas \n   */\n  public getCanvas(): ICanvas {\n    return (this.getRootView() as unknown as Chart).canvas;\n  }\n\n  /**\n   *  view\n   */\n  public getRootView(): View {\n    let v = this as View;\n\n    while (true) {\n      if (v.parent) {\n        v = v.parent;\n        continue;\n      }\n      break;\n    }\n    return v;\n  }\n\n  /**\n   * \n   * @param data \n   * @returns \n   */\n  public getXY(data: Datum): Point {\n    const coordinate = this.getCoordinate();\n    const xScales = this.getScalesByDim('x');\n    const yScales = this.getScalesByDim('y');\n    let x;\n    let y;\n\n    each(data, (value, key) => {\n      if (xScales[key]) {\n        x = xScales[key].scale(value);\n      }\n      if (yScales[key]) {\n        y = yScales[key].scale(value);\n      }\n    });\n\n    if (!isNil(x) && !isNil(y)) {\n      return coordinate.convert({ x, y });\n    }\n  }\n\n  public getController(name: 'tooltip'): Tooltip;\n  public getController(name: 'axis'): Axis;\n  public getController(name: 'legend'): Legend;\n  public getController(name: 'scrollbar'): Scrollbar;\n  public getController(name: 'slider'): Slider;\n  public getController(name: 'annotation'): Annotation;\n  public getController(name: 'gestucre'): Gesture;\n  public getController(name: string): Controller;\n  /**\n   *  name  controller \n   * @param name\n   */\n  public getController(name: string): Controller {\n    return find(this.controllers, (c: Controller) => c.name === name);\n  }\n\n  /**\n   *  point  tooltip\n   * @param point \n   * @returns View\n   */\n  public showTooltip(point: Point): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.showTooltip(point);\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip\n   * @returns View\n   */\n  public hideTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.hideTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip \n   * @returns View\n   */\n  public lockTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.lockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip \n   * @returns View\n   */\n  public unlockTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.unlockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip\n   * @returns \n   */\n  public isTooltipLocked() {\n    const tooltip = this.getController('tooltip');\n    return tooltip && tooltip.isTooltipLocked();\n  }\n\n  /**\n   *  point  tooltip \n   * @param point \n   * @returns tooltip \n   */\n  public getTooltipItems(point: Point) {\n    const tooltip = this.getController('tooltip');\n\n    return tooltip ? tooltip.getTooltipItems(point) : [];\n  }\n\n  /**\n   * \n   * @param point \n   * @returns  \n   */\n  public getSnapRecords(point: Point) {\n    const geometries = this.geometries;\n    let rst = [];\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geom = geometries[i];\n      const dataArray = geom.dataArray;\n      geom.sort(dataArray); //  tooltip \n      let record;\n      for (let j = 0, dataLen = dataArray.length; j < dataLen; j++) {\n        const data = dataArray[j];\n        record = findDataByPoint(point, data, geom);\n        if (record) {\n          rst.push(record);\n        }\n      }\n    }\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      const snapRecords = view.getSnapRecords(point);\n      rst = rst.concat(snapRecords);\n    }\n\n    return rst;\n  }\n\n  /**\n   *  pure component \n   */\n  public getComponents(): ComponentOption[] {\n    let components = [];\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      components = components.concat(controller.getComponents());\n    }\n\n    return components;\n  }\n\n  /**\n   *  data \n   * @param data\n   * @returns \n   */\n  public filterData(data: Data): Data {\n    const { filters } = this.options;\n    //  filters\n    if (size(filters) === 0) {\n      return data;\n    }\n\n    //   \n    return filter(data, (datum: Datum, idx: number) => {\n      //  filter \n      const fields = Object.keys(filters);\n\n      // \n      return fields.every((field: string) => {\n        const condition = filters[field];\n\n        // condition  true\n        return condition(datum[field], datum, idx);\n      });\n    });\n  }\n\n  /**\n   * \n   * @param field\n   * @param data\n   */\n  public filterFieldData(field: string, data: Data): Data {\n    const { filters } = this.options;\n    const condition = get(filters, field);\n\n    if (isUndefined(condition)) {\n      return data;\n    }\n    return data.filter((datum: Datum, idx: number) => condition(datum[field], datum, idx));\n  }\n\n  /**\n   *  coordinate \n   */\n  public adjustCoordinate() {\n    const { start: curStart, end: curEnd } = this.getCoordinate();\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n\n    //  defaultLayoutFn  coordinateBBox  adjustCoordinate()\n    if (isEqual(curStart, start) && isEqual(curEnd, end)) {\n      this.isCoordinateChanged = false;\n      // \n      return;\n    }\n    this.isCoordinateChanged = true;\n    this.coordinateInstance = this.coordinateController.adjust(start, end);\n  }\n\n  protected paint(isUpdate: boolean) {\n    this.renderDataRecursive(isUpdate);\n\n    //  sync scale \n    this.syncScale();\n\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_PAINT);\n\n    //  padding\n    this.renderPaddingRecursive(isUpdate);\n    // \n    this.renderLayoutRecursive(isUpdate);\n    //  shape\n    this.renderBackgroundStyleShape();\n    //  render\n    this.renderPaintRecursive(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_PAINT);\n\n    this.isDataChanged = false; // \n  }\n\n  /**\n   *  shape\n   *  view  view \n   */\n  private renderBackgroundStyleShape() {\n    // \n    if (this.parent) {\n      return;\n    }\n    const background = get(this.themeObject, 'background');\n    // \n    if (background) {\n      // 1. \n      if (!this.backgroundStyleRectShape) {\n        this.backgroundStyleRectShape = this.backgroundGroup.addShape('rect', {\n          attrs: {},\n          zIndex: -1,\n          //  shape \n          capture: false,\n        });\n        this.backgroundStyleRectShape.toBack();\n      }\n\n      // 2.  shape \n      const { x, y, width, height } = this.viewBBox;\n      this.backgroundStyleRectShape.attr({\n        fill: background,\n        x,\n        y,\n        width,\n        height,\n      });\n    } else {\n      // \n      if (this.backgroundStyleRectShape) {\n        this.backgroundStyleRectShape.remove(true);\n        this.backgroundStyleRectShape = undefined;\n      }\n    }\n  }\n\n  /**\n   *  view  padding coordinateBBox  coordinateInstance\n   * @param isUpdate\n   */\n  protected renderPaddingRecursive(isUpdate: boolean) {\n    // 1.  view  coordinateBBoxchangeSize \n    this.calculateViewBBox();\n    // 2.  coordinate\n    this.adjustCoordinate();\n    // 3.  component\n    this.initComponents(isUpdate);\n    // 4.  view  padding \n    // 4.1.  auto padding -> absolute padding appendPadding\n    this.autoPadding = calculatePadding(this).shrink(parsePadding(this.appendPadding));\n    // 4.2.  coordinateBBox Coordinate\n    //  view  viewBBox  parent  coordinateBBox\n    this.coordinateBBox = this.viewBBox.shrink(this.autoPadding.getPadding());\n    this.adjustCoordinate();\n\n    //  tooltip (tooltip crosshairs  coordinate )\n    const tooltipController = this.controllers.find((c) => c.name === 'tooltip');\n    tooltipController.update();\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderPaddingRecursive(isUpdate);\n    }\n  }\n\n  /**\n   *  view  view  coordinateBBox  coordinateInstance\n   * @param isUpdate\n   */\n  protected renderLayoutRecursive(isUpdate: boolean) {\n    // 1.  view padding\n    //  padding\n    const syncViewPaddingFn =\n      this.syncViewPadding === true\n        ? defaultSyncViewPadding\n        : isFunction(this.syncViewPadding)\n        ? this.syncViewPadding\n        : undefined;\n\n    if (syncViewPaddingFn) {\n      syncViewPaddingFn(this, this.views, PaddingCal);\n      //  padding  coordinate\n      this.views.forEach((v: View) => {\n        v.coordinateBBox = v.viewBBox.shrink(v.autoPadding.getPadding());\n        v.adjustCoordinate();\n      });\n    }\n\n    // 3.  view  view padding \n    this.doLayout();\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderLayoutRecursive(isUpdate);\n    }\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  protected renderPaintRecursive(isUpdate: boolean) {\n    const middleGroup = this.middleGroup;\n    if (this.limitInPlot) {\n      const { type, attrs } = getCoordinateClipCfg(this.coordinateInstance);\n      middleGroup.setClip({\n        type,\n        attrs,\n      });\n    } else {\n      //  clip\n      middleGroup.setClip(undefined);\n    }\n\n    // 1. \n    this.paintGeometries(isUpdate);\n    // 2. \n    this.renderComponents(isUpdate);\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderPaintRecursive(isUpdate);\n    }\n  }\n\n  // end Get \n\n  /**\n   *  scale view  scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  protected createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    // 1.  field  scaleDef\n    const currentScaleDef = get(this.options.scales, [field]);\n    const mergedScaleDef = { ...currentScaleDef, ...scaleDef };\n\n    // 2.  view\n    if (this.parent) {\n      return this.parent.createScale(field, data, mergedScaleDef, key);\n    }\n\n    // 3.  view  scalePool \n    return this.scalePool.createScale(field, data, mergedScaleDef, key);\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  private renderDataRecursive(isUpdate: boolean) {\n    // 1. \n    this.doFilterData();\n    // 2. \n    this.createCoordinate();\n    // 3.  Geometry\n    this.initGeometries(isUpdate);\n    // 4.  view  geometry\n    this.renderFacet(isUpdate);\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderDataRecursive(isUpdate);\n    }\n  }\n\n  /**\n   *  region\n   * @private\n   */\n  private calculateViewBBox() {\n    let x;\n    let y;\n    let width;\n    let height;\n\n    if (this.parent) {\n      const bbox = this.parent.coordinateBBox;\n      //  parent \n      x = bbox.x;\n      y = bbox.y;\n      width = bbox.width;\n      height = bbox.height;\n    } else {\n      //  canvas  \n      x = 0;\n      y = 0;\n      width = this.canvas.get('width');\n      height = this.canvas.get('height');\n    }\n\n    const { start, end } = this.region;\n\n    //  region  view  bbox \n    const viewBBox = new BBox(\n      x + width * start.x,\n      y + height * start.y,\n      width * (end.x - start.x),\n      height * (end.y - start.y)\n    );\n\n    if (!this.viewBBox || !this.viewBBox.isEqual(viewBBox)) {\n      // viewBBox \n      this.viewBBox = new BBox(\n        x + width * start.x,\n        y + height * start.y,\n        width * (end.x - start.x),\n        height * (end.y - start.y)\n      );\n    }\n\n    //  coordinate bbox \n    this.coordinateBBox = this.viewBBox;\n  }\n\n  /**\n   * G 4.0  name:event  name \n   *\n   * G2  view \n   *  view  view  Component  Geometry \n   * @private\n   */\n  private initEvents() {\n    //  group  shape  G \n    this.foregroundGroup.on('*', this.onDelegateEvents);\n    this.middleGroup.on('*', this.onDelegateEvents);\n    this.backgroundGroup.on('*', this.onDelegateEvents);\n\n    this.canvas.on('*', this.onCanvasEvent);\n  }\n\n  private onCanvasEvent = (evt: GEvent): void => {\n    const name = evt.name;\n    if (!name.includes(':')) {\n      // \n      const e = this.createViewEvent(evt);\n      //  plot \n      this.doPlotEvent(e);\n      this.emit(name, e);\n    }\n  };\n\n  /**\n   * \n   */\n  private initComponentController() {\n    const usedControllers = this.usedControllers;\n    for (let i = 0, len = usedControllers.length; i < len; i++) {\n      const controllerName = usedControllers[i];\n      const Ctor = getComponentController(controllerName);\n      if (Ctor) {\n        this.controllers.push(new Ctor(this));\n      }\n    }\n  }\n\n  private createViewEvent(evt: GEvent) {\n    const { shape, name } = evt;\n\n    const data = shape ? shape.get('origin') : null;\n    //  view \n    const e = new Event(this, evt, data);\n    e.type = name;\n    return e;\n  }\n  /**\n   * \n   * @param evt\n   */\n  private onDelegateEvents = (evt: GEvent): void => {\n    // \n    // evt.preventDefault();\n    const { name } = evt;\n    if (!name.includes(':')) {\n      return;\n    }\n    //  view \n    const e = this.createViewEvent(evt);\n\n    // \n    this.emit(name, e);\n    // const currentTarget = evt.currentTarget as IShape;\n    // const inheritNames = currentTarget.get('inheritNames');\n    // if (evt.delegateObject || inheritNames) {\n    //   const events = this.getEvents();\n    //   each(inheritNames, (subName) => {\n    //     const eventName = `${subName}:${type}`;\n    //     if (events[eventName]) {\n    //       this.emit(eventName, e);\n    //     }\n    //   });\n    // }\n  };\n\n  /**\n   *  PLOT_EVENTS\n   * plot event  emit\n   *  mouseentermouseleave \n   * @param e\n   */\n  private doPlotEvent(e: Event) {\n    const { type, x, y } = e;\n\n    const point = { x, y };\n\n    const ALL_EVENTS = [\n      'mousedown',\n      'mouseup',\n      'mousemove',\n      'mouseleave',\n      'mousewheel',\n      'touchstart',\n      'touchmove',\n      'touchend',\n      'touchcancel',\n      'click',\n      'dblclick',\n      'contextmenu',\n    ];\n\n    if (ALL_EVENTS.includes(type)) {\n      const currentInPlot = this.isPointInPlot(point);\n      const newEvent = e.clone();\n\n      if (currentInPlot) {\n        const TYPE = `plot:${type}`; //  plot \n        newEvent.type = TYPE;\n        this.emit(TYPE, newEvent);\n        if (type === 'mouseleave' || type === 'touchend') {\n          // plot \n          this.isPreMouseInPlot = false;\n        }\n      }\n\n      //  mouseenter, mouseleave \n      if (type === 'mousemove' || type === 'touchmove') {\n        if (this.isPreMouseInPlot && !currentInPlot) {\n          if (type === 'mousemove') {\n            newEvent.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, newEvent);\n        } else if (!this.isPreMouseInPlot && currentInPlot) {\n          if (type === 'mousemove') {\n            newEvent.type = PLOT_EVENTS.MOUSE_ENTER;\n            this.emit(PLOT_EVENTS.MOUSE_ENTER, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.ENTER;\n          this.emit(PLOT_EVENTS.ENTER, newEvent);\n        }\n        // \n        this.isPreMouseInPlot = currentInPlot;\n      } else if (type === 'mouseleave' || type === 'touchend') {\n        //  currentInPlot \n        if (this.isPreMouseInPlot) {\n          if (type === 'mouseleave') {\n            newEvent.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, newEvent);\n\n          this.isPreMouseInPlot = false;\n        }\n      }\n    }\n  }\n\n  // view   \n\n  /**\n   * \n   * @private\n   */\n  private doFilterData() {\n    const { data } = this.options;\n    this.filteredData = this.filterData(data);\n  }\n\n  /**\n   *  Geometries\n   * @private\n   */\n  private initGeometries(isUpdate: boolean) {\n    //  /  scales\n    this.createOrUpdateScales();\n    //  Geometry view  scale \n    const coordinate = this.getCoordinate();\n    const scaleDefs = get(this.options, 'scales', {});\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      //  scales \n      geometry.scales = this.getGeometryScales();\n      const cfg = {\n        coordinate, //  coordinate  coordinate \n        scaleDefs,\n        data: this.filteredData,\n        theme: this.themeObject,\n        isDataChanged: this.isDataChanged,\n        isCoordinateChanged: this.isCoordinateChanged,\n      };\n\n      if (isUpdate) {\n        // \n        geometry.update(cfg);\n      } else {\n        geometry.init(cfg);\n      }\n    }\n\n    // Geometry  scale scale \n    this.adjustScales();\n  }\n\n  /**\n   *  Geometry  scales\n   * \n   */\n  private createOrUpdateScales() {\n    const fields = this.getScaleFields();\n    const groupedFields = this.getGroupedFields();\n\n    const { data, scales = {} } = this.getOptions();\n    const filteredData = this.filteredData;\n\n    for (let i = 0, len = fields.length; i < len; i++) {\n      const field = fields[i];\n      const scaleDef = scales[field];\n\n      // \n      const key = this.getScaleKey(field);\n      this.createScale(\n        field,\n        //  scale \n        groupedFields.includes(field) ? data : filteredData,\n        scaleDef,\n        key\n      );\n\n      //  view  scale key\n      this.createdScaleKeys.set(key, true);\n    }\n  }\n\n  /**\n   *  scale \n   */\n  private syncScale() {\n    //  root view \n    this.getRootView().scalePool.sync(this.getCoordinate(), this.theme);\n  }\n\n  /**\n   *  Geometry  scale \n   */\n  private getGeometryScales(): Record<string, Scale> {\n    const fields = this.getScaleFields();\n\n    const scales = {};\n    for (let i = 0; i < fields.length; i++) {\n      const field = fields[i];\n      scales[field] = this.getScaleByField(field);\n    }\n\n    return scales;\n  }\n\n  private getScaleFields() {\n    const fields = [];\n    const tmpMap = new Map();\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const geometryScales = geometry.getScaleFields();\n      uniq(geometryScales, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  private getGroupedFields() {\n    const fields = [];\n    const tmpMap = new Map();\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const groupFields = geometry.getGroupFields();\n      uniq(groupFields, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  /**\n   *  scale \n   * @private\n   */\n  private adjustScales() {\n    // \n    //  scale range \n    this.adjustCategoryScaleRange();\n  }\n\n  /**\n   *  scale  range\n   * @private\n   */\n  private adjustCategoryScaleRange() {\n    const xyScales = [this.getXScale(), ...this.getYScales()].filter((e) => !!e);\n    const coordinate = this.getCoordinate();\n    const scaleOptions = this.options.scales;\n\n    each(xyScales, (scale: Scale) => {\n      const { field, values, isCategory, isIdentity } = scale;\n\n      //  identity  scale \n      if (isCategory || isIdentity) {\n        //  value  range \n        if (values && !get(scaleOptions, [field, 'range'])) {\n          //  range\n          scale.range = getDefaultCategoryScaleRange(scale, coordinate, this.theme);\n        }\n      }\n    });\n  }\n\n  /**\n   *  options Geometry  components\n   * @param isUpdate \n   * @private\n   */\n  private initComponents(isUpdate: boolean) {\n    //  render\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      const controller = controllers[i];\n      // \n      if (isUpdate) {\n        controller.update();\n      } else {\n        controller.clear();\n        controller.render();\n      }\n    }\n  }\n\n  private doLayout() {\n    this.layoutFunc(this);\n  }\n\n  /**\n   * \n   * @private\n   */\n  private createCoordinate() {\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n    this.coordinateInstance = this.coordinateController.create(start, end);\n  }\n\n  /**\n   *  options  geometry\n   * @private\n   */\n  private paintGeometries(isUpdate: boolean) {\n    const doAnimation = this.options.animate;\n    // geometry  paint \n    const coordinate = this.getCoordinate();\n    const canvasRegion = {\n      x: this.viewBBox.x,\n      y: this.viewBBox.y,\n      minX: this.viewBBox.minX,\n      minY: this.viewBBox.minY,\n      maxX: this.viewBBox.maxX,\n      maxY: this.viewBBox.maxY,\n      width: this.viewBBox.width,\n      height: this.viewBBox.height,\n    };\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      geometry.coordinate = coordinate;\n      geometry.canvasRegion = canvasRegion;\n      if (!doAnimation) {\n        //  view  view  geometry \n        geometry.animate(false);\n      }\n      geometry.paint(isUpdate);\n    }\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  private renderComponents(isUpdate: boolean) {\n    //  render\n    for (let i = 0; i < this.getComponents().length; i++) {\n      const co = this.getComponents()[i];\n      (co.component as GroupComponent).render();\n    }\n  }\n\n  /**\n   *  view \n   * @param isUpdate\n   */\n  private renderFacet(isUpdate: boolean) {\n    if (this.facetInstance) {\n      if (isUpdate) {\n        this.facetInstance.update();\n      } else {\n        this.facetInstance.clear();\n        // \n        this.facetInstance.init();\n        //  views\n        this.facetInstance.render();\n      }\n    }\n  }\n\n  private initOptions() {\n    const {\n      geometries = [],\n      interactions = [],\n      views = [],\n      annotations = [],\n      coordinate,\n      events,\n      facets,\n    } = this.options;\n\n    // \n    if (this.coordinateController) {\n      //  coordinate controller\n      coordinate && this.coordinateController.update(coordinate);\n    } else {\n      //  coordinate controller\n      this.coordinateController = new CoordinateController(coordinate);\n    }\n\n    //  geometry \n    for (let i = 0; i < geometries.length; i++) {\n      const geometryOption = geometries[i];\n      this.createGeometry(geometryOption);\n    }\n\n    //  interactions \n    for (let j = 0; j < interactions.length; j++) {\n      const interactionOption = interactions[j];\n      const { type, cfg } = interactionOption;\n      this.interaction(type, cfg);\n    }\n\n    //  view \n    for (let k = 0; k < views.length; k++) {\n      const viewOption = views[k];\n      this.createView(viewOption);\n    }\n\n    //  annotation\n    const annotationComponent = this.getController('annotation');\n    for (let l = 0; l < annotations.length; l++) {\n      const annotationOption = annotations[l];\n      annotationComponent.annotation(annotationOption);\n    }\n\n    //  events\n    if (events) {\n      each(events, (eventCallback, eventName) => {\n        this.on(eventName, eventCallback);\n      });\n    }\n\n    if (facets) {\n      each(facets, (facet) => {\n        const { type, ...rest } = facet;\n\n        this.facet(type, rest);\n      });\n    }\n  }\n\n  private createGeometry(geometryOption: GeometryOption) {\n    const { type, cfg = {} } = geometryOption;\n    if (this[type]) {\n      const geometry = this[type](cfg);\n      each(geometryOption, (v, k) => {\n        if (isFunction(geometry[k])) {\n          geometry[k](v);\n        }\n      });\n    }\n  }\n\n  /**\n   * scale key \n   * @param field\n   */\n  private getScaleKey(field: string): string {\n    return `${this.id}-${field}`;\n  }\n}\n\n/**\n *  geometry \n * @param name\n * @param Ctor\n * @returns Geometry\n */\nexport function registerGeometry(name: string, Ctor: any) {\n  //  view API \n  View.prototype[name.toLowerCase()] = function (cfg: any = {}) {\n    const props = {\n      /**  */\n      container: this.middleGroup.addGroup(),\n      labelsContainer: this.foregroundGroup.addGroup(),\n      ...cfg,\n    };\n\n    const geometry = new Ctor(props);\n    this.geometries.push(geometry);\n\n    return geometry;\n  };\n}\n\nexport default View;\n","import { debounce, each, isString } from '@antv/util';\nimport { ChartCfg } from '../interface';\nimport { GROUP_Z_INDEX, VIEW_LIFE_CIRCLE } from '../constant';\nimport { getEngine } from '../engine';\nimport { createDom, getChartSize, removeDom, modifyCSS } from '../util/dom';\nimport View from './view';\nimport { AriaOption } from '../interface';\n\n/**\n * Chart  G2 \n */\nexport default class Chart extends View {\n  /** Chart  DOM  */\n  public ele: HTMLElement;\n\n  /**  */\n  public width: number;\n  /**  */\n  public height: number;\n  /**  */\n  public localRefresh: boolean;\n  /**  DOM  false */\n  public autoFit: boolean;\n  /**  */\n  public renderer: 'canvas' | 'svg';\n\n  private wrapperElement: HTMLElement;\n\n  // @ts-ignore\n  constructor(props: ChartCfg) {\n    const {\n      container,\n      width,\n      height,\n      autoFit = false,\n      padding,\n      appendPadding,\n      renderer = 'canvas',\n      pixelRatio,\n      localRefresh = true,\n      visible = true,\n      supportCSSTransform = false,\n      defaultInteractions = ['tooltip', 'legend-filter', 'legend-active', 'continuous-filter', 'ellipsis-text', 'axis-description'],\n      options,\n      limitInPlot,\n      theme,\n      syncViewPadding,\n    } = props;\n\n    const ele: HTMLElement = isString(container) ? document.getElementById(container) : container;\n\n    //  div \n    const wrapperElement = createDom('<div style=\"position:relative;\"></div>');\n    ele.appendChild(wrapperElement);\n\n    // if autoFit, use the container size, to avoid the graph render twice.\n    const size = getChartSize(ele, autoFit, width, height);\n\n    const G = getEngine(renderer);\n\n    const canvas = new G.Canvas({\n      container: wrapperElement,\n      pixelRatio,\n      localRefresh,\n      supportCSSTransform,\n      ...size,\n    });\n\n    //  view \n    super({\n      parent: null,\n      canvas,\n      // create 3 group layers for views.\n      backgroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      padding,\n      appendPadding,\n      visible,\n      options,\n      limitInPlot,\n      theme,\n      syncViewPadding,\n    });\n\n    this.ele = ele;\n    this.canvas = canvas;\n    this.width = size.width;\n    this.height = size.height;\n    this.autoFit = autoFit;\n    this.localRefresh = localRefresh;\n    this.renderer = renderer;\n    this.wrapperElement = wrapperElement;\n\n    // \n    this.updateCanvasStyle();\n    this.bindAutoFit();\n    this.initDefaultInteractions(defaultInteractions);\n  }\n\n  private initDefaultInteractions(interactions) {\n    each(interactions, (interaction) => {\n      this.interaction(interaction);\n    });\n  }\n\n  /**\n   *  WAI-ARIA  arial \n   * @param ariaOption\n   */\n  public aria(ariaOption: AriaOption) {\n    const ATTR = 'aria-label';\n    if (ariaOption === false) {\n      this.ele.removeAttribute(ATTR);\n    } else {\n      this.ele.setAttribute(ATTR, ariaOption.label);\n    }\n  }\n\n  /**\n   * \n   * @param width \n   * @param height \n   * @returns\n   */\n  public changeSize(width: number, height: number) {\n    //  changeSize \n    if (this.width === width && this.height === height) {\n      return this;\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE);\n\n    this.width = width;\n    this.height = height;\n    this.canvas.changeSize(width, height);\n\n    // \n    this.render(true);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_SIZE);\n\n    return this;\n  }\n\n  /**\n   *  aria \n   */\n  public clear() {\n    super.clear();\n\n    this.aria(false);\n  }\n\n  /**\n   *  G.Canvas \n   * @returns void\n   */\n  public destroy() {\n    super.destroy();\n\n    this.unbindAutoFit();\n    this.canvas.destroy();\n\n    removeDom(this.wrapperElement);\n    this.wrapperElement = null;\n  }\n\n  /**\n   * \n   * @param visible true false \n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible); //  visible \n    this.wrapperElement.style.display = visible ? '' : 'none';\n\n    return this;\n  }\n\n  /**\n   *  resize \n   */\n  public forceFit() {\n    // skip if already destroyed\n    if (!this.destroyed) {\n      //  true autoFit = falseforceFit() \n      const { width, height } = getChartSize(this.ele, true, this.width, this.height);\n      this.changeSize(width, height);\n    }\n  }\n\n  private updateCanvasStyle() {\n    modifyCSS(this.canvas.get('el'), {\n      display: 'inline-block',\n      verticalAlign: 'middle',\n    });\n  }\n\n  private bindAutoFit() {\n    if (this.autoFit) {\n      window.addEventListener('resize', this.onResize);\n    }\n  }\n\n  private unbindAutoFit() {\n    if (this.autoFit) {\n      window.removeEventListener('resize', this.onResize);\n    }\n  }\n\n  /**\n   * when container size changed, change chart size props, and re-render.\n   */\n  private onResize = debounce(() => {\n    this.forceFit();\n  }, 300);\n}\n","import { each } from '@antv/util';\nimport { ComponentOption } from '../../interface';\nimport View from '../view';\n\n/** Component controller class type define */\nexport type ControllerCtor<O = any> = new (view: View) => Controller<O>;\n\n/**\n * Component Controller \n * 1.  option \n * 2.  API\n * 3. \n */\nexport abstract class Controller<O = unknown> {\n  /**  */\n  public visible: boolean = true;\n  protected view: View;\n  /** option  */\n  protected option: O;\n  /**  component */\n  protected components: ComponentOption[] = [];\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  public abstract get name(): string;\n\n  /**\n   * init the component\n   */\n  public abstract init();\n\n  /**\n   * render the components\n   */\n  public abstract render();\n\n  /**\n   * update the components\n   */\n  // public abstract update();\n\n  /**\n   * do layout\n   */\n  public abstract layout();\n\n  /**\n   * \n   *  -  id option \n   *  -  id  diff\n   *  - \n   *  - \n   *  - \n   */\n  public abstract update();\n\n  /**\n   * clear\n   * @param includeOption  option used in annotation\n   */\n  public clear(includeOption?: boolean) {\n    // destroy all components\n    each(this.components, (co: ComponentOption) => {\n      co.component.destroy();\n    });\n\n    // clear all component instance\n    this.components = [];\n  }\n\n  /**\n   * destroy the component\n   */\n  public destroy() {\n    this.clear();\n  }\n\n  /**\n   * get all components\n   * @returns components array\n   */\n  public getComponents(): ComponentOption[] {\n    return this.components;\n  }\n\n  /**\n   * change visibility of component\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.components.forEach((co: ComponentOption) => {\n      if (visible) {\n        co.component.show();\n      } else {\n        co.component.hide();\n      }\n    });\n    this.visible = visible;\n  }\n}\n","import { deepMix, find, get, isEqual, isFunction, mix, isString, isBoolean, flatten, isArray } from '@antv/util';\nimport { Crosshair, HtmlTooltip, IGroup } from '../../dependents';\nimport { Point, TooltipItem, TooltipOption } from '../../interface';\nimport { getAngleByPoint, getDistanceToCenter, getCoordinateClipCfg } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { findItemsFromView } from '../../util/tooltip';\nimport { BBox } from '../../util/bbox';\nimport { Controller } from './base';\nimport Event from '../event';\nimport View from '../view';\n\n// Filter duplicates, use `name`, `color`, `value` and `title` property values as condition\nfunction uniq(items) {\n  const uniqItems = [];\n  for (let index = 0; index < items.length; index++) {\n    const item = items[index];\n    const result = find(uniqItems, (subItem) => {\n      return (\n        subItem.color === item.color &&\n        subItem.name === item.name &&\n        subItem.value === item.value &&\n        subItem.title === item.title\n      );\n    });\n    if (!result) {\n      uniqItems.push(item);\n    }\n  }\n  return uniqItems;\n}\n\n/** @ignore */\nexport default class Tooltip extends Controller<TooltipOption> {\n  private tooltip;\n  private tooltipMarkersGroup: IGroup;\n  private tooltipCrosshairsGroup: IGroup;\n  private xCrosshair;\n  private yCrosshair;\n  private guideGroup: IGroup;\n\n  private isLocked: boolean = false;\n  private items;\n  private title: string;\n  private point: Point;\n\n  public get name(): string {\n    return 'tooltip';\n  }\n\n  public init() { }\n\n  private isVisible() {\n    const option = this.view.getOptions().tooltip;\n    return option !== false;\n  }\n\n  public render() { }\n\n  /**\n   * Shows tooltip\n   * @param point\n   */\n  public showTooltip(point: Point) {\n    this.point = point;\n    if (!this.isVisible()) {\n      //  tooltip(false) \n      return;\n    }\n    const view = this.view;\n    const items = this.getTooltipItems(point);\n    if (!items.length) {\n      //  tooltip \n      this.hideTooltip();\n      return;\n    }\n    const title = this.getTitle(items);\n    const dataPoint = {\n      x: items[0].x,\n      y: items[0].y,\n    }; // \n\n    view.emit(\n      'tooltip:show',\n      Event.fromData(view, 'tooltip:show', {\n        items,\n        title,\n        ...point,\n      })\n    );\n\n    const cfg = this.getTooltipCfg();\n    const { follow, showMarkers, showCrosshairs, showContent, marker } = cfg;\n    const lastItems = this.items;\n    const lastTitle = this.title;\n    if (!isEqual(lastTitle, title) || !isEqual(lastItems, items)) {\n      //  tooltip\n      view.emit(\n        'tooltip:change',\n        Event.fromData(view, 'tooltip:change', {\n          items,\n          title,\n          ...point,\n        })\n      );\n\n      if (isFunction(showContent) ? showContent(items) : showContent) {\n        //  tooltip  tooltip\n        if (!this.tooltip) {\n          // \n          this.renderTooltip();\n        }\n        this.tooltip.update(\n          mix(\n            {},\n            cfg,\n            {\n              items: this.getItemsAfterProcess(items),\n              title,\n            },\n            follow ? point : {}\n          )\n        );\n        this.tooltip.show();\n      }\n\n      if (showMarkers) {\n        //  tooltipMarkerstooltipMarkers \n        this.renderTooltipMarkers(items, marker);\n      }\n    } else {\n      // \n      if (this.tooltip && follow) {\n        this.tooltip.update(point);\n        this.tooltip.show(); // tooltip \n      }\n\n      if (this.tooltipMarkersGroup) {\n        this.tooltipMarkersGroup.show();\n      }\n    }\n\n    this.items = items;\n    this.title = title;\n\n    if (showCrosshairs) {\n      //  tooltip \n      const isCrosshairsFollowCursor = get(cfg, ['crosshairs', 'follow'], false); // \n      this.renderCrosshairs(isCrosshairsFollowCursor ? point : dataPoint, cfg);\n    }\n  }\n\n  public hideTooltip() {\n    const { follow } = this.getTooltipCfg();\n    if (!follow) {\n      this.point = null;\n      return;\n    }\n    // hide the tooltipMarkers\n    const tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.hide();\n    }\n\n    // hide crosshairs\n    const xCrosshair = this.xCrosshair;\n    const yCrosshair = this.yCrosshair;\n    if (xCrosshair) {\n      xCrosshair.hide();\n    }\n    if (yCrosshair) {\n      yCrosshair.hide();\n    }\n\n    const tooltip = this.tooltip;\n    if (tooltip) {\n      tooltip.hide();\n    }\n\n    this.view.emit('tooltip:hide', Event.fromData(this.view, 'tooltip:hide', {}));\n\n    this.point = null;\n  }\n\n  /**\n   * lockTooltip\n   */\n  public lockTooltip() {\n    this.isLocked = true;\n    if (this.tooltip) {\n      // tooltip contianer \n      this.tooltip.setCapture(true);\n    }\n  }\n\n  /**\n   * unlockTooltip\n   */\n  public unlockTooltip() {\n    this.isLocked = false;\n    const cfg = this.getTooltipCfg();\n    if (this.tooltip) {\n      //  capture \n      this.tooltip.setCapture(cfg.capture);\n    }\n  }\n\n  /**\n   * isTooltipLocked\n   */\n  public isTooltipLocked() {\n    return this.isLocked;\n  }\n\n  public clear() {\n    const { tooltip, xCrosshair, yCrosshair, tooltipMarkersGroup } = this;\n    if (tooltip) {\n      tooltip.hide();\n      tooltip.clear();\n    }\n\n    if (xCrosshair) {\n      xCrosshair.clear();\n    }\n\n    if (yCrosshair) {\n      yCrosshair.clear();\n    }\n\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.clear();\n    }\n\n    //  customContent  tooltip\n    if (tooltip?.get('customContent')) {\n      this.tooltip.destroy();\n      this.tooltip = null;\n    }\n\n    // title  items ,  tooltip \n    //  !isEqual(lastTitle, title) || !isEqual(lastItems, items)  tooltip \n    this.title = null;\n    this.items = null;\n  }\n\n  public destroy() {\n    if (this.tooltip) {\n      this.tooltip.destroy();\n    }\n    if (this.xCrosshair) {\n      this.xCrosshair.destroy();\n    }\n    if (this.yCrosshair) {\n      this.yCrosshair.destroy();\n    }\n\n    if (this.guideGroup) {\n      this.guideGroup.remove(true);\n    }\n\n    this.reset();\n  }\n\n  public reset() {\n    this.items = null;\n    this.title = null;\n    this.tooltipMarkersGroup = null;\n    this.tooltipCrosshairsGroup = null;\n    this.xCrosshair = null;\n    this.yCrosshair = null;\n    this.tooltip = null;\n    this.guideGroup = null;\n    this.isLocked = false;\n    this.point = null;\n  }\n\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    const { tooltip, tooltipMarkersGroup, xCrosshair, yCrosshair } = this;\n    if (visible) {\n      if (tooltip) {\n        tooltip.show();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.show();\n      }\n      if (xCrosshair) {\n        xCrosshair.show();\n      }\n      if (yCrosshair) {\n        yCrosshair.show();\n      }\n    } else {\n      if (tooltip) {\n        tooltip.hide();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.hide();\n      }\n      if (xCrosshair) {\n        xCrosshair.hide();\n      }\n      if (yCrosshair) {\n        yCrosshair.hide();\n      }\n    }\n    this.visible = visible;\n  }\n\n  public getTooltipItems(point: Point) {\n    let items = this.findItemsFromView(this.view, point);\n    if (items.length) {\n      // \n      items = flatten(items);\n      for (const itemArr of items) {\n        for (const item of itemArr) {\n          const { x, y } = item.mappingData;\n          item.x = isArray(x) ? x[x.length - 1] : x;\n          item.y = isArray(y) ? y[y.length - 1] : y;\n        }\n      }\n\n      const { shared } = this.getTooltipCfg();\n      // shared: false  shape  view  Geometry shape\n      if (shared === false && items.length > 1) {\n        let snapItem = items[0];\n        let min = Math.abs(point.y - snapItem[0].y);\n        for (const aItem of items) {\n          const yDistance = Math.abs(point.y - aItem[0].y);\n          if (yDistance <= min) {\n            snapItem = aItem;\n            min = yDistance;\n          }\n        }\n        items = [snapItem];\n      }\n\n      return uniq(flatten(items));\n    }\n\n    return [];\n  }\n\n  public layout() { }\n\n  public update() {\n    if (this.point) {\n      this.showTooltip(this.point);\n    }\n\n    if (this.tooltip) {\n      // #2279 resizetooltip\n      // tooltip\n      const canvas = this.view.getCanvas();\n      // TODO  tooltip  canvas \n      //  region\n      this.tooltip.set('region', {\n        start: { x: 0, y: 0 },\n        end: { x: canvas.get('width'), y: canvas.get('height') },\n      });\n    }\n  }\n\n  /**\n   *  enter tooltip \n   * @param point\n   */\n  public isCursorEntered(point: Point) {\n    //  tooltip dom \n    if (this.tooltip) {\n      const el: HTMLElement = this.tooltip.getContainer();\n      const capture = this.tooltip.get('capture');\n\n      if (el && capture) {\n        const { x, y, width, height } = el.getBoundingClientRect();\n        return new BBox(x, y, width, height).isPointIn(point);\n      }\n    }\n\n    return false;\n  }\n\n  //  tooltip  view.tooltip()  tooltip\n  public getTooltipCfg() {\n    const view = this.view;\n    const option = view.getOptions().tooltip;\n    const processOption = this.processCustomContent(option);\n    const theme = view.getTheme();\n    const defaultCfg = get(theme, ['components', 'tooltip'], {});\n    const enterable = get(processOption, 'enterable', defaultCfg.enterable);\n    return deepMix({}, defaultCfg, processOption, {\n      capture: enterable || this.isLocked ? true : false,\n    });\n  }\n\n  // process customContent\n  protected processCustomContent(option: TooltipOption) {\n    if (isBoolean(option) || !get(option, 'customContent')) {\n      return option;\n    }\n    const currentCustomContent = option.customContent;\n    const customContent = (title: string, items: any[]) => {\n      const content = currentCustomContent(title, items) || '';\n      return isString(content) ? '<div class=\"g2-tooltip\">' + content + '</div>' : content;\n    };\n    return {\n      ...option,\n      customContent,\n    };\n  }\n\n  private getTitle(items) {\n    const title = items[0].title || items[0].name;\n    this.title = title;\n\n    return title;\n  }\n\n  private renderTooltip() {\n    const canvas = this.view.getCanvas();\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n\n    const cfg = this.getTooltipCfg();\n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      ...cfg,\n      visible: false,\n      crosshairs: null,\n    });\n\n    tooltip.init();\n    this.tooltip = tooltip;\n  }\n\n  private renderTooltipMarkers(items, marker) {\n    const tooltipMarkersGroup = this.getTooltipMarkersGroup();\n    const rootView = this.view.getRootView();\n    const { limitInPlot } = rootView;\n    for (const item of items) {\n      const { x, y } = item;\n\n      // \n      if (limitInPlot || tooltipMarkersGroup?.getClip()) {\n        const { type, attrs } = getCoordinateClipCfg(rootView.getCoordinate());\n        tooltipMarkersGroup?.setClip({\n          type,\n          attrs,\n        });\n      } else {\n        //  clip\n        tooltipMarkersGroup?.setClip(undefined);\n      }\n\n      const attrs = {\n        fill: item.color,\n        symbol: 'circle',\n        shadowColor: item.color,\n        ...marker,\n        x,\n        y,\n      };\n\n      tooltipMarkersGroup.addShape('marker', {\n        attrs,\n      });\n    }\n  }\n\n  private renderCrosshairs(point: Point, cfg) {\n    const crosshairsType = get(cfg, ['crosshairs', 'type'], 'x'); //  x \n    if (crosshairsType === 'x') {\n      if (this.yCrosshair) {\n        this.yCrosshair.hide();\n      }\n      this.renderXCrosshairs(point, cfg);\n    } else if (crosshairsType === 'y') {\n      if (this.xCrosshair) {\n        this.xCrosshair.hide();\n      }\n      this.renderYCrosshairs(point, cfg);\n    } else if (crosshairsType === 'xy') {\n      this.renderXCrosshairs(point, cfg);\n      this.renderYCrosshairs(point, cfg);\n    }\n  }\n\n  //  x  tooltip \n  private renderXCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    let start;\n    let end;\n    if (coordinate.isRect) {\n      if (coordinate.isTransposed) {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      } else {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      }\n    } else {\n      //  x  crosshairs \n      const angle = getAngleByPoint(coordinate, point);\n      const center = coordinate.getCenter();\n      const radius = coordinate.getRadius();\n      end = polarToCartesian(center.x, center.y, radius, angle);\n      start = center;\n    }\n\n    const cfg = deepMix(\n      {\n        start,\n        end,\n        container: this.getTooltipCrosshairsGroup(),\n      },\n      get(tooltipCfg, 'crosshairs', {}),\n      this.getCrosshairsText('x', point, tooltipCfg)\n    );\n    delete cfg.type; //  Crosshairs  type \n\n    let xCrosshair = this.xCrosshair;\n    if (xCrosshair) {\n      xCrosshair.update(cfg);\n    } else {\n      xCrosshair = new Crosshair.Line(cfg);\n      xCrosshair.init();\n    }\n    xCrosshair.render();\n    xCrosshair.show();\n    this.xCrosshair = xCrosshair;\n  }\n\n  //  y \n  private renderYCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    let cfg;\n    let type;\n    if (coordinate.isRect) {\n      let start;\n      let end;\n      if (coordinate.isTransposed) {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      } else {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      }\n      cfg = {\n        start,\n        end,\n      };\n      type = 'Line';\n    } else {\n      //  y  crosshairs \n      cfg = {\n        center: coordinate.getCenter(),\n        // @ts-ignore\n        radius: getDistanceToCenter(coordinate, point),\n        startAngle: coordinate.startAngle,\n        endAngle: coordinate.endAngle,\n      };\n      type = 'Circle';\n    }\n\n    cfg = deepMix(\n      {\n        container: this.getTooltipCrosshairsGroup(),\n      },\n      cfg,\n      get(tooltipCfg, 'crosshairs', {}),\n      this.getCrosshairsText('y', point, tooltipCfg)\n    );\n    delete cfg.type; //  Crosshairs  type \n\n    let yCrosshair = this.yCrosshair;\n    if (yCrosshair) {\n      // \n      if (\n        (coordinate.isRect && yCrosshair.get('type') === 'circle') ||\n        (!coordinate.isRect && yCrosshair.get('type') === 'line')\n      ) {\n        yCrosshair = new Crosshair[type](cfg);\n        yCrosshair.init();\n      } else {\n        yCrosshair.update(cfg);\n      }\n    } else {\n      yCrosshair = new Crosshair[type](cfg);\n      yCrosshair.init();\n    }\n    yCrosshair.render();\n    yCrosshair.show();\n    this.yCrosshair = yCrosshair;\n  }\n\n  private getCrosshairsText(type, point: Point, tooltipCfg) {\n    let textCfg = get(tooltipCfg, ['crosshairs', 'text']);\n    const follow = get(tooltipCfg, ['crosshairs', 'follow']);\n    const items = this.items;\n\n    if (textCfg) {\n      const view = this.getViewWithGeometry(this.view);\n      // \n      const firstItem = items[0];\n      const xScale = view.getXScale();\n      const yScale = view.getYScales()[0];\n      let xValue;\n      let yValue;\n      if (follow) {\n        // \n        const invertPoint = this.view.getCoordinate().invert(point);\n        xValue = xScale.invert(invertPoint.x); // \n        yValue = yScale.invert(invertPoint.y); // \n      } else {\n        xValue = firstItem.data[xScale.field];\n        yValue = firstItem.data[yScale.field];\n      }\n\n      const content = type === 'x' ? xValue : yValue;\n      if (isFunction(textCfg)) {\n        textCfg = textCfg(type, content, items, point);\n      } else {\n        textCfg.content = content;\n      }\n\n      return {\n        text: textCfg,\n      };\n    }\n  }\n\n  //  tooltipMarkers  crosshairs \n  private getGuideGroup() {\n    if (!this.guideGroup) {\n      const foregroundGroup = this.view.foregroundGroup;\n      this.guideGroup = foregroundGroup.addGroup({\n        name: 'tooltipGuide',\n        capture: false,\n      });\n    }\n\n    return this.guideGroup;\n  }\n\n  //  tooltipMarkers \n  private getTooltipMarkersGroup() {\n    let tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup && !tooltipMarkersGroup.destroyed) {\n      tooltipMarkersGroup.clear();\n      tooltipMarkersGroup.show();\n    } else {\n      tooltipMarkersGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipMarkersGroup',\n      });\n      tooltipMarkersGroup.toFront();\n      this.tooltipMarkersGroup = tooltipMarkersGroup;\n    }\n    return tooltipMarkersGroup;\n  }\n\n  //  tooltip crosshairs \n  private getTooltipCrosshairsGroup() {\n    let tooltipCrosshairsGroup = this.tooltipCrosshairsGroup;\n    if (!tooltipCrosshairsGroup) {\n      tooltipCrosshairsGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipCrosshairsGroup',\n        capture: false,\n      });\n      tooltipCrosshairsGroup.toBack();\n      this.tooltipCrosshairsGroup = tooltipCrosshairsGroup;\n    }\n    return tooltipCrosshairsGroup;\n  }\n\n  private findItemsFromView(view: View, point: Point) {\n    if (view.getOptions().tooltip === false) {\n      //  view  tooltip\n      return [];\n    }\n\n    const tooltipCfg = this.getTooltipCfg();\n    let result = findItemsFromView(view, point, tooltipCfg);\n    // \n    for (const childView of view.views) {\n      result = result.concat(this.findItemsFromView(childView, point));\n    }\n\n    return result;\n  }\n\n  // FIXME: hack \n  //  tooltip  Chart chart  Geometry  View \n  private getViewWithGeometry(view) {\n    if (view.geometries.length) {\n      return view;\n    }\n\n    return find(view.views, (childView) => this.getViewWithGeometry(childView));\n  }\n\n  /**\n   *  items  items\n   * \n   */\n  private getItemsAfterProcess(originalItems: TooltipItem[]): TooltipItem[] {\n    const { customItems } = this.getTooltipCfg();\n    const fn = customItems ? customItems : (v) => v;\n\n    return fn(originalItems);\n  }\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/** @ignore */\ninterface AnimationMap {\n  [key: string]: Animation;\n}\n\ntype Animation = (element: IGroup | IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) => void;\n\nconst ANIMATIONS_MAP: AnimationMap = {};\n\n/**\n * \n * @param type \n */\nexport function getAnimation(type: string) {\n  return ANIMATIONS_MAP[type.toLowerCase()];\n}\n\n/**\n * \n * @param type \n * @param animation \n */\nexport function registerAnimation(type: string, animation: Animation) {\n  ANIMATIONS_MAP[type.toLowerCase()] = animation;\n}\n","import { deepMix, get, isFunction } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Coordinate, IGroup, IShape } from '../dependents';\nimport { AnimateCfg, Data, Datum, GAnimateCfg, Point } from '../interface';\nimport { AnimateExtraCfg } from './interface';\n\nimport { getAnimation } from './animation';\n\n// \nexport const DEFAULT_ANIMATE_CFG = {\n  appear: {\n    duration: 450,\n    easing: 'easeQuadOut',\n  }, // \n  update: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // \n  enter: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // \n  leave: {\n    duration: 350,\n    easing: 'easeQuadIn',\n  }, // \n};\n\n//  Geometry \nconst GEOMETRY_ANIMATE_CFG = {\n  interval: (coordinate: Coordinate) => {\n    return {\n      enter: {\n        animation: coordinate.isRect ? (coordinate.isTransposed ? 'scale-in-x' : 'scale-in-y') : 'fade-in',\n      },\n      update: {\n        animation: coordinate.isPolar && coordinate.isTransposed ? 'sector-path-update' : null,\n      },\n      leave: {\n        animation: 'fade-out',\n      },\n    };\n  },\n  line: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  path: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  point: {\n    appear: {\n      animation: 'zoom-in',\n    },\n    enter: {\n      animation: 'zoom-in',\n    },\n    leave: {\n      animation: 'zoom-out',\n    },\n  },\n  area: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  polygon: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  schema: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  edge: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  label: {\n    appear: {\n      animation: 'fade-in',\n      delay: 450,\n    },\n    enter: {\n      animation: 'fade-in',\n    },\n    update: {\n      animation: 'position-update',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n};\n\n//  Geometry \nconst GEOMETRY_GROUP_APPEAR_ANIMATION = {\n  line: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  area: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  path: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n  interval(coordinate: Coordinate) {\n    let animation;\n\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n      if (coordinate.isPolar && coordinate.isTransposed) {\n        // pie chart\n        animation = 'wave-in';\n      }\n    }\n    return {\n      animation,\n    };\n  },\n  schema: (coordinate) => {\n    let animation;\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n    }\n    return {\n      animation,\n    };\n  },\n  polygon: () => {\n    return {\n      animation: 'fade-in',\n      duration: 500,\n    };\n  },\n  edge: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n};\n\n// \nfunction parseAnimateConfig(animateCfg: AnimateCfg, data: Data | Datum): GAnimateCfg {\n  return {\n    delay: isFunction(animateCfg.delay) ? animateCfg.delay(data) : animateCfg.delay,\n    easing: isFunction(animateCfg.easing) ? animateCfg.easing(data) : animateCfg.easing,\n    duration: isFunction(animateCfg.duration) ? animateCfg.duration(data) : animateCfg.duration,\n    callback: animateCfg.callback,\n    repeat: animateCfg.repeat,\n  };\n}\n\n/**\n * @ignore\n *  elementName  `animateType` `animateType` \n * @param elementName \n * @param coordinate \n * @param animateType \n */\nexport function getDefaultAnimateCfg(elementName: string, coordinate: Coordinate, animateType?: string) {\n  let animateCfg = GEOMETRY_ANIMATE_CFG[elementName];\n\n  if (animateCfg) {\n    if (isFunction(animateCfg)) {\n      animateCfg = animateCfg(coordinate);\n    }\n    animateCfg = deepMix({}, DEFAULT_ANIMATE_CFG, animateCfg);\n\n    if (animateType) {\n      return animateCfg[animateType];\n    }\n  }\n  return animateCfg;\n}\n\n/**\n * @ignore\n * \n *  shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function doAnimate(shape: IGroup | IShape, animateCfg: AnimateCfg, cfg: AnimateExtraCfg) {\n  const data = get(shape.get('origin'), 'data', FIELD_ORIGIN);\n  const animation = animateCfg.animation; // \n  const parsedAnimateCfg = parseAnimateConfig(animateCfg, data);\n  if (animation) {\n    // \n    const animateFunction = getAnimation(animation);\n    if (animateFunction) {\n      animateFunction(shape, parsedAnimateCfg, cfg);\n    }\n  } else {\n    //  toAttrs \n    shape.animate(cfg.toAttrs, parsedAnimateCfg);\n  }\n}\n\n/**\n * @ignore\n *  Geometry \n * @param container \n * @param animateCfg \n * @param geometryType geometry \n * @param coordinate \n * @param minYPoint y \n */\nexport function doGroupAppearAnimate(\n  container: IGroup,\n  animateCfg: AnimateCfg,\n  geometryType: string,\n  coordinate: Coordinate,\n  minYPoint: Point\n) {\n  if (GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType]) {\n    const defaultCfg = GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType](coordinate);\n    const animation = getAnimation(get(defaultCfg, 'animation', ''));\n    if (animation) {\n      const cfg = {\n        ...DEFAULT_ANIMATE_CFG.appear,\n        ...defaultCfg,\n        ...animateCfg,\n      };\n      container.stopAnimate(); //  container \n      animation(container, cfg, {\n        coordinate,\n        minYPoint,\n        toAttrs: null,\n      });\n    }\n  }\n}\n","/**\n * Name of Background Shape\n */\nexport const BACKGROUND_SHAPE = 'element-background';\n","import { deepMix, each, get, isArray, isEmpty, isEqual, isFunction, isString } from '@antv/util';\n// \n// @ts-ignore\nimport { propagationDelegate } from '@antv/component';\nimport { doAnimate } from '../../animate';\nimport Base from '../../base';\nimport { BBox, IGroup, IShape } from '../../dependents';\nimport { AnimateOption, Datum, ShapeFactory, ShapeInfo, StateCfg } from '../../interface';\nimport { getReplaceAttrs } from '../../util/graphics';\nimport Geometry from '../base';\nimport { GEOMETRY_LIFE_CIRCLE } from '../../constant';\nimport { BACKGROUND_SHAPE } from '../shape/constant';\n\n/** Element  */\ninterface ElementCfg {\n  /**  shape  */\n  shapeFactory: ShapeFactory;\n  /** shape  */\n  container: IGroup;\n  /** element  */\n  elementIndex?: number;\n  /**  group */\n  offscreenGroup?: IGroup;\n  /**  */\n  visible?: boolean;\n}\n\n/**\n * Element \n *  G2 Element / Shape  Shape\n */\nexport default class Element extends Base {\n  /**  shape  */\n  public shapeFactory: ShapeFactory;\n  /** shape  */\n  public container: IGroup;\n  /** element  */\n  public elementIndex: number;\n  /**  */\n  public shape: IShape | IGroup;\n  /** shape  */\n  public animate: AnimateOption | boolean;\n\n  // \n  /** element  Geometry  */\n  public geometry: Geometry;\n  /**  shape  label */\n  public labelShape: IGroup[] = [];\n\n  /**  shape  */\n  private shapeType: string;\n\n  /** shape  */\n  private model: ShapeInfo;\n  /**  */\n  private data: Datum;\n  // \n  private states: string[] = [];\n  private statesStyle;\n  //  Group\n  private offscreenGroup: IGroup;\n\n  constructor(cfg: ElementCfg) {\n    super(cfg);\n\n    const { shapeFactory, container, offscreenGroup, elementIndex, visible = true } = cfg;\n    this.shapeFactory = shapeFactory;\n    this.container = container;\n    this.offscreenGroup = offscreenGroup;\n    this.visible = visible;\n    this.elementIndex = elementIndex;\n  }\n\n  /**\n   * \n   * @param model \n   * @param isUpdate \n   */\n  public draw(model: ShapeInfo, isUpdate: boolean = false) {\n    this.model = model;\n    this.data = model.data; // \n    this.shapeType = this.getShapeType(model);\n\n    // \n    this.drawShape(model, isUpdate);\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \n   * @param model \n   */\n  public update(model: ShapeInfo) {\n    const { shapeFactory, shape } = this;\n    if (!shape) {\n      return;\n    }\n\n    // \n    this.model = model;\n    this.data = model.data;\n    this.shapeType = this.getShapeType(model);\n\n    // step 1:  shape \n    this.setShapeInfo(shape, model);\n\n    // step 2:  Group  shape shape\n    const offscreenGroup = this.getOffscreenGroup();\n    const newShape = shapeFactory.drawShape(this.shapeType, model, offscreenGroup);\n    // @ts-ignore\n    newShape.cfg.data = this.data;\n    // @ts-ignore\n    newShape.cfg.origin = model;\n    // label \n    newShape.cfg.element = this;\n\n    // step 3:  shape \n    this.syncShapeStyle(shape, newShape, this.getStates(), this.getAnimateCfg('update'));\n  }\n\n  /**\n   *  element \n   */\n  public destroy() {\n    const { shapeFactory, shape } = this;\n\n    if (shape) {\n      const animateCfg = this.getAnimateCfg('leave');\n      if (animateCfg) {\n        // \n        doAnimate(shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...shape.attr(),\n          },\n        });\n      } else {\n        // \n        shape.remove(true);\n      }\n    }\n\n    // reset\n    this.states = [];\n    this.shapeFactory = undefined;\n    this.container = undefined;\n    this.shape = undefined;\n    this.animate = undefined;\n    this.geometry = undefined;\n    this.labelShape = [];\n    this.model = undefined;\n    this.data = undefined;\n    this.offscreenGroup = undefined;\n    this.statesStyle = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   *  element\n   * @param visible \n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n\n    if (visible) {\n      if (this.shape) {\n        this.shape.show();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.show();\n        });\n      }\n    } else {\n      if (this.shape) {\n        this.shape.hide();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.hide();\n        });\n      }\n    }\n  }\n\n  /**\n   *  Element \n   *\n   *  Element \n   * 1. active\n   * 2. selected\n   * 3. inactive\n   *\n   * \n   *\n   *  [[Theme]]  `geometry.state()` \n   *\n   * ```ts\n   * //  active \n   * setState('active', true);\n   * ```\n   *\n   * @param stateName \n   * @param stateStatus \n   */\n  public setState(stateName: string, stateStatus: boolean) {\n    const { states, shapeFactory, model, shape, shapeType } = this;\n\n    const index = states.indexOf(stateName);\n    if (stateStatus) {\n      // \n      if (index > -1) {\n        // \n        return;\n      }\n      states.push(stateName);\n      if (stateName === 'active' || stateName === 'selected') {\n        shape?.toFront();\n      }\n    } else {\n      if (index === -1) {\n        // \n        return;\n      }\n      states.splice(index, 1);\n      if (stateName === 'active' || stateName === 'selected') {\n        const { sortZIndex, zIndexReversed } = this.geometry;\n        const idx = zIndexReversed ? this.geometry.elements.length - this.elementIndex : this.elementIndex;\n        sortZIndex ? shape.setZIndex(idx) : shape.set('zIndex', idx);\n      }\n    }\n\n    //  group  shape shape  shape\n    const offscreenShape = shapeFactory.drawShape(shapeType, model, this.getOffscreenGroup());\n    if (states.length) {\n      // \n      this.syncShapeStyle(shape, offscreenShape, states, null);\n    } else {\n      // \n      this.syncShapeStyle(shape, offscreenShape, ['reset'], null);\n    }\n\n    offscreenShape.remove(true); // \n\n    const eventObject = {\n      state: stateName,\n      stateStatus,\n      element: this,\n      target: this.container,\n    };\n    this.container.emit('statechange', eventObject);\n    // @ts-ignore\n    propagationDelegate(this.shape, 'statechange', eventObject);\n  }\n\n  /**\n   * \n   */\n  public clearStates() {\n    const states = this.states;\n\n    each(states, (state) => {\n      this.setState(state, false);\n    });\n\n    this.states = [];\n  }\n\n  /**\n   *  Element  `stateName` \n   * @param stateName \n   * @returns true false \n   */\n  public hasState(stateName: string): boolean {\n    return this.states.includes(stateName);\n  }\n\n  /**\n   *  Element \n   * @returns  Element \n   */\n  public getStates(): string[] {\n    return this.states;\n  }\n\n  /**\n   *  Element \n   * @returns \n   */\n  public getData(): Datum {\n    return this.data;\n  }\n\n  /**\n   *  Element \n   * @returns \n   */\n  public getModel(): ShapeInfo {\n    return this.model;\n  }\n\n  /**\n   *  Element  bbox\n   * @returns \n   */\n  public getBBox(): BBox {\n    const { shape, labelShape } = this;\n    let bbox = {\n      x: 0,\n      y: 0,\n      minX: 0,\n      minY: 0,\n      maxX: 0,\n      maxY: 0,\n      width: 0,\n      height: 0,\n    };\n    if (shape) {\n      bbox = shape.getCanvasBBox();\n    }\n    if (labelShape) {\n      labelShape.forEach((label: IGroup) => {\n        const labelBBox = label.getCanvasBBox();\n        bbox.x = Math.min(labelBBox.x, bbox.x);\n        bbox.y = Math.min(labelBBox.y, bbox.y);\n        bbox.minX = Math.min(labelBBox.minX, bbox.minX);\n        bbox.minY = Math.min(labelBBox.minY, bbox.minY);\n        bbox.maxX = Math.max(labelBBox.maxX, bbox.maxX);\n        bbox.maxY = Math.max(labelBBox.maxY, bbox.maxY);\n      });\n    }\n\n    bbox.width = bbox.maxX - bbox.minX;\n    bbox.height = bbox.maxY - bbox.minY;\n\n    return bbox;\n  }\n\n  private getStatesStyle() {\n    if (!this.statesStyle) {\n      const { shapeType, geometry, shapeFactory } = this;\n      const stateOption = geometry.stateOption;\n      const defaultShapeType = shapeFactory.defaultShapeType;\n      const stateTheme = shapeFactory.theme[shapeType] || shapeFactory.theme[defaultShapeType];\n      this.statesStyle = deepMix({}, stateTheme, stateOption);\n    }\n\n    return this.statesStyle;\n  }\n\n  // \n  private getStateStyle(stateName: string, shapeKey?: string): StateCfg {\n    const statesStyle = this.getStatesStyle();\n    const stateCfg = get(statesStyle, [stateName, 'style'], {});\n    const shapeStyle = stateCfg[shapeKey] || stateCfg;\n    if (isFunction(shapeStyle)) {\n      return shapeStyle(this);\n    }\n\n    return shapeStyle;\n  }\n\n  // \n  private getAnimateCfg(animateType: string) {\n    const animate = this.animate;\n    if (animate) {\n      const cfg = animate[animateType];\n\n      if (cfg) {\n        //  geometry  animate \n        return {\n          ...cfg,\n          callback: () => {\n            isFunction(cfg.callback) && cfg.callback();\n            this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE);\n          },\n        };\n      }\n      return cfg;\n    }\n\n    return null;\n  }\n\n  // \n  private drawShape(model: ShapeInfo, isUpdate: boolean = false) {\n    const { shapeFactory, container, shapeType } = this;\n\n    //  shape  shape\n    this.shape = shapeFactory.drawShape(shapeType, model, container);\n\n    if (this.shape) {\n      this.setShapeInfo(this.shape, model); // \n      // @ts-ignore\n      const name = this.shape.cfg.name;\n      //  element  name, name \n      if (!name) {\n        //  name,  name  name\n        // @ts-ignore\n        this.shape.cfg.name = ['element', this.shapeFactory.geometryType];\n      } else if (isString(name)) {\n        // @ts-ignore\n        this.shape.cfg.name = ['element', name];\n      }\n      // \n      const animateType = isUpdate ? 'enter' : 'appear';\n      const animateCfg = this.getAnimateCfg(animateType);\n      if (animateCfg) {\n        // \n        this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n\n        doAnimate(this.shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...this.shape.attr(),\n          },\n        });\n      }\n    }\n  }\n\n  //  Group\n  private getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // \n      this.offscreenGroup = new GroupCtor({});\n    }\n\n    return this.offscreenGroup;\n  }\n\n  //  shape \n  private setShapeInfo(shape: IShape | IGroup, data: ShapeInfo) {\n    // @ts-ignore\n    shape.cfg.origin = data;\n    // @ts-ignore\n    shape.cfg.element = this;\n    if (shape.isGroup()) {\n      const children = shape.get('children');\n      children.forEach((child) => {\n        this.setShapeInfo(child, data);\n      });\n    }\n  }\n\n  //  shape \n  private syncShapeStyle(\n    sourceShape: IGroup | IShape,\n    targetShape: IGroup | IShape,\n    states: string[] = [],\n    animateCfg,\n    index: number = 0\n  ) {\n    if (!sourceShape || !targetShape) {\n      return;\n    }\n    //  shape  clip\n    const clip = sourceShape.get('clipShape');\n    const newClip = targetShape.get('clipShape');\n\n    this.syncShapeStyle(clip, newClip, states, animateCfg);\n\n    if (sourceShape.isGroup()) {\n      const children = sourceShape.get('children');\n      const newChildren = targetShape.get('children');\n      for (let i = 0; i < children.length; i++) {\n        this.syncShapeStyle(children[i], newChildren[i], states, animateCfg, index + i);\n      }\n    } else {\n      if (!isEmpty(states) && !isEqual(states, ['reset'])) {\n        let name = sourceShape.get('name');\n        if (isArray(name)) {\n          //  element  name\n          name = name[1];\n        }\n\n        each(states, (state) => {\n          // background shape \n          if (targetShape.get('name') !== BACKGROUND_SHAPE) {\n            const style = this.getStateStyle(state, name || index); //  name\n            targetShape.attr(style);\n          }\n        });\n      }\n      const newAttrs = getReplaceAttrs(sourceShape as IShape, targetShape as IShape);\n\n      if (this.animate) {\n        if (animateCfg) {\n          this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n          // \n          doAnimate(sourceShape, animateCfg, {\n            coordinate: this.shapeFactory.coordinate,\n            toAttrs: newAttrs,\n            shapeModel: this.model,\n          });\n        } else if (!isEmpty(states)) {\n          sourceShape.stopAnimate();\n          sourceShape.animate(newAttrs, {\n            duration: 300,\n          });\n        } else {\n          sourceShape.attr(newAttrs);\n        }\n      } else {\n        sourceShape.attr(newAttrs);\n      }\n    }\n  }\n\n  private getShapeType(model: ShapeInfo) {\n    const shape = get(model, 'shape');\n    return isArray(shape) ? shape[0] : shape;\n  }\n}\n","import { BBox, IGroup, IShape } from '../../dependents';\nimport { LooseObject } from '../../interface';\nimport { GeometryLabelConstructor } from './base';\nimport { LabelItem } from './interface';\n\n/**\n * label \n * @param items  label \n * @param labels  labels \n * @param shapes  label \n * @param region \n * @param cfg \n */\ntype GeometryLabelsLayoutFn = (\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg?: LooseObject\n) => void;\n\nconst GEOMETRY_LABELS_MAP: Record<string, GeometryLabelConstructor> = {};\nconst GEOMETRY_LABELS_LAYOUT_MAP: Record<string, GeometryLabelsLayoutFn> = {};\n\n/**\n *  `type`  [[GeometryLabel]] \n * @param type\n * @returns\n */\nexport function getGeometryLabel(type: string): GeometryLabelConstructor {\n  return GEOMETRY_LABELS_MAP[type.toLowerCase()];\n}\n\n/**\n *  GeometryLabel \n * @param type GeometryLabel \n * @param ctor GeometryLabel \n */\nexport function registerGeometryLabel(type: string, ctor: GeometryLabelConstructor) {\n  GEOMETRY_LABELS_MAP[type.toLowerCase()] = ctor;\n}\n\n/**\n *  `type`  [[GeometryLabelsLayoutFn]] label \n * @param type \n * @returns\n */\nexport function getGeometryLabelLayout(type: string): GeometryLabelsLayoutFn {\n  return GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()];\n}\n\n/**\n *  label \n * @param type label \n * @param layoutFn label \n */\nexport function registerGeometryLabelLayout(type: string, layoutFn: GeometryLabelsLayoutFn) {\n  GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()] = layoutFn;\n}\n","import { LooseObject } from '@antv/g-svg';\nimport { parsePathString } from '@antv/path-util';\nimport { deepMix, get, upperFirst } from '@antv/util';\nimport { IGroup, IShape, PathCommand } from '../../dependents';\nimport {\n  Point,\n  RegisterShape,\n  RegisterShapeFactory,\n  Shape,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerAttrs,\n  ShapeMarkerCfg,\n  ShapePoint,\n} from '../../interface';\n\nimport { convertNormalPath, convertPolarPath } from './util/path';\n\n/** ShapeFactory  */\nconst ShapeFactoryBase = {\n  /**  */\n  coordinate: null,\n  /**  Shape  */\n  defaultShapeType: null,\n  /**  */\n  theme: null,\n  /**\n   *  shape \n   * @param shapeType shape \n   * @param shapePoint  size \n   * @returns \n   */\n  getShapePoints(shapeType: string, shapePoint: ShapePoint) {\n    const shape = this.getShape(shapeType);\n    if (shape.getPoints) {\n      return shape.getPoints(shapePoint);\n    }\n\n    return this.getDefaultPoints(shapePoint);\n  },\n  /**\n   *  shape  shape \n   * @param shapeType string shape \n   * @returns\n   */\n  getShape(shapeType: string): Shape {\n    const shape = this[shapeType] || this[this.defaultShapeType];\n    shape.coordinate = this.coordinate;\n\n    return shape;\n  },\n  /**\n   *  shape \n   * @override\n   */\n  getDefaultPoints() {\n    return [];\n  },\n  /**\n   *  shape  ( shapeFactory )\n   */\n  getDefaultStyle(geometryTheme: LooseObject): LooseObject {\n    return get(geometryTheme, [this.defaultShapeType, 'default', 'style'], {});\n  },\n  /**\n   *  shape \n   * @param shapeType shape \n   * @param color \n   * @param isInPolar \n   * @returns  marker \n   */\n  getMarker(shapeType: string, markerCfg: ShapeMarkerCfg): ShapeMarkerAttrs {\n    let shape = this.getShape(shapeType);\n\n    if (!shape.getMarker) {\n      const defaultShapeType = this.defaultShapeType;\n      shape = this.getShape(defaultShapeType);\n    }\n\n    const theme = this.theme;\n    const shapeStyle = get(theme, [shapeType, 'default'], {});\n    const markerStyle = shape.getMarker(markerCfg);\n\n    return deepMix({}, shapeStyle, markerStyle);\n  },\n  /**\n   *  shape\n   * @override\n   * @param shapeType  shape \n   * @param cfg  shape \n   * @param element Element \n   * @returns\n   */\n  drawShape(shapeType: string, cfg: ShapeInfo, container: IGroup): IShape | IGroup {\n    const shape = this.getShape(shapeType);\n    return shape.draw(cfg, container);\n  },\n};\n\n/** Shape  */\nconst ShapeBase = {\n  /**  */\n  coordinate: null,\n  /**\n   *  path  path\n   * @param path \n   * @returns\n   */\n  parsePath(path: string): PathCommand[] {\n    const coordinate = this.coordinate;\n    let parsedPath = parsePathString(path);\n    if (coordinate.isPolar) {\n      parsedPath = convertPolarPath(coordinate, parsedPath);\n    } else {\n      parsedPath = convertNormalPath(coordinate, parsedPath);\n    }\n    return parsedPath;\n  },\n  /**\n   * \n   * @param point \n   * @returns\n   */\n  parsePoint(point: Point): Point {\n    const coordinate = this.coordinate;\n    return coordinate.convert(point);\n  },\n  /**\n   * 01 points   points\n   * @param points \n   * @returns\n   */\n  parsePoints(points: Point[]): Point[] {\n    const coordinate = this.coordinate;\n    return points.map((point) => {\n      return coordinate.convert(point);\n    });\n  },\n  /**\n   *  shape\n   * @override\n   */\n  draw(cfg: ShapeInfo, container: IGroup) {},\n};\n\nconst ShapeFactoryMap = {};\n\n/**\n *  ShapeFactory\n * @param factoryName  ShapeFactory  Geometry \n * @param cfg  ShapeFactory \n * @returns  ShapeFactory \n */\nexport function registerShapeFactory(factoryName: string, cfg: RegisterShapeFactory): ShapeFactory {\n  const className = upperFirst(factoryName);\n  const geomObj = {\n    ...ShapeFactoryBase,\n    ...cfg,\n    geometryType: factoryName,\n  };\n  ShapeFactoryMap[className] = geomObj;\n  return geomObj;\n}\n\n/**\n *  Shape\n * @param factoryName  ShapeFactory \n * @param shapeType  shape \n * @param cfg  Shape \n * @returns shape  shape \n */\nexport function registerShape(factoryName: string, shapeType: string, cfg: RegisterShape): Shape {\n  const className = upperFirst(factoryName);\n  const factory = ShapeFactoryMap[className];\n  const shapeObj = {\n    ...ShapeBase,\n    ...cfg,\n  };\n  factory[shapeType] = shapeObj;\n  return shapeObj;\n}\n\n/**\n *  factoryName  shapeFactory\n * @param factoryName\n * @returns shape factory\n */\nexport function getShapeFactory(factoryName: string): ShapeFactory {\n  const className = upperFirst(factoryName);\n  return ShapeFactoryMap[className];\n}\n","import { groupToMap } from '@antv/util';\nimport { Data } from '../../interface';\n\n/** @ignore */\nexport function group(data: Data, fields: string[], appendConditions: Record<string, any[]> = {}) {\n  if (!fields) {\n    return [data];\n  }\n  const groups = groupToMap(data, fields);\n  const array = [];\n  if (fields.length === 1 && appendConditions[fields[0]]) {\n    const values = appendConditions[fields[0]];\n    for (const value of values) {\n      const arr = groups[`_${value}`];\n      if (arr) {\n        //  values  arr  null\n        array.push(arr);\n      }\n    }\n  } else {\n    for (const k in groups) {\n      if (groups.hasOwnProperty(k)) {\n        const eachGroup = groups[k];\n        array.push(eachGroup);\n      }\n    }\n  }\n\n  return array;\n}\n","import { isEqual, some } from '@antv/util';\nimport { ShapeInfo } from '../../interface';\n\n/**\n * @ignore\n * Determines whether model is change\n * @param currentModel\n * @param preModel\n * @returns\n */\nexport function isModelChange(currentModel: ShapeInfo, preModel: ShapeInfo) {\n  return some(\n    ['color', 'shape', 'size', 'x', 'y', 'isInCircle', 'data', 'style', 'defaultStyle', 'points', 'mappingData'],\n    (key: string) => {\n      return !isEqual(currentModel[key], preModel[key]);\n    }\n  );\n}\n","import { isArray } from '@antv/util';\n\n/** @ignore */\nexport function parseFields(field: string | string[]): string[] {\n  if (isArray(field)) {\n    return field;\n  }\n\n  return field.split('*');\n}\n","/**\n *  added, updated, removed\n * @param keyItem  key-item  object \n * @param keys  array \n * @returns  added, updated, removed array  object\n */\nexport function diff(keyItem: Record<string, any>, keys: string[]) {\n  const added = [];\n  const updated = [];\n  const removed = [];\n  const keyIncluded = new Map<string, boolean>();\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    if (keyItem[key]) updated.push(key);\n    else added.push(key);\n    keyIncluded.set(key, true);\n  }\n\n  Object.keys(keyItem).forEach((key) => {\n    if (!keyIncluded.has(key)) removed.push(key);\n  });\n\n  return {\n    added,\n    updated,\n    removed,\n  };\n}\n","import { Adjust, getAdjust as getAdjustClass } from '@antv/adjust';\nimport { Attribute, getAttribute as getAttributeClass } from '@antv/attr';\nimport {\n  clone,\n  deepMix,\n  each,\n  flatten,\n  get,\n  isArray,\n  isEmpty,\n  isEqual,\n  isFunction,\n  isNil,\n  isNumber,\n  isObject,\n  isPlainObject,\n  isString,\n  set,\n} from '@antv/util';\nimport { doGroupAppearAnimate, getDefaultAnimateCfg } from '../animate';\nimport Base from '../base';\nimport { FIELD_ORIGIN, GEOMETRY_LIFE_CIRCLE, GROUP_ATTRS } from '../constant';\nimport { BBox, Coordinate, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AdjustOption,\n  AdjustType,\n  AnimateOption,\n  AttributeOption,\n  ColorAttrCallback,\n  Data,\n  Datum,\n  GeometryLabelCfg,\n  GeometryTooltipOption,\n  LabelCallback,\n  LabelOption,\n  LooseObject,\n  MappingDatum,\n  ScaleOption,\n  ShapeAttrCallback,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerCfg,\n  ShapeMarkerAttrs,\n  ShapePoint,\n  SizeAttrCallback,\n  StateOption,\n  StyleCallback,\n  StyleOption,\n  TooltipCallback,\n  CustomOption,\n} from '../interface';\nimport { uniq } from '../util/helper';\nimport Element from './element';\nimport { getGeometryLabel } from './label';\nimport GeometryLabel from './label/base';\nimport { getShapeFactory } from './shape/base';\nimport { group } from './util/group-data';\nimport { isModelChange } from './util/is-model-change';\nimport { parseFields } from './util/parse-fields';\nimport { diff } from './util/diff';\nimport { inferScaleType } from '../util/scale';\nimport { getXDimensionLength } from '../util/coordinate';\n\n/** @ignore */\ninterface AttributeInstanceCfg {\n  fields?: string[];\n  callback?: (...args) => any;\n  values?: string[] | number[];\n  scales?: Scale[];\n}\ninterface DimValuesMapType {\n  [dim: string]: number[];\n}\n/** @ignore */\ninterface AdjustInstanceCfg {\n  type: AdjustType;\n  adjustNames?: string[];\n  xField?: string;\n  yField?: string;\n\n  dodgeBy?: string;\n  marginRatio?: number;\n  dodgeRatio?: number;\n\n  size?: number;\n  height?: number;\n  reverseOrder?: boolean;\n\n  /** offset */\n  intervalPadding?: number;\n  dodgePadding?: number;\n  /** xpadding */\n  xDimensionLength?: number;\n  /** offset */\n  groupNum?: number;\n  /**  size */\n  defaultSize?: number;\n  /**  */\n  maxColumnWidth?: number;\n  minColumnWidth?: number;\n  /**  */\n  columnWidthRatio?: number;\n  /** dimValuesMap */\n  dimValuesMap?: DimValuesMapType;\n}\n\n/** geometry.init()  */\nexport interface InitCfg {\n  /**  */\n  coordinate?: Coordinate;\n  /**  */\n  data?: Data;\n  /**  */\n  theme?: LooseObject;\n  /**  */\n  scaleDefs?: Record<string, ScaleOption>;\n  /**  */\n  isDataChanged?: boolean;\n  isCoordinateChanged?: boolean;\n}\n\n/** Geometry  */\nexport interface GeometryCfg {\n  /** Geometry shape  */\n  container: IGroup;\n  /**  */\n  coordinate?: Coordinate;\n  /**  */\n  data?: Data;\n  /**  scales */\n  scales?: Record<string, Scale>;\n  /**  */\n  scaleDefs?: Record<string, ScaleOption>;\n  /** Geometry labels  */\n  labelsContainer?: IGroup;\n  /**  */\n  sortable?: boolean;\n  /** elements  zIndex  zIndexReversed  */\n  zIndexReversed?: boolean;\n  /**  zIndex  sort */\n  sortZIndex?: boolean;\n  /**  Geometry .  true ,  timeout  */\n  useDeferredLabel?: boolean | number;\n  /**  */\n  visible?: boolean;\n  /**  */\n  theme?: LooseObject;\n\n  /**  */\n  intervalPadding?: number;\n  /**  */\n  dodgePadding?: number;\n  /**  */\n  maxColumnWidth?: number;\n  /**  */\n  minColumnWidth?: number;\n  /** intervalschema */\n  columnWidthRatio?: number;\n  /**  */\n  roseWidthRatio?: number;\n  /** / */\n  multiplePieWidthRatio?: number;\n}\n\n/**\n * Geometry \n */\nexport default class Geometry<S extends ShapePoint = ShapePoint> extends Base {\n  /** Geometry  */\n  public readonly type: string = 'base';\n  /** ShapeFactory  */\n  public readonly shapeType: string;\n\n  //  Geometry \n  /** Coordinate  */\n  public coordinate: Coordinate;\n  /**  */\n  public data: Data;\n  /**  */\n  public readonly container: IGroup;\n  /** label  */\n  public readonly labelsContainer: IGroup;\n  /**  false  */\n  public sortable: boolean;\n  /**  Geometry   */\n  public theme: LooseObject;\n  /**  geometry  scales */\n  public scales: Record<string, Scale>;\n  /** scale  */\n  public scaleDefs: Record<string, ScaleOption>;\n  /**  label  */\n  public canvasRegion: BBox;\n\n  // \n  /** Attribute map  */\n  public attributes: Record<string, Attribute> = {};\n  /** Element map */\n  public elements: Element[] = [];\n  /**\n   * \n   * + init()  updateData() ,  Data[]\n   * + paint()  MappingDatum[][]\n   */\n  public dataArray: MappingDatum[][];\n  /**  tooltip  */\n  public tooltipOption: GeometryTooltipOption | boolean;\n  /**  label  */\n  public labelOption: LabelOption | false;\n  /**  */\n  public stateOption: StateOption;\n  /**  key-value  Elementkey  Element  ID */\n  public elementsMap: Record<string, Element> = {};\n  /** animate  */\n  public animateOption: AnimateOption | boolean = true;\n  /**  */\n  protected attributeOption: Record<string, AttributeOption> = {};\n  /** adjust  */\n  protected adjustOption: AdjustOption[];\n  /** style  */\n  protected styleOption: StyleOption;\n  /** custom  */\n  protected customOption: CustomOption;\n  /**  Geometry  Shape  Shape */\n  protected shapeFactory: ShapeFactory;\n  /**  element  */\n  protected lastElementsMap: Record<string, Element> = {};\n  /**  */\n  protected generatePoints: boolean = false;\n  /**  */\n  protected beforeMappingData: Data[] = null;\n  /**  shape  size IntervalSchema  */\n  protected defaultSize: number;\n\n  //  geometry \n  private userTheme: LooseObject;\n  private adjusts: Record<string, Adjust> = {};\n  private lastAttributeOption;\n  private idFields: string[] = [];\n  private geometryLabel: GeometryLabel;\n\n  // \n  /**  */\n  protected intervalPadding: number;\n  /**  */\n  protected dodgePadding: number;\n  /**  */\n  protected maxColumnWidth: number;\n  /**  */\n  protected minColumnWidth: number;\n  /**  */\n  protected columnWidthRatio: number;\n  /**  */\n  protected roseWidthRatio: number;\n  /** / */\n  protected multiplePieWidthRatio: number;\n  /** elements  zIndex  zIndexReversed  */\n  public zIndexReversed?: boolean;\n  /**  zIndex  sort */\n  public sortZIndex?: boolean;\n  protected useDeferredLabel?: null | number;\n\n  /**  Group */\n  private offscreenGroup: IGroup;\n  private groupScales: Scale[];\n  private hasSorted: boolean = false;\n  protected isCoordinateChanged: boolean = false;\n\n  /**\n   *  Geometry \n   * @param cfg\n   */\n  constructor(cfg: GeometryCfg) {\n    super(cfg);\n\n    const {\n      container,\n      labelsContainer,\n      coordinate,\n      data,\n      sortable = false,\n      visible = true,\n      theme,\n      scales = {},\n      scaleDefs = {},\n      // \n      intervalPadding,\n      dodgePadding,\n      maxColumnWidth,\n      minColumnWidth,\n      columnWidthRatio,\n      roseWidthRatio,\n      multiplePieWidthRatio,\n      zIndexReversed,\n      sortZIndex,\n      useDeferredLabel,\n    } = cfg;\n\n    this.container = container;\n    this.labelsContainer = labelsContainer;\n    this.coordinate = coordinate;\n    this.data = data;\n    this.sortable = sortable;\n    this.visible = visible;\n    this.userTheme = theme;\n    this.scales = scales;\n    this.scaleDefs = scaleDefs;\n    // \n    this.intervalPadding = intervalPadding;\n    this.dodgePadding = dodgePadding;\n    this.maxColumnWidth = maxColumnWidth;\n    this.minColumnWidth = minColumnWidth;\n    this.columnWidthRatio = columnWidthRatio;\n    this.roseWidthRatio = roseWidthRatio;\n    this.multiplePieWidthRatio = multiplePieWidthRatio;\n    this.zIndexReversed = zIndexReversed;\n    this.sortZIndex = sortZIndex;\n    this.useDeferredLabel = useDeferredLabel ? (typeof useDeferredLabel === 'number' ? useDeferredLabel : Infinity) : null;\n  }\n\n  /**\n   *  position \n   *\n   * @example\n   * ```typescript\n   * // : [{ x: 'A', y: 10, color: 'red' }]\n   * geometry.position('x*y');\n   * geometry.position([ 'x', 'y' ]);\n   * geometry.position({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   *\n   * @param cfg \n   * @returns\n   */\n  public position(cfg: string | string[] | AttributeOption): Geometry {\n    let positionCfg = cfg;\n    if (!isPlainObject(cfg)) {\n      // \n      positionCfg = {\n        fields: parseFields(cfg),\n      };\n    }\n\n    const fields = get(positionCfg, 'fields');\n    if (fields.length === 1) {\n      //  1*xx\n      fields.unshift('1');\n      set(positionCfg, 'fields', fields);\n    }\n    set(this.attributeOption, 'position', positionCfg);\n\n    return this;\n  }\n\n  /**\n   *  color \n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.color({\n   *   fields: [ 'x' ],\n   *   values: [ '#1890ff', '#5AD8A6' ],\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public color(field: AttributeOption): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * //  '#1890ff' \n   * geometry.color('#1890ff');\n   *\n   * //  x  G2 \n   * geometry.color('x');\n   *\n   * //  'x'  colors\n   * geometry.color('x', [ '#1890ff', '#5AD8A6' ]);\n   *\n   * // *\n   * geometry.color('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'red';\n   *   }\n   *   return 'blue';\n   * });\n   *\n   * // \n   * geometry.color('x', '#BAE7FF-#1890FF-#0050B3');\n   * ```\n   *\n   * @param field  '*' \n   * @param cfg Optional, color \n   * @returns\n   */\n  public color(field: string, cfg?: string | string[] | ColorAttrCallback): Geometry;\n  public color(field: AttributeOption | string, cfg?: string | string[] | ColorAttrCallback): Geometry {\n    this.createAttrOption('color', field, cfg);\n\n    return this;\n  }\n\n  /**\n   *  shape \n   *\n   * @example\n   *\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.shape({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public shape(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * //  shape\n   * geometry.shape('circle');\n   *\n   * //  shapes \n   * geometry.shape('x');\n   *\n   * //  shapes \n   * geometry.shape('x', [ 'circle', 'diamond', 'square' ]);\n   *\n   * //  shape shape \n   * geometry.shape('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'circle';\n   *   }\n   *   return 'diamond';\n   * });\n   * ```\n   *\n   * @param field  shape  '*' \n   * @param cfg Optional, shape \n   * @returns\n   */\n  public shape(field: string, cfg?: string[] | ShapeAttrCallback): Geometry;\n  public shape(field: AttributeOption | string, cfg?: string[] | ShapeAttrCallback): Geometry {\n    this.createAttrOption('shape', field, cfg);\n\n    return this;\n  }\n\n  /**\n   *  size \n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.size({\n   *   values: [ 10 ],\n   * })\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public size(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * // \n   * geometry.size(10);\n   *\n   * //  size  [1, 10]\n   * geometry.size('x');\n   *\n   * //  size  size \n   * geometry.size('x', [ 5, 30 ]);\n   *\n   * //  size size \n   * geometry.size('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 10;\n   *   }\n   *   return 5;\n   * });\n   * ```\n   *\n   * @param field  size  '*' \n   * @param cfg Optional, size \n   * @returns\n   */\n  public size(field: number | string, cfg?: [number, number] | SizeAttrCallback): Geometry;\n  public size(field: AttributeOption | number | string, cfg?: [number, number] | SizeAttrCallback): Geometry {\n    this.createAttrOption('size', field, cfg);\n\n    return this;\n  }\n\n  /**\n   * G2 \n   * 1. dodge\n   * 2. stack\n   * 3. symmetric\n   * 4. jitter\n   *\n   *\n   * **Tip**\n   * +  'dodge' :\n   * ```typescript\n   * geometry.adjust('dodge', {\n   *   marginRatio: 0, //  0  1 \n   *   dodgeBy: 'x', //  'dodge' \n   * });\n   * ```\n   *\n   * +  'stack' :\n   * ```typescript\n   * geometry.adjust('stack', {\n   *   reverseOrder: false, // \n   * });\n   * ```\n   *\n   * @example\n   * ```typescript\n   * geometry.adjust('stack');\n   *\n   * geometry.adjust({\n   *   type: 'stack',\n   *   reverseOrder: false,\n   * });\n   *\n   * //  adjust\n   * geometry.adjust([ 'stack', 'dodge' ]);\n   *\n   * geometry.adjust([\n   *   { type: 'stack' },\n   *   { type: 'dodge', dodgeBy: 'x' },\n   * ]);\n   * ```\n   *\n   * @param adjustCfg \n   * @returns\n   */\n  public adjust(adjustCfg: string | string[] | AdjustOption | AdjustOption[]): Geometry {\n    let adjusts: any = adjustCfg;\n    if (isString(adjustCfg) || isPlainObject(adjustCfg)) {\n      adjusts = [adjustCfg];\n    }\n    each(adjusts, (adjust, index) => {\n      if (!isObject(adjust)) {\n        adjusts[index] = { type: adjust };\n      }\n    });\n\n    this.adjustOption = adjusts;\n    return this;\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```typescript\n   * // \n   * style({\n   *   lineWidth: 2,\n   *   stroke: '#1890ff',\n   * });\n   *\n   * // \n   * style({\n   *   fields: [ 'x', 'y' ], // \n   *   callback: (xVal, yVal) => {\n   *     const style = { lineWidth: 2, stroke: '#1890ff' };\n   *     if (xVal === 'a') {\n   *       style.lineDash = [ 2, 2 ];\n   *     }\n   *     return style;\n   *   },\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public style(field: StyleOption | LooseObject): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * style('x*y', (xVal, yVal) => {\n   *   const style = { lineWidth: 2, stroke: '#1890ff' };\n   *   if (xVal === 'a') {\n   *     style.lineDash = [ 2, 2 ];\n   *   }\n   *   return style;\n   * });\n   * ```\n   *\n   * @param field \n   * @param styleFunc Optional, \n   * @returns\n   */\n  public style(field: string, styleFunc: StyleCallback): Geometry;\n  public style(field: StyleOption | LooseObject | string, styleFunc?: StyleCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.styleOption = {\n        fields,\n        callback: styleFunc,\n      };\n    } else {\n      const { fields, callback, cfg } = field as StyleOption;\n      if (fields || callback || cfg) {\n        this.styleOption = field;\n      } else {\n        this.styleOption = {\n          cfg: field,\n        };\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   *  Geometry  tooltip \n   *\n   * `tooltip(false)`  tooltip\n   * `tooltip(true)`  tooltip\n   *\n   * Geometry  tooltip  tooltip \n   *\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   * tooltip({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*268uQ50if60AAAAAAAAAAABkARQnAQ)\n   *\n   * ```typescript\n   * tooltip({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*A_ujSa8QhtcAAAAAAAAAAABkARQnAQ)\n   *\n   * tooltip() \n   *\n   * @example\n   * ```typescript\n   * chart.tooltip({\n   *   itemTpl: '<li>{x}: {y}</li>',\n   * });\n   *\n   * chart.line()\n   *   .position('x*y')\n   *   .tooltip({\n   *     fields: [ 'x', 'y' ],\n   *     callback: (x, y) => {\n   *       return {\n   *         x,\n   *         y,\n   *       };\n   *     },\n   *   });\n   * ```\n   *\n   *  chart.tooltip()  itemTpl  itemTpl \n   *\n   * @param field tooltip \n   * @returns\n   */\n  public tooltip(field: GeometryTooltipOption | boolean): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   *\n   * //  tooltip({ fields: [ 'x' ] })\n   * tooltip('x');\n   *\n   * //  tooltip({ fields: [ 'x', 'y' ] })\n   * tooltip('x*y');\n   *\n   * //  tooltip({ fields: [ 'x', 'y' ], callback: (x, y) => { x, y } })\n   * tooltip('x*y', (x, y) => {\n   *   return {\n   *     x,\n   *     y,\n   *   };\n   * });\n   * ```\n   *\n   * @param field \n   * @param cfg Optional, \n   * @returns\n   */\n  public tooltip(field: string, cfg?: TooltipCallback): Geometry;\n  public tooltip(field: GeometryTooltipOption | boolean | string, cfg?: TooltipCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.tooltipOption = {\n        fields,\n        callback: cfg,\n      };\n    } else {\n      this.tooltipOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * Geometry \n   *\n   * + `animate(false)` \n   * + `animate(true)` \n   *\n   * \n   * 1. appear: \n   * 2. enter: \n   * 3. update: \n   * 4. leave: \n   *\n   * @example\n   * ```typescript\n   * animate({\n   *   enter: {\n   *     duration: 1000, // enter \n   *   },\n   *   leave: false, //  leave \n   * });\n   * ```\n   *\n   * @param cfg \n   * @returns\n   */\n  public animate(cfg: AnimateOption | boolean): Geometry {\n    this.animateOption = cfg;\n    return this;\n  }\n\n  /**\n   * Geometry label \n   *\n   * @example\n   * ```ts\n   * // data: [ {x: 1, y: 2, z: 'a'}, {x: 2, y: 2, z: 'b'} ]\n   * //  z \n   * label({\n   *   fields: [ 'z' ]\n   * });\n   *\n   * label(false); //  label\n   *\n   * //  x \n   * label('x', {\n   *   style: {\n   *     fill: 'red',\n   *   },\n   * })\n   *\n   * //  type  label  x \n   * label('x', (xValue) => {\n   *   return {\n   *     content: xValue + '%',\n   *   };\n   * }, {\n   *   type: 'base' //  label \n   * })\n   * ```\n   *\n   * @param field\n   * @returns label\n   */\n  public label(field: LabelOption | false | string): Geometry;\n  public label(field: string, secondParam: GeometryLabelCfg | LabelCallback): Geometry;\n  public label(field: string, secondParam: LabelCallback, thirdParam: GeometryLabelCfg): Geometry;\n  public label(\n    field: string | LabelOption | false,\n    secondParam?: GeometryLabelCfg | LabelCallback,\n    thirdParam?: GeometryLabelCfg\n  ): Geometry {\n    if (isString(field)) {\n      const labelOption: LabelOption = {};\n      const fields = parseFields(field);\n      labelOption.fields = fields;\n      if (isFunction(secondParam)) {\n        labelOption.callback = secondParam;\n      } else if (isPlainObject(secondParam)) {\n        labelOption.cfg = secondParam;\n      }\n\n      if (thirdParam) {\n        labelOption.cfg = thirdParam;\n      }\n      this.labelOption = labelOption;\n    } else {\n      this.labelOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * chart.interval().state({\n   *   selected: {\n   *     animate: { duration: 100, easing: 'easeLinear' },\n   *     style: {\n   *       lineWidth: 2,\n   *       stroke: '#000',\n   *     },\n   *   },\n   * });\n   * ```\n   *\n   *  shape  shape  G.Group  group  shape\n   *  group  shape  'name' (shape.set('name', 'xx')) 'name'  key shape   key\n   *\n   * ```ts\n   * chart.interval().shape('groupShape').state({\n   *   selected: {\n   *     style: {\n   *       0: { lineWidth: 2 },\n   *       1: { fillOpacity: 1 },\n   *     }\n   *   }\n   * });\n   * ```\n   *\n   * @param cfg \n   */\n  public state(cfg: StateOption) {\n    this.stateOption = cfg;\n    return this;\n  }\n\n  /**\n   *  shape  shape  shape  shape \n   *\n   * @example\n   * ```ts\n   * chart.interval().customInfo({ yourData: 'hello, g2!' });\n   * ```\n   *\n   *  shape \n   *\n   * ```ts\n   * registerShape('interval', 'your-shape', {\n   *   draw(shapeInfo, container) {\n   *     const { customInfo } = shapeInfo;\n   *     console.log(customInfo); // will log { yourData: 'hello, g2!' }.\n   *   }\n   * });\n   * ```\n   *\n   * @param cfg\n   */\n  public customInfo(cfg: any) {\n    this.customOption = cfg;\n    return this;\n  }\n\n  /**\n   *  Geomtry \n   *  [[Attribute]] and [[Scale]] \n   */\n  public init(cfg: InitCfg = {}) {\n    this.setCfg(cfg);\n    this.initAttributes(); // \n\n    //  ->  -> adjust\n    this.processData(this.data);\n\n    //  scale\n    this.adjustScale();\n  }\n\n  /**\n   * Geometry \n   * @param [cfg] \n   */\n  public update(cfg: InitCfg = {}) {\n    const { data, isDataChanged, isCoordinateChanged } = cfg;\n    const { attributeOption, lastAttributeOption } = this;\n\n    if (!isEqual(attributeOption, lastAttributeOption)) {\n      // \n      this.init(cfg);\n    } else if (data && (isDataChanged || !isEqual(data, this.data))) {\n      // \n      this.setCfg(cfg);\n      this.initAttributes(); // \n      this.processData(data); //  ->  -> adjust\n    } else {\n      //  coordinate \n      this.setCfg(cfg);\n    }\n\n    //  scale\n    this.adjustScale();\n    this.isCoordinateChanged = isCoordinateChanged;\n  }\n\n  /**\n   * \n   */\n  public paint(isUpdate: boolean = false) {\n    if (this.animateOption) {\n      this.animateOption = deepMix({}, getDefaultAnimateCfg(this.type, this.coordinate), this.animateOption);\n    }\n\n    this.defaultSize = undefined;\n    this.elementsMap = {};\n    this.elements = [];\n    const offscreenGroup = this.getOffscreenGroup();\n    offscreenGroup.clear();\n\n    const beforeMappingData = this.beforeMappingData;\n    const dataArray = this.beforeMapping(beforeMappingData);\n\n    this.dataArray = new Array(dataArray.length);\n    for (let i = 0; i < dataArray.length; i++) {\n      const data = dataArray[i];\n      this.dataArray[i] = this.mapping(data);\n    }\n    this.updateElements(this.dataArray, isUpdate);\n    this.lastElementsMap = this.elementsMap;\n\n    if (this.canDoGroupAnimation(isUpdate)) {\n      //  appear.animation\n      const container = this.container;\n      const type = this.type;\n      const coordinate = this.coordinate;\n      const animateCfg = get(this.animateOption, 'appear');\n      const yScale = this.getYScale();\n      const yMinPoint = coordinate.convert({\n        x: 0,\n        y: yScale.scale(this.getYMinValue()),\n      });\n      doGroupAppearAnimate(container, animateCfg, type, coordinate, yMinPoint);\n    }\n\n    //  label\n    if (this.labelOption) {\n      const deferred = this.useDeferredLabel;\n      const callback = (() => this.renderLabels(flatten(this.dataArray) as unknown as MappingDatum[], isUpdate)).bind(this);\n      if (typeof deferred === 'number') {\n        // Use `requestIdleCallback` to render labels in idle time (like react fiber)\n        const timeout = (typeof deferred === 'number' && deferred !== Infinity) ? deferred : 0;\n        if (!window.requestIdleCallback) {\n          setTimeout(callback, timeout);\n        } else {\n          const options = timeout && timeout !== Infinity ? { timeout } : undefined;\n          window.requestIdleCallback(callback, options);\n        }\n      } else {\n        callback();\n      }\n    }\n\n    // \n    this.lastAttributeOption = {\n      ...this.attributeOption,\n    };\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   *  Geometry\n   * @override\n   */\n  public clear() {\n    const { container, geometryLabel, offscreenGroup } = this;\n    if (container) {\n      container.clear();\n    }\n\n    if (geometryLabel) {\n      geometryLabel.clear();\n    }\n\n    if (offscreenGroup) {\n      offscreenGroup.clear();\n    }\n\n    // \n    this.scaleDefs = undefined;\n    this.attributes = {};\n    this.scales = {};\n    this.elementsMap = {};\n    this.lastElementsMap = {};\n    this.elements = [];\n    this.adjusts = {};\n    this.dataArray = null;\n    this.beforeMappingData = null;\n    this.lastAttributeOption = undefined;\n    this.defaultSize = undefined;\n    this.idFields = [];\n    this.groupScales = undefined;\n    this.hasSorted = false;\n    this.isCoordinateChanged = false;\n  }\n\n  /**\n   *  Geometry \n   */\n  public destroy() {\n    this.clear();\n    const container = this.container;\n    container.remove(true);\n\n    if (this.offscreenGroup) {\n      this.offscreenGroup.remove(true);\n      this.offscreenGroup = null;\n    }\n\n    if (this.geometryLabel) {\n      this.geometryLabel.destroy();\n      this.geometryLabel = null;\n    }\n    this.theme = undefined;\n    this.shapeFactory = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   *  scale \n   * @returns\n   */\n  public getGroupScales(): Scale[] {\n    return this.groupScales;\n  }\n\n  /**\n   * \n   */\n  public getAttribute(name: string): Attribute {\n    return this.attributes[name];\n  }\n\n  /**  x  scale  */\n  public getXScale(): Scale {\n    return this.getAttribute('position').scales[0];\n  }\n\n  /**  y  scale  */\n  public getYScale(): Scale {\n    return this.getAttribute('position').scales[1];\n  }\n\n  /**\n   * \n   */\n  public getGroupAttributes(): Attribute[] {\n    const rst = [];\n    each(this.attributes, (attr: Attribute) => {\n      if (GROUP_ATTRS.includes(attr.type)) {\n        rst.push(attr);\n      }\n    });\n    return rst;\n  }\n\n  /**  */\n  public getDefaultValue(attrName: string) {\n    let value: any;\n    const attr = this.getAttribute(attrName);\n    if (attr && isEmpty(attr.scales)) {\n      // \n      value = attr.values[0];\n    }\n    return value;\n  }\n\n  /**\n   *  Attribute \n   * @param attr Attribute \n   * @param obj \n   * @returns\n   */\n  public getAttributeValues(attr: Attribute, obj: Datum) {\n    const params = [];\n    const scales = attr.scales;\n    for (let index = 0, length = scales.length; index < length; index++) {\n      const scale = scales[index];\n      const field = scale.field;\n      if (scale.isIdentity) {\n        params.push(scale.values);\n      } else {\n        params.push(obj[field]);\n      }\n    }\n\n    return attr.mapping(...params);\n  }\n\n  /**\n   *  adjust \n   * @param adjustType\n   * @returns\n   */\n  public getAdjust(adjustType: string) {\n    return this.adjusts[adjustType];\n  }\n\n  /**\n   *  coordinate \n   * @returns\n   */\n  public getCoordinate() {\n    return this.coordinate;\n  }\n\n  public getData() {\n    return this.data;\n  }\n\n  /**\n   *  shape  marker \n   * @param shapeName shape \n   * @param cfg marker \n   * @returns\n   */\n  public getShapeMarker(shapeName: string, cfg: ShapeMarkerCfg): ShapeMarkerAttrs {\n    const shapeFactory = this.getShapeFactory();\n    return shapeFactory.getMarker(shapeName, cfg);\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElementsBy((element) => {\n   *   const data = element.getData();\n   *\n   *   return data.a === 'a';\n   * });\n   * ```\n   *\n   * @param condition \n   * @returns\n   */\n  public getElementsBy(condition: (element: Element) => boolean): Element[] {\n    return this.elements.filter((element) => condition(element));\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElements();\n   * ```\n   */\n  public getElements() {\n    return this.elements;\n  }\n\n  /**\n   *  id\n   * @param data Element \n   * @returns\n   */\n  public getElementId(data: MappingDatum | MappingDatum[]) {\n    data = isArray(data) ? data[0] : data;\n    const originData = data[FIELD_ORIGIN];\n\n    //  id \n    if (this.idFields.length) {\n      let elementId = originData[this.idFields[0]];\n      for (let index = 1; index < this.idFields.length; index++) {\n        elementId += '-' + originData[this.idFields[index]];\n      }\n\n      return elementId;\n    }\n\n    const type = this.type;\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const xField = xScale.field || 'x';\n    const yField = yScale.field || 'y';\n    const yVal = originData[yField];\n    let xVal;\n    if (xScale.type === 'identity') {\n      xVal = xScale.values[0];\n    } else {\n      xVal = originData[xField];\n    }\n\n    let id: string;\n    if (type === 'interval' || type === 'schema') {\n      id = `${xVal}`;\n    } else if (type === 'line' || type === 'area' || type === 'path') {\n      id = type;\n    } else {\n      id = `${xVal}-${yVal}`;\n    }\n\n    const groupScales = this.groupScales;\n\n    for (let index = 0, length = groupScales.length; index < length; index++) {\n      const groupScale = groupScales[index];\n      const field = groupScale.field;\n      id = `${id}-${originData[field]}`;\n    }\n\n    //  dodge  adjust  dodgeBy \n    const dodgeAdjust = this.getAdjust('dodge');\n    if (dodgeAdjust) {\n      const dodgeBy = dodgeAdjust.dodgeBy;\n      if (dodgeBy) {\n        id = `${id}-${originData[dodgeBy]}`;\n      }\n    }\n\n    if (this.getAdjust('jitter')) {\n      id = `${id}-${data.x}-${data.y}`;\n    }\n\n    return id;\n  }\n\n  /**\n   *  scale \n   */\n  public getScaleFields(): string[] {\n    const fields = [];\n    const tmpMap = new Map();\n    const { attributeOption, labelOption, tooltipOption } = this;\n    //  fields\n    for (const attributeType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attributeType)) {\n        const eachOpt = attributeOption[attributeType];\n        if (eachOpt.fields) {\n          uniq(eachOpt.fields, fields, tmpMap);\n        } else if (eachOpt.values) {\n          //  size(10), shape('circle') \n          uniq(eachOpt.values, fields, tmpMap);\n        }\n      }\n    }\n    //  label \n    if (labelOption && labelOption.fields) {\n      uniq(labelOption.fields, fields, tmpMap);\n    }\n\n    //  tooltip \n    if (isObject(tooltipOption) && tooltipOption.fields) {\n      uniq(tooltipOption.fields, fields, tmpMap);\n    }\n\n    return fields;\n  }\n\n  /**\n   *  geometry\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n    const elements = this.elements;\n    for (let index = 0, length = elements.length; index < length; index++) {\n      const element = elements[index];\n      element.changeVisible(visible);\n    }\n    if (visible) {\n      if (this.container) {\n        this.container.show();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.show();\n      }\n    } else {\n      if (this.container) {\n        this.container.hide();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.hide();\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public getFields() {\n    const uniqMap = new Map<string, boolean>();\n    const fields = [];\n\n    Object.values(this.attributeOption).forEach((cfg) => {\n      const fs = cfg?.fields || [];\n      fs.forEach((f) => {\n        if (!uniqMap.has(f)) {\n          fields.push(f);\n        }\n        uniqMap.set(f, true);\n      });\n    }, []);\n\n    return fields;\n  }\n\n  /**\n   *  & \n   * @return fields string[]\n   */\n  public getGroupFields(): string[] {\n    const groupFields = [];\n    const tmpMap = new Map(); // \n    for (let index = 0, length = GROUP_ATTRS.length; index < length; index++) {\n      const attributeName = GROUP_ATTRS[index];\n      const cfg = this.attributeOption[attributeName];\n      if (cfg && cfg.fields) {\n        uniq(cfg.fields, groupFields, tmpMap);\n      }\n    }\n\n    return groupFields;\n  }\n\n  /**\n   *  x y \n   */\n  public getXYFields() {\n    const [x, y] = this.attributeOption.position.fields;\n    return [x, y];\n  }\n\n  /**\n   * x \n   * @returns\n   */\n  public getXField(): string {\n    return get(this.getXYFields(), [0]);\n  }\n\n  /**\n   * y \n   * @returns\n   */\n  public getYField(): string {\n    return get(this.getXYFields(), [1]);\n  }\n\n  /**\n   *  Geometry  shapes\n   * @returns shapes\n   */\n  public getShapes(): (IShape | IGroup)[] {\n    return this.elements.map((element: Element) => element.shape);\n  }\n\n  /**\n   *  Group\n   * @returns\n   */\n  public getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // \n      this.offscreenGroup = new GroupCtor({});\n    }\n    return this.offscreenGroup;\n  }\n\n  // \n  public sort(mappingArray: Data[]) {\n    if (!this.hasSorted) {\n      // \n      const xScale = this.getXScale();\n      const xField = xScale.field;\n      for (let index = 0; index < mappingArray.length; index++) {\n        const itemArr = mappingArray[index];\n        itemArr.sort((obj1: Datum, obj2: Datum) => {\n          return xScale.translate(obj1[FIELD_ORIGIN][xField]) - xScale.translate(obj2[FIELD_ORIGIN][xField]);\n        });\n      }\n    }\n\n    this.hasSorted = true;\n  }\n\n  /**\n   *  Geometry Interval  Y  0 \n   */\n  protected adjustScale() {\n    const yScale = this.getYScale();\n    //  stack adjust yScale \n    if (yScale && this.getAdjust('stack')) {\n      this.updateStackRange(yScale, this.beforeMappingData);\n    }\n  }\n\n  /**\n   *  Geometry  Shape \n   */\n  protected getShapeFactory() {\n    const shapeType = this.shapeType;\n    if (!getShapeFactory(shapeType)) {\n      return;\n    }\n    if (!this.shapeFactory) {\n      this.shapeFactory = clone(getShapeFactory(shapeType)); //  view  shapeFactory  coordinate \n    }\n    //  shapeFactory coordinate shapeFactory \n    this.shapeFactory.coordinate = this.coordinate;\n    // theme \n    this.shapeFactory.theme = this.theme.geometries[shapeType] || {};\n\n    return this.shapeFactory;\n  }\n\n  /**\n   *  Shape \n   * @param obj  ->  -> adjust \n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum): S {\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const x = this.normalizeValues(obj[xScale.field], xScale);\n    let y; //  y \n\n    if (yScale) {\n      y = this.normalizeValues(obj[yScale.field], yScale);\n    } else {\n      y = obj.y ? obj.y : 0.1;\n    }\n\n    return {\n      x,\n      y,\n      y0: yScale ? yScale.scale(this.getYMinValue()) : undefined,\n    } as S;\n  }\n\n  /**\n   *  Element \n   * @param mappingDatum Element \n   * @param [isUpdate] \n   * @returns element  Element \n   */\n  protected createElement(mappingDatum: MappingDatum, index: number, isUpdate: boolean = false): Element {\n    const { container } = this;\n\n    const shapeCfg = this.getDrawCfg(mappingDatum); // \n    const shapeFactory = this.getShapeFactory();\n\n    const element = new Element({\n      shapeFactory,\n      container,\n      offscreenGroup: this.getOffscreenGroup(),\n      elementIndex: index,\n    });\n    element.animate = this.animateOption;\n    element.geometry = this;\n    element.draw(shapeCfg, isUpdate); // \n\n    return element;\n  }\n\n  /**\n   * \n   * @param mappingDatum \n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const originData = mappingDatum[FIELD_ORIGIN]; // \n    const cfg: ShapeInfo = {\n      mappingData: mappingDatum, // \n      data: originData, // \n      x: mappingDatum.x,\n      y: mappingDatum.y,\n      color: mappingDatum.color,\n      size: mappingDatum.size,\n      isInCircle: this.coordinate.isPolar,\n      customInfo: this.customOption,\n    };\n\n    let shapeName = mappingDatum.shape;\n    if (!shapeName && this.getShapeFactory()) {\n      shapeName = this.getShapeFactory().defaultShapeType;\n    }\n    cfg.shape = shapeName;\n    // \n    const theme = this.theme.geometries[this.shapeType];\n    cfg.defaultStyle = get(theme, [shapeName, 'default'], {}).style;\n    if (!cfg.defaultStyle && this.getShapeFactory()) {\n      cfg.defaultStyle = this.getShapeFactory().getDefaultStyle(theme);\n    }\n\n    const styleOption = this.styleOption;\n    if (styleOption) {\n      cfg.style = this.getStyleCfg(styleOption, originData);\n    }\n    if (this.generatePoints) {\n      cfg.points = mappingDatum.points;\n      cfg.nextPoints = mappingDatum.nextPoints;\n    }\n\n    return cfg;\n  }\n\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false): void {\n    const keyDatum = new Map<string, MappingDatum>();\n    const keys: string[] = [];\n\n    //  diff  added, updated \n    const keyIndex = new Map<string, number>();\n    let index = 0;\n\n    //  keys\n    //  key \n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      for (let j = 0; j < mappingData.length; j++) {\n        const mappingDatum = mappingData[j];\n        const key = this.getElementId(mappingDatum);\n        const finalKey = keyDatum.has(key) ? `${key}-${i}-${j}` : key;\n        keys.push(finalKey);\n        keyDatum.set(finalKey, mappingDatum);\n        keyIndex.set(finalKey, index);\n        index++;\n      }\n    }\n\n    this.elements = new Array(index);\n\n    const { added, updated, removed } = diff(this.lastElementsMap, keys);\n\n    //  element\n    for (const key of added) {\n      const mappingDatum = keyDatum.get(key);\n      const i = keyIndex.get(key);\n      const element = this.createElement(mappingDatum, i, isUpdate);\n      this.elements[i] = element;\n      this.elementsMap[key] = element;\n      if (element.shape) {\n        element.shape.set('zIndex', this.zIndexReversed ? this.elements.length - i : i);\n      }\n    }\n\n    //  element\n    for (const key of updated) {\n      const element = this.lastElementsMap[key];\n      const mappingDatum = keyDatum.get(key);\n      const currentShapeCfg = this.getDrawCfg(mappingDatum);\n      const preShapeCfg = element.getModel();\n      const i = keyIndex.get(key);\n      if (this.isCoordinateChanged || isModelChange(currentShapeCfg, preShapeCfg)) {\n        element.animate = this.animateOption;\n        // \n        element.update(currentShapeCfg); //  element\n      }\n      this.elements[i] = element;\n      this.elementsMap[key] = element;\n      if (element.shape) {\n        element.shape.set('zIndex', this.zIndexReversed ? this.elements.length - i : i);\n      }\n    }\n\n    //  setZIndex  sort\n    if (this.container) {\n      this.container.sort();\n    }\n\n    //  elements\n    for (const key of removed) {\n      const element = this.lastElementsMap[key];\n      // \n      element.animate = this.animateOption;\n      element.destroy();\n    }\n  }\n\n  /**\n   *  label \n   */\n  protected getLabelType(): string {\n    const { labelOption, coordinate, type } = this;\n    const { type: coordinateType, isTransposed } = coordinate;\n    let labelType = get(labelOption, ['cfg', 'type']);\n    if (!labelType) {\n      // \n      if (coordinateType === 'polar') {\n        // \n        labelType = isTransposed ? 'pie' : 'polar';\n      } else if (coordinateType === 'theta') {\n        // theta \n        labelType = 'pie';\n      } else if (type === 'interval' || type === 'polygon') {\n        labelType = 'interval';\n      } else {\n        labelType = 'base';\n      }\n    }\n\n    return labelType;\n  }\n\n  /**\n   *  Y \n   */\n  protected getYMinValue(): number {\n    const yScale = this.getYScale();\n    const { min, max } = yScale;\n    let value: number;\n\n    if (min >= 0) {\n      value = min;\n    } else if (max <= 0) {\n      //  ymin  0\n      value = max;\n    } else {\n      value = 0;\n    }\n    return value;\n  }\n\n  // \n  protected createAttrOption(attrName: string, field: AttributeOption | string | number, cfg?) {\n    if (isNil(field) || isObject(field)) {\n      if (isObject(field) && isEqual(Object.keys(field), ['values'])) {\n        // shape({ values: [ 'funnel' ] })\n        set(this.attributeOption, attrName, {\n          fields: field.values,\n        });\n      } else {\n        set(this.attributeOption, attrName, field);\n      }\n    } else {\n      const attrCfg: AttributeOption = {};\n      if (isNumber(field)) {\n        // size(3)\n        attrCfg.values = [field];\n      } else {\n        attrCfg.fields = parseFields(field);\n      }\n\n      if (cfg) {\n        if (isFunction(cfg)) {\n          attrCfg.callback = cfg;\n        } else {\n          attrCfg.values = cfg;\n        }\n      }\n\n      set(this.attributeOption, attrName, attrCfg);\n    }\n  }\n\n  protected initAttributes() {\n    const { attributes, attributeOption, theme, shapeType } = this;\n    this.groupScales = [];\n    const tmpMap = {};\n\n    //  attrOption Attribute \n    for (const attrType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attrType)) {\n        const option: AttributeOption = attributeOption[attrType];\n        if (!option) {\n          return;\n        }\n        const attrCfg: AttributeInstanceCfg = {\n          ...option,\n        };\n        const { callback, values, fields = [] } = attrCfg;\n\n        //  scale\n        const scales = fields.map((field) => {\n          const scale = this.scales[field];\n          if (!tmpMap[field] && GROUP_ATTRS.includes(attrType)) {\n            const inferedScaleType = inferScaleType(scale, get(this.scaleDefs, field), attrType, this.type);\n            if (inferedScaleType === 'cat') {\n              this.groupScales.push(scale);\n              tmpMap[field] = true;\n            }\n          }\n          return scale;\n        });\n\n        attrCfg.scales = scales;\n\n        if (attrType !== 'position' && scales.length === 1 && scales[0].type === 'identity') {\n          //  color('red'), size(5)\n          attrCfg.values = scales[0].values;\n        } else if (!callback && !values) {\n          // \n          if (attrType === 'size') {\n            attrCfg.values = theme.sizes;\n          } else if (attrType === 'shape') {\n            attrCfg.values = theme.shapes[shapeType] || [];\n          } else if (attrType === 'color') {\n            if (scales.length) {\n              // \n              attrCfg.values = scales[0].values.length <= 10 ? theme.colors10 : theme.colors20;\n            } else {\n              attrCfg.values = theme.colors10;\n            }\n          }\n        }\n        const AttributeCtor = getAttributeClass(attrType);\n        attributes[attrType] = new AttributeCtor(attrCfg);\n      }\n    }\n  }\n\n  //  ->  -> adjust \n  private processData(data: Data) {\n    this.hasSorted = false;\n    const { scales } = this.getAttribute('position');\n    const categoryScales = scales.filter((scale: Scale) => scale.isCategory);\n\n    const groupedArray = this.groupData(data); // \n    const beforeAdjust = [];\n    for (let i = 0, len = groupedArray.length; i < len; i++) {\n      const subData = groupedArray[i];\n      const arr = [];\n      for (let j = 0, subLen = subData.length; j < subLen; j++) {\n        const originData = subData[j];\n        const item = {};\n        // tslint:disable-next-line: forin\n        for (const k in originData) {\n          item[k] = originData[k];\n        }\n        item[FIELD_ORIGIN] = originData;\n\n        // , \n        for (const scale of categoryScales) {\n          const field = scale.field;\n          item[field] = scale.translate(item[field]);\n        }\n        arr.push(item);\n      }\n      beforeAdjust.push(arr);\n    }\n\n    const dataArray = this.adjustData(beforeAdjust); //  adjust \n    this.beforeMappingData = dataArray;\n\n    return dataArray;\n  }\n\n  // \n  private adjustData(dataArray: Data[]): Data[] {\n    const adjustOption = this.adjustOption;\n    const { intervalPadding, dodgePadding, theme } = this;\n    // theme\n    const maxColumnWidth = this.maxColumnWidth || theme.maxColumnWidth;\n    const minColumnWidth = this.minColumnWidth || theme.minColumnWidth;\n    const columnWidthRatio = this.columnWidthRatio || theme.columnWidthRatio;\n    let result = dataArray;\n\n    if (adjustOption) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xField = xScale.field;\n      const yField = yScale ? yScale.field : null;\n      const xDimensionLength = getXDimensionLength(this.coordinate);\n      const groupNum = xScale.values.length;\n      // size\n      const sizeAttr = this.getAttribute('size');\n      let defaultSize;\n      if (sizeAttr) {\n        defaultSize = sizeAttr.values[0];\n      }\n      for (let i = 0, len = adjustOption.length; i < len; i++) {\n        const adjust = adjustOption[i];\n        const adjustCfg: AdjustInstanceCfg = {\n          xField,\n          yField,\n          intervalPadding,\n          dodgePadding,\n          xDimensionLength,\n          groupNum,\n          defaultSize,\n          maxColumnWidth,\n          minColumnWidth,\n          columnWidthRatio,\n          ...adjust,\n        };\n        const type = adjust.type;\n        if (type === 'dodge') {\n          const adjustNames = [];\n          if (xScale.isCategory || xScale.type === 'identity') {\n            adjustNames.push('x');\n          } else if (!yScale) {\n            adjustNames.push('y');\n          } else {\n            throw new Error('dodge is not support linear attribute, please use category attribute!');\n          }\n          adjustCfg.adjustNames = adjustNames;\n          //  columnWidthRatio \n          // theme\n          adjustCfg.dodgeRatio = columnWidthRatio;\n        } else if (type === 'stack') {\n          const coordinate = this.coordinate;\n          if (!yScale) {\n            // size\n            adjustCfg.height = coordinate.getHeight();\n            const size = this.getDefaultValue('size') || 3;\n            adjustCfg.size = size;\n          }\n          //  transpose \n          if (!coordinate.isTransposed && isNil(adjustCfg.reverseOrder)) {\n            adjustCfg.reverseOrder = true;\n          }\n        }\n        const adjustCtor = getAdjustClass(type);\n        adjustCfg.dimValuesMap = {};\n        //dimValuesMap\n        if (xScale && xScale.values) {\n          adjustCfg.dimValuesMap[xScale.field] = xScale.values.map((v) => xScale.translate(v));\n        }\n        const adjustInstance = new adjustCtor(adjustCfg);\n\n        result = adjustInstance.process(result);\n\n        this.adjusts[type] = adjustInstance;\n      }\n    }\n\n    return result;\n  }\n\n  // \n  private groupData(data: Data): Data[] {\n    const groupScales = this.getGroupScales();\n    const scaleDefs = this.scaleDefs;\n    const appendConditions = {};\n    const groupFields = [];\n    for (let index = 0; index < groupScales.length; index++) {\n      const scale = groupScales[index];\n      const field = scale.field;\n      groupFields.push(field);\n      if (get(scaleDefs, [field, 'values'])) {\n        //  view.scale()  values \n        appendConditions[field] = scaleDefs[field].values;\n      }\n    }\n\n    return group(data, groupFields, appendConditions);\n  }\n\n  // \n  private updateStackRange(scale: Scale, dataArray: Data[]) {\n    const mergeArray = flatten(dataArray);\n    const field = scale.field;\n    let min = scale.min;\n    let max = scale.max;\n    for (let index = 0; index < mergeArray.length; index++) {\n      const obj = mergeArray[index];\n      const tmpMin = Math.min.apply(null, obj[field]);\n      const tmpMax = Math.max.apply(null, obj[field]);\n      if (tmpMin < min) {\n        min = tmpMin;\n      }\n      if (tmpMax > max) {\n        max = tmpMax;\n      }\n    }\n    const scaleDefs = this.scaleDefs;\n    const cfg: LooseObject = {};\n    if (min < scale.min && !get(scaleDefs, [field, 'min'])) {\n      //  min\n      cfg.min = min;\n    }\n    if (max > scale.max && !get(scaleDefs, [field, 'max'])) {\n      //  max\n      cfg.max = max;\n    }\n\n    scale.change(cfg);\n  }\n\n  // \n  private beforeMapping(beforeMappingData: Data[]) {\n    //  clone  points  clone\n    // const source = clone(beforeMappingData);\n    const source = beforeMappingData;\n    if (this.sortable) {\n      this.sort(source);\n    }\n    if (this.generatePoints) {\n      // \n      for (let index = 0, length = source.length; index < length; index++) {\n        const currentData = source[index];\n        this.generateShapePoints(currentData);\n        const nextData = source[index + 1];\n        if (nextData) {\n          this.generateShapePoints(nextData);\n          currentData[0].nextPoints = nextData[0].points;\n        }\n      }\n    }\n\n    return source;\n  }\n\n  //  shape \n  private generateShapePoints(data: Data) {\n    const shapeFactory = this.getShapeFactory();\n    const shapeAttr = this.getAttribute('shape');\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const cfg = this.createShapePointsCfg(obj);\n      const shape = shapeAttr ? this.getAttributeValues(shapeAttr, obj) : null;\n      const points = shapeFactory.getShapePoints(shape, cfg);\n      obj.points = points;\n    }\n  }\n\n  // \n  private normalizeValues(values, scale) {\n    let rst = [];\n    if (isArray(values)) {\n      for (let index = 0; index < values.length; index++) {\n        const value = values[index];\n        rst.push(scale.scale(value));\n      }\n    } else {\n      rst = scale.scale(values);\n    }\n    return rst;\n  }\n\n  // \n  private mapping(data: Data): MappingDatum[] {\n    const attributes = this.attributes;\n    const mappingData = [];\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const newRecord: MappingDatum = {\n        _origin: record[FIELD_ORIGIN],\n        points: record.points,\n        nextPoints: record.nextPoints,\n      };\n      for (const k in attributes) {\n        if (attributes.hasOwnProperty(k)) {\n          const attr = attributes[k];\n          const names = attr.names;\n          const values = this.getAttributeValues(attr, record);\n          if (names.length > 1) {\n            // position \n            for (let j = 0; j < values.length; j += 1) {\n              const val = values[j];\n              const name = names[j];\n              newRecord[name] = isArray(val) && val.length === 1 ? val[0] : val; // \n            }\n          } else {\n            // values.length === 1 \n            // shape('a', ['dot', 'dash']), color('a', ['red', 'yellow'])\n            newRecord[names[0]] = values.length === 1 ? values[0] : values;\n          }\n        }\n      }\n\n      this.convertPoint(newRecord); //  xy \n      mappingData.push(newRecord);\n    }\n\n    return mappingData;\n  }\n\n  // \n  private convertPoint(mappingRecord: MappingDatum) {\n    const { x, y } = mappingRecord;\n\n    let rstX;\n    let rstY;\n    let obj;\n    const coordinate = this.coordinate;\n    if (isArray(x) && isArray(y)) {\n      rstX = [];\n      rstY = [];\n      for (let i = 0, j = 0, xLen = x.length, yLen = y.length; i < xLen && j < yLen; i += 1, j += 1) {\n        obj = coordinate.convert({\n          x: x[i],\n          y: y[j],\n        });\n        rstX.push(obj.x);\n        rstY.push(obj.y);\n      }\n    } else if (isArray(y)) {\n      rstY = [];\n      for (let index = 0; index < y.length; index++) {\n        const yVal = y[index];\n        obj = coordinate.convert({\n          x: x as number,\n          y: yVal,\n        });\n        if (rstX && rstX !== obj.x) {\n          if (!isArray(rstX)) {\n            rstX = [rstX];\n          }\n          rstX.push(obj.x);\n        } else {\n          rstX = obj.x;\n        }\n        rstY.push(obj.y);\n      }\n    } else if (isArray(x)) {\n      rstX = [];\n      for (let index = 0; index < x.length; index++) {\n        const xVal = x[index];\n        obj = coordinate.convert({\n          x: xVal,\n          y,\n        });\n        if (rstY && rstY !== obj.y) {\n          if (!isArray(rstY)) {\n            rstY = [rstY];\n          }\n          rstY.push(obj.y);\n        } else {\n          rstY = obj.y;\n        }\n        rstX.push(obj.x);\n      }\n    } else {\n      const point = coordinate.convert({\n        x,\n        y,\n      });\n      rstX = point.x;\n      rstY = point.y;\n    }\n    mappingRecord.x = rstX;\n    mappingRecord.y = rstY;\n  }\n\n  //  style \n  private getStyleCfg(styleOption: StyleOption, originData: Datum) {\n    const { fields = [], callback, cfg } = styleOption;\n    if (cfg) {\n      // \n      return cfg;\n    }\n\n    const params = fields.map((field) => {\n      return originData[field];\n    });\n\n    return callback(...params);\n  }\n\n  private setCfg(cfg: InitCfg) {\n    const { coordinate, data, theme, scaleDefs } = cfg;\n    if (coordinate) {\n      this.coordinate = coordinate;\n    }\n    if (data) {\n      this.data = data;\n    }\n    if (scaleDefs) {\n      this.scaleDefs = scaleDefs;\n      this.idFields = [];\n      each(scaleDefs, (scaleDef, field) => {\n        if (scaleDef && scaleDef.key) {\n          this.idFields.push(field);\n        }\n      });\n    }\n    if (theme) {\n      this.theme = this.userTheme ? deepMix({}, theme, this.userTheme) : theme; //  geometry \n    }\n  }\n\n  private async renderLabels(mappingArray: MappingDatum[], isUpdate: boolean = false) {\n    let geometryLabel = this.geometryLabel;\n\n    this.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_RENDER_LABEL);\n\n    if (!geometryLabel) {\n      // \n      const labelType = this.getLabelType();\n      const GeometryLabelsCtor = getGeometryLabel(labelType);\n      geometryLabel = new GeometryLabelsCtor(this);\n      this.geometryLabel = geometryLabel;\n    }\n    await geometryLabel.render(mappingArray, isUpdate);\n\n    //  label  element \n    const labelsMap = geometryLabel.labelsRenderer.shapesMap;\n    // Store labels for every element.\n    const elementLabels = new Map<Element, Set<IGroup>>();\n    each(labelsMap, (labelGroup: IGroup, labelGroupId: string) => {\n      const labelChildren = labelGroup.getChildren() || [];\n      for (let j = 0; j < labelChildren.length; j++) {\n        const labelShape = labelChildren[j];\n        const element = this.elementsMap[labelShape.get('elementId') || labelGroupId.split(' ')[0]];\n        if (element) {\n          labelShape.cfg.name = ['element', 'label'];\n          labelShape.cfg.element = element;\n          const labels = elementLabels.get(element) || new Set();\n          labels.add(labelGroup);\n          elementLabels.set(element, labels);\n        }\n      }\n    });\n    for (const [element, labels] of elementLabels.entries()) {\n      element.labelShape = [...labels];\n    }\n\n    this.emit(GEOMETRY_LIFE_CIRCLE.AFTER_RENDER_LABEL);\n  }\n  /**\n   * \n   * \n   * 1. \n   * 2.  geometry \n   * 3.  appear \n   * 4.  appear.animation\n   */\n  private canDoGroupAnimation(isUpdate: boolean) {\n    return (\n      !isUpdate &&\n      this.animateOption &&\n      (get(this.animateOption, 'appear') === undefined ||\n        (get(this.animateOption, 'appear') && get(this.animateOption, ['appear', 'animation']) === undefined))\n    );\n  }\n}\n","import { ext } from '@antv/matrix-util';\nimport { IElement, IGroup, IShape } from '../dependents';\n\nconst transform: (m: number[], actions: any[][]) => number[] = ext.transform;\n\nexport { transform };\n\n/**\n * \n * @param element \n * @param x x \n * @param y y \n */\nexport function translate(element: IGroup | IShape, x: number, y: number) {\n  const matrix = transform(element.getMatrix(), [['t', x, y]]);\n  element.setMatrix(matrix);\n}\n\n/**\n *  ()\n * @param element \n * @param rotateRadian \n */\nexport function getRotateMatrix(element: IElement, rotateRadian: number) {\n  const { x, y } = element.attr();\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['r', rotateRadian],\n    ['t', x, y],\n  ]);\n  return matrix;\n}\n\n/**\n * \n * @param element \n * @param rotateRadian \n */\nexport function rotate(element: IGroup | IShape, rotateRadian: number) {\n  const matrix = getRotateMatrix(element, rotateRadian);\n  element.setMatrix(matrix);\n}\n\n/**\n * \n * @returns identity matrix\n */\nexport function getIdentityMatrix(): number[] {\n  return [1, 0, 0, 0, 1, 0, 0, 0, 1];\n}\n\n/**\n * \n * @param element \n * @param ratio \n */\nexport function zoom(element: IGroup | IShape, ratio: number) {\n  const bbox = element.getBBox();\n  const x = (bbox.minX + bbox.maxX) / 2;\n  const y = (bbox.minY + bbox.maxY) / 2;\n  element.applyToMatrix([x, y, 1]);\n\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['s', ratio, ratio],\n    ['t', x, y],\n  ]);\n  element.setMatrix(matrix);\n}\n","/**\n * @file utils of label\n */\n\nimport { isNil, isNumber, some } from '@antv/util';\nimport { IElement, IGroup, BBox } from '../../../dependents';\nimport { rotate } from '../../../util/transform';\n\n/**\n *  Label Group  shape \n * @param label\n */\nexport function findLabelTextShape(label: IGroup): IElement {\n  return label.find((el) => el.get('type') === 'text');\n}\n\n/**\n * : box () + rotation ()\n */\nexport function getLabelBackgroundInfo(\n  labelGroup: IGroup,\n  labelItem: { rotate?: number;[key: string]: any },\n  padding: number | number[] = [0, 0, 0, 0]\n): { x: number; y: number; width: number; height: number; rotation: number } {\n  const content = labelGroup && labelGroup.getChildren()[0];\n  if (content) {\n    const labelShape = content.clone();\n\n    // revert rotate\n    if (labelItem?.rotate) {\n      rotate(labelShape as IGroup, -labelItem.rotate);\n    }\n\n    // use `getCanvasBBox`, because if Shape is been translated, `getBBox` is not the actual box position\n    const { x, y, width, height } = labelShape.getCanvasBBox();\n\n    labelShape.destroy();\n\n    let boxPadding = padding;\n    if (isNil(boxPadding)) {\n      boxPadding = [2, 2, 2, 2];\n    } else if (isNumber(boxPadding)) {\n      boxPadding = new Array(4).fill(boxPadding);\n    }\n\n    return {\n      x: x - boxPadding[3],\n      y: y - boxPadding[0],\n      width: width + boxPadding[1] + boxPadding[3],\n      height: height + boxPadding[0] + boxPadding[2],\n      rotation: labelItem?.rotate || 0,\n    };\n  }\n\n  return { x: 0, y: 0, width: 0, height: 0, rotation: 0 };\n}\n\n/**\n * \n */\nexport function getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**  */\nexport function checkShapeOverlap(cur: IElement, dones: IElement[]) {\n  const box = cur.getBBox();\n  return some(dones, (done) => {\n    const target = done.getBBox();\n    return getOverlapArea(box, target, 2) > 0;\n  });\n}\n","import { Coordinate } from '@antv/coord';\nimport { IGroup, IShape } from '@antv/g-base';\nimport { each, get } from '@antv/util';\nimport { doAnimate } from '../animate';\nimport { getReplaceAttrs } from '../util/graphics';\n\n/** label  */\ntype Cfg = {\n  data: any;\n  origin: any;\n  animateCfg: any;\n  coordinate: Coordinate;\n};\n\n/**\n * @desc  label ( id  idx )\n * @done shape \n * @done shape delete\n * @done shape append\n *\n * @param fromShape old labelShape\n * @param toShape new labelShape\n * @param cfg\n */\nexport function updateLabel(fromShape: IGroup, toShape: IGroup, cfg: Cfg): void {\n  const { data, origin, animateCfg, coordinate } = cfg;\n  const updateAnimateCfg = get(animateCfg, 'update');\n\n  fromShape.set('data', data);\n  fromShape.set('origin', origin);\n  fromShape.set('animateCfg', animateCfg);\n  fromShape.set('coordinate', coordinate);\n  fromShape.set('visible', toShape.get('visible'));\n\n  (fromShape.getChildren() || []).forEach((fromChild, idx) => {\n    const toChild = toShape.getChildByIndex(idx) as IShape;\n    if (!toChild) {\n      fromShape.removeChild(fromChild);\n      fromChild.remove(true);\n    } else {\n      fromChild.set('data', data);\n      fromChild.set('origin', origin);\n      fromChild.set('animateCfg', animateCfg);\n      fromChild.set('coordinate', coordinate);\n\n      const newAttrs = getReplaceAttrs(fromChild as IShape, toChild);\n      if (updateAnimateCfg) {\n        doAnimate(fromChild as IShape, updateAnimateCfg, {\n          toAttrs: newAttrs,\n          coordinate,\n        });\n      } else {\n        fromChild.attr(newAttrs);\n      }\n      if (toChild.isGroup()) {\n        updateLabel(fromChild as any, toChild as any, cfg);\n      }\n    }\n  });\n\n  // append\n  each(toShape.getChildren(), (child, idx) => {\n    if (idx >= fromShape.getCount()) {\n      if (!child.destroyed) {\n        fromShape.add(child);\n      }\n    }\n  });\n}\n","import { deepMix, each, get, isArray, isNull } from '@antv/util';\nimport { BBox, Coordinate, IGroup, IShape } from '../dependents';\nimport { LabelItem } from '../geometry/label/interface';\nimport { AnimateOption, GeometryLabelLayoutCfg } from '../interface';\nimport { doAnimate } from '../animate';\nimport { getGeometryLabelLayout } from '../geometry/label';\nimport { getLabelBackgroundInfo } from '../geometry/label/util';\nimport { polarToCartesian } from '../util/graphics';\nimport { rotate, translate } from '../util/transform';\nimport { FIELD_ORIGIN } from '../constant';\nimport { updateLabel } from './update-label';\n\n/**\n * Labels \n */\nexport interface LabelsGroupCfg {\n  /** label  */\n  container: IGroup;\n  /** label  */\n  layout?: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n}\n\n/**\n * Geometry labels \n */\nexport default class Labels {\n  /**  labels  */\n  public layout: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n  /**  */\n  public container: IGroup;\n  /**  */\n  public animate: AnimateOption | false;\n  /** label  */\n  public region: BBox;\n\n  /**  shape  shape id */\n  public shapesMap: Record<string, IGroup> = {};\n\n  constructor(cfg: LabelsGroupCfg) {\n    const { layout, container } = cfg;\n\n    this.layout = layout;\n    this.container = container;\n  }\n  /**\n   * \n   */\n  public async render(items: LabelItem[], shapes: Record<string, IShape | IGroup>, isUpdate: boolean = false) {\n    const shapesMap = {};\n    const offscreenGroup = this.createOffscreenGroup(); // \n    if (items.length) {\n      //  items \n      // step 1:  group  shapes\n      for (const item of items) {\n        if (item) {\n          shapesMap[item.id] = this.renderLabel(item, offscreenGroup);\n        }\n      }\n      // [todo] Move layout into Worker.\n      // step 2:  labels\n      await this.doLayout(items, shapes, shapesMap);\n\n      // step 3.1:  labelLine\n      this.renderLabelLine(items, shapesMap);\n      // step 3.2:  labelBackground\n      this.renderLabelBackground(items, shapesMap);\n      // step 4:  label\n      this.adjustLabel(items, shapesMap);\n    }\n\n    // \n    const lastShapesMap = this.shapesMap;\n    each(shapesMap, (shape, id) => {\n      if (shape.destroyed) {\n        // label doLayout\n        delete shapesMap[id];\n      } else {\n        if (lastShapesMap[id]) {\n          // \n          const data = shape.get('data');\n          const origin = shape.get('origin');\n          const coordinate = shape.get('coordinate');\n          const currentAnimateCfg = shape.get('animateCfg');\n\n          const currentShape = lastShapesMap[id]; //  shape\n          updateLabel(currentShape, shapesMap[id], {\n            data,\n            origin,\n            animateCfg: currentAnimateCfg,\n            coordinate,\n          });\n\n          shapesMap[id] = currentShape; // \n        } else {\n          //  shape\n          // If container has been destroyed, no need to render labels.\n          if (this.container.destroyed) return;\n          this.container.add(shape);\n          const animateCfg = get(shape.get('animateCfg'), isUpdate ? 'enter' : 'appear');\n          if (animateCfg) {\n            doAnimate(shape, animateCfg, {\n              toAttrs: {\n                ...shape.attr(),\n              },\n              coordinate: shape.get('coordinate'),\n            });\n          }\n        }\n        delete lastShapesMap[id];\n      }\n    });\n\n    // \n    each(lastShapesMap, (deleteShape) => {\n      const animateCfg = get(deleteShape.get('animateCfg'), 'leave');\n      if (animateCfg) {\n        doAnimate(deleteShape, animateCfg, {\n          toAttrs: null,\n          coordinate: deleteShape.get('coordinate'),\n        });\n      } else {\n        deleteShape.remove(true); // \n      }\n    });\n\n    this.shapesMap = shapesMap;\n    offscreenGroup.destroy();\n  }\n\n  /**  labels */\n  public clear() {\n    this.container.clear();\n    this.shapesMap = {};\n  }\n\n  /**  */\n  public destroy() {\n    this.container.destroy();\n    this.shapesMap = null;\n  }\n\n  private renderLabel(cfg: LabelItem, container: IGroup): IGroup {\n    const { id, elementId, data, mappingData, coordinate, animate, content } = cfg;\n    const shapeAppendCfg = {\n      id,\n      elementId,\n      data,\n      origin: {\n        ...mappingData,\n        data: mappingData[FIELD_ORIGIN],\n      },\n      coordinate,\n    };\n    const labelGroup = container.addGroup({\n      name: 'label',\n      //  this.animate === false  cfg.animate === false/null \n      animateCfg:\n        this.animate === false || animate === null || animate === false ? false : deepMix({}, this.animate, animate),\n      ...shapeAppendCfg,\n    });\n    let labelShape;\n    if ((content.isGroup && content.isGroup()) || (content.isShape && content.isShape())) {\n      //  content  Group  Shape textAlign  labelGroup\n      const { width, height } = content.getCanvasBBox();\n      const textAlign = get(cfg, 'textAlign', 'left');\n\n      let x = cfg.x;\n      const y = cfg.y - height / 2;\n\n      if (textAlign === 'center') {\n        x = x - width / 2;\n      } else if (textAlign === 'right' || textAlign === 'end') {\n        x = x - width;\n      }\n\n      translate(content, x, y); //  label  x, y \n      labelShape = content;\n      labelGroup.add(content);\n    } else {\n      const fill = get(cfg, ['style', 'fill']);\n      labelShape = labelGroup.addShape('text', {\n        attrs: {\n          x: cfg.x,\n          y: cfg.y,\n          textAlign: cfg.textAlign,\n          textBaseline: get(cfg, 'textBaseline', 'middle'),\n          text: cfg.content,\n          ...cfg.style,\n          fill: isNull(fill) ? cfg.color : fill,\n        },\n        ...shapeAppendCfg,\n      });\n    }\n\n    if (cfg.rotate) {\n      rotate(labelShape, cfg.rotate);\n    }\n    return labelGroup;\n  }\n\n  // typelabel\n  private async doLayout(items: LabelItem[], shapes: Record<string, IShape | IGroup>, shapesMap: Record<string, IGroup>) {\n    if (this.layout) {\n      const layouts = isArray(this.layout) ? this.layout : [this.layout];\n      await Promise.all(layouts.map((layout: GeometryLabelLayoutCfg) => {\n        const layoutFn = getGeometryLabelLayout(get(layout, 'type', ''));\n        if (!layoutFn) return;\n\n        const labelShapes = [];\n        const geometryShapes = [];\n        each(shapesMap, (labelShape, id) => {\n          labelShapes.push(labelShape);\n          geometryShapes.push(shapes[labelShape.get('elementId')]);\n        });\n        // [todo] Refactor more layout into Worker.\n        return layoutFn(items, labelShapes, geometryShapes, this.region, layout.cfg);\n      }));\n    }\n  }\n\n  private renderLabelLine(labelItems: LabelItem[], shapesMap) {\n    each(labelItems, (labelItem) => {\n      const coordinate: Coordinate = get(labelItem, 'coordinate');\n      if (!labelItem || !coordinate) {\n        return;\n      }\n      const center = coordinate.getCenter();\n      const radius = coordinate.getRadius();\n      if (!labelItem.labelLine) {\n        // labelLine: null | false label  labelLine\n        return;\n      }\n      const labelLineCfg = get(labelItem, 'labelLine', {});\n      const id = labelItem.id;\n      let path = labelLineCfg.path;\n      if (!path) {\n        const start = polarToCartesian(center.x, center.y, radius, labelItem.angle);\n        path = [\n          ['M', start.x, start.y],\n          ['L', labelItem.x, labelItem.y],\n        ];\n      }\n      const labelGroup = shapesMap[id];\n      if (!labelGroup.destroyed) {\n        labelGroup.addShape('path', {\n          capture: false, // labelLine \n          attrs: {\n            path,\n            stroke: labelItem.color ? labelItem.color : get(labelItem, ['style', 'fill'], '#000'),\n            fill: null,\n            ...labelLineCfg.style,\n          },\n          id,\n          origin: labelItem.mappingData,\n          data: labelItem.data,\n          coordinate: labelItem.coordinate,\n        });\n      }\n    });\n  }\n\n  /**\n   * \n   * @param labelItems\n   */\n  private renderLabelBackground(labelItems: LabelItem[], shapesMap) {\n    each(labelItems, (labelItem) => {\n      const coordinate: Coordinate = get(labelItem, 'coordinate');\n      const background: LabelItem['background'] = get(labelItem, 'background');\n      if (!background || !coordinate) {\n        return;\n      }\n\n      const id = labelItem.id;\n      const labelGroup = shapesMap[id];\n      if (!labelGroup.destroyed) {\n        const labelContentShape = labelGroup.getChildren()[0];\n        if (labelContentShape) {\n          const { rotation, ...box } = getLabelBackgroundInfo(labelGroup, labelItem, background.padding);\n          const backgroundShape = labelGroup.addShape('rect', {\n            attrs: {\n              ...box,\n              ...(background.style || {}),\n            },\n            id,\n            origin: labelItem.mappingData,\n            data: labelItem.data,\n            coordinate: labelItem.coordinate,\n          });\n          backgroundShape.setZIndex(-1);\n\n          if (rotation) {\n            const matrix = labelContentShape.getMatrix();\n            backgroundShape.setMatrix(matrix);\n          }\n        }\n      }\n    });\n  }\n\n  private createOffscreenGroup() {\n    const container = this.container;\n    const GroupClass = container.getGroupBase(); // \n    const newGroup = new GroupClass({});\n    return newGroup;\n  }\n\n  private adjustLabel(items: LabelItem[], shapesMap) {\n    each(items, (item) => {\n      if (item) {\n        const id = item.id;\n        const labelGroup = shapesMap[id];\n        if (!labelGroup.destroyed) {\n          // fix:  label content  group  content group   spider label  2  textShape  gorup\n          const labelShapes = labelGroup.findAll((ele) => ele.get('type') !== 'path');\n          each(labelShapes, (labelShape) => {\n            if (labelShape) {\n              if (item.offsetX) {\n                labelShape.attr('x', labelShape.attr('x') + item.offsetX);\n              }\n              if (item.offsetY) {\n                labelShape.attr('y', labelShape.attr('y') + item.offsetY);\n              }\n            }\n          });\n        }\n      }\n    });\n  }\n}\n","import { deepMix, each, get, isArray, isFunction, isNil, isNumber, isString, isUndefined } from '@antv/util';\n\nimport { FIELD_ORIGIN } from '../../constant';\nimport { Scale } from '../../dependents';\nimport { Datum, LabelOption, MappingDatum, Point } from '../../interface';\nimport { LabelCfg, LabelItem, LabelPointCfg, TextAlign } from './interface';\n\nimport { getDefaultAnimateCfg } from '../../animate';\nimport { getPolygonCentroid } from '../../util/graphics';\n\nimport Labels from '../../component/labels';\nimport Geometry from '../base';\nimport Element from '../element';\n\nexport type GeometryLabelConstructor = new (cfg: any) => GeometryLabel;\n\nfunction avg(arr: number[]) {\n  let sum = 0;\n  each(arr, (value: number) => {\n    sum += value;\n  });\n  return sum / arr.length;\n}\n\n/**\n * Geometry Label  Geometry  label \n */\nexport default class GeometryLabel {\n  /** geometry  */\n  public readonly geometry: Geometry;\n  public labelsRenderer: Labels;\n  /**  */\n  public defaultLayout: string;\n\n  constructor(geometry: Geometry) {\n    this.geometry = geometry;\n  }\n\n  public getLabelItems(mapppingArray: MappingDatum[]): LabelItem[] {\n    const items = [];\n    const labelCfgs = this.getLabelCfgs(mapppingArray);\n    //  label  xy  x, y\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const labelCfg = labelCfgs[index];\n      if (!labelCfg || isNil(mappingData.x) || isNil(mappingData.y)) {\n        items.push(null);\n        return;\n      }\n\n      const labelContent = !isArray(labelCfg.content) ? [labelCfg.content] : labelCfg.content;\n      labelCfg.content = labelContent;\n      const total = labelContent.length;\n      each(labelContent, (content, subIndex) => {\n        if (isNil(content) || content === '') {\n          items.push(null);\n          return;\n        }\n\n        const item = {\n          ...labelCfg,\n          ...this.getLabelPoint(labelCfg, mappingData, subIndex),\n        };\n        if (!item.textAlign) {\n          item.textAlign = this.getLabelAlign(item, subIndex, total);\n        }\n\n        if (item.offset <= 0) {\n          item.labelLine = null;\n        }\n\n        items.push(item);\n      });\n    });\n    return items;\n  }\n\n  public async render(mappingArray: MappingDatum[], isUpdate: boolean = false) {\n    const labelItems = this.getLabelItems(mappingArray);\n    const labelsRenderer = this.getLabelsRenderer();\n    const shapes = this.getGeometryShapes();\n    // \n    await labelsRenderer.render(labelItems, shapes, isUpdate);\n  }\n\n  public clear() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.clear();\n    }\n  }\n\n  public destroy() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.destroy();\n    }\n    this.labelsRenderer = null;\n  }\n\n  // geometry  Coordinate  Coordinate\n  public getCoordinate() {\n    return this.geometry.coordinate;\n  }\n\n  /**\n   *  label \n   */\n  protected getDefaultLabelCfg(offset?: number, position?: string) {\n    const geometry = this.geometry;\n    const { type, theme } = geometry;\n\n    if (\n      type === 'polygon' ||\n      (type === 'interval' && position === 'middle') ||\n      (offset < 0 && !['line', 'point', 'path'].includes(type))\n    ) {\n      // polygon  (interval  middle)  offset  0  \n      return get(theme, 'innerLabels', {});\n    }\n\n    return get(theme, 'labels', {});\n  }\n\n  /**\n   *  label \n   * @param labelCfg\n   */\n  protected getThemedLabelCfg(labelCfg: LabelCfg) {\n    const geometry = this.geometry;\n    const defaultLabelCfg = this.getDefaultLabelCfg();\n    const { type, theme } = geometry;\n    let themedLabelCfg;\n\n    if (type === 'polygon' || (labelCfg.offset < 0 && !['line', 'point', 'path'].includes(type))) {\n      // polygon  offset  0  \n      themedLabelCfg = deepMix({}, defaultLabelCfg, theme.innerLabels, labelCfg);\n    } else {\n      themedLabelCfg = deepMix({}, defaultLabelCfg, theme.labels, labelCfg);\n    }\n\n    return themedLabelCfg;\n  }\n\n  /**\n   *  label \n   * @param labelPointCfg\n   * @param mappingData\n   * @param index\n   * @param position\n   */\n  protected setLabelPosition(\n    labelPointCfg: LabelPointCfg,\n    mappingData: MappingDatum,\n    index: number,\n    position: string\n  ) {}\n\n  /**\n   * @desc  label offset\n   */\n  protected getLabelOffset(offset: number | string): number {\n    const coordinate = this.getCoordinate();\n    const vector = this.getOffsetVector(offset);\n    return coordinate.isTransposed ? vector[0] : vector[1];\n  }\n\n  /**\n   *  label  ()\n   * @param labelCfg\n   * @param index\n   * @param total\n   * @return {Point} offsetPoint\n   */\n  protected getLabelOffsetPoint(labelCfg: LabelCfg, index: number, total: number): Point {\n    const offset = labelCfg.offset;\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const dim = transposed ? 'x' : 'y';\n    const factor = transposed ? 1 : -1; // y transposed\n    const offsetPoint = {\n      x: 0,\n      y: 0,\n    };\n    if (index > 0 || total === 1) {\n      // 0\n      offsetPoint[dim] = offset * factor;\n    } else {\n      offsetPoint[dim] = offset * factor * -1;\n    }\n    return offsetPoint;\n  }\n\n  /**\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   * @returns label point\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    const coordinate = this.getCoordinate();\n    const total = labelCfg.content.length;\n\n    function getDimValue(value: number | number[], idx: number, isAvg = false) {\n      let v = value;\n      if (isArray(v)) {\n        if (labelCfg.content.length === 1) {\n          if (isAvg) {\n            v = avg(v);\n          } else {\n            //  label y,  y\n            if (v.length <= 2) {\n              v = v[(value as number[]).length - 1];\n            } else {\n              v = avg(v);\n            }\n          }\n        } else {\n          v = v[idx];\n        }\n      }\n      return v;\n    }\n\n    const label = {\n      content: labelCfg.content[index],\n      x: 0,\n      y: 0,\n      start: { x: 0, y: 0 },\n      color: '#fff',\n    };\n    const shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n    const isFunnel = shape === 'funnel' || shape === 'pyramid';\n\n    // \n    if (this.geometry.type === 'polygon') {\n      const centroid = getPolygonCentroid(mappingData.x, mappingData.y);\n      label.x = centroid[0];\n      label.y = centroid[1];\n    } else if (this.geometry.type === 'interval' && !isFunnel) {\n      // label X \n      label.x = getDimValue(mappingData.x, index, true);\n      label.y = getDimValue(mappingData.y, index);\n    } else {\n      label.x = getDimValue(mappingData.x, index);\n      label.y = getDimValue(mappingData.y, index);\n    }\n\n    // \n    if (isFunnel) {\n      const nextPoints = get(mappingData, 'nextPoints');\n      const points = get(mappingData, 'points');\n      if (nextPoints) {\n        // \n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(nextPoints[1] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      } else if (shape === 'pyramid') {\n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(points[2] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      }\n    }\n\n    if (labelCfg.position) {\n      //  label  position \n      this.setLabelPosition(label, mappingData, index, labelCfg.position);\n    }\n    const offsetPoint = this.getLabelOffsetPoint(labelCfg, index, total);\n    label.start = { x: label.x, y: label.y };\n    label.x += offsetPoint.x;\n    label.y += offsetPoint.y;\n    label.color = mappingData.color;\n    return label;\n  }\n\n  /**\n   * \n   * @param item\n   * @param index\n   * @param total\n   * @returns\n   */\n  protected getLabelAlign(item: LabelItem, index: number, total: number): TextAlign {\n    let align: TextAlign = 'center';\n    const coordinate = this.getCoordinate();\n    if (coordinate.isTransposed) {\n      const offset = item.offset;\n      if (offset < 0) {\n        align = 'right';\n      } else if (offset === 0) {\n        align = 'center';\n      } else {\n        align = 'left';\n      }\n      if (total > 1 && index === 0) {\n        if (align === 'right') {\n          align = 'left';\n        } else if (align === 'left') {\n          align = 'right';\n        }\n      }\n    }\n    return align;\n  }\n\n  /**\n   *  label  id\n   * @param mappingData label \n   */\n  protected getLabelId(mappingData: MappingDatum) {\n    const geometry = this.geometry;\n    const type = geometry.type;\n    const xScale = geometry.getXScale();\n    const yScale = geometry.getYScale();\n    const origin = mappingData[FIELD_ORIGIN]; // \n\n    let labelId = geometry.getElementId(mappingData);\n    if (type === 'line' || type === 'area') {\n      //  labels labels line id  x \n      labelId += ` ${origin[xScale.field]}`;\n    } else if (type === 'path') {\n      // path  x  y  x y  id\n      labelId += ` ${origin[xScale.field]}-${origin[yScale.field]}`;\n    }\n\n    return labelId;\n  }\n\n  //  labels \n  private getLabelsRenderer() {\n    const { labelsContainer, labelOption, canvasRegion, animateOption } = this.geometry;\n    const coordinate = this.geometry.coordinate;\n\n    let labelsRenderer = this.labelsRenderer;\n    if (!labelsRenderer) {\n      labelsRenderer = new Labels({\n        container: labelsContainer,\n        layout: get(labelOption, ['cfg', 'layout'], {\n          type: this.defaultLayout,\n        }),\n      });\n      this.labelsRenderer = labelsRenderer;\n    }\n    labelsRenderer.region = canvasRegion;\n    //  geometry  label \n    labelsRenderer.animate = animateOption ? getDefaultAnimateCfg('label', coordinate) : false;\n\n    return labelsRenderer;\n  }\n\n  private getLabelCfgs(mapppingArray: MappingDatum[]): LabelCfg[] {\n    const geometry = this.geometry;\n    const { labelOption, scales, coordinate } = geometry;\n    const { fields, callback, cfg } = labelOption as LabelOption;\n    const labelScales = fields.map((field: string) => {\n      return scales[field];\n    });\n\n    const labelCfgs: LabelCfg[] = [];\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const origin = mappingData[FIELD_ORIGIN]; // \n      const originText = this.getLabelText(origin, labelScales);\n      let callbackCfg;\n      if (callback) {\n        //  callback  cfg  callback \n        const originValues = fields.map((field: string) => origin[field]);\n        callbackCfg = callback(...originValues);\n        if (isNil(callbackCfg)) {\n          labelCfgs.push(null);\n          return;\n        }\n      }\n\n      let labelCfg = {\n        id: this.getLabelId(mappingData), //  ID \n        elementId: this.geometry.getElementId(mappingData), // label  Element  ID\n        data: origin, // \n        mappingData, // ,\n        coordinate, // \n        ...cfg,\n        ...callbackCfg,\n      };\n\n      if (isFunction(labelCfg.position)) {\n        labelCfg.position = labelCfg.position(origin, mappingData, index);\n      }\n\n      const offset = this.getLabelOffset(labelCfg.offset || 0);\n      // defaultCfg  innerLabels & labels\n      const defaultLabelCfg = this.getDefaultLabelCfg(offset, labelCfg.position);\n      // labelCfg priority: defaultCfg < cfg < callbackCfg\n      labelCfg = deepMix({}, defaultLabelCfg, labelCfg);\n      //  offset\n      labelCfg.offset = this.getLabelOffset(labelCfg.offset || 0);\n\n      const content = labelCfg.content;\n      if (isFunction(content)) {\n        labelCfg.content = content(origin, mappingData, index);\n      } else if (isUndefined(content)) {\n        //  content\n        labelCfg.content = originText[0];\n      }\n\n      labelCfgs.push(labelCfg);\n    });\n\n    return labelCfgs;\n  }\n\n  private getLabelText(origin: Datum, scales: Scale[]) {\n    const labelTexts = [];\n    each(scales, (scale: Scale) => {\n      let value = origin[scale.field];\n      if (isArray(value)) {\n        value = value.map((subVal) => {\n          return scale.getText(subVal);\n        });\n      } else {\n        value = scale.getText(value);\n      }\n\n      if (isNil(value) || value === '') {\n        labelTexts.push(null);\n      } else {\n        labelTexts.push(value);\n      }\n    });\n    return labelTexts;\n  }\n\n  private getOffsetVector(offset: number | string = 0) {\n    const coordinate = this.getCoordinate();\n    let actualOffset = 0;\n    if (isNumber(offset)) {\n      actualOffset = offset;\n    }\n    //  x,y  x y\n    return coordinate.isTransposed ? coordinate.applyMatrix(actualOffset, 0) : coordinate.applyMatrix(0, actualOffset);\n  }\n\n  private getGeometryShapes() {\n    const geometry = this.geometry;\n    const shapes = {};\n    each(geometry.elementsMap, (element: Element, id: string) => {\n      shapes[id] = element.shape;\n    });\n    //  shape  shape.getBBox()  offscreenGroup \n    each(geometry.getOffscreenGroup().getChildren(), (child) => {\n      const id = geometry.getElementId(child.get('origin').mappingData);\n      shapes[id] = child;\n    });\n\n    return shapes;\n  }\n}\n","import { Attribute } from '../dependents';\n\n/**\n * @ignore\n * get the mapping value by attribute, if mapping value is nil, return def\n * @param attr\n * @param value\n * @param def\n * @returns get mapping value\n */\nexport function getMappingValue(attr: Attribute, value: any, def: string): string {\n  if (!attr) {\n    return def;\n  }\n\n  let r;\n  // \n  if (attr.callback && attr.callback.length > 1) {\n    const restArgs = Array(attr.callback.length - 1).fill('');\n    r = attr.mapping(value, ...restArgs).join('');\n  } else {\n    r = attr.mapping(value).join('');\n  }\n\n  return r || def;\n}\n","/** @ignore */\nexport const MarkerSymbols = {\n  hexagon: (x: number, y: number, r: number) => {\n    const diffX = (r / 2) * Math.sqrt(3);\n    return [\n      ['M', x, y - r],\n      ['L', x + diffX, y - r / 2],\n      ['L', x + diffX, y + r / 2],\n      ['L', x, y + r],\n      ['L', x - diffX, y + r / 2],\n      ['L', x - diffX, y - r / 2],\n      ['Z'],\n    ];\n  },\n  bowtie: (x: number, y: number, r: number) => {\n    const diffY = r - 1.5;\n    return [['M', x - r, y - diffY], ['L', x + r, y + diffY], ['L', x + r, y - diffY], ['L', x - r, y + diffY], ['Z']];\n  },\n  cross: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y - r],\n      ['L', x + r, y + r],\n      ['M', x + r, y - r],\n      ['L', x - r, y + r],\n    ];\n  },\n  tick: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r / 2, y - r],\n      ['L', x + r / 2, y - r],\n      ['M', x, y - r],\n      ['L', x, y + r],\n      ['M', x - r / 2, y + r],\n      ['L', x + r / 2, y + r],\n    ];\n  },\n  plus: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n  hyphen: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n};\n","import { LegendMarkerCfg } from '@antv/component';\nimport { deepMix, isString, each, get, isFunction } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { Attribute, ShapeAttrs, Tick } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { LegendCfg, LegendItem, MarkerCfg } from '../interface';\nimport { getMappingValue } from './attr';\nimport { omit } from './helper';\nimport { MarkerSymbols } from './marker';\n\n/**  marker symbol */\nconst STROKES_SYMBOLS = ['line', 'cross', 'tick', 'plus', 'hyphen'];\n\n/**\n *  marker style\n * @param markerStyle\n * @param userMarker.style\n * @returns {ShapeAttrs} newStyle\n */\nfunction handleUserMarkerStyle(markerStyle: ShapeAttrs, style: MarkerCfg['style']): ShapeAttrs {\n  if (isFunction(style)) {\n    return style(markerStyle);\n  }\n  return deepMix({}, markerStyle, style);\n}\n\n/**\n *  marker  symbol, \n * @param symbol\n * @param style\n * @param color\n */\nfunction adpatorMarkerStyle(marker: LegendMarkerCfg, color: string): void {\n  const symbol = marker.symbol;\n  if (isString(symbol) && STROKES_SYMBOLS.indexOf(symbol) !== -1) {\n    const markerStyle = get(marker, 'style', {});\n    const lineWidth = get(markerStyle, 'lineWidth', 1);\n    const stroke = markerStyle.stroke || markerStyle.fill || color;\n    marker.style = deepMix({}, marker.style, { lineWidth, stroke, fill: null });\n  }\n}\n\n/**\n *  marker  symbol  symbol \n * @param marker\n */\nfunction setMarkerSymbol(marker: LegendMarkerCfg): void {\n  const symbol = marker.symbol;\n  if (isString(symbol) && MarkerSymbols[symbol]) {\n    marker.symbol = MarkerSymbols[symbol];\n  }\n}\n\n/**\n * @ignore\n * get the legend layout from direction\n * @param direction\n * @returns layout 'horizontal' | 'vertical'\n */\nexport function getLegendLayout(direction: DIRECTION): 'vertical' | 'horizontal' {\n  return direction.startsWith(DIRECTION.LEFT) || direction.startsWith(DIRECTION.RIGHT) ? 'vertical' : 'horizontal';\n}\n\n/** item of @antv/component legend  */\ntype ComponentLegendItem = Omit<LegendItem, 'marker'> & {\n  marker: any;\n};\n\n/**\n * @ignore\n * get the legend items\n * @param view\n * @param geometry\n * @param attr\n * @param themeMarker\n * @param markerCfg\n * @returns legend items\n */\nexport function getLegendItems(\n  view: View,\n  geometry: Geometry,\n  attr: Attribute,\n  themeMarker: object,\n  userMarker: LegendCfg['marker']\n): ComponentLegendItem[] {\n  const scale = attr.getScale(attr.type);\n  if (scale.isCategory) {\n    const field = scale.field;\n    const colorAttr = geometry.getAttribute('color');\n    const shapeAttr = geometry.getAttribute('shape');\n    const defaultColor = view.getTheme().defaultColor;\n    const isInPolar = geometry.coordinate.isPolar;\n\n    return scale.getTicks().map((tick: Tick, index: number) => {\n      const { text, value: scaleValue } = tick;\n      const name = text;\n      const value = scale.invert(scaleValue);\n\n      //  unchecked\n      let unchecked = view.filterFieldData(field, [{ [field]: value }]).length === 0;\n      each(view.views, (subView) => {\n        if (!subView.filterFieldData(field, [{ [field]: value }]).length) {\n          unchecked = true;\n        }\n      });\n\n      // @ts-ignore\n      const color = getMappingValue(colorAttr, value, defaultColor);\n      const shape = getMappingValue(shapeAttr, value, 'point');\n      let marker = geometry.getShapeMarker(shape, {\n        color,\n        isInPolar,\n      });\n\n      let markerCfg = userMarker;\n      if (isFunction(markerCfg)) {\n        markerCfg = markerCfg(name, index, { name, value, ...deepMix({}, themeMarker, marker) });\n      }\n\n      // the marker configure order should be ensure\n      marker = deepMix({}, themeMarker, marker, omit({ ...markerCfg }, ['style']));\n      adpatorMarkerStyle(marker, color);\n      if (markerCfg && markerCfg.style) {\n        // handle user's style settings\n        marker.style = handleUserMarkerStyle(marker.style, markerCfg.style);\n      }\n      setMarkerSymbol(marker);\n\n      return { id: value, name, value, marker, unchecked };\n    });\n  }\n  return [];\n}\n\n/**\n *\n * @ignore\n * custom legend  items \n * @param themeMarker\n * @param userMarker\n * @param customItems\n */\nexport function getCustomLegendItems(themeMarker: object, userMarker: object, customItems: LegendItem[]) {\n  //  item marker \n  return customItems.map((item: LegendItem, index: number) => {\n    let markerCfg = userMarker;\n    if (isFunction(markerCfg)) {\n      markerCfg = markerCfg(item.name, index, deepMix({}, themeMarker, item));\n    }\n\n    const itemMarker = isFunction(item.marker)\n      ? item.marker(item.name, index, deepMix({}, themeMarker, item))\n      : item.marker;\n\n    const marker = deepMix({}, themeMarker, markerCfg, itemMarker);\n    setMarkerSymbol(marker);\n\n    item.marker = marker;\n    return item;\n  });\n}\n\n/**\n * get the legend cfg from theme, will mix the common cfg of legend theme\n *\n * @param theme view theme object\n * @param direction legend direction\n * @returns legend theme cfg\n */\nexport function getLegendThemeCfg(theme: object, direction: string): object {\n  const legendTheme = get(theme, ['components', 'legend'], {});\n  return deepMix({}, get(legendTheme, ['common'], {}), deepMix({}, get(legendTheme, [direction], {})));\n}\n","import { isArray } from '@antv/util';\nimport { PathCommand } from '../../../dependents';\nimport { Point, RangePoint, ShapeVertices } from '../../../interface';\nimport { getSplinePath } from './path';\n\nfunction isValueEmpty(value) {\n  if (value) {\n    return false;\n  }\n  return value === null || value === undefined || isNaN(value);\n}\n\nfunction isYNil(point: Point[] | RangePoint) {\n  if (isArray(point)) {\n    //  area  [{x: 0, y: 1}, {x: 0, y: 2}]\n    return isValueEmpty(point[1].y);\n  }\n  const value = point.y;\n  return isArray(value) ? isValueEmpty(value[0]) : isValueEmpty(value);\n}\n\n/**\n * @ignore\n * y  null/undefined/NaN \n * \n *\n * ```typescript\n * // return [[{x: 1, y: 2}, {x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], true);\n * // return [[{x: 1, y: 2}], [{x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], false);\n * // return [[[{ x: 1, y: 10 }, { x: 2, y: 2 }], [{ x: 9, y: 34 }, { x: 1, y: 1 }]]]\n * getPathPoints([\n *   [{ x: 1, y: 10 }, { x: 2, y: 2 }],\n *   [{ x: 4, y: 2 }, { x: 8, y: NaN }],\n *   [{ x: 9, y: 34 }, { x: 1, y: 1 }],\n * ], true);\n * ```\n *\n * @param points \n * @param connectNulls \n * @param showSinglePoint \n * @returns \n */\nexport function getPathPoints(points: ShapeVertices, connectNulls: boolean = false, showSinglePoint: boolean = true) {\n  if (!points.length || (points.length === 1 && !showSinglePoint)) {\n    // \n    return [];\n  }\n\n  if (connectNulls) {\n    //  y \n    const filtered = [];\n    for (let i = 0, len = points.length; i < len; i++) {\n      const point = points[i];\n      if (!isYNil(point)) {\n        filtered.push(point);\n      }\n    }\n    return [filtered];\n  }\n\n  const result = [];\n  let tmp = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isYNil(point)) {\n      if (tmp.length) {\n        if (!(tmp.length === 1 && !showSinglePoint)) {\n          // \n          result.push(tmp);\n        }\n        tmp = [];\n      }\n    } else {\n      tmp.push(point);\n    }\n  }\n\n  if (tmp.length) {\n    result.push(tmp);\n  }\n  return result;\n}\n\n/**\n *  path\n * @param points\n * @returns\n */\nexport function getViolinPath(points: ShapeVertices): PathCommand[] {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i] as Point;\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n  const first = points[0] as Point;\n  if (first) {\n    path.push(['L', first.x, first.y]);\n    path.push(['z']);\n  }\n  return path;\n}\n\n/**\n *   path\n * @param points\n * @returns\n */\nexport function getSmoothViolinPath(points: ShapeVertices): PathCommand[] {\n  const half = points.length / 2;\n  const leftPoints = [];\n  const rightPoints = [];\n  for (let i = 0; i < points.length; i++) {\n    if (i < half) {\n      leftPoints.push(points[i]);\n    } else {\n      rightPoints.push(points[i]);\n    }\n  }\n  const leftPath = getSplinePath(leftPoints, false);\n  const rightPath = getSplinePath(rightPoints, false);\n  if (rightPoints.length) {\n    leftPath.push(['L', rightPoints[0].x, rightPoints[0].y]);\n  }\n  rightPath.shift();\n  const path = leftPath.concat(rightPath);\n  if (leftPoints.length) {\n    path.push(['L', leftPoints[0].x, leftPoints[0].y]);\n  }\n  path.push(['z']);\n  return path;\n}\n","import { deepMix, isNil, get } from '@antv/util';\nimport { ShapeInfo } from '../../../interface';\n\n/**\n * @ignore\n *  Shape \n * @param cfg\n * @param isStroke \n * @param isFill \n * @param [sizeName] lineWidth  r\n * @returns\n */\nexport function getStyle(cfg: ShapeInfo, isStroke: boolean, isFill: boolean, sizeName: string = '') {\n  const { style = {}, defaultStyle, color, size } = cfg;\n  const attrs = {\n    ...defaultStyle,\n    ...style,\n  };\n  if (color) {\n    if (isStroke) {\n      if (!style.stroke) {\n        //  style()  stroke\n        attrs.stroke = color;\n      }\n    }\n\n    if (isFill) {\n      if (!style.fill) {\n        //  style()  fill\n        attrs.fill = color;\n      }\n    }\n  }\n  if (sizeName && isNil(style[sizeName]) && !isNil(size)) {\n    //  style()  lineWidth  r \n    attrs[sizeName] = size;\n  }\n\n  return attrs;\n}\n\n/**\n *   \n * @param cfg\n */\nexport function getBackgroundRectStyle(cfg?: ShapeInfo) {\n  return deepMix(\n    {},\n    {\n      // copy from active-region\n      fill: '#CCD6EC',\n      fillOpacity: 0.3,\n    },\n    get(cfg, ['background', 'style'])\n  );\n}\n","import { isArray } from '@antv/util';\nimport { Point, RangePoint } from '../../../interface';\n\n/**\n * @ignore\n * \n * @example\n * // result: [{x: 20, y: 20}, {x: 20, y: 30}]\n * splitPoints({x: 20,y: [20, 30]});\n * @example\n * // result: [{x: 20, y: 20}, {x: 30, y: 30}]\n * splitPoints({x: [20, 30],y: [20, 30]});\n * @param obj\n */\nexport function splitPoints(obj: RangePoint): Point[] {\n  // y  y  [19, 30] x \n  const x = obj.x;\n  const y = isArray(obj.y) ? obj.y : [obj.y];\n\n  return y.map((eachY, index) => {\n    return {\n      x: isArray(x) ? x[index] : x,\n      y: eachY,\n    };\n  });\n}\n","import { ShapeMarkerCfg } from '../../../interface';\n\nconst LineSymbols = {\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dot: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dash: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  smooth: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['A', r / 2, r / 2, 0, 1, 1, x, y],\n      ['A', r / 2, r / 2, 0, 1, 0, x + r, y],\n    ];\n  },\n  hv: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y - 2.5],\n      ['L', x, y - 2.5],\n      ['L', x, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y + 2.5],\n      ['L', x, y + 2.5],\n      ['L', x, y - 2.5],\n      ['L', x + r + 1, y - 2.5],\n    ];\n  },\n  hvh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - (r + 1), y + 2.5],\n      ['L', x - r / 2, y + 2.5],\n      ['L', x - r / 2, y - 2.5],\n      ['L', x + r / 2, y - 2.5],\n      ['L', x + r / 2, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vhv: (x: number, y: number) => {\n    //  13px 8px\n    return [\n      ['M', x - 5, y + 2.5],\n      ['L', x - 5, y],\n      ['L', x, y],\n      ['L', x, y - 3],\n      ['L', x, y + 3],\n      ['L', x + 6.5, y + 3],\n    ];\n  },\n};\n\n/**\n * Gets line marker\n * @ignore\n * @param markerCfg\n * @param shapeType\n * @returns  Line  marker \n */\nexport function getLineMarker(markerCfg: ShapeMarkerCfg, shapeType: string) {\n  const { color } = markerCfg;\n  return {\n    symbol: LineSymbols[shapeType],\n    style: {\n      lineWidth: 2,\n      r: 6,\n      stroke: color,\n    },\n  };\n}\n","import { each, isArray } from '@antv/util';\nimport { IGroup, ShapeAttrs } from '../../../dependents';\nimport { Point, Position, RangePoint, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\nimport { getLineMarker } from './util';\n\nfunction getShapeAttrs(cfg: ShapeInfo, smooth?: boolean, constraint?: Position[]) {\n  const { isStack, connectNulls, isInCircle, showSinglePoint } = cfg;\n  const shapeAttrs = getStyle(cfg, true, false, 'lineWidth');\n\n  const points = getPathPoints(cfg.points, connectNulls, showSinglePoint); //  connectNulls  points\n  let path = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const eachLinePoints = points[i];\n    path = path.concat(getPath(eachLinePoints, isInCircle, isStack, smooth, constraint, shapeAttrs));\n  }\n  shapeAttrs.path = path;\n\n  return shapeAttrs;\n}\n\n//  path\nfunction getSinglePath(\n  points: Point[],\n  isInCircle: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  if (points.length === 1) {\n    // \n    return [\n      ['M', points[0].x, points[0].y - style.lineWidth / 2],\n      ['L', points[0].x, points[0].y],\n      ['L', points[0].x, points[0].y + style.lineWidth / 2],\n    ];\n  }\n\n  let path;\n  if (!smooth) {\n    path = getLinePath(points, false);\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  } else {\n    // \n    if (isInCircle && points.length) {\n      points.push({ x: points[0].x, y: points[0].y });\n    }\n    path = getSplinePath(points, false, constraint);\n  }\n\n  return path;\n}\n\nfunction getRangePath(\n  points: RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  const topPoints = [];\n  const bottomPoints = [];\n  each(points, (point: RangePoint) => {\n    const result = splitPoints(point);\n    topPoints.push(result[1]); // \n    bottomPoints.push(result[0]); // \n  });\n\n  const topPath = getSinglePath(topPoints, isInCircle, smooth, constraint, style);\n  const bottomPath = getSinglePath(bottomPoints, isInCircle, smooth, constraint, style);\n  if (isStack) {\n    return topPath;\n  }\n  return topPath.concat(bottomPath);\n}\n\n/**\n *  path\n */\nexport function getPath(\n  points: Point[] | RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  if (points.length) {\n    const first = points[0];\n\n    return isArray(first.y)\n      ? getRangePath(points as RangePoint[], isInCircle, isStack, smooth, constraint, style)\n      : getSinglePath(points as Point[], isInCircle, smooth, constraint, style);\n  }\n  return [];\n}\n\nconst LineShapeFactory = registerShapeFactory('line', {\n  defaultShapeType: 'line',\n});\n\n// \n// 'line' 'dot'  'dash'  - - -\neach(['line', 'dot', 'dash', 'smooth'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const smooth = shapeType === 'smooth';\n      let constraint;\n      if (smooth) {\n        const { start, end } = this.coordinate;\n        constraint = [\n          [start.x, end.y],\n          [end.x, start.y],\n        ];\n      }\n\n      const attrs = getShapeAttrs(cfg, smooth, constraint);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n        capture: !smooth,\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n\nexport default LineShapeFactory;\n","/* G2  Geometry */\n\nexport const VERSION = '4.2.5';\n\n// \nexport { Chart, View, Event } from './chart'; // Chart, View \nexport { Controller as ComponentController } from './chart/controller/base'; // G2 \nexport { default as TooltipController } from './chart/controller/tooltip'; // G2 tooltip \nexport { default as Geometry } from './geometry/base'; // Geometry \nexport { default as Element } from './geometry/element'; // Element \nexport { default as GeometryLabel } from './geometry/label/base'; // Geometry Label \nexport { Interaction, Action } from './interaction'; // Interaction, Action \nexport { Facet } from './facet'; // Facet \nexport { default as InteractionAction } from './interaction/action/base'; // Interaction Action \n\n//  ComponentController\nexport { registerComponentController } from './chart';\n\n//  Geometry\nexport { registerGeometry } from './chart';\n\n//  Geometry Shape\nexport { registerShape, registerShapeFactory, getShapeFactory } from './geometry/shape/base';\n\n//  Geometry label  Geometry Label \nexport {\n  registerGeometryLabel,\n  registerGeometryLabelLayout,\n  getGeometryLabel,\n  getGeometryLabelLayout,\n} from './geometry/label';\n\n//  interaction\nexport { getInteraction, registerInteraction, registerAction, getActionClass } from './interaction';\n\n//  facet\nexport { getFacet, registerFacet } from './facet';\n\n// \nexport { getTheme, registerTheme } from './theme';\n\n// G engine \nexport { registerEngine, getEngine } from './engine';\n\n// \nexport { registerAnimation, getAnimation } from './animate/animation';\n\nexport { LAYER, DIRECTION } from './constant';\n\n//  typescript  export * as \nimport * as Types from './interface';\nexport type { Types };\n\nexport { IGroup, ShapeAttrs, Coordinate, Scale, ScaleConfig } from './dependents';\n\n// \nimport { getMappingValue } from './util/attr';\nimport { getLegendItems } from './util/legend';\nimport { getAngle, getSectorPath, polarToCartesian } from './util/graphics';\nimport { rotate, transform, translate, zoom } from './util/transform';\nimport { getTooltipItems } from './util/tooltip';\nimport { getDelegationObject } from './interaction/action/util';\nimport { getPathPoints } from './geometry/shape/util/get-path-points';\nimport { getPath } from './geometry/shape/line';\n\nexport const Util = {\n  getLegendItems,\n  translate,\n  rotate,\n  zoom,\n  transform,\n  getAngle,\n  getSectorPath,\n  polarToCartesian,\n  getDelegationObject,\n  getTooltipItems,\n  getMappingValue,\n  // shape \n  getPath,\n  getPathPoints,\n};\n","import { StyleSheetCfg } from '../../interface';\n\nconst WHITE_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst BLACK_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#E86452',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#E86452',\n  '#F8D0CB',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\n/**  */\nconst SINGLE_SEQUENCE = [\n  '#B8E1FF',\n  '#9AC5FF',\n  '#7DAAFF',\n  '#5B8FF9',\n  '#3D76DD',\n  '#085EC0',\n  '#0047A5',\n  '#00318A',\n  '#001D70',\n];\n\nexport const createDarkStyleSheet = (cfg: StyleSheetCfg = {}) => {\n  const { paletteQualitative10 = QUALITATIVE_10, paletteQualitative20 = QUALITATIVE_20 } = cfg;\n  const { brandColor = paletteQualitative10[0] } = cfg;\n\n  const token = {\n    /**  */\n    backgroundColor: '#141414',\n    /**  */\n    brandColor,\n    /**  */\n    subColor: 'rgba(255,255,255,0.05)',\n    /**  1 10  */\n    paletteQualitative10,\n    /**  2 10  */\n    paletteQualitative20,\n    /**  */\n    paletteSemanticRed: '#F4664A',\n    /**  */\n    paletteSemanticGreen: '#30BF78',\n    /**  */\n    paletteSemanticYellow: '#FAAD14',\n    /** () */\n    paletteSequence: SINGLE_SEQUENCE,\n    /**  */\n    fontFamily: `\"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n    \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n    \"Noto Color Emoji\"`,\n\n    // --------------------  --------------------\n    /**  */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisLineBorder: 1,\n    /**  lineDash  */\n    axisLineDash: null,\n\n    /**  */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /**  */\n    axisTitleTextFontSize: 12,\n    /**  */\n    axisTitleTextLineHeight: 12,\n    /**  */\n    axisTitleTextFontWeight: 'normal',\n    /**  */\n    axisTitleSpacing: 12,\n    /** icon */\n    axisDescriptionIconFillColor: WHITE_COLORS[85],\n\n    /**  */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisTickLineLength: 4,\n    /**  */\n    axisTickLineBorder: 1,\n\n    /**  */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisSubTickLineLength: 2,\n    /**  */\n    axisSubTickLineBorder: 1,\n\n    /**  */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /**  */\n    axisLabelFontSize: 12,\n    /**  */\n    axisLabelLineHeight: 12,\n    /**  */\n    axisLabelFontWeight: 'normal',\n    /**  */\n    axisLabelOffset: 8,\n\n    /**  */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisGridBorder: 1,\n    /**  */\n    axisGridLineDash: null,\n\n    // --------------------  --------------------\n    /**  */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendTitleTextFontSize: 12,\n    /**  */\n    legendTitleTextLineHeight: 21,\n    /**  */\n    legendTitleTextFontWeight: 'normal',\n\n    /**  marker  */\n    legendMarkerColor: QUALITATIVE_10[0],\n    /**  marker  */\n    legendMarkerSpacing: 8,\n    /**  marker  */\n    legendMarkerSize: 4,\n    /**  'circle' marker  */\n    legendCircleMarkerSize: 4,\n    /**  'square' marker  */\n    legendSquareMarkerSize: 4,\n    /**  'line' marker  */\n    legendLineMarkerSize: 5,\n\n    /**  */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /**  */\n    legendItemNameFontSize: 12,\n    /**  */\n    legendItemNameLineHeight: 12,\n    /**  */\n    legendItemNameFontWeight: 'normal',\n    /**  */\n    legendItemSpacing: 24,\n    /**  */\n    legendItemMarginBottom: 12,\n    /**   */\n    legendSpacing: 16,\n    /**   */\n    legendPadding: [8, 8, 8, 8],\n    /**  */\n    legendHorizontalPadding: [8, 0, 8, 0],\n    /**  */\n    legendVerticalPadding: [0, 8, 0, 8],\n\n    // \n    /**  marker  */\n    legendPageNavigatorMarkerSize: 12,\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillColor: BLACK_COLORS[45],\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillOpacity: 0.45,\n    /**  marker  */\n    legendPageNavigatorMarkerFillColor: BLACK_COLORS[45],\n    /**  marker  */\n    legendPageNavigatorMarkerFillOpacity: 1,\n    /**  */\n    legendPageNavigatorTextFillColor: BLACK_COLORS[65],\n    /**  */\n    legendPageNavigatorTextFontSize: 12,\n\n    /**  */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /**  */\n    sliderRailBorder: 0,\n    /**  */\n    sliderRailBorderColor: null,\n    /**  */\n    sliderRailWidth: 100,\n    /**  */\n    sliderRailHeight: 12,\n\n    /**  */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /**  */\n    sliderLabelTextFontSize: 12,\n    /**  */\n    sliderLabelTextLineHeight: 12,\n    /**  */\n    sliderLabelTextFontWeight: 'normal',\n\n    /**  */\n    sliderHandlerFillColor: WHITE_COLORS[6],\n    /**  */\n    sliderHandlerWidth: 10,\n    /**  */\n    sliderHandlerHeight: 14,\n    /**  */\n    sliderHandlerBorder: 1,\n    /**  */\n    sliderHandlerBorderColor: WHITE_COLORS[25],\n\n    // -------------------- Annotation --------------------\n    /** arc  */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc  */\n    annotationArcBorder: 1,\n\n    /** line  */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line  */\n    annotationLineBorder: 1,\n    /** lube  */\n    annotationLineDash: null,\n\n    /** text  */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text  */\n    annotationTextFontSize: 12,\n    /** text  */\n    annotationTextLineHeight: 12,\n    /** text  */\n    annotationTextFontWeight: 'normal',\n    /** text  */\n    annotationTextBorderColor: null,\n    /** text  */\n    annotationTextBorder: 0,\n\n    /** region  */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region  */\n    annotationRegionFillOpacity: 0.06,\n    /** region  */\n    annotationRegionBorder: 0,\n    /** region  */\n    annotationRegionBorderColor: null,\n\n    /** dataMarker  */\n    annotationDataMarkerLineLength: 16,\n\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs  */\n    tooltipCrosshairsLineDash: null,\n\n    /** tooltip  */\n    tooltipContainerFillColor: '#1f1f1f',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip  */\n    tooltipContainerShadow: '0px 2px 4px rgba(0,0,0,.5)',\n    /** tooltip  */\n    tooltipContainerBorderRadius: 3,\n\n    /** tooltip  */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip  */\n    tooltipTextFontSize: 12,\n    /** tooltip  */\n    tooltipTextLineHeight: 12,\n    /** tooltip  */\n    tooltipTextFontWeight: 'bold',\n\n    // -------------------- Geometry labels --------------------\n    /** Geometry label  */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    labelFontSize: 12,\n    /** Geometry label  */\n    labelLineHeight: 12,\n    /** Geometry label  */\n    labelFontWeight: 'normal',\n    /** Geometry label  */\n    labelBorderColor: null,\n    /** Geometry label  */\n    labelBorder: 0,\n\n    /** Geometry innerLabel  */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel  */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel  */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel  */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel  */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel  */\n    innerLabelBorder: 0,\n\n    /** Geometry label  */\n    overflowLabelFillColor: BLACK_COLORS[65],\n    overflowLabelFillColorDark: '#2c3542',\n    overflowLabelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    overflowLabelFontSize: 12,\n    /** Geometry label  */\n    overflowLabelLineHeight: 12,\n    /** Geometry label  */\n    overflowLabelFontWeight: 'normal',\n    /** Geometry label  */\n    overflowLabelBorderColor: WHITE_COLORS[100],\n    /** Geometry label  */\n    overflowLabelBorder: 1,\n\n    /** Geometry label  */\n    labelLineBorder: 1,\n    /** Geometry label  */\n    labelLineBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Slider --------------------\n    /** slider  */\n    cSliderRailHieght: 16,\n    /** slider  */\n    cSliderBackgroundFillColor: '#416180',\n    /** slider  */\n    cSliderBackgroundFillOpacity: 0.05,\n    /** slider  */\n    cSliderForegroundFillColor: '#5B8FF9',\n    /** slider  */\n    cSliderForegroundFillOpacity: 0.15,\n    // slider handlerStyle \n    /** slider  */\n    cSliderHandlerHeight: 24,\n    /** Slider  */\n    cSliderHandlerWidth: 10,\n    /** Slider  */\n    cSliderHandlerFillColor: '#F7F7F7',\n    /** Slider  */\n    cSliderHandlerFillOpacity: 1,\n    /** Slider  */\n    cSliderHandlerHighlightFillColor: '#FFF',\n    /** Slider  */\n    cSliderHandlerBorderColor: '#BFBFBF',\n    /** Slider  */\n    cSliderHandlerBorder: 1,\n    /** Slider  */\n    cSliderHandlerBorderRadius: 2,\n    // slider textStyle \n    /** Slider  */\n    cSliderTextFillColor: '#fff',\n    /** Slider  */\n    cSliderTextFillOpacity: 0.45,\n    /** Slider  */\n    cSliderTextFontSize: 12,\n    /** Slider  */\n    cSliderTextLineHeight: 12,\n    /** Slider  */\n    cSliderTextFontWeight: 'normal',\n    /** Slider  */\n    cSliderTextBorderColor: null,\n    /** Slider  */\n    cSliderTextBorder: 0,\n\n    // -------------------- Scrollbar --------------------\n    /**   */\n    scrollbarTrackFillColor: 'rgba(255,255,255,0.65)',\n    /**   */\n    scrollbarThumbFillColor: 'rgba(0,0,0,0.35)',\n    /**   */\n    scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.45)',\n\n    // -------------------- Geometry --------------------\n    /**  */\n    pointFillColor: QUALITATIVE_10[0],\n    /**  */\n    pointFillOpacity: 0.95,\n    /**  */\n    pointSize: 4,\n    /**  */\n    pointBorder: 1,\n    /**  */\n    pointBorderColor: WHITE_COLORS[100],\n    /**  */\n    pointBorderOpacity: 1,\n\n    /**  active  */\n    pointActiveBorderColor: BLACK_COLORS[100],\n\n    /**  selected  */\n    pointSelectedBorder: 2,\n    /**  selected  */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n\n    /**  inactive  */\n    pointInactiveFillOpacity: 0.3,\n    /**  inactive  */\n    pointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    hollowPointSize: 4,\n    /**  */\n    hollowPointBorder: 1,\n    /**  */\n    hollowPointBorderColor: QUALITATIVE_10[0],\n    /**  */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n\n    /**  active  */\n    hollowPointActiveBorder: 1,\n    /**  active  */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /**  active  */\n    hollowPointActiveBorderOpacity: 1,\n\n    /**  selected  */\n    hollowPointSelectedBorder: 2,\n    /**  selected  */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /**  selected  */\n    hollowPointSelectedBorderOpacity: 1,\n\n    /**  inactive  */\n    hollowPointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    lineBorder: 2,\n    /**  */\n    lineBorderColor: QUALITATIVE_10[0],\n    /**  */\n    lineBorderOpacity: 1,\n\n    /**  Active  */\n    lineActiveBorder: 3,\n\n    /**  selected  */\n    lineSelectedBorder: 3,\n\n    /**  inactive  */\n    lineInactiveBorderOpacity: 0.3,\n\n    /** area  */\n    areaFillColor: QUALITATIVE_10[0],\n    /** area  */\n    areaFillOpacity: 0.25,\n\n    /** area  active  */\n    areaActiveFillColor: QUALITATIVE_10[0],\n    areaActiveFillOpacity: 0.5,\n\n    /** area  selected  */\n    areaSelectedFillColor: QUALITATIVE_10[0],\n    areaSelectedFillOpacity: 0.5,\n\n    /** area inactive  */\n    areaInactiveFillOpacity: 0.3,\n\n    /** hollowArea  */\n    hollowAreaBorderColor: QUALITATIVE_10[0],\n    /** hollowArea  */\n    hollowAreaBorder: 2,\n    /** hollowArea  */\n    hollowAreaBorderOpacity: 1,\n\n    /** hollowArea active  */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea selected  */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea inactive  */\n    hollowAreaInactiveBorderOpacity: 0.3,\n\n    /** interval  */\n    intervalFillColor: QUALITATIVE_10[0],\n    /** interval  */\n    intervalFillOpacity: 0.95,\n\n    /** interval active  */\n    intervalActiveBorder: 1,\n    /** interval active  */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n\n    /** interval selected  */\n    intervalSelectedBorder: 2,\n    /** interval selected  */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected  */\n    intervalSelectedBorderOpacity: 1,\n\n    /** interval inactive  */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive  */\n    intervalInactiveFillOpacity: 0.3,\n\n    /** interval  */\n    hollowIntervalBorder: 2,\n    /** hollowInterval  */\n    hollowIntervalBorderColor: QUALITATIVE_10[0],\n    /** hollowInterval  */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n\n    /** hollowInterval active  */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active  */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderOpacity: 1,\n\n    /** hollowInterval inactive  */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n  };\n\n  return { ...token, ...cfg };\n};\n\nexport const antvDark = createDarkStyleSheet();\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry, { GeometryCfg } from './base';\nimport Element from './element';\n/**  ShapeFactory */\nimport './shape/line';\nimport { isModelChange } from './util/is-model-change';\nimport { diff } from './util/diff';\n\n/** Path  */\nexport interface PathCfg extends GeometryCfg {\n  /**  */\n  connectNulls?: boolean;\n  /**  */\n  showSinglePoint?: boolean;\n}\n\n/**\n * Path \n * \n */\nexport default class Path extends Geometry {\n  public readonly type: string = 'path';\n  public readonly shapeType: string = 'line';\n  /**  */\n  public connectNulls: boolean;\n  /**  */\n  public showSinglePoint: boolean;\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { connectNulls = false, showSinglePoint = true } = cfg;\n    this.connectNulls = connectNulls;\n    this.showSinglePoint = showSinglePoint;\n  }\n\n  /**\n   *  Element  PathLineArea Element\n   * @param mappingData\n   * @param [isUpdate]\n   * @returns elements\n   */\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false) {\n    // Path  element \n    const keyData = new Map<string, MappingDatum[]>();\n    const keyIndex = new Map<string, number>();\n    const keys: string[] = [];\n\n    let index = 0;\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      const key = this.getElementId(mappingData);\n      keys.push(key);\n      keyData.set(key, mappingData);\n      keyIndex.set(key, index);\n      index++;\n    }\n\n    this.elements = new Array(index);\n\n    const { added, updated, removed } = diff(this.lastElementsMap, keys);\n\n    for (const key of added) {\n      const mappingData = keyData.get(key);\n      const shapeFactory = this.getShapeFactory();\n      const shapeCfg = this.getShapeInfo(mappingData);\n      const i = keyIndex.get(key);\n      const element = new Element({\n        shapeFactory,\n        container: this.container,\n        offscreenGroup: this.getOffscreenGroup(),\n        elementIndex: i,\n      });\n      element.geometry = this;\n      element.animate = this.animateOption;\n      element.draw(shapeCfg, isUpdate); //  shape\n      this.elementsMap[key] = element;\n      this.elements[i] = element;\n    }\n\n    for (const key of updated) {\n      const mappingData = keyData.get(key);\n      const element = this.lastElementsMap[key];\n      const i = keyIndex.get(key);\n      const shapeCfg = this.getShapeInfo(mappingData);\n      const preShapeCfg = element.getModel();\n      if (this.isCoordinateChanged || isModelChange(preShapeCfg, shapeCfg)) {\n        element.animate = this.animateOption;\n        // \n        element.update(shapeCfg); //  element\n      }\n      this.elementsMap[key] = element;\n      this.elements[i] = element;\n    }\n\n    for (const key of removed) {\n      const element = this.lastElementsMap[key];\n      // \n      element.animate = this.animateOption;\n      element.destroy();\n    }\n  }\n\n  /**\n   * \n   * @param mappingData \n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push({\n        x: obj.x,\n        y: obj.y,\n      });\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n    const { points, data } = this.getPointsAndData(mappingData);\n    shapeCfg.mappingData = mappingData;\n    shapeCfg.data = data;\n    shapeCfg.isStack = !!this.getAdjust('stack');\n    shapeCfg.points = points;\n    shapeCfg.connectNulls = this.connectNulls;\n    shapeCfg.showSinglePoint = this.showSinglePoint;\n\n    return shapeCfg;\n  }\n}\n","import { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position, Shape, ShapeInfo } from '../../../interface';\n\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\n\nfunction getPath(\n  points: Point[],\n  isInCircle: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n): PathCommand[] {\n  let path = [];\n\n  if (points.length) {\n    const topLinePoints = []; // area \n    let bottomLinePoints = []; // area \n    for (let i = 0, len = points.length; i < len; i++) {\n      const point = points[i];\n      topLinePoints.push(point[1]);\n      bottomLinePoints.push(point[0]);\n    }\n    bottomLinePoints = bottomLinePoints.reverse();\n\n    each([topLinePoints, bottomLinePoints], (pointsData, index) => {\n      let subPath = [];\n      const parsedPoints = registeredShape.parsePoints(pointsData);\n      const p1 = parsedPoints[0];\n\n      if (topLinePoints.length === 1 && bottomLinePoints.length === 1) {\n        // \n        subPath =\n          index === 0\n            ? [\n                ['M', p1.x - 0.5, p1.y],\n                ['L', p1.x + 0.5, p1.y],\n              ]\n            : [\n                ['L', p1.x + 0.5, p1.y],\n                ['L', p1.x - 0.5, p1.y],\n              ];\n      } else {\n        if (isInCircle) {\n          parsedPoints.push({ x: p1.x, y: p1.y });\n        }\n        if (smooth) {\n          subPath = getSplinePath(parsedPoints, false, constraint);\n        } else {\n          subPath = getLinePath(parsedPoints, false);\n        }\n        if (index > 0) {\n          subPath[0][0] = 'L';\n        }\n      }\n\n      path = path.concat(subPath);\n    });\n\n    path.push(['Z']);\n  }\n\n  return path;\n}\n\n/**\n * @ignore\n * Gets shape attrs\n * @param cfg\n * @param isStroke\n * @param smooth\n * @param registeredShape\n * @param [constraint]\n * @returns\n */\nexport function getShapeAttrs(\n  cfg: ShapeInfo,\n  isStroke: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n) {\n  const attrs = getStyle(cfg, isStroke, !isStroke, 'lineWidth');\n  const { connectNulls, isInCircle, points, showSinglePoint } = cfg;\n  const pathPoints = getPathPoints(points, connectNulls, showSinglePoint); //  connectNulls \n\n  let path = [];\n  for (let i = 0, len = pathPoints.length; i < len; i++) {\n    const eachPoints = pathPoints[i];\n    path = path.concat(getPath(eachPoints, isInCircle, smooth, registeredShape, constraint));\n  }\n  attrs.path = path;\n\n  return attrs;\n}\n\n/**\n * @ignore\n * Gets constraint\n * @param coordinate\n * @returns constraint\n */\nexport function getConstraint(coordinate: Coordinate): Position[] {\n  const { start, end } = coordinate;\n  return [\n    [start.x, end.y],\n    [end.x, start.y],\n  ];\n}\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getShapeAttrs } from './util';\n\nconst AreaShapeFactory = registerShapeFactory('area', {\n  defaultShapeType: 'area',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    // area \n    const { x, y0 } = pointInfo;\n    const y = isArray(pointInfo.y) ? pointInfo.y : [y0, pointInfo.y];\n\n    return y.map((yItem: number) => {\n      return {\n        x: x as number,\n        y: yItem,\n      };\n    });\n  },\n});\n\n// Area  shape\nregisterShape('area', 'area', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, false, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n        fillOpacity: 1,\n      },\n    };\n  },\n});\n\nexport default AreaShapeFactory;\n","import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum } from '../interface';\nimport Path, { PathCfg } from './path';\nimport './shape/area';\n\n/** Area  */\nexport interface AreaCfg extends PathCfg {\n  /**\n   *  0 \n   * 1.  `true`\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2.  `false` \n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  startOnZero?: boolean;\n}\n\n/**\n * Area \n * \n */\nexport default class Area extends Path {\n  public readonly type: string = 'area';\n  public readonly shapeType: string = 'area';\n  /**  */\n  public readonly generatePoints: boolean = true;\n  /**\n   *  0 \n   * 1.  `true`\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2.  `false` \n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  public readonly startOnZero: boolean = true;\n\n  constructor(cfg: AreaCfg) {\n    super(cfg);\n\n    const { startOnZero = true, sortable = false, showSinglePoint = false } = cfg;\n    this.startOnZero = startOnZero; //  true\n    this.sortable = sortable; //  X \n    this.showSinglePoint = showSinglePoint;\n  }\n\n  /**\n   * \n   * @param mappingData \n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push(obj.points);\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  /**\n   *  Y \n   * @returns y \n   */\n  protected getYMinValue(): number {\n    if (this.startOnZero) {\n      return super.getYMinValue();\n    }\n    const yScale = this.getYScale();\n    return yScale.min;\n  }\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\n\nconst EdgeShapeFactory = registerShapeFactory('edge', {\n  defaultShapeType: 'line',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\nregisterShape('edge', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const path = getLinePath(this.parsePoints(cfg.points), this.coordinate.isPolar);\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n\nexport default EdgeShapeFactory;\n","import Geometry from './base';\nimport './shape/edge';\n\n/**\n * Edge ****\n * 1. \n * 2. \n * 3. \n * 4. \n * 5. \n */\nexport default class Edge extends Geometry {\n  public readonly type: string = 'edge';\n  public readonly shapeType: string = 'edge';\n  protected generatePoints: boolean = true;\n}\n","import ColorUtil from '@antv/color-util';\nimport { get, isNumber } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Color, IShape } from '../dependents';\nimport { Data, Datum, MappingDatum, ShapeInfo, AttributeOption, ColorAttrCallback } from '../interface';\nimport Geometry from './base';\n\n/**\n * \n */\nexport default class Heatmap extends Geometry {\n  public readonly type: string = 'heatmap';\n\n  private paletteCache: Record<number, number> = {};\n  private grayScaleBlurredCanvas: HTMLCanvasElement;\n  private shadowCanvas: HTMLCanvasElement;\n  private imageShape: IShape;\n\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false) {\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      const range = this.prepareRange(mappingData);\n      const radius = this.prepareSize();\n\n      let blur = get(this.styleOption, ['cfg', 'shadowBlur']);\n      if (!isNumber(blur)) {\n        blur = radius / 2;\n      }\n\n      this.prepareGreyScaleBlurredCircle(radius, blur);\n      this.drawWithRange(mappingData, range, radius, blur);\n    }\n  }\n\n  /**  callback  */\n  public color(field: AttributeOption | string, cfg?: string | string[] | ColorAttrCallback): Geometry {\n    this.createAttrOption('color', field, typeof cfg !== 'function' ? cfg : '');\n\n    return this;\n  }\n\n  /**\n   * clear\n   */\n  public clear() {\n    super.clear();\n    this.clearShadowCanvasCtx();\n    this.paletteCache = {};\n  }\n\n  private prepareRange(data: MappingDatum[]) {\n    const colorAttr = this.getAttribute('color');\n    const colorField = colorAttr.getFields()[0];\n\n    let min = Infinity;\n    let max = -Infinity;\n    data.forEach((row) => {\n      const value = row[FIELD_ORIGIN][colorField];\n      if (value > max) {\n        max = value;\n      }\n      if (value < min) {\n        min = value;\n      }\n    });\n\n    if (min === max) {\n      min = max - 1;\n    }\n\n    return [min, max];\n  }\n\n  private prepareSize() {\n    let radius = this.getDefaultValue('size');\n    if (!isNumber(radius)) {\n      radius = this.getDefaultSize();\n    }\n\n    return radius;\n  }\n\n  private prepareGreyScaleBlurredCircle(radius: number, blur: number) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    const r2 = radius + blur;\n    const ctx = grayScaleBlurredCanvas.getContext('2d');\n    grayScaleBlurredCanvas.width = grayScaleBlurredCanvas.height = r2 * 2;\n    ctx.clearRect(0, 0, grayScaleBlurredCanvas.width, grayScaleBlurredCanvas.height);\n    ctx.shadowOffsetX = ctx.shadowOffsetY = r2 * 2;\n    ctx.shadowBlur = blur;\n    ctx.shadowColor = 'black';\n\n    ctx.beginPath();\n    ctx.arc(-r2, -r2, radius, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n  }\n\n  private drawWithRange(data: MappingDatum[], range: number[], radius: number, blur: number) {\n    // canvas size\n    const { start, end } = this.coordinate;\n    const width = this.coordinate.getWidth();\n    const height = this.coordinate.getHeight();\n\n    // value, range, etc\n    const colorAttr = this.getAttribute('color');\n    const valueField = colorAttr.getFields()[0];\n\n    // prepare shadow canvas context\n    this.clearShadowCanvasCtx();\n    const ctx = this.getShadowCanvasCtx();\n    // filter data\n    if (range) {\n      data = data.filter((row) => {\n        return row[FIELD_ORIGIN][valueField] <= range[1] && row[FIELD_ORIGIN][valueField] >= range[0];\n      });\n    }\n\n    // step1. draw points with shadow\n    const scale = this.scales[valueField];\n    for (const obj of data) {\n      const { x, y } = this.getDrawCfg(obj);\n      const alpha = scale.scale(obj[FIELD_ORIGIN][valueField]);\n      this.drawGrayScaleBlurredCircle((x as number) - start.x, (y as number) - end.y, radius + blur, alpha, ctx);\n    }\n\n    // step2. convert pixels\n    const colored = ctx.getImageData(0, 0, width, height);\n    this.clearShadowCanvasCtx();\n    this.colorize(colored);\n    ctx.putImageData(colored, 0, 0);\n    const imageShape = this.getImageShape();\n    imageShape.attr('x', start.x);\n    imageShape.attr('y', end.y);\n    imageShape.attr('width', width);\n    imageShape.attr('height', height);\n    imageShape.attr('img', ctx.canvas);\n    imageShape.set('origin', this.getShapeInfo(data)); // \n  }\n\n  private getDefaultSize() {\n    const position = this.getAttribute('position');\n    const coordinate = this.coordinate;\n    return Math.min(\n      coordinate.getWidth() / (position.scales[0].ticks.length * 4),\n      coordinate.getHeight() / (position.scales[1].ticks.length * 4)\n    );\n  }\n\n  private clearShadowCanvasCtx() {\n    const ctx = this.getShadowCanvasCtx();\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  }\n\n  private getShadowCanvasCtx() {\n    let canvas = this.shadowCanvas;\n    if (!canvas) {\n      canvas = document.createElement('canvas');\n      this.shadowCanvas = canvas;\n    }\n    canvas.width = this.coordinate.getWidth();\n    canvas.height = this.coordinate.getHeight();\n    return canvas.getContext('2d');\n  }\n\n  private getGrayScaleBlurredCanvas() {\n    if (!this.grayScaleBlurredCanvas) {\n      this.grayScaleBlurredCanvas = document.createElement('canvas');\n    }\n\n    return this.grayScaleBlurredCanvas;\n  }\n\n  private drawGrayScaleBlurredCircle(x: number, y: number, r: number, alpha: number, ctx: CanvasRenderingContext2D) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    ctx.globalAlpha = alpha;\n    ctx.drawImage(grayScaleBlurredCanvas, x - r, y - r);\n  }\n\n  private colorize(img: ImageData) {\n    const colorAttr = this.getAttribute('color') as Color;\n    const pixels = img.data;\n    const paletteCache = this.paletteCache;\n    for (let i = 3; i < pixels.length; i += 4) {\n      const alpha = pixels[i]; // get gradient color from opacity value\n      if (isNumber(alpha)) {\n        const palette = paletteCache[alpha] ? paletteCache[alpha] : ColorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n        pixels[i - 3] = palette[0];\n        pixels[i - 2] = palette[1];\n        pixels[i - 1] = palette[2];\n        pixels[i] = alpha;\n      }\n    }\n  }\n\n  private getImageShape() {\n    let imageShape = this.imageShape;\n    if (imageShape) {\n      return imageShape;\n    }\n    const container = this.container;\n    imageShape = container.addShape({\n      type: 'image',\n      attrs: {},\n    });\n    this.imageShape = imageShape;\n    return imageShape;\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n\n    const data = mappingData.map((obj: Datum) => {\n      return obj[FIELD_ORIGIN];\n    });\n\n    return {\n      ...shapeCfg,\n      mappingData,\n      data,\n    };\n  }\n}\n","import { Coordinate } from '@antv/coord';\nimport { isArray, isNil, get } from '@antv/util';\nimport { getAngle, getSectorPath } from '../../../util/graphics';\nimport { PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapePoint } from '../../../interface';\n\n/**\n * @ignore\n * \n * @param pointInfo \n * @param [isPyramid] \n * @returns rect points \n */\nexport function getRectPoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  //  4 \n  // 1. x, y \n  // 2. yx\n  // 3. xy\n  // 4. x, y \n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  let xMin;\n  let xMax;\n  if (isArray(x)) {\n    [xMin, xMax] = x;\n  } else {\n    xMin = x - size / 2;\n    xMax = x + size / 2;\n  }\n\n  const points = [\n    { x: xMin, y: yMin },\n    { x: xMin, y: yMax },\n  ];\n\n  // \n  // 1 ---- 2\n  // |      |\n  // 0 ---- 3\n  points.push({ x: xMax, y: yMax }, { x: xMax, y: yMin });\n\n  return points;\n}\n\n/**\n * @ignore\n *  path\n * @param points \n * @param isClosed path \n * @returns  path\n */\nexport function getRectPath(points: Point[], isClosed: boolean = true): PathCommand[] {\n  const path = [];\n  const firstPoint = points[0];\n  path.push(['M', firstPoint.x, firstPoint.y]);\n  for (let i = 1, len = points.length; i < len; i++) {\n    path.push(['L', points[i].x, points[i].y]);\n  }\n  //  shape=\"line\" path  lineCap \n  if (isClosed) {\n    path.push(['L', firstPoint.x, firstPoint.y]); // \n    path.push(['z']);\n  }\n  return path;\n}\n\n/**\n *  rect path  radius\n * @returns  path  arc \n */\nexport function parseRadius(radius: number | number[], minLength: number): number[] {\n  let r1 = 0;\n  let r2 = 0;\n  let r3 = 0;\n  let r4 = 0;\n  if (isArray(radius)) {\n    if (radius.length === 1) {\n      r1 = r2 = r3 = r4 = radius[0];\n    } else if (radius.length === 2) {\n      r1 = r3 = radius[0];\n      r2 = r4 = radius[1];\n    } else if (radius.length === 3) {\n      r1 = radius[0];\n      r2 = r4 = radius[1];\n      r3 = radius[2];\n    } else {\n      r1 = radius[0];\n      r2 = radius[1];\n      r3 = radius[2];\n      r4 = radius[3];\n    }\n  } else {\n    r1 = r2 = r3 = r4 = radius;\n  }\n\n  //  \n  if (r1 + r2 > minLength) {\n    r1 = r1 ? minLength / (1 + r2 / r1) : 0;\n    r2 = minLength - r1;\n  }\n\n  if (r3 + r4 > minLength) {\n    r3 = r3 ? minLength / (1 + r4 / r3) : 0;\n    r4 = minLength - r3;\n  }\n\n  return [r1 || 0, r2 || 0, r3 || 0, r4 || 0];\n}\n\n/**\n *  interval  path\n * @param cfg \n * @param points  4 \n * @param coordinate \n * @returns  path\n */\nexport function getBackgroundRectPath(cfg: ShapeInfo, points: Point[], coordinate: Coordinate): PathCommand[] {\n  let path = [];\n  if (coordinate.isRect) {\n    const p0 = coordinate.isTransposed\n      ? { x: coordinate.start.x, y: points[0].y }\n      : { x: points[0].x, y: coordinate.start.y };\n    const p1 = coordinate.isTransposed\n      ? { x: coordinate.end.x, y: points[2].y }\n      : { x: points[3].x, y: coordinate.end.y };\n\n    // corner radius of background shape works only in \n    const radius = get(cfg, ['background', 'style', 'radius']);\n    if (radius) {\n      const width = coordinate.isTransposed ? Math.abs(points[0].y - points[2].y) : points[2].x - points[1].x;\n      const height = coordinate.isTransposed ? coordinate.getWidth() : coordinate.getHeight();\n      const [r1, r2, r3, r4] = parseRadius(radius, Math.min(width, height));\n\n      //    y \n      const isReflectYTransposed = (coordinate.isTransposed && coordinate.isReflect('y'));\n      const bump = isReflectYTransposed ? 0 : 1;\n      const opposite = (r: number) => isReflectYTransposed ? -r : r;\n\n      path.push(['M', p0.x, p1.y + opposite(r1)]);\n      r1 !== 0 && path.push(['A', r1, r1, 0, 0, bump, p0.x + r1, p1.y]);\n      path.push(['L', p1.x - r2, p1.y]);\n      r2 !== 0 && path.push(['A', r2, r2, 0, 0, bump, p1.x, p1.y + opposite(r2)]);\n      path.push(['L', p1.x, p0.y - opposite(r3)]);\n      r3 !== 0 && path.push(['A', r3, r3, 0, 0, bump, p1.x - r3, p0.y]);\n      path.push(['L', p0.x + r4, p0.y]);\n      r4 !== 0 && path.push(['A', r4, r4, 0, 0, bump, p0.x, p0.y - opposite(r4)]);\n    } else {\n      path.push(['M', p0.x, p0.y]);\n      path.push(['L', p1.x, p0.y]);\n      path.push(['L', p1.x, p1.y]);\n      path.push(['L', p0.x, p1.y]);\n      path.push(['L', p0.x, p0.y]);\n    }\n\n    path.push(['z']);\n  }\n\n  if (coordinate.isPolar) {\n    const center = coordinate.getCenter();\n    const { startAngle, endAngle } = getAngle(cfg, coordinate);\n    if (coordinate.type !== 'theta' && !coordinate.isTransposed) {\n      //  path\n      path = getSectorPath(center.x, center.y, coordinate.getRadius(), startAngle, endAngle);\n    } else {\n      const pow = (v) => Math.pow(v, 2);\n      const r1 = Math.sqrt(pow(center.x - points[0].x) + pow(center.y - points[0].y));\n      const r2 = Math.sqrt(pow(center.x - points[2].x) + pow(center.y - points[2].y));\n      //  path coordinate \n      path = getSectorPath(center.x, center.y, r1, coordinate.startAngle, coordinate.endAngle, r2);\n    }\n  }\n  return path;\n}\n\n/**\n * @ignore\n *  path\n * @param points \n * @param lineCap 'round'\n * @param coor \n * @returns  path\n */\nexport function getIntervalRectPath(points: Point[], lineCap: CanvasLineCap, coor: Coordinate): PathCommand[] {\n  const width = coor.getWidth();\n  const height = coor.getHeight();\n  const isRect = coor.type === 'rect';\n  let path = [];\n  const r = (points[2].x - points[1].x) / 2;\n  const ry = coor.isTransposed ? (r * height) / width : (r * width) / height;\n  if (lineCap === 'round') {\n    if (isRect) {\n      path.push(['M', points[0].x, points[0].y + ry]);\n      path.push(['L', points[1].x, points[1].y - ry]);\n      path.push(['A', r, r, 0, 0, 1, points[2].x, points[2].y - ry]);\n      path.push(['L', points[3].x, points[3].y + ry]);\n      path.push(['A', r, r, 0, 0, 1, points[0].x, points[0].y + ry]);\n    } else {\n      path.push(['M', points[0].x, points[0].y]);\n      path.push(['L', points[1].x, points[1].y]);\n      path.push(['A', r, r, 0, 0, 1, points[2].x, points[2].y]);\n      path.push(['L', points[3].x, points[3].y]);\n      path.push(['A', r, r, 0, 0, 1, points[0].x, points[0].y]);\n    }\n    path.push(['z']);\n  } else {\n    path = getRectPath(points);\n  }\n  return path;\n}\n\n/**\n * @ignore\n *  funnel  path\n * @param points \n * @param nextPoints \n * @param isPyramid \n * @returns  path\n */\nexport function getFunnelPath(points: Point[], nextPoints: Point[], isPyramid: boolean) {\n  const path = [];\n  if (!isNil(nextPoints)) {\n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', nextPoints[1].x, nextPoints[1].y],\n      ['L', nextPoints[0].x, nextPoints[0].y],\n      ['Z']\n    );\n  } else if (isPyramid) {\n    // \n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', (points[2].x + points[3].x) / 2, (points[2].y + points[3].y) / 2],\n      ['Z']\n    );\n  } else {\n    // \n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', points[2].x, points[2].y],\n      ['L', points[3].x, points[3].y],\n      ['Z']\n    );\n  }\n\n  return path;\n}\n\n/**\n * \n */\nfunction swap<T>(p0: T, p1: T) {\n  return [p1, p0];\n}\n\n/**\n *   \n * - \n */\nexport function getRectWithCornerRadius(points: Point[], coordinate: Coordinate, radius?: number | number[]) {\n  //  \n  let [p0, p1, p2, p3] = [...points];\n  let [r1, r2, r3, r4] = typeof radius === 'number' ? Array(4).fill(radius) : radius;\n\n  if (coordinate.isTransposed) {\n    [p1, p3] = swap(p1, p3);\n  }\n\n  /**\n   * \n   */\n  if (coordinate.isReflect('y')) {\n    [p0, p1] = swap(p0, p1);\n    [p2, p3] = swap(p2, p3);\n  }\n  if (coordinate.isReflect('x')) {\n    [p0, p3] = swap(p0, p3);\n    [p1, p2] = swap(p1, p2);\n  }\n\n  const path = [];\n\n\n  /**\n   *  p1  p2\n   *      \n   *  p0  p3\n   *\n   *  \n   *\n   *  p0  p3               p2  p1\n   *                           \n   *  p1  p2  --> ()  p3  p0\n   */\n  const abs = v => Math.abs(v);\n  [r1, r2, r3, r4] = parseRadius([r1, r2, r3, r4], Math.min(abs(p3.x - p0.x), abs(p1.y - p0.y))).map(d => abs(d));\n\n  if (coordinate.isTransposed) {\n    [r1, r2, r3, r4] = [r4, r1, r2, r3]\n  }\n\n  if (p0.y < p1.y /**  */) {\n    path.push(['M', p3.x, p3.y + r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 0, p3.x - r3, p3.y]);\n    path.push(['L', p0.x + r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 0, p0.x, p0.y + r4]);\n    path.push(['L', p1.x, p1.y - r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 0/**  */, p1.x + r1, p1.y]);\n    path.push(['L', p2.x - r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 0, p2.x, p2.y - r2]);\n    path.push(['L', p3.x, p3.y + r3]);\n    path.push(['z']);\n  } else if (p3.x < p0.x) {\n    path.push(['M', p2.x + r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 0, p2.x, p2.y + r2]);\n    path.push(['L', p3.x, p3.y - r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 0, p3.x + r3, p3.y]);\n    path.push(['L', p0.x - r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 0, p0.x, p0.y - r4]);\n    path.push(['L', p1.x, p1.y + r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 0, p1.x - r1, p1.y]);\n    path.push(['L', p2.x + r2, p2.y]);\n    path.push(['z']);\n  } else {\n    path.push(['M', p1.x, p1.y + r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 1, p1.x + r1, p1.y]);\n    path.push(['L', p2.x - r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 1, p2.x, p2.y + r2]);\n    path.push(['L', p3.x, p3.y - r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 1, p3.x - r3, p3.y]);\n    path.push(['L', p0.x + r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 1, p0.x, p0.y - r4]);\n    path.push(['L', p1.x, p1.y + r1]);\n    path.push(['z']);\n  }\n\n  return path;\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { BACKGROUND_SHAPE } from '../constant';\nimport { getBackgroundRectStyle, getStyle } from '../util/get-style';\nimport { getBackgroundRectPath, getIntervalRectPath, getRectPoints, getRectWithCornerRadius } from './util';\n\n/** Interval  shape  */\nconst IntervalShapeFactory = registerShapeFactory('interval', {\n  defaultShapeType: 'rect',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return getRectPoints(pointInfo);\n  },\n});\n\n/** Inerval  shape */\nregisterShape('interval', 'rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    let group = container;\n\n    const backgroundCfg = cfg?.background;\n    if (backgroundCfg) {\n      group = container.addGroup({\n        name: 'interval-group',\n      });\n      const backgroundStyle = getBackgroundRectStyle(cfg);\n      const backgroundPath = getBackgroundRectPath(cfg, this.parsePoints(cfg.points) as Point[], this.coordinate);\n      group.addShape('path', {\n        attrs: {\n          ...backgroundStyle,\n          path: backgroundPath,\n        },\n        zIndex: -1,\n        name: BACKGROUND_SHAPE,\n      });\n    }\n\n    let path;\n    if (style.radius && this.coordinate.isRect) {\n      path = getRectWithCornerRadius(this.parsePoints(cfg.points), this.coordinate, style.radius);\n    } else {\n      path = this.parsePath(getIntervalRectPath(cfg.points as Point[], style.lineCap, this.coordinate));\n    }\n\n    const shape = group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return backgroundCfg ? group : shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default IntervalShapeFactory;\n","import { flatten, isString, valuesOfKey, isNil } from '@antv/util';\nimport { getXDimensionLength } from '../../util/coordinate';\n\n// \nfunction findMinDistance(arr, scale) {\n  const count = arr.length;\n  let sourceArr = arr;\n  if (isString(sourceArr[0])) {\n    //  values \n    sourceArr = arr.map((v: string) => {\n      return scale.translate(v);\n    });\n  }\n  let distance = sourceArr[1] - sourceArr[0];\n  for (let i = 2; i < count; i++) {\n    const tmp = sourceArr[i] - sourceArr[i - 1];\n    if (distance > tmp) {\n      distance = tmp;\n    }\n  }\n  return distance;\n}\n\nfunction getDodgeCount(dataArray, dodgeBy) {\n  if (dodgeBy) {\n    const mergeData = flatten(dataArray);\n    const values = valuesOfKey(mergeData, dodgeBy);\n    return values.length;\n  }\n\n  return dataArray.length;\n}\n\n/** @ignore */\nexport function getDefaultSize(geometry): number {\n  const theme = geometry.theme;\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const xValues = xScale.values;\n  const dataArray = geometry.beforeMappingData;\n  let count: number = xValues.length;\n  const xDimensionLength = getXDimensionLength(geometry.coordinate);\n  // \n  const { intervalPadding, dodgePadding } = geometry;\n  // theme\n  const maxColumnWidth = geometry.maxColumnWidth || theme.maxColumnWidth;\n  const minColumnWidth = geometry.minColumnWidth || theme.minColumnWidth;\n  const columnWidthRatio = geometry.columnWidthRatio || theme.columnWidthRatio;\n  const multiplePieWidthRatio = geometry.multiplePieWidthRatio || theme.multiplePieWidthRatio;\n  const roseWidthRatio = geometry.roseWidthRatio || theme.roseWidthRatio;\n\n  // count\n  if (xScale.isLinear && xValues.length > 1) {\n    // Linear  min, max  count\n    xValues.sort();\n    const interval = findMinDistance(xValues, xScale);\n    count = (xScale.max - xScale.min) / interval;\n    if (xValues.length > count) {\n      count = xValues.length;\n    }\n  }\n\n  const range = xScale.range;\n  let normalizedSize = 1 / count;\n  let wr = 1;\n  if (coordinate.isPolar) {\n    // \n    if (coordinate.isTransposed && count > 1) {\n      // \n      wr = multiplePieWidthRatio;\n    } else {\n      wr = roseWidthRatio;\n    }\n  } else {\n    // \n    if (xScale.isLinear) {\n      normalizedSize *= range[1] - range[0];\n    }\n    wr = columnWidthRatio;\n  }\n\n  // \n  if (!isNil(intervalPadding) && intervalPadding >= 0) {\n    // \n    const normalizedIntervalPadding = intervalPadding / xDimensionLength;\n    normalizedSize = (1 - (count - 1) * normalizedIntervalPadding) / count;\n  } else {\n    // \n    normalizedSize *= wr;\n  }\n  // \n  if (geometry.getAdjust('dodge')) {\n    const dodgeAdjust = geometry.getAdjust('dodge');\n    const dodgeBy = dodgeAdjust.dodgeBy;\n    const dodgeCount = getDodgeCount(dataArray, dodgeBy);\n    if (!isNil(dodgePadding) && dodgePadding >= 0) {\n      // \n      const normalizedDodgePadding = dodgePadding / xDimensionLength;\n      normalizedSize = (normalizedSize - normalizedDodgePadding * (dodgeCount - 1)) / dodgeCount;\n    } else if (!isNil(intervalPadding) && intervalPadding >= 0) {\n      // wr\n      normalizedSize *= wr;\n      normalizedSize = normalizedSize / dodgeCount;\n    } else {\n      // \n      normalizedSize = normalizedSize / dodgeCount;\n    }\n    normalizedSize = normalizedSize >= 0 ? normalizedSize : 0;\n  }\n\n  // \n  if (!isNil(maxColumnWidth) && maxColumnWidth >= 0) {\n    const normalizedMaxColumnWidth = maxColumnWidth / xDimensionLength;\n    if (normalizedSize > normalizedMaxColumnWidth) {\n      normalizedSize = normalizedMaxColumnWidth;\n    }\n  }\n\n  // \bminColumnWidth0\n  if (!isNil(minColumnWidth) && minColumnWidth >= 0) {\n    const normalizedMinColumnWidth = minColumnWidth / xDimensionLength;\n    if (normalizedSize < normalizedMinColumnWidth) {\n      normalizedSize = normalizedMinColumnWidth;\n    }\n  }\n\n  return normalizedSize;\n}\n","import { get } from '@antv/util';\nimport { Datum, MappingDatum, ShapeInfo, LooseObject } from '../interface';\nimport { ShapeAttrs } from '../dependents';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry, { GeometryCfg } from './base';\n/**  ShapeFactory */\nimport './shape/interval';\nimport { getDefaultSize } from './util/shape-size';\nimport { getMaxScale } from '../util/scale';\n\n/** Path  */\nexport interface IntervalCfg extends GeometryCfg {\n  /** shape  Interval Geometry  interval-rect shape  */\n  background?: { style?: ShapeAttrs };\n}\n\n/**\n * Interval \n * \n */\nexport default class Interval extends Geometry {\n  public readonly type: string = 'interval';\n  public readonly shapeType: string = 'interval';\n  /** shape  interval-rect shape  */\n  protected background?: { style?: ShapeAttrs };\n  protected generatePoints: boolean = true;\n\n  constructor(cfg: IntervalCfg) {\n    super(cfg);\n\n    const { background } = cfg;\n    this.background = background;\n  }\n\n  /**\n   *  Shape \n   * @param obj  ->  -> adjust \n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg = super.createShapePointsCfg(obj);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, obj)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n\n  /**\n   *  y  scale \n   *  Y  0  \n   */\n  protected adjustScale() {\n    super.adjustScale();\n    const yScale = this.getYScale();\n    // \n    if (this.coordinate.type === 'theta') {\n      yScale.change({\n        nice: false,\n        min: 0,\n        //  stack yScale  max this.updateStackRange()\n        max: getMaxScale(yScale),\n      });\n    } else {\n      //  0 \n      const scaleDefs = this.scaleDefs;\n      const { field, min, max, type } = yScale;\n      if (type !== 'time') {\n        // time \n        //  Y  0 \n        if (min > 0 && !get(scaleDefs, [field, 'min'])) {\n          yScale.change({\n            min: 0,\n          });\n        }\n        //  0 \n        if (max <= 0 && !get(scaleDefs, [field, 'max'])) {\n          yScale.change({\n            max: 0,\n          });\n        }\n      }\n    }\n  }\n\n  /**\n   * @override\n   */\n  protected getDrawCfg(mappingData: MappingDatum): ShapeInfo {\n    const shapeCfg = super.getDrawCfg(mappingData);\n    shapeCfg.background = this.background;\n\n    return shapeCfg;\n  }\n}\n","import Path, { PathCfg } from './path';\n/**  Path  ShapeFactory */\nimport './shape/line';\n\n/**\n * Line \n * \n */\nexport default class Line extends Path {\n  public type: string = 'line';\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { sortable = false } = cfg; //  X \n    this.sortable = sortable;\n  }\n}\n","import { IGroup, IShape } from '../../../dependents';\nimport { ShapeInfo } from '../../../interface';\nimport { MarkerSymbols } from '../../../util/marker';\nimport { getStyle } from '../util/get-style';\n\nexport const SHAPES = ['circle', 'square', 'bowtie', 'diamond', 'hexagon', 'triangle', 'triangle-down'];\nexport const HOLLOW_SHAPES = ['cross', 'tick', 'plus', 'hyphen', 'line'];\n\n/**\n * @ignore\n * Draws points\n * @param shape\n * @param cfg\n * @param container\n * @param shapeName\n * @param isStroke\n * @returns points\n */\nexport function drawPoints(\n  shape,\n  cfg: ShapeInfo,\n  container: IGroup,\n  shapeName: string,\n  isStroke: boolean\n): IShape | IGroup {\n  const style = getStyle(cfg, isStroke, !isStroke, 'r');\n  const points = shape.parsePoints(cfg.points);\n  let pointPosition = points[0];\n  if (cfg.isStack) {\n    pointPosition = points[1];\n  } else if (points.length > 1) {\n    const group = container.addGroup();\n    for (const point of points) {\n      group.addShape({\n        type: 'marker',\n        attrs: {\n          ...style,\n          symbol: MarkerSymbols[shapeName] || shapeName,\n          ...point,\n        },\n      });\n    }\n    return group;\n  }\n\n  return container.addShape({\n    type: 'marker',\n    attrs: {\n      ...style,\n      symbol: MarkerSymbols[shapeName] || shapeName,\n      ...pointPosition,\n    },\n  });\n}\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { splitPoints } from '../util/split-points';\nimport { drawPoints, SHAPES } from './util';\n\nconst PointShapeFactory = registerShapeFactory('point', {\n  defaultShapeType: 'hollow-circle',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\neach(SHAPES, (shapeName: string) => {\n  //  shape  hollow-shape\n  registerShape('point', `hollow-${shapeName}`, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n\nexport default PointShapeFactory;\n","import { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry from './base';\n/**  Point  ShapeFactory */\nimport './shape/point';\n\n/**\n * Point \n * \n */\nexport default class Point extends Geometry {\n  public readonly type: string = 'point';\n  public readonly shapeType: string = 'point';\n  protected generatePoints: boolean = true;\n\n  /**\n   * \n   * @param mappingDatum\n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const shapeCfg = super.getDrawCfg(mappingDatum);\n\n    return {\n      ...shapeCfg,\n      isStack: !!this.getAdjust('stack'), // \n    };\n  }\n}\n","import { each, isEmpty, isEqual, last } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getPath(points: any[]) {\n  let flag: any = points[0];\n  let i = 1;\n\n  const path = [['M', flag.x, flag.y]];\n\n  while (i < points.length) {\n    const c: any = points[i];\n    if (c.x !== points[i - 1].x || c.y !== points[i - 1].y) {\n      path.push(['L', c.x, c.y]);\n      if (c.x === flag.x && c.y === flag.y && i < points.length - 1) {\n        flag = points[i + 1];\n        path.push(['Z']);\n        path.push(['M', flag.x, flag.y]);\n        i++;\n      }\n    }\n    i++;\n  }\n\n  if (!isEqual(last(path), flag)) {\n    path.push(['L', flag.x, flag.y]);\n  }\n\n  path.push(['Z']);\n\n  return path;\n}\n\nconst PolygonShapeFactory = registerShapeFactory('polygon', {\n  defaultShapeType: 'polygon',\n  getDefaultPoints(pointInfo: ShapePoint) {\n    const points = [];\n    each(pointInfo.x as number[], (subX, index) => {\n      const subY = pointInfo.y[index];\n      points.push({\n        x: subX,\n        y: subY,\n      });\n    });\n    return points;\n  },\n});\n\nregisterShape('polygon', 'polygon', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    if (!isEmpty(cfg.points)) {\n      const shapeAttrs = getStyle(cfg, true, true);\n      const path = this.parsePath(getPath(cfg.points));\n      return container.addShape('path', {\n        attrs: {\n          ...shapeAttrs,\n          path,\n        },\n        name: 'polygon',\n      });\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default PolygonShapeFactory;\n","import { isArray } from '@antv/util';\nimport { Datum } from '../interface';\nimport Geometry from './base';\n/**  Path  ShapeFactory */\nimport './shape/polygon';\n\n/**\n * Polygon \n * \n */\nexport default class Polygon extends Geometry {\n  public readonly type: string = 'polygon';\n  public readonly shapeType: string = 'polygon';\n  protected generatePoints: boolean = true;\n\n  /**\n   *  Shape \n   * @param obj\n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg: any = super.createShapePointsCfg(obj);\n    let x = cfg.x;\n    let y = cfg.y;\n    let temp;\n    // x y \n    if (!(isArray(x) && isArray(y))) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xCount = xScale.values.length;\n      const yCount = yScale.values.length;\n      const xOffset = (0.5 * 1) / xCount;\n      const yOffset = (0.5 * 1) / yCount;\n\n      if (xScale.isCategory && yScale.isCategory) {\n        // x,y\n        x = [x - xOffset, x - xOffset, x + xOffset, x + xOffset];\n        y = [y - yOffset, y + yOffset, y + yOffset, y - yOffset];\n      } else if (isArray(x)) {\n        // x \n        temp = x;\n        x = [temp[0], temp[0], temp[1], temp[1]];\n        y = [y - yOffset / 2, y + yOffset / 2, y + yOffset / 2, y - yOffset / 2];\n      } else if (isArray(y)) {\n        // y \n        temp = y;\n        y = [temp[0], temp[1], temp[1], temp[0]];\n        x = [x - xOffset / 2, x - xOffset / 2, x + xOffset / 2, x + xOffset / 2];\n      }\n      cfg.x = x;\n      cfg.y = y;\n    }\n    return cfg;\n  }\n}\n","import { LooseObject } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry from './base';\n/**  ShapeFactory */\nimport './shape/schema';\nimport { getDefaultSize } from './util/shape-size';\n\n/**\n * Schema \n */\nexport default class Schema extends Geometry {\n  public readonly type: string = 'schema';\n  public readonly shapeType: string = 'schema';\n  protected generatePoints: boolean = true;\n\n  /**\n   *  Shape \n   * @param record\n   * @returns\n   */\n  protected createShapePointsCfg(record: LooseObject) {\n    const cfg = super.createShapePointsCfg(record);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, record)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n}\n","import { registerShapeFactory } from '../base';\n\nconst SchemaShapeFactory = registerShapeFactory('schema', {\n  defaultShapeType: '', // 'schema' is for some custom shapes, so will not specify defaultShapeType\n});\n\nexport default SchemaShapeFactory;\n","import { each, max, map, isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg, ViolinShapePoint } from '../../../interface';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\nfunction normalizeSize(arr: number[]) {\n  if (!isArray(arr)) {\n    return [];\n  }\n  const maxValue = max(arr);\n  return map(arr, (num) => num / maxValue);\n}\n\nconst ViolinShapeFactory = registerShapeFactory('violin', {\n  defaultShapeType: 'violin',\n  getDefaultPoints(pointInfo: ViolinShapePoint) {\n    const radius = pointInfo.size / 2;\n    const points = [];\n    const sizeArr = normalizeSize(pointInfo._size);\n\n    each(pointInfo.y as number[], (y, index) => {\n      const offset = sizeArr[index] * radius;\n      const isMin = index === 0;\n      const isMax = index === (pointInfo.y as number[]).length - 1;\n      points.push({\n        isMin,\n        isMax,\n        x: (pointInfo.x as number) - offset,\n        y,\n      });\n      points.unshift({\n        isMin,\n        isMax,\n        x: (pointInfo.x as number) + offset,\n        y,\n      });\n    });\n    return points;\n  },\n});\n\nregisterShape('violin', 'violin', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const shapeAttrs = getStyle(cfg, true, true);\n    const path = this.parsePath(getViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...shapeAttrs,\n        path,\n      },\n      name: 'violin',\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default ViolinShapeFactory;\n","import { get } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Datum, ViolinShapePoint } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport { getDefaultSize } from './util/shape-size';\nimport Geometry from './base';\n/**  Path  ShapeFactory */\nimport './shape/violin';\n\n/**\n * Violin \n * \n */\nexport default class Violin extends Geometry<ViolinShapePoint> {\n  public readonly type: string = 'violin';\n  public readonly shapeType: string = 'violin';\n  protected generatePoints: boolean = true;\n  /** size  */\n  private _sizeField: string;\n\n  /**\n   *  Shape \n   * @param record\n   * @returns\n   */\n  protected createShapePointsCfg(record: Datum) {\n    const cfg = super.createShapePointsCfg(record);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, record)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n    cfg._size = get(record[FIELD_ORIGIN], [this._sizeField]);\n    return cfg;\n  }\n\n  /**\n   * @override\n   */\n  protected initAttributes() {\n    const { attributeOption } = this;\n    const sizeField = attributeOption.size\n      ? attributeOption.size.fields[0]\n      : this._sizeField\n      ? this._sizeField\n      : 'size';\n    this._sizeField = sizeField;\n    // fixme \n    delete attributeOption.size;\n    super.initAttributes();\n  }\n}\n","import { each } from '@antv/util';\nimport { Point } from '../../../interface';\n\n/**\n * @ignore\n * Gets cpath\n * @param from\n * @param to\n * @returns\n */\nexport function getCPath(from: Point, to: Point) {\n  return ['C', (from.x * 1) / 2 + (to.x * 1) / 2, from.y, (from.x * 1) / 2 + (to.x * 1) / 2, to.y, to.x, to.y];\n}\n\n/**\n * @ignore\n * Gets qpath\n * @param to\n * @param center\n * @returns\n */\nexport function getQPath(to: Point, center: Point) {\n  const points = [];\n  points.push({\n    x: center.x,\n    y: center.y,\n  });\n  points.push(to);\n\n  const sub = ['Q'];\n  each(points, (point) => {\n    sub.push(point.x, point.y);\n  });\n\n  return sub;\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { getArcPath } from '../../../util/graphics';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath, getQPath } from './util';\n\nfunction getArcShapePath(from: Point, to: Point, center: Point) {\n  const sub = getQPath(to, center);\n  const path = [['M', from.x, from.y]];\n  path.push(sub);\n  return path;\n}\n\nfunction getArcShapeWeightPath(points: Point[], center: Point) {\n  const arc1 = getQPath(points[1], center);\n  const arc2 = getQPath(points[3], center);\n  const path = [['M', points[0].x, points[0].y]];\n  path.push(arc2);\n  path.push(['L', points[3].x, points[3].y]);\n  path.push(['L', points[2].x, points[2].y]);\n  path.push(arc1);\n  path.push(['L', points[1].x, points[1].y]);\n  path.push(['L', points[0].x, points[0].y]);\n  path.push(['Z']);\n  return path;\n}\n\n// \nregisterShape('edge', 'arc', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n\n    let points = cfg.points as Point[];\n    const type = points.length > 2 ? 'weight' : 'normal';\n    let path;\n    if (cfg.isInCircle) {\n      const center = { x: 0, y: 1 };\n      if (type === 'normal') {\n        path = getArcShapePath(points[0], points[1], center);\n      } else {\n        style.fill = style.stroke;\n        path = getArcShapeWeightPath(points, center);\n      }\n      path = this.parsePath(path);\n\n      return container.addShape('path', {\n        attrs: {\n          ...style,\n          path,\n        },\n      });\n    } else {\n      if (type === 'normal') {\n        points = this.parsePoints(points);\n        path = getArcPath(\n          (points[1].x + points[0].x) / 2,\n          points[0].y,\n          Math.abs(points[1].x - points[0].x) / 2,\n          Math.PI,\n          Math.PI * 2\n        );\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      } else {\n        const c1 = getCPath(points[1], points[3]);\n        const c2 = getCPath(points[2], points[0]);\n\n        path = [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          c1,\n          ['L', points[3].x, points[3].y],\n          ['L', points[2].x, points[2].y],\n          c2,\n          ['Z'],\n        ];\n        path = this.parsePath(path);\n        style.fill = style.stroke;\n\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      }\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath } from './util';\n\nfunction getSmoothPath(from: Point, to: Point) {\n  const sub = getCPath(from, to);\n  const path = [['M', from.x, from.y]];\n\n  path.push(sub);\n  return path;\n}\n\nregisterShape('edge', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getSmoothPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getShapeAttrs } from './util';\n\n/**\n * \n */\nregisterShape('area', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, true, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/**\n * \n */\nregisterShape('area', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, false, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n        fillOpacity: 1,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/**  */\nregisterShape('area', 'smooth-line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, true, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nconst CORNER_PERCENT = 1 / 3;\n\nfunction getVHVPath(from: Point, to: Point) {\n  const points = [];\n  points.push({\n    x: from.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push({\n    x: to.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push(to);\n\n  const path = [['M', from.x, from.y]];\n  each(points, (point) => {\n    path.push(['L', point.x, point.y]);\n  });\n\n  return path;\n}\n\nregisterShape('edge', 'vhv', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getVHVPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getRectPath } from './util';\nimport { omit } from '../../../util/helper';\n\n//  Line \nfunction getLinePoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0 } = pointInfo;\n\n  if (isArray(y)) {\n    return y.map((yItem, idx) => {\n      return {\n        x: isArray(x) ? x[idx] : x,\n        y: yItem,\n      };\n    });\n  }\n\n  //  y0 \n  return [\n    { x: x as number, y: y0 },\n    { x: x as number, y },\n  ];\n}\n\nregisterShape('interval', 'line', {\n  getPoints(shapePoint: ShapePoint) {\n    return getLinePoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const newStyle = omit({ ...style }, ['fill']);\n    const path = this.parsePath(getRectPath(cfg.points as Point[], false));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...newStyle,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x, y - r],\n          ['L', x, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\n//  tick shape  6 \nfunction getTickPoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  const xMax = (x as number) + size / 2;\n  const xMin = (x as number) - size / 2;\n\n  // tick \n  // 4 - 1 - 5\n  //     |\n  // 2 - 0 - 3\n  return [\n    { x: x as number, y: yMin },\n    { x: x as number, y: yMax },\n    { x: xMin, y: yMin },\n    { x: xMax, y: yMin },\n    { x: xMin, y: yMax },\n    { x: xMax, y: yMax },\n  ];\n}\n\n//  tick  path\nfunction getTickPath(points: Point[]) {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n  ];\n}\n\n/** I  error bar chart */\nregisterShape('interval', 'tick', {\n  getPoints(shapePoint: ShapePoint) {\n    return getTickPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getTickPath(cfg.points as Point[]));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x - r / 2, y - r],\n          ['L', x + r / 2, y - r],\n          ['M', x, y - r],\n          ['L', x, y + r],\n          ['M', x - r / 2, y + r],\n          ['L', x + r / 2, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/**  */\nregisterShape('interval', 'funnel', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; //  size \n    return getRectPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], false));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { BACKGROUND_SHAPE } from '../constant';\nimport { getBackgroundRectStyle, getStyle } from '../util/get-style';\nimport { getBackgroundRectPath, getRectPath } from './util';\n\n/**  */\nregisterShape('interval', 'hollow-rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    let group = container;\n    const backgroundCfg = cfg?.background;\n    if (backgroundCfg) {\n      group = container.addGroup();\n      const backgroundStyle = getBackgroundRectStyle(cfg);\n      const backgroundPath = getBackgroundRectPath(cfg, this.parsePoints(cfg.points) as Point[], this.coordinate);\n      group.addShape('path', {\n        attrs: {\n          ...backgroundStyle,\n          path: backgroundPath,\n        },\n        zIndex: -1,\n        name: BACKGROUND_SHAPE,\n      });\n    }\n\n    const path = this.parsePath(getRectPath(cfg.points as Point[]));\n    const shape = group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return backgroundCfg ? group : shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/**  */\nregisterShape('interval', 'pyramid', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; //  size \n    return getRectPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], true));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLineMarker } from './util';\n\nconst interpolateCallback = (point: Point, nextPoint: Point, shapeType: string) => {\n  const x = point.x as number;\n  const y = point.y as number;\n  const nextX = nextPoint.x as number;\n  const nextY = nextPoint.y as number;\n  let result;\n\n  switch (shapeType) {\n    case 'hv':\n      result = [{ x: nextX, y }];\n      break;\n    case 'vh':\n      result = [{ x, y: nextY }];\n      break;\n    case 'hvh':\n      const middleX = (nextX + x) / 2;\n      result = [\n        { x: middleX, y },\n        { x: middleX, y: nextY },\n      ];\n      break;\n    case 'vhv':\n      const middleY = (y + nextY) / 2;\n      result = [\n        { x, y: middleY },\n        { x: nextX, y: middleY },\n      ];\n      break;\n    default:\n      break;\n  }\n\n  return result;\n};\n\nfunction getInterpolatePoints(points: Point[], shapeType: string) {\n  let result = [];\n  each(points, (point: Point, index) => {\n    const nextPoint = points[index + 1];\n    result.push(point);\n    if (nextPoint) {\n      const interpolatePoint = interpolateCallback(point, nextPoint, shapeType);\n      result = result.concat(interpolatePoint);\n    }\n  });\n  return result;\n}\n\n// pathnull\nfunction getInterpolatePath(points: Point[]) {\n  return points.map((point, index) => {\n    return index === 0 ? ['M', point.x, point.y] : ['L', point.x, point.y];\n  });\n}\n\n// \nfunction getInterpolateShapeAttrs(cfg: ShapeInfo, shapeType: string) {\n  const points = getPathPoints(cfg.points, cfg.connectNulls, cfg.showSinglePoint); //  connectNulls  points\n  let path = [];\n  each(points, (eachLinePoints) => {\n    const interpolatePoints = getInterpolatePoints(eachLinePoints, shapeType);\n    path = path.concat(getInterpolatePath(interpolatePoints));\n  });\n\n  return {\n    ...getStyle(cfg, true, false, 'lineWidth'),\n    path,\n  };\n}\n\n// step line\neach(['hv', 'vh', 'hvh', 'vhv'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const attrs = getInterpolateShapeAttrs(cfg, shapeType);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n","import { isArray, isNil } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction parseValue(value: number[]) {\n  const array = !isArray(value) ? [value] : value;\n\n  const min = array[0]; // \n  const max = array[array.length - 1]; // \n  const min1 = array.length > 1 ? array[1] : min;\n  const max1 = array.length > 3 ? array[3] : max;\n  const median = array.length > 2 ? array[2] : min1;\n\n  return {\n    min, // \n    max, // \n    min1,\n    max1,\n    median,\n  };\n}\n\nfunction getBoxPoints(x: number | number[], y: number | number[], size: number): Point[] {\n  const halfSize = size / 2;\n  let pointsArray;\n  if (isArray(y)) {\n    // 2\n    const { min, max, median, min1, max1 } = parseValue(y);\n    const minX = (x as number) - halfSize;\n    const maxX = (x as number) + halfSize;\n    pointsArray = [\n      [minX, max],\n      [maxX, max],\n      [x as number, max],\n      [x as number, max1],\n      [minX, min1],\n      [minX, max1],\n      [maxX, max1],\n      [maxX, min1],\n      [x as number, min1],\n      [x as number, min],\n      [minX, min],\n      [maxX, min],\n      [minX, median],\n      [maxX, median],\n    ];\n  } else {\n    // \n    y = isNil(y) ? 0.5 : y;\n    const { min, max, median, min1, max1 } = parseValue(x as number[]);\n    const minY = y - halfSize;\n    const maxY = y + halfSize;\n    pointsArray = [\n      [min, minY],\n      [min, maxY],\n      [min, y],\n      [min1, y],\n      [min1, minY],\n      [min1, maxY],\n      [max1, maxY],\n      [max1, minY],\n      [max1, y],\n      [max, y],\n      [max, minY],\n      [max, maxY],\n      [median, minY],\n      [median, maxY],\n    ];\n  }\n\n  return pointsArray.map((arr) => {\n    return {\n      x: arr[0],\n      y: arr[1],\n    };\n  });\n}\n\nfunction getBoxPath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['L', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n    ['L', points[4].x, points[4].y], //  z\n    ['Z'],\n    ['M', points[8].x, points[8].y],\n    ['L', points[9].x, points[9].y],\n    ['M', points[10].x, points[10].y],\n    ['L', points[11].x, points[11].y],\n    ['M', points[12].x, points[12].y],\n    ['L', points[13].x, points[13].y],\n  ];\n}\n\n// box shape\nregisterShape('schema', 'box', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getBoxPoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getBoxPath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y - 6, y - 3, y, y + 3, y + 6];\n        const points = getBoxPoints(x, yValues, r);\n        return [\n          ['M', points[0].x + 1, points[0].y],\n          ['L', points[1].x - 1, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['M', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['L', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n          ['L', points[4].x, points[4].y],\n          ['Z'],\n          ['M', points[8].x, points[8].y],\n          ['L', points[9].x, points[9].y],\n          ['M', points[10].x + 1, points[10].y],\n          ['L', points[11].x - 1, points[11].y],\n          ['M', points[12].x, points[12].y],\n          ['L', points[13].x, points[13].y],\n        ];\n      },\n      style: {\n        r: 6,\n        lineWidth: 1,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { padEnd } from '../../../util/helper';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getCandleYValues(value: number | number[]) {\n  const array = !isArray(value) ? [value] : value;\n  // \n  const sorted = array.sort((a, b) => b - a);\n  return padEnd(sorted, 4, sorted[sorted.length - 1]);\n}\n\n// get candle shape's key points\nfunction getCandlePoints(x: number, y: number[], size: number): Point[] {\n  const yValues = getCandleYValues(y);\n  return [\n    { x, y: yValues[0] },\n    { x, y: yValues[1] },\n    { x: x - size / 2, y: yValues[2] },\n    { x: x - size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[2] },\n    { x, y: yValues[2] },\n    { x, y: yValues[3] },\n  ];\n}\n\nfunction getCandlePath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['L', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['Z'],\n    ['M', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n  ];\n}\n\n// k line shape\nregisterShape('schema', 'candle', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getCandlePoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, true);\n    const path = this.parsePath(getCandlePath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y + 7.5, y + 3, y - 3, y - 7.5];\n        const points = getCandlePoints(x, yValues, r);\n        return [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['L', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['Z'],\n          ['M', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n        ];\n      },\n      style: {\n        lineWidth: 1,\n        stroke: color,\n        fill: color,\n        r: 6,\n      },\n    };\n  },\n});\n","import { isEmpty, clamp } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getRectAttrs(points: any[], size: number) {\n  const width = Math.abs(points[0].x - points[2].x);\n  const height = Math.abs(points[0].y - points[2].y);\n\n  let len = Math.min(width, height);\n  if (size) {\n    len = clamp(size, 0, Math.min(width, height));\n  }\n  len = len / 2;\n  const centerX = (points[0].x + points[2].x) / 2;\n  const centerY = (points[0].y + points[2].y) / 2;\n\n  return {\n    x: centerX - len,\n    y: centerY - len,\n    width: len * 2,\n    height: len * 2,\n  };\n}\n\nregisterShape('polygon', 'square', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    if (!isEmpty(cfg.points)) {\n      const shapeAttrs = getStyle(cfg, true, true);\n      const points = this.parsePoints(cfg.points); // \n      return container.addShape('rect', {\n        attrs: {\n          ...shapeAttrs,\n          ...getRectAttrs(points, cfg.size), //  rect \n        },\n        name: 'polygon',\n      });\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, HOLLOW_SHAPES } from './util';\n\n//  hollowShape\neach(HOLLOW_SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName],\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nregisterShape('point', 'image', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const { r: size } = getStyle(cfg, false, false, 'r');\n    const points = this.parsePoints(cfg.points);\n    let pointPosition = points[0];\n    if (cfg.isStack) {\n      pointPosition = points[1];\n    } else if (points.length > 1) {\n      const group = container.addGroup();\n      for (const point of points) {\n        group.addShape('image', {\n          attrs: {\n            x: (point.x as number) - size / 2,\n            y: (point.y as number) - size,\n            width: size,\n            height: size,\n            img: cfg.shape[1],\n          },\n        });\n      }\n\n      return group;\n    }\n\n    return container.addShape('image', {\n      attrs: {\n        x: (pointPosition.x as number) - size / 2,\n        y: (pointPosition.y as number) - size,\n        width: size,\n        height: size,\n        img: cfg.shape[1],\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, SHAPES } from './util';\n\n//  SHAPES \neach(SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, false);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    },\n  });\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getSmoothViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\n/**\n * \n */\nregisterShape('violin', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, true);\n    const path = this.parsePath(getSmoothViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        stroke: null,\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup, Point } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getSmoothViolinPath, getViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\n/**\n * \n */\nregisterShape('violin', 'hollow', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, false);\n    const path = this.parsePath(getViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: null,\n        stroke: color,\n      },\n    };\n  },\n});\n\n/**\n * \n */\nregisterShape('violin', 'hollow-smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, false);\n    const path = this.parsePath(getSmoothViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: null,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { get, deepMix, isArray } from '@antv/util';\nimport { Writeable } from '../../util/types';\nimport { MappingDatum, Point } from '../../interface';\nimport GeometryLabel from './base';\nimport { LabelCfg, LabelItem, LabelPointCfg, TextAlign } from './interface';\n\n/**\n *  label\n */\nexport default class IntervalLabel extends GeometryLabel {\n  /**\n   *  interval label  value \n   * @param labelCfg\n   */\n  private getLabelValueDir(mappingData: MappingDatum) {\n    // points  x/y  transpose \n    const dim = 'y';\n    const { points } = mappingData;\n\n    return points[0][dim] <= points[2][dim] ? 1 : -1;\n  }\n\n  /**\n   *  interval  label \n   * @param labelCfg\n   * @param index\n   * @param total\n   */\n  protected getLabelOffsetPoint(labelCfg: LabelCfg, index: number, total: number, position?: string) {\n    let point = super.getLabelOffsetPoint(labelCfg, index, total);\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const dim = transposed ? 'x' : 'y';\n    const dir = this.getLabelValueDir(labelCfg.mappingData);\n    point = { ...point, [dim]: point[dim] * dir };\n\n    if (coordinate.isReflect('x')) {\n      point = {\n        ...point,\n        x: point.x * -1,\n      };\n    }\n    if (coordinate.isReflect('y')) {\n      point = {\n        ...point,\n        y: point.y * -1,\n      };\n    }\n\n    return point;\n  }\n\n  /**\n   *  interval label \n   * @param labelCfg\n   */\n  protected getThemedLabelCfg(labelCfg: LabelCfg) {\n    const geometry = this.geometry;\n    const defaultLabelCfg = this.getDefaultLabelCfg();\n    const { theme } = geometry;\n\n    //  interval label position  middle offset  0\n    return deepMix({}, defaultLabelCfg, theme.labels, labelCfg.position === 'middle' ? { offset: 0 } : {}, labelCfg);\n  }\n\n  protected setLabelPosition(\n    labelPointCfg: Writeable<LabelPointCfg>,\n    mappingData: MappingDatum,\n    index: number,\n    position: string\n  ) {\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const shapePoints = mappingData.points as Point[];\n    const point0 = coordinate.convert(shapePoints[0]);\n    const point2 = coordinate.convert(shapePoints[2]);\n    const dir = this.getLabelValueDir(mappingData);\n\n    let top;\n    let right;\n    let bottom;\n    let left;\n\n    const shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n    if (shape === 'funnel' || shape === 'pyramid') {\n      // \n      const nextPoints = get(mappingData, 'nextPoints');\n      const points = get(mappingData, 'points');\n      if (nextPoints) {\n        // \n        const p0 = coordinate.convert(points[0] as Point);\n        const p1 = coordinate.convert(points[1] as Point);\n        const nextP0 = coordinate.convert(nextPoints[0] as Point);\n        const nextP1 = coordinate.convert(nextPoints[1] as Point);\n\n        // TODO: \n        if (transposed) {\n          top = Math.min(nextP0.y, p0.y);\n          bottom = Math.max(nextP0.y, p0.y);\n          right = (p1.x + nextP1.x) / 2;\n          left = (p0.x + nextP0.x) / 2;\n        } else {\n          top = Math.min((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n          bottom = Math.max((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n          right = nextP1.x;\n          left = p0.x;\n        }\n      } else {\n        top = Math.min(point2.y, point0.y);\n        bottom = Math.max(point2.y, point0.y);\n        right = point2.x;\n        left = point0.x;\n      }\n    } else {\n      top = Math.min(point2.y, point0.y);\n      bottom = Math.max(point2.y, point0.y);\n      right = point2.x;\n      left = point0.x;\n    }\n\n    switch (position) {\n      case 'right':\n        labelPointCfg.x = right;\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n        break;\n      case 'left':\n        labelPointCfg.x = left;\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n        break;\n      case 'bottom':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = bottom;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n        break;\n      case 'middle':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', 'middle');\n        break;\n      case 'top':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = top;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n        break;\n      default:\n        break;\n    }\n  }\n}\n","import { each, get, isArray, map, isNumber, isString } from '@antv/util';\nimport { MappingDatum, Point } from '../../interface';\nimport { getDistanceToCenter } from '../../util/coordinate';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport GeometryLabel from './base';\nimport { LabelCfg, LabelItem, PolarLabelItem, LabelPointCfg, Writeable } from './interface';\n\nconst HALF_PI = Math.PI / 2;\n\n/**\n *  label\n */\nexport default class PolarLabel extends GeometryLabel {\n  /**\n   * @override\n   * @desc  label offset\n   * polar & theta coordinate supportstringtype, should transform to number\n   */\n  protected getLabelOffset(offset: number | string): number {\n    const coordinate = this.getCoordinate();\n    let actualOffset = 0;\n    if (isNumber(offset)) {\n      actualOffset = offset;\n    } else if (isString(offset) && offset.indexOf('%') !== -1) {\n      let r = coordinate.getRadius();\n      if (coordinate.innerRadius > 0) {\n        r = r * (1 - coordinate.innerRadius);\n      }\n      actualOffset = parseFloat(offset) * 0.01 * r;\n    }\n\n    return actualOffset;\n  }\n\n  /**\n   * @override\n   *  labelItems,  percent\n   * @param mapppingArray\n   */\n  public getLabelItems(mapppingArray: MappingDatum[]): PolarLabelItem[] {\n    const items = super.getLabelItems(mapppingArray);\n    const yScale = this.geometry.getYScale();\n\n    return map(items, (item) => {\n      if (item && yScale) {\n        const percent = yScale.scale(get(item.data, yScale.field));\n        return { ...item, percent };\n      }\n      return item;\n    });\n  }\n  /**\n   * @override\n   * \n   * @param point\n   */\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    let align;\n    if (point.labelEmit) {\n      align = point.angle <= Math.PI / 2 && point.angle >= -Math.PI / 2 ? 'left' : 'right';\n    } else if (!coordinate.isTransposed) {\n      align = 'center';\n    } else {\n      const center = coordinate.getCenter();\n      const offset = point.offset;\n      if (Math.abs(point.x - center.x) < 1) {\n        align = 'center';\n      } else if (point.angle > Math.PI || point.angle <= 0) {\n        align = offset > 0 ? 'left' : 'right';\n      } else {\n        align = offset > 0 ? 'right' : 'left';\n      }\n    }\n    return align;\n  }\n\n  /**\n   * @override\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    let factor = 1;\n    let arcPoint;\n    const content = labelCfg.content[index];\n    if (this.isToMiddle(mappingData)) {\n      arcPoint = this.getMiddlePoint(mappingData.points as Point[]);\n    } else {\n      if (labelCfg.content.length === 1 && index === 0) {\n        index = 1;\n      } else if (index === 0) {\n        factor = -1;\n      }\n      arcPoint = this.getArcPoint(mappingData, index);\n    }\n\n    const offset = labelCfg.offset * factor;\n    const middleAngle = this.getPointAngle(arcPoint);\n    const isLabelEmit = labelCfg.labelEmit;\n    const labelPositionCfg: Writeable<LabelPointCfg> = this.getCirclePoint(middleAngle, offset, arcPoint, isLabelEmit);\n    if (labelPositionCfg.r === 0) {\n      // \n      labelPositionCfg.content = '';\n    } else {\n      labelPositionCfg.content = content;\n      labelPositionCfg.angle = middleAngle;\n      labelPositionCfg.color = mappingData.color;\n    }\n\n    labelPositionCfg.rotate = labelCfg.autoRotate\n      ? this.getLabelRotate(middleAngle, offset, isLabelEmit)\n      : labelCfg.rotate;\n    labelPositionCfg.start = {\n      x: arcPoint.x,\n      y: arcPoint.y,\n    };\n    return labelPositionCfg;\n  }\n\n  /**\n   * \n   */\n  protected getArcPoint(mappingData: MappingDatum, index: number = 0): Point {\n    if (!isArray(mappingData.x) && !isArray(mappingData.y)) {\n      return {\n        x: mappingData.x,\n        y: mappingData.y,\n      };\n    }\n\n    return {\n      x: isArray(mappingData.x) ? mappingData.x[index] : mappingData.x,\n      y: isArray(mappingData.y) ? mappingData.y[index] : mappingData.y,\n    };\n  }\n\n  /**\n   * \n   * @param point\n   */\n  protected getPointAngle(point: Point): number {\n    return getAngleByPoint(this.getCoordinate(), point);\n  }\n\n  /**\n   * \n   * @param angle\n   * @param offset\n   * @param point\n   * @param isLabelEmit\n   */\n  protected getCirclePoint(angle: number, offset: number, point: Point, isLabelEmit: boolean) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    let r = getDistanceToCenter(coordinate, point);\n    if (r === 0) {\n      return {\n        ...center,\n        r,\n      };\n    }\n\n    let labelAngle = angle;\n    if (coordinate.isTransposed && r > offset && !isLabelEmit) {\n      const appendAngle = Math.asin(offset / (2 * r));\n      labelAngle = angle + appendAngle * 2;\n    } else {\n      r = r + offset;\n    }\n\n    return {\n      x: center.x + r * Math.cos(labelAngle),\n      y: center.y + r * Math.sin(labelAngle),\n      r,\n    };\n  }\n\n  /**\n   *  label \n   * @param angle\n   * @param offset\n   * @param isLabelEmit\n   */\n  protected getLabelRotate(angle: number, offset: number, isLabelEmit: boolean) {\n    let rotate = angle + HALF_PI;\n    if (isLabelEmit) {\n      rotate -= HALF_PI;\n    }\n    if (rotate) {\n      if (rotate > HALF_PI) {\n        rotate = rotate - Math.PI;\n      } else if (rotate < -HALF_PI) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  // \n  private getMiddlePoint(points: Point[]) {\n    const coordinate = this.getCoordinate();\n    const count = points.length;\n    let middlePoint = {\n      x: 0,\n      y: 0,\n    };\n    each(points, (point: Point) => {\n      middlePoint.x += point.x;\n      middlePoint.y += point.y;\n    });\n    middlePoint.x /= count;\n    middlePoint.y /= count;\n\n    middlePoint = coordinate.convert(middlePoint);\n    return middlePoint;\n  }\n\n  // \n  private isToMiddle(mappingData: MappingDatum) {\n    return (mappingData.x as number[]).length > 2;\n  }\n}\n","import { deepMix, get, isArray } from '@antv/util';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { LabelItem } from './interface';\nimport PolarLabel from './polar';\n\n/**\n *  label\n */\nexport default class PieLabel extends PolarLabel {\n  public defaultLayout = 'distribute';\n\n  protected getDefaultLabelCfg(offset?: number, position?: string) {\n    const cfg = super.getDefaultLabelCfg(offset, position);\n    return deepMix({}, cfg, get(this.geometry.theme, 'pieLabels', {}));\n  }\n\n  /** @override */\n  protected getLabelOffset(offset: string | number): number {\n    return super.getLabelOffset(offset) || 0;\n  }\n\n  protected getLabelRotate(angle: number, offset: number, isLabelLimit: boolean) {\n    let rotate;\n    if (offset < 0) {\n      rotate = angle;\n      if (rotate > Math.PI / 2) {\n        rotate = rotate - Math.PI;\n      }\n      if (rotate < -Math.PI / 2) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n\n    let align;\n    if (point.angle <= Math.PI / 2 && point.x >= center.x) {\n      align = 'left';\n    } else {\n      align = 'right';\n    }\n    if (point.offset <= 0) {\n      if (align === 'right') {\n        align = 'left';\n      } else {\n        align = 'right';\n      }\n    }\n    return align;\n  }\n\n  protected getArcPoint(point) {\n    return point;\n  }\n\n  protected getPointAngle(point) {\n    const coordinate = this.getCoordinate();\n    const startPoint = {\n      x: isArray(point.x) ? point.x[0] : point.x,\n      y: point.y[0],\n    };\n    const endPoint = {\n      x: isArray(point.x) ? point.x[1] : point.x,\n      y: point.y[1],\n    };\n    let angle;\n    const startAngle = getAngleByPoint(coordinate, startPoint);\n    if (point.points && point.points[0].y === point.points[1].y) {\n      angle = startAngle;\n    } else {\n      let endAngle = getAngleByPoint(coordinate, endPoint);\n      if (startAngle >= endAngle) {\n        // 100% pie slice\n        endAngle = endAngle + Math.PI * 2;\n      }\n      angle = startAngle + (endAngle - startAngle) / 2;\n    }\n    return angle;\n  }\n\n  /** @override */\n  protected getCirclePoint(angle: number, offset: number) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    const r = coordinate.getRadius() + offset;\n    return {\n      ...polarToCartesian(center.x, center.y, r, angle),\n      angle,\n      r,\n    };\n  }\n}\n","import { isObject, each, find, get } from '@antv/util';\n\nimport { BBox, IGroup, IShape } from '../../../../dependents';\nimport { LabelItem } from '../../interface';\n\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { IElement } from '@antv/g-base';\n\n/** label textline 4px */\nconst MARGIN = 4;\n\nfunction antiCollision(labelShapes, labels, lineHeight, plotRange, center, isRight) {\n  // adjust y position of labels to avoid overlapping\n  let overlapping = true;\n  const start = plotRange.start;\n  const end = plotRange.end;\n  const startY = Math.min(start.y, end.y);\n  let totalHeight = Math.abs(start.y - end.y);\n  let i;\n\n  let maxY = 0;\n  let minY = Number.MIN_VALUE;\n  const boxes = labels.map((label) => {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n    if (label.y < minY) {\n      minY = label.y;\n    }\n    return {\n      size: lineHeight,\n      targets: [label.y - startY],\n    };\n  });\n  minY -= startY;\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach((box) => {\n      const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n      // box.pos = Math.max(0, target - box.size / 2);\n    });\n\n    // detect overlapping and join boxes\n    overlapping = false;\n    i = boxes.length;\n    while (i--) {\n      if (i > 0) {\n        const previousBox = boxes[i - 1];\n        const box = boxes[i];\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets);\n\n          // overflow, shift up\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n          boxes.splice(i, 1); // removing box\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0;\n  // step 4: normalize y and adjust x\n  boxes.forEach((b) => {\n    let posInCompositeBox = startY + lineHeight / 2; // middle of the label\n    b.targets.forEach(() => {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += lineHeight;\n      i++;\n    });\n  });\n\n  const labelsMap = {};\n  for (const labelShape of labelShapes) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  // (x - cx)^2 + (y - cy)^2 = totalR^2\n  labels.forEach((label) => {\n    const rPow2 = label.r * label.r;\n    const dyPow2 = Math.pow(Math.abs(label.y - center.y), 2);\n    if (rPow2 < dyPow2) {\n      label.x = center.x;\n    } else {\n      const dx = Math.sqrt(rPow2 - dyPow2);\n      if (!isRight) {\n        // left\n        label.x = center.x - dx;\n      } else {\n        // right\n        label.x = center.x + dx;\n      }\n    }\n\n    // adjust labelShape\n    const labelShape = labelsMap[label.id];\n    labelShape.attr('x', label.x);\n    labelShape.attr('y', label.y);\n\n    // because group could not effect text-shape, should set text-shape position manually\n    const textShape = find(labelShape.getChildren(), (ele) => ele.get('type') === 'text') as IElement;\n    // @ts-ignore\n    if (textShape) {\n      textShape.attr('y', label.y);\n      textShape.attr('x', label.x);\n    }\n  });\n}\n\nexport function distribute(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  if (!items.length || !labels.length) {\n    return;\n  }\n  const offset = items[0] ? items[0].offset : 0;\n  const coordinate = labels[0].get('coordinate');\n  const radius = coordinate.getRadius();\n  const center = coordinate.getCenter();\n\n  if (offset > 0) {\n    // const lineHeight = get(this.geometry.theme, ['pieLabels', 'labelHeight'], 14);\n    const lineHeight = 14; // TODO\n    const totalR = radius + offset;\n    const totalHeight = totalR * 2 + lineHeight * 2;\n    const plotRange = {\n      start: coordinate.start,\n      end: coordinate.end,\n    };\n\n    // step 1: separate labels\n    const halves = [\n      [], // left\n      [], // right\n    ];\n    items.forEach((labelItem) => {\n      if (!labelItem) {\n        return;\n      }\n      if (labelItem.textAlign === 'right') {\n        // left\n        halves[0].push(labelItem);\n      } else {\n        // right or center will be put on the right side\n        halves[1].push(labelItem);\n      }\n    });\n\n    halves.forEach((half, index) => {\n      // step 2: reduce labels\n      const maxLabelsCountForOneSide = totalHeight / lineHeight;\n      if (half.length > maxLabelsCountForOneSide) {\n        half.sort((a, b) => {\n          // sort by percentage DESC\n          return b['..percent'] - a['..percent'];\n        });\n        half.splice(maxLabelsCountForOneSide, half.length - maxLabelsCountForOneSide);\n      }\n\n      // step 3: distribute position (x and y)\n      half.sort((a, b) => {\n        // sort by y ASC\n        return a.y - b.y;\n      });\n\n      antiCollision(labels, half, lineHeight, plotRange, center, index);\n    });\n  }\n\n  //  labelLine\n  each(items, (item) => {\n    if (item && item.labelLine) {\n      const distance = item.offset;\n      const angle = item.angle;\n      // \n      const startPoint = polarToCartesian(center.x, center.y, radius, angle);\n      const innerPoint = polarToCartesian(center.x, center.y, radius + distance / 2, angle);\n      const itemX = item.x + get(item, 'offsetX', 0);\n      const itemY = item.y + get(item, 'offsetY', 0);\n      const endPoint = {\n        x: itemX - Math.cos(angle) * MARGIN,\n        y: itemY - Math.sin(angle) * MARGIN,\n      };\n      if (!isObject(item.labelLine)) {\n        // labelLine: true\n        item.labelLine = {};\n      }\n      item.labelLine.path = [\n        `M ${startPoint.x}`,\n        `${startPoint.y} Q${innerPoint.x}`,\n        `${innerPoint.y} ${endPoint.x}`,\n        endPoint.y,\n      ].join(',');\n    }\n  });\n}\n","import { PolarLabelItem } from '../../interface';\n\n/**\n * \n */\nexport function antiCollision(\n  items: PolarLabelItem[],\n  labelHeight: number,\n  plotRange: { minY: number; maxY: number; minX: number; maxX: number }\n) {\n  const labels = items.filter((item) => !item.invisible);\n\n  // sorted by y, mutable\n  labels.sort((a, b) => a.y - b.y);\n  // adjust y position of labels to avoid overlapping\n  let overlapping = true;\n  const startY = plotRange.minY;\n  const endY = plotRange.maxY;\n  let totalHeight = Math.abs(startY - endY);\n  let i;\n\n  let maxY = 0;\n  let minY = Number.MIN_VALUE;\n  const boxes = labels.map((label) => {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n    if (label.y < minY) {\n      minY = label.y;\n    }\n    return {\n      content: label.content,\n      size: labelHeight,\n      targets: [label.y - startY],\n      pos: null,\n    };\n  });\n\n  minY -= startY;\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach((box) => {\n      const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n      box.pos = Math.max(0, box.pos);\n    });\n\n    // detect overlapping and join boxes\n    overlapping = false;\n    i = boxes.length;\n    while (i--) {\n      if (i > 0) {\n        const previousBox = boxes[i - 1];\n        const box = boxes[i];\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets);\n\n          // overflow, shift up\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n          boxes.splice(i, 1); // removing box\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0;\n  // step 4: normalize y and adjust x\n  boxes.forEach((b) => {\n    let posInCompositeBox = startY + labelHeight / 2; // middle of the label\n    b.targets.forEach(() => {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += labelHeight;\n      i++;\n    });\n  });\n}\n","import { Coordinate } from '@antv/coord';\nimport { BBox, IGroup, IShape, IElement } from '@antv/g-base';\nimport { isObject, each, get, groupBy, isNil, filter } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { PolarLabelItem } from '../../interface';\nimport { antiCollision } from './util';\n\n/** label textline 4px */\nconst MARGIN = 4;\n\n/**\n *  labelline\n * @param item PolarLabelItem\n */\nfunction drawLabelline(item: any /** PolarLabelItem */, coordinate: Coordinate) {\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n\n  if (item && item.labelLine) {\n    const { angle, offset: labelOffset } = item;\n    // \n    const startPoint = polarToCartesian(center.x, center.y, radius, angle);\n    const itemX = item.x + get(item, 'offsetX', 0) * (Math.cos(angle) > 0 ? 1 : -1);\n    const itemY = item.y + get(item, 'offsetY', 0) * (Math.sin(angle) > 0 ? 1 : -1);\n\n    const endPoint = {\n      x: itemX - Math.cos(angle) * MARGIN,\n      y: itemY - Math.sin(angle) * MARGIN,\n    };\n\n    const smoothConnector = item.labelLine.smooth;\n    const path = [];\n    const dx = endPoint.x - center.x;\n    const dy = endPoint.y - center.y;\n    let endAngle = Math.atan(dy / dx);\n    //  & \n    if (dx < 0) {\n      endAngle += Math.PI;\n    }\n\n    //  smooth, undefined  smooth\n    if (smoothConnector === false) {\n      if (!isObject(item.labelLine)) {\n        // labelLine: true\n        item.labelLine = {};\n      }\n\n      // 0 , 1 \n      let sweepFlag = 0;\n\n      // \n      if ((angle < 0 && angle > -Math.PI / 2) || angle > Math.PI * 1.5) {\n        if (endPoint.y > startPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle >= 0 && angle < Math.PI / 2) {\n        if (endPoint.y > startPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle >= Math.PI / 2 && angle < Math.PI) {\n        if (startPoint.y > endPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle < -Math.PI / 2 || (angle >= Math.PI && angle < Math.PI * 1.5)) {\n        if (startPoint.y > endPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      const distance = labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0);\n      const breakPoint = polarToCartesian(center.x, center.y, radius + distance, angle);\n      // \n      const breakPoint3 = polarToCartesian(center.x, center.y, radius + labelOffset / 2, endAngle);\n\n      /**\n       * @example\n       * M 100 100 L100 90 A 50 50 0 0 0 150 50\n       *  (100, 100),  (100, 90),  (50, 50)  (150, 50);\n       * A  4  large-arc-flag,  180 : 0 1 \n       *  5 : \n       */\n      // \n      const largeArcFlag = 0;\n      // step1: \n      path.push(`M ${startPoint.x} ${startPoint.y}`);\n      // step2: \n      path.push(`L ${breakPoint.x} ${breakPoint.y}`);\n      // step3:   \n      path.push(`A ${center.x} ${center.y} 0 ${largeArcFlag} ${sweepFlag} ${breakPoint3.x} ${breakPoint3.y}`);\n      // step4: \n      path.push(`L ${endPoint.x} ${endPoint.y}`);\n    } else {\n      const breakPoint = polarToCartesian(\n        center.x,\n        center.y,\n        radius + (labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0)),\n        angle\n      );\n      // G2 \n      // path.push('Q', `${breakPoint.x}`, `${breakPoint.y}`, `${endPoint.x}`, `${endPoint.y}`);\n      const xSign = startPoint.x < center.x ? 1 : -1;\n      // step1: \n      path.push(`M ${endPoint.x} ${endPoint.y}`);\n      const slope1 = (startPoint.y - center.y) / (startPoint.x - center.x);\n      const slope2 = (endPoint.y - center.y) / (endPoint.x - center.x);\n      if (Math.abs(slope1 - slope2) > Math.pow(Math.E, -16)) {\n        // step2:  curve line ( & , , )\n        path.push(\n          ...[\n            'C',\n            endPoint.x + xSign * 4,\n            endPoint.y,\n            2 * breakPoint.x - startPoint.x,\n            2 * breakPoint.y - startPoint.y,\n            startPoint.x,\n            startPoint.y,\n          ]\n        );\n      }\n      // step3: \n      path.push(`L ${startPoint.x} ${startPoint.y}`);\n    }\n    item.labelLine.path = path.join(' ');\n  }\n}\n\n/**\n *  outer-label ,  type = pie  label offset > 0 \n */\nexport function pieOuterLabelLayout(\n  originalItems: PolarLabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox\n) {\n  const items = filter(originalItems, (item) => !isNil(item));\n  /**  */\n  const coordinate = labels[0] && labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  /** label shapes */\n  const labelsMap: Record<string /** id */, IGroup> = {};\n  for (const labelShape of labels) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  // note labelHeight  label \n  const labelHeight: number = get(items[0], 'labelHeight', 14);\n  const labelOffset: number = get(items[0], 'offset', 0);\n\n  if (labelOffset <= 0) {\n    return;\n  }\n\n  const LEFT_HALF_KEY = 'left';\n  const RIGHT_HALF_KEY = 'right';\n  // step 1: separate labels\n  const separateLabels = groupBy(items, (item) => (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY));\n\n  const { start, end } = coordinate;\n  // step2: calculate totalHeight\n  const totalHeight = Math.min((radius + labelOffset + labelHeight) * 2, coordinate.getHeight());\n  const totalR = totalHeight / 2;\n\n  /** labels () */\n  const labelsContainerRange = {\n    minX: start.x,\n    maxX: end.x,\n    minY: center.y - totalR,\n    maxY: center.y + totalR,\n  };\n\n  // step 3: antiCollision\n  each(separateLabels, (half, key) => {\n    const maxLabelsCountForOneSide = Math.floor(totalHeight / labelHeight);\n    if (half.length > maxLabelsCountForOneSide) {\n      half.sort((a, b) => {\n        // sort by percentage DESC\n        return b.percent - a.percent;\n      });\n\n      each(half, (labelItem: PolarLabelItem, idx) => {\n        if (idx + 1 > maxLabelsCountForOneSide) {\n          labelsMap[labelItem.id].set('visible', false);\n          labelItem.invisible = true;\n        }\n      });\n    }\n    antiCollision(half, labelHeight, labelsContainerRange);\n  });\n\n  each(separateLabels, (half: PolarLabelItem[], key: string) => {\n    each(half, (item: PolarLabelItem) => {\n      const isRight = key === RIGHT_HALF_KEY;\n      const labelShape = labelsMap[item.id];\n\n      // because group could not effect content-shape, should set content-shape position manually\n      const content = labelShape.getChildByIndex(0) as IElement;\n\n      // textShape \n      if (content) {\n        const r = radius + labelOffset;\n        // (x - cx)^2 + (y - cy)^2 = totalR^2\n        const dy = item.y - center.y;\n\n        const rPow2 = Math.pow(r, 2);\n        const dyPow2 = Math.pow(dy, 2);\n        const dxPow2 = rPow2 - dyPow2 > 0 ? rPow2 - dyPow2 : 0;\n        const dx = Math.sqrt(dxPow2);\n\n        const dx_offset = Math.abs(Math.cos(item.angle) * r);\n        if (!isRight) {\n          // left\n          item.x = center.x - Math.max(dx, dx_offset);\n        } else {\n          // right\n          item.x = center.x + Math.max(dx, dx_offset);\n        }\n      }\n\n      // adjust labelShape\n      if (content) {\n        content.attr('y', item.y);\n        content.attr('x', item.x);\n      }\n\n      drawLabelline(item, coordinate);\n    });\n  });\n}\n","import { BBox, IGroup, IShape } from '@antv/g-base';\nimport { each, get, isNil, deepMix, groupBy } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { LabelItem, PolarLabelItem } from '../../interface';\nimport { antiCollision } from './util';\nimport { translate } from '../../../../util/transform';\nimport { Coordinate } from '@antv/coord';\n\n/** ,  */\nconst INFLECTION_OFFSET = 4;\n/** , distance between label and edge: offsetX */\nconst LABEL_OFFSET_X = 4;\n/**  */\nconst LABEL_TEXT_LINE_OFFSET = 4;\n\nfunction drawLabelline(item: PolarLabelItem, coordinate: Coordinate, inRight: boolean) {\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  const startPoint = {\n    x: item.x - (inRight ? LABEL_TEXT_LINE_OFFSET : -LABEL_TEXT_LINE_OFFSET),\n    y: item.y,\n  };\n  const inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n  const p1 = { x: startPoint.x, y: startPoint.y };\n  const p2 = { x: inflectionPoint.x, y: inflectionPoint.y };\n\n  const endPoint = polarToCartesian(center.x, center.y, radius, item.angle);\n  let path = '';\n\n  // \n  if (startPoint.y !== inflectionPoint.y) {\n    const offset = inRight ? 4 : -4;\n    p1.y = startPoint.y;\n\n    /**  */\n    if (item.angle < 0 && item.angle >= -Math.PI / 2) {\n      p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y < inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.max(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle > 0 && item.angle < Math.PI / 2) {\n      p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y > inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.max(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle > Math.PI / 2) {\n      p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y > inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.min(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle < -Math.PI / 2) {\n      p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y < inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.min(p2.x, p1.x - offset);\n      }\n    }\n  }\n\n  path = [\n    `M ${startPoint.x},${startPoint.y}`,\n    `L ${p1.x},${p1.y}`,\n    `L ${p2.x},${p2.y}`,\n    `L ${inflectionPoint.x},${inflectionPoint.y}`,\n    `L ${endPoint.x},${endPoint.y}`,\n  ].join(' ');\n  item.labelLine = deepMix({}, item.labelLine, { path });\n}\n\n/**\n *  spider ,  pie-spider \n * region  labelsRenderer ()\n */\nexport function pieSpiderLabelLayout(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  /**  */\n  const coordinate = labels[0] && labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  /** label shapes */\n  const labelsMap: Record<string /** id */, IGroup> = {};\n  for (const labelShape of labels) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  const labelHeight: number = get(items[0], 'labelHeight', 14);\n  const labelOffset: number = Math.max(get(items[0], 'offset', 0), INFLECTION_OFFSET);\n\n  // step 1: adjust items to spider\n  each(items, (item) => {\n    if (!item) return;\n    const label = get(labelsMap, [item.id]);\n    if (!label) return;\n\n    const inRight = item.x > center.x || (item.x === center.x && item.y > center.y);\n    const offsetX = !isNil(item.offsetX) ? item.offsetX : LABEL_OFFSET_X;\n    const inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n\n    const totalOffset = labelOffset + offsetX;\n    item.x = center.x + (inRight ? 1 : -1) * (radius + totalOffset);\n    item.y = inflectionPoint.y;\n  });\n\n  const { start, end } = coordinate;\n  const LEFT_HALF_KEY = 'left';\n  const RIGHT_HALF_KEY = 'right';\n  // step 1: separate labels\n  const separateLabels = groupBy(items, (item) => (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY));\n\n  // step2: calculate totalHeight\n  let totalHeight = (radius + labelOffset) * 2 + labelHeight;\n\n  each(separateLabels, (half: PolarLabelItem[]) => {\n    const halfHeight = half.length * labelHeight;\n    if (halfHeight > totalHeight) {\n      totalHeight = Math.min(halfHeight, Math.abs(start.y - end.y));\n    }\n  });\n\n  /** labels () */\n  const labelsContainerRange = {\n    minX: start.x,\n    maxX: end.x,\n    minY: center.y - totalHeight / 2,\n    maxY: center.y + totalHeight / 2,\n  };\n\n  // step 3: antiCollision\n  each(separateLabels, (half, key) => {\n    const maxLabelsCountForOneSide = totalHeight / labelHeight;\n    if (half.length > maxLabelsCountForOneSide) {\n      half.sort((a, b) => {\n        // sort by percentage DESC\n        return b.percent - a.percent;\n      });\n\n      each(half, (labelItem: PolarLabelItem, idx) => {\n        if (idx > maxLabelsCountForOneSide) {\n          labelsMap[labelItem.id].set('visible', false);\n          labelItem.invisible = true;\n        }\n      });\n    }\n    antiCollision(half, labelHeight, labelsContainerRange);\n  });\n\n  const startY = labelsContainerRange.minY;\n  const endY = labelsContainerRange.maxY;\n\n  // step4: applyTo labels and adjust labelLines\n  each(separateLabels, (half, key) => {\n    const inRight = key === RIGHT_HALF_KEY;\n\n    each(half, (item) => {\n      const label: IGroup = get(labelsMap, item && [item.id]);\n      if (!label) {\n        return;\n      }\n      // out of range, hidden\n      if (item.y < startY || item.y > endY) {\n        label.set('visible', false);\n        return;\n      }\n\n      const labelContent = label.getChildByIndex(0);\n      const box = labelContent.getCanvasBBox();\n      const originalPos = { x: inRight ? box.x : box.maxX, y: box.y + box.height / 2 /** vertical-align: middle */ };\n\n      translate(labelContent as any, item.x - originalPos.x /**  pos.x  item.x */, item.y - originalPos.y);\n\n      // adjust labelLines\n      if (item.labelLine) {\n        drawLabelline(item, coordinate, inRight);\n      }\n    });\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { translate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n *  label  label \n * @param labels\n * @param cfg\n */\nexport function limitInCanvas(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label: IGroup) => {\n    const { minX: regionMinX, minY: regionMinY, maxX: regionMaxX, maxY: regionMaxY } = region;\n    const { minX, minY, maxX, maxY, x, y, width, height } = label.getCanvasBBox();\n\n    let finalX = x;\n    let finalY = y;\n    if (minX < regionMinX || maxX < regionMinX) {\n      // \n      finalX = regionMinX;\n    }\n    if (minY < regionMinY || maxY < regionMinY) {\n      // \n      finalY = regionMinY;\n    }\n\n    if (minX > regionMaxX) {\n      // \n      finalX = regionMaxX - width;\n    } else if (maxX > regionMaxX) {\n      // \n      finalX = finalX - (maxX - regionMaxX);\n    }\n\n    if (minY > regionMaxY) {\n      // \n      finalY = regionMaxY - height;\n    } else if (maxY > regionMaxY) {\n      // \n      finalY = finalY - (maxY - regionMaxY);\n    }\n\n    if (finalX !== x || finalY !== y) {\n      translate(label, finalX - x, finalY - y);\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n *  label  bbox  label  shape  bbox \n */\nexport function limitInShape(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label, index) => {\n    const labelBBox = label.getCanvasBBox(); // \n    const shapeBBox = shapes[index].getBBox();\n    if (\n      labelBBox.minX < shapeBBox.minX ||\n      labelBBox.minY < shapeBBox.minY ||\n      labelBBox.maxX > shapeBBox.maxX ||\n      labelBBox.maxY > shapeBBox.maxY\n    ) {\n      label.remove(true); // \n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\nconst MAX_TIMES = 100;\n\n/** @ignore */\ninterface Bitmap {\n  [key: number]: {\n    [key: number]: boolean;\n  };\n}\n\n/** @ignore */\ninterface GreedyCfg {\n  readonly xGap?: number;\n  readonly yGap?: number;\n}\n\n/**\n * @ignore\n * Greedy \n */\nclass Greedy {\n  public readonly xGap: number;\n  /** optimizing for text overlapping detection: use a min text height as gap */\n  public readonly yGap: number;\n\n  private bitmap: Bitmap = {};\n\n  constructor(cfg: GreedyCfg = {}) {\n    const { xGap = 1, yGap = 8 } = cfg;\n    this.xGap = xGap;\n    this.yGap = yGap;\n  }\n\n  public hasGap(bbox: BBox): boolean {\n    let hasGap = true;\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n        continue;\n      }\n      if (i === minX || i === maxX) {\n        for (let j = minY; j <= maxY; j++) {\n          if (bitmap[i][j]) {\n            hasGap = false;\n            break;\n          }\n        }\n      } else {\n        if (bitmap[i][minY] || bitmap[i][maxY]) {\n          hasGap = false;\n          break;\n        }\n      }\n    }\n    return hasGap;\n  }\n\n  public fillGap(bbox: BBox): void {\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    // filling grid\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n      }\n    }\n    for (let i = minX; i <= maxX; i += this.xGap) {\n      for (let j = minY; j <= maxY; j += this.yGap) {\n        bitmap[i][j] = true;\n      }\n      bitmap[i][maxY] = true;\n    }\n\n    // filling y edges\n    if (this.yGap !== 1) {\n      for (let i = minY; i <= maxY; i += 1) {\n        bitmap[minX][i] = true;\n        bitmap[maxX][i] = true;\n      }\n    }\n\n    // filling x edges\n    if (this.xGap !== 1) {\n      for (let i = minX; i <= maxX; i += 1) {\n        bitmap[i][minY] = true;\n        bitmap[i][maxY] = true;\n      }\n    }\n  }\n\n  public destroy(): void {\n    this.bitmap = {};\n  }\n}\n\nfunction spiralFill(label: IShape, greedy: Greedy, maxTimes: number = MAX_TIMES) {\n  const dt = -1;\n  const { x, y } = label.attr();\n  const bbox = label.getCanvasBBox();\n  const maxDelta = Math.sqrt(bbox.width * bbox.width + bbox.height * bbox.height);\n  let dxdy;\n  let t = -dt;\n  let dx = 0;\n  let dy = 0;\n  const f = (param: number) => {\n    const nt = param * 0.1;\n    return [nt * Math.cos(nt), nt * Math.sin(nt)];\n  };\n\n  if (greedy.hasGap(bbox)) {\n    greedy.fillGap(bbox);\n    return true;\n  }\n  let canFill = false;\n  let times = 0;\n  const accessedCache = {};\n  while (Math.min(Math.abs(dx), Math.abs(dy)) < maxDelta && times < maxTimes) {\n    dxdy = f((t += dt));\n    dx = ~~dxdy[0];\n    dy = ~~dxdy[1];\n    if ((!dx && !dy) || accessedCache[`${dx}-${dy}`]) {\n      continue;\n    }\n    label.attr({ x: x + dx, y: y + dy });\n    if (dx + dy < 0) {\n      label.attr('textAlign', 'right');\n    }\n    times++;\n    if (greedy.hasGap(label.getCanvasBBox())) {\n      greedy.fillGap(label.getCanvasBBox());\n      canFill = true;\n      accessedCache[`${dx}-${dy}`] = true;\n      break;\n    }\n  }\n  return canFill;\n}\n\n/*\n *  label\n *                5\n *        ------------------\n *        |    1   |   0   |\n *    8   4   7\n *        |    2   |   3   |\n *        \n *                 6\n */\nfunction adjustLabelPosition(label: IShape, x: number, y: number, index: number) {\n  const { width, height } = label.getCanvasBBox();\n  const attrs = {\n    x,\n    y,\n    textAlign: 'center',\n  };\n  switch (index) {\n    case 0:\n      attrs.y -= height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 1:\n      attrs.y -= height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 2:\n      attrs.y += height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 3:\n      attrs.y += height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 5:\n      attrs.y -= height * 2 + 2;\n      break;\n    case 6:\n      attrs.y += height * 2 + 2;\n      break;\n    case 7:\n      attrs.x += width + 1;\n      attrs.textAlign = 'left';\n      break;\n    case 8:\n      attrs.x -= width + 1;\n      attrs.textAlign = 'right';\n      break;\n    default:\n      break;\n  }\n  label.attr(attrs);\n  return label.getCanvasBBox();\n}\n\n/**\n * @ignore\n * label  label  label \n *  'overlap'  label \n * @param labels  label \n */\nexport function fixedOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    if (!spiralFill(labelShape, greedy)) {\n      label.remove(true);\n    }\n  });\n  greedy.destroy();\n}\n\n/**\n * @ignore\n * label  label   label  label **** label\n * @param labels  label \n */\nexport function overlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    const { x, y } = labelShape.attr();\n    let canFill = false;\n    for (let i = 0; i <= 8; i++) {\n      const bbox = adjustLabelPosition(labelShape, x, y, i);\n      if (greedy.hasGap(bbox)) {\n        greedy.fillGap(bbox);\n        canFill = true;\n        break;\n      }\n    }\n    if (!canFill) {\n      label.remove(true);\n    }\n  });\n\n  greedy.destroy();\n}\n","import { isNumber } from '@antv/util';\nimport { Point } from '../dependents';\n\ntype Vec2 = [number, number];\n\ntype Item = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  rotation?: number;\n  visible?: boolean;\n};\n/**\n * \n */\ntype Projection = { min: number; max: number };\n\nfunction dot(a, b) {\n  return (a[0] || 0) * (b[0] || 0) + (a[1] || 0) * (b[1] || 0) + (a[2] || 0) * (b[2] || 0);\n}\n\n/**\n * @private\n * 1. \n */\nfunction getAxes(points: Point[] /**  */): Vec2[] {\n  //   , \n  if (points.length > 4) {\n    return [];\n  }\n  // \n  const vector = (start: Point, end: Point): Vec2 => {\n    return [end.x - start.x, end.y - start.y];\n  };\n\n  //   2 : A -> B, B -> C\n  const AB = vector(points[0], points[1]);\n  const BC = vector(points[1], points[2]);\n\n  return [AB, BC];\n}\n\n/**\n * @private\n * \n * \n */\nfunction rotateAtPoint(point: Point, deg = 0, origin = { x: 0, y: 0 }): Point {\n  const { x, y } = point;\n  return {\n    x: (x - origin.x) * Math.cos(-deg) + (y - origin.y) * Math.sin(-deg) + origin.x,\n    y: (origin.x - x) * Math.sin(-deg) + (y - origin.y) * Math.cos(-deg) + origin.y,\n  };\n}\n\n/**\n * @private\n * \n *\n * @param {Object} box\n */\nfunction getRectPoints(box: Item): Point[] {\n  const points = [\n    { x: box.x, y: box.y },\n    { x: box.x + box.width, y: box.y },\n    { x: box.x + box.width, y: box.y + box.height },\n    { x: box.x, y: box.y + box.height },\n  ];\n\n  const rotation = box.rotation;\n  if (rotation) {\n    return [\n      rotateAtPoint(points[0], rotation, points[0]),\n      rotateAtPoint(points[1], rotation, points[0]),\n      rotateAtPoint(points[2], rotation, points[0]),\n      rotateAtPoint(points[3], rotation, points[0]),\n    ];\n  }\n\n  return points;\n}\n\n/**\n * @private\n * 2. \n *\n * \n * 1 x1 * x2 + y1 * y2\n */\nfunction getProjection(points: Point[] /**  */, axis: Vec2): Projection {\n  // \n  if (points.length > 4) {\n    return { min: 0, max: 0 };\n  }\n\n  const scalars = [];\n  points.forEach((point) => {\n    scalars.push(dot([point.x, point.y], axis));\n  });\n\n  return { min: Math.min(...scalars), max: Math.max(...scalars) };\n}\n\nfunction isProjectionOverlap(projection1: Projection, projection2: Projection): boolean {\n  return projection1.max > projection2.min && projection1.min < projection2.max;\n}\n\nfunction isValidNumber(d: number) {\n  return typeof d === 'number' && !Number.isNaN(d) && d !== Infinity && d !== -Infinity;\n}\n\nfunction isValidBox(box: Item) {\n  return ['x', 'y', 'width', 'height'].every(attr => isValidNumber(box[attr]))\n}\n\n/**\n * \n */\nexport function isIntersectRect(box1: Item, box2: Item, margin: number = 0): boolean {\n  return !(\n    box2.x > box1.x + box1.width + margin ||\n    box2.x + box2.width < box1.x - margin ||\n    box2.y > box1.y + box1.height + margin ||\n    box2.y + box2.height < box1.y - margin\n  );\n}\n\n/**\n * detect whether two shape is intersected, useful when shape is been rotated\n * , \n *\n * - : \n */\nexport function intersect(box1: Item, box2: Item, margin: number = 0) {\n  //  box  box\n  if (!isValidBox(box1) || !isValidBox(box2)) return false;\n\n  // \n  if (!box1.rotation && !box2.rotation) {\n    return isIntersectRect(box1, box2, margin);\n  }\n\n  //  4 \n  const rect1Points = getRectPoints(box1);\n  const rect2Points = getRectPoints(box2);\n\n  // \n  const axes = getAxes(rect1Points).concat(getAxes(rect2Points));\n\n  for (let i = 0; i < axes.length; i++) {\n    const axis = axes[i];\n    const projection1 = getProjection(rect1Points, axis);\n    const projection2 = getProjection(rect2Points, axis);\n\n    // \n    if (!isProjectionOverlap(projection1, projection2)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","export function createWorker(f: any) {\n  if (typeof window === \"undefined\") return;\n\n  let blob;\n  try {\n    blob = new Blob([f.toString()], { type: 'application/javascript' });\n  } catch (e) {\n    // @ts-ignore\n    blob = new window.BlobBuilder();\n    blob.append(f.toString());\n    blob = blob.getBlob();\n  }\n\n  return new Worker(URL.createObjectURL(blob));\n}\n","const onmessage = function (e) {\n  type Item = {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n    rotation?: number;\n    visible?: boolean;\n  };\n\n  // Copy from src/util/collision-detect.ts\n  function generateUtils() {\n    type Vec2 = [number, number];\n\n    type Point = { x: number; y: number };\n\n    /**\n     * \n     */\n    type Projection = { min: number; max: number };\n\n    function dot(a, b) {\n      return (a[0] || 0) * (b[0] || 0) + (a[1] || 0) * (b[1] || 0) + (a[2] || 0) * (b[2] || 0);\n    }\n    /**\n     * 1. \n     */\n    function getAxes(points: Point[] /**  */): Vec2[] {\n      //   , \n      if (points.length > 4) {\n        return [];\n      }\n      // \n      const vector = (start: Point, end: Point): Vec2 => {\n        return [end.x - start.x, end.y - start.y];\n      };\n\n      //   2 : A -> B, B -> C\n      const AB = vector(points[0], points[1]);\n      const BC = vector(points[1], points[2]);\n\n      return [AB, BC];\n    }\n\n    /**\n     * \n     * \n     */\n    function rotateAtPoint(point: Point, deg = 0, origin = { x: 0, y: 0 }): Point {\n      const { x, y } = point;\n      return {\n        x: (x - origin.x) * Math.cos(-deg) + (y - origin.y) * Math.sin(-deg) + origin.x,\n        y: (origin.x - x) * Math.sin(-deg) + (y - origin.y) * Math.cos(-deg) + origin.y,\n      };\n    }\n\n    /**\n     * @private\n     * \n     *\n     * @param {Object} box\n     */\n    function getRectPoints(box: Item): Point[] {\n      const points = [\n        { x: box.x, y: box.y },\n        { x: box.x + box.width, y: box.y },\n        { x: box.x + box.width, y: box.y + box.height },\n        { x: box.x, y: box.y + box.height },\n      ];\n\n      const rotation = box.rotation;\n      if (rotation) {\n        return [\n          rotateAtPoint(points[0], rotation, points[0]),\n          rotateAtPoint(points[1], rotation, points[0]),\n          rotateAtPoint(points[2], rotation, points[0]),\n          rotateAtPoint(points[3], rotation, points[0]),\n        ];\n      }\n\n      return points;\n    }\n\n    /**\n     * 2. \n     *\n     * \n     * 1 x1 * x2 + y1 * y2\n     */\n    function getProjection(points: Point[] /**  */, axis: Vec2): Projection {\n      // \n      if (points.length > 4) {\n        return { min: 0, max: 0 };\n      }\n\n      const scalars = [];\n      points.forEach((point) => {\n        scalars.push(dot([point.x, point.y], axis));\n      });\n\n      return { min: Math.min.apply(null, scalars), max: Math.max.apply(null, scalars) };\n    }\n\n    function isProjectionOverlap(projection1: Projection, projection2: Projection): boolean {\n      return projection1.max > projection2.min && projection1.min < projection2.max;\n    }\n\n    function isValidNumber(d: number) {\n      return typeof d === 'number' && !Number.isNaN(d) && d !== Infinity && d !== -Infinity;\n    }\n\n    function isValidBox(box: Item) {\n      return ['x', 'y', 'width', 'height'].every(attr => isValidNumber(box[attr]))\n    }\n\n    function isIntersectRect(box1: Item, box2: Item, margin: number = 0): boolean {\n      return !(\n        box2.x > box1.x + box1.width + margin ||\n        box2.x + box2.width < box1.x - margin ||\n        box2.y > box1.y + box1.height + margin ||\n        box2.y + box2.height < box1.y - margin\n      );\n    }\n    function intersect(box1: Item, box2: Item, margin: number = 0) {\n      if (!isValidBox(box1) || !isValidBox(box2)) return false;\n\n      // Quick detect, if rotation is null or zero.\n      if (!box1.rotation && !box2.rotation) {\n        return isIntersectRect(box1, box2, margin);\n      }\n\n      //  4 \n      const rect1Points = getRectPoints(box1);\n      const rect2Points = getRectPoints(box2);\n\n      // \n      const axes = getAxes(rect1Points).concat(getAxes(rect2Points));\n\n      for (let i = 0; i < axes.length; i++) {\n        const axis = axes[i];\n        const projection1 = getProjection(rect1Points, axis);\n        const projection2 = getProjection(rect2Points, axis);\n\n        if (!isProjectionOverlap(projection1, projection2)) return false;\n      }\n\n      return true;\n    }\n    return { intersect }\n  }\n  const { intersect } = generateUtils();\n\n  // Label layouts.\n  function hideOverlap(items: Item[]) {\n    const boxes = items.slice();\n    for (let i = 0; i < boxes.length; i++) {\n      const box1 = boxes[i];\n      if (box1.visible) {\n        for (let j = i + 1; j < boxes.length; j++) {\n          const box2 = boxes[j];\n          if (box1 !== box2 && box2.visible) {\n            if (intersect(box1, box2)) {\n              box2.visible = false;\n            }\n          }\n        }\n      }\n    }\n    return boxes;\n  }\n\n  const methods = {\n    'hide-overlap': hideOverlap,\n  }\n\n  // Main\n  try {\n    const eventData = JSON.parse(e.data);\n    if (!eventData || !eventData.type || !methods[eventData.type]) return;\n\n    const { type, items } = eventData;\n    const result = methods[type](items);\n    self.postMessage(result);\n  } catch (e) {\n    throw e;\n  }\n}\n\nconst code = `\n   self.onmessage = ${onmessage.toString()}\n`\nexport { code };\n","import { get, each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { intersect } from '../../../util/collision-detect';\nimport { LabelItem } from '../interface';\nimport { getLabelBackgroundInfo } from '../util';\nimport { createWorker } from '../util/createWorker';\nimport { code as layoutCode } from './worker/hide-overlap';\n\ntype Item = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  rotation?: number;\n  visible?: boolean;\n};\n\nconst layout = (items: Item[]): Item[] => {\n  const boxes = items.slice();\n  for (let i = 0; i < boxes.length; i++) {\n    const box1 = boxes[i];\n    if (box1.visible) {\n      for (let j = i + 1; j < boxes.length; j++) {\n        const box2 = boxes[j];\n        if (box1 !== box2 && box2.visible) {\n          if (intersect(box1, box2)) {\n            box2.visible = false;\n          }\n        }\n      }\n    }\n  }\n  return boxes;\n}\n\nconst cache: Map<string, any> = new Map();\nconst worker = createWorker(layoutCode);\n\n/**\n * label  label  label \n *  'overlap'  label \n * @param labels  label \n */\nexport function hideOverlap(labelItems: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  // todo  label rank\n  return new Promise((resolve) => {\n    const boxes = labels.map((d, idx) => ({\n      ...getLabelBackgroundInfo(d, labelItems[idx], get(labelItems[idx], 'background.padding')),\n      visible: true,\n    }));\n    const memoKey = JSON.stringify(boxes);\n    const cb = (items: Item[]) => {\n      cache.set(memoKey, items);\n      each(items, ({ visible }, idx) => {\n        const labelShape = labels[idx];\n        if (visible) {\n          labelShape?.show()\n        } else {\n          labelShape?.hide();\n        }\n      });\n      return resolve(items);\n    }\n    if (cache.get(memoKey)) {\n      cb(cache.get(memoKey))\n    } else if (worker) {\n      // Do layout in worker.\n      try {\n        worker.postMessage(JSON.stringify({ type: 'hide-overlap', items: boxes }));\n        worker.onmessage = (e) => cb(Array.isArray(e.data) ? e.data : []);\n        worker.onmessageerror = (e) => {\n          console.warn('[AntV G2] Web worker is not available');\n          // Normal layout in main thread.\n          cb(layout(boxes));\n        };\n      } catch (e) {\n        console.error(e);\n        cb(layout(boxes));\n      }\n    } else {\n      // Normal layout in main thread.\n      cb(layout(boxes));\n    }\n  });\n}\n","let ctx: CanvasRenderingContext2D;\n\n/**\n *  canvas context\n */\nexport function getCanvasContext() {\n  if (!ctx) {\n    ctx = document.createElement('canvas').getContext('2d');\n  }\n\n  return ctx;\n}\n","import { IGroup, IShape } from '../../../dependents';\nimport { BBox } from '../../../util/bbox';\nimport { isContrastColorWhite } from '../../../util/color';\nimport Element from '../../element';\nimport { LabelItem } from '../interface';\n\nexport function adjustColor(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0].get('element');\n  const theme = element.geometry.theme;\n  const { fillColorLight, fillColorDark } = theme.labels || {};\n\n  shapes.forEach((shape: IShape | IGroup, index: number) => {\n    const label = labels[index];\n    const textShape = label.find((el) => el.get('type') === 'text');\n    const shapeBBox = BBox.fromObject(shape.getBBox());\n    const textBBox = BBox.fromObject(textShape.getCanvasBBox());\n    const overflow = !shapeBBox.contains(textBBox);\n\n    const bgColor = shape.attr('fill');\n    const fillWhite = isContrastColorWhite(bgColor);\n\n    if (!overflow) {\n      if (fillWhite) {\n        if (fillColorLight) {\n          textShape.attr('fill', fillColorLight);\n        }\n      } else {\n        if (fillColorDark) {\n          textShape.attr('fill', fillColorDark);\n        }\n      }\n    } else {\n      //  overflowLabel \n      textShape.attr(theme.overflowLabels.style);\n    }\n  });\n}\n","import { IElement, IGroup, IShape } from '../../../../dependents';\nimport { BBox } from '../../../../util/bbox';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\nfunction shouldInShapeSingle(geometry: Geometry, label: IGroup, shape: IElement): boolean {\n  const coordinate = geometry.coordinate;\n  const textShape = findLabelTextShape(label);\n  const textBBox = BBox.fromObject(textShape.getCanvasBBox());\n  const shapeBBox = BBox.fromObject(shape.getBBox());\n\n  return coordinate.isTransposed ? shapeBBox.height >= textBBox.height : shapeBBox.width >= textBBox.width;\n}\n\nfunction shouldInShape(geometry: Geometry, labels: IGroup[], shapes: IShape[] | IGroup[]): boolean {\n  const isStack = !!geometry.getAdjust('stack');\n\n  return (\n    isStack ||\n    labels.every((label: IGroup, index: number) => {\n      const shape = shapes[index];\n      return shouldInShapeSingle(geometry, label, shape);\n    })\n  );\n}\n\nfunction moveInShape(geometry: Geometry, label: IGroup, shape: IElement): void {\n  const coordinate = geometry.coordinate;\n  const shapeBBox = BBox.fromObject(shape.getBBox());\n  const textShape = findLabelTextShape(label);\n\n  if (coordinate.isTransposed) {\n    // \n    textShape.attr({\n      x: shapeBBox.minX + shapeBBox.width / 2,\n      textAlign: 'center',\n    });\n  } else {\n    // \n    textShape.attr({\n      y: shapeBBox.minY + shapeBBox.height / 2,\n      textBaseline: 'middle',\n    });\n  }\n}\n\n/**\n *  interval geometry \n * @param items\n * @param labels\n * @param shapes\n */\nexport function intervalAdjustPosition(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'interval') {\n    return;\n  }\n\n  const inShape = shouldInShape(geometry, labels, shapes);\n  if (inShape) {\n    shapes.forEach((shape: IShape | IGroup, index: number) => {\n      const label = labels[index];\n      moveInShape(geometry, label, shape);\n    });\n  }\n}\n","import { IGroup, IShape } from '../../../../dependents';\nimport { each, groupBy, uniq, map, size, filter } from '@antv/util';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { checkShapeOverlap } from '../../util';\n\nfunction filterLabel(labels: IShape[] | IGroup[]) {\n  const MAX_CNT = 500; //  500 \n  const filteredLabels = [];\n  const pages = Math.max(Math.floor(labels.length / MAX_CNT), 1);\n  each(labels, (label, idx) => {\n    if (idx % pages === 0) {\n      filteredLabels.push(label);\n    } else {\n      label.set('visible', false);\n    }\n  });\n\n  return filteredLabels;\n}\n\n/**\n *  interval geometry \n * @param items\n * @param labels\n * @param shapes\n */\nexport function intervalHideOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'interval') {\n    return;\n  }\n\n  const filteredLabels = filterLabel(labels);\n  const [xField] = geometry.getXYFields();\n  const dones: IShape[] = [];\n  const todo: IShape[] = [];\n  const groupedLabels = groupBy(filteredLabels, (label) => label.get('data')[xField]);\n  const xValues = uniq(map(filteredLabels, (label: IShape) => label.get('data')[xField]));\n  let xValue;\n\n  filteredLabels.forEach((label) => {\n    label.set('visible', true);\n  });\n\n  const addCurrentGroup = (curItems: IShape[]) => {\n    if (curItems) {\n      if (curItems.length) {\n        // \n        todo.push(curItems.pop());\n      }\n      todo.push(...curItems);\n    }\n  };\n\n  if (size(xValues) > 0) {\n    // \n    xValue = xValues.shift();\n    addCurrentGroup(groupedLabels[xValue]);\n  }\n  if (size(xValues) > 0) {\n    // \n    xValue = xValues.pop();\n    addCurrentGroup(groupedLabels[xValue]);\n  }\n  each(xValues.reverse(), (val) => {\n    // \n    addCurrentGroup(groupedLabels[val]);\n  });\n\n  while (todo.length > 0) {\n    const cur = todo.shift();\n    if (cur.get('visible')) {\n      if (checkShapeOverlap(cur, dones)) {\n        cur.set('visible', false);\n      } else {\n        dones.push(cur);\n      }\n    }\n  }\n}\n","import { groupBy, keys, map } from '@antv/util';\nimport { IElement, IGroup, IShape, BBox } from '../../../../dependents';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\n/**\n * point-adjust-position layout \n */\nexport interface PointAdjustPositionLayoutCfg {\n  offset?: number;\n}\n\n/**\n * ( xField ) Label ...\n * @param geometry\n * @param labels\n */\nfunction sortLabels(geometry: Geometry, labels: IGroup[]) {\n  const yField = geometry.getXYFields()[1];\n  const result: IGroup[] = [];\n  const sortedLabels = labels.sort((left, right) => left.get('data')[yField] - left.get('data')[yField]);\n\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.shift());\n  }\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.pop());\n  }\n  result.push(...sortedLabels);\n\n  return result;\n}\n\nfunction hasSome(dones: IGroup[], current: IGroup, compare: (left: IGroup, right: IGroup) => boolean): boolean {\n  return dones.some((done) => compare(done, current));\n}\n\n/**\n * \n */\nfunction getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**\n *  Label \n * @param dones\n * @param current\n */\nfunction checkShapeOverlap(dones: IGroup[], current: IGroup): boolean {\n  return hasSome(dones, current, (left, right) => {\n    const leftText = findLabelTextShape(left);\n    const rightText = findLabelTextShape(right);\n\n    return getOverlapArea(leftText.getCanvasBBox(), rightText.getCanvasBBox(), 2) > 0;\n  });\n}\n/**\n *  point geometry \n * @param items\n * @param labels\n * @param shapes\n * @param region\n * @param cfg\n */\nexport function pointAdjustPosition(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg: PointAdjustPositionLayoutCfg\n): void {\n  if (shapes.length === 0) {\n    return;\n  }\n\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'point') {\n    return;\n  }\n  const [xField, yField] = geometry.getXYFields();\n  const groupedLabels = groupBy(labels, (label) => label.get('data')[xField]);\n  const dones: IGroup[] = [];\n  const offset = (cfg && cfg.offset) || items[0]?.offset || 12;\n\n  map(keys(groupedLabels).reverse(), (xValue) => {\n    const sortedCollections = sortLabels(geometry, groupedLabels[xValue]);\n    while (sortedCollections.length) {\n      const current = sortedCollections.shift();\n      const textShape = findLabelTextShape(current);\n      if (\n        hasSome(\n          dones,\n          current,\n          (left, right) =>\n            left.get('data')[xField] === right.get('data')[xField] &&\n            left.get('data')[yField] === right.get('data')[yField]\n        )\n      ) {\n        // \n        textShape.set('visible', false);\n        continue;\n      }\n      const upFail = checkShapeOverlap(dones, current);\n      let downFail: boolean = false;\n      if (upFail) {\n        textShape.attr('y', textShape.attr('y') + 2 * offset);\n        downFail = checkShapeOverlap(dones, current);\n      }\n      if (downFail) {\n        textShape.set('visible', false);\n        continue;\n      }\n      dones.push(current);\n    }\n  });\n}\n","import { groupBy, keys, map } from '@antv/util';\nimport { IGroup, IShape, BBox } from '../../../../dependents';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\n/**\n * point-adjust-position layout \n */\nexport interface PointAdjustPositionLayoutCfg {\n  offset?: number;\n}\n\n/**\n * ( xField ) Label ...\n * @param geometry\n * @param labels\n */\nfunction sortLabels(geometry: Geometry, labels: IGroup[]) {\n  const yField = geometry.getXYFields()[1];\n  const result: IGroup[] = [];\n  const sortedLabels = labels.sort((left, right) => left.get('data')[yField] - left.get('data')[yField]);\n\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.shift());\n  }\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.pop());\n  }\n  result.push(...sortedLabels);\n\n  return result;\n}\n\nfunction hasSome(dones: IGroup[], current: IGroup, compare: (left: IGroup, right: IGroup) => boolean): boolean {\n  return dones.some((done) => compare(done, current));\n}\n\n/**\n * \n */\nfunction getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**\n *  Label \n * @param dones\n * @param current\n */\nfunction checkShapeOverlap(dones: IGroup[], current: IGroup): boolean {\n  return hasSome(dones, current, (left, right) => {\n    const leftText = findLabelTextShape(left);\n    const rightText = findLabelTextShape(right);\n\n    return getOverlapArea(leftText.getCanvasBBox(), rightText.getCanvasBBox(), 2) > 0;\n  });\n}\n/**\n *  point geometry \n * @param items\n * @param labels\n * @param shapes\n * @param region\n * @param cfg\n */\nexport function pathAdjustPosition(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg: PointAdjustPositionLayoutCfg\n): void {\n  if (shapes.length === 0) {\n    return;\n  }\n\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || ['path', 'line', 'area'].indexOf(geometry.type) < 0) {\n    return;\n  }\n  const [xField, yField] = geometry.getXYFields();\n  const groupedLabels = groupBy(labels, (label) => label.get('data')[xField]);\n  const dones: IGroup[] = [];\n  const offset = (cfg && cfg.offset) || items[0]?.offset || 12;\n\n  map(keys(groupedLabels).reverse(), (xValue) => {\n    const sortedCollections = sortLabels(geometry, groupedLabels[xValue]);\n    while (sortedCollections.length) {\n      const current = sortedCollections.shift();\n      const textShape = findLabelTextShape(current);\n      if (\n        hasSome(\n          dones,\n          current,\n          (left, right) =>\n            left.get('data')[xField] === right.get('data')[xField] &&\n            left.get('data')[yField] === right.get('data')[yField]\n        )\n      ) {\n        // \n        textShape.set('visible', false);\n        continue;\n      }\n      const upFail = checkShapeOverlap(dones, current);\n      let downFail: boolean = false;\n      if (upFail) {\n        textShape.attr('y', textShape.attr('y') + 2 * offset);\n        downFail = checkShapeOverlap(dones, current);\n      }\n      if (downFail) {\n        textShape.set('visible', false);\n        continue;\n      }\n      dones.push(current);\n    }\n  });\n}\n","import { each, pick } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { getCoordinateBBox } from '../../../util/coordinate';\nimport { getEllipsisText } from '../../../util/text';\nimport { translate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/** limitInPlot layout  */\nexport interface LimitInPlotLayoutCfg {\n  /**  Plot  */\n  direction?: ('top' | 'right' | 'bottom' | 'left')[];\n  /**  margin */\n  margin?: number;\n  /**  translate ; ellipsis  text  */\n  action?: 'hide' | 'translate' | 'ellipsis';\n}\n\n/**\n * @ignore\n *  label  Plot  Plot  label \n * @param labels\n * @param cfg\n */\nexport function limitInPlot(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg?: LimitInPlotLayoutCfg\n) {\n  if (labels.length <= 0) {\n    return;\n  }\n  const direction = cfg?.direction || ['top', 'right', 'bottom', 'left'];\n  const action = cfg?.action || 'translate';\n  const margin = cfg?.margin || 0;\n  const coordinate = labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n  const {\n    minX: regionMinX,\n    minY: regionMinY,\n    maxX: regionMaxX,\n    maxY: regionMaxY,\n  } = getCoordinateBBox(coordinate, margin);\n\n  each(labels, (label: IGroup) => {\n    const { minX, minY, maxX, maxY, x, y, width, height } = label.getCanvasBBox();\n\n    let finalX = x;\n    let finalY = y;\n    if (direction.indexOf('left') >= 0 && (minX < regionMinX || maxX < regionMinX)) {\n      // \n      finalX = regionMinX;\n    }\n    if (direction.indexOf('top') >= 0 && (minY < regionMinY || maxY < regionMinY)) {\n      // \n      finalY = regionMinY;\n    }\n\n    if (direction.indexOf('right') >= 0) {\n      if (minX > regionMaxX) {\n        // \n        finalX = regionMaxX - width;\n      } else if (maxX > regionMaxX) {\n        // \n        finalX = finalX - (maxX - regionMaxX);\n      }\n    }\n\n    if (direction.indexOf('bottom') >= 0) {\n      if (minY > regionMaxY) {\n        // \n        finalY = regionMaxY - height;\n      } else if (maxY > regionMaxY) {\n        // \n        finalY = finalY - (maxY - regionMaxY);\n      }\n    }\n\n    if (finalX !== x || finalY !== y) {\n      const translateX = finalX - x;\n      if (action === 'translate') {\n        translate(label, translateX, finalY - y);\n      } else if (action === 'ellipsis') {\n        const textShapes = label.findAll((shape) => shape.get('type') === 'text');\n        textShapes.forEach((textShape) => {\n          const style = pick(textShape.attr(), ['fontSize', 'fontFamily', 'fontWeight', 'fontStyle', 'fontVariant']);\n          const textBox = textShape.getCanvasBBox();\n          const text = getEllipsisText(textShape.attr('text'), textBox.width - Math.abs(translateX), style);\n          textShape.attr('text', text);\n        });\n      } else {\n        label.hide();\n      }\n    }\n  });\n}\n","import { isNil } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n *  shape \n * \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function fadeIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: isNil(shape.attr('fillOpacity')) ? 1 : shape.attr('fillOpacity'),\n    strokeOpacity: isNil(shape.attr('strokeOpacity')) ? 1 : shape.attr('strokeOpacity'),\n    opacity: isNil(shape.attr('opacity')) ? 1 : shape.attr('opacity'),\n  };\n  shape.attr({\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  });\n  shape.animate(endState, animateCfg);\n}\n\n/**\n * @ignore\n *  shape \n * \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function fadeOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  };\n  const { easing, duration, delay } = animateCfg;\n  shape.animate(\n    endState,\n    duration,\n    easing,\n    () => {\n      shape.remove(true);\n    },\n    delay\n  );\n}\n","import { ext } from '@antv/matrix-util';\nimport { Coordinate, IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\n\n/**\n * @ignore\n * \n * @param shape \n * @param vector \n * @param direct \n */\nexport function transformShape(shape: IShape | IGroup, vector: [number, number], direct: string): number[] {\n  let scaledMatrix;\n\n  const [x, y] = vector;\n  shape.applyToMatrix([x, y, 1]);\n  if (direct === 'x') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 1],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 1],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'y') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 1, 100],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'xy') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 100],\n      ['t', x, y],\n    ]);\n  }\n  return scaledMatrix;\n}\n\n/**\n * \n * @param element \n * @param animateCfg \n * @param coordinate \n * @param yMinPoint y \n * @param type \n */\nexport function doScaleAnimate(\n  element: IGroup | IShape,\n  animateCfg: GAnimateCfg,\n  coordinate: Coordinate,\n  yMinPoint: Point,\n  type: string\n) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n  let x: number;\n  let y: number;\n\n  if (type === 'y') {\n    x = start.x + width / 2;\n    y = yMinPoint.y < start.y ? yMinPoint.y : start.y;\n  } else if (type === 'x') {\n    x = yMinPoint.x > start.x ? yMinPoint.x : start.x;\n    y = start.y + height / 2;\n  } else if (type === 'xy') {\n    if (coordinate.isPolar) {\n      x = coordinate.getCenter().x;\n      y = coordinate.getCenter().y;\n    } else {\n      x = (start.x + end.x) / 2;\n      y = (start.y + end.y) / 2;\n    }\n  }\n\n  const endMatrix = transformShape(element, [x, y], type);\n  element.animate(\n    {\n      matrix: endMatrix,\n    },\n    animateCfg\n  );\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { doScaleAnimate } from './util';\n\n/**\n * @ignore\n * \n * x \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInX(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'x');\n}\n\n/**\n * @ignore\n * \n * y \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'y');\n}\n\n/**\n * @ignore\n * \n * \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInXY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'xy');\n}\n","import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * path \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function pathIn(element: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  // @ts-ignore\n  const length = element.getTotalLength();\n  // \n  element.attr('lineDash', [length]);\n  element.animate((ratio: number) => {\n    return {\n      // \n      lineDashOffset: (1 - ratio) * length,\n    };\n  }, animateCfg);\n}\n","import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * @param shape \n * @param animateCfg\n * @param cfg\n */\nexport function positionUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs } = cfg;\n  // @ts-ignore\n  const x = toAttrs.x;\n  // @ts-ignore\n  const y = toAttrs.y;\n\n  // @ts-ignore\n  delete toAttrs.x;\n  // @ts-ignore\n  delete toAttrs.y;\n\n  shape.attr(toAttrs);\n\n  shape.animate(\n    {\n      x,\n      y,\n    },\n    animateCfg\n  );\n}\n","import { ext } from '@antv/matrix-util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n *  x \n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInX(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const points = mappingData.points as Point[];\n  // x \n  const x = points[0].y - points[1].y > 0 ? box.maxX : box.minX;\n  const y = (box.minY + box.maxY) / 2;\n\n  shape.applyToMatrix([x, y, 1]);\n\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 0.01, 1],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 100, 1],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n\n/**\n * @ignore\n *  y \n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInY(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const x = (box.minX + box.maxX) / 2;\n  const points = mappingData.points as Point[];\n  //  shape \n  const y = points[0].y - points[1].y <= 0 ? box.maxY : box.minY;\n\n  shape.applyToMatrix([x, y, 1]);\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 1, 0.01],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 100],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n","import { getArcParams } from '@antv/g-canvas';\nimport { isNumberEqual, isEqual } from '@antv/util';\n\nimport { IShape, PathCommand } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { getArcPath, getSectorPath } from '../../util/graphics';\n\nfunction getAngle(startPoint: number[], arcPath: PathCommand) {\n  let { startAngle, endAngle } = getArcParams(startPoint, arcPath);\n\n  if (!isNumberEqual(startAngle, -Math.PI * 0.5) && startAngle < -Math.PI * 0.5) {\n    startAngle += Math.PI * 2;\n  }\n  if (!isNumberEqual(endAngle, -Math.PI * 0.5) && endAngle < -Math.PI * 0.5) {\n    endAngle += Math.PI * 2;\n  }\n\n  if (arcPath[5] === 0) {\n    //  startAngle  endAngle  G2 \n    [startAngle, endAngle] = [endAngle, startAngle];\n  }\n\n  if (isNumberEqual(startAngle, Math.PI * 1.5)) {\n    startAngle = Math.PI * -0.5;\n  }\n\n  //  startAngle, endAngle  endAngle = Math.PI * 1.5 \n  if (isNumberEqual(endAngle, Math.PI * -0.5) && !isNumberEqual(startAngle, endAngle)) {\n    endAngle = Math.PI * 1.5;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\nfunction getArcStartPoint(path: PathCommand) {\n  let startPoint;\n  if (path[0] === 'M' || path[0] === 'L') {\n    startPoint = [path[1], path[2]];\n  } else if (path[0] === 'a' || path[0] === 'A' || path[0] === 'C') {\n    startPoint = [path[path.length - 2], path[path.length - 1]];\n  }\n\n  return startPoint;\n}\n\n/**\n * path \n * 1.  path M, L, A, L, Z\n * 2.  path M, M, A, A, M, Z\n * 3.  path M, A, L, A, L, Z\n * 4.  path M, A, A, M, A, A, M, Z\n * 5. radial-line,  path,  M, A, A, Z\n * 6. radial-line,  path M, A, A, A, A, Z\n * @param path theta  path \n */\nexport function getArcInfo(path: PathCommand[]) {\n  let startAngle;\n  let endAngle;\n\n  const arcPaths = path.filter((command) => {\n    return command[0] === 'A' || command[0] === 'a';\n  });\n\n  if (arcPaths.length === 0) {\n    return {\n      startAngle: 0,\n      endAngle: 0,\n      radius: 0,\n      innerRadius: 0,\n    };\n  }\n\n  const firstArcPathCommand = arcPaths[0];\n  const lastArcPathCommand = arcPaths.length > 1 ? arcPaths[1] : arcPaths[0];\n  const firstIndex = path.indexOf(firstArcPathCommand);\n  const lastIndex = path.indexOf(lastArcPathCommand);\n  const firstStartPoint = getArcStartPoint(path[firstIndex - 1]);\n  const lastStartPoint = getArcStartPoint(path[lastIndex - 1]);\n\n  const { startAngle: firstStartAngle, endAngle: firstEndAngle } = getAngle(firstStartPoint, firstArcPathCommand);\n  const { startAngle: lastStartAngle, endAngle: lastEndAngle } = getAngle(lastStartPoint, lastArcPathCommand);\n\n  if (isNumberEqual(firstStartAngle, lastStartAngle) && isNumberEqual(firstEndAngle, lastEndAngle)) {\n    startAngle = firstStartAngle;\n    endAngle = firstEndAngle;\n  } else {\n    startAngle = Math.min(firstStartAngle, lastStartAngle);\n    endAngle = Math.max(firstEndAngle, lastEndAngle);\n  }\n\n  let radius = firstArcPathCommand[1];\n  let innerRadius = arcPaths[arcPaths.length - 1][1];\n  if (radius < innerRadius) {\n    [radius, innerRadius] = [innerRadius, radius];\n  } else if (radius === innerRadius) {\n    innerRadius = 0;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n    radius,\n    innerRadius,\n  };\n}\n\n/**\n * @ignore\n * \n * @param shape \n * @param animateCfg\n * @param cfg\n */\nexport function sectorPathUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs, coordinate } = cfg;\n  const path = (toAttrs as { path: PathCommand[] }).path || [];\n  const pathCommands = path.map((command) => command[0]);\n\n  if (path.length < 1) return;\n\n  const { startAngle: curStartAngle, endAngle: curEndAngle, radius, innerRadius } = getArcInfo(path);\n  const { startAngle: preStartAngle, endAngle: preEndAngle } = getArcInfo(shape.attr('path'));\n\n  const center = coordinate.getCenter();\n  const diffStartAngle = curStartAngle - preStartAngle;\n  const diffEndAngle = curEndAngle - preEndAngle;\n  //  diff  attrs\n  if (diffStartAngle === 0 && diffEndAngle === 0) {\n    shape.attr('path', path);\n    return;\n  }\n\n  shape.animate(\n    (ratio) => {\n      const onFrameStartAngle = preStartAngle + ratio * diffStartAngle;\n      const onFrameEndAngle = preEndAngle + ratio * diffEndAngle;\n      return {\n        ...toAttrs,\n        path:\n          // hack,  /examples/bar/basic/demo/radial-line.ts \n          isEqual(pathCommands, ['M', 'A', 'A', 'Z'])\n            ? getArcPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle)\n            : getSectorPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle, innerRadius),\n      };\n    },\n    {\n      ...animateCfg,\n      callback: () => {\n        //  path  setState() \n        shape.attr('path', path);\n      },\n    }\n  );\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { getCoordinateClipCfg } from '../../util/coordinate';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * \n * @todo \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function waveIn(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { type, startState, endState } = getCoordinateClipCfg(cfg.coordinate, 20); // \n  const clipShape = element.setClip({\n    type,\n    attrs: startState,\n  }) as IShape; //  shape \n\n  //    toAttrs \n  if (cfg.toAttrs) {\n    element.attr(cfg.toAttrs);\n  }\n\n  // \n  clipShape.animate(endState, {\n    ...animateCfg,\n    callback: () => {\n      if (element && !element.get('destroyed')) {\n        element.set('clipShape', null);\n      }\n      clipShape.remove(true); // \n    },\n  });\n}\n","import { ext } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nfunction doShapeZoom(shape: IShape | IGroup, animateCfg: GAnimateCfg, type: 'zoomIn' | 'zoomOut') {\n  if (shape.isGroup()) {\n    each((shape as IGroup).getChildren(), (child) => {\n      doShapeZoom(child, animateCfg, type);\n    });\n  } else {\n    const bbox = shape.getBBox();\n    const x = (bbox.minX + bbox.maxX) / 2;\n    const y = (bbox.minY + bbox.maxY) / 2;\n    shape.applyToMatrix([x, y, 1]);\n\n    if (type === 'zoomIn') {\n      // \n      const matrix = ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ]);\n      shape.setMatrix(matrix);\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 100, 100],\n            ['t', x, y],\n          ]),\n        },\n        animateCfg\n      );\n    } else {\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 0.01, 0.01],\n            ['t', x, y],\n          ]),\n        },\n        {\n          ...animateCfg,\n          callback: () => {\n            shape.remove(true);\n          },\n        }\n      );\n    }\n  }\n}\n\n/**\n * @ignore\n *  shape \n * shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function zoomIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomIn');\n}\n\n/**\n * @ignore\n *  shape \n * shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function zoomOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomOut');\n}\n","import { DIRECTION } from '../constant';\nimport { Point } from '../dependents';\nimport { FacetTitle } from '../interface';\n\n/**\n * @ignore\n *  facet title \n */\nexport function getFactTitleConfig(direction: DIRECTION): FacetTitle {\n  if ([DIRECTION.TOP, DIRECTION.BOTTOM].includes(direction)) {\n    return {\n      offsetX: 0,\n      offsetY: direction === DIRECTION.TOP ? -8 : 8,\n      style: {\n        textAlign: 'center',\n        textBaseline: direction === DIRECTION.TOP ? 'bottom' : 'top',\n      },\n    };\n  }\n\n  if ([DIRECTION.LEFT, DIRECTION.RIGHT].includes(direction)) {\n    return {\n      offsetX: direction === DIRECTION.LEFT ? -8 : 8,\n      offsetY: 0,\n      style: {\n        textAlign: direction === DIRECTION.LEFT ? 'right' : 'left',\n        textBaseline: 'middle',\n        rotate: Math.PI / 2, // \n      },\n    };\n  }\n\n  return {};\n}\n\n/**\n * @ignore\n *   \n * @param center\n * @param r\n * @param angle\n */\nexport function getAnglePoint(center: Point, r: number, angle: number): Point {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle),\n  };\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { AxisCfg, CircleCfg, CircleData, Datum } from '../interface';\n\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { getAnglePoint, getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Circle extends Facet<CircleCfg, CircleData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'circle',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   *  region\n   * @param count\n   * @param index\n   */\n  protected getRegion(count: number, index: number) {\n    const r = 1 / 2; // \n    // \n    const center = { x: 0.5, y: 0.5 };\n    // \n    const avgAngle = (Math.PI * 2) / count;\n\n    // \n    const angle = (-1 * Math.PI) / 2 + avgAngle * index;\n    // TODO \n    const facetR = r / (1 + 1 / Math.sin(avgAngle / 2));\n    // \n    const middle = getAnglePoint(center, r - facetR, angle);\n    const startAngle = (Math.PI * 5) / 4; // \n    const endAngle = (Math.PI * 1) / 4; // \n\n    return {\n      start: getAnglePoint(middle, facetR, startAngle),\n      end: getAnglePoint(middle, facetR, endAngle),\n    };\n  }\n\n  protected afterEachView(view: View, facet: CircleData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: CircleData) {}\n\n  protected generateFacets(data: Datum[]): CircleData[] {\n    const { fields, type } = this.cfg;\n    const [field] = fields;\n    if (!field) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const values = this.getFieldValues(data, field);\n    const count = values.length;\n\n    const rst = [];\n    values.forEach((value: any, index: number) => {\n      const conditions = [{ field, value, values }];\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: CircleData = {\n        type,\n        data: facetData,\n        region: this.getRegion(count, index),\n\n        columnValue: value,\n        columnField: field,\n        columnIndex: index,\n        columnValuesLength: count,\n\n        rowValue: null,\n        rowField: null,\n        rowIndex: 0,\n        rowValuesLength: 1,\n      };\n      rst.push(facet);\n    });\n    return rst;\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // \n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // \n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: CircleData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, ListCfg, ListData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class List extends Facet<ListCfg, ListData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'list',\n      cols: null, // \n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: ListData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: ListData) {}\n\n  protected generateFacets(data: Datum[]): ListData[] {\n    const { fields } = this.cfg;\n    let { cols } = this.cfg;\n\n    const [columnField] = fields;\n    if (!columnField) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const colValues = this.getFieldValues(data, columnField);\n\n    const count = colValues.length;\n    cols = cols || count; // \n\n    // \n    const rows = this.getPageCount(count, cols);\n    const rst = [];\n\n    colValues.forEach((val, index) => {\n      //  index \n      const { row, col } = this.getRowCol(index, cols);\n\n      const conditions = [{ field: columnField, value: val, values: colValues }];\n\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: ListData = {\n        type: this.cfg.type,\n        data: facetData,\n        region: this.getRegion(rows, cols, col, row),\n\n        columnValue: val,\n        rowValue: val,\n        columnField,\n        rowField: null,\n        columnIndex: col,\n        rowIndex: row,\n        columnValuesLength: cols,\n        rowValuesLength: rows,\n\n        total: count,\n      };\n\n      rst.push(facet);\n    });\n\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: ListData): object {\n    //  view \n    if (\n      facet.rowIndex !== facet.rowValuesLength - 1 &&\n      facet.columnValuesLength * facet.rowIndex + facet.columnIndex + 1 + facet.columnValuesLength <= facet.total\n    ) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: ListData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: ListData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n\n  /**\n   * \n   * @param total\n   * @param pageSize\n   */\n  private getPageCount(total: number, pageSize: number): number {\n    return Math.floor((total + pageSize - 1) / pageSize);\n  }\n\n  /**\n   * \n   * @param index\n   * @param pageSize\n   */\n  private getRowCol(index: number, pageSize: number) {\n    const row = Math.floor(index / pageSize);\n    const col = index % pageSize;\n\n    return { row, col };\n  }\n}\n","import { deepMix, each, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MatrixCfg, MatrixData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Matrix extends Facet<MatrixCfg, MatrixData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'matrix',\n      showTitle: false,\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: MatrixData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: MatrixData) {}\n\n  protected generateFacets(data: Datum[]): MatrixData[] {\n    const { fields, type } = this.cfg;\n\n    // \n    const rowValuesLength = fields.length;\n    const columnValuesLength = rowValuesLength;\n\n    const rst = [];\n    for (let i = 0; i < columnValuesLength; i++) {\n      const columnField = fields[i];\n      for (let j = 0; j < rowValuesLength; j++) {\n        const rowField = fields[j];\n\n        const facet: MatrixData = {\n          type,\n          data,\n          region: this.getRegion(rowValuesLength, columnValuesLength, i, j),\n\n          columnValue: columnField,\n          rowValue: rowField,\n          columnField,\n          rowField,\n          columnIndex: i,\n          rowIndex: j,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      }\n    }\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // \n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // \n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: MatrixData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, rowValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const formatter = get(this.cfg.columnTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.columnTitle\n        );\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const formatter = get(this.cfg.rowTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.rowTitle\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MirrorCfg, MirrorData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Mirror extends Facet<MirrorCfg, MirrorData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'mirror',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n      transpose: false,\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected beforeEachView(view: View, facet: MirrorData) {\n    // \n    if (this.cfg.transpose) {\n      if (facet.columnIndex % 2 === 0) {\n        view.coordinate().transpose().reflect('x');\n      } else {\n        view.coordinate().transpose();\n      }\n    } else {\n      if (facet.rowIndex % 2 !== 0) {\n        view.coordinate().reflect('y');\n      }\n    }\n  }\n\n  protected afterEachView(view: View, facet: MirrorData) {\n    this.processAxis(view, facet);\n  }\n\n  protected generateFacets(data: Datum[]): MirrorData[] {\n    const [f] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    let columnField;\n    let rowField;\n\n    if (this.cfg.transpose) {\n      columnField = f;\n      columnValues = this.getFieldValues(data, columnField).slice(0, 2); // \n      columnValuesLength = columnValues.length;\n    } else {\n      rowField = f;\n      rowValues = this.getFieldValues(data, rowField).slice(0, 2); // \n      rowValuesLength = rowValues.length;\n    }\n\n    // \n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: MirrorData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // \n    //  view \n    if (facet.columnIndex === 1 || facet.rowIndex === 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // do nothing\n    return option;\n  }\n\n  private renderTitle() {\n    each(this.facets, (facet: MirrorData, facetIndex: number) => {\n      const { columnValue, rowValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      if (this.cfg.transpose) {\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.title\n        );\n\n        view.annotation().text(config);\n      } else {\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.title\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, RectCfg, RectData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Rect extends Facet<RectCfg, RectData> {\n  protected afterEachView(view: View, facet: RectData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: RectData) {\n    // do nothing\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'rect',\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   * \n   * @param data\n   */\n  protected generateFacets(data: Datum[]): RectData[] {\n    const [columnField, rowField] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    if (columnField) {\n      columnValues = this.getFieldValues(data, columnField);\n      columnValuesLength = columnValues.length;\n    }\n    if (rowField) {\n      rowValues = this.getFieldValues(data, rowField);\n      rowValuesLength = rowValues.length;\n    }\n\n    // \n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: RectData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  private renderTitle(): void {\n    each(this.facets, (facet: RectData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const formatter = get(this.cfg.columnTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.columnTitle\n        );\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const formatter = get(this.cfg.rowTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.rowTitle\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: RectData): object {\n    // \n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.columnIndex !== Math.floor((facet.columnValuesLength - 1) / 2)) {\n      // \n      return {\n        ...option,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: RectData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.rowIndex !== Math.floor((facet.rowValuesLength - 1) / 2)) {\n      return {\n        ...option,\n        title: null,\n      };\n    }\n    return option;\n  }\n}\n","/**\n * Create By Bruce Too\n * On 2020-02-10\n */\nimport { assign, deepMix, each, get } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION, VIEW_LIFE_CIRCLE } from '../constant';\nimport { AxisCfg, Condition, Datum, TreeCfg, TreeData } from '../interface';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * Tree Facet\n */\nexport default class Tree extends Facet<TreeCfg, TreeData> {\n  protected afterEachView(view: View, facet: TreeData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: TreeData) {}\n\n  public init() {\n    super.init();\n    this.view.on(VIEW_LIFE_CIRCLE.AFTER_RENDER, this.afterChartRender);\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'tree',\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: '#ddd',\n        },\n        smooth: false,\n      },\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  protected generateFacets(data: Datum[]): TreeData[] {\n    const fields = this.cfg.fields;\n    if (!fields.length) {\n      throw new Error('Please specify for the fields for rootFacet!');\n    }\n    const rst = [];\n    const rootFacet: TreeData = {\n      type: this.cfg.type,\n      data,\n      region: null,\n      rowValuesLength: this.getRows(),\n      columnValuesLength: 1,\n      rowIndex: 0,\n      columnIndex: 0,\n      rowField: '',\n      columnField: '',\n      rowValue: '',\n      columnValue: '',\n    };\n    rst.push(rootFacet);\n    rootFacet.children = this.getChildFacets(data, 1, rst);\n    this.setRegion(rst);\n    return rst;\n  }\n\n  private setRegion(facets: TreeData[]) {\n    this.forceColIndex(facets);\n    facets.forEach((facet) => {\n      // @ts-ignore \n      facet.region = this.getRegion(facet.rowValuesLength, facet.columnValuesLength, facet.columnIndex, facet.rowIndex);\n    });\n  }\n\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number) {\n    const xWidth = 1 / cols; // x\n    const yWidth = 1 / rows; // y\n\n    const start = {\n      x: xWidth * xIndex,\n      y: yWidth * yIndex,\n    };\n\n    const end = {\n      x: start.x + xWidth,\n      y: start.y + (yWidth * 2) / 3, // 1/3\n    };\n    return {\n      start,\n      end,\n    };\n  }\n\n  private forceColIndex(facets: TreeData[]) {\n    const leafs: TreeData[] = [];\n    let index = 0;\n    facets.forEach((facet) => {\n      if (this.isLeaf(facet)) {\n        leafs.push(facet);\n        // @ts-ignore \n        facet.columnIndex = index;\n        index++;\n      }\n    });\n\n    leafs.forEach((facet) => {\n      // @ts-ignore\n      facet.columnValuesLength = leafs.length;\n    });\n    const maxLevel = this.cfg.fields.length;\n    for (let i = maxLevel - 1; i >= 0; i--) {\n      const levelFacets = this.getFacetsByLevel(facets, i);\n      // var yIndex = maxLevel - i;\n      for (const facet of levelFacets) {\n        if (!this.isLeaf(facet)) {\n          facet.originColIndex = facet.columnIndex;\n          // @ts-ignore\n          facet.columnIndex = this.getRegionIndex(facet.children);\n          // @ts-ignore\n          facet.columnValuesLength = leafs.length;\n        }\n      }\n    }\n  }\n\n  // get facet use level\n  private getFacetsByLevel(facets: TreeData[], level: number) {\n    const rst: TreeData[] = [];\n    facets.forEach((facet) => {\n      if (facet.rowIndex === level) {\n        rst.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  // if the facet has children , make it's column index in the middle of it's children\n  private getRegionIndex(children: TreeData[]) {\n    const first = children[0];\n    const last = children[children.length - 1];\n    return (last.columnIndex - first.columnIndex) / 2 + first.columnIndex;\n  }\n\n  // is  a leaf without children\n  private isLeaf(facet: TreeData) {\n    return !facet.children || !facet.children.length;\n  }\n\n  private getRows() {\n    return this.cfg.fields.length + 1;\n  }\n\n  // get child\n  private getChildFacets(data: Datum[], level: number, arr: TreeData[]) {\n    // [ 'grade', 'class' ]\n    const fields = this.cfg.fields;\n    const length = fields.length;\n    if (length < level) {\n      return;\n    }\n    const rst = [];\n    // get fist level except root node\n    const field = fields[level - 1];\n    // get field value\n    const values = this.getFieldValues(data, field);\n    values.forEach((value, index) => {\n      const conditions = [{ field, value, values } as Condition];\n      const subData = data.filter(this.getFacetDataFilter(conditions));\n      if (subData.length) {\n        const facet: TreeData = {\n          type: this.cfg.type,\n          data: subData,\n          region: null,\n          columnValue: value,\n          rowValue: '',\n          columnField: field,\n          rowField: '',\n          columnIndex: index,\n          rowValuesLength: this.getRows(),\n          columnValuesLength: 1,\n          rowIndex: level,\n          children: this.getChildFacets(subData, level + 1, arr),\n        };\n        rst.push(facet);\n        arr.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  public render() {\n    super.render();\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  private afterChartRender = () => {\n    if (this.facets && this.cfg.line) {\n      this.container.clear();\n      this.drawLines(this.facets);\n    }\n  };\n\n  private renderTitle() {\n    each(this.facets, (facet: TreeData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n\n  private drawLines(facets: TreeData[]) {\n    facets.forEach((facet) => {\n      if (!this.isLeaf(facet)) {\n        const children = facet.children;\n        this.addFacetLines(facet, children);\n      }\n    });\n  }\n\n  // add lines with it's children\n  private addFacetLines(facet: TreeData, children: TreeData[]) {\n    const view = facet.view;\n    const region = view.coordinateBBox;\n    // top, right, bottom, left\n    const start = {\n      x: region.x + region.width / 2,\n      y: region.y + region.height,\n    };\n\n    children.forEach((subFacet) => {\n      const subRegion = subFacet.view.coordinateBBox;\n      const end = {\n        x: subRegion.bl.x + (subRegion.tr.x - subRegion.bl.x) / 2,\n        y: subRegion.tr.y,\n      };\n\n      const middle1 = {\n        x: start.x,\n        y: start.y + (end.y - start.y) / 2,\n      };\n      const middle2 = {\n        x: end.x,\n        y: middle1.y,\n      };\n      this.drawLine([start, middle1, middle2, end]);\n    });\n  }\n\n  private getPath(points) {\n    const path = [];\n    const smooth = this.cfg.line.smooth;\n    if (smooth) {\n      path.push(['M', points[0].x, points[0].y]);\n      path.push(['C', points[1].x, points[1].y, points[2].x, points[2].y, points[3].x, points[3].y]);\n    } else {\n      points.forEach((point, index) => {\n        if (index === 0) {\n          path.push(['M', point.x, point.y]);\n        } else {\n          path.push(['L', point.x, point.y]);\n        }\n      });\n    }\n\n    return path;\n  }\n\n  // draw line width points\n  private drawLine(points) {\n    const path = this.getPath(points);\n    const line = this.cfg.line.style;\n    this.container.addShape('path', {\n      attrs: assign(\n        {\n          // @ts-ignore\n          path,\n        },\n        line\n      ),\n    });\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.originColIndex !== 0 && facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n}\n","import { reduce, isNumber } from '@antv/util';\n\n/**\n * \n * @param array\n */\nexport function getMedian(array: number[]) {\n  const arr = [...array];\n  // \n  arr.sort((a: number, b: number) => {\n    return a - b;\n  });\n\n  const len = arr.length;\n\n  // median\n  // 0\n  if (len === 0) {\n    return 0;\n  }\n\n  // \n  if (len % 2 === 1) {\n    return arr[(len - 1) / 2];\n  }\n\n  // \n  return (arr[len / 2] + arr[len / 2 - 1]) / 2;\n}\n\n/**\n * \n * @param array\n */\nexport function getMean(array: number[]) {\n  const sum = reduce(\n    array,\n    (r: number, num: number) => {\n      return (r += isNaN(num) || !isNumber(num) ? 0 : num);\n    },\n    0\n  );\n\n  return array.length === 0 ? 0 : sum / array.length;\n}\n","import { getMedian, getMean } from './stat';\nimport { Scale } from '../dependents';\n\n/**\n * parse the value position\n * @param val\n * @param scale\n */\nexport function getNormalizedValue(val: number | string, scale: Scale) {\n  if (!scale) {\n    return null;\n  }\n  let scaled: number;\n\n  switch (val) {\n    case 'start':\n      return 0;\n    case 'center':\n      return 0.5;\n    case 'end':\n      return 1;\n    case 'median': {\n      scaled = scale.isCategory ? getMedian(scale.values.map((_, idx: number) => idx)) : getMedian(scale.values);\n      break;\n    }\n    case 'mean': {\n      scaled = scale.isCategory ? (scale.values.length - 1) / 2 : getMean(scale.values);\n      break;\n    }\n    case 'min':\n      scaled = scale.isCategory ? 0 : scale[val];\n      break;\n    case 'max':\n      scaled = scale.isCategory ? scale.values.length - 1 : scale[val];\n      break;\n    default:\n      scaled = val as number;\n      break;\n  }\n\n  return scale.scale(scaled);\n}\n","import {\n  contains,\n  deepMix,\n  each,\n  get,\n  isArray,\n  isFunction,\n  isNil,\n  isString,\n  keys,\n  upperFirst,\n  find,\n  includes,\n} from '@antv/util';\nimport { Annotation as AnnotationComponent, IElement, IGroup } from '../../dependents';\nimport {\n  AnnotationBaseOption as BaseOption,\n  AnnotationPosition as Position,\n  ArcOption,\n  ComponentOption,\n  ShapeAnnotationOption,\n  Data,\n  DataMarkerOption,\n  DataRegionOption,\n  Datum,\n  HtmlAnnotationOption,\n  ImageOption,\n  LineOption,\n  Point,\n  RegionFilterOption,\n  RegionOption,\n  RegionPositionBaseOption,\n  TextOption,\n} from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\nimport { COMPONENT_TYPE, DIRECTION, GEOMETRY_LIFE_CIRCLE, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\n\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element';\nimport { getAngleByPoint, getDistanceToCenter } from '../../util/coordinate';\nimport { omit } from '../../util/helper';\nimport { getNormalizedValue } from '../../util/annotation';\nimport View from '../view';\nimport { Controller } from './base';\nimport { Scale } from '@antv/attr';\n\n/**  */\nconst ANNOTATIONS_AFTER_RENDER = ['regionFilter', 'shape'];\n\n/**\n * Annotation controller, :\n * 1.  Annotation: linetextarc ...\n * 2. : initlayoutrendercleardestroy\n */\nexport default class Annotation extends Controller<BaseOption[]> {\n  private foregroundContainer: IGroup;\n  private backgroundContainer: IGroup;\n\n  /*  cache object :  */\n  private cache = new Map<BaseOption, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    this.foregroundContainer = this.view.getLayer(LAYER.FORE).addGroup();\n    this.backgroundContainer = this.view.getLayer(LAYER.BG).addGroup();\n\n    this.option = [];\n  }\n\n  public get name(): string {\n    return 'annotation';\n  }\n\n  public init() { }\n\n  /**\n   *  annotation  render  layout \n   */\n  public layout() {\n    this.update();\n  }\n\n  //  Annotation  layout() \n  public render() { }\n\n  /**\n   * \n   */\n  public update() {\n    // 1.   Geometry \n    this.onAfterRender(() => {\n      const updated = new Map<BaseOption, ComponentOption>();\n      //  regionFilter/shape \n      each(this.option, (option: BaseOption) => {\n        if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n          const co = this.updateOrCreate(option);\n          // \n          if (co) {\n            updated.set(this.getCacheKey(option), co);\n          }\n        }\n      });\n\n      //  cache\n      // \n      this.cache = this.syncCache(updated);\n    });\n\n    // 2.  regionFilter\n    const updateCache = new Map<BaseOption, ComponentOption>();\n    each(this.option, (option: BaseOption) => {\n      if (!includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n        const co = this.updateOrCreate(option);\n        // \n        if (co) {\n          updateCache.set(this.getCacheKey(option), co);\n        }\n      }\n    });\n    this.cache = this.syncCache(updateCache);\n  }\n\n  /**\n   * \n   * @param includeOption  option \n   */\n  public clear(includeOption = false) {\n    super.clear();\n\n    this.clearComponents();\n    this.foregroundContainer.clear();\n    this.backgroundContainer.clear();\n\n    // clear all option\n    if (includeOption) {\n      this.option = [];\n    }\n  }\n\n  public destroy() {\n    this.clear(true);\n\n    this.foregroundContainer.remove(true);\n    this.backgroundContainer.remove(true);\n  }\n\n  /**\n   * \n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  /**\n   * \n   */\n  private clearComponents() {\n    this.getComponents().forEach((co) => {\n      co.component.destroy();\n    });\n\n    this.cache.clear();\n  }\n\n  /**\n   * region filter \n   * @param doWhat\n   */\n  private onAfterRender(doWhat: () => void) {\n    if (this.view.getOptions().animate) {\n      this.view.geometries.forEach((g: Geometry) => {\n        //  geometry \n        if (g.animateOption) {\n          g.once(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE, () => {\n            doWhat();\n          });\n        }\n      });\n    } else {\n      this.view.getRootView().once(VIEW_LIFE_CIRCLE.AFTER_RENDER, () => {\n        doWhat();\n      });\n    }\n  }\n\n  private createAnnotation(option: BaseOption) {\n    const { type } = option;\n\n    const Ctor = AnnotationComponent[upperFirst(type)];\n    if (Ctor) {\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n      // \n      if (!cfg) {\n        return null;\n      }\n      const annotation = new Ctor(cfg);\n\n      return {\n        component: annotation,\n        layer: this.isTop(cfg) ? LAYER.FORE : LAYER.BG,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.ANNOTATION,\n        extra: option,\n      };\n    }\n  }\n\n  // APIs for creating annotation component\n  public annotation(option: any) {\n    this.option.push(option);\n  }\n\n  /**\n   *  Arc\n   * @param option\n   * @returns AnnotationController\n   */\n  public arc(option: ArcOption) {\n    this.annotation({\n      type: 'arc',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  image\n   * @param option\n   * @returns AnnotationController\n   */\n  public image(option: ImageOption) {\n    this.annotation({\n      type: 'image',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Line\n   * @param option\n   * @returns AnnotationController\n   */\n  public line(option: LineOption) {\n    this.annotation({\n      type: 'line',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Region\n   * @param option\n   * @returns AnnotationController\n   */\n  public region(option: RegionOption) {\n    this.annotation({\n      type: 'region',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Text\n   * @param option\n   * @returns AnnotationController\n   */\n  public text(option: TextOption) {\n    this.annotation({\n      type: 'text',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  DataMarker\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataMarker(option: DataMarkerOption) {\n    this.annotation({\n      type: 'dataMarker',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  DataRegion\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataRegion(option: DataRegionOption) {\n    this.annotation({\n      type: 'dataRegion',\n      ...option,\n    });\n  }\n\n  /**\n   *  RegionFilter\n   * @param option\n   * @returns AnnotationController\n   */\n  public regionFilter(option: RegionFilterOption) {\n    this.annotation({\n      type: 'regionFilter',\n      ...option,\n    });\n  }\n\n  /**\n   *  ShapeAnnotation\n   * @param option\n   */\n  public shape(option: ShapeAnnotationOption) {\n    this.annotation({\n      type: 'shape',\n      ...option,\n    });\n  }\n\n  /**\n   *  HtmlAnnotation\n   * @param option\n   */\n  public html(option: HtmlAnnotationOption) {\n    this.annotation({\n      type: 'html',\n      ...option,\n    });\n  }\n  // end API\n\n  /**\n   * parse the point position to [x, y]\n   * @param p Position\n   * @returns { x, y }\n   */\n  private parsePosition(\n    p:\n      | [string | number, string | number]\n      | Datum\n      | ((xScale: Scale, yScale: Scale) => [string | number, string | number] | number | Datum)\n  ): Point {\n    const xScale = this.view.getXScale();\n    //  object\n    const yScales = this.view.getScalesByDim('y');\n\n    const position: Position = isFunction(p) ? p.call(null, xScale, yScales) : p;\n\n    let x = 0;\n    let y = 0;\n\n    //  [24, 24] \n    if (isArray(position)) {\n      const [xPos, yPos] = position;\n      //  ['50%', '50%'] \n      // fix:  'xxx5%xxx'  https://github.com/antvis/f2/issues/590\n      // @ts-ignore\n      if (isString(xPos) && xPos.indexOf('%') !== -1 && !isNaN(xPos.slice(0, -1))) {\n        return this.parsePercentPosition(position as [string, string]);\n      }\n\n      x = getNormalizedValue(xPos, xScale);\n      y = getNormalizedValue(yPos, Object.values(yScales)[0]);\n    } else if (!isNil(position)) {\n      //  object \n      for (const key of keys(position)) {\n        const value = position[key];\n        if (key === xScale.field) {\n          x = getNormalizedValue(value, xScale);\n        }\n        if (yScales[key]) {\n          y = getNormalizedValue(value, yScales[key]);\n        }\n      }\n    }\n\n    if (isNaN(x) || isNaN(y)) {\n      return null;\n    }\n\n    return this.view.getCoordinate().convert({ x, y });\n  }\n\n  /**\n   * parse all the points between start and end\n   * @param start\n   * @param end\n   * @return Point[]\n   */\n  private getRegionPoints(start: Position | Data, end: Position | Data): Point[] {\n    const xScale = this.view.getXScale();\n    const yScales = this.view.getScalesByDim('y');\n    const yScale = Object.values(yScales)[0];\n    const xField = xScale.field;\n    const viewData = this.view.getData();\n    const startXValue = isArray(start) ? start[0] : start[xField];\n    const endXValue = isArray(end) ? end[0] : end[xField];\n    const arr = [];\n\n    let startIndex;\n    each(viewData, (item, idx) => {\n      if (item[xField] === startXValue) {\n        startIndex = idx;\n      }\n      if (idx >= startIndex) {\n        const point = this.parsePosition([item[xField], item[yScale.field]]);\n        if (point) {\n          arr.push(point);\n        }\n      }\n      if (item[xField] === endXValue) {\n        return false;\n      }\n    });\n\n    return arr;\n  }\n\n  /**\n   * parse percent position\n   * @param position\n   */\n  private parsePercentPosition(position: [string, string]): Point {\n    const xPercent = parseFloat(position[0]) / 100;\n    const yPercent = parseFloat(position[1]) / 100;\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n    const x = coordinate.getWidth() * xPercent + topLeft.x;\n    const y = coordinate.getHeight() * yPercent + topLeft.y;\n    return { x, y };\n  }\n\n  /**\n   * get coordinate bbox\n   */\n  private getCoordinateBBox() {\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const width = coordinate.getWidth();\n    const height = coordinate.getHeight();\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n\n    return {\n      x: topLeft.x,\n      y: topLeft.y,\n      minX: topLeft.x,\n      minY: topLeft.y,\n      maxX: topLeft.x + width,\n      maxY: topLeft.y + height,\n      width,\n      height,\n    };\n  }\n\n  /**\n   * get annotation component config by different type\n   * @param type\n   * @param option \n   * @param theme\n   */\n  private getAnnotationCfg(type: string, option: any, theme: object): object | null {\n    const coordinate = this.view.getCoordinate();\n    const canvas = this.view.getCanvas();\n    let o = {};\n\n    if (isNil(option)) {\n      return null;\n    }\n    const { start, end, position } = option;\n    const sp = this.parsePosition(start);\n    const ep = this.parsePosition(end);\n    const textPoint = this.parsePosition(position);\n    if (['arc', 'image', 'line', 'region', 'regionFilter'].includes(type) && (!sp || !ep)) {\n      return null;\n    } else if (['text', 'dataMarker', 'html'].includes(type) && !textPoint) {\n      return null;\n    }\n\n    if (type === 'arc') {\n      const { start, end, ...rest } = option as ArcOption;\n      const startAngle = getAngleByPoint(coordinate, sp);\n      let endAngle = getAngleByPoint(coordinate, ep);\n      if (startAngle > endAngle) {\n        endAngle = Math.PI * 2 + endAngle;\n      }\n\n      o = {\n        ...rest,\n        center: coordinate.getCenter(),\n        radius: getDistanceToCenter(coordinate, sp),\n        startAngle,\n        endAngle,\n      };\n    } else if (type === 'image') {\n      const { start, end, ...rest } = option as ImageOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n        src: option.src,\n      };\n    } else if (type === 'line') {\n      const { start, end, ...rest } = option as LineOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n        text: get(option, 'text', null),\n      };\n    } else if (type === 'region') {\n      const { start, end, ...rest } = option as RegionPositionBaseOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n      };\n    } else if (type === 'text') {\n      const filteredData = this.view.getData();\n      const { position, content, ...rest } = option as TextOption;\n      let textContent = content;\n      if (isFunction(content)) {\n        textContent = content(filteredData);\n      }\n      o = {\n        ...textPoint,\n        ...rest,\n        content: textContent,\n      };\n    } else if (type === 'dataMarker') {\n      const { position, point, line, text, autoAdjust, direction, ...rest } = option as DataMarkerOption;\n      o = {\n        ...rest,\n        ...textPoint,\n        coordinateBBox: this.getCoordinateBBox(),\n        point,\n        line,\n        text,\n        autoAdjust,\n        direction,\n      };\n    } else if (type === 'dataRegion') {\n      const { start, end, region, text, lineLength, ...rest } = option as DataRegionOption;\n      o = {\n        ...rest,\n        points: this.getRegionPoints(start, end),\n        region,\n        text,\n        lineLength,\n      };\n    } else if (type === 'regionFilter') {\n      const { start, end, apply, color, ...rest } = option as RegionFilterOption;\n      const geometries: Geometry[] = this.view.geometries;\n      const shapes = [];\n      const addShapes = (item?: IElement) => {\n        if (!item) {\n          return;\n        }\n        if (item.isGroup()) {\n          (item as IGroup).getChildren().forEach((child) => addShapes(child));\n        } else {\n          shapes.push(item);\n        }\n      };\n      each(geometries, (geom: Geometry) => {\n        if (apply) {\n          if (contains(apply, geom.type)) {\n            each(geom.elements, (elem: Element) => {\n              addShapes(elem.shape);\n            });\n          }\n        } else {\n          each(geom.elements, (elem: Element) => {\n            addShapes(elem.shape);\n          });\n        }\n      });\n      o = {\n        ...rest,\n        color,\n        shapes,\n        start: sp,\n        end: ep,\n      };\n    } else if (type === 'shape') {\n      const { render, ...restOptions } = option as ShapeAnnotationOption;\n      const wrappedRender = (container: IGroup) => {\n        if (isFunction(option.render)) {\n          return render(container, this.view, { parsePosition: this.parsePosition.bind(this) });\n        }\n      };\n      o = {\n        ...restOptions,\n        render: wrappedRender,\n      };\n    } else if (type === 'html') {\n      const { html, position, ...restOptions } = option as HtmlAnnotationOption;\n      const wrappedHtml = (container: HTMLElement) => {\n        if (isFunction(html)) {\n          return html(container, this.view);\n        }\n        return html;\n      };\n      o = {\n        ...restOptions,\n        ...textPoint,\n        // html  parent\n        parent: canvas.get('el').parentNode,\n        html: wrappedHtml,\n      };\n    }\n    // \n    const cfg = deepMix({}, theme, {\n      ...o,\n      top: option.top,\n      style: option.style,\n      offsetX: option.offsetX,\n      offsetY: option.offsetY,\n    });\n    if (type !== 'html') {\n      // html  G container\n      cfg.container = this.getComponentContainer(cfg);\n    }\n    cfg.animate = this.view.getOptions().animate && cfg.animate && get(option, 'animate', cfg.animate); //  view \n    cfg.animateOption = deepMix({}, DEFAULT_ANIMATE_CFG, cfg.animateOption, option.animateOption);\n\n    return cfg;\n  }\n\n  /**\n   * is annotation render on top\n   * @param option\n   * @return whethe on top\n   */\n  private isTop(option: any): boolean {\n    return get(option, 'top', true);\n  }\n\n  /**\n   * get the container by option.top\n   * default is on top\n   * @param option\n   * @returns the container\n   */\n  private getComponentContainer(option: any) {\n    return this.isTop(option) ? this.foregroundContainer : this.backgroundContainer;\n  }\n\n  private getAnnotationTheme(type: string) {\n    return get(this.view.getTheme(), ['components', 'annotation', type], {});\n  }\n\n  /**\n   *  annotation\n   * @param option\n   */\n  private updateOrCreate(option: BaseOption) {\n    // \n    let co = this.cache.get(this.getCacheKey(option));\n\n    // \n    if (co) {\n      const { type } = option;\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n\n      // \n      if (cfg) {\n        omit(cfg, ['container']);\n      }\n      co.component.update({ ...(cfg || {}), visible: !!cfg });\n      //  regionFilter/shape render\n      if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n        co.component.render();\n      }\n    } else {\n      // \n      co = this.createAnnotation(option);\n      if (co) {\n        co.component.init();\n        // NoteregionFilter/shape regionFilter/shape  Geometry  Shape view render \n        //  render \n        if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n          co.component.render();\n        }\n      }\n    }\n    return co;\n  }\n\n  /**\n   * \n   * @param updated \n   */\n  private syncCache(updated: Map<BaseOption, ComponentOption>) {\n    const newCache = new Map(this.cache); // clone \n\n    //  update  cache\n    updated.forEach((co: ComponentOption, key: BaseOption) => {\n      newCache.set(key, co);\n    });\n\n    //  options \n    newCache.forEach((co: ComponentOption, key: BaseOption) => {\n      // option \n      if (\n        !find(this.option, (option: BaseOption) => {\n          return key === this.getCacheKey(option);\n        })\n      ) {\n        co.component.destroy();\n        newCache.delete(key);\n      }\n    });\n\n    return newCache;\n  }\n\n  /**\n   *  key\n   * @param option\n   */\n  private getCacheKey(option: BaseOption) {\n    //  id id string option  key\n    return option;\n    //  id \n    // const id = get(option, 'id');\n    // return id ? id : option;\n  }\n}\n","import { deepMix, get, map } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale, Tick } from '../dependents';\n\n/**\n * @ignore\n * get the grid theme by type, will mix the common cfg of axis\n * @param theme\n * @param direction\n * @returns theme object\n */\nexport function getGridThemeCfg(theme: object, direction: DIRECTION | 'common'): object {\n  const axisTheme = deepMix(\n    {},\n    get(theme, ['components', 'axis', 'common']),\n    get(theme, ['components', 'axis', direction])\n  );\n  return get(axisTheme, ['grid'], {});\n}\n\n/**\n * @ignore\n * get axis grid items\n * @param coordinate\n * @param scale\n * @param dim\n * @return items\n */\nexport function getLineGridItems(coordinate: Coordinate, scale: Scale, dim: string, alignTick?: boolean) {\n  const items = [];\n  const ticks = scale.getTicks();\n  if (coordinate.isPolar) {\n    //  ticks\n    ticks.push({\n      value: 1,\n      text: '',\n      tickValue: '',\n    });\n  }\n  ticks.reduce((preTick: Tick, currentTick: Tick, currentIndex) => {\n    const currentValue = currentTick.value;\n    if (alignTick) {\n      items.push({\n        points: [\n          coordinate.convert(dim === 'y' ? { x: 0, y: currentValue } : { x: currentValue, y: 0 }),\n          coordinate.convert(dim === 'y' ? { x: 1, y: currentValue } : { x: currentValue, y: 1 }),\n        ],\n      });\n    } else {\n      if (currentIndex) {\n        const preValue = preTick.value;\n        const middleValue = (preValue + currentValue) / 2;\n        items.push({\n          points: [\n            coordinate.convert(dim === 'y' ? { x: 0, y: middleValue } : { x: middleValue, y: 0 }),\n            coordinate.convert(dim === 'y' ? { x: 1, y: middleValue } : { x: middleValue, y: 1 }),\n          ],\n        });\n      }\n    }\n    return currentTick;\n  }, ticks[0]);\n  return items;\n}\n\n/**\n * @ignore\n * get\n * @param coordinate\n * @param xScale\n * @param yScale\n * @param dim\n * @returns items\n */\nexport function getCircleGridItems(\n  coordinate: Coordinate,\n  xScale: Scale,\n  yScale: Scale,\n  alignTick: boolean,\n  dim: string\n) {\n  const count = xScale.values.length;\n  const items = [];\n  const ticks = yScale.getTicks();\n\n  ticks.reduce((preTick: Tick, currentTick: Tick) => {\n    const preValue = preTick ? preTick.value : currentTick.value; // \n    const currentValue = currentTick.value;\n    const middleValue = (preValue + currentValue) / 2;\n    if (dim === 'x') {\n      //  x \n      items.push({\n        points: [\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 0,\n          }),\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 1,\n          }),\n        ],\n      });\n    } else {\n      items.push({\n        points: map(Array(count + 1), (__: any, idx: number) => {\n          return coordinate.convert({\n            x: idx / count,\n            y: alignTick ? currentValue : middleValue,\n          });\n        }),\n      });\n    }\n\n    return currentTick;\n  }, ticks[0]);\n  return items;\n}\n\n/**\n * @ignore\n * show grid or not\n * @param axisTheme\n * @param axisOption\n */\nexport function showGrid(axisTheme: any, axisOption: any): boolean {\n  const userGrid = get(axisOption, 'grid');\n  if (userGrid === null) {\n    return false;\n  }\n\n  const themeGrid = get(axisTheme, 'grid');\n\n  return !(userGrid === undefined && themeGrid === null);\n}\n","import { deepMix, each, get, isUndefined } from '@antv/util';\nimport { DIRECTION, COMPONENT_TYPE, LAYER } from '../../constant';\nimport { CircleAxis, CircleGrid, IGroup, LineAxis, LineGrid, Scale } from '../../dependents';\nimport { AxisCfg, AxisOption, ComponentOption } from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\n\nimport {\n  getAxisDirection,\n  getAxisFactorByRegion,\n  getAxisRegion,\n  getAxisThemeCfg,\n  getAxisTitleOptions,\n  getAxisTitleText,\n  getCircleAxisCenterRadius,\n  isVertical,\n} from '../../util/axis';\nimport { getAxisOption } from '../../util/axis';\nimport { getCircleGridItems, getGridThemeCfg, getLineGridItems, showGrid } from '../../util/grid';\nimport { omit } from '../../util/helper';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype Option = Record<string, AxisOption> | boolean;\n\ntype Cache = Map<string, ComponentOption>;\n\n// update \nconst OMIT_CFG = ['container'];\n\n// \nconst AXIS_DEFAULT_ANIMATE_CFG = {\n  ...DEFAULT_ANIMATE_CFG,\n  appear: null,\n};\n\n/**\n * @ignore\n * G2 Axis controller, will:\n *  - create component\n *    - axis\n *    - grid\n *  - life circle\n */\nexport default class Axis extends Controller<Option> {\n  /** the draw group of axis */\n  private axisContainer: IGroup;\n  private axisForeContainer: IGroup;\n  private gridContainer: IGroup;\n  private gridForeContainer: IGroup;\n\n  /**  object  */\n  private cache: Cache = new Map<string, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    //  gridContainer grid  axis \n    this.gridContainer = this.view.getLayer(LAYER.BG).addGroup();\n    this.gridForeContainer = this.view.getLayer(LAYER.FORE).addGroup();\n    this.axisContainer = this.view.getLayer(LAYER.BG).addGroup();\n    this.axisForeContainer = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  public get name(): string {\n    return 'axis';\n  }\n\n  public init() {}\n\n  public render() {\n    this.update();\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    const coordinate = this.view.getCoordinate();\n\n    each(this.getComponents(), (co: ComponentOption) => {\n      const { component, direction, type, extra } = co;\n      const { dim, scale, alignTick } = extra;\n\n      let updated;\n\n      if (type === COMPONENT_TYPE.AXIS) {\n        if (coordinate.isPolar) {\n          if (dim === 'x') {\n            updated = coordinate.isTransposed\n              ? getAxisRegion(coordinate, direction)\n              : getCircleAxisCenterRadius(coordinate);\n          } else if (dim === 'y') {\n            updated = coordinate.isTransposed\n              ? getCircleAxisCenterRadius(coordinate)\n              : getAxisRegion(coordinate, direction);\n          }\n        } else {\n          updated = getAxisRegion(coordinate, direction);\n        }\n      } else if (type === COMPONENT_TYPE.GRID) {\n        if (coordinate.isPolar) {\n          let items;\n          if (coordinate.isTransposed) {\n            items =\n              dim === 'x'\n                ? getCircleGridItems(coordinate, this.view.getYScales()[0], scale, alignTick, dim)\n                : getLineGridItems(coordinate, scale, dim, alignTick);\n          } else {\n            items =\n              dim === 'x'\n                ? getLineGridItems(coordinate, scale, dim, alignTick)\n                : getCircleGridItems(coordinate, this.view.getXScale(), scale, alignTick, dim);\n          }\n          updated = {\n            items,\n            // coordinate center \n            center: this.view.getCoordinate().getCenter(),\n          };\n        } else {\n          updated = { items: getLineGridItems(coordinate, scale, dim, alignTick) };\n        }\n      }\n      component.update(updated);\n    });\n  }\n\n  /**\n   *  axis \n   */\n  public update() {\n    this.option = this.view.getOptions().axes;\n\n    const updatedCache = new Map<string, ComponentOption>();\n\n    this.updateXAxes(updatedCache);\n    this.updateYAxes(updatedCache);\n\n    // \n    // \n    const newCache = new Map<string, ComponentOption>();\n\n    this.cache.forEach((co: ComponentOption, key: string) => {\n      if (updatedCache.has(key)) {\n        newCache.set(key, co);\n      } else {\n        // \n        co.component.destroy();\n      }\n    });\n\n    // \n    this.cache = newCache;\n  }\n\n  public clear() {\n    super.clear();\n\n    this.cache.clear();\n    this.gridContainer.clear();\n    this.gridForeContainer.clear();\n    this.axisContainer.clear();\n    this.axisForeContainer.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.gridContainer.remove(true);\n    this.gridForeContainer.remove(true);\n    this.axisContainer.remove(true);\n    this.axisForeContainer.remove(true);\n  }\n\n  /**\n   * @override\n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  /**\n   *  x axis\n   * @param updatedCache\n   */\n  private updateXAxes(updatedCache: Cache) {\n    // x axis\n    const scale = this.view.getXScale();\n\n    if (!scale || scale.isIdentity) {\n      return;\n    }\n\n    const xAxisOption = getAxisOption(this.option, scale.field);\n    if (xAxisOption === false) {\n      return;\n    }\n\n    const direction = getAxisDirection(xAxisOption, DIRECTION.BOTTOM);\n    const layer = LAYER.BG;\n    const dim = 'x';\n\n    const coordinate = this.view.getCoordinate();\n\n    const axisId = this.getId('axis', scale.field);\n    const gridId = this.getId('grid', scale.field);\n\n    if (coordinate.isRect) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // \n      if (axis) {\n        const cfg = this.getLineAxisCfg(scale, xAxisOption, direction);\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // \n        axis = this.createLineAxis(scale, xAxisOption, layer, direction, dim);\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // \n      if (grid) {\n        const cfg = this.getLineGridCfg(scale, xAxisOption, direction, dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // \n        grid = this.createLineGrid(scale, xAxisOption, layer, direction, dim);\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else if (coordinate.isPolar) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // \n      if (axis) {\n        const cfg = coordinate.isTransposed\n          ? this.getLineAxisCfg(scale, xAxisOption, DIRECTION.RADIUS)\n          : this.getCircleAxisCfg(scale, xAxisOption, direction);\n\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // \n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            // \n            return;\n          } else {\n            //  chart.axis(true)/chart.axis('x', true)\n            //  x \n            axis = this.createLineAxis(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n          }\n        } else {\n          axis = this.createCircleAxis(scale, xAxisOption, layer, direction, dim);\n        }\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // \n      if (grid) {\n        const cfg = coordinate.isTransposed\n          ? this.getCircleGridCfg(scale, xAxisOption, DIRECTION.RADIUS, dim)\n          : this.getLineGridCfg(scale, xAxisOption, DIRECTION.CIRCLE, dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // \n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            return;\n          } else {\n            grid = this.createCircleGrid(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n          }\n        } else {\n          // grid x \n          grid = this.createLineGrid(scale, xAxisOption, layer, DIRECTION.CIRCLE, dim);\n        }\n\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else {\n      // helix and other, do not draw axis\n    }\n  }\n\n  private updateYAxes(updatedCache: Cache) {\n    // y axes\n    const yScales = this.view.getYScales();\n\n    each(yScales, (scale: Scale, idx: number) => {\n      // @ts-ignore\n      if (!scale || scale.isIdentity) {\n        return;\n      }\n      const { field } = scale;\n      const yAxisOption = getAxisOption(this.option, field);\n\n      if (yAxisOption !== false) {\n        const layer = LAYER.BG;\n        const dim = 'y';\n        const axisId = this.getId('axis', field);\n        const gridId = this.getId('grid', field);\n\n        const coordinate = this.view.getCoordinate();\n\n        if (coordinate.isRect) {\n          const direction = getAxisDirection(yAxisOption, idx === 0 ? DIRECTION.LEFT : DIRECTION.RIGHT);\n\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // \n          if (axis) {\n            const cfg = this.getLineAxisCfg(scale, yAxisOption, direction);\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // \n            axis = this.createLineAxis(scale, yAxisOption, layer, direction, dim);\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // \n          if (grid) {\n            const cfg = this.getLineGridCfg(scale, yAxisOption, direction, dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // \n            grid = this.createLineGrid(scale, yAxisOption, layer, direction, dim);\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else if (coordinate.isPolar) {\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // \n          if (axis) {\n            const cfg = coordinate.isTransposed\n              ? this.getCircleAxisCfg(scale, yAxisOption, DIRECTION.CIRCLE)\n              : this.getLineAxisCfg(scale, yAxisOption, DIRECTION.RADIUS);\n\n            // @ts-ignore\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // \n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                axis = this.createCircleAxis(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n              }\n            } else {\n              axis = this.createLineAxis(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n            }\n\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // \n          if (grid) {\n            const cfg = coordinate.isTransposed\n              ? this.getLineGridCfg(scale, yAxisOption, DIRECTION.CIRCLE, dim)\n              : this.getCircleGridCfg(scale, yAxisOption, DIRECTION.RADIUS, dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // \n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                grid = this.createLineGrid(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n              }\n            } else {\n              grid = this.createCircleGrid(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n            }\n\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else {\n          // helix and other, do not draw axis\n        }\n      }\n    });\n  }\n\n  /**\n   *  line axis\n   * @param scale\n   * @param option\n   * @param layer\n   * @param direction\n   * @param dim\n   */\n  private createLineAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    // axis\n    const axis = {\n      component: new LineAxis(this.getLineAxisCfg(scale, option, direction)),\n      layer,\n      direction: direction === DIRECTION.RADIUS ? DIRECTION.NONE : direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createLineGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getLineGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new LineGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n        },\n      };\n      grid.component.init();\n\n      return grid;\n    }\n  }\n\n  private createCircleAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const axis = {\n      component: new CircleAxis(this.getCircleAxisCfg(scale, option, direction)),\n      layer,\n      direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createCircleGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getCircleGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new CircleGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n        },\n      };\n\n      grid.component.init();\n      return grid;\n    }\n  }\n\n  /**\n   * generate line axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return line axis cfg\n   */\n  private getLineAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION) {\n    const container = get(axisOption, ['top']) ? this.axisForeContainer : this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n    const region = getAxisRegion(coordinate, direction);\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix(\n          { title: { style: { text: titleText } } },\n          { title: getAxisTitleOptions(this.view.getTheme(), direction, axisOption.title) },\n          axisOption\n        )\n      : axisOption;\n\n    const cfg = deepMix(\n      {\n        container,\n        ...region,\n        ticks: scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value })),\n        verticalFactor: coordinate.isPolar\n          ? getAxisFactorByRegion(region, coordinate.getCenter()) * -1\n          : getAxisFactorByRegion(region, coordinate.getCenter()),\n        theme: axisThemeCfg,\n      },\n      axisThemeCfg,\n      optionWithTitle\n    );\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animateOption = animateOption;\n    cfg.animate = animate;\n\n    //  verticalLimitLength\n    const isAxisVertical = isVertical(region);\n    // TODO: 1 / 3 \n    const verticalLimitLength = get(cfg, 'verticalLimitLength', isAxisVertical ? 1 / 3 : 1 / 2);\n    if (verticalLimitLength <= 1) {\n      // \n      const canvasWidth = this.view.getCanvas().get('width');\n      const canvasHeight = this.view.getCanvas().get('height');\n      cfg.verticalLimitLength = verticalLimitLength * (isAxisVertical ? canvasWidth : canvasHeight);\n    }\n\n    return cfg;\n  }\n\n  /**\n   * generate line grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @param dim\n   * @return line grid cfg\n   */\n  private getLineGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string) {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    // grid  axis \n    const gridCfg = deepMix(\n      {\n        container: get(axisOption, ['top']) ? this.gridForeContainer : this.gridContainer,\n      },\n      gridThemeCfg,\n      get(axisOption, 'grid'),\n      this.getAnimateCfg(axisOption)\n    );\n    gridCfg.items = getLineGridItems(this.view.getCoordinate(), scale, dim, get(gridCfg, 'alignTick', true));\n\n    return gridCfg;\n  }\n\n  /**\n   * generate circle axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle axis cfg\n   */\n  private getCircleAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION) {\n    const container = get(axisOption, ['top']) ? this.axisForeContainer : this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n\n    const ticks = scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value }));\n    if (!scale.isCategory && Math.abs(coordinate.endAngle - coordinate.startAngle) === Math.PI * 2) {\n      // x  cat \n      ticks.pop();\n    }\n\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), DIRECTION.CIRCLE);\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix(\n          { title: { style: { text: titleText } } },\n          { title: getAxisTitleOptions(this.view.getTheme(), direction, axisOption.title) },\n          axisOption\n        )\n      : axisOption;\n    const cfg = deepMix(\n      {\n        container,\n        ...getCircleAxisCenterRadius(this.view.getCoordinate()),\n        ticks,\n        verticalFactor: 1,\n        theme: axisThemeCfg,\n      },\n      axisThemeCfg,\n      optionWithTitle\n    );\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animate = animate;\n    cfg.animateOption = animateOption;\n\n    return cfg;\n  }\n\n  /**\n   * generate circle grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle grid cfg\n   */\n  private getCircleGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string) {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n\n    // the cfg order should be ensure\n    // grid  axis \n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), DIRECTION.RADIUS);\n    const gridCfg = deepMix(\n      {\n        container: get(axisOption, ['top']) ? this.gridForeContainer : this.gridContainer,\n        center: this.view.getCoordinate().getCenter(),\n      },\n      gridThemeCfg,\n      get(axisOption, 'grid'),\n      this.getAnimateCfg(axisOption)\n    );\n    const alignTick = get(gridCfg, 'alignTick', true);\n    const verticalScale = dim === 'x' ? this.view.getYScales()[0] : this.view.getXScale();\n    gridCfg.items = getCircleGridItems(this.view.getCoordinate(), verticalScale, scale, alignTick, dim);\n    // the cfg order should be ensure\n    // grid  axis \n    return gridCfg;\n  }\n\n  private getId(name: string, key: string): string {\n    const coordinate = this.view.getCoordinate();\n    //  key\n    return `${name}-${key}-${coordinate.type}`;\n  }\n\n  private getAnimateCfg(cfg) {\n    return {\n      animate: this.view.getOptions().animate && get(cfg, 'animate'), //  view \n      animateOption:\n        cfg && cfg.animateOption ? deepMix({}, AXIS_DEFAULT_ANIMATE_CFG, cfg.animateOption) : AXIS_DEFAULT_ANIMATE_CFG,\n    };\n  }\n}\n","import { DIRECTION } from '../constant';\nimport { Coordinate } from '../dependents';\nimport { Position } from '../interface';\nimport { BBox } from './bbox';\n\n/**\n * @ignore\n *  bbox \n * @param parentBBox\n * @param bbox\n * @param direction\n */\nexport function directionToPosition(parentBBox: BBox, bbox: BBox, direction: DIRECTION): Position {\n  if (direction === DIRECTION.TOP) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.minY];\n  }\n  if (direction === DIRECTION.BOTTOM) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.maxY - bbox.height];\n  }\n  if (direction === DIRECTION.LEFT) {\n    return [parentBBox.minX, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n  if (direction === DIRECTION.RIGHT) {\n    return [parentBBox.maxX - bbox.width, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n\n  if (direction === DIRECTION.TOP_LEFT || direction === DIRECTION.LEFT_TOP) {\n    return [parentBBox.tl.x, parentBBox.tl.y];\n  }\n  if (direction === DIRECTION.TOP_RIGHT || direction === DIRECTION.RIGHT_TOP) {\n    return [parentBBox.tr.x - bbox.width, parentBBox.tr.y];\n  }\n  if (direction === DIRECTION.BOTTOM_LEFT || direction === DIRECTION.LEFT_BOTTOM) {\n    return [parentBBox.bl.x, parentBBox.bl.y - bbox.height];\n  }\n  if (direction === DIRECTION.BOTTOM_RIGHT || direction === DIRECTION.RIGHT_BOTTOM) {\n    return [parentBBox.br.x - bbox.width, parentBBox.br.y - bbox.height];\n  }\n\n  return [0, 0];\n}\n\n/**\n * get direction after coordinate transpose\n * @param direction\n * @param coordinate\n * @returns direction after transpose or not\n */\nfunction getTransposedDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  if (coordinate.isTransposed) {\n    switch (direction) {\n      case DIRECTION.BOTTOM:\n        return DIRECTION.LEFT;\n      case DIRECTION.LEFT:\n        return DIRECTION.BOTTOM;\n      case DIRECTION.RIGHT:\n        return DIRECTION.TOP;\n      case DIRECTION.TOP:\n        return DIRECTION.RIGHT;\n    }\n  }\n  return direction;\n}\n\nfunction reflectX(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.LEFT) {\n    return DIRECTION.RIGHT;\n  }\n\n  if (direct === DIRECTION.RIGHT) {\n    return DIRECTION.LEFT;\n  }\n\n  return direct;\n}\n\nfunction reflectY(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.TOP) {\n    return DIRECTION.BOTTOM;\n  }\n  if (direct === DIRECTION.BOTTOM) {\n    return DIRECTION.TOP;\n  }\n\n  return direct;\n}\n\n/**\n * get direction after coordinate.scale\n * @param direction\n * @param coordinate\n */\nfunction getScaleDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  const x = coordinate.matrix[0];\n  const y = coordinate.matrix[4];\n\n  let d = direction;\n  if (x < 0) {\n    d = reflectX(d);\n  }\n  if (y < 0) {\n    d = reflectY(d);\n  }\n  return d;\n}\n\n/**\n *\n * @param direction\n * @param coordinate\n */\nfunction getReflectDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n\n  if (coordinate.isReflect('x')) {\n    d = reflectX(d);\n  }\n  if (coordinate.isReflect('y')) {\n    d = reflectY(d);\n  }\n\n  return d;\n}\n\n/**\n * @ignore\n * get direction after coordinate translate\n * @param direction\n * @param coordinate\n */\nexport function getTranslateDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n  d = getTransposedDirection(d, coordinate);\n  d = getScaleDirection(d, coordinate);\n  d = getReflectDirection(d, coordinate);\n\n  return d;\n}\n","import { deepMix, each, find, get, head, isBoolean, last } from '@antv/util';\nimport { COMPONENT_MAX_VIEW_PERCENTAGE, COMPONENT_TYPE, DIRECTION, LAYER } from '../../constant';\nimport { Attribute, CategoryLegend, ContinuousLegend, GroupComponent, IGroup, Scale, Tick } from '../../dependents';\nimport { ComponentOption, LegendCfg, LegendOption, LooseObject, AllLegendsOptions, Padding } from '../../interface';\nimport { DEFAULT_ANIMATE_CFG } from '../../animate';\nimport Geometry from '../../geometry/base';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { omit } from '../../util/helper';\nimport { getCustomLegendItems, getLegendItems, getLegendLayout, getLegendThemeCfg } from '../../util/legend';\nimport { getName } from '../../util/scale';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype DoEach = (geometry: Geometry, attr: Attribute, scale: Scale) => void;\n\n/**\n *  legend \n * @param legends\n * @param field\n * @returns the option of one legend field\n */\nfunction getLegendOption(legends: AllLegendsOptions, field: string) {\n  if (isBoolean(legends)) {\n    return legends === false ? false : {};\n  }\n\n  return get(legends, [field], legends);\n}\n\nfunction getDirection(legendOption: any): DIRECTION {\n  return get(legendOption, 'position', DIRECTION.BOTTOM);\n}\n\n/**\n * @ignore\n * legend Controller\n */\nexport default class Legend extends Controller<AllLegendsOptions> {\n  /** the draw group of axis */\n  private container: IGroup;\n  /**  legend  bbox */\n  private layoutBBox: BBox;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  public get name(): string {\n    return 'legend';\n  }\n\n  public init() {}\n\n  /**\n   * render the legend component by legend options\n   */\n  public render() {\n    //  update \n    this.update();\n  }\n\n  /**\n   * layout legend\n   *  legend  direction  x, y\n   */\n  public layout() {\n    this.layoutBBox = this.view.viewBBox;\n\n    each(this.components, (co: ComponentOption) => {\n      const { component, direction } = co;\n      const layout = getLegendLayout(direction);\n      const maxWidthRatio = component.get('maxWidthRatio');\n      const maxHeightRatio = component.get('maxHeightRatio');\n\n      const maxSize = this.getCategoryLegendSizeCfg(layout, maxWidthRatio, maxHeightRatio);\n\n      const maxWidth = component.get('maxWidth');\n      const maxHeight = component.get('maxHeight');\n\n      //  maxSize layoutBBox x y\n      component.update({\n        maxWidth: Math.min(maxSize.maxWidth, maxWidth || 0),\n        maxHeight: Math.min(maxSize.maxHeight, maxHeight || 0),\n      });\n\n      const padding = component.get('padding') as Padding;\n\n      const bboxObject = component.getLayoutBBox(); //  widthheight \n      const bbox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(padding);\n\n      const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, direction);\n      const [x2, y2] = directionToPosition(this.layoutBBox, bbox, direction);\n\n      let x = 0;\n      let y = 0;\n\n      //  legend x y  coordinateBBox \n      if (direction.startsWith('top') || direction.startsWith('bottom')) {\n        x = x1;\n        y = y2;\n      } else {\n        x = x2;\n        y = y1;\n      }\n\n      // \n      component.setLocation({ x: x + padding[3], y: y + padding[0] });\n\n      this.layoutBBox = this.layoutBBox.cut(bbox, direction);\n    });\n  }\n\n  /**\n   * legend \n   */\n  public update() {\n    this.option = this.view.getOptions().legends;\n\n    //  legend\n    const updated: Record<string, true> = {};\n\n    const eachLegend = (geometry: Geometry, attr: Attribute, scale: Scale) => {\n      const id = this.getId(scale.field);\n\n      const existCo = this.getComponentById(id);\n\n      //  update\n      if (existCo) {\n        let cfg;\n        const legendOption = getLegendOption(this.option, scale.field);\n\n        // if the legend option is not false, means legend should be created.\n        if (legendOption !== false) {\n          if (get(legendOption, 'custom')) {\n            cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n          } else {\n            if (scale.isLinear) {\n              // linear field, create continuous legend\n              cfg = this.getContinuousCfg(geometry, attr, scale, legendOption);\n            } else if (scale.isCategory) {\n              // category field, create category legend\n              cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n            }\n          }\n        }\n\n        //  cfg  updated \n        if (cfg) {\n          // omit  container \n          omit(cfg, ['container']);\n\n          existCo.direction = getDirection(legendOption);\n\n          existCo.component.update(cfg);\n\n          // \n          updated[id] = true;\n        }\n      } else {\n        //  create\n        const legend = this.createFieldLegend(geometry, attr, scale);\n\n        if (legend) {\n          (legend.component as GroupComponent).init();\n          this.components.push(legend);\n\n          // \n          updated[id] = true;\n        }\n      }\n    };\n\n    // \n    if (get(this.option, 'custom')) {\n      const id = 'global-custom';\n      const existCo = this.getComponentById(id);\n      if (existCo) {\n        const customCfg = this.getCategoryCfg(undefined, undefined, undefined, this.option, true);\n        omit(customCfg, ['container']);\n        existCo.component.update(customCfg);\n\n        updated[id] = true;\n      } else {\n        const component = this.createCustomLegend(undefined, undefined, undefined, this.option as LegendCfg);\n        if (component) {\n          component.init();\n\n          const layer = LAYER.FORE;\n          const direction = getDirection(this.option);\n\n          this.components.push({\n            id,\n            component,\n            layer,\n            direction,\n            type: COMPONENT_TYPE.LEGEND,\n            extra: undefined,\n          });\n\n          // \n          updated[id] = true;\n        }\n      }\n    } else {\n      // \n      this.loopLegends(eachLegend);\n    }\n\n    // \n    // \n    const components = [];\n    each(this.getComponents(), (co: ComponentOption) => {\n      if (updated[co.id]) {\n        components.push(co);\n      } else {\n        co.component.destroy();\n      }\n    });\n\n    //  components\n    this.components = components;\n  }\n\n  public clear() {\n    super.clear();\n    this.container.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.container.remove(true);\n  }\n\n  /**\n   *  Geometry\n   */\n  private getGeometries(view: View): Geometry[] {\n    let geometries = view.geometries;\n\n    each(view.views, (v: View) => {\n      geometries = geometries.concat(this.getGeometries(v));\n    });\n\n    return geometries;\n  }\n\n  /**\n   *  Geometry legend \n   * @param doEach  loop \n   */\n  private loopLegends(doEach: DoEach) {\n    const isRootView = this.view.getRootView() === this.view;\n    //  view legend\n    if (!isRootView) {\n      return;\n    }\n\n    //  view  Geometry legend\n    const geometries = this.getGeometries(this.view);\n\n    const looped: Record<string, true> = {}; //  legend\n\n    each(geometries, (geometry: Geometry) => {\n      const attributes = geometry.getGroupAttributes();\n\n      each(attributes, (attr: Attribute) => {\n        const scale = attr.getScale(attr.type);\n        //  size(2) shape('circle')  legend\n        if (!scale || scale.type === 'identity' || looped[scale.field]) {\n          return;\n        }\n\n        doEach(geometry, attr, scale);\n\n        looped[scale.field] = true;\n      });\n    });\n  }\n\n  /**\n   *  legend\n   * @param geometry\n   * @param attr\n   * @param scale\n   */\n  private createFieldLegend(geometry: Geometry, attr: Attribute, scale: Scale): ComponentOption {\n    let component;\n\n    const legendOption = getLegendOption(this.option, scale.field);\n    const layer = LAYER.FORE;\n    const direction = getDirection(legendOption);\n\n    // if the legend option is not false, means legend should be created.\n    if (legendOption !== false) {\n      if (get(legendOption, 'custom')) {\n        component = this.createCustomLegend(geometry, attr, scale, legendOption);\n      } else {\n        if (scale.isLinear) {\n          // linear field, create continuous legend\n          component = this.createContinuousLegend(geometry, attr, scale, legendOption);\n        } else if (scale.isCategory) {\n          // category field, create category legend\n          component = this.createCategoryLegend(geometry, attr, scale, legendOption);\n        }\n      }\n    }\n\n    if (component) {\n      component.set('field', scale.field);\n\n      return {\n        id: this.getId(scale.field),\n        component,\n        layer,\n        direction,\n        type: COMPONENT_TYPE.LEGEND,\n        extra: { scale },\n      };\n    }\n  }\n\n  /**\n   *  category \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCustomLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: LegendCfg) {\n    //  \n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createContinuousLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getContinuousCfg(geometry, attr, scale, omit(legendOption, ['value']));\n    return new ContinuousLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCategoryLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private getContinuousCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const ticks = scale.getTicks();\n\n    const containMin = find(ticks, (tick: Tick) => tick.value === 0);\n    const containMax = find(ticks, (tick: Tick) => tick.value === 1);\n    const items = ticks.map((tick: Tick) => {\n      const { value, tickValue } = tick;\n      const attrValue = attr.mapping(scale.invert(value)).join('');\n\n      return {\n        value: tickValue,\n        attrValue,\n        color: attrValue,\n        scaleValue: value,\n      };\n    });\n\n    if (!containMin) {\n      items.push({\n        value: scale.min,\n        attrValue: attr.mapping(scale.invert(0)).join(''),\n        color: attr.mapping(scale.invert(0)).join(''),\n        scaleValue: 0,\n      });\n    }\n    if (!containMax) {\n      items.push({\n        value: scale.max,\n        attrValue: attr.mapping(scale.invert(1)).join(''),\n        color: attr.mapping(scale.invert(1)).join(''),\n        scaleValue: 1,\n      });\n    }\n\n    // \n    items.sort((a: any, b: any) => a.value - b.value);\n\n    //  attr \n    // size color \n    const attrLegendCfg: LooseObject = {\n      min: head(items).value,\n      max: last(items).value,\n      colors: [],\n      rail: {\n        type: attr.type,\n      },\n      track: {},\n    };\n\n    if (attr.type === 'size') {\n      attrLegendCfg.track = {\n        style: {\n          // size  color color \n          // @ts-ignore\n          fill: attr.type === 'size' ? this.view.getTheme().defaultColor : undefined,\n        },\n      };\n    }\n\n    if (attr.type === 'color') {\n      attrLegendCfg.colors = items.map((item) => item.attrValue);\n    }\n\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = getDirection(legendOption);\n\n    const layout = getLegendLayout(direction);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix(\n        {\n          text: getName(scale),\n        },\n        title\n      );\n    }\n\n    // \n    attrLegendCfg.container = container;\n    attrLegendCfg.layout = layout;\n    attrLegendCfg.title = title;\n    attrLegendCfg.animateOption = DEFAULT_ANIMATE_CFG;\n    // @ts-ignore\n    return this.mergeLegendCfg(attrLegendCfg, legendOption, 'continuous');\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param custom\n   * @param legendOption\n   */\n  private getCategoryCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any, custom?: boolean) {\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = get(legendOption, 'position', DIRECTION.BOTTOM);\n\n    const legendTheme = getLegendThemeCfg(this.view.getTheme(), direction);\n\n    // the default marker style\n    const themeMarker = get(legendTheme, ['marker']);\n    const userMarker = get(legendOption, 'marker');\n    const layout = getLegendLayout(direction);\n    const themePageNavigator = get(legendTheme, ['pageNavigator']);\n    const userPageNavigator = get(legendOption, 'pageNavigator');\n\n    const items = custom\n      ? getCustomLegendItems(themeMarker, userMarker, legendOption.items)\n      : getLegendItems(this.view, geometry, attr, themeMarker, userMarker);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix(\n        {\n          text: scale ? getName(scale) : '',\n        },\n        title\n      );\n    }\n    const maxWidthRatio = get(legendOption, 'maxWidthRatio');\n    const maxHeightRatio = get(legendOption, 'maxHeightRatio');\n\n    const baseCfg: LooseObject = this.getCategoryLegendSizeCfg(layout, maxWidthRatio, maxHeightRatio);\n    baseCfg.container = container;\n    baseCfg.layout = layout;\n    baseCfg.items = items;\n    baseCfg.title = title;\n    baseCfg.animateOption = DEFAULT_ANIMATE_CFG;\n    baseCfg.pageNavigator = deepMix({}, themePageNavigator, userPageNavigator);\n\n    const categoryCfg = this.mergeLegendCfg(baseCfg, legendOption, direction);\n    if (categoryCfg.reversed) {\n      // \n      categoryCfg.items.reverse();\n    }\n\n    const maxItemWidth = get(categoryCfg, 'maxItemWidth');\n    if (maxItemWidth && maxItemWidth <= 1) {\n      // \n      categoryCfg.maxItemWidth = this.view.viewBBox.width * maxItemWidth;\n    }\n\n    return categoryCfg;\n  }\n\n  /**\n   * get legend config, use option > suggestion > theme\n   * @param baseCfg\n   * @param legendOption\n   * @param direction\n   */\n  private mergeLegendCfg(baseCfg: object, legendOption: LegendOption, direction: DIRECTION) {\n    const position = direction.split('-')[0];\n    const themeObject = getLegendThemeCfg(this.view.getTheme(), position);\n\n    return deepMix({}, themeObject, baseCfg, legendOption);\n  }\n\n  /**\n   *  id\n   * @param key\n   */\n  private getId(key: string): string {\n    return `${this.name}-${key}`;\n  }\n\n  /**\n   *  id \n   * @param id\n   */\n  private getComponentById(id: string): ComponentOption {\n    return find(this.components, (co) => co.id === id);\n  }\n\n  private getCategoryLegendSizeCfg(\n    layout: 'horizontal' | 'vertical',\n    maxWidthRatio = COMPONENT_MAX_VIEW_PERCENTAGE,\n    maxHeightRatio = COMPONENT_MAX_VIEW_PERCENTAGE\n  ) {\n    const { width: vw, height: vh } = this.view.viewBBox;\n    //  legend  viewBBox \n    // const { width: cw, height: ch } = this.view.coordinateBBox;\n    return layout === 'vertical'\n      ? {\n          maxWidth: vw * maxWidthRatio,\n          maxHeight: vh,\n        }\n      : {\n          maxWidth: vw,\n          maxHeight: vh * maxHeightRatio,\n        };\n  }\n}\n","import { deepMix, get, isObject, size, clamp, isNil, noop, throttle, isEmpty, valuesOfKey } from '@antv/util';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { IGroup, Slider as SliderComponent } from '../../dependents';\nimport { ComponentOption, Datum, Padding } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { isBetween } from '../../util/helper';\nimport { Writeable } from '../../util/types';\nimport View from '../view';\nimport { Controller } from './base';\nimport { SliderOption, SliderCfg } from '../../interface';\n\n/**\n * @ignore\n * slider Controller\n */\nexport default class Slider extends Controller<SliderOption> {\n  private slider: ComponentOption;\n  private container: IGroup;\n\n  private width: number;\n  private start: number;\n  private end: number;\n\n  private onChangeFn: (evt: {}) => void = noop;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n    this.onChangeFn = throttle(this.onValueChange, 20, {\n      leading: true,\n    }) as (evt: {}) => void;\n\n    this.width = 0;\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  get name(): string {\n    return 'slider';\n  }\n\n  public destroy() {\n    super.destroy();\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  /**\n   * \n   */\n  public init() {}\n\n  /**\n   * \n   */\n  public render() {\n    this.option = this.view.getOptions().slider;\n    const { start, end } = this.getSliderCfg();\n    if (isNil(this.start)) {\n      this.start = start;\n      this.end = end;\n    }\n\n    const { data: viewData } = this.view.getOptions();\n    if (this.option && !isEmpty(viewData)) {\n      if (this.slider) {\n        // exist, update\n        this.slider = this.updateSlider();\n      } else {\n        // not exist, create\n        this.slider = this.createSlider();\n        // \n        this.slider.component.on('sliderchange', this.onChangeFn);\n      }\n    } else {\n      if (this.slider) {\n        // exist, destroy\n        this.slider.component.destroy();\n        this.slider = undefined;\n      } else {\n        // do nothing\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    if (this.option && !this.width) {\n      this.measureSlider();\n      setTimeout(() => {\n        //  view \n        if (!this.view.destroyed) {\n          this.changeViewData(this.start, this.end);\n        }\n      }, 0);\n    }\n    if (this.slider) {\n      const width = this.view.coordinateBBox.width;\n      //  layout bbox\n      const padding: Padding = this.slider.component.get('padding') as Padding;\n      const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n      const bboxObject = this.slider.component.getLayoutBBox();\n      const bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(\n        padding\n      );\n      const { minText, maxText } = this.getMinMaxText(this.start, this.end);\n\n      const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM);\n      const [x2, y2] = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM);\n\n      //  bottom\n      this.slider.component.update({\n        ...this.getSliderCfg(),\n        x: x2 + paddingLeft,\n        y: y1 + paddingTop,\n        width: this.width,\n        start: this.start,\n        end: this.end,\n        minText,\n        maxText,\n      });\n\n      this.view.viewBBox = this.view.viewBBox.cut(bbox, DIRECTION.BOTTOM);\n    }\n  }\n\n  /**\n   * \n   */\n  public update() {\n    //  render \n    this.render();\n  }\n\n  /**\n   *  slider \n   */\n  private createSlider(): ComponentOption {\n    const cfg: any = this.getSliderCfg();\n    //  slider \n    const component = new SliderComponent({\n      container: this.container,\n      ...cfg,\n    });\n\n    component.init();\n\n    return {\n      component,\n      layer: LAYER.FORE,\n      direction: DIRECTION.BOTTOM,\n      type: COMPONENT_TYPE.SLIDER,\n    };\n  }\n\n  /**\n   * \n   */\n  private updateSlider() {\n    let cfg = this.getSliderCfg();\n    if (this.width) {\n      const { minText, maxText } = this.getMinMaxText(this.start, this.end);\n      cfg = { ...cfg, width: this.width, start: this.start, end: this.end, minText, maxText };\n    }\n\n    this.slider.component.update(cfg);\n\n    return this.slider;\n  }\n\n  /**\n   * \n   */\n  private measureSlider() {\n    const { width } = this.getSliderCfg();\n\n    this.width = width;\n  }\n\n  /**\n   * \n   */\n  private resetMeasure = () => {\n    this.clear();\n  };\n\n  /**\n   *  slider \n   */\n  private getSliderCfg() {\n    let cfg: Writeable<SliderCfg> & { x: number; y: number; width: number; minText: string; maxText: string } = {\n      height: 16,\n      start: 0,\n      end: 1,\n      minText: '',\n      maxText: '',\n      x: 0,\n      y: 0,\n      width: this.view.coordinateBBox.width,\n    };\n    if (isObject(this.option)) {\n      // \n      const trendCfg = {\n        data: this.getData(),\n        ...get(this.option, 'trendCfg', {}),\n      };\n\n      // \n      cfg = deepMix({}, cfg, this.getThemeOptions(), this.option);\n\n      // trendCfg \n      cfg = { ...cfg, trendCfg };\n    }\n\n    cfg.start = clamp(Math.min(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n    cfg.end = clamp(Math.max(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n\n    return cfg;\n  }\n\n  /**\n   *  view \n   */\n  private getData(): number[] {\n    const data = this.view.getOptions().data;\n    const [yScale] = this.view.getYScales();\n    const groupScales = this.view.getGroupScales();\n    if (groupScales.length) {\n      const { field, ticks } = groupScales[0];\n      return data.reduce((pre, cur) => {\n        if (cur[field] === ticks[0]) {\n          pre.push(cur[yScale.field] as number);\n        }\n        return pre;\n      }, []) as number[];\n    }\n\n    return data.map((datum) => datum[yScale.field] || 0);\n  }\n\n  /**\n   *  slider \n   */\n  private getThemeOptions() {\n    const theme = this.view.getTheme();\n    return get(theme, ['components', 'slider', 'common'], {});\n  }\n\n  /**\n   * \n   * @param v\n   */\n  private onValueChange = (v: any) => {\n    const [min, max] = v;\n\n    this.start = min;\n    this.end = max;\n\n    this.changeViewData(min, max);\n  };\n\n  /**\n   *  start/end  minText/maxText\n   * @param min\n   * @param max\n   */\n  private getMinMaxText(min: number, max: number) {\n    const data = this.view.getOptions().data;\n    const xScale = this.view.getXScale();\n    const isHorizontal = true;\n    let values = valuesOfKey(data, xScale.field);\n\n    //  xScale \n    if (xScale.isLinear) {\n      values = values.sort();\n    }\n\n    const xValues = isHorizontal ? values : values.reverse();\n    const dataSize = size(data);\n\n    if (!xScale || !dataSize) {\n      return {}; // fix: \n    }\n\n    const xTickCount = size(xValues);\n\n    const minIndex = Math.round(min * (xTickCount - 1));\n    const maxIndex = Math.round(max * (xTickCount - 1));\n\n    let minText = get(xValues, [minIndex]);\n    let maxText = get(xValues, [maxIndex]);\n\n    const formatter = this.getSliderCfg().formatter as SliderCfg['formatter'];\n    if (formatter) {\n      minText = formatter(minText, data[minIndex], minIndex);\n      maxText = formatter(maxText, data[maxIndex], maxIndex);\n    }\n\n    return {\n      minText,\n      maxText,\n    };\n  }\n\n  /**\n   *  view \n   * @param min\n   * @param max\n   */\n  private changeViewData(min: number, max: number) {\n    const data = this.view.getOptions().data;\n    const xScale = this.view.getXScale();\n    const dataSize = size(data);\n    if (!xScale || !dataSize) {\n      return;\n    }\n    const isHorizontal = true;\n    const values = valuesOfKey(data, xScale.field);\n\n    //  xScale \n    const xScaleValues = this.view.getXScale().isLinear ? values.sort((a, b) => Number(a) - Number(b)) : values;\n\n    const xValues = isHorizontal ? xScaleValues : xScaleValues.reverse();\n    const xTickCount = size(xValues);\n\n    const minIndex = Math.round(min * (xTickCount - 1));\n    const maxIndex = Math.round(max * (xTickCount - 1));\n\n    //  x \n    this.view.filter(xScale.field, (value: any, datum: Datum) => {\n      const idx: number = xValues.indexOf(value);\n      return idx > -1 ? isBetween(idx, minIndex, maxIndex) : true;\n    });\n    this.view.render(true);\n  }\n\n  /**\n   * \n   */\n  public getComponents() {\n    return this.slider ? [this.slider] : [];\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    if (this.slider) {\n      this.slider.component.destroy();\n      this.slider = undefined;\n    }\n    this.width = 0;\n    this.start = undefined;\n    this.end = undefined;\n  }\n}\n","import { Controller } from './base';\nimport { IGroup, Scrollbar as ScrollbarComponent, Scale } from '../../dependents';\nimport { ScrollbarOption, ComponentOption, ScrollbarCfg, Data, ScaleOption, Padding } from '../../interface';\nimport View from '../view';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { isObject, clamp, size, throttle, noop, get, valuesOfKey, deepMix } from '@antv/util';\nimport { isBetween } from '../../util/helper';\n\nconst DEFAULT_PADDING: number = 0;\nconst DEFAULT_SIZE: number = 8;\nconst DEFAULT_CATEGORY_SIZE: number = 32;\nconst MIN_THUMB_LENGTH: number = 20;\n\nexport default class Scrollbar extends Controller<ScrollbarOption> {\n  private scrollbar: ComponentOption;\n  private container: IGroup;\n\n  private trackLen: number;\n  private thumbLen: number;\n  private cnt: number;\n  private step: number;\n  private ratio: number;\n  private data: Data;\n  private xScaleCfg: {\n    field: string;\n    values: string[];\n  };\n  private yScalesCfg: Scale[];\n\n  private onChangeFn: (evt: {}) => void = noop;\n\n  constructor(view: View) {\n    super(view);\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n    this.onChangeFn = throttle(this.onValueChange, 20, {\n      leading: true,\n    }) as (evt: {}) => void;\n    this.trackLen = 0;\n    this.thumbLen = 0;\n    this.ratio = 0;\n\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  get name(): string {\n    return 'scrollbar';\n  }\n\n  public destroy() {\n    super.destroy();\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  public init() { }\n\n  /**\n   * \n   */\n  public render() {\n    this.option = this.view.getOptions().scrollbar;\n\n    if (this.option) {\n      if (this.scrollbar) {\n        // exist, update\n        this.scrollbar = this.updateScrollbar();\n      } else {\n        // not exist, create\n        this.scrollbar = this.createScrollbar();\n        this.scrollbar.component.on('scrollchange', this.onChangeFn);\n      }\n    } else {\n      if (this.scrollbar) {\n        // exist, destroy\n        this.scrollbar.component.destroy();\n        this.scrollbar = undefined;\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    if (this.option && !this.trackLen) {\n      this.measureScrollbar();\n      setTimeout(() => {\n        if (!this.view.destroyed) {\n          this.changeViewData(this.getScrollRange(), true);\n        }\n      });\n    }\n    if (this.scrollbar) {\n      const width = this.view.coordinateBBox.width;\n      const padding: Padding = this.scrollbar.component.get('padding') as Padding;\n      const bboxObject = this.scrollbar.component.getLayoutBBox();\n      const bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(\n        padding\n      );\n      const cfg = this.getScrollbarComponentCfg();\n\n      let x: number;\n      let y: number;\n\n      if (cfg.isHorizontal) {\n        const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM);\n        const [x2, y2] = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM);\n        x = x2;\n        y = y1;\n      } else {\n        const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT);\n        const [x2, y2] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT);\n        x = x2;\n        y = y1;\n      }\n\n      x += padding[3];\n      y += padding[0];\n\n      //  bottom\n      if (this.trackLen) {\n        this.scrollbar.component.update({\n          ...cfg,\n          x,\n          y,\n          trackLen: this.trackLen,\n          thumbLen: this.thumbLen,\n          thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,\n        });\n      } else {\n        this.scrollbar.component.update({\n          ...cfg,\n          x,\n          y,\n        });\n      }\n\n      this.view.viewBBox = this.view.viewBBox.cut(bbox, cfg.isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT);\n    }\n  }\n\n  /**\n   * \n   */\n  public update() {\n    //  render \n    this.render();\n  }\n\n  public getComponents() {\n    return this.scrollbar ? [this.scrollbar] : [];\n  }\n\n  public clear() {\n    if (this.scrollbar) {\n      this.scrollbar.component.destroy();\n      this.scrollbar = undefined;\n    }\n    this.trackLen = 0;\n    this.thumbLen = 0;\n    this.ratio = 0;\n    this.cnt = 0;\n    this.step = 0;\n    this.data = undefined;\n    this.xScaleCfg = undefined;\n    this.yScalesCfg = [];\n  }\n\n  /**   */\n  public setValue(ratio: number) {\n    this.onValueChange({ ratio });\n  }\n\n  /**   */\n  public getValue() {\n    return this.ratio;\n  }\n\n  /**\n   *  scrollbar \n   */\n  private getThemeOptions() {\n    const theme = this.view.getTheme();\n    return get(theme, ['components', 'scrollbar', 'common'], {});\n  }\n\n  /**\n   *  scrollbar \n   */\n  private getScrollbarTheme(style?: ScrollbarCfg['style']) {\n    const theme = get(this.view.getTheme(), ['components', 'scrollbar']);\n    const { thumbHighlightColor, ...restStyles } = style || {};\n    return {\n      default: deepMix({}, get(theme, ['default', 'style'], {}), restStyles),\n      hover: deepMix({}, get(theme, ['hover', 'style'], {}), { thumbColor: thumbHighlightColor }),\n    };\n  }\n\n  private resetMeasure = () => {\n    this.clear();\n  };\n\n  private onValueChange = ({ ratio }: { ratio: number }) => {\n    const { animate } = this.getValidScrollbarCfg();\n    this.ratio = clamp(ratio, 0, 1);\n    const originalAnimate = this.view.getOptions().animate;\n    if (!animate) {\n      this.view.animate(false);\n    }\n    this.changeViewData(this.getScrollRange(), true);\n    this.view.animate(originalAnimate);\n  };\n\n  private measureScrollbar(): void {\n    const xScale = this.view.getXScale();\n    const yScales = this.view.getYScales().slice();\n    this.data = this.getScrollbarData();\n    this.step = this.getStep();\n    this.cnt = this.getCnt();\n    const { trackLen, thumbLen } = this.getScrollbarComponentCfg();\n    this.trackLen = trackLen;\n    this.thumbLen = thumbLen;\n    this.xScaleCfg = {\n      field: xScale.field,\n      values: xScale.values || [],\n    };\n    this.yScalesCfg = yScales;\n  }\n\n  private getScrollRange(): [number, number] {\n    const startIdx: number = Math.floor((this.cnt - this.step) * clamp(this.ratio, 0, 1));\n    const endIdx: number = Math.min(startIdx + this.step - 1, this.cnt - 1);\n    return [startIdx, endIdx];\n  }\n\n  private changeViewData([startIdx, endIdx]: [number, number], render?: boolean): void {\n    const { type } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const values = valuesOfKey(this.data, this.xScaleCfg.field);\n\n    //  xScale \n    const xScaleValues = this.view.getXScale().isLinear ? values.sort((a, b) => Number(a) - Number(b)) : values;\n\n    const xValues = isHorizontal ? xScaleValues : xScaleValues.reverse();\n    this.yScalesCfg.forEach((cfg) => {\n      this.view.scale(cfg.field, {\n        formatter: cfg.formatter,\n        type: cfg.type as ScaleOption['type'],\n        min: cfg.min,\n        max: cfg.max,\n        tickMethod: cfg.tickMethod\n      });\n    });\n    this.view.filter(this.xScaleCfg.field, (val) => {\n      const idx = xValues.indexOf(val);\n      return idx > -1 ? isBetween(idx, startIdx, endIdx) : true;\n    });\n    this.view.render(true);\n  }\n\n  private createScrollbar(): ComponentOption {\n    const { type } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const component = new ScrollbarComponent({\n      container: this.container,\n      ...this.getScrollbarComponentCfg(),\n      x: 0,\n      y: 0,\n    });\n\n    component.init();\n\n    return {\n      component,\n      layer: LAYER.FORE,\n      direction: isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT,\n      type: COMPONENT_TYPE.SCROLLBAR,\n    };\n  }\n\n  private updateScrollbar(): ComponentOption {\n    const config = this.getScrollbarComponentCfg();\n    const realConfig = this.trackLen\n      ? {\n        ...config,\n        trackLen: this.trackLen,\n        thumbLen: this.thumbLen,\n        thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,\n      }\n      : { ...config };\n    this.scrollbar.component.update(realConfig);\n\n    return this.scrollbar;\n  }\n\n  private getStep() {\n    if (this.step) {\n      return this.step;\n    }\n    const { coordinateBBox } = this.view;\n    const { type, categorySize } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n\n    return Math.floor((isHorizontal ? coordinateBBox.width : coordinateBBox.height) / categorySize);\n  }\n\n  private getCnt() {\n    if (this.cnt) {\n      return this.cnt;\n    }\n    const xScale = this.view.getXScale();\n    const data = this.getScrollbarData();\n    const values = valuesOfKey(data, xScale.field);\n    return size(values);\n  }\n\n  private getScrollbarComponentCfg() {\n    const { coordinateBBox, viewBBox } = this.view;\n    const { type, padding, width, height, style } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n    const position = isHorizontal\n      ? {\n        x: coordinateBBox.minX + paddingLeft,\n        y: viewBBox.maxY - height - paddingBottom,\n      }\n      : {\n        x: viewBBox.maxX - width - paddingRight,\n        y: coordinateBBox.minY + paddingTop,\n      };\n    const step = this.getStep();\n    const cnt = this.getCnt();\n    const trackLen = isHorizontal\n      ? coordinateBBox.width - paddingLeft - paddingRight\n      : coordinateBBox.height - paddingTop - paddingBottom;\n    const thumbLen = Math.max(trackLen * clamp(step / cnt, 0, 1), MIN_THUMB_LENGTH);\n\n    return {\n      ...this.getThemeOptions(),\n      x: position.x,\n      y: position.y,\n      size: isHorizontal ? height : width,\n      isHorizontal,\n      trackLen,\n      thumbLen,\n      thumbOffset: 0,\n      theme: this.getScrollbarTheme(style),\n    };\n  }\n\n  /**\n   * \n   */\n  private getValidScrollbarCfg(): Required<ScrollbarCfg> {\n    let cfg: Required<ScrollbarCfg> = {\n      type: 'horizontal',\n      categorySize: DEFAULT_CATEGORY_SIZE,\n      width: DEFAULT_SIZE,\n      height: DEFAULT_SIZE,\n      padding: [0, 0, 0, 0],\n      animate: true,\n      style: {},\n    };\n    if (isObject(this.option)) {\n      cfg = { ...cfg, ...this.option };\n    }\n    if (!isObject(this.option) || !this.option.padding) {\n      cfg.padding =\n        cfg.type === 'horizontal' ? [DEFAULT_PADDING, 0, DEFAULT_PADDING, 0] : [0, DEFAULT_PADDING, 0, DEFAULT_PADDING];\n    }\n\n    return cfg;\n  }\n\n  /**\n   * \n   */\n  private getScrollbarData(): Data {\n    const coordinate = this.view.getCoordinate();\n    const cfg = this.getValidScrollbarCfg();\n    let data = this.view.getOptions().data || [];\n    //  y \n    if (coordinate.isReflect('y') && cfg.type === 'vertical') {\n      data = [...data].reverse();\n    }\n\n    return data;\n  }\n}\n","import { each, head, isEqual, last, get, flatten, isArray, uniq, isNil } from '@antv/util';\nimport { View } from 'src/chart';\nimport { findItemsFromViewRecurisive } from '../../util/tooltip';\nimport { IShape, Point, ShapeAttrs } from '../../dependents';\nimport Element from '../../geometry/element';\nimport { LooseObject, TooltipCfg } from '../../interface';\nimport { getAngle, getSectorPath } from '../../util/graphics';\nimport Action from './base';\n\nconst DEFAULT_REGION_PATH_STYLE = {\n  fill: '#CCD6EC',\n  opacity: 0.3,\n};\n\nexport function getItemsOfView(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  let items = findItemsFromViewRecurisive(view, point, tooltipCfg);\n  if (items.length) {\n    // \n    items = flatten(items);\n    for (const itemArr of items) {\n      for (const item of itemArr) {\n        const { x, y } = item.mappingData;\n        item.x = isArray(x) ? x[x.length - 1] : x;\n        item.y = isArray(y) ? y[y.length - 1] : y;\n      }\n    }\n\n    const { shared } = tooltipCfg;\n    // shared: false  shape  view  Geometry shape\n    if (shared === false && items.length > 1) {\n      let snapItem = items[0];\n      let min = Math.abs(point.y - snapItem[0].y);\n      for (const aItem of items) {\n        const yDistance = Math.abs(point.y - aItem[0].y);\n        if (yDistance <= min) {\n          snapItem = aItem;\n          min = yDistance;\n        }\n      }\n      items = [snapItem];\n    }\n\n    return uniq(flatten(items));\n  }\n\n  return [];\n}\n\n/**\n *  Action.  interval  schema geometry\n * @ignore\n */\nclass ActiveRegion extends Action {\n  private items: any[];\n  private regionPath: IShape;\n  /**\n   * \n   * @param {ShapeAttrs} style region-path \n   * @param {number} appendRatio .  x  linear : 0.25, x  linear :  0\n   * @param {number} appendWidth  .  > appendRatio\n   */\n  public show(args?: { style: ShapeAttrs; appendRatio?: number; appendWidth?: number }) {\n    const view = this.context.view;\n    const ev = this.context.event;\n\n    const tooltipCfg = view.getController('tooltip').getTooltipCfg();\n    const tooltipItems = getItemsOfView(\n      view,\n      {\n        x: ev.x,\n        y: ev.y,\n      },\n      tooltipCfg\n    );\n\n    if (isEqual(tooltipItems, this.items)) {\n      // \n      return;\n    }\n    this.items = tooltipItems;\n    if (tooltipItems.length) {\n      const xField = view.getXScale().field;\n      const xValue = tooltipItems[0].data[xField];\n      //  x  elements\n      let elements: Element[] = [];\n      const geometries = view.geometries;\n      each(geometries, (geometry) => {\n        if (geometry.type === 'interval' || geometry.type === 'schema') {\n          const result = geometry.getElementsBy((ele) => {\n            const eleData = ele.getData();\n            return eleData[xField] === xValue;\n          });\n\n          elements = elements.concat(result);\n        }\n      });\n\n      //  bbox \n      if (elements.length) {\n        const coordinate = view.getCoordinate();\n\n        let firstBBox = elements[0].shape.getCanvasBBox();\n        let lastBBox = elements[0].shape.getCanvasBBox();\n        const groupBBox: LooseObject = firstBBox;\n\n        each(elements, (ele: Element) => {\n          const bbox = ele.shape.getCanvasBBox();\n          if (coordinate.isTransposed) {\n            if (bbox.minY < firstBBox.minY) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxY > lastBBox.maxY) {\n              lastBBox = bbox;\n            }\n          } else {\n            if (bbox.minX < firstBBox.minX) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxX > lastBBox.maxX) {\n              lastBBox = bbox;\n            }\n          }\n\n          groupBBox.x = Math.min(bbox.minX, groupBBox.minX);\n          groupBBox.y = Math.min(bbox.minY, groupBBox.minY);\n          groupBBox.width = Math.max(bbox.maxX, groupBBox.maxX) - groupBBox.x;\n          groupBBox.height = Math.max(bbox.maxY, groupBBox.maxY) - groupBBox.y;\n        });\n\n        const { backgroundGroup, coordinateBBox } = view;\n        let path;\n        if (coordinate.isRect) {\n          const xScale = view.getXScale();\n\n          let { appendRatio, appendWidth } = args || {};\n          if (isNil(appendWidth)) {\n            appendRatio = isNil(appendRatio) ? (xScale.isLinear ? 0 : 0.25) : appendRatio; //  x \n            appendWidth = coordinate.isTransposed ? appendRatio * lastBBox.height : appendRatio * firstBBox.width;\n          }\n\n          let minX: number;\n          let minY: number;\n          let width: number;\n          let height: number;\n          if (coordinate.isTransposed) {\n            minX = coordinateBBox.minX;\n            minY = Math.min(lastBBox.minY, firstBBox.minY) - appendWidth;\n            width = coordinateBBox.width;\n            height = groupBBox.height + appendWidth * 2;\n          } else {\n            minX = Math.min(firstBBox.minX, lastBBox.minX) - appendWidth;\n            //    minY\n            minY = coordinateBBox.minY;\n            width = groupBBox.width + appendWidth * 2;\n            height = coordinateBBox.height;\n          }\n\n          path = [\n            ['M', minX, minY],\n            ['L', minX + width, minY],\n            ['L', minX + width, minY + height],\n            ['L', minX, minY + height],\n            ['Z'],\n          ];\n        } else {\n          const firstElement = head(elements);\n          const lastElement = last(elements);\n          const { startAngle } = getAngle(firstElement.getModel(), coordinate);\n          const { endAngle } = getAngle(lastElement.getModel(), coordinate);\n          const center = coordinate.getCenter();\n          const radius = coordinate.getRadius();\n          const innterRadius = coordinate.innerRadius * radius;\n          path = getSectorPath(center.x, center.y, radius, startAngle, endAngle, innterRadius);\n        }\n\n        if (this.regionPath) {\n          this.regionPath.attr('path', path);\n          this.regionPath.show();\n        } else {\n          const style = get(args, 'style', DEFAULT_REGION_PATH_STYLE);\n          this.regionPath = backgroundGroup.addShape({\n            type: 'path',\n            name: 'active-region',\n            capture: false,\n            attrs: {\n              ...style,\n              path,\n            },\n          });\n        }\n      }\n    }\n  }\n  /**\n   * \n   */\n  public hide() {\n    if (this.regionPath) {\n      this.regionPath.hide();\n    }\n    // this.regionPath = null;\n    this.items = null;\n  }\n  /**\n   * \n   */\n  public destroy() {\n    this.hide();\n    if (this.regionPath) {\n      this.regionPath.remove(true);\n    }\n    super.destroy();\n  }\n}\n\nexport default ActiveRegion;\n","import { isEqual, get } from '@antv/util';\nimport { View } from '../../../../chart';\nimport { Point } from '../../../../interface';\nimport Action from '../../base';\nimport Tooltip from '../../../../chart/controller/tooltip';\n\n/**\n * Tooltip  Action\n * @ignore\n */\nclass TooltipAction extends Action {\n  private timeStamp: number = 0;\n  private location: Point;\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public show() {\n    const context = this.context;\n    const ev = context.event;\n    const view = context.view;\n    const isTooltipLocked = view.isTooltipLocked();\n    if (isTooltipLocked) {\n      //  tooltip\n      return;\n    }\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    //  showDelay  16ms tooltip  enterable\n    const showDelay = get(context.view.getOptions(), 'tooltip.showDelay', 16);\n    if (timeStamp - lastTimeStamp > showDelay) {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(view, curLoc);\n      }\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hide() {\n    const view = this.context.view;\n\n    const tooltip = view.getController('tooltip');\n    const { clientX, clientY } = this.context.event;\n\n    //  enterable +  tooltip \n    if (tooltip.isCursorEntered({ x: clientX, y: clientY })) {\n      return;\n    }\n\n    //  tooltip \n    if (view.isTooltipLocked()) {\n      return;\n    }\n    this.hideTooltip(view);\n    this.location = null;\n  }\n\n  protected showTooltip(view: View, point: Point) {\n    // \n    view.showTooltip(point);\n  }\n\n  protected hideTooltip(view) {\n    view.hideTooltip();\n  }\n}\n\nexport default TooltipAction;\n","import { each } from '@antv/util';\nimport { View } from '../../../../chart';\nimport { Point } from '../../../../interface';\nimport { getSiblingPoint, getSilbings } from '../../util';\nimport TooltipAction from './geometry';\n\n/**\n *  view  view  tooltip \n * @ignore\n */\nclass SiblingTooltip extends TooltipAction {\n  /**\n   *  tooltip \n   * @param view\n   * @param point\n   */\n  protected showTooltip(view: View, point: Point) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const siblingPoint = getSiblingPoint(view, sibling, point);\n      sibling.showTooltip(siblingPoint);\n    });\n  }\n  /**\n   *  tooltip\n   * @param view\n   */\n  protected hideTooltip(view) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.hideTooltip();\n    });\n  }\n}\n\nexport default SiblingTooltip;\n","import { isEqual, get, deepMix } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { Point } from '../../../../interface';\nimport Action from '../../base';\nimport { HtmlTooltip } from '../../../../dependents';\n\n/**\n *  Tooltip Action\n * @ignore\n */\nexport default class EllipsisText extends Action {\n  private timeStamp: number = 0;\n  private location: Point;\n  private tooltip;\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public show() {\n    const context = this.context;\n    const ev = context.event;\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    if (timeStamp - lastTimeStamp > 16) {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(curLoc);\n      }\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hide() {\n    this.hideTooltip();\n    this.location = null;\n  }\n\n  protected showTooltip(curLoc: Point) {\n    const context = this.context;\n    const ev = context.event;\n    const target = ev.target;\n\n    if (target && target.get('tip')) {\n      if (!this.tooltip) {\n        this.renderTooltip(); // \n      }\n      const tipContent = target.get('tip');\n      //  tooltip\n      this.tooltip.update({\n        title: tipContent,\n        ...curLoc,\n      });\n      this.tooltip.show();\n    }\n  }\n\n  protected hideTooltip() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  private renderTooltip() {\n    const view = this.context.view;\n    const canvas = view.canvas;\n\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n\n    const theme = view.getTheme();\n    const tooltipStyles = get(theme, ['components', 'tooltip', 'domStyles'], {}); //  tooltip \n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      visible: false,\n      crosshairs: null,\n      domStyles: {\n        ...deepMix({}, tooltipStyles, {\n          // tooltip tip  50%\n          [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: { 'max-width': '50%' },\n          [TOOLTIP_CSS_CONST.TITLE_CLASS]: { 'word-break': 'break-all' },\n        }),\n      },\n    });\n    tooltip.init();\n    tooltip.setCapture(false); // \n    this.tooltip = tooltip;\n  }\n}\n","import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport Action from '../base';\nimport { getElementsByState } from '../util';\n\n/**\n *  Action \n * @abstract\n * @class\n * @ignore\n */\nabstract class StateBase extends Action {\n  /**\n   * \n   */\n  protected stateName: string = '';\n\n  /**\n   * \n   * @param enable \n   */\n  protected abstract setStateEnable(enable: boolean);\n\n  /**\n   * \n   * @param element  Element \n   */\n  protected hasState(element: Element): boolean {\n    return element.hasState(this.stateName);\n  }\n  /**\n   * \n   * @param enable \n   */\n  protected setElementState(element: Element, enable: boolean) {\n    // \n    element.setState(this.stateName, enable);\n  }\n\n  /**\n   * \n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   *  Element \n   */\n  public clear() {\n    const view = this.context.view;\n    this.clearViewState(view);\n  }\n\n  protected clearViewState(view) {\n    const elements = getElementsByState(view, this.stateName);\n    each(elements, (el: Element) => {\n      this.setElementState(el, false);\n    });\n  }\n}\n\nexport default StateBase;\n","import { each, isNil, get } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport {\n  getCurrentElement,\n  getDelegationObject,\n  getElements,\n  getElementValue,\n  getScaleByField,\n  isElementChange,\n  isList,\n} from '../util';\nimport StateBase from './state-base';\n\nfunction getItem(shape) {\n  return get(shape.get('delegateObject'), 'item');\n}\n\n/**\n *  Action  Element \n * @class\n * @ignore\n */\nclass ElementState extends StateBase {\n  protected ignoreListItemStates = ['unchecked'];\n\n  // \n  private isItemIgnore(item: ListItem, list) {\n    const states = this.ignoreListItemStates;\n    const filtered = states.filter((state) => {\n      return list.hasState(item, state);\n    });\n    return !!filtered.length;\n  }\n\n  // \n  private setStateByComponent(component, item: ListItem, enable: boolean) {\n    const view = this.context.view;\n    const field = component.get('field');\n    const elements = getElements(view);\n    this.setElementsStateByItem(elements, field, item, enable);\n  }\n\n  //  element \n  protected setStateByElement(element: Element, enable: boolean) {\n    this.setElementState(element, enable);\n  }\n\n  /**  element  */\n  protected isMathItem(element: Element, field: string, item: ListItem) {\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    return !isNil(value) && item.name === scale.getText(value);\n  }\n\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    each(elements, (el) => {\n      if (this.isMathItem(el, field, item)) {\n        el.setState(this.stateName, enable);\n      }\n    });\n  }\n\n  /**  */\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      //  element \n      if (isElementChange(this.context)) {\n        this.setStateByElement(element, enable);\n      }\n    } else {\n      // \n      const delegateObject = getDelegationObject(this.context);\n      // \n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (item && component && !this.isItemIgnore(item, component)) {\n          const event = this.context.event.gEvent;\n          // \n          if (event && event.fromShape && event.toShape && getItem(event.fromShape) === getItem(event.toShape)) {\n            return;\n          }\n          this.setStateByComponent(component, item, enable);\n        }\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = element.hasState(this.stateName);\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementState;\n","import StateAction from './state';\n\n/**\n *  active  Action active\n * @class\n * @ignore\n */\nclass ElementActive extends StateAction {\n  protected stateName: string = 'active';\n  /**\n   * Active Element\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementActive;\n","import Action from '../base';\nimport { getCurrentElement, getElementValue, getElementsByField } from '../util';\nimport Element from '../../../geometry/element/';\nimport { deepMix, each, isFunction } from '@antv/util';\nimport { LooseObject } from '../../../interface';\nimport { IGroup, ShapeAttrs } from '../../../dependents';\n\ntype LinkActiveStyle = ShapeAttrs | ((style: ShapeAttrs, Element: Element) => ShapeAttrs);\n\n/**\n * Link Elements by color\n *\n * public element-link-by-color:link, element-link-by-color:unlink, element-link-by-color:clear\n */\nclass LinkByColor extends Action {\n  private linkGroup: IGroup;\n  private cache: LooseObject = {};\n  //  scale\n  private getColorScale(view, element) {\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return null;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0]);\n    return scale;\n  }\n  //  path\n  private getLinkPath(element: Element, nextElement: Element) {\n    const view = this.context.view;\n    const { isTransposed } = view.getCoordinate();\n    const bbox = element.shape.getCanvasBBox();\n    const nextBBox = nextElement.shape.getCanvasBBox();\n    const path = isTransposed\n      ? [\n          ['M', bbox.minX, bbox.minY],\n          ['L', nextBBox.minX, nextBBox.maxY],\n          ['L', nextBBox.maxX, nextBBox.maxY],\n          ['L', bbox.maxX, bbox.minY],\n          ['Z'],\n        ]\n      : [\n          ['M', bbox.maxX, bbox.minY],\n          ['L', nextBBox.minX, nextBBox.minY],\n          ['L', nextBBox.minX, nextBBox.maxY],\n          ['L', bbox.maxX, bbox.maxY],\n          ['Z'],\n        ];\n    return path;\n  }\n  // \n  private addLinkShape(group: IGroup, element: Element, nextElement: Element, activeStyle?: LinkActiveStyle) {\n    const style = {\n      opacity: 0.4,\n      fill: element.shape.attr('fill'),\n    };\n    group.addShape({\n      type: 'path',\n      attrs: {\n        ...deepMix({}, style, isFunction(activeStyle) ? activeStyle(style, element) : activeStyle),\n        path: this.getLinkPath(element, nextElement),\n      },\n    });\n  }\n  // \n  private linkByElement(element: Element, activeStyle?: LinkActiveStyle) {\n    const view = this.context.view;\n    const scale = this.getColorScale(view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (!this.cache[value]) {\n      const elements = getElementsByField(view, scale.field, value);\n      const linkGroup = this.linkGroup;\n      const group = linkGroup.addGroup();\n      this.cache[value] = group; // \n      const count = elements.length;\n      each(elements, (el, index) => {\n        if (index < count - 1) {\n          const nextEl = elements[index + 1];\n          this.addLinkShape(group, el, nextEl, activeStyle);\n        }\n      });\n    }\n  }\n  // \n  private removeLink(element) {\n    const scale = this.getColorScale(this.context.view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (this.cache[value]) {\n      this.cache[value].remove();\n      this.cache[value] = null;\n    }\n  }\n\n  /**\n   *  elements\n   *\n   * @usage\n   * registerInteraction('xxx', {\n   *   start: [\n   *    {\n   *      trigger: 'interval:mouseenter',\n   *      action: 'element-link-by-color:link',\n   *      arg: {\n   *        // style: { fill: 'red' }\n   *        style: (style, element) => ({ fill: 'red' })\n   *     },\n   *   },\n   *  ],\n   * });\n   */\n  public link(args?: { style: LinkActiveStyle }) {\n    const context = this.context;\n    if (!this.linkGroup) {\n      // \n      this.linkGroup = context.view.foregroundGroup.addGroup({\n        id: 'link-by-color-group',\n        capture: false,\n      });\n    }\n    const element = getCurrentElement(context);\n    if (element) {\n      this.linkByElement(element, args?.style);\n    }\n  }\n\n  /**\n   *  elements\n   */\n  public unlink() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      this.removeLink(element);\n    }\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    if (this.linkGroup) {\n      this.linkGroup.clear();\n    }\n    this.cache = {};\n  }\n\n  /**\n   * \n   */\n  destroy() {\n    super.destroy();\n    if (this.linkGroup) {\n      this.linkGroup.remove();\n    }\n  }\n}\nexport default LinkByColor;\n","import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport {\n  getElements,\n  getIntersectElements,\n  getMaskedElements,\n  getSiblingMaskElements,\n  getSilbings,\n  isInRecords,\n  isMask,\n} from '../util';\nimport StateBase from './state-base';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementRangeState extends StateBase {\n  private startPoint = null;\n  private endPoint = null;\n  private isStarted: boolean = false;\n  /**\n   *  view  siblings false \n   */\n  protected effectSiblings = false;\n  /**\n   *  element \n   */\n  protected effectByRecord = false;\n  // \n  private getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n\n  /**\n   * \n   */\n  public start() {\n    this.clear(); // \n    this.startPoint = this.getCurrentPoint();\n    this.isStarted = true;\n  }\n\n  protected getIntersectElements() {\n    let elements = null;\n    if (isMask(this.context)) {\n      elements = getMaskedElements(this.context, 10);\n    } else {\n      const startPoint = this.startPoint;\n      const endPoint = this.isStarted ? this.getCurrentPoint() : this.endPoint;\n      // \n      if (!startPoint || !endPoint) {\n        return;\n      }\n      // \n      const box = {\n        minX: Math.min(startPoint.x, endPoint.x),\n        minY: Math.min(startPoint.y, endPoint.y),\n        maxX: Math.max(startPoint.x, endPoint.x),\n        maxY: Math.max(startPoint.y, endPoint.y),\n      };\n      // this.clear(); // \n      const view = this.context.view;\n      elements = getIntersectElements(view, box);\n    }\n    return elements;\n  }\n  /**\n   * \n   */\n  public setStateEnable(enable: boolean) {\n    if (this.effectSiblings && !this.effectByRecord) {\n      this.setSiblingsState(enable);\n    } else {\n      const allElements = getElements(this.context.view);\n      const elements = this.getIntersectElements();\n      if (elements && elements.length) {\n        if (this.effectByRecord) {\n          this.setSiblingsStateByRecord(elements, enable);\n        } else {\n          this.setElementsState(elements, enable, allElements);\n        }\n      } else {\n        this.clear();\n      }\n    }\n  }\n  //  element \n  private setSiblingsStateByRecord(elements, enable) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    const records = elements.map((el) => {\n      return el.getModel().data;\n    });\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    each(siblings, (sibling) => {\n      const allElements = getElements(sibling);\n      const effectElements = allElements.filter((el) => {\n        const record = el.getModel().data;\n        return isInRecords(records, record, xFiled, yField);\n      });\n      this.setElementsState(effectElements, enable, allElements);\n    });\n  }\n\n  //  view \n  private setSiblingsState(enable: boolean) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    if (isMask(this.context)) {\n      //  mask \n      each(siblings, (sibling) => {\n        const allElements = getElements(sibling);\n        const effectElements = getSiblingMaskElements(this.context, sibling, 10);\n        if (effectElements && effectElements.length) {\n          this.setElementsState(effectElements, enable, allElements);\n        } else {\n          this.clearViewState(sibling);\n        }\n      });\n    }\n  }\n\n  protected setElementsState(elements: Element[], enable, allElements: Element[]) {\n    each(allElements, (el) => {\n      if (!elements.includes(el)) {\n        this.setElementState(el, false);\n      } else {\n        this.setElementState(el, enable);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isStarted = false;\n    this.endPoint = this.getCurrentPoint();\n  }\n\n  //  clear\n  public clear() {\n    const view = this.context.view;\n    //  siblings\n    if (this.effectSiblings) {\n      const siblings = getSilbings(view);\n      each(siblings, (sibling) => {\n        this.clearViewState(sibling);\n      });\n    } else {\n      this.clearViewState(view);\n    }\n  }\n}\n\nexport default ElementRangeState;\n","import ElementRangeState from './range-state';\n\n/**\n * @ignore\n *  Active  Action\n */\nclass ElementRangeActive extends ElementRangeState {\n  protected stateName: string = 'active';\n  /**\n   *  Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeActive;\n","import { getCurrentElement, isElementChange } from '../util';\nimport StateBase from './state-base';\n\n/**\n *  Action \n * @class\n * @ignore\n */\nclass ElementSingleState extends StateBase {\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      //  element  label  shape \n      if (!isElementChange(this.context)) {\n        return;\n      }\n      //  element \n      if (enable) {\n        this.clear();\n        this.setElementState(element, true);\n      } else if (this.hasState(element)) {\n        this.setElementState(element, false);\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = this.hasState(element); // \n      if (!hasState) {\n        this.clear();\n      }\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementSingleState;\n","import ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Element Active  Action\n */\nclass ElementSingleActive extends ElementSingleState {\n  protected stateName: string = 'active';\n  /**\n   *  Element Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleActive;\n","import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport Element from '../../../geometry/element/';\nimport { getElements } from '../util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n * @ignore\n *  highlight \n * @param view View  Chart\n */\nexport function clearHighlight(view: View) {\n  const elements = getElements(view);\n  each(elements, (el) => {\n    if (el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_ACTIVE, false);\n    }\n    if (el.hasState(STATUS_UNACTIVE)) {\n      el.setState(STATUS_UNACTIVE, false);\n    }\n  });\n}\n\ntype MatchCallback = (el: Element) => boolean;\n\n/**\n * @ignore\n *  highlight\n * @param elements \n * @param callback \n * @param enable \n */\nexport function setHighlightBy(elements: Element[], callback: MatchCallback, enable: boolean) {\n  each(elements, (el) => {\n    //  active  unactive \n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, enable);\n    } else {\n      if (el.hasState(STATUS_ACTIVE)) {\n        el.setState(STATUS_ACTIVE, false);\n      }\n      el.setState(STATUS_UNACTIVE, enable);\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport { getElements, getElementsByState } from '../util';\nimport { clearHighlight } from './highlight-util';\nimport StateAction from './state';\n\nimport { ELEMENT_STATE } from '../../../constant';\n\nexport const STATUS_UNACTIVE = ELEMENT_STATE.INACTIVE;\nexport const STATUS_ACTIVE = ELEMENT_STATE.ACTIVE;\nexport type Callback = (el) => boolean;\n\n/**\n * @ignore\n * highlight\n */\nclass ElementHighlight extends StateAction {\n  protected stateName: string = STATUS_ACTIVE;\n\n  //  highlight\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    const callback = (el) => this.isMathItem(el, field, item);\n    this.setHighlightBy(elements, callback, enable);\n  }\n\n  //  highlight\n  protected setElementHighlight(el: Element, callback: Callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else if (!el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_UNACTIVE, true);\n    }\n  }\n\n  protected setHighlightBy(elements: Element[], callback: Callback, enable: boolean) {\n    if (enable) {\n      //  highlight  element  active\n      //  active unactive\n      each(elements, (el) => {\n        this.setElementHighlight(el, callback);\n      });\n    } else {\n      //  highlight highlight\n      const activeElements = getElementsByState(this.context.view, STATUS_ACTIVE);\n      let allCancel = true;\n      //  activeElements  highlight\n      each(activeElements, (el) => {\n        if (!callback(el)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        //  activeunactive \n        this.clear();\n      } else {\n        //  highlight,  element  unactive\n        //  element \n        each(elements, (el) => {\n          if (callback(el)) {\n            if (el.hasState(STATUS_ACTIVE)) {\n              el.setState(STATUS_ACTIVE, false);\n            }\n            el.setState(STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  //  highlight\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    this.setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  public highlight() {\n    this.setState();\n  }\n\n  //  active unactive \n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementHighlight;\n","import Element from '../../../geometry/element';\nimport { Event } from '../../../chart';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementRangeState from './range-state';\n\nenum EVENTS {\n  BEFORE_HIGHLIGHT = 'element-range-highlight:beforehighlight',\n  AFTER_HIGHLIGHT = 'element-range-highlight:afterhighlight',\n  BEFORE_CLEAR = 'element-range-highlight:beforeclear',\n  AFTER_CLEAR = 'element-range-highlight:afterclear',\n}\n\nexport { EVENTS as ELEMENT_RANGE_HIGHLIGHT_EVENTS };\n\n/**\n * @ignore\n *  highlight  Action\n */\nclass ElementRangeHighlight extends ElementRangeState {\n  protected stateName: string = 'active';\n\n  //  active unactive \n  protected clearViewState(view) {\n    clearHighlight(view);\n  }\n\n  /**\n   *  highlight\n   */\n  public highlight() {\n    const { view, event } = this.context;\n    const elements = this.getIntersectElements();\n    const payload = { view, event, highlightElements: elements };\n    view.emit(EVENTS.BEFORE_HIGHLIGHT, Event.fromData(view, EVENTS.BEFORE_HIGHLIGHT, payload));\n    this.setState();\n    view.emit(EVENTS.AFTER_HIGHLIGHT, Event.fromData(view, EVENTS.AFTER_HIGHLIGHT, payload));\n  }\n\n  /**\n   * @overrider \n   */\n  public clear() {\n    const view = this.context.view;\n    view.emit(EVENTS.BEFORE_CLEAR, Event.fromData(view, EVENTS.BEFORE_CLEAR, {}));\n    super.clear();\n    view.emit(EVENTS.AFTER_CLEAR, Event.fromData(view, EVENTS.AFTER_CLEAR, {}));\n  }\n\n  protected setElementsState(elements: Element[], enable: boolean, allElements: Element[]) {\n    setHighlightBy(allElements, (el) => elements.indexOf(el) >= 0, enable);\n  }\n}\n\nexport default ElementRangeHighlight;\n","import Element from '../../../geometry/element/';\nimport { getElements, getElementValue } from '../util';\nimport Highlight from './highlight';\n\n/**\n * Highlight color\n * @ignore\n */\nclass HighlightColor extends Highlight {\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0]);\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter((el) => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n}\n\nexport default HighlightColor;\n","import Element from '../../../geometry/element/';\nimport { getElements, getElementValue, getCurrentElement } from '../util';\nimport Highlight, { STATUS_ACTIVE, STATUS_UNACTIVE, Callback } from './highlight';\n\n/**\n * Highlight x\n * @ignore\n */\nclass HighlightX extends Highlight {\n  // \n  protected setElementHighlight(el: Element, callback: Callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else {\n      el.setState(STATUS_UNACTIVE, true);\n      if (el.hasState(STATUS_ACTIVE)) {\n        el.setState(STATUS_ACTIVE, false);\n      }\n    }\n  }\n\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const scale = view.getXScale();\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter((el) => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = element.hasState(this.stateName);\n      this.setStateByElement(element, !hasState);\n    }\n  }\n}\n\nexport default HighlightX;\n","import Element from '../../../geometry/element/';\nimport { getElements } from '../util';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Element Highlight  Action\n */\nclass ElementSingleHighlight extends ElementSingleState {\n  protected stateName: string = 'active';\n\n  /**\n   * Element Highlight\n   */\n  public highlight() {\n    this.setState();\n  }\n\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  //  active unactive \n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementSingleHighlight;\n","import ElementRangeState from './range-state';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementRangeSelected extends ElementRangeState {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeSelected;\n","import StateAction from './state';\n\n/**\n * @ignore\n *  Action\n * @class\n */\nclass ElementMultipleSelected extends StateAction {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementMultipleSelected;\n","import ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementSingleSelected extends ElementSingleState {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleSelected;\n","import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element';\nimport { LooseObject } from '../../../interface';\nimport Action from '../base';\nimport { getComponents } from '../util';\nimport { getCurrentElement, getDelegationObject, getElementValue, isList, getScaleByField } from '../util';\n\n/** @ignore */\ninterface ListStateCfg {\n  componentNames: string[];\n}\n\n/**\n *  Action \n * @class\n * @ignore\n */\nclass ListState extends Action<ListStateCfg> {\n  protected stateName: string = '';\n  protected ignoreItemStates = [];\n\n  /**  */\n  protected getTriggerListInfo() {\n    const delegateObject = getDelegationObject(this.context);\n    let info: LooseObject = null;\n    if (isList(delegateObject)) {\n      info = {\n        item: delegateObject.item,\n        list: delegateObject.component,\n      };\n    }\n    return info;\n  }\n  //  Action \n  protected getAllowComponents() {\n    const view = this.context.view;\n    const components = getComponents(view);\n    const rst = [];\n    each(components, (component) => {\n      if (component.isList() && this.allowSetStateByElement(component)) {\n        rst.push(component);\n      }\n    });\n    return rst;\n  }\n\n  /**  */\n  protected hasState(list: IList, item: ListItem) {\n    return list.hasState(item, this.stateName);\n  }\n\n  /**  */\n  protected clearAllComponentsState() {\n    const components = this.getAllowComponents();\n    each(components, (component) => {\n      component.clearItemsState(this.stateName);\n    });\n  }\n\n  //  component  active scale \n  protected allowSetStateByElement(component): boolean {\n    const field = component.get('field');\n    if (!field) {\n      return false;\n    }\n    if (this.cfg && this.cfg.componentNames) {\n      const name = component.get('name');\n      //  component name\n      if (this.cfg.componentNames.indexOf(name) === -1) {\n        return false;\n      }\n    }\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    return scale && scale.isCategory;\n  }\n  // \n  private allowSetStateByItem(item: ListItem, list: IList) {\n    const ignoreStates = this.ignoreItemStates;\n    if (ignoreStates.length) {\n      const filterStates = ignoreStates.filter((state) => {\n        return list.hasState(item, state);\n      });\n      return filterStates.length === 0;\n    }\n    return true; // \n  }\n\n  //  item active\n  private setStateByElement(component, element: Element, enable: boolean) {\n    const field = component.get('field');\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    const text = scale.getText(value);\n    this.setItemsState(component, text, enable);\n  }\n\n  // \n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      // trigger by element\n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        this.setStateByElement(component, element, enable);\n      });\n    } else {\n      // \n      const delegateObject = getDelegationObject(this.context);\n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (this.allowSetStateByElement(component) && this.allowSetStateByItem(item, component)) {\n          this.setItemState(component, item, enable);\n        }\n      }\n    }\n  }\n\n  //  item \n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    const items = list.getItems();\n    each(items, (item) => {\n      if (item.name === name) {\n        this.setItemState(list, item, enable);\n      }\n    });\n  }\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    list.setItemState(item, this.stateName, enable);\n  }\n\n  /**\n   * \n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      const { list, item } = triggerInfo;\n      const enable = this.hasState(list, item);\n      this.setItemState(list, item, !enable);\n    }\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      triggerInfo.list.clearItemsState(this.stateName);\n    } else {\n      this.clearAllComponentsState();\n    }\n  }\n}\n\nexport default ListState;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @class\n * @ignore\n */\nclass ListActive extends ListState {\n  protected stateName: string = 'active';\n  /**\n   * \n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ListActive;\n","import { IList } from '@antv/component';\nimport { each } from '@antv/util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n *  Highlight \n * @param list \n * @ignore\n */\nexport function clearList(list: IList) {\n  const items = list.getItems();\n  each(items, (item) => {\n    if (list.hasState(item, STATUS_ACTIVE)) {\n      list.setItemState(item, STATUS_ACTIVE, false);\n    }\n    if (list.hasState(item, STATUS_UNACTIVE)) {\n      list.setItemState(item, STATUS_UNACTIVE, false);\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport { clearList } from './list-highlight-util';\nimport ListState from './list-state';\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\ntype MatchCallback = (item: ListItem) => boolean;\n\n/**\n * highlight Action  active  inactive \n * @class\n * @ignore\n */\nclass ListHighlight extends ListState {\n  protected stateName: string = STATUS_ACTIVE;\n  protected ignoreItemStates = ['unchecked']; //  unchecked \n  //  item.name  highlight \n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    this.setHighlightBy(list, (item) => item.name === name, enable);\n  }\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    const items = list.getItems();\n    this.setHighlightBy(list, (el) => el === item, enable);\n  }\n\n  //  highlight\n  private setHighlightBy(list: IList, callback: MatchCallback, enable: boolean) {\n    const items = list.getItems();\n    if (enable) {\n      //  highlight  Highlight \n      each(items, (item) => {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNACTIVE)) {\n            list.setItemState(item, STATUS_UNACTIVE, false);\n          }\n          list.setItemState(item, STATUS_ACTIVE, true);\n        } else if (!list.hasState(item, STATUS_ACTIVE)) {\n          list.setItemState(item, STATUS_UNACTIVE, true);\n        }\n      });\n    } else {\n      const activeItems = list.getItemsByState(STATUS_ACTIVE);\n      let allCancel = true;\n      //  activeItems \n      each(activeItems, (item) => {\n        if (!callback(item)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        this.clear();\n      } else {\n        //  highlight,  element  unactive\n        //  element \n        each(items, (item) => {\n          if (callback(item)) {\n            if (list.hasState(item, STATUS_ACTIVE)) {\n              list.setItemState(item, STATUS_ACTIVE, false);\n            }\n            list.setItemState(item, STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  /**\n   * highlight \n   */\n  public highlight() {\n    this.setState();\n  }\n\n  //  active  unactive\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      clearList(triggerInfo.list);\n    } else {\n      //  component \n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        component.clearItemsState(STATUS_ACTIVE);\n        component.clearItemsState(STATUS_UNACTIVE);\n      });\n    }\n  }\n}\n\nexport default ListHighlight;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @ignore\n */\nclass ListSelected extends ListState {\n  protected stateName: string = 'selected';\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ListSelected;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @ignore\n */\nclass ListUnchecked extends ListState {\n  protected stateName: string = 'unchecked';\n  /**\n   * \n   */\n  public unchecked() {\n    this.setState();\n  }\n}\n\nexport default ListUnchecked;\n","import { each, some } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport ListState from './list-state';\n\nconst STATUS_UNCHECKED = 'unchecked';\nconst STATUS_CHECKED = 'checked';\ntype MatchCallback = (item: ListItem) => boolean;\n\n/**\n * checked Action\n * \n * 1. toggle \n * 2. checked \n * 3. reset \n */\nclass ListChecked extends ListState {\n  protected stateName: string = STATUS_CHECKED;\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    this.setCheckedBy(list, (el) => el === item, enable);\n  }\n\n  //  checked\n  private setCheckedBy(list: IList, callback: MatchCallback, enable: boolean) {\n    const items = list.getItems();\n    if (enable) {\n      //  checked  checked \n      each(items, (item) => {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNCHECKED)) {\n            list.setItemState(item, STATUS_UNCHECKED, false);\n          }\n          list.setItemState(item, STATUS_CHECKED, true);\n        } else if (!list.hasState(item, STATUS_CHECKED)) {\n          list.setItemState(item, STATUS_UNCHECKED, true);\n        }\n      });\n    }\n  }\n\n  /**\n   * .\n   * 1.    item \n   * 2. \n   * @override\n   */\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      const { list, item } = triggerInfo;\n\n      //    unchecked status\n      const allChecked = !some(list.getItems(), (t) => list.hasState(t, STATUS_UNCHECKED));\n\n      //\n      if (allChecked || list.hasState(item, STATUS_UNCHECKED)) {\n        this.setItemState(list, item, true);\n      } else {\n        this.reset();\n      }\n    }\n  }\n\n  /**\n   * checked \n   */\n  public checked() {\n    this.setState();\n  }\n\n  /**\n   *  checked  unchecked\n   */\n  public reset() {\n    const components = this.getAllowComponents();\n    each(components, (component) => {\n      component.clearItemsState(STATUS_CHECKED);\n      component.clearItemsState(STATUS_UNCHECKED);\n    });\n  }\n}\n\nexport default ListChecked;\n","import ListState from './list-state';\n\nconst STATUS_UNCHECKED = 'unchecked';\n\nclass ListFocus extends ListState {\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item: clickedItem } = triggerInfo;\n      const items = list.getItems();\n      const checkedItems = items.filter((t) => !list.hasState(t, STATUS_UNCHECKED));\n      const uncheckedItems = items.filter((t) => list.hasState(t, STATUS_UNCHECKED));\n      const checkedItem = checkedItems[0]\n      /**\n       * 1.  checked radio, clickItem \n       * 2. \n       *    2.1  item  clickItem\n       *    2.2  item\n       * 3.  2.2\n       */\n      if (items.length === checkedItems.length) {\n        for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n      } else if (items.length - uncheckedItems.length === 1) {\n        if (checkedItem.id === clickedItem.id) {\n          for (const item of items) list.setItemState(item, STATUS_UNCHECKED, false);\n        } else {\n          for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n        }\n      } else {\n        for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n      }\n    }\n  }\n}\n\nexport default ListFocus;\n","import ListState from './list-state';\nimport { isEqual } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { HtmlTooltip } from '../../../dependents';\nimport { Point } from '../../../interface';\n\nconst STATUS_SHOW = 'showRadio';\nconst TIP_ID = 'legend-radio-tip';\n\nclass ListRadio extends ListState {\n  public show() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item } = triggerInfo;\n      list.setItemState(item, STATUS_SHOW, true);\n    }\n  }\n\n  public hide() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item } = triggerInfo;\n      list.setItemState(item, STATUS_SHOW, false);\n    }\n  }\n\n  private timeStamp: number = 0;\n  private location: Point;\n  private tooltip;\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  /**\n   *  Tooltip ()\n   * @returns\n   */\n  public showTip() {\n    const context = this.context;\n    const ev = context.event;\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    const target = this.context.event.target;\n    if (timeStamp - lastTimeStamp > 16 && target.get('name') === 'legend-item-radio') {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      this.timeStamp = timeStamp;\n      this.location = curLoc;      \n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(curLoc);\n      }\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hideTip() {\n    this.hideTooltip();\n    this.location = null;\n  }\n\n  protected showTooltip(curLoc: Point) {\n    const context = this.context;\n    const ev = context.event;\n    const target = ev.target;\n\n    if (target && target.get('tip')) {\n      if (!this.tooltip) {\n        this.renderTooltip(); // \n      }\n      //  tooltip\n      const { x: offsetX, y: offsetY } = context.view.getCanvas().get('el').getBoundingClientRect();\n      this.tooltip.update({\n        title: target.get('tip'),\n        ...curLoc,\n        x: curLoc.x + offsetX,\n        y: curLoc.y + offsetY,\n      });\n      this.tooltip.show();\n    }\n  }\n\n  protected hideTooltip() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  private renderTooltip() {\n    const tooltipStyles = {\n      [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: {\n        padding: '6px 8px',\n        transform: 'translate(-50%, -80%)',\n        background: 'rgba(0,0,0,0.75)',\n        color: '#fff',\n        'border-radius': '2px',\n        // \n        'z-index': 100,\n      },\n      [TOOLTIP_CSS_CONST.TITLE_CLASS]: {\n        'font-size': '12px',\n        'line-height': '14px',\n        'margin-bottom': 0,\n        'word-break': 'break-all',\n      }\n    };\n    if (document.getElementById(TIP_ID)) {\n      document.body.removeChild(document.getElementById(TIP_ID));\n    }\n    const tooltip = new HtmlTooltip({\n      parent: document.body,\n      // tooltip \n      region: null,\n      visible: false,\n      crosshairs: null,\n      domStyles: tooltipStyles,\n      containerId: TIP_ID,\n    });\n    tooltip.init();\n    tooltip.setCapture(false); // \n    this.tooltip = tooltip;\n  }\n}\n\nexport default ListRadio;\n","import { deepMix, each } from '@antv/util';\nimport Action from '../base';\nimport { LooseObject } from '../../../interface';\n\n/**\n * @ignore\n *  Action \n */\nabstract class MaskBase extends Action {\n  // mask \n  protected maskShape = null;\n  //  mask \n  protected points = [];\n  //  mask \n  protected starting = false;\n  // \n  protected moving = false;\n  protected preMovePoint = null;\n\n  protected shapeType = 'path';\n  // \n  protected getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n  //  mask \n  protected emitEvent(type) {\n    const eventName = `mask:${type}`;\n    const view = this.context.view;\n    const event = this.context.event;\n    view.emit(eventName, {\n      target: this.maskShape,\n      shape: this.maskShape,\n      points: this.points,\n      x: event.x,\n      y: event.y,\n    });\n  }\n\n  //  mask\n  private createMask() {\n    const view = this.context.view;\n    const maskAttrs = this.getMaskAttrs();\n    const maskShape = view.foregroundGroup.addShape({\n      type: this.shapeType,\n      name: 'mask',\n      draggable: true,\n      attrs: {\n        fill: '#C5D4EB',\n        opacity: 0.3,\n        ...maskAttrs,\n      },\n    });\n    return maskShape;\n  }\n\n  protected abstract getMaskAttrs(): LooseObject;\n\n  //  mask \n  protected getMaskPath() {\n    return [];\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (this.maskShape) {\n      this.maskShape.show();\n      this.emitEvent('show');\n    }\n  }\n\n  /**\n   * \n   */\n  public start(arg?: { maskStyle: LooseObject }) {\n    this.starting = true;\n    // \n    this.moving = false;\n    this.points = [this.getCurrentPoint()];\n    if (!this.maskShape) {\n      this.maskShape = this.createMask();\n      //  capture: falseresize \n      this.maskShape.set('capture', false);\n    }\n    this.updateMask(arg?.maskStyle);\n    this.emitEvent('start');\n  }\n\n  /**\n   * \n   */\n  public moveStart() {\n    this.moving = true;\n    this.preMovePoint = this.getCurrentPoint();\n  }\n  /**\n   *  mask\n   */\n  public move() {\n    if (!this.moving || !this.maskShape) {\n      return;\n    }\n    const currentPoint = this.getCurrentPoint();\n    const preMovePoint = this.preMovePoint;\n    const dx = currentPoint.x - preMovePoint.x;\n    const dy = currentPoint.y - preMovePoint.y;\n    const points = this.points;\n    each(points, (point) => {\n      point.x += dx;\n      point.y += dy;\n    });\n    this.updateMask();\n    this.emitEvent('change');\n    this.preMovePoint = currentPoint;\n  }\n\n  protected updateMask(maskStyle?: LooseObject) {\n    const attrs = deepMix({}, this.getMaskAttrs(), maskStyle);\n    this.maskShape.attr(attrs);\n  }\n\n  /**\n   * \n   */\n  public moveEnd() {\n    this.moving = false;\n    this.preMovePoint = null;\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.starting = false;\n    this.emitEvent('end');\n    if (this.maskShape) {\n      this.maskShape.set('capture', true);\n    }\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.maskShape) {\n      this.maskShape.hide();\n      this.emitEvent('hide');\n    }\n  }\n\n  /**\n   * \n   */\n  public resize() {\n    // \n    if (this.starting && this.maskShape) {\n      this.points.push(this.getCurrentPoint());\n      this.updateMask();\n      this.emitEvent('change');\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.points = [];\n    if (this.maskShape) {\n      this.maskShape.remove();\n    }\n    this.maskShape = null;\n    this.preMovePoint = null;\n    super.destroy();\n  }\n}\n\nexport default MaskBase;\n","import { last } from '@antv/util';\nimport { distance } from '../util';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Action\n */\nclass CircleMask extends MaskBase {\n  protected shapeType = 'circle';\n  protected getMaskAttrs() {\n    const points = this.points;\n    const currentPoint = last(this.points);\n    let r = 0;\n    let x = 0;\n    let y = 0;\n    if (points.length) {\n      const first = points[0];\n      r = distance(first, currentPoint) / 2;\n      x = (currentPoint.x + first.x) / 2;\n      y = (currentPoint.y + first.y) / 2;\n    }\n    return {\n      x,\n      y,\n      r,\n    };\n  }\n}\n\nexport default CircleMask;\n","import { head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Action\n */\nclass RectMask extends MaskBase {\n  protected shapeType = 'rect';\n  protected getRegion(): Region {\n    const points = this.points;\n    return {\n      start: head(points),\n      end: last(points),\n    };\n  }\n  // \n  protected getMaskAttrs() {\n    const { start, end } = this.getRegion();\n    const x = Math.min(start.x, end.x);\n    const y = Math.min(start.y, end.y);\n    const width = Math.abs(end.x - start.x);\n    const height = Math.abs(end.y - start.y);\n    return {\n      x,\n      y,\n      width,\n      height,\n    };\n  }\n}\n\nexport default RectMask;\n","import { clamp, head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport RectMask from './rect';\n\nfunction clampPoint(point) {\n  point.x = clamp(point.x, 0, 1);\n  point.y = clamp(point.y, 0, 1);\n}\n\n/**\n * @ignore\n */\nclass DimRect extends RectMask {\n  protected dim = 'x';\n  protected inPlot = true;\n  protected getRegion(): Region {\n    let start = null;\n    let end = null;\n    const points = this.points;\n    const dim = this.dim;\n    const coord = this.context.view.getCoordinate();\n    const normalStart = coord.invert(head(points));\n    const normalEnd = coord.invert(last(points));\n    if (this.inPlot) {\n      //  0 - 1 \n      clampPoint(normalStart);\n      clampPoint(normalEnd);\n    }\n    if (dim === 'x') {\n      // x , y \n      start = coord.convert({\n        x: normalStart.x,\n        y: 0,\n      });\n      end = coord.convert({\n        x: normalEnd.x,\n        y: 1,\n      });\n    } else {\n      // y , x \n      start = coord.convert({\n        x: 0,\n        y: normalStart.y,\n      });\n      end = coord.convert({\n        x: 1,\n        y: normalEnd.y,\n      });\n    }\n    return {\n      start,\n      end,\n    };\n  }\n}\n\nexport default DimRect;\n","import { Point, Scale } from '../../../dependents';\nimport { FilterCondition, EventPayload } from '../../../interface';\nimport { View, Event } from '../../../chart';\nimport Action from '../base';\nimport { isMask } from '../util';\n\n//  scale\nfunction getFilter(scale: Scale, dim: string, point1: Point, point2: Point): FilterCondition {\n  let min = Math.min(point1[dim], point2[dim]);\n  let max = Math.max(point1[dim], point2[dim]);\n  const [rangeMin, rangeMax] = scale.range;\n  //  scale  range \n  if (min < rangeMin) {\n    min = rangeMin;\n  }\n  if (max > rangeMax) {\n    max = rangeMax;\n  }\n  //  view  null\n  if (min === rangeMax && max === rangeMax) {\n    return null;\n  }\n  const minValue = scale.invert(min);\n  const maxValue = scale.invert(max);\n  if (scale.isCategory) {\n    const minIndex = scale.values.indexOf(minValue);\n    const maxIndex = scale.values.indexOf(maxValue);\n    const arr = scale.values.slice(minIndex, maxIndex + 1);\n    return (value) => {\n      return arr.includes(value);\n    };\n  } else {\n    return (value) => {\n      return value >= minValue && value <= maxValue;\n    };\n  }\n}\n\n/** range-filter brush-filter, brush-x-filter, brush-y-filter */\nenum EVENTS {\n  FILTER = 'brush-filter-processing',\n  RESET = 'brush-filter-reset',\n  BEFORE_FILTER = 'brush-filter:beforefilter',\n  AFTER_FILTER = 'brush-filter:afterfilter',\n  BEFORE_RESET = 'brush-filter:beforereset',\n  AFTER_RESET = 'brush-filter:afterreset',\n}\n\nexport { EVENTS as BRUSH_FILTER_EVENTS };\n\n/**\n *  Action\n * @ignore\n */\nclass RangeFilter extends Action {\n  /**  dims */\n  protected cfgFields: ['dims'];\n  /**\n   * / x, y\n   */\n  protected dims: string[] = ['x', 'y'];\n  /**  */\n  protected startPoint: Point = null;\n\n  private isStarted: boolean = false;\n\n  // x,y \n  private hasDim(dim: string) {\n    return this.dims.includes(dim);\n  }\n\n  /**\n   * \n   */\n  public start() {\n    const context = this.context;\n    this.isStarted = true;\n    this.startPoint = context.getCurrentPoint();\n  }\n\n  /**\n   * \n   */\n  public filter() {\n    let startPoint;\n    let currentPoint;\n    if (isMask(this.context)) {\n      const maskShape = this.context.event.target;\n      const bbox = maskShape.getCanvasBBox();\n      startPoint = { x: bbox.x, y: bbox.y };\n      currentPoint = { x: bbox.maxX, y: bbox.maxY };\n    } else {\n      if (!this.isStarted) {\n        // \n        return;\n      }\n      startPoint = this.startPoint;\n      currentPoint = this.context.getCurrentPoint();\n    }\n    if (Math.abs(startPoint.x - currentPoint.x) < 5 || Math.abs(startPoint.x - currentPoint.y) < 5) {\n      // \n      return;\n    }\n    const { view, event } = this.context;\n    const payload = { view, event, dims: this.dims };\n    view.emit(EVENTS.BEFORE_FILTER, Event.fromData(view, EVENTS.BEFORE_FILTER, payload));\n\n    const coord = view.getCoordinate();\n    const normalCurrent = coord.invert(currentPoint);\n    const normalStart = coord.invert(startPoint);\n    //  x  filter\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      const filter = getFilter(xScale, 'x', normalCurrent, normalStart);\n      this.filterView(view, xScale.field, filter);\n    }\n    //  y  filter\n    if (this.hasDim('y')) {\n      const yScale = view.getYScales()[0];\n      const filter = getFilter(yScale, 'y', normalCurrent, normalStart);\n      this.filterView(view, yScale.field, filter);\n    }\n    this.reRender(view, { source: EVENTS.FILTER });\n\n    view.emit(EVENTS.AFTER_FILTER, Event.fromData(view, EVENTS.AFTER_FILTER, payload));\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isStarted = false;\n  }\n\n  /**\n   *  Action  x,y\n   */\n  public reset() {\n    const view = this.context.view;\n    view.emit(EVENTS.BEFORE_RESET, Event.fromData(view, EVENTS.BEFORE_RESET, {}));\n\n    this.isStarted = false;\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      this.filterView(view, xScale.field, null); // \n    }\n    if (this.hasDim('y')) {\n      // y  yScale\n      const yScale = view.getYScales()[0];\n      this.filterView(view, yScale.field, null); // \n    }\n    this.reRender(view, { source: EVENTS.RESET });\n\n    view.emit(EVENTS.AFTER_RESET, Event.fromData(view, EVENTS.AFTER_RESET, {}));\n  }\n\n  /**\n   *  view \n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    view.filter(field, filter);\n  }\n\n  /**\n   * \n   * @param view\n   */\n  protected reRender(view: View, payload?: EventPayload) {\n    view.render(true, payload);\n  }\n}\n\nexport default RangeFilter;\n","import { each } from '@antv/util';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Path  Action\n */\nclass PathMask extends MaskBase {\n  //  mask \n  protected getMaskPath() {\n    const points = this.points;\n    const path = [];\n    if (points.length) {\n      each(points, (point, index) => {\n        if (index === 0) {\n          path.push(['M', point.x, point.y]);\n        } else {\n          path.push(['L', point.x, point.y]);\n        }\n      });\n      path.push(['L', points[0].x, points[0].y]);\n    }\n    return path;\n  }\n\n  protected getMaskAttrs() {\n    return {\n      path: this.getMaskPath(),\n    };\n  }\n\n  /**\n   * \n   */\n  public addPoint() {\n    this.resize();\n  }\n}\n\nexport default PathMask;\n","import { getSpline } from '../util';\nimport PathMask from './path';\n\n/**\n * Smooth path mask\n * @ignore\n */\nclass SmoothPathMask extends PathMask {\n  //  mask \n  protected getMaskPath() {\n    const points = this.points;\n    return getSpline(points, true);\n  }\n}\n\nexport default SmoothPathMask;\n","/**\n * @fileoverview https://www.w3school.com.cn/jsref/prop_style_cursor.asp\n * @author dxq613\n */\nimport Action from './base';\n\n/**\n *  Action\n * @ignore\n */\nclass CursorAction extends Action {\n  private setCursor(cursor) {\n    const view = this.context.view;\n    view.getCanvas().setCursor(cursor);\n  }\n\n  /**\n   * \n   */\n  public default() {\n    this.setCursor('default');\n  }\n\n  /**  */\n  public pointer() {\n    this.setCursor('pointer');\n  }\n  /**  */\n  public move() {\n    this.setCursor('move');\n  }\n  /**  */\n  public crosshair() {\n    this.setCursor('crosshair');\n  }\n  /**  */\n  public wait() {\n    this.setCursor('wait');\n  }\n\n  /**  */\n  public help() {\n    this.setCursor('help');\n  }\n\n  /**  */\n  public text() {\n    this.setCursor('text');\n  }\n\n  /**\n   * \n   */\n  public eResize() {\n    this.setCursor('e-resize');\n  }\n\n  /**\n   * \n   */\n  public wResize() {\n    this.setCursor('w-resize');\n  }\n\n  /**\n   * \n   */\n  public nResize() {\n    this.setCursor('n-resize');\n  }\n\n  /**\n   * \n   */\n  public sResize() {\n    this.setCursor('s-resize');\n  }\n  /**\n   *  \n   */\n  public neResize() {\n    this.setCursor('ne-resize');\n  }\n  /**\n   *  \n   */\n  public nwResize() {\n    this.setCursor('nw-resize');\n  }\n  /**\n   * \n   */\n  public seResize() {\n    this.setCursor('se-resize');\n  }\n  /**\n   * \n   */\n  public swResize() {\n    this.setCursor('sw-resize');\n  }\n\n  /**\n   * \n   */\n  public nsResize() {\n    this.setCursor('ns-resize');\n  }\n  /**\n   * \n   */\n  public ewResize() {\n    this.setCursor('ew-resize');\n  }\n}\n\nexport default CursorAction;\n","import { each } from '@antv/util';\nimport { View } from 'src/chart';\nimport Action from '../base';\nimport { getDelegationObject, getScaleByField, isList, isSlider } from '../util';\n\n/**\n * \n * @ignore\n */\nclass DataFilter extends Action {\n  private filterView(view: View, field, filter) {\n    //  scale \n    if (view.getScaleByField(field)) {\n      view.filter(field, filter);\n    }\n    if (view.views && view.views.length) {\n      each(view.views, (subView) => {\n        this.filterView(subView, field, filter);\n      });\n    }\n  }\n  /**\n   * \n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    if (delegateObject) {\n      const view = this.context.view;\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // \n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names: string[] = unCheckedItems.map((item) => item.name);\n          if (names.length) {\n            this.filterView(view, field, (value) => {\n              const text = scale.getText(value);\n              return !names.includes(text);\n            });\n          } else {\n            this.filterView(view, field, null);\n          }\n          view.render(true);\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        this.filterView(view, field, (value) => {\n          return value >= min && value <= max;\n        });\n        view.render(true);\n      }\n    }\n  }\n}\n\nexport default DataFilter;\n","import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport { FilterCondition } from '../../../interface';\nimport RangeFilter from './range-filter';\n\nimport { getSilbings } from '../util';\n\n/**\n *  view  view  views \n * @ignore\n */\nclass SiblingFilter extends RangeFilter {\n  /**\n   *  view \n   * @param view\n   * @param field\n   * @param filter\n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.filter(field, filter);\n    });\n  }\n\n  /**\n   * \n   * @param view\n   */\n  protected reRender(view: View) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.render(true);\n    });\n  }\n}\n\nexport default SiblingFilter;\n","import { each } from '@antv/util';\nimport Action from '../base';\nimport {\n  getDelegationObject,\n  getElements,\n  getElementValue,\n  getScaleByField,\n  isList,\n  isSlider,\n  isMask,\n  getMaskedElements,\n} from '../util';\n/**\n *  Action\n * @ignore\n */\nclass ElementFilter extends Action {\n  /**\n   * \n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    const view = this.context.view;\n    const elements = getElements(view);\n    if (isMask(this.context)) {\n      const maskElements = getMaskedElements(this.context, 10);\n      if (maskElements) {\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    } else if (delegateObject) {\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // \n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names = unCheckedItems.map((item) => item.name);\n          // \n          each(elements, (el) => {\n            const value = getElementValue(el, field);\n            const text = scale.getText(value);\n            if (names.indexOf(text) >= 0) {\n              el.hide();\n            } else {\n              el.show();\n            }\n          });\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        each(elements, (el) => {\n          const value = getElementValue(el, field);\n          if (value >= min && value <= max) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    }\n  }\n  /**\n   * \n   */\n  public clear() {\n    const elements = getElements(this.context.view);\n    each(elements, (el) => {\n      el.show();\n    });\n  }\n\n  /**\n   *  data-filter \n   */\n  public reset() {\n    this.clear();\n  }\n}\n\nexport default ElementFilter;\n","import { each } from '@antv/util';\nimport Action from '../base';\nimport { getElements, getMaskedElements, getSiblingMaskElements, getSilbings, isInRecords, isMask } from '../util';\n\n/**\n * Sibling filter\n * @ignore\n */\nclass SiblingFilter extends Action {\n  protected byRecord = false;\n  /**\n   * \n   */\n  public filter() {\n    //  mask \n    if (isMask(this.context)) {\n      if (this.byRecord) {\n        this.filterByRecord();\n      } else {\n        this.filterByBBox();\n      }\n    }\n  }\n  // \n  private filterByRecord() {\n    const view = this.context.view;\n    const maskElements = getMaskedElements(this.context, 10);\n    if (!maskElements) {\n      return;\n    }\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    const records = maskElements.map((el) => {\n      return el.getModel().data;\n    });\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const elements = getElements(sibling);\n      each(elements, (el) => {\n        const record = el.getModel().data;\n        // records.includes(record) \n        if (isInRecords(records, record, xFiled, yField)) {\n          el.show();\n        } else {\n          el.hide();\n        }\n      });\n    });\n  }\n\n  // \n  private filterByBBox() {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const maskElements = getSiblingMaskElements(this.context, sibling, 10);\n      const elements = getElements(sibling);\n      if (maskElements) {\n        // mask  null\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    const siblings = getSilbings(this.context.view);\n    each(siblings, (sibling) => {\n      const elements = getElements(sibling);\n      each(elements, (el) => {\n        el.show();\n      });\n    });\n  }\n}\n\nexport default SiblingFilter;\n","import { LooseObject } from '../../../interface';\nimport { IGroup } from '@antv/g-base';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport { parsePadding } from '../../../util/padding';\nimport Action from '../base';\nconst PADDING_RIGHT = 10;\nconst PADDING_TOP = 5;\n\n/**\n * Button action\n * @ignore\n */\nclass ButtonAction extends Action {\n  private buttonGroup: IGroup = null;\n  private buttonCfg = {\n    name: 'button',\n    text: 'button',\n    textStyle: {\n      x: 0,\n      y: 0,\n      fontSize: 12,\n      fill: '#333333',\n      cursor: 'pointer',\n    },\n    padding: [8, 10],\n    style: {\n      fill: '#f7f7f7',\n      stroke: '#cccccc',\n      cursor: 'pointer',\n    },\n    activeStyle: {\n      fill: '#e6e6e6',\n    },\n  };\n  // mix \n  private getButtonCfg(): LooseObject {\n    return deepMix(this.buttonCfg, this.cfg);\n  }\n  //  Button  \n  private drawButton() {\n    const config = this.getButtonCfg();\n    const group = this.context.view.foregroundGroup.addGroup({\n      name: config.name,\n    });\n    // \n    const textShape = group.addShape({\n      type: 'text',\n      name: 'button-text',\n      attrs: {\n        text: config.text,\n        ...config.textStyle,\n      },\n    });\n    const textBBox = textShape.getBBox();\n    const padding = parsePadding(config.padding);\n    // \n    const buttonShape = group.addShape({\n      type: 'rect',\n      name: 'button-rect',\n      attrs: {\n        x: textBBox.x - padding[3],\n        y: textBBox.y - padding[0],\n        width: textBBox.width + padding[1] + padding[3],\n        height: textBBox.height + padding[0] + padding[2],\n        ...config.style,\n      },\n    });\n    buttonShape.toBack(); // \n    // active \n    group.on('mouseenter', () => {\n      buttonShape.attr(config.activeStyle);\n    });\n    group.on('mouseleave', () => {\n      buttonShape.attr(config.style);\n    });\n    this.buttonGroup = group;\n  }\n\n  // \n  private resetPosition() {\n    const view = this.context.view;\n    const coord = view.getCoordinate();\n    const point = coord.convert({ x: 1, y: 1 }); // \n    const buttonGroup = this.buttonGroup;\n    const bbox = buttonGroup.getBBox();\n    const matrix = ext.transform(null, [\n      ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n    ]);\n    buttonGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (!this.buttonGroup) {\n      this.drawButton();\n    }\n    this.resetPosition();\n    this.buttonGroup.show();\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.buttonGroup) {\n      this.buttonGroup.hide();\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    const buttonGroup = this.buttonGroup;\n    if (buttonGroup) {\n      buttonGroup.remove();\n    }\n    super.destroy();\n  }\n}\n\nexport default ButtonAction;\n","import { Point } from '../../../dependents';\nimport Action from '../base';\nimport { distance } from '../util';\n\nconst DISTANCE = 4; // \n\n/**\n * @ignore\n * View  Drag  Action\n */\nclass Drag extends Action {\n  // Action  \n  protected starting = false;\n  // \n  protected dragStart = false;\n  // \n  protected startPoint: Point;\n\n  /**\n   * \n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n  }\n\n  /**\n   * \n   */\n  public drag() {\n    if (!this.startPoint) {\n      return;\n    }\n    const current = this.context.getCurrentPoint();\n    const view = this.context.view;\n    const event = this.context.event;\n    if (!this.dragStart) {\n      if (distance(current, this.startPoint) > DISTANCE) {\n        view.emit('dragstart', {\n          target: event.target,\n          x: event.x,\n          y: event.y,\n        });\n        this.dragStart = true;\n      }\n    } else {\n      view.emit('drag', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    if (this.dragStart) {\n      const view = this.context.view;\n      const event = this.context.event;\n      view.emit('dragend', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n    this.starting = false;\n    this.dragStart = false;\n  }\n}\n\nexport default Drag;\n","import { ext } from '@antv/matrix-util';\nimport { Action } from '..';\nimport { distance } from '../util';\n\nconst MIN_DISTANCE = 5;\n\n/**\n * @ignore\n * View  Action\n */\nclass Move extends Action {\n  private starting = false;\n  private isMoving = false;\n  // private cacheRange = null;\n  private startPoint = null;\n  private startMatrix = null;\n  /**\n   * \n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n    // \n    this.startMatrix = this.context.view.middleGroup.getMatrix();\n  }\n\n  /**\n   * \n   */\n  public move() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const currentPoint = this.context.getCurrentPoint();\n    const d = distance(startPoint, currentPoint);\n    if (d > MIN_DISTANCE && !this.isMoving) {\n      this.isMoving = true;\n    }\n    if (this.isMoving) {\n      const view = this.context.view;\n      const matrix = ext.transform(this.startMatrix, [\n        ['t', currentPoint.x - startPoint.x, currentPoint.y - startPoint.y],\n      ]);\n      view.backgroundGroup.setMatrix(matrix);\n      view.foregroundGroup.setMatrix(matrix);\n      view.middleGroup.setMatrix(matrix);\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    if (this.isMoving) {\n      this.isMoving = false;\n    }\n    this.startMatrix = null;\n    this.starting = false;\n    this.startPoint = null;\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.starting = false;\n    this.startPoint = null;\n    this.isMoving = false;\n\n    const view = this.context.view;\n    view.backgroundGroup.resetMatrix();\n    view.foregroundGroup.resetMatrix();\n    view.middleGroup.resetMatrix();\n    this.isMoving = false;\n  }\n}\n\nexport default Move;\n","import { Action } from '..';\n\nconst DIM_X = 'x';\nconst DIM_Y = 'y';\n\n/**\n * Scale translate\n * @ignore\n */\nclass ScaleTranslate extends Action {\n  protected dims = [DIM_X, DIM_Y];\n  protected cfgFields = ['dims'];\n  protected cacheScaleDefs = {};\n\n  // \n  protected hasDim(dim) {\n    return this.dims.includes(dim);\n  }\n\n  protected getScale(dim) {\n    const view = this.context.view;\n    if (dim === 'x') {\n      return view.getXScale();\n    } else {\n      return view.getYScales()[0];\n    }\n  }\n\n  private resetDim(dim) {\n    const view = this.context.view;\n    if (this.hasDim(dim) && this.cacheScaleDefs[dim]) {\n      const scale = this.getScale(dim);\n      view.scale(scale.field, this.cacheScaleDefs[dim]);\n      this.cacheScaleDefs[dim] = null;\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.resetDim(DIM_X);\n    this.resetDim(DIM_Y);\n    const view = this.context.view;\n    view.render(true);\n  }\n}\n\nexport default ScaleTranslate;\n","import { each } from '@antv/util';\nimport { Point } from '../../../dependents';\nimport TransformAction from './scale-transform';\n\n/**\n *  Scale  Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  protected startPoint: Point = null;\n  protected starting = false;\n  private startCache = {};\n  /**\n   * \n   */\n  public start() {\n    this.startPoint = this.context.getCurrentPoint();\n    this.starting = true;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      const scale = this.getScale(dim);\n      const { min, max, values } = scale;\n      this.startCache[dim] = { min, max, values };\n    });\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * \n   */\n  public end() {\n    this.startPoint = null;\n    this.starting = false;\n    this.startCache = {};\n  }\n\n  /**\n   * \n   */\n  public translate() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const coord = this.context.view.getCoordinate();\n    const currentPoint = this.context.getCurrentPoint();\n    const normalStart = coord.invert(startPoint);\n    const noramlCurrent = coord.invert(currentPoint);\n    const dx = noramlCurrent.x - normalStart.x;\n    const dy = noramlCurrent.y - normalStart.y;\n    const view = this.context.view;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.translateDim(dim, { x: dx * -1, y: dy * -1 });\n    });\n    view.render(true);\n  }\n\n  // \n  private translateDim(dim, normalPoint) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.translateLinear(dim, scale, normalPoint);\n      }\n      //  else { // \n      // this.translateCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear \n  private translateLinear(dim, scale, normalPoint) {\n    const view = this.context.view;\n    const { min, max } = this.startCache[dim];\n    const range = max - min;\n    const d = normalPoint[dim] * range;\n    // \n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min,\n        max,\n      };\n    }\n    view.scale(scale.field, {\n      // @ts-ignore\n      nice: false,\n      min: min + d,\n      max: max + d,\n    });\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * \n   */\n  public reset() {\n    super.reset();\n    this.startPoint = null;\n    this.starting = false;\n  }\n}\n\nexport default ScaleTranslate;\n","import { each, throttle } from '@antv/util';\nimport TransformAction from './scale-transform';\n\n/**\n *  Scale  Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  private zoomRatio = 0.05;\n  /**\n   * \n   */\n  public zoomIn() {\n    this.zoom(this.zoomRatio);\n  }\n\n  private zoom(scale) {\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.zoomDim(dim, scale);\n    });\n    this.context.view.render(true);\n  }\n\n  /**\n   * \n   */\n  public zoomOut() {\n    this.zoom(-1 * this.zoomRatio);\n  }\n\n  // \n  private zoomDim(dim, dRatio) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.zoomLinear(dim, scale, dRatio);\n      }\n      //  else { // \n      // this.zoomCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear \n  private zoomLinear(dim, scale, dRatio) {\n    const view = this.context.view;\n    // \n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min: scale.min,\n        max: scale.max,\n      };\n    }\n    // \n    const scaleDef = this.cacheScaleDefs[dim];\n    const range = scaleDef.max - scaleDef.min;\n    const { min, max } = scale;\n    const d = dRatio * range;\n    const toMin = min - d;\n    const toMax = max + d;\n    const curRange = toMax - toMin;\n    const scaled = curRange / range;\n    if (toMax > toMin && scaled < 100 && scaled > 0.01) {\n      view.scale(scale.field, {\n        // @ts-ignore\n        nice: false,\n        min: min - d,\n        max: max + d,\n      });\n    }\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n}\n\nexport default ScaleTranslate;\n","import { clamp, size, valuesOfKey } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../../constant';\nimport { Action } from '..';\nimport { LooseObject } from '../../../interface';\n\nfunction isWheelDown(event: LooseObject) {\n  const wheelEvent = event.gEvent.originalEvent as WheelEvent;\n  return wheelEvent.deltaY > 0;\n}\n\nconst DEFAULT_WHEELDELTA = 1;\nclass MousewheelScroll extends Action {\n  public scroll(arg?) {\n    const { view, event } = this.context;\n\n    if (!view.getOptions().scrollbar) {\n      return;\n    }\n\n    const wheelDelta = arg?.wheelDelta || DEFAULT_WHEELDELTA;\n    const scrollbarController = view.getController('scrollbar');\n\n    const xScale = view.getXScale();\n    const data = view.getOptions().data;\n    const dataSize = size(valuesOfKey(data, xScale.field));\n    const step = size(xScale.values);\n\n    const currentRatio = scrollbarController.getValue();\n    const currentStart = Math.floor((dataSize - step) * currentRatio);\n\n    const nextStart = currentStart + (isWheelDown(event) ? wheelDelta : -wheelDelta);\n    const correction = wheelDelta / (dataSize - step) / 10000;\n    const nextRatio = clamp(nextStart / (dataSize - step) + correction, 0, 1);\n    scrollbarController.setValue(nextRatio);\n  }\n}\n\nexport default MousewheelScroll;\n","/**\n * Simplified from https://github.com/zertosh/invariant.\n */\n\nexport enum LEVEL {\n  ERROR = 'error',\n  WARN = 'warn',\n  INFO = 'log',\n}\n\nconst BRAND = 'AntV/G2Plot';\n\n/**\n * \n * @param format\n * @param args\n */\nfunction getMessage(format: string, ...args: any[]): string {\n  let argIndex = 0;\n  return `${BRAND}: ${format.replace(/%s/g, (): string => `${args[argIndex++]}`)}`;\n}\n\n/**\n * invariant error\n * @param condition\n * @param format\n * @param args\n */\nexport function invariant(condition: boolean, format: string, ...args: any[]): void {\n  if (!condition) {\n    const error = new Error(getMessage(format, ...args));\n    error.name = BRAND;\n    // error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\n/**\n * \n * @param level\n * @param condition\n * @param format\n * @param args\n */\nexport function log(level: LEVEL, condition: boolean, format, ...args: any[]): void {\n  if (!condition) {\n    console[level](getMessage(format, ...args));\n  }\n}\n","import { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { deepMix } from '@antv/util';\nimport { HtmlTooltip } from '../../../../dependents';\nimport Action from '../../base';\nimport { getDelegationObject } from '../../util';\nimport cx from 'classnames';\n\nconst AXIS_DESCRIPTION_TOOLTIP = 'aixs-description-tooltip';\n\nclass AxisDescription extends Action {\n  private tooltip;\n\n  public show() {\n    const context = this.context;\n    const { axis } = getDelegationObject(context);\n    const { description, text, descriptionTooltipStyle } = axis.cfg.title;\n    const { x, y } = context.event;\n    if (!this.tooltip) {\n      this.renderTooltip();\n    }\n    this.tooltip.update({\n      title: text || '',\n      customContent: () => {\n        return `\n          <div class=\"${TOOLTIP_CSS_CONST.CONTAINER_CLASS}\" style={${descriptionTooltipStyle}}>\n            <div class=\"${TOOLTIP_CSS_CONST.TITLE_CLASS}\">\n              ${description}\n            </div>\n          </div>\n        `;\n      },\n      x,\n      y,\n    });\n    this.tooltip.show();\n  }\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  public hide() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  public renderTooltip() {\n    const view = this.context.view;\n    const canvas = view.canvas;\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      visible: false,\n      containerId: AXIS_DESCRIPTION_TOOLTIP,\n      domStyles: {\n        ...deepMix(\n          {},\n          {\n            // tooltip tip  50%\n            [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: {\n              'max-width': '50%',\n              padding: '10px',\n              'line-height': '15px',\n              'font-size': '12px',\n              color: 'rgba(0, 0, 0, .65)',\n            },\n            [TOOLTIP_CSS_CONST.TITLE_CLASS]: {\n              'word-break': 'break-all',\n              'margin-bottom': '3px',\n            },\n          }\n        ),\n      },\n    });\n    tooltip.init();\n    tooltip.setCapture(false);\n    this.tooltip = tooltip;\n  }\n}\nexport default AxisDescription;\n","type FlowFunction<P> = (param: P) => P;\n\n/**\n *  lodash.flow \n * @param flows\n */\nexport function flow<P>(...flows: FlowFunction<P>[]): FlowFunction<P> {\n  return (param: P) => {\n    return flows.reduce((result: P, f: FlowFunction<P>) => {\n      return f(result);\n    }, param);\n  };\n}\n","/**\n *  lodash.pick \n * @param obj\n * @param keys\n */\nexport function pick(obj: any, keys: string[]): object {\n  const r = {};\n\n  if (obj !== null && typeof obj === 'object') {\n    keys.forEach((key: string) => {\n      const v = obj[key];\n      if (v !== undefined) {\n        r[key] = v;\n      }\n    });\n  }\n  return r;\n}\n","import { reduce } from '@antv/util';\n/**\n * \n * template('hello, {name}', { name: 'AntV' }); // hello, AntV\n * @param string\n * @param options\n */\nexport function template(source: string, data?: object): string {\n  if (!data) {\n    return source;\n  }\n  return reduce(\n    // @ts-ignore\n    data,\n    (r: string, v: string, k: string) => r.replace(new RegExp(`{\\\\s*${k}\\\\s*}`, 'g'), v),\n    source\n  );\n}\n","import { Size } from '../types';\n\n/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nexport function getContainerSize(ele: HTMLElement): Size {\n  if (!ele) {\n    return { width: 0, height: 0 };\n  }\n  const style = getComputedStyle(ele);\n\n  return {\n    width:\n      (ele.clientWidth || parseInt(style.width, 10)) -\n      parseInt(style.paddingLeft, 10) -\n      parseInt(style.paddingRight, 10),\n    height:\n      (ele.clientHeight || parseInt(style.height, 10)) -\n      parseInt(style.paddingTop, 10) -\n      parseInt(style.paddingBottom, 10),\n  };\n}\n","import { Geometry, View, Element } from '@antv/g2';\nimport { reduce, get } from '@antv/util';\n\n/**\n *  View  type  geometry\n * @param view\n * @param type\n */\nexport function findGeometry(view: View, type: string): Geometry {\n  return view.geometries.find((g: Geometry) => g.type === type);\n}\n\n/**\n *  View   elements\n */\nexport function getAllElements(view: View): Element[] {\n  return reduce(\n    view.geometries,\n    (r: Element[], geometry: Geometry) => {\n      return r.concat(geometry.elements);\n    },\n    []\n  );\n}\n\n/**\n *  View   elements,  View  View\n */\nexport function getAllElementsRecursively(view: View): Element[] {\n  if (get(view, ['views', 'length'], 0) <= 0) {\n    return getAllElements(view);\n  }\n\n  return reduce(\n    view.views,\n    (ele: Element[], subView: View) => {\n      return ele.concat(getAllElementsRecursively(subView));\n    },\n    getAllElements(view)\n  );\n}\n\n/**\n *  View   geometries,  View  View\n */\nexport function getAllGeometriesRecursively(view: View): Geometry[] {\n  if (get(view, ['views', 'length'], 0) <= 0) {\n    return view.geometries;\n  }\n\n  return reduce(\n    view.views,\n    (ele: Geometry[], subView: View) => {\n      return ele.concat(subView.geometries);\n    },\n    view.geometries\n  );\n}\n","import { View } from '@antv/g2';\n\n/**\n *  Chart  id  View\n * @param chart\n * @param id\n */\nexport function findViewById(chart: View, id: string): View {\n  return chart.views.find((view: View) => view.id === id);\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getViews(view: View): View[] {\n  const parent = view.parent;\n  return parent ? parent.views : [];\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getSiblingViews(view: View): View[] {\n  return getViews(view).filter((sub) => sub !== view);\n}\n","import { isType } from '@antv/util';\n/**\n *  v1 label formatter\n * @param labelOptions\n */\nexport function transformLabel(labelOptions: any) {\n  if (!isType(labelOptions, 'Object')) {\n    return labelOptions;\n  }\n  const label = { ...labelOptions };\n  if (label.formatter && !label.content) {\n    label.content = label.formatter;\n  }\n  return label;\n}\n","import { vec2 } from '@antv/matrix-util';\nimport { Position, Point } from '../types/common';\n\nexport function points2Path(points: Point[], isInCircle: boolean) {\n  const path = [];\n  if (points.length) {\n    path.push(['M', points[0].x, points[0].y]);\n    for (let i = 1, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      path.push(['L', item.x, item.y]);\n    }\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n  return path;\n}\n\n/**\n * @ignore\n * \n */\nexport const smoothBezier = (\n  points: Position[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: Position[]\n): Position[] => {\n  const cps = [];\n  let prevPoint: Position;\n  let nextPoint: Position;\n  const hasConstraint = !!constraint;\n  let min: Position;\n  let max: Position;\n  if (hasConstraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vec2.min([0, 0], min, point) as [number, number];\n      max = vec2.max([0, 0], max, point) as [number, number];\n    }\n    min = vec2.min([0, 0], min, constraint[0]) as [number, number];\n    max = vec2.max([0, 0], max, constraint[1]) as [number, number];\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isLoop) {\n      prevPoint = points[i ? i - 1 : len - 1];\n      nextPoint = points[(i + 1) % len];\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push(point);\n        continue;\n      } else {\n        prevPoint = points[i - 1];\n        nextPoint = points[i + 1];\n      }\n    }\n    let v: [number, number] = [0, 0];\n    v = vec2.sub(v, nextPoint, prevPoint) as [number, number];\n    v = vec2.scale(v, v, smooth) as [number, number];\n\n    let d0 = vec2.distance(point, prevPoint);\n    let d1 = vec2.distance(point, nextPoint);\n\n    const sum = d0 + d1;\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n\n    const v1 = vec2.scale([0, 0], v, -d0);\n    const v2 = vec2.scale([0, 0], v, d1);\n\n    let cp0 = vec2.add([0, 0], point, v1);\n    let cp1 = vec2.add([0, 0], point, v2);\n\n    if (hasConstraint) {\n      cp0 = vec2.max([0, 0], cp0, min);\n      cp0 = vec2.min([0, 0], cp0, max);\n      cp1 = vec2.max([0, 0], cp1, min);\n      cp1 = vec2.min([0, 0], cp1, max);\n    }\n\n    cps.push(cp0);\n    cps.push(cp1);\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n  return cps;\n};\n\n/**\n * @ignore\n * \n */\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: Position[]) {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: Position;\n  let cp2: Position;\n  let p: Position;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n/**\n * @ignore\n * \n */\nexport function getSplinePath(points: Point[], isInCircle?: boolean, constaint?: Position[]) {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // \n    return points2Path(points, isInCircle);\n  }\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  }\n  const constraint = constaint || [\n    // \n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n","const MAX_MIX_LEVEL = 5; // \n\nconst toString = {}.toString;\n\n// \nconst isType = (value: any, type: string): boolean => toString.call(value) === '[object ' + type + ']';\n\nconst isArray = (value: any): value is Array<any> => {\n  return isType(value, 'Array');\n};\n\nconst isObjectLike = (value: any): value is object => {\n  /**\n   * isObjectLike({}) => true\n   * isObjectLike([1, 2, 3]) => true\n   * isObjectLike(Function) => false\n   */\n  return typeof value === 'object' && value !== null;\n};\n\nconst isPlainObject = (value: any): value is object => {\n  /**\n   * isObjectLike(new Foo) => false\n   * isObjectLike([1, 2, 3]) => false\n   * isObjectLike({ x: 0, y: 0 }) => true\n   */\n  if (!isObjectLike(value) || !isType(value, 'Object')) {\n    return false;\n  }\n  let proto = value;\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n  return Object.getPrototypeOf(value) === proto;\n};\n\n/***\n * @param {any} dist\n * @param {any} src\n * @param {number} level \n * @param {number} maxLevel \n */\nconst deep = (dist, src, level?, maxLevel?) => {\n  level = level || 0;\n  maxLevel = maxLevel || MAX_MIX_LEVEL;\n  for (const key in src) {\n    if (Object.prototype.hasOwnProperty.call(src, key)) {\n      const value = src[key];\n      if (!value) {\n        // null  undefined \n        dist[key] = value;\n      } else {\n        if (isPlainObject(value)) {\n          if (!isPlainObject(dist[key])) {\n            dist[key] = {};\n          }\n          if (level < maxLevel) {\n            deep(dist[key], value, level + 1, maxLevel);\n          } else {\n            // \n            dist[key] = src[key];\n          }\n        } else if (isArray(value)) {\n          dist[key] = [];\n          dist[key] = dist[key].concat(value);\n        } else {\n          dist[key] = value;\n        }\n      }\n    }\n  }\n};\n\n/**\n * deepAssign  deepMix\n *  deepAssign  null undefined  source\n *  __tests__/unit/utils/deep-assign-spec.ts\n */\nexport const deepAssign = (rst: any, ...args: any[]) => {\n  for (let i = 0; i < args.length; i += 1) {\n    deep(rst, args[i]);\n  }\n  return rst;\n};\n","/**\n * @desc simple kebabCase like lodash\n *\n * kebabCase('fooBar'); => 'foo-bar'\n */\nexport function kebabCase(word: string) {\n  if (!word) {\n    return word;\n  }\n  const result = word.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);\n  return result.map((s: string) => s.toLowerCase()).join('-');\n}\n","import { View, IGroup } from '@antv/g2';\nimport { each, get, isNumber, isFunction, isString } from '@antv/util';\nimport { Datum, ShapeStyle, Statistic, StatisticText } from '../types';\nimport { pick, kebabCase } from '.';\n\n/**\n * @desc  html-statistic  style  ( canvas  shapeStyle  css)\n *\n * @param width\n * @param style\n */\nexport function adapteStyle(style?: StatisticText['style']): object {\n  const styleObject = {\n    overflow: 'hidden',\n    'white-space': 'nowrap',\n    'text-overflow': 'ellipsis',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  };\n\n  const shapeStyleKeys = [\n    'stroke',\n    'lineWidth',\n    'shadowColor',\n    'strokeOpacity',\n    'shadowBlur',\n    'shadowOffsetX',\n    'shadowOffsetY',\n    'fill',\n  ];\n\n  //  shapeStyle   start\n  if (get(style, 'fill')) {\n    styleObject['color'] = style['fill'];\n  }\n  const {\n    shadowColor,\n    shadowBlur = 0,\n    shadowOffsetX = 0,\n    shadowOffsetY = 0,\n  } = pick(style, shapeStyleKeys) as ShapeStyle;\n  styleObject['text-shadow'] = `${[shadowColor, `${shadowOffsetX}px`, `${shadowOffsetY}px`, `${shadowBlur}px`].join(\n    ' '\n  )}`;\n\n  const { stroke, lineWidth = 0 } = pick(style, shapeStyleKeys) as ShapeStyle;\n  styleObject['-webkit-text-stroke'] = `${[`${lineWidth}px`, stroke].join(' ')}`;\n  //  shapeStyle   end\n\n  each(style, (v, k) => {\n    //   shapeStyle  fontSize \n    if (['fontSize'].includes(k) && isNumber(v)) {\n      styleObject[kebabCase(k)] = `${v}px`;\n    } else if (k && !shapeStyleKeys.includes(k)) {\n      styleObject[kebabCase(k)] = `${v}`;\n    }\n  });\n\n  return styleObject;\n}\n\n/**\n * @desc  html-statistic \n *\n * - \n */\nexport function setStatisticContainerStyle(container: HTMLElement, style: Partial<CSSStyleDeclaration>) {\n  container.style['pointer-events'] = 'none';\n  each(style, (v, k) => {\n    if (k && v) {\n      container.style[k] = v;\n    }\n  });\n}\n\n/**\n *  html-annotation position  [50%, 50%]\n * @param chart\n * @param options\n * @param meta \n * @param {optional} datum \n */\nexport const renderStatistic = (chart: View, options: { statistic: Statistic; plotType: string }, datum?: Datum) => {\n  const { statistic, plotType } = options;\n  const { title: titleOpt, content: contentOpt } = statistic;\n\n  [titleOpt, contentOpt].forEach((option, idx) => {\n    if (!option) {\n      return;\n    }\n    let transform = '';\n    if (idx === 0) {\n      transform = contentOpt ? 'translate(-50%, -100%)' : 'translate(-50%, -50%)';\n    } else {\n      transform = titleOpt ? 'translate(-50%, 0)' : 'translate(-50%, -50%)';\n    }\n    const style = isFunction(option.style) ? option.style(datum) : option.style;\n\n    chart.annotation().html({\n      position: ['50%', '50%'],\n      html: (container, view) => {\n        const coordinate = view.getCoordinate();\n        let containerW = 0;\n        if (plotType === 'pie' || plotType === 'ring-progress') {\n          containerW = coordinate.getRadius() * coordinate.innerRadius * 2;\n        } else if (plotType === 'liquid') {\n          const liquidShape = get(view.geometries, [0, 'elements', 0, 'shape']);\n          if (liquidShape) {\n            // \n            const path = (liquidShape as IGroup).find((t) => t.get('name') === 'wrap');\n            const { width } = path.getCanvasBBox();\n            containerW = width;\n          }\n        } else if (!containerW) {\n          // \n          containerW = coordinate.getWidth();\n        }\n        setStatisticContainerStyle(container, {\n          width: `${containerW}px`,\n          transform,\n          // user's style setting has high priority\n          ...adapteStyle(style),\n        });\n\n        const filteredData = view.getData();\n        if (option.customHtml) {\n          return option.customHtml(container, view, datum, filteredData);\n        }\n\n        let text = option.content;\n        if (option.formatter) {\n          text = option.formatter(datum, filteredData);\n        }\n        // todo G2  & G2  number\n        return text ? (isString(text) ? text : `${text}`) : '<div></div>';\n      },\n      // @ts-ignore\n      key: `${idx === 0 ? 'top' : 'bottom'}-statistic`,\n      ...pick(option, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']) /**  */,\n    });\n  });\n};\n\n/**\n *  html-annotation for gauge ( plot),  position  [50%, 100%]\n * @param chart\n * @param options\n * @param meta \n * @param {optional} datum \n */\nexport const renderGaugeStatistic = (chart: View, options: { statistic: Statistic }, datum?: Datum) => {\n  const { statistic } = options;\n  const { title: titleOpt, content: contentOpt } = statistic;\n\n  [titleOpt, contentOpt].forEach((option) => {\n    if (!option) {\n      return;\n    }\n    const style = isFunction(option.style) ? option.style(datum) : option.style;\n    chart.annotation().html({\n      position: ['50%', '100%'],\n      html: (container, view) => {\n        const coordinate = view.getCoordinate();\n        // \n        const polarCoord = view.views[0].getCoordinate();\n        const polarCenter = polarCoord.getCenter();\n        const polarRadius = polarCoord.getRadius();\n        const polarMaxY = Math.max(Math.sin(polarCoord.startAngle), Math.sin(polarCoord.endAngle)) * polarRadius;\n        const offsetY = polarCenter.y + polarMaxY - coordinate.y.start - parseFloat(get(style, 'fontSize', 0));\n\n        const containerWidth = coordinate.getRadius() * coordinate.innerRadius * 2;\n        setStatisticContainerStyle(container, {\n          width: `${containerWidth}px`,\n          transform: `translate(-50%, ${offsetY}px)`,\n          // user's style setting has high priority\n          ...adapteStyle(style),\n        });\n\n        const filteredData = view.getData();\n        if (option.customHtml) {\n          return option.customHtml(container, view, datum, filteredData);\n        }\n\n        let text = option.content;\n        if (option.formatter) {\n          text = option.formatter(datum, filteredData);\n        }\n\n        // todo G2  & G2  number\n        return text ? (isString(text) ? text : `${text}`) : '<div></div>';\n      },\n      ...pick(option, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']) /**  */,\n    });\n  });\n};\n","let ctx: CanvasRenderingContext2D;\n\n/**\n *  canvas context\n */\nexport function getCanvasContext() {\n  if (!ctx) {\n    ctx = document.createElement('canvas').getContext('2d');\n  }\n\n  return ctx;\n}\n","import { isString, memoize, values } from '@antv/util';\nimport { getCanvasContext } from './context';\n\n/**\n * \n * @param text \n * @param font \n */\nexport const measureTextWidth = memoize(\n  (text: string, font: any = {}): number => {\n    const { fontSize, fontFamily = 'sans-serif', fontWeight, fontStyle, fontVariant } = font;\n    const ctx = getCanvasContext();\n    // @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/font\n    ctx.font = [fontStyle, fontWeight, fontVariant, `${fontSize}px`, fontFamily].join(' ');\n    const metrics = ctx.measureText(isString(text) ? text : '');\n    return metrics.width;\n  },\n  (text: string, font = {}) => [text, ...values(font)].join('')\n);\n","/**\n * \n * @param v\n */\nexport function isRealNumber(v: any) {\n  return typeof v === 'number' && !isNaN(v);\n}\n\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value: number, start: number, end: number): boolean {\n  const min = Math.min(start, end);\n  const max = Math.max(start, end);\n\n  return value >= min && value <= max;\n}\n","import { get, isNumber, filter } from '@antv/util';\nimport { Data, Datum, Meta, Options } from '../types';\nimport { Node, NodeLinkData } from '../types/relation-data';\nimport { LEVEL, log } from './invariant';\nimport { pick } from './pick';\n\n/**\n * \n * @param data\n * @param field\n */\nexport function adjustYMetaByZero(data: Data, field: string): Meta {\n  if (!data) return {};\n  // \n  const numberData = data.filter((datum: Datum) => {\n    const v = get(datum, [field]);\n    return isNumber(v) && !isNaN(v);\n  });\n\n  const gtZero = numberData.every((datum: Datum) => get(datum, [field]) >= 0);\n  const ltZero = numberData.every((datum: Datum) => get(datum, [field]) <= 0);\n\n  //  { min: 0, max: undefined }  update({ max: 0 })  { min: 0, max: 0 }\n  if (gtZero) {\n    return { min: 0 };\n  }\n  if (ltZero) {\n    return { max: 0 };\n  }\n  return {};\n}\n\n/**\n * \n * @param data\n * @param sourceField\n * @param targetField\n * @param weightField\n * @param rawFields \n */\nexport function transformDataToNodeLinkData(\n  data: Data,\n  sourceField: string,\n  targetField: string,\n  weightField: string,\n  rawFields: string[] = []\n): NodeLinkData {\n  if (!Array.isArray(data)) {\n    return {\n      nodes: [],\n      links: [],\n    };\n  }\n\n  //   const nodes = [];\n  const links = [];\n  // \n  const nodesMap: Record<string, Node> = {};\n  let nodesIndex = -1;\n  //  chord layout \n  data.forEach((datum: Datum) => {\n    const source = datum[sourceField];\n    const target = datum[targetField];\n    const weight = datum[weightField];\n\n    const rawData = pick(datum, rawFields);\n\n    // source node\n    if (!nodesMap[source]) {\n      nodesMap[source] = {\n        id: ++nodesIndex,\n        name: source,\n        ...rawData,\n      };\n    }\n    if (!nodesMap[target]) {\n      nodesMap[target] = {\n        id: ++nodesIndex,\n        name: target,\n        ...rawData,\n      };\n    }\n    // links\n    links.push({\n      source: nodesMap[source].id,\n      target: nodesMap[target].id,\n      // sourceName: source,\n      // targetName: target,\n      value: weight,\n      ...rawData,\n    });\n  });\n  return {\n    //  id \n    nodes: Object.values(nodesMap).sort((a, b) => a.id - b.id),\n    links,\n  };\n}\n\n/**\n * (   NaN null)\n * @param data\n * @param angleField\n */\nexport function processIllegalData(data: Options['data'], field: string) {\n  const processData = filter(data, (d) => {\n    const v = d[field];\n    return v === null || (typeof v === 'number' && !isNaN(v));\n  });\n\n  // \n  log(LEVEL.WARN, processData.length === data.length, 'illegal data existed in chart data.');\n\n  return processData;\n}\n","import { Types } from '@antv/g2';\nimport { isNumber, isArray } from '@antv/util';\n\n/**\n *  padding \n * @param padding\n */\nexport function normalPadding(padding: number | number[] | 'auto'): [number, number, number, number] {\n  if (isNumber(padding)) {\n    return [padding, padding, padding, padding];\n  }\n  if (isArray(padding)) {\n    const length = padding.length;\n\n    if (length === 1) {\n      return [padding[0], padding[0], padding[0], padding[0]];\n    }\n    if (length === 2) {\n      return [padding[0], padding[1], padding[0], padding[1]];\n    }\n    if (length === 3) {\n      return [padding[0], padding[1], padding[2], padding[1]];\n    }\n    if (length === 4) {\n      return padding as [number, number, number, number];\n    }\n  }\n\n  return [0, 0, 0, 0];\n}\n\n/**\n *  appendPadding\n */\nexport function getAdjustAppendPadding(padding: Types.ViewAppendPadding, position = 'bottom', append = 25) {\n  const currentAppendPadding = normalPadding(padding);\n\n  const PADDING = [\n    position.startsWith('top') ? append : 0,\n    position.startsWith('right') ? append : 0,\n    position.startsWith('bottom') ? append : 0,\n    position.startsWith('left') ? append : 0,\n  ];\n  return [\n    currentAppendPadding[0] + PADDING[0],\n    currentAppendPadding[1] + PADDING[1],\n    currentAppendPadding[2] + PADDING[2],\n    currentAppendPadding[3] + PADDING[3],\n  ];\n}\n\n/**\n *  padding  appendPadding  padding\n * @param array\n */\nexport function resolveAllPadding(paddings: Types.ViewPadding[]) {\n  //  padding  normal\n  const normalPaddings = paddings.map((item) => normalPadding(item));\n  let finalPadding = [0, 0, 0, 0];\n  if (normalPaddings.length > 0) {\n    finalPadding = finalPadding.map((item, index) => {\n      //  padding \n      normalPaddings.forEach((d, i) => {\n        item += normalPaddings[i][index];\n      });\n      return item;\n    });\n  }\n  return finalPadding;\n}\n","import { each } from '@antv/util';\n/**\n * @file ...\n */\nexport const GLOBAL = {\n  /**  */\n  locale: 'en-US',\n};\n\n/**\n * \n * @param key\n * @param value\n */\nexport function setGlobal(datum: Record<string, any>): void {\n  each(datum, (v, k) => (GLOBAL[k] = v));\n}\n","import { get } from '@antv/util';\nimport { Locale } from '../types/locale';\nimport { template } from '../utils';\nimport { GLOBAL } from './global';\n\nconst LocaleMap = {};\n\n/**\n * register a locale\n * @param locale\n * @param localeObj\n */\nexport function registerLocale(locale: string, localeObj: Locale) {\n  LocaleMap[locale] = localeObj;\n}\n\n/**\n * get locale of specific language\n * @param lang\n * @returns\n */\nexport function getLocale(locale: string) {\n  return {\n    get: (key: string | string[], obj?: Record<string, any>) => {\n      return template(\n        get(LocaleMap[locale], key) || get(LocaleMap[GLOBAL.locale], key) || get(LocaleMap['en-US'], key) || key,\n        obj\n      );\n    },\n  };\n}\n","import { Locale } from '../types/locale';\n\nexport const EN_US_LOCALE: Locale = {\n  locale: 'en-US',\n\n  // General\n  general: {\n    increase: 'Increase',\n    decrease: 'Decrease',\n    root: 'Root',\n  },\n\n  // Plot Components\n  /** statistic text component */\n  statistic: {\n    total: 'Total',\n  },\n  /** conversionTag component */\n  conversionTag: {\n    label: 'Rate',\n  },\n  legend: {},\n  tooltip: {},\n  slider: {},\n  scrollbar: {},\n\n  // Plots\n  waterfall: {\n    total: 'Total',\n  },\n};\n","import { Locale } from '../types/locale';\n\nexport const ZH_CN_LOCALE: Locale = {\n  locale: 'zh-CN',\n\n  // \n  general: {\n    increase: '',\n    decrease: '',\n    root: '',\n  },\n\n  // \n  /**  */\n  statistic: {\n    total: '',\n  },\n  /**  */\n  conversionTag: {\n    label: '',\n  },\n  legend: {},\n  tooltip: {},\n  slider: {},\n  scrollbar: {},\n\n  // \n  waterfall: {\n    total: '',\n  },\n};\n","import { Chart, Event, Element, View } from '@antv/g2';\nimport { each } from '@antv/util';\nimport EE from '@antv/event-emitter';\nimport { bind } from 'size-sensor';\nimport { Options, StateName, StateCondition, Size, StateObject, Annotation } from '../types';\nimport { getContainerSize, getAllElementsRecursively, deepAssign, pick } from '../utils';\nimport { Adaptor } from './adaptor';\n\n/**  pick  */\nexport type PickOptions = Pick<\n  Options,\n  | 'width'\n  | 'height'\n  | 'padding'\n  | 'appendPadding'\n  | 'renderer'\n  | 'pixelRatio'\n  | 'autoFit'\n  | 'syncViewPadding'\n  | 'supportCSSTransform'\n  | 'limitInPlot'\n  | 'locale'\n  | 'defaultInteractions'\n>;\n\nconst SOURCE_ATTRIBUTE_NAME = 'data-chart-source-type';\n\n/** plot  */\nexport const PLOT_CONTAINER_OPTIONS = [\n  'padding',\n  'appendPadding',\n  'renderer',\n  'pixelRatio',\n  'syncViewPadding',\n  'supportCSSTransform',\n  'limitInPlot',\n];\n\n/**\n *  plot \n */\nexport abstract class Plot<O extends PickOptions> extends EE {\n  /**\n   *  options \n   * \n   */\n  static getDefaultOptions(): any {\n    return {\n      renderer: 'canvas',\n      xAxis: {\n        nice: true,\n        label: {\n          autoRotate: false,\n          autoHide: { type: 'equidistance', cfg: { minGap: 6 } },\n        },\n      },\n      yAxis: {\n        nice: true,\n        label: {\n          autoHide: true,\n          autoRotate: false,\n        },\n      },\n      animation: true,\n    };\n  }\n\n  /** plot  */\n  public abstract readonly type: string;\n  /** plot  schema  */\n  public options: O;\n  /** plot  dom */\n  public readonly container: HTMLElement;\n  /** G2 chart  */\n  public chart: Chart;\n  /** resizer unbind  */\n  private unbind: () => void;\n\n  constructor(container: string | HTMLElement, options: O) {\n    super();\n    this.container = typeof container === 'string' ? document.getElementById(container) : container;\n\n    this.options = deepAssign({}, this.getDefaultOptions(), options);\n\n    this.createG2();\n\n    this.bindEvents();\n  }\n\n  /**\n   *  G2 \n   */\n  private createG2() {\n    const { width, height, defaultInteractions } = this.options;\n\n    this.chart = new Chart({\n      container: this.container,\n      autoFit: false, // G2Plot  size-sensor  autoFit\n      ...this.getChartSize(width, height),\n      localRefresh: false, //  G \n      ...pick(this.options, PLOT_CONTAINER_OPTIONS),\n      defaultInteractions,\n    });\n\n    //  G2\n    this.container.setAttribute(SOURCE_ATTRIBUTE_NAME, 'G2Plot');\n  }\n\n  /**\n   *  chart  width  height\n   * @param width\n   * @param height\n   */\n  private getChartSize(width: number, height: number): Size {\n    const chartSize = getContainerSize(this.container);\n    return { width: width || chartSize.width || 400, height: height || chartSize.height || 400 };\n  }\n\n  /**\n   *  G2 \n   */\n  private bindEvents() {\n    if (this.chart) {\n      this.chart.on('*', (e: Event) => {\n        if (e?.type) {\n          this.emit(e.type, e);\n        }\n      });\n    }\n  }\n\n  /**\n   *  options \n   * \n   */\n  protected getDefaultOptions(): any {\n    return Plot.getDefaultOptions();\n  }\n\n  /**\n   *  schema adaptor\n   */\n  protected abstract getSchemaAdaptor(): Adaptor<O>;\n\n  /**\n   * \n   */\n  public render() {\n    //  G2 \n    this.chart.clear();\n    //  view  view  options  legend legend \n    //  chart  options \n    //  G2 view.clear  options  resetOptions\n    // #1684  view  custom legend\n    // @ts-ignore\n    this.chart.options = {\n      data: [],\n      animate: true,\n    };\n    this.chart.views = []; //  views\n    //  adaptor\n    this.execAdaptor();\n    // \n    this.chart.render();\n    // \n    this.bindSizeSensor();\n  }\n\n  /**\n   * : \n   * @param options\n   */\n  public update(options: Partial<O>) {\n    this.updateOption(options);\n    this.render();\n  }\n\n  /**\n   * \n   * @param options\n   */\n  protected updateOption(options: Partial<O>) {\n    this.options = deepAssign({}, this.options, options);\n  }\n\n  /**\n   * \n   * @param type  'active' | 'inactive' | 'selected' \n   * @param conditions \n   * @param status  true\n   */\n  public setState(type: StateName, condition: StateCondition, status: boolean = true) {\n    const elements = getAllElementsRecursively(this.chart);\n\n    each(elements, (ele: Element) => {\n      if (condition(ele.getData())) {\n        ele.setState(type, status);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public getStates(): StateObject[] {\n    const elements = getAllElementsRecursively(this.chart);\n\n    const stateObjects: StateObject[] = [];\n    each(elements, (element: Element) => {\n      const data = element.getData();\n      const states = element.getStates();\n      each(states, (state) => {\n        stateObjects.push({ data, state, geometry: element.geometry, element });\n      });\n    });\n\n    return stateObjects;\n  }\n\n  /**\n   * \n   * @override\n   * @param options\n   */\n  public changeData(data: any) {\n    // @ts-ignore\n    this.update({ data });\n    // TODO: \n    // this.chart.changeData(data);\n  }\n\n  /**\n   * \n   * @param width\n   * @param height\n   */\n  public changeSize(width: number, height: number) {\n    this.chart.changeSize(width, height);\n  }\n\n  /**\n   *  id \n   */\n  public addAnnotations(annotations: Annotation[], view?: View): void {\n    view = view ? view : this.chart;\n    const incoming = [...annotations];\n    const controller = view.getController('annotation');\n    const current = controller.getComponents().map((co) => co.extra);\n\n    controller.clear(true);\n    for (let i = 0; i < current.length; i++) {\n      let annotation = current[i];\n\n      const findIndex = incoming.findIndex((item) => item.id && item.id === annotation.id);\n      if (findIndex !== -1) {\n        annotation = deepAssign({}, annotation, incoming[findIndex]);\n        incoming.splice(findIndex, 1);\n      }\n      controller.annotation(annotation);\n    }\n\n    incoming.forEach((annotation) => controller.annotation(annotation));\n    view.render(true);\n  }\n\n  /**\n   *  id \n   */\n  public removeAnnotations(annotations: Array<{ id: string } & Partial<Annotation>>): void {\n    const controller = this.chart.getController('annotation');\n    const current = controller.getComponents().map((co) => co.extra);\n\n    controller.clear(true);\n    for (let i = 0; i < current.length; i++) {\n      const annotation = current[i];\n\n      if (!annotations.find((item) => item.id && item.id === annotation.id)) {\n        controller.annotation(annotation);\n      }\n    }\n\n    this.chart.render(true);\n  }\n  /**\n   * \n   */\n  public destroy() {\n    //  size-sensor \n    this.unbindSizeSensor();\n    // G2 \n    this.chart.destroy();\n    // \n    this.off();\n\n    this.container.removeAttribute(SOURCE_ATTRIBUTE_NAME);\n  }\n\n  /**\n   *  adaptor \n   */\n  protected execAdaptor() {\n    const adaptor = this.getSchemaAdaptor();\n\n    const { padding, appendPadding } = this.options;\n    //  padding\n    this.chart.padding = padding;\n    //  appendPadding\n    this.chart.appendPadding = appendPadding;\n\n    //  G2 API\n    adaptor({\n      chart: this.chart,\n      options: this.options,\n    });\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    this.chart.forceFit();\n  }\n\n  /**\n   *  dom \n   */\n  private bindSizeSensor() {\n    if (this.unbind) {\n      return;\n    }\n\n    const { autoFit = true } = this.options;\n    if (autoFit) {\n      this.unbind = bind(this.container, () => {\n        // \n        const { width, height } = getContainerSize(this.container);\n\n        //  resize \n        if (width !== this.chart.width || height !== this.chart.height) {\n          this.triggerResize();\n        }\n      });\n    }\n  }\n\n  /**\n   * \n   */\n  private unbindSizeSensor() {\n    if (this.unbind) {\n      this.unbind();\n      this.unbind = undefined;\n    }\n  }\n}\n","import { PatternCfg } from '../../types/pattern';\n\n/**\n * \n */\nexport function getPixelRatio(): number {\n  return typeof window === 'object' ? window?.devicePixelRatio : 2;\n}\n\n/**\n *  cavnas\n */\nexport function initCanvas(width: number, height: number = width): HTMLCanvasElement {\n  const canvas = document.createElement('canvas');\n\n  const pixelRatio = getPixelRatio();\n  // \n  canvas.width = width * pixelRatio;\n  canvas.height = height * pixelRatio;\n  // \n  canvas.style.width = `${width}px`;\n  canvas.style.height = `${height}px`;\n\n  const ctx = canvas.getContext('2d');\n  ctx.scale(pixelRatio, pixelRatio);\n\n  return canvas;\n}\n\n/**\n * \n *\n * @param context\n * @param cfg\n * @param width\n * @param height\n */\nexport function drawBackground(\n  context: CanvasRenderingContext2D,\n  cfg: PatternCfg,\n  width: number,\n  height: number = width\n) {\n  const { backgroundColor, opacity } = cfg;\n\n  context.globalAlpha = opacity;\n  context.fillStyle = backgroundColor;\n\n  context.beginPath();\n  context.fillRect(0, 0, width, height);\n  context.closePath();\n}\n\n/**\n * \n *\n * @param size \n * @param padding \n * @param isStagger \n * @reutrn \n */\nexport function getUnitPatternSize(size: number, padding: number, isStagger: boolean): number {\n  // , unitSize \n  const unitSize = size + padding;\n  return isStagger ? unitSize * 2 : unitSize;\n}\n\n/**\n * \n *\n * @param unitSize \n * @param isStagger \n * @reutrn  x,y \n */\nexport function getSymbolsPosition(unitSize: number, isStagger: boolean): number[][] {\n  // ,  dot\n  const symbolsPos = isStagger\n    ? [\n        [unitSize * (1 / 4), unitSize * (1 / 4)],\n        [unitSize * (3 / 4), unitSize * (3 / 4)],\n      ]\n    : [[unitSize * (1 / 2), unitSize * (1 / 2)]];\n  return symbolsPos;\n}\n\n/**\n *  pattern , \n *\n * @param pattern \n * @param dpr  \n * @param rotation \n */\nexport function transformMatrix(dpr: number, rotation: number) {\n  const radian = (rotation * Math.PI) / 180;\n  const matrix = {\n    a: Math.cos(radian) * (1 / dpr),\n    b: Math.sin(radian) * (1 / dpr),\n    c: -Math.sin(radian) * (1 / dpr),\n    d: Math.cos(radian) * (1 / dpr),\n    e: 0,\n    f: 0,\n  };\n  return matrix;\n}\n","import { DotPatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport {\n  getUnitPatternSize,\n  initCanvas,\n  drawBackground,\n  getSymbolsPosition,\n  transformMatrix,\n  getPixelRatio,\n} from './util';\n\n/**\n * dotPattern\n */\nexport const defaultDotPatternCfg = {\n  size: 6,\n  padding: 2,\n  backgroundColor: 'transparent',\n  opacity: 1,\n  rotation: 0,\n  fill: '#fff',\n  fillOpacity: 0.5,\n  stroke: 'transparent',\n  lineWidth: 0,\n  isStagger: true,\n};\n\n/**\n * \n *\n * @param context\n * @param cfg\n * @param x x\n * @param y y\n */\nexport function drawDot(context: CanvasRenderingContext2D, cfg: DotPatternCfg, x: number, y: number) {\n  const { size, fill, lineWidth, stroke, fillOpacity } = cfg;\n\n  context.beginPath();\n  context.globalAlpha = fillOpacity;\n  context.fillStyle = fill;\n  context.strokeStyle = stroke;\n  context.lineWidth = lineWidth;\n  context.arc(x, y, size / 2, 0, 2 * Math.PI, false);\n  context.fill();\n  if (lineWidth) {\n    context.stroke();\n  }\n  context.closePath();\n}\n\n/**\n *  dot pattern HTMLCanvasElement\n *\n * @param cfg\n * @returns HTMLCanvasElement\n */\nexport function createDotPattern(cfg?: DotPatternCfg): CanvasPattern {\n  const dotCfg = deepAssign({}, defaultDotPatternCfg, cfg);\n\n  const { size, padding, isStagger, rotation } = dotCfg;\n\n  //  dots\n  const unitSize = getUnitPatternSize(size, padding, isStagger);\n  const dots = getSymbolsPosition(unitSize, isStagger);\n\n  //  patternCanvas\n  const canvas = initCanvas(unitSize, unitSize);\n  const ctx = canvas.getContext('2d');\n\n  //  backgrounddots\n  drawBackground(ctx, dotCfg, unitSize);\n  for (const [x, y] of dots) {\n    drawDot(ctx, dotCfg, x, y);\n  }\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  return pattern;\n}\n","import { LinePatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport { initCanvas, drawBackground, transformMatrix, getPixelRatio } from './util';\n\n/**\n * linePattern  \n */\nexport const defaultLinePatternCfg = {\n  rotation: 45,\n  spacing: 5,\n  opacity: 1,\n  backgroundColor: 'transparent',\n  strokeOpacity: 0.5,\n  stroke: '#fff',\n  lineWidth: 2,\n};\n\n/**\n * line\n *\n * @param context canvasContext\n * @param cfg linePattern \n * @param d  path  d\n */\nexport function drawLine(context: CanvasRenderingContext2D, cfg: LinePatternCfg, d: string) {\n  const { stroke, lineWidth, strokeOpacity } = cfg;\n  const path = new Path2D(d);\n\n  context.globalAlpha = strokeOpacity;\n  context.lineCap = 'square';\n  context.strokeStyle = lineWidth ? stroke : 'transparent';\n  context.lineWidth = lineWidth;\n  context.stroke(path);\n}\n\n/**\n *  linePattern\n */\nexport function createLinePattern(cfg?: LinePatternCfg): CanvasPattern {\n  const lineCfg = deepAssign({}, defaultLinePatternCfg, cfg);\n\n  const { spacing, rotation, lineWidth } = lineCfg;\n\n  //  pattern  path  d\n  const width = spacing + lineWidth || 1;\n  const height = spacing + lineWidth || 1;\n  const d = `\n            M 0 0 L ${width} 0\n            M 0 ${height} L ${width} ${height}\n            `;\n\n  //  patternCanvas\n  const canvas = initCanvas(width, height);\n  const ctx = canvas.getContext('2d');\n\n  //  backgroundline\n  drawBackground(ctx, lineCfg, width, height);\n  drawLine(ctx, lineCfg, d);\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  //  Pattern \n  return pattern;\n}\n","import { SquarePatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport {\n  getUnitPatternSize,\n  initCanvas,\n  drawBackground,\n  getSymbolsPosition,\n  transformMatrix,\n  getPixelRatio,\n} from './util';\n\n/**\n * squarePattern  \n */\nexport const defaultSquarePatternCfg = {\n  size: 6,\n  padding: 1,\n  isStagger: true,\n  backgroundColor: 'transparent',\n  opacity: 1,\n  rotation: 0,\n  fill: '#fff',\n  fillOpacity: 0.5,\n  stroke: 'transparent',\n  lineWidth: 0,\n};\n\n/**\n * square\n *\n * @param context canvasContext\n * @param cfg squarePattern \n * @param xy square\n */\nexport function drawSquare(context: CanvasRenderingContext2D, cfg: SquarePatternCfg, x: number, y: number) {\n  const { stroke, size, fill, lineWidth, fillOpacity } = cfg;\n\n  context.globalAlpha = fillOpacity;\n  context.strokeStyle = stroke;\n  context.lineWidth = lineWidth;\n  context.fillStyle = fill;\n  // xy\n  context.strokeRect(x - size / 2, y - size / 2, size, size);\n  context.fillRect(x - size / 2, y - size / 2, size, size);\n}\n\n/**\n *  squarePattern\n */\nexport function createSquarePattern(cfg?: SquarePatternCfg): CanvasPattern {\n  const squareCfg = deepAssign({}, defaultSquarePatternCfg, cfg);\n\n  const { size, padding, isStagger, rotation } = squareCfg;\n\n  //  squares\n  const unitSize = getUnitPatternSize(size, padding, isStagger);\n  const squares = getSymbolsPosition(unitSize, isStagger); //  dots \n\n  //  patternCanvas\n  const canvas = initCanvas(unitSize, unitSize);\n  const ctx = canvas.getContext('2d');\n\n  //  backgroundsquares\n  drawBackground(ctx, squareCfg, unitSize);\n  for (const [x, y] of squares) {\n    drawSquare(ctx, squareCfg, x, y);\n  }\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  return pattern;\n}\n","import { DotPatternCfg, LinePatternCfg, SquarePatternCfg } from '../../types/pattern';\nimport { createDotPattern } from './dot';\nimport { createLinePattern } from './line';\nimport { createSquarePattern } from './square';\n\nexport type PatternOption =\n  | {\n      type: 'dot';\n      cfg?: DotPatternCfg;\n    }\n  | {\n      type: 'line';\n      cfg?: LinePatternCfg;\n    }\n  | {\n      type: 'square';\n      cfg?: SquarePatternCfg;\n    };\n\n/**\n *  CanvasPattern \n * @param options\n * @returns\n */\nexport function getCanvasPattern(options: PatternOption): CanvasPattern | undefined {\n  const { type, cfg } = options;\n\n  let pattern;\n\n  switch (type) {\n    case 'dot':\n      pattern = createDotPattern(cfg);\n      break;\n    case 'line':\n      pattern = createLinePattern(cfg);\n      break;\n    case 'square':\n      pattern = createSquarePattern(cfg);\n      break;\n    default:\n      break;\n  }\n\n  return pattern;\n}\n","import { Util } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { getCanvasPattern } from '../utils/pattern';\nimport { Params } from '../core/adaptor';\nimport { Datum, Options, StyleAttr } from '../types';\nimport { deepAssign } from '../utils';\n\n/**\n *  Pattern  options colorField/seriesField/stackField \n */\ntype OptionsRequiredInPattern = Omit<Options, 'data'>;\n\n/**\n * Pattern \n *   view \n *\n * @param key key of style property\n * @returns\n */\nexport function pattern(key: string) {\n  return <O extends OptionsRequiredInPattern = OptionsRequiredInPattern>(params: Params<O>): Params<O> => {\n    const { options, chart } = params;\n    const { pattern: patternOption } = options;\n\n    //  pattern \n    if (!patternOption) {\n      return params;\n    }\n\n    /** ~~~~~~~  ~~~~~~~ */\n\n    const style: StyleAttr = (datum?: Datum, ...args: any[]) => {\n      const { defaultColor } = chart.getTheme();\n      let color = defaultColor;\n\n      const colorAttribute = chart.geometries?.[0]?.getAttribute('color');\n      if (colorAttribute) {\n        const colorField = colorAttribute.getFields()[0];\n        const seriesValue = get(datum, colorField);\n        color = Util.getMappingValue(colorAttribute, seriesValue, colorAttribute.values?.[0] || defaultColor);\n      }\n\n      let pattern: CanvasPattern = patternOption as CanvasPattern;\n\n      // 1.  patternOption `(datum: Datum, color: string) => CanvasPattern`\n      if (typeof patternOption === 'function') {\n        pattern = patternOption.call(this, datum, color);\n      }\n\n      // 2.  pattern  CanvasPattern fill\n      if (pattern instanceof CanvasPattern === false) {\n        //  createPattern(PatternStyle)  CanvasPattern\n        pattern = getCanvasPattern(deepAssign({}, { cfg: { backgroundColor: color } }, pattern));\n      }\n\n      const styleOption = options[key] as StyleAttr;\n\n      return {\n        ...(typeof styleOption === 'function' ? styleOption.call(this, datum, ...args) : styleOption || {}),\n        fill: pattern || color,\n      };\n    };\n\n    return deepAssign({}, params, { options: { [key]: style } });\n  };\n}\n","import { Geometry, Types } from '@antv/g2';\nimport { each, isNil, isObject } from '@antv/util';\nimport { Params } from '../core/adaptor';\nimport { Options } from '../types';\nimport { Interaction } from '../types/interaction';\nimport { Transformations } from '../types/coordinate';\nimport { Axis } from '../types/axis';\nimport { AXIS_META_CONFIG_KEYS } from '../constant';\nimport { pick, deepAssign } from '../utils';\n\n/**\n *  legend ,  colorField  seriesField \n * @param params\n */\nexport function legend<O extends Pick<Options, 'legend'> & { colorField?: string; seriesField?: string }>(\n  params: Params<O>\n): Params<O> {\n  const { chart, options } = params;\n  const { legend, colorField, seriesField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (colorField || seriesField) {\n    chart.legend(colorField || seriesField, legend);\n  }\n\n  return params;\n}\n\n/**\n *  tooltip \n * @param params\n */\nexport function tooltip<O extends Pick<Options, 'tooltip'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip !== undefined) {\n    chart.tooltip(tooltip);\n  }\n\n  return params;\n}\n\n/**\n * Interaction \n * @param params\n */\nexport function interaction<O extends Pick<Options, 'interactions'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { interactions } = options;\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation<O extends Pick<Options, 'animation'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  view \n  if (typeof animation === 'boolean') {\n    chart.animate(animation);\n  } else {\n    chart.animate(true);\n  }\n\n  //  Geometry \n  each(chart.geometries, (g: Geometry) => {\n    g.animate(animation);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function theme<O extends Pick<Options, 'theme'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { theme } = options;\n\n  // \n  if (theme) {\n    chart.theme(theme);\n  }\n  return params;\n}\n\n/**\n *  state \n * @param params\n */\nexport function state<O extends Options>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { state } = options;\n\n  if (state) {\n    each(chart.geometries, (geometry: Geometry) => {\n      geometry.state(state);\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adaptor\n * @param params\n */\nexport function slider(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { slider } = options;\n\n  chart.option('slider', slider);\n\n  return params;\n}\n\n/**\n *  adaptor\n * @param params\n */\nexport function scrollbar(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { scrollbar } = options;\n\n  chart.option('scrollbar', scrollbar);\n\n  return params;\n}\n\n/**\n * scale  adaptor\n * @param axes\n */\nexport function scale(axes: Record<string, Axis>, meta?: Options['meta']) {\n  return function <O extends Pick<Options, 'meta'>>(params: Params<O>): Params<O> {\n    const { chart, options } = params;\n\n    // 1.  scale \n    let scales: Record<string, any> = {};\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n\n    // 2. meta  scale \n    scales = deepAssign({}, meta, options.meta, scales);\n\n    chart.scale(scales);\n\n    return params;\n  };\n}\n\n/**\n * annotation \n * @param params\n */\nexport function annotation(annotationOptions?: Options['annotations']) {\n  return function <O extends Pick<Options, 'annotations'>>(params: Params<O>): Params<O> {\n    const { chart, options } = params;\n\n    const annotationController = chart.getController('annotation');\n\n    /**  annotation */\n    each([...(options.annotations || []), ...(annotationOptions || [])], (annotationOption) => {\n      // @ts-ignore\n      annotationController.annotation(annotationOption);\n    });\n\n    return params;\n  };\n}\n\n/**\n *  limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { yAxis, limitInPlot } = options;\n\n  let value = limitInPlot;\n\n  //  limitInPlot yAxis  min/max  limitInPlot\n  if (isObject(yAxis) && isNil(limitInPlot)) {\n    if (Object.values(pick(yAxis, ['min', 'max', 'minLimit', 'maxLimit'])).some((value) => !isNil(value))) {\n      value = true;\n    } else {\n      value = false;\n    }\n  }\n  chart.limitInPlot = value;\n\n  return params;\n}\n\n/**\n * \n */\nexport function transformations(coordinateType: Types.CoordinateOption['type'] = 'rect') {\n  return (params: Params<Options & { coordinate: Transformations }>) => {\n    const { chart, options } = params;\n    const { coordinate } = options;\n\n    const actions: Types.CoordinateActions[] = Array.from(coordinate || [])\n      .map((cfg) => {\n        if (cfg.type === 'reflectX') return ['reflect', 'x'] as Types.CoordinateActions;\n        if (cfg.type === 'reflectY') return ['reflect', 'y'] as Types.CoordinateActions;\n        if (cfg.type === 'transpose') return ['transpose'] as Types.CoordinateActions;\n\n        return null;\n      })\n      .filter((d) => !!d);\n\n    if (actions.length !== 0) {\n      chart.coordinate({ type: coordinateType, actions });\n    }\n\n    return params;\n  };\n}\n\nexport { pattern } from './pattern';\n","import { get } from '@antv/util';\nimport { Tooltip, TooltipMapping } from '../types/tooltip';\n\n/**\n *  tooltip \n * @param tooltip\n * @param defaultFields\n */\nexport function getTooltipMapping(tooltip: Tooltip, defaultFields: string[]): TooltipMapping {\n  if (tooltip === false) {\n    return {\n      fields: false, //  tooltip\n    };\n  }\n\n  let fields = get(tooltip, 'fields');\n  const formatter = get(tooltip, 'formatter');\n\n  if (formatter && !fields) {\n    fields = defaultFields;\n  }\n\n  return {\n    fields,\n    formatter,\n  };\n}\n","import { uniq, isFunction, isObject, isString, isNumber, isEmpty } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { ColorAttr, ShapeAttr, SizeAttr, StyleAttr, TooltipAttr, Options, Datum } from '../../types';\nimport { Label } from '../../types/label';\nimport { State } from '../../types/state';\nimport { transformLabel } from '../../utils';\n\n/**\n * \n */\nexport type MappingOptions = {\n  /** color  */\n  readonly color?: ColorAttr;\n  /** shape  */\n  readonly shape?: ShapeAttr;\n  /** ,  */\n  readonly size?: SizeAttr;\n  /**  */\n  readonly style?: StyleAttr;\n  /** tooltip  */\n  readonly tooltip?: TooltipAttr;\n};\n\n/**\n * \n * // TODO  adjust  field  styleFieldlabelField \n */\nexport type Geometry = {\n  /** geometry , 'line' | 'interval' | 'point' | 'area' | 'polygon' */\n  readonly type?: string;\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly colorField?: string;\n  /** shape  */\n  readonly shapeField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** style  */\n  readonly styleField?: string;\n  /** tooltip  */\n  readonly tooltipFields?: string[] | false;\n  /** ,  mapping  */\n  readonly rawFields?: string[];\n  /**  */\n  readonly mapping?: MappingOptions;\n  /** label  */\n  readonly label?: Label;\n  /**  */\n  readonly state?: State;\n  /**  registerShape  */\n  readonly customInfo?: any;\n  /** geometry params */\n  readonly args?: any;\n};\n\n/**\n * geometry options\n */\nexport type GeometryOptions = Geometry & Partial<Options>;\n\n/**\n * \n * @param options\n * @param field\n */\nexport function getMappingField(\n  o: GeometryOptions,\n  field: 'color' | 'shape' | 'size' | 'style'\n): {\n  mappingFields: string[];\n  tileMappingField: string;\n} {\n  const { type, xField, yField, colorField, shapeField, sizeField, styleField, rawFields = [] } = o;\n\n  let fields = [];\n\n  //  color  bar  widthRatio \n  //  color  colorField  + rawFields\n  // shape, size \n  if (field === 'color') {\n    fields = [colorField || xField, ...rawFields];\n  } else if (field === 'shape') {\n    fields = [shapeField || xField, ...rawFields];\n  } else if (field === 'size') {\n    fields = [sizeField || xField, ...rawFields];\n  } else {\n    fields = [xField, yField, colorField, shapeField, sizeField, styleField, ...rawFields];\n\n    // \n    const idx = ['x', 'y', 'color', 'shape', 'size', 'style'].indexOf(field);\n\n    const f = fields[idx];\n    // \n    fields.splice(idx, 1);\n    // \n    fields.unshift(f);\n  }\n\n  const mappingFields = uniq(fields.filter((f) => !!f));\n  /**\n   *  line geometry  color \n   * eg:\n   *   geometry.color(xField, ()=> '#f24')\n   */\n  const tileMappingField =\n    type === 'line' && [xField, yField].includes(mappingFields.join('*')) ? '' : mappingFields.join('*');\n  return {\n    mappingFields,\n    tileMappingField,\n  };\n}\n\n/**\n * \n * @param mappingFields\n * @param func\n */\nexport function getMappingFunction(mappingFields: string[], func: (datum: Datum) => any) {\n  if (!func) return undefined;\n  // \n  return (...args: any[]) => {\n    const params: Datum = {};\n\n    mappingFields.forEach((f: string, idx: number) => {\n      params[f] = args[idx];\n    });\n\n    //  undefined\n    delete params['undefined'];\n\n    return func(params);\n  };\n}\n\n/**\n *  geometry  adaptor\n * @param params\n */\nexport function geometry<O extends GeometryOptions>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const {\n    type,\n    args,\n    mapping,\n    xField,\n    yField,\n    colorField,\n    shapeField,\n    sizeField,\n    tooltipFields,\n    label,\n    state,\n    customInfo,\n  } = options;\n\n  //  mapping \n  if (!mapping) {\n    return params;\n  }\n\n  const { color, shape, size, style, tooltip } = mapping;\n\n  //  geometry\n  const geometry = chart[type](args).position(`${xField}*${yField}`);\n\n  /**\n   * color \n   * g.color('red');\n   * g.color('color', ['red', 'blue']);\n   * g.color('x', (x, y) => 'red');\n   * g.color('color', (color, x, y) => 'red');\n   */\n  if (isString(color)) {\n    colorField ? geometry.color(colorField, color) : geometry.color(color);\n  } else if (isFunction(color)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'color');\n    geometry.color(tileMappingField, getMappingFunction(mappingFields, color));\n  } else {\n    colorField && geometry.color(colorField, color);\n  }\n\n  /**\n   * shape \n   * g.shape('rect');\n   * g.shape('shape', ['rect', 'circle']);\n   * g.shape('x*y', (x, y) => 'rect');\n   * g.shape('shape*x*y', (shape, x, y) => 'rect');\n   */\n  if (isString(shape)) {\n    shapeField ? geometry.shape(shapeField, [shape]) : geometry.shape(shape); // [shape]  G2 \n  } else if (isFunction(shape)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'shape');\n    geometry.shape(tileMappingField, getMappingFunction(mappingFields, shape));\n  } else {\n    shapeField && geometry.shape(shapeField, shape);\n  }\n\n  /**\n   * size \n   * g.size(10);\n   * g.size('size', [10, 20]);\n   * g.size('x*y', (x, y) => 10);\n   * g.color('size*x*y', (size, x, y) => 1-);\n   */\n  if (isNumber(size)) {\n    sizeField ? geometry.size(sizeField, size) : geometry.size(size);\n  } else if (isFunction(size)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'size');\n    geometry.size(tileMappingField, getMappingFunction(mappingFields, size));\n  } else {\n    sizeField && geometry.size(sizeField, size);\n  }\n\n  /**\n   * style \n   * g.style({ fill: 'red' });\n   * g.style('x*y*color', (x, y, color) => ({ fill: 'red' }));\n   */\n  if (isFunction(style)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'style');\n    geometry.style(tileMappingField, getMappingFunction(mappingFields, style));\n  } else if (isObject(style)) {\n    geometry.style(style);\n  }\n\n  /**\n   * tooltip  API\n   * g.tooltip('x*y*color', (x, y, color) => ({ name, value }));\n   * g.tooltip(false);\n   */\n  if (tooltipFields === false) {\n    geometry.tooltip(false);\n  } else if (!isEmpty(tooltipFields)) {\n    geometry.tooltip(tooltipFields.join('*'), getMappingFunction(tooltipFields, tooltip));\n  }\n\n  /**\n   * label \n   */\n  if (label === false) {\n    geometry.label(false);\n  } else if (label) {\n    const { callback, fields, ...cfg } = label;\n    geometry.label({\n      fields: fields || [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  /**\n   * state \n   */\n  if (state) {\n    geometry.state(state);\n  }\n\n  /**\n   * \n   */\n  if (customInfo) {\n    geometry.customInfo(customInfo);\n  }\n\n  //  x y \n  [xField, yField]\n    .filter((f: string) => f !== colorField)\n    .forEach((f: string) => {\n      chart.legend(f, false);\n    });\n  return {\n    ...params,\n    // geometry adaptor  geometry  adaptor type \n    ext: { geometry },\n  };\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { GeometryOptions, geometry, MappingOptions } from './base';\n\nexport interface AreaGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /**  */\n  readonly smooth?: boolean;\n  /** area  */\n  readonly area?: MappingOptions;\n}\n\n/**\n * area geometry \n * @param params\n */\nexport function area<O extends AreaGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { area, xField, yField, seriesField, smooth, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  // \n  return area\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'area',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              shape: smooth ? 'smooth' : 'area',\n              tooltip: formatter,\n              ...area,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { deepMix } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { GeometryOptions, geometry, MappingOptions } from './base';\n\nexport interface LineGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /**  */\n  readonly smooth?: boolean;\n  /**  */\n  readonly connectNulls?: boolean;\n  /** line  */\n  readonly line?: MappingOptions;\n  /**  */\n  readonly stepType?: string;\n}\n\n/**\n * line \n * @param params\n */\nexport function line<O extends LineGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { line, stepType, xField, yField, seriesField, smooth, connectNulls, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  // \n  return line\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'line',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: deepMix(\n              {\n                shape: stepType || (smooth ? 'smooth' : 'line'),\n                tooltip: formatter,\n              },\n              line\n            ),\n            args: { connectNulls, useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface PointGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** shape  */\n  readonly shapeField?: string;\n  /** point  */\n  readonly point?: MappingOptions;\n}\n\n/**\n * point \n * @param params\n */\nexport function point<O extends PointGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { point, xField, yField, seriesField, sizeField, shapeField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField, shapeField]);\n\n  return point\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'point',\n            colorField: seriesField,\n            shapeField: shapeField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...point,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Geometry, getTheme, ShapeAttrs } from '@antv/g2';\nimport { isNil, isObject } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { GeometryOptions, MappingOptions, geometry } from './base';\n\nexport interface IntervalGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField: string;\n  /** y  */\n  readonly yField: string;\n  /**  groupFieldcolorField stackFieldcolorField  */\n  readonly seriesField?: string;\n  /**  */\n  readonly isGroup?: boolean;\n  /**  */\n  readonly isStack?: boolean;\n  /**  [0-1] */\n  readonly widthRatio?: number;\n  /** () */\n  readonly intervalPadding?: number;\n  /**  [0-1] */\n  readonly marginRatio?: number;\n  /** () */\n  readonly dodgePadding?: number;\n  /**  */\n  readonly minColumnWidth?: number;\n  /**  */\n  readonly maxColumnWidth?: number;\n  /**  */\n  readonly columnBackground?: { style: ShapeAttrs };\n  /**  colorshapesizestyletooltip */\n  readonly interval?: MappingOptions;\n  /**  seriesField , isGroup: true  groupField */\n  readonly groupField?: string;\n}\n\n/**\n *  adaptor\n * @param params\n */\nfunction otherAdaptor<O extends IntervalGeometryOptions>(params: Params<O>): Params<O> {\n  const { chart, options, ext } = params;\n  const { seriesField, isGroup, isStack, marginRatio, widthRatio, groupField, theme } = options;\n\n  /**\n   * adjust\n   */\n  const adjust = [];\n  if (seriesField) {\n    // group\n    if (isGroup) {\n      adjust.push({\n        type: 'dodge',\n        dodgeBy: groupField || seriesField,\n        marginRatio,\n      });\n    }\n    // stack\n    if (isStack) {\n      adjust.push({\n        type: 'stack',\n        marginRatio,\n      });\n    }\n  }\n\n  if (adjust.length && ext?.geometry) {\n    const g = ext?.geometry as Geometry;\n    g.adjust(adjust);\n  }\n\n  // widthRatio\n  if (!isNil(widthRatio)) {\n    chart.theme(\n      deepAssign({}, isObject(theme) ? theme : getTheme(theme), {\n        // columWidthRatio  theme \n        columnWidthRatio: widthRatio,\n      })\n    );\n  }\n\n  return params;\n}\n\nexport function interval<O extends IntervalGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const {\n    xField,\n    yField,\n    interval,\n    seriesField,\n    tooltip,\n    minColumnWidth,\n    maxColumnWidth,\n    columnBackground,\n    dodgePadding,\n    intervalPadding,\n    useDeferredLabel,\n  } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  //  interval \n  const { ext } = interval\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'interval',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...interval,\n            },\n            args: {\n              dodgePadding,\n              intervalPadding,\n              minColumnWidth,\n              maxColumnWidth,\n              background: columnBackground,\n              useDeferredLabel,\n            },\n          },\n        })\n      )\n    : params;\n\n  return otherAdaptor({\n    ...params,\n    ext,\n  });\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface PolygonGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** point  */\n  readonly polygon?: MappingOptions;\n}\n\n/**\n * polygon \n * @param params\n */\nexport function polygon<O extends PolygonGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { polygon, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return polygon\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'polygon',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...polygon,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface EdgeGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** edge  */\n  readonly edge?: MappingOptions;\n}\n\n/**\n * edge \n * @param params\n */\nexport function edge<O extends EdgeGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { edge, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return edge\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'edge',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...edge,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface SchemaGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** point  */\n  readonly schema?: MappingOptions;\n}\n\n/**\n * schema \n * @param params\n */\nexport function schema<O extends SchemaGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { schema, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return schema\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'schema',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...schema,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface ViolinGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y Y */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** violin  */\n  readonly violin?: MappingOptions;\n}\n\n/**\n * violin \n * @param params\n */\nexport function violin<O extends ViolinGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { violin, xField, yField, seriesField, sizeField, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField]);\n\n  return violin\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'violin',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...violin,\n            },\n          },\n        })\n      )\n    : params;\n}\n","import { Geometry } from '@antv/g2';\nimport { each, isArray } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport {\n  tooltip,\n  slider,\n  interaction,\n  animation,\n  theme,\n  scale,\n  annotation,\n  limitInPlot,\n  scrollbar,\n} from '../../adaptor/common';\nimport { findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { point, line, area } from '../../adaptor/geometries';\nimport { flow } from '../../utils';\nimport { adjustYMetaByZero } from '../../utils/data';\nimport { LineOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { data, color, lineStyle, lineShape, point: pointMapping, area: areaMapping, seriesField } = options;\n  const pointState = pointMapping?.state;\n  const areaState = areaMapping?.state;\n\n  chart.data(data);\n\n  // line geometry \n  const primary = deepAssign({}, params, {\n    options: {\n      shapeField: seriesField,\n      line: {\n        color,\n        style: lineStyle,\n        shape: lineShape,\n      },\n      //  tooltip \n      // \n      point: pointMapping && {\n        color,\n        shape: 'circle',\n        ...pointMapping,\n      },\n      // \n      area: areaMapping && {\n        color,\n        ...areaMapping,\n      },\n      // label  geometry adaptor label adaptor \n      label: undefined,\n    },\n  });\n  const second = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n  const areaParams = deepAssign({}, primary, { options: { tooltip: false, state: areaState } });\n\n  line(primary);\n  point(second);\n  area(areaParams);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<LineOptions>): Params<LineOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, data } = options;\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n      },\n      {\n        [xField]: {\n          type: 'cat',\n        },\n        [yField]: adjustYMetaByZero(data, yField),\n      }\n    )\n  )(params);\n}\n\n/**\n * .  reflect \n * @param params\n */\nfunction coordinate(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { reflect } = options;\n  if (reflect) {\n    let p = reflect as any;\n    if (!isArray(p)) {\n      p = [p];\n    }\n    const actions = p.map((d) => ['reflect', d]);\n\n    chart.coordinate({ type: 'rect', actions });\n  }\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend && seriesField) {\n    chart.legend(seriesField, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const lineGeometry = findGeometry(chart, 'line');\n\n  // label  false,   label\n  if (!label) {\n    lineGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    lineGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        layout: [\n          { type: 'limit-in-plot' },\n          { type: 'path-adjust-position' },\n          { type: 'point-adjust-position' },\n          { type: 'limit-in-plot', cfg: { action: 'hide' } },\n        ],\n        ...transformLabel(cfg),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adjust\n * @param params\n */\nexport function adjust(params: Params<Pick<LineOptions, 'isStack'>>): Params<any> {\n  const { chart, options } = params;\n  const { isStack } = options;\n\n  if (isStack) {\n    each(chart.geometries, (g: Geometry) => {\n      g.adjust('stack');\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<LineOptions>) {\n  // flow  G2 API\n  return flow(\n    geometry,\n    meta,\n    adjust,\n    theme,\n    coordinate,\n    axis,\n    legend,\n    tooltip,\n    label,\n    slider,\n    scrollbar,\n    interaction,\n    animation,\n    annotation(),\n    limitInPlot\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  tooltip: {\n    shared: true,\n    showMarkers: true,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'x',\n    },\n  },\n  legend: {\n    position: 'top-left',\n    radio: {},\n  },\n  isStack: false,\n});\n","import { each, findIndex } from '@antv/util';\nimport { InteractionAction, View, Geometry } from '@antv/g2';\n\nexport class MarkerActiveAction extends InteractionAction {\n  public active() {\n    const view = this.getView();\n    const evt = this.context.event;\n    if (evt.data) {\n      // items:  tooltip \n      const { items } = evt.data;\n      const points = view.geometries.filter((geom) => geom.type === 'point');\n      each(points, (point: Geometry) => {\n        each(point.elements, (element) => {\n          const active = findIndex(items, (item) => (item as any).data === element.data) !== -1;\n          element.setState('active', active);\n        });\n      });\n    }\n  }\n\n  public reset() {\n    const view = this.getView();\n    const points = view.geometries.filter((geom) => geom.type === 'point');\n    each(points, (point: Geometry) => {\n      each(point.elements, (element) => {\n        element.setState('active', false);\n      });\n    });\n  }\n\n  private getView(): View {\n    return this.context.view;\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { MarkerActiveAction } from './marker-active';\n\nregisterAction('marker-active', MarkerActiveAction);\nregisterInteraction('marker-active', {\n  start: [\n    {\n      trigger: 'tooltip:show',\n      action: 'marker-active:active',\n    },\n  ],\n  end: [\n    {\n      trigger: 'tooltip:hide',\n      action: 'marker-active:reset',\n    },\n  ],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { LineOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport './interactions';\n\nexport type { LineOptions };\n\nexport class Line extends Plot<LineOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<LineOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'line';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: LineOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Line.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<LineOptions> {\n    return adaptor;\n  }\n}\n","import { map, reduce } from '@antv/util';\nimport { Data, Datum } from '../../types';\nimport { isRealNumber } from '../number';\n\n/**\n * \n * @param data\n * @param measure\n * @param groupField\n * @param as\n */\nexport function percent(data: Data, measure: string, groupField: string, as: string) {\n  // 1.  max \n  const sumMap = reduce(\n    data,\n    (map, datum: Datum) => {\n      const groupValue = datum[groupField];\n      let sum = map.has(groupValue) ? map.get(groupValue) : 0;\n\n      const v = datum[measure];\n\n      sum = isRealNumber(v) ? sum + v : sum;\n      map.set(groupValue, sum);\n\n      return map;\n    },\n    new Map<string, number>()\n  );\n\n  // 2. \n  return map(data, (datum: Datum) => {\n    const v = datum[measure];\n    const groupValue = datum[groupField];\n    const percentage = isRealNumber(v) && sumMap.get(groupValue) !== 0 ? v / sumMap.get(groupValue) : 0;\n\n    return {\n      ...datum,\n      [as]: percentage,\n    };\n  });\n}\n\n/**\n * \n * @param data\n * @param measure  // \n * @param fields //  field\n * @param as // percent \n */\nexport function getDeepPercent(data: Record<string, any>[], measure: string, fields: string[], percent: string) {\n  const sumMap = reduce(\n    data,\n    (map, datum: Datum) => {\n      // key\n      const groupValue = reduce(fields, (value, field) => `${value}${datum[field]}`, '');\n\n      let sum = map.has(groupValue) ? map.get(groupValue) : 0;\n\n      const v = datum[measure];\n\n      sum = isRealNumber(v) ? sum + v : sum;\n      map.set(groupValue, sum);\n\n      return map;\n    },\n    new Map<string, number>()\n  );\n\n  // 2. \n  return map(data, (datum: Datum) => {\n    const v = datum[measure];\n    // key\n    const groupValue = reduce(fields, (value, field) => `${value}${datum[field]}`, '');\n\n    const percentage = isRealNumber(v) && sumMap.get(groupValue) !== 0 ? v / sumMap.get(groupValue) : 0;\n\n    return {\n      ...datum,\n      [percent]: percentage,\n    };\n  });\n}\n\n/**\n *  ()\n * @param isPercent \n */\nexport function getDataWhetherPercentage(\n  data: Record<string, any>[],\n  yField: string,\n  groupField: string,\n  asField: string,\n  isPercent?: boolean\n) {\n  return !isPercent ? data : percent(data, yField, groupField, asField);\n}\n","import { Geometry } from '@antv/g2';\nimport { each, omit } from '@antv/util';\nimport {\n  tooltip,\n  slider,\n  interaction,\n  animation,\n  theme,\n  annotation,\n  limitInPlot,\n  pattern,\n  transformations,\n} from '../../adaptor/common';\nimport { findGeometry } from '../../utils';\nimport { Params } from '../../core/adaptor';\nimport { area, point, line } from '../../adaptor/geometries';\nimport { flow, transformLabel, deepAssign } from '../../utils';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { Datum } from '../../types';\nimport { meta, legend, axis } from '../line/adaptor';\nimport { AreaOptions } from './types';\n\nexport { meta };\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    areaStyle,\n    color,\n    point: pointMapping,\n    line: lineMapping,\n    isPercent,\n    xField,\n    yField,\n    tooltip,\n    seriesField,\n    startOnZero,\n  } = options;\n  const pointState = pointMapping?.state;\n\n  const chartData = getDataWhetherPercentage(data, yField, xField, yField, isPercent);\n  chart.data(chartData);\n  //  % , \n  const tooltipOptions = isPercent\n    ? {\n        formatter: (datum: Datum) => ({\n          name: datum[seriesField] || datum[xField],\n          value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n        }),\n        ...tooltip,\n      }\n    : tooltip;\n  const primary = deepAssign({}, params, {\n    options: {\n      area: { color, style: areaStyle },\n      point: pointMapping && {\n        color,\n        ...pointMapping,\n      },\n      tooltip: tooltipOptions,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n      args: {\n        startOnZero,\n      },\n    },\n  });\n  //  2px ( state fill  stroke )\n  const lineParams = {\n    chart,\n    options: deepAssign({ line: { size: 2 } }, omit(options as any, ['state']), {\n      //  tooltip \n      // \n      line: lineMapping && {\n        color,\n        ...lineMapping,\n      },\n      sizeField: seriesField,\n      state: lineMapping?.state,\n      tooltip: false,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n      args: {\n        startOnZero,\n      },\n    }),\n  };\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  // area geometry \n  area(primary);\n  line(lineParams);\n  point(pointParams);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const areaGeometry = findGeometry(chart, 'area');\n\n  // label  false,   label\n  if (!label) {\n    areaGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    areaGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        layout: [\n          { type: 'limit-in-plot' },\n          { type: 'path-adjust-position' },\n          { type: 'point-adjust-position' },\n          { type: 'limit-in-plot', cfg: { action: 'hide' } },\n        ],\n        ...transformLabel(cfg),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adjust\n * @param params\n */\nfunction adjust(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const { isStack, isPercent, seriesField } = options;\n  if ((isPercent || isStack) && seriesField) {\n    each(chart.geometries, (g: Geometry) => {\n      g.adjust('stack');\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<AreaOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('areaStyle'),\n    transformations('rect'),\n    geometry,\n    meta,\n    adjust,\n    axis,\n    legend,\n    tooltip,\n    label,\n    slider,\n    annotation(),\n    interaction,\n    animation,\n    limitInPlot\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  tooltip: {\n    shared: true,\n    showMarkers: true,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'x',\n    },\n  },\n  isStack: true,\n  // \n  line: {},\n  legend: {\n    position: 'top-left',\n    radio: {},\n  },\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { AreaOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { AreaOptions };\n\nexport class Area extends Plot<AreaOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<AreaOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'area';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Area.getDefaultOptions();\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: AreaOptions['data']) {\n    this.updateOption({ data });\n    const { isPercent, xField, yField } = this.options;\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(getDataWhetherPercentage(data, yField, xField, yField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<AreaOptions> {\n    return adaptor;\n  }\n}\n","import { isNumber } from '@antv/util';\n/**\n * \n * @param prev\n * @param next\n */\nexport function conversionTagFormatter(prev: number, next: number): string {\n  if (!isNumber(prev) || !isNumber(next)) {\n    return '-';\n  }\n\n  if (prev === next) {\n    return '100%';\n  }\n  if (prev === 0) {\n    return '';\n  }\n  if (next === 0) {\n    return '-';\n  }\n\n  return `${((100 * next) / prev).toFixed(2)}%`;\n}\n","import { map, find, each, isObject } from '@antv/util';\nimport { Coordinate, IGroup, ShapeAttrs, Element, Geometry, View, getTheme } from '@antv/g2';\nimport { Params } from '../core/adaptor';\nimport { deepAssign } from '../utils';\nimport { conversionTagFormatter } from '../utils/conversion';\nimport { Options } from '../types';\n\n/**  */\nexport interface ConversionTagOptions {\n  /** tag  */\n  size?: number;\n  /** tag  */\n  spacing?: number;\n  /** tag  */\n  offset?: number;\n  /**  */\n  arrow?:\n    | {\n        /**  */\n        headSize?: number;\n        /**  */\n        style?: ShapeAttrs;\n      }\n    | false;\n  /**  */\n  text?:\n    | {\n        /**  */\n        size?: number;\n        /**  */\n        style?: ShapeAttrs;\n        /**  */\n        formatter?: (prev: number, next: number) => string;\n      }\n    | false;\n}\n\nexport interface OptionWithConversionTag {\n  conversionTag?: ConversionTagOptions | false;\n}\n\n/**  */\ntype TagRenderConfig = {\n  /**  View */\n  view: View;\n  /**  geometry */\n  geometry: Geometry;\n  /**  group */\n  group: IGroup;\n  /**  */\n  options: ConversionTagOptions;\n  /**  */\n  field: string;\n  /** / */\n  horizontal: boolean;\n};\n\nfunction getConversionTagOptionsWithDefaults(options: ConversionTagOptions, horizontal: boolean): ConversionTagOptions {\n  return deepAssign(\n    {\n      size: horizontal ? 32 : 80,\n      spacing: horizontal ? 8 : 12,\n      offset: horizontal ? 32 : 0,\n      arrow: options.arrow !== false && {\n        headSize: 12,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.05)',\n        },\n      },\n      text: options.text !== false && {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, 0.85)',\n          textAlign: 'center',\n          textBaseline: 'middle',\n        },\n        formatter: conversionTagFormatter,\n      },\n    },\n    options\n  );\n}\n\nfunction parsePoints(coordinate: Coordinate, element: Element): { x: number; y: number }[] {\n  // @ts-ignore\n  return map(element.getModel().points, (point) => coordinate.convertPoint(point));\n}\n\nfunction renderArrowTag(config: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  const { view, geometry, group, options, horizontal } = config;\n  const { offset, size, arrow } = options;\n  const coordinate = view.getCoordinate();\n  const pointPrev = parsePoints(coordinate, elemPrev)[3];\n  const pointNext = parsePoints(coordinate, elemNext)[0];\n  const totalHeight = pointNext.y - pointPrev.y;\n  const totalWidth = pointNext.x - pointPrev.x;\n\n  if (typeof arrow === 'boolean') {\n    return;\n  }\n  const { headSize } = arrow;\n  let spacing = options.spacing;\n  let points;\n\n  if (horizontal) {\n    if ((totalWidth - headSize) / 2 < spacing) {\n      // \n      spacing = Math.max(1, (totalWidth - headSize) / 2);\n      points = [\n        [pointPrev.x + spacing, pointPrev.y - offset],\n        [pointPrev.x + spacing, pointPrev.y - offset - size],\n        [pointNext.x - spacing, pointNext.y - offset - size / 2],\n      ];\n    } else {\n      // \n      points = [\n        [pointPrev.x + spacing, pointPrev.y - offset],\n        [pointPrev.x + spacing, pointPrev.y - offset - size],\n        [pointNext.x - spacing - headSize, pointNext.y - offset - size],\n        [pointNext.x - spacing, pointNext.y - offset - size / 2],\n        [pointNext.x - spacing - headSize, pointNext.y - offset],\n      ];\n    }\n  } else {\n    if ((totalHeight - headSize) / 2 < spacing) {\n      // \n      spacing = Math.max(1, (totalHeight - headSize) / 2);\n      points = [\n        [pointPrev.x + offset, pointPrev.y + spacing],\n        [pointPrev.x + offset + size, pointPrev.y + spacing],\n        [pointNext.x + offset + size / 2, pointNext.y - spacing],\n      ];\n    } else {\n      // \n      points = [\n        [pointPrev.x + offset, pointPrev.y + spacing],\n        [pointPrev.x + offset + size, pointPrev.y + spacing],\n        [pointNext.x + offset + size, pointNext.y - spacing - headSize],\n        [pointNext.x + offset + size / 2, pointNext.y - spacing],\n        [pointNext.x + offset, pointNext.y - spacing - headSize],\n      ];\n    }\n  }\n\n  group.addShape('polygon', {\n    id: `${view.id}-conversion-tag-arrow-${geometry.getElementId(elemPrev.getModel().mappingData)}`,\n    name: 'conversion-tag-arrow',\n    origin: {\n      element: elemPrev,\n      nextElement: elemNext,\n    },\n    attrs: {\n      ...(arrow.style || {}),\n      points,\n    },\n  });\n}\n\nfunction renderTextTag(config: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  const { view, geometry, group, options, field, horizontal } = config;\n  const { offset, size } = options;\n  if (typeof options.text === 'boolean') {\n    return;\n  }\n  const coordinate = view.getCoordinate();\n  const text = options.text?.formatter && options.text?.formatter(elemPrev.getData()[field], elemNext.getData()[field]);\n\n  const pointPrev = parsePoints(coordinate, elemPrev)[horizontal ? 3 : 0];\n  const pointNext = parsePoints(coordinate, elemNext)[horizontal ? 0 : 3];\n\n  const textShape = group.addShape('text', {\n    id: `${view.id}-conversion-tag-text-${geometry.getElementId(elemPrev.getModel().mappingData)}`,\n    name: 'conversion-tag-text',\n    origin: {\n      element: elemPrev,\n      nextElement: elemNext,\n    },\n    attrs: {\n      ...(options.text?.style || {}),\n      text,\n      x: horizontal ? (pointPrev.x + pointNext.x) / 2 : pointPrev.x + offset + size / 2,\n      y: horizontal ? pointPrev.y - offset - size / 2 : (pointPrev.y + pointNext.y) / 2,\n    },\n  });\n\n  if (horizontal) {\n    const totalWidth = pointNext.x - pointPrev.x;\n    const { width: textWidth } = textShape.getBBox();\n    if (textWidth > totalWidth) {\n      const cWidth = textWidth / text.length;\n      const cEnd = Math.max(1, Math.ceil(totalWidth / cWidth) - 1);\n      const textAdjusted = `${text.slice(0, cEnd)}...`;\n      textShape.attr('text', textAdjusted);\n    }\n  }\n}\n\nfunction renderTag(options: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  renderArrowTag(options, elemPrev, elemNext);\n  renderTextTag(options, elemPrev, elemNext);\n}\n\n/**\n *  adaptor/\n * @param field \n * @param horizontal \n * @param disabled \n */\nexport function conversionTag<O extends OptionWithConversionTag & Options>(\n  field: string,\n  horizontal = true,\n  disabled = false\n) {\n  return function (params: Params<O>): Params<O> {\n    const { options, chart } = params;\n    const { conversionTag, theme } = options;\n\n    if (conversionTag && !disabled) {\n      //  1/3\n      chart.theme(\n        deepAssign({}, isObject(theme) ? theme : getTheme(theme), {\n          columnWidthRatio: 1 / 3,\n        })\n      );\n      //   shape annotation \n      chart.annotation().shape({\n        render: (container, view) => {\n          const group = container.addGroup({\n            id: `${chart.id}-conversion-tag-group`,\n            name: 'conversion-tag-group',\n          });\n          const interval = find(chart.geometries, (geom: Geometry) => geom.type === 'interval');\n          const config: TagRenderConfig = {\n            view,\n            geometry: interval,\n            group,\n            field,\n            horizontal,\n            options: getConversionTagOptionsWithDefaults(conversionTag, horizontal),\n          };\n          const elements = interval.elements;\n          each(elements, (elem: Element, idx: number) => {\n            if (idx > 0) {\n              renderTag(config, elements[idx - 1], elem);\n            }\n          });\n        },\n      });\n    }\n\n    return params;\n  };\n}\n","import { registerInteraction, ShapeAttrs, Element } from '@antv/g2';\nimport { Params } from '../core/adaptor';\n\nexport interface ConnectedAreaOptions {\n  /** ,  hover */\n  trigger?: 'hover' | 'click';\n  /**  */\n  style?: ShapeAttrs | ((style: ShapeAttrs, element: Element) => ShapeAttrs);\n}\n\n/**  */\nexport interface OptionWithConnectedArea {\n  connectedArea?: ConnectedAreaOptions | false;\n}\n\nconst INTERACTION_MAP = {\n  hover: '__interval-connected-area-hover__',\n  click: '__interval-connected-area-click__',\n};\n\nconst getStartStages = (trigger: string, style?: ConnectedAreaOptions['style']) => {\n  if (trigger === 'hover') {\n    return [\n      {\n        trigger: `interval:mouseenter`,\n        action: ['element-highlight-by-color:highlight', 'element-link-by-color:link'],\n        arg: [null, { style }],\n      },\n    ];\n  }\n  return [\n    {\n      trigger: `interval:click`,\n      action: [\n        'element-highlight-by-color:clear',\n        'element-highlight-by-color:highlight',\n        'element-link-by-color:clear',\n        'element-link-by-color:unlink',\n        'element-link-by-color:link',\n      ],\n      arg: [null, null, null, null, { style }],\n    },\n  ];\n};\n\n/** hover  */\nregisterInteraction(INTERACTION_MAP.hover, {\n  start: getStartStages(INTERACTION_MAP.hover),\n  end: [\n    {\n      trigger: 'interval:mouseleave',\n      action: ['element-highlight-by-color:reset', 'element-link-by-color:unlink'],\n    },\n  ],\n});\n\n/** click  */\nregisterInteraction(INTERACTION_MAP.click, {\n  start: getStartStages(INTERACTION_MAP.click),\n  end: [\n    {\n      trigger: 'document:mousedown',\n      action: ['element-highlight-by-color:clear', 'element-link-by-color:clear'],\n    },\n  ],\n});\n\n/**\n *  adaptor/\n * @param disable\n */\nexport function connectedArea<O extends OptionWithConnectedArea>(disable = false) {\n  return function (params: Params<O>): Params<O> {\n    const { chart, options } = params;\n    const { connectedArea } = options;\n\n    const clear = () => {\n      chart.removeInteraction(INTERACTION_MAP.hover);\n      chart.removeInteraction(INTERACTION_MAP.click);\n    };\n\n    if (!disable && connectedArea) {\n      const trigger = connectedArea.trigger || 'hover';\n      clear();\n      chart.interaction(INTERACTION_MAP[trigger], {\n        start: getStartStages(trigger, connectedArea.style),\n      });\n    } else {\n      clear();\n    }\n\n    return params;\n  };\n}\n","import { Action, IGroup, Util } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { BBox, ButtonCfg } from '../../types';\nimport { deepAssign, normalPadding } from '../../utils';\n\nconst PADDING_RIGHT = 10;\nconst PADDING_TOP = 5;\n\n/**\n * Action  Button \n *\n * brush filter\n */\nexport const BUTTON_ACTION_CONFIG: ButtonCfg = {\n  padding: [8, 10],\n  text: 'reset',\n  textStyle: {\n    default: {\n      x: 0,\n      y: 0,\n      fontSize: 12,\n      fill: '#333333',\n      cursor: 'pointer',\n    },\n  },\n  buttonStyle: {\n    default: {\n      fill: '#f7f7f7',\n      stroke: '#cccccc',\n      cursor: 'pointer',\n    },\n    active: {\n      fill: '#e6e6e6',\n    },\n  },\n};\n\n/**\n * @override  G2 Button Action,  GUI\n */\nclass ButtonAction extends Action {\n  private buttonGroup: IGroup = null;\n  private buttonCfg = {\n    name: 'button',\n    ...BUTTON_ACTION_CONFIG,\n  };\n\n  /**\n   *  mix \n   */\n  private getButtonCfg(): ButtonCfg & { name: string } {\n    const { view } = this.context;\n    const buttonCfg: ButtonCfg = get(view, ['interactions', 'filter-action', 'cfg', 'buttonConfig']);\n\n    return deepAssign(this.buttonCfg, buttonCfg, this.cfg);\n  }\n\n  /**\n   *  Button  \n   */\n  private drawButton() {\n    const config = this.getButtonCfg();\n    const group = this.context.view.foregroundGroup.addGroup({\n      name: config.name,\n    });\n    const textShape = this.drawText(group);\n    this.drawBackground(group, textShape.getBBox());\n\n    this.buttonGroup = group;\n  }\n\n  /**\n   * \n   */\n  private drawText(group: IGroup) {\n    const config = this.getButtonCfg();\n    // \n    return group.addShape({\n      type: 'text',\n      name: 'button-text',\n      attrs: {\n        text: config.text,\n        ...config.textStyle?.default,\n      },\n    });\n  }\n\n  private drawBackground(group: IGroup, bbox: BBox) {\n    const config = this.getButtonCfg();\n    const padding = normalPadding(config.padding);\n    // \n    const buttonShape = group.addShape({\n      type: 'rect',\n      name: 'button-rect',\n      attrs: {\n        x: bbox.x - padding[3],\n        y: bbox.y - padding[0],\n        width: bbox.width + padding[1] + padding[3],\n        height: bbox.height + padding[0] + padding[2],\n        ...config.buttonStyle?.default,\n      },\n    });\n    buttonShape.toBack(); // \n\n    // active \n    group.on('mouseenter', () => {\n      buttonShape.attr(config.buttonStyle?.active);\n    });\n    group.on('mouseleave', () => {\n      buttonShape.attr(config.buttonStyle?.default);\n    });\n\n    return buttonShape;\n  }\n\n  // \n  private resetPosition() {\n    const view = this.context.view;\n    const coord = view.getCoordinate();\n    const point = coord.convert({ x: 1, y: 1 }); // \n    const buttonGroup = this.buttonGroup;\n    const bbox = buttonGroup.getBBox();\n    const matrix = Util.transform(null, [\n      ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n    ]);\n    buttonGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (!this.buttonGroup) {\n      this.drawButton();\n    }\n    this.resetPosition();\n    this.buttonGroup.show();\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.buttonGroup) {\n      this.buttonGroup.hide();\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    const buttonGroup = this.buttonGroup;\n    if (buttonGroup) {\n      buttonGroup.remove();\n    }\n    super.destroy();\n  }\n}\n\nexport { ButtonAction };\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { BrushCfg } from '../types';\nimport { ButtonAction } from './actions/reset-button';\n\nregisterAction('brush-reset-button', ButtonAction, {\n  name: 'brush-reset-button',\n});\n\nregisterInteraction('filter-action', {});\n\n/**\n * G2  brushbrush-xbrush-y \n *\n * 1. element-range-highlight  brush-highlight(mask )\n * 2. brush-visible  brush \n */\n\nfunction isPointInView(context) {\n  return context.isInPlot();\n}\n\n/**\n *   start \n */\nexport function getInteractionCfg(interactionType: string, brushType?: string, options?: BrushCfg) {\n  const { mask, isStartEnable } = options || {};\n  const maskType = brushType || 'rect';\n\n  switch (interactionType) {\n    case 'brush':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isStartEnable || isPointInView,\n            action: ['brush:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: [\n              'brush:filter',\n              'brush:end',\n              `${maskType}-mask:end`,\n              `${maskType}-mask:hide`,\n              'brush-reset-button:show',\n            ],\n          },\n        ],\n        rollback: [\n          {\n            trigger: 'brush-reset-button:click',\n            action: ['brush:reset', 'brush-reset-button:hide', 'cursor:crosshair'],\n          },\n        ],\n      };\n    case 'brush-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mousemove', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          {\n            trigger: 'plot:mousemove',\n            action: 'cursor:default',\n            isEnable: (context) => (isStartEnable ? !isStartEnable(context) : false),\n          },\n          { trigger: 'mask:mouseenter', action: 'cursor:move', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable:\n              isStartEnable ||\n              ((context) => {\n                //  mask \n                return !context.isInShape('mask');\n              }),\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n    case 'brush-x':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isStartEnable || isPointInView,\n            action: ['brush-x:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: ['brush-x:filter', 'brush-x:end', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['brush-x:reset'] }],\n      };\n    case 'brush-x-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'mask:mouseenter', action: 'cursor:move', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable:\n              isStartEnable ||\n              ((context) => {\n                //  mask \n                return !context.isInShape('mask');\n              }),\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n    case 'brush-y':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isStartEnable || isPointInView,\n            action: ['brush-y:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: ['brush-y:filter', 'brush-y:end', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['brush-y:reset'] }],\n      };\n    case 'brush-y-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'mask:mouseenter', action: 'cursor:move', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable:\n              isStartEnable ||\n              ((context) => {\n                //  mask \n                return !context.isInShape('mask');\n              }),\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n\n    default:\n      return {};\n  }\n}\n\n// \nregisterInteraction('brush', getInteractionCfg('brush'));\n//  element-range-highlight interaction\nregisterInteraction('brush-highlight', getInteractionCfg('brush-highlight'));\n// \nregisterInteraction('brush-x', getInteractionCfg('brush-x', 'x-rect'));\n// \nregisterInteraction('brush-y', getInteractionCfg('brush-y', 'y-rect'));\n// , x \nregisterInteraction('brush-x-highlight', getInteractionCfg('brush-x-highlight', 'x-rect'));\n// , y \nregisterInteraction('brush-y-highlight', getInteractionCfg('brush-y-highlight', 'y-rect'));\n","import { filter } from '@antv/util';\nimport { Params } from '../core/adaptor';\nimport { getInteractionCfg } from '../interactions/brush';\nimport { deepAssign } from '../utils';\nimport { Options as BaseOptions, BrushCfg, Interaction, Writable } from '../types';\n\n/** brush  */\nimport '../interactions/brush';\n\ntype Options = Pick<BaseOptions, 'interactions'> & { brush?: BrushCfg };\n\nconst BRUSH_TYPES = ['brush', 'brush-x', 'brush-y', 'brush-highlight', 'brush-x-highlight', 'brush-y-highlight'];\n\n/**\n * brush \n */\nexport function brushInteraction<O extends Options = Options>(params: Params<O>): Params<O> {\n  const { options } = params;\n\n  const { brush } = options;\n\n  //  brush \n  const interactions = filter(options.interactions || [], (i) => BRUSH_TYPES.indexOf(i.type) === -1);\n\n  //  brush \n  if (brush?.enabled) {\n    BRUSH_TYPES.forEach((type) => {\n      let enable = false;\n      switch (brush.type) {\n        case 'x-rect':\n          enable = type === (brush.action === 'highlight' ? 'brush-x-highlight' : 'brush-x');\n          break;\n        case 'y-rect':\n          enable = type === (brush.action === 'highlight' ? 'brush-y-highlight' : 'brush-y');\n          break;\n        default:\n          enable = type === (brush.action === 'highlight' ? 'brush-highlight' : 'brush');\n          break;\n      }\n      const obj: Writable<Interaction> = { type, enable };\n\n      if (brush) {\n        obj.cfg = getInteractionCfg(type, brush.type, brush);\n      }\n      interactions.push(obj);\n    });\n\n    //  button  (G2Plot )\n    if (brush?.action !== 'highlight') {\n      interactions.push({\n        type: 'filter-action',\n        cfg: {\n          buttonConfig: brush.button,\n        },\n      });\n    }\n  }\n  return deepAssign({}, params, { options: { interactions } });\n}\n","import { Types } from '@antv/g2';\nimport { each, filter, isMatch } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport {\n  slider,\n  interaction,\n  animation,\n  theme,\n  scale,\n  annotation,\n  scrollbar,\n  limitInPlot,\n  state,\n  transformations,\n} from '../../adaptor/common';\nimport { conversionTag } from '../../adaptor/conversion-tag';\nimport { connectedArea } from '../../adaptor/connected-area';\nimport { interval } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { brushInteraction } from '../../adaptor/brush';\nimport { flow, transformLabel, deepAssign, findGeometry, adjustYMetaByZero, pick } from '../../utils';\nimport { getDataWhetherPercentage, getDeepPercent } from '../../utils/transform/percent';\nimport { Datum } from '../../types';\nimport { ColumnOptions } from './types';\n\n/**\n * defaultOptions\n * @param params\n */\nfunction defaultOptions(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { options } = params;\n  //  legend \n  let { legend } = options;\n  const { seriesField, isStack } = options;\n\n  if (seriesField) {\n    if (legend !== false) {\n      legend = {\n        position: isStack ? 'right-top' : 'top-left',\n        ...legend,\n      };\n    }\n  } else {\n    legend = false;\n  }\n\n  // @ts-ignore \n  params.options.legend = legend;\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    columnStyle,\n    color,\n    columnWidthRatio,\n    isPercent,\n    isGroup,\n    isStack,\n    xField,\n    yField,\n    seriesField,\n    groupField,\n    tooltip,\n    shape,\n  } = options;\n\n  const percentData =\n    isPercent && isGroup && isStack\n      ? getDeepPercent(data, yField, [xField, groupField], yField)\n      : getDataWhetherPercentage(data, yField, xField, yField, isPercent);\n\n  let chartData = [];\n\n  // ,seriesField \n  if (isStack && seriesField && !isGroup) {\n    percentData.forEach((item) => {\n      const stackedItem = chartData.find((v) => v[xField] === item[xField] && v[seriesField] === item[seriesField]);\n      if (stackedItem) {\n        stackedItem[yField] += item[yField] || 0;\n      } else {\n        chartData.push({ ...item });\n      }\n    });\n  } else {\n    chartData = percentData;\n  }\n\n  chart.data(chartData);\n\n  //  % , \n  const tooltipOptions = isPercent\n    ? {\n        formatter: (datum: Datum) => ({\n          name:\n            isGroup && isStack ? `${datum[seriesField]} - ${datum[groupField]}` : datum[seriesField] || datum[xField],\n          value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n        }),\n        ...tooltip,\n      }\n    : tooltip;\n\n  const p = deepAssign({}, params, {\n    options: {\n      data: chartData,\n      widthRatio: columnWidthRatio,\n      tooltip: tooltipOptions,\n      interval: {\n        shape,\n        style: columnStyle,\n        color,\n      },\n    },\n  });\n  interval(p);\n\n  return p;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, data, isPercent } = options;\n\n  const percentYMeta = isPercent ? { max: 1, min: 0, minLimit: 0, maxLimit: 1 } : {};\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n      },\n      {\n        [xField]: {\n          type: 'cat',\n        },\n        [yField]: {\n          ...adjustYMetaByZero(data, yField),\n          ...percentYMeta,\n        },\n      }\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend && seriesField) {\n    chart.legend(seriesField, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { label, yField, isRange } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        //  label layout  layout  position  layout\n        layout: cfg?.position\n          ? undefined\n          : [\n              { type: 'interval-adjust-position' },\n              { type: 'interval-hide-overlap' },\n              { type: 'adjust-color' },\n              { type: 'limit-in-plot', cfg: { action: 'hide' } },\n            ],\n        ...transformLabel(\n          isRange\n            ? {\n                content: (item: object) => {\n                  return item[yField]?.join('-');\n                },\n                ...cfg,\n              }\n            : cfg\n        ),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  tooltip  ()\n * @param params\n */\nfunction columnTooltip(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { tooltip, isGroup, isStack, groupField, data, xField, yField, seriesField } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    // fix: https://github.com/antvis/G2Plot/issues/2572\n    if (isGroup && isStack) {\n      const tooltipFormatter =\n        tooltipOptions?.formatter ||\n        ((datum: Datum) => ({ name: `${datum[seriesField]} - ${datum[groupField]}`, value: datum[yField] }));\n      tooltipOptions = {\n        ...tooltipOptions,\n        customItems: (originalItems: Types.TooltipItem[]) => {\n          const items: Types.TooltipItem[] = [];\n          each(originalItems, (item: Types.TooltipItem) => {\n            // Find datas in same cluster\n            const datas = filter(data, (d) => isMatch(d, pick(item.data, [xField, seriesField])));\n            datas.forEach((datum) => {\n              items.push({\n                ...item,\n                value: datum[yField],\n                data: datum,\n                mappingData: { _origin: datum },\n                ...tooltipFormatter(datum),\n              });\n            });\n          });\n          return items;\n        },\n      };\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<ColumnOptions>, isBar = false) {\n  const { options } = params;\n  const { seriesField } = options;\n  return flow(\n    defaultOptions, // \n    theme, // theme  geometry \n    pattern('columnStyle'),\n    state,\n    transformations('rect'),\n    geometry,\n    meta,\n    axis,\n    legend,\n    columnTooltip,\n    slider,\n    scrollbar,\n    label,\n    brushInteraction,\n    interaction,\n    animation,\n    annotation(),\n    conversionTag<ColumnOptions>(options.yField, !isBar, !!seriesField), // \n    connectedArea<ColumnOptions>(!options.isStack),\n    limitInPlot\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  columnWidthRatio: 0.6,\n  marginRatio: 1 / 32,\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n  },\n  legend: {\n    radio: {},\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { ColumnOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { ColumnOptions };\n\n/**\n * \n */\nexport class Column extends Plot<ColumnOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ColumnOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'column';\n\n  /**\n   * @override\n   */\n  public changeData(data: ColumnOptions['data']) {\n    this.updateOption({ data });\n    const { yField, xField, isPercent } = this.options;\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(getDataWhetherPercentage(data, yField, xField, yField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Column.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ColumnOptions> {\n    return adaptor;\n  }\n}\n","import { Params } from '../../core/adaptor';\nimport { tooltip } from '../../adaptor/common';\nimport { deepAssign, flow } from '../../utils';\nimport { Axis } from '../../types';\nimport { adaptor as columnAdaptor } from '../column/adaptor';\nexport { meta } from '../column/adaptor';\nimport { BarOptions } from './types';\n\n/**\n * \n * 1. switch xField yField\n * 2. switch xAxis yAxis and adjust axis.position configuration\n */\nfunction defaultOptions(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n  const { xField, yField, xAxis, yAxis } = options;\n\n  const position = {\n    left: 'bottom',\n    right: 'top',\n    top: 'left',\n    bottom: 'right',\n  };\n\n  const verticalAxis =\n    yAxis !== false\n      ? {\n          position: position[yAxis?.position || 'left'],\n          ...yAxis,\n        }\n      : false;\n  const horizontalAxis =\n    xAxis !== false\n      ? {\n          position: position[xAxis?.position || 'bottom'],\n          ...xAxis,\n        }\n      : false;\n\n  return {\n    ...params,\n    options: {\n      ...options,\n      xField: yField,\n      yField: xField,\n      //  xAxisyAxis  deepAssign\n      xAxis: verticalAxis as Axis,\n      yAxis: horizontalAxis as Axis,\n    },\n  };\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n  const { label } = options;\n  // label of bar charts default position is left, if plot has label\n  if (label && !label.position) {\n    label.position = 'left';\n    //  label layout  layout  position  layout\n    if (!label.layout) {\n      label.layout = [\n        { type: 'interval-adjust-position' },\n        { type: 'interval-hide-overlap' },\n        { type: 'adjust-color' },\n        { type: 'limit-in-plot', cfg: { action: 'hide' } },\n      ];\n    }\n  }\n\n  return deepAssign({}, params, { options: { label } });\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n\n  //  legend \n  const { seriesField, isStack } = options;\n  let { legend } = options;\n  if (seriesField) {\n    if (legend !== false) {\n      legend = {\n        position: isStack ? 'top-left' : 'right-top',\n        ...(legend || {}),\n      };\n    }\n  } else {\n    legend = false;\n  }\n\n  return deepAssign({}, params, { options: { legend } });\n}\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<BarOptions>): Params<BarOptions> {\n  // transpose column to bar  & y \n  const { options } = params;\n  const coordinateOptions = [{ type: 'transpose' }, { type: 'reflectY' }].concat(options.coordinate || []);\n  return deepAssign({}, params, { options: { coordinate: coordinateOptions } });\n}\n\n/**\n * \n * @param params\n */\nexport function geometry(params: Params<BarOptions>) {\n  const { chart, options } = params;\n\n  const { barStyle, barWidthRatio, minBarWidth, maxBarWidth, barBackground } = options;\n\n  return columnAdaptor(\n    {\n      chart,\n      options: {\n        ...options,\n        // rename attrs as column\n        columnStyle: barStyle,\n        columnWidthRatio: barWidthRatio,\n        minColumnWidth: minBarWidth,\n        maxColumnWidth: maxBarWidth,\n        columnBackground: barBackground,\n      },\n    },\n    true\n  ) as Params<BarOptions>;\n}\n\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BarOptions>): Params<BarOptions> {\n  // flow  G2 API\n  return flow<Params<BarOptions>>(defaultOptions, label, legend, tooltip, coordinate, geometry)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  barWidthRatio: 0.6,\n  marginRatio: 1 / 32,\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n  },\n  legend: {\n    radio: {},\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { BarOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { BarOptions };\n\n/**\n * \n */\nexport class Bar extends Plot<BarOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<BarOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'bar';\n\n  /**\n   * @override\n   */\n  public changeData(data: BarOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    const { isPercent } = options;\n    let { xField, yField, xAxis, yAxis } = options;\n    [xField, yField] = [yField, xField];\n    [xAxis, yAxis] = [yAxis, xAxis];\n    const switchedFieldOptions = { ...options, xField, yField, yAxis, xAxis };\n    meta({ chart, options: switchedFieldOptions });\n    chart.changeData(getDataWhetherPercentage(data, xField, yField, xField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Bar.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<BarOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  legend: {\n    position: 'right',\n    radio: {},\n  },\n  tooltip: {\n    shared: false,\n    showTitle: false,\n    showMarkers: false,\n  },\n  label: {\n    layout: { type: 'limit-in-plot', cfg: { action: 'ellipsis' } },\n  },\n  /** ,  */\n  pieStyle: {\n    stroke: 'white',\n    lineWidth: 1,\n  },\n  /**  */\n  statistic: {\n    title: {\n      style: { fontWeight: 300, color: '#4B535E', textAlign: 'center', fontSize: '20px', lineHeight: 1 },\n    },\n    content: {\n      style: {\n        fontWeight: 'bold',\n        color: 'rgba(44,53,66,0.85)',\n        textAlign: 'center',\n        fontSize: '32px',\n        lineHeight: 1,\n      },\n    },\n  },\n  /**  text-annotation  */\n  theme: {\n    components: {\n      annotation: {\n        text: {\n          animate: false,\n        },\n      },\n    },\n  },\n});\n","import { each, every, isString } from '@antv/util';\nimport { Data } from '../../types';\nimport { processIllegalData } from '../../utils';\nimport { PieOptions } from './types';\n\n/**\n * \n * @param data\n * @param field\n */\nexport function getTotalValue(data: Data, field: string) {\n  let total = null;\n  each(data, (item) => {\n    if (typeof item[field] === 'number') {\n      total += item[field];\n    }\n  });\n  return total;\n}\n\n/**\n * pie label offset adaptor\n */\nexport function adaptOffset(type: string, offset?: string | number): string | number {\n  let defaultOffset;\n  switch (type) {\n    case 'inner':\n      defaultOffset = '-30%';\n      if (isString(offset) && offset.endsWith('%')) {\n        return parseFloat(offset) * 0.01 > 0 ? defaultOffset : offset;\n      }\n      return offset < 0 ? offset : defaultOffset;\n    case 'outer':\n      defaultOffset = 12;\n      if (isString(offset) && offset.endsWith('%')) {\n        return parseFloat(offset) * 0.01 < 0 ? defaultOffset : offset;\n      }\n      return offset > 0 ? offset : defaultOffset;\n    default:\n      return offset;\n  }\n}\n\n/**\n *  0\n * @param data\n * @param angleField\n */\nexport function isAllZero(data: PieOptions['data'], angleField: string): boolean {\n  return every(processIllegalData(data, angleField), (d) => d[angleField] === 0);\n}\n","import { Util } from '@antv/g2';\n\nconst ORIGIN_MATRIX = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n/**\n * \n * @param actions\n * @param matrix\n */\nexport function transform(actions: any[][], matrix?: number[]) {\n  const ulMatrix = matrix ? [...matrix] : [...ORIGIN_MATRIX];\n  return Util.transform(ulMatrix, actions);\n}\n","import { IElement, IGroup } from '@antv/g-base';\nimport { Util, Element, Action } from '@antv/g2';\nimport { isEqual } from '@antv/util';\nimport { transform } from '../../../../utils/matrix';\n\n/**\n *   action\n */\nexport class PieLegendAction extends Action {\n  /**\n   * \n   */\n  private getActiveElements(): Element[] {\n    const delegateObject = Util.getDelegationObject(this.context);\n    if (delegateObject) {\n      const view = this.context.view;\n      const { component, item } = delegateObject;\n      const field = component.get('field');\n      if (field) {\n        const elements = view.geometries[0].elements;\n        return elements.filter((ele) => ele.getModel().data[field] === item.value);\n      }\n    }\n    return [];\n  }\n\n  /**\n   * \n   */\n  private getActiveElementLabels(): (IElement | IGroup)[] {\n    const view = this.context.view;\n    const elements = this.getActiveElements();\n    const labels = view.geometries[0].labelsContainer.getChildren();\n    return labels.filter((label) => elements.find((ele) => isEqual(ele.getData(), label.get('data'))));\n  }\n\n  protected transfrom(offset: number = 7.5) {\n    const elements = this.getActiveElements();\n    const elementLabels = this.getActiveElementLabels();\n    elements.forEach((element, idx) => {\n      const labelShape = elementLabels[idx];\n      const coordinate = element.geometry.coordinate;\n      if (coordinate.isPolar && coordinate.isTransposed) {\n        const { startAngle, endAngle } = Util.getAngle(element.getModel(), coordinate);\n        const middleAngle = (startAngle + endAngle) / 2;\n        const r = offset;\n        const x = r * Math.cos(middleAngle);\n        const y = r * Math.sin(middleAngle);\n        element.shape.setMatrix(transform([['t', x, y]]));\n        labelShape.setMatrix(transform([['t', x, y]]));\n      }\n    });\n  }\n\n  public active() {\n    this.transfrom();\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.transfrom(0);\n  }\n}\n","import { Element } from '@antv/g2';\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getCurrentElement(context): Element | undefined {\n  const event = context.event;\n  let element;\n  const target = event.target;\n  if (target) {\n    element = target.get('element');\n  }\n  return element;\n}\n","import { View, Action, Util, Types } from '@antv/g2';\nimport { each, get } from '@antv/util';\nimport { Annotation } from '../../../../types/annotation';\nimport { renderStatistic } from '../../../../utils/statistic';\nimport { PieOptions } from '../../types';\nimport { getCurrentElement } from '../util';\n\n/**\n * Pie  Action\n */\nexport class StatisticAction extends Action {\n  private initialAnnotation;\n\n  private getAnnotations(_view?: View): object[] {\n    const view = _view || this.context.view;\n    // @ts-ignore\n    return view.getController('annotation').option;\n  }\n\n  private getInitialAnnotation(): Types.ComponentOption[] | null {\n    return this.initialAnnotation;\n  }\n\n  init() {\n    const { view } = this.context;\n    view.removeInteraction('tooltip');\n\n    view.on('afterchangesize', () => {\n      const annotations = this.getAnnotations(view);\n      this.initialAnnotation = annotations;\n    });\n  }\n\n  public change(arg?: Pick<PieOptions, 'annotations' | 'statistic'>) {\n    const { view, event } = this.context;\n    if (!this.initialAnnotation) {\n      this.initialAnnotation = this.getAnnotations();\n    }\n\n    let data = get(event, ['data', 'data']);\n    if (event.type.match('legend-item')) {\n      const delegateObject = Util.getDelegationObject(this.context);\n      // @ts-ignore\n      const colorField = view.getGroupedFields()[0];\n      if (delegateObject && colorField) {\n        const { item } = delegateObject;\n        data = view.getData().find((d) => d[colorField] === item.value);\n      }\n    }\n\n    if (data) {\n      const annotations = get(arg, 'annotations', []);\n      const statistic = get(arg, 'statistic', {});\n      // \n      view.getController('annotation').clear(true);\n      //  annotations\n      each(annotations, (annotation: Annotation) => {\n        if (typeof annotation === 'object') {\n          view.annotation()[annotation.type](annotation);\n        }\n      });\n      renderStatistic(view, { statistic, plotType: 'pie' }, data);\n      view.render(true);\n    }\n\n    //  shape \n    const ele = getCurrentElement(this.context);\n    if (ele) {\n      ele.shape.toFront();\n    }\n  }\n\n  public reset() {\n    const { view } = this.context;\n    const annotationController = view.getController('annotation');\n    annotationController.clear(true);\n    const initialStatistic = this.getInitialAnnotation();\n    each(initialStatistic, (a) => {\n      view.annotation()[a.type](a);\n    });\n    view.render(true);\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { PieLegendAction } from './actions/legend-active';\nimport { StatisticAction } from './actions/statistic-active';\n\nexport const PIE_STATISTIC = 'pie-statistic';\n\nregisterAction(PIE_STATISTIC, StatisticAction);\nregisterInteraction('pie-statistic-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'pie-statistic:change' }],\n  end: [{ trigger: 'element:mouseleave', action: 'pie-statistic:reset' }],\n});\n\nregisterAction('pie-legend', PieLegendAction);\nregisterInteraction('pie-legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: 'pie-legend:active' }],\n  end: [{ trigger: 'legend-item:mouseleave', action: 'pie-legend:reset' }],\n});\n","import { isFunction, isString, isNil, get, isArray, isNumber, each, toString, isEmpty } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { legend, animation, theme, state, annotation } from '../../adaptor/common';\nimport { getMappingFunction } from '../../adaptor/geometries/base';\nimport { interval } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { getLocale } from '../../core/locale';\nimport { Interaction } from '../../types/interaction';\nimport { flow, template, transformLabel, deepAssign, renderStatistic, processIllegalData } from '../../utils';\nimport { Data, Datum } from '../../types';\nimport { DEFAULT_OPTIONS } from './contants';\nimport { adaptOffset, getTotalValue, isAllZero } from './utils';\nimport { PIE_STATISTIC } from './interactions';\nimport { PieOptions } from './types';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { data, angleField, colorField, color, pieStyle } = options;\n\n  // \n  let processData = processIllegalData(data, angleField);\n\n  if (isAllZero(processData, angleField)) {\n    //  0  position \n    const percentageField = '$$percentage$$';\n    processData = processData.map((d) => ({ ...d, [percentageField]: 1 / processData.length }));\n    chart.data(processData);\n\n    const p = deepAssign({}, params, {\n      options: {\n        xField: '1',\n        yField: percentageField,\n        seriesField: colorField,\n        isStack: true,\n        interval: {\n          color,\n          style: pieStyle,\n        },\n        args: {\n          zIndexReversed: true,\n          sortZIndex: true,\n        },\n      },\n    });\n\n    interval(p);\n  } else {\n    chart.data(processData);\n\n    const p = deepAssign({}, params, {\n      options: {\n        xField: '1',\n        yField: angleField,\n        seriesField: colorField,\n        isStack: true,\n        interval: {\n          color,\n          style: pieStyle,\n        },\n        args: {\n          zIndexReversed: true,\n          sortZIndex: true,\n        },\n      },\n    });\n\n    interval(p);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { meta, colorField } = options;\n\n  // meta  scale \n  const scales = deepAssign({}, meta);\n  chart.scale(scales, {\n    [colorField]: { type: 'cat' },\n  });\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart.coordinate({\n    type: 'theta',\n    cfg: {\n      radius,\n      innerRadius,\n      startAngle,\n      endAngle,\n    },\n  });\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { label, colorField, angleField } = options;\n\n  const geometry = chart.geometries[0];\n  // label  false,   label\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    const labelCfg = transformLabel(cfg);\n\n    //   label content \n    if (labelCfg.content) {\n      const { content } = labelCfg;\n      labelCfg.content = (data: object, dataum: any, index: number) => {\n        const name = data[colorField];\n        const value = data[angleField];\n        // dymatic get scale, scale is ready this time\n        const angleScale = chart.getScaleByField(angleField);\n        const percent = angleScale?.scale(value);\n        return isFunction(content)\n          ? // append percent (number) to data, users can get origin data from `dataum._origin`\n            content({ ...data, percent }, dataum, index)\n          : isString(content)\n          ? template(content as string, {\n              value,\n              name,\n              // percentage (string), default keep 2\n              percentage: isNumber(percent) && !isNil(value) ? `${(percent * 100).toFixed(2)}%` : null,\n            })\n          : content;\n      };\n    }\n\n    const LABEL_LAYOUT_TYPE_MAP = {\n      inner: '',\n      outer: 'pie-outer',\n      spider: 'pie-spider',\n    };\n    const labelLayoutType = labelCfg.type ? LABEL_LAYOUT_TYPE_MAP[labelCfg.type] : 'pie-outer';\n    const labelLayoutCfg = labelCfg.layout ? (!isArray(labelCfg.layout) ? [labelCfg.layout] : labelCfg.layout) : [];\n    labelCfg.layout = (labelLayoutType ? [{ type: labelLayoutType }] : []).concat(labelLayoutCfg);\n\n    geometry.label({\n      // fix: could not create scale, when field is undefinedattributes  fields  scale\n      fields: colorField ? [angleField, colorField] : [angleField],\n      callback,\n      cfg: {\n        ...labelCfg,\n        offset: adaptOffset(labelCfg.type, labelCfg.offset),\n        type: 'pie',\n      },\n    });\n  }\n  return params;\n}\n\n/**\n * statistic options \n * 1.  default options \n * 2.  meta  formatter\n */\nexport function transformStatisticOptions(options: PieOptions): PieOptions {\n  const { innerRadius, statistic, angleField, colorField, meta, locale } = options;\n\n  const i18n = getLocale(locale);\n\n  if (innerRadius && statistic) {\n    let { title: titleOpt, content: contentOpt } = deepAssign({}, DEFAULT_OPTIONS.statistic, statistic);\n    if (titleOpt !== false) {\n      titleOpt = deepAssign(\n        {},\n        {\n          formatter: (datum: Datum) => {\n            // , datum existed.\n            const text = datum\n              ? datum[colorField]\n              : !isNil(titleOpt.content)\n              ? titleOpt.content\n              : i18n.get(['statistic', 'total']);\n            const metaFormatter = get(meta, [colorField, 'formatter']) || ((v) => v);\n            return metaFormatter(text);\n          },\n        },\n        titleOpt\n      );\n    }\n    if (contentOpt !== false) {\n      contentOpt = deepAssign(\n        {},\n        {\n          formatter: (datum: Datum, data: Data) => {\n            const dataValue = datum ? datum[angleField] : getTotalValue(data, angleField);\n            const metaFormatter = get(meta, [angleField, 'formatter']) || ((v) => v);\n            // \n            if (datum) {\n              return metaFormatter(dataValue);\n            }\n            return !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(dataValue);\n          },\n        },\n        contentOpt\n      );\n    }\n\n    return deepAssign({}, { statistic: { title: titleOpt, content: contentOpt } }, options);\n  }\n  return options;\n}\n\n/**\n * statistic \n * @param params\n */\nexport function pieAnnotation(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { innerRadius, statistic } = transformStatisticOptions(options);\n  // \n  chart.getController('annotation').clear(true);\n\n  //  annotations\n  flow(annotation())(params);\n\n  /**   */\n  if (innerRadius && statistic) {\n    renderStatistic(chart, { statistic, plotType: 'pie' });\n  }\n\n  return params;\n}\n\n/**\n *  tooltip \n * 1.  tooltip.shared  false\n * @param params\n */\nfunction tooltip(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { tooltip, colorField, angleField, data } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(tooltip);\n  } else {\n    chart.tooltip(deepAssign({}, tooltip, { shared: false }));\n\n    //  all zero  all zero \n    if (isAllZero(data, angleField)) {\n      let fields = get(tooltip, 'fields');\n      let formatter = get(tooltip, 'formatter');\n\n      if (isEmpty(get(tooltip, 'fields'))) {\n        fields = [colorField, angleField];\n        formatter = formatter || ((datum) => ({ name: datum[colorField], value: toString(datum[angleField]) }));\n      }\n      chart.geometries[0].tooltip(fields.join('*'), getMappingFunction(fields, formatter));\n    }\n  }\n\n  return params;\n}\n\n/**\n * Interaction  ( interaction, \n * @param params\n */\nexport function interaction(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { interactions, statistic, annotations } = transformStatisticOptions(options);\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else if (i.type === 'pie-statistic-active') {\n      //  start \n      let startStages = [];\n      if (!i.cfg?.start) {\n        startStages = [\n          {\n            trigger: 'element:mouseenter',\n            action: `${PIE_STATISTIC}:change`,\n            arg: { statistic, annotations },\n          },\n        ];\n      }\n      each(i.cfg?.start, (stage) => {\n        startStages.push({ ...stage, arg: { statistic, annotations } });\n      });\n      chart.interaction(i.type, deepAssign({}, i.cfg, { start: startStages }));\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<PieOptions>) {\n  // flow  G2 API\n  return flow<Params<PieOptions>>(\n    pattern('pieStyle'),\n    geometry,\n    meta,\n    theme,\n    coordinate,\n    legend,\n    tooltip,\n    label,\n    state,\n    /**   */\n    pieAnnotation,\n    interaction,\n    animation\n  )(params);\n}\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { processIllegalData } from '../../utils';\nimport { adaptor, pieAnnotation } from './adaptor';\nimport { DEFAULT_OPTIONS } from './contants';\nimport { PieOptions } from './types';\nimport { isAllZero } from './utils';\nimport './interactions';\n\nexport type { PieOptions };\n\nexport class Pie extends Plot<PieOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<PieOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'pie';\n\n  /**\n   * \n   * @param data\n   */\n  public changeData(data: PieOptions['data']) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    const prevOptions = this.options;\n    const { angleField } = this.options;\n    const prevData = processIllegalData(prevOptions.data, angleField);\n    const curData = processIllegalData(data, angleField);\n    //  0\n    if (isAllZero(prevData, angleField) || isAllZero(curData, angleField)) {\n      this.update({ data });\n    } else {\n      this.updateOption({ data });\n      this.chart.data(curData);\n      // todo  G2  afterrender  annotations\n      pieAnnotation({ chart: this.chart, options: this.options });\n      this.chart.render(true);\n    }\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   *   ,  base \n   */\n  protected getDefaultOptions(): Partial<PieOptions> {\n    return Pie.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<PieOptions> {\n    return adaptor;\n  }\n}\n","import { filter, isObject, isArray } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { flow, findGeometry, log, LEVEL, transformLabel, deepAssign } from '../../utils';\nimport { tooltip, interaction, animation, theme, scale, annotation, state, pattern } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { RoseOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { data, sectorStyle, color } = options;\n\n  // \n  chart.data(data);\n\n  flow(interval)(\n    deepAssign({}, params, {\n      options: {\n        marginRatio: 1,\n        interval: {\n          style: sectorStyle,\n          color,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { label, xField } = options;\n  const geometry = findGeometry(chart, 'interval');\n\n  // label  false  label\n  if (label === false) {\n    geometry.label(false);\n  } else if (isObject(label)) {\n    const { callback, fields, ...cfg } = label;\n    const { offset } = cfg;\n    let layout = cfg.layout;\n\n    //  label  shape  'limit-in-shape' \n    //  label \n    if (offset === undefined || offset >= 0) {\n      layout = layout ? (isArray(layout) ? layout : [layout]) : [];\n      cfg.layout = filter(layout, (v) => v.type !== 'limit-in-shape');\n      cfg.layout.length || delete cfg.layout;\n    }\n\n    geometry.label({\n      fields: fields || [xField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  } else {\n    log(LEVEL.WARN, label === null, 'the label option must be an Object.');\n    geometry.label({ fields: [xField] });\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (seriesField) {\n    chart.legend(seriesField, legend);\n  }\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart.coordinate({\n    type: 'polar',\n    cfg: {\n      radius,\n      innerRadius,\n      startAngle,\n      endAngle,\n    },\n  });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  falsy \n  if (!xAxis) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (!yAxis) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RoseOptions>) {\n  // flow  G2 API\n  flow(\n    pattern('sectorStyle'),\n    geometry,\n    meta,\n    label,\n    coordinate,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    theme,\n    annotation(),\n    state\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  xAxis: false,\n  yAxis: false,\n  legend: {\n    position: 'right',\n    radio: {},\n  },\n  sectorStyle: {\n    stroke: '#fff',\n    lineWidth: 1,\n  },\n  label: {\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { isNil, isFunction, assign } from '@antv/util';\r\nimport { Tag, Word } from '../../plots/word-cloud/types';\r\n\r\ntype FontWeight = number | 'normal' | 'bold' | 'bolder' | 'lighter';\r\n\r\nexport interface Options {\r\n  size: [number, number];\r\n  font?: string | ((row: Word, index?: number, words?: Word[]) => string);\r\n  fontSize?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  fontWeight?: FontWeight | ((row: Word, index?: number, words?: Word[]) => FontWeight);\r\n  rotate?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  padding?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  spiral?: 'archimedean' | 'rectangular' | ((size: [number, number]) => (t: number) => number[]);\r\n  random?: number | (() => number);\r\n  timeInterval?: number;\r\n  imageMask?: HTMLImageElement;\r\n}\r\n\r\nconst DEFAULT_OPTIONS: Options = {\r\n  font: () => 'serif',\r\n  padding: 1,\r\n  size: [500, 500],\r\n  spiral: 'archimedean', // 'archimedean' || 'rectangular' || {function}\r\n  // timeInterval: Infinity // max execute time\r\n  timeInterval: 3000, // max execute time\r\n  // imageMask: '', // instance of Image, must be loaded\r\n};\r\n\r\n/**\r\n * \r\n * \r\n * \r\n * @param words\r\n * @param options\r\n */\r\nexport function wordCloud(words: Word[], options?: Partial<Options>): Tag[] {\r\n  // \r\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\r\n  return transform(words, options as Options);\r\n}\r\n\r\n/**\r\n * \r\n * @param words\r\n * @param options\r\n */\r\nexport function transform(words: Word[], options: Options) {\r\n  // \r\n  const layout = tagCloud();\r\n  ['font', 'fontSize', 'fontWeight', 'padding', 'rotate', 'size', 'spiral', 'timeInterval', 'random'].forEach(\r\n    (key: string) => {\r\n      if (!isNil(options[key])) {\r\n        layout[key](options[key]);\r\n      }\r\n    }\r\n  );\r\n\r\n  layout.words(words);\r\n  if (options.imageMask) {\r\n    layout.createMask(options.imageMask);\r\n  }\r\n\r\n  const result = layout.start();\r\n  const tags: any[] = result._tags;\r\n\r\n  tags.forEach((tag) => {\r\n    tag.x += options.size[0] / 2;\r\n    tag.y += options.size[1] / 2;\r\n  });\r\n\r\n  const [w, h] = options.size;\r\n  // \r\n  // \r\n  // \r\n  // \r\n  tags.push({\r\n    text: '',\r\n    value: 0,\r\n    x: 0,\r\n    y: 0,\r\n    opacity: 0,\r\n  });\r\n  tags.push({\r\n    text: '',\r\n    value: 0,\r\n    x: w,\r\n    y: h,\r\n    opacity: 0,\r\n  });\r\n\r\n  return tags;\r\n}\r\n\r\n/*\r\n * Synchronous version of d3-cloud\r\n */\r\n// Word cloud layout by Jason Davies, https://www.jasondavies.com/wordcloud/\r\n// Algorithm due to Jonathan Feinberg, http://static.mrfeinberg.com/bv_ch03.pdf\r\n/* eslint-disable no-return-assign, no-cond-assign */\r\n\r\ninterface Item {\r\n  value: number;\r\n  text: string;\r\n  sprite: boolean;\r\n}\r\n\r\nconst cloudRadians = Math.PI / 180,\r\n  cw = (1 << 11) >> 5,\r\n  ch = 1 << 11;\r\n\r\nfunction cloudText(d: Item) {\r\n  return d.text;\r\n}\r\n\r\nfunction cloudFont() {\r\n  return 'serif';\r\n}\r\n\r\nfunction cloudFontNormal() {\r\n  return 'normal';\r\n}\r\n\r\nfunction cloudFontSize(d: Item) {\r\n  return d.value;\r\n}\r\n\r\nfunction cloudRotate() {\r\n  return ~~(Math.random() * 2) * 90;\r\n}\r\n\r\nfunction cloudPadding() {\r\n  return 1;\r\n}\r\n\r\n// Fetches a monochrome sprite bitmap for the specified text.\r\n// Load in batches for speed.\r\nfunction cloudSprite(contextAndRatio, d, data, di) {\r\n  if (d.sprite) return;\r\n  const c = contextAndRatio.context,\r\n    ratio = contextAndRatio.ratio;\r\n\r\n  c.clearRect(0, 0, (cw << 5) / ratio, ch / ratio);\r\n  let x = 0,\r\n    y = 0,\r\n    maxh = 0;\r\n  const n = data.length;\r\n  --di;\r\n  while (++di < n) {\r\n    d = data[di];\r\n    c.save();\r\n    c.font = d.style + ' ' + d.weight + ' ' + ~~((d.size + 1) / ratio) + 'px ' + d.font;\r\n    let w = c.measureText(d.text + 'm').width * ratio,\r\n      h = d.size << 1;\r\n    if (d.rotate) {\r\n      const sr = Math.sin(d.rotate * cloudRadians),\r\n        cr = Math.cos(d.rotate * cloudRadians),\r\n        wcr = w * cr,\r\n        wsr = w * sr,\r\n        hcr = h * cr,\r\n        hsr = h * sr;\r\n      w = ((Math.max(Math.abs(wcr + hsr), Math.abs(wcr - hsr)) + 0x1f) >> 5) << 5;\r\n      h = ~~Math.max(Math.abs(wsr + hcr), Math.abs(wsr - hcr));\r\n    } else {\r\n      w = ((w + 0x1f) >> 5) << 5;\r\n    }\r\n    if (h > maxh) maxh = h;\r\n    if (x + w >= cw << 5) {\r\n      x = 0;\r\n      y += maxh;\r\n      maxh = 0;\r\n    }\r\n    if (y + h >= ch) break;\r\n    c.translate((x + (w >> 1)) / ratio, (y + (h >> 1)) / ratio);\r\n    if (d.rotate) c.rotate(d.rotate * cloudRadians);\r\n    c.fillText(d.text, 0, 0);\r\n    if (d.padding) {\r\n      c.lineWidth = 2 * d.padding;\r\n      c.strokeText(d.text, 0, 0);\r\n    }\r\n    c.restore();\r\n    d.width = w;\r\n    d.height = h;\r\n    d.xoff = x;\r\n    d.yoff = y;\r\n    d.x1 = w >> 1;\r\n    d.y1 = h >> 1;\r\n    d.x0 = -d.x1;\r\n    d.y0 = -d.y1;\r\n    d.hasText = true;\r\n    x += w;\r\n  }\r\n  const pixels = c.getImageData(0, 0, (cw << 5) / ratio, ch / ratio).data,\r\n    sprite = [];\r\n  while (--di >= 0) {\r\n    d = data[di];\r\n    if (!d.hasText) continue;\r\n    const w = d.width,\r\n      w32 = w >> 5;\r\n    let h = d.y1 - d.y0;\r\n    // Zero the buffer\r\n    for (let i = 0; i < h * w32; i++) sprite[i] = 0;\r\n    x = d.xoff;\r\n    if (x == null) return;\r\n    y = d.yoff;\r\n    let seen = 0,\r\n      seenRow = -1;\r\n    for (let j = 0; j < h; j++) {\r\n      for (let i = 0; i < w; i++) {\r\n        const k = w32 * j + (i >> 5),\r\n          m = pixels[((y + j) * (cw << 5) + (x + i)) << 2] ? 1 << (31 - (i % 32)) : 0;\r\n        sprite[k] |= m;\r\n        seen |= m;\r\n      }\r\n      if (seen) seenRow = j;\r\n      else {\r\n        d.y0++;\r\n        h--;\r\n        j--;\r\n        y++;\r\n      }\r\n    }\r\n    d.y1 = d.y0 + seenRow;\r\n    d.sprite = sprite.slice(0, (d.y1 - d.y0) * w32);\r\n  }\r\n}\r\n\r\n// Use mask-based collision detection.\r\nfunction cloudCollide(tag, board, sw) {\r\n  sw >>= 5;\r\n  const sprite = tag.sprite,\r\n    w = tag.width >> 5,\r\n    lx = tag.x - (w << 4),\r\n    sx = lx & 0x7f,\r\n    msx = 32 - sx,\r\n    h = tag.y1 - tag.y0;\r\n  let x = (tag.y + tag.y0) * sw + (lx >> 5),\r\n    last;\r\n  for (let j = 0; j < h; j++) {\r\n    last = 0;\r\n    for (let i = 0; i <= w; i++) {\r\n      if (((last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0)) & board[x + i]) return true;\r\n    }\r\n    x += sw;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction cloudBounds(bounds, d) {\r\n  const b0 = bounds[0],\r\n    b1 = bounds[1];\r\n  if (d.x + d.x0 < b0.x) b0.x = d.x + d.x0;\r\n  if (d.y + d.y0 < b0.y) b0.y = d.y + d.y0;\r\n  if (d.x + d.x1 > b1.x) b1.x = d.x + d.x1;\r\n  if (d.y + d.y1 > b1.y) b1.y = d.y + d.y1;\r\n}\r\n\r\nfunction collideRects(a, b) {\r\n  return a.x + a.x1 > b[0].x && a.x + a.x0 < b[1].x && a.y + a.y1 > b[0].y && a.y + a.y0 < b[1].y;\r\n}\r\n\r\nfunction archimedeanSpiral(size) {\r\n  const e = size[0] / size[1];\r\n  return function (t) {\r\n    return [e * (t *= 0.1) * Math.cos(t), t * Math.sin(t)];\r\n  };\r\n}\r\n\r\nfunction rectangularSpiral(size) {\r\n  const dy = 4,\r\n    dx = (dy * size[0]) / size[1];\r\n  let x = 0,\r\n    y = 0;\r\n  return function (t) {\r\n    const sign = t < 0 ? -1 : 1;\r\n    // See triangular numbers: T_n = n * (n + 1) / 2.\r\n    switch ((Math.sqrt(1 + 4 * sign * t) - sign) & 3) {\r\n      case 0:\r\n        x += dx;\r\n        break;\r\n      case 1:\r\n        y += dy;\r\n        break;\r\n      case 2:\r\n        x -= dx;\r\n        break;\r\n      default:\r\n        y -= dy;\r\n        break;\r\n    }\r\n    return [x, y];\r\n  };\r\n}\r\n\r\n// TODO reuse arrays?\r\nfunction zeroArray(n) {\r\n  const a = [];\r\n  let i = -1;\r\n  while (++i < n) a[i] = 0;\r\n  return a;\r\n}\r\n\r\nfunction cloudCanvas() {\r\n  return document.createElement('canvas');\r\n}\r\n\r\nexport function functor(d) {\r\n  return isFunction(d)\r\n    ? d\r\n    : function () {\r\n        return d;\r\n      };\r\n}\r\n\r\nconst spirals = {\r\n  archimedean: archimedeanSpiral,\r\n  rectangular: rectangularSpiral,\r\n};\r\n\r\nfunction tagCloud() {\r\n  let size = [256, 256],\r\n    font = cloudFont,\r\n    fontSize = cloudFontSize,\r\n    fontWeight = cloudFontNormal,\r\n    rotate = cloudRotate,\r\n    padding = cloudPadding,\r\n    spiral = archimedeanSpiral,\r\n    random = Math.random,\r\n    words = [],\r\n    timeInterval = Infinity;\r\n\r\n  const text = cloudText;\r\n  const fontStyle = cloudFontNormal;\r\n  const canvas = cloudCanvas;\r\n  const cloud: any = {};\r\n\r\n  cloud.start = function () {\r\n    const [width, height] = size;\r\n    const contextAndRatio = getContext(canvas()),\r\n      board = cloud.board ? cloud.board : zeroArray((size[0] >> 5) * size[1]),\r\n      n = words.length,\r\n      tags = [],\r\n      data = words\r\n        .map(function (d, i, data) {\r\n          d.text = text.call(this, d, i, data);\r\n          d.font = font.call(this, d, i, data);\r\n          d.style = fontStyle.call(this, d, i, data);\r\n          d.weight = fontWeight.call(this, d, i, data);\r\n          d.rotate = rotate.call(this, d, i, data);\r\n          d.size = ~~fontSize.call(this, d, i, data);\r\n          d.padding = padding.call(this, d, i, data);\r\n          return d;\r\n        })\r\n        .sort(function (a, b) {\r\n          return b.size - a.size;\r\n        });\r\n    let i = -1,\r\n      bounds = !cloud.board\r\n        ? null\r\n        : [\r\n            {\r\n              x: 0,\r\n              y: 0,\r\n            },\r\n            {\r\n              x: width,\r\n              y: height,\r\n            },\r\n          ];\r\n\r\n    step();\r\n\r\n    function step() {\r\n      const start = Date.now();\r\n      while (Date.now() - start < timeInterval && ++i < n) {\r\n        const d = data[i];\r\n        d.x = (width * (random() + 0.5)) >> 1;\r\n        d.y = (height * (random() + 0.5)) >> 1;\r\n        cloudSprite(contextAndRatio, d, data, i);\r\n        if (d.hasText && place(board, d, bounds)) {\r\n          tags.push(d);\r\n          if (bounds) {\r\n            if (!cloud.hasImage) {\r\n              // update bounds if image mask not set\r\n              cloudBounds(bounds, d);\r\n            }\r\n          } else {\r\n            bounds = [\r\n              { x: d.x + d.x0, y: d.y + d.y0 },\r\n              { x: d.x + d.x1, y: d.y + d.y1 },\r\n            ];\r\n          }\r\n          // Temporary hack\r\n          d.x -= size[0] >> 1;\r\n          d.y -= size[1] >> 1;\r\n        }\r\n      }\r\n      cloud._tags = tags;\r\n      cloud._bounds = bounds;\r\n    }\r\n\r\n    return cloud;\r\n  };\r\n\r\n  function getContext(canvas: HTMLCanvasElement) {\r\n    canvas.width = canvas.height = 1;\r\n    const ratio = Math.sqrt(canvas.getContext('2d')!.getImageData(0, 0, 1, 1).data.length >> 2);\r\n    canvas.width = (cw << 5) / ratio;\r\n    canvas.height = ch / ratio;\r\n\r\n    const context = canvas.getContext('2d') as CanvasRenderingContext2D;\r\n    context.fillStyle = context.strokeStyle = 'red';\r\n    context.textAlign = 'center';\r\n    return { context, ratio };\r\n  }\r\n\r\n  function place(board, tag, bounds) {\r\n    // const perimeter = [{ x: 0, y: 0 }, { x: size[0], y: size[1] }],\r\n    const startX = tag.x,\r\n      startY = tag.y,\r\n      maxDelta = Math.sqrt(size[0] * size[0] + size[1] * size[1]),\r\n      s = spiral(size),\r\n      dt = random() < 0.5 ? 1 : -1;\r\n    let dxdy,\r\n      t = -dt,\r\n      dx,\r\n      dy;\r\n\r\n    while ((dxdy = s((t += dt)))) {\r\n      dx = ~~dxdy[0];\r\n      dy = ~~dxdy[1];\r\n\r\n      if (Math.min(Math.abs(dx), Math.abs(dy)) >= maxDelta) break;\r\n\r\n      tag.x = startX + dx;\r\n      tag.y = startY + dy;\r\n\r\n      if (tag.x + tag.x0 < 0 || tag.y + tag.y0 < 0 || tag.x + tag.x1 > size[0] || tag.y + tag.y1 > size[1]) continue;\r\n      // TODO only check for collisions within current bounds.\r\n      if (!bounds || !cloudCollide(tag, board, size[0])) {\r\n        if (!bounds || collideRects(tag, bounds)) {\r\n          const sprite = tag.sprite,\r\n            w = tag.width >> 5,\r\n            sw = size[0] >> 5,\r\n            lx = tag.x - (w << 4),\r\n            sx = lx & 0x7f,\r\n            msx = 32 - sx,\r\n            h = tag.y1 - tag.y0;\r\n          let last,\r\n            x = (tag.y + tag.y0) * sw + (lx >> 5);\r\n          for (let j = 0; j < h; j++) {\r\n            last = 0;\r\n            for (let i = 0; i <= w; i++) {\r\n              board[x + i] |= (last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0);\r\n            }\r\n            x += sw;\r\n          }\r\n          delete tag.sprite;\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  cloud.createMask = (img: HTMLImageElement) => {\r\n    const can: HTMLCanvasElement = document.createElement('canvas');\r\n    const [width, height] = size;\r\n\r\n    //  width  height  0  cxt.getImageData \r\n    if (!width || !height) {\r\n      return;\r\n    }\r\n    const w32 = width >> 5;\r\n    const board = zeroArray((width >> 5) * height);\r\n    can.width = width;\r\n    can.height = height;\r\n    const cxt = can.getContext('2d') as CanvasRenderingContext2D;\r\n    cxt.drawImage(img, 0, 0, img.width, img.height, 0, 0, width, height);\r\n    const imageData = cxt.getImageData(0, 0, width, height).data;\r\n    for (let j = 0; j < height; j++) {\r\n      for (let i = 0; i < width; i++) {\r\n        const k = w32 * j + (i >> 5);\r\n        const tmp = (j * width + i) << 2;\r\n        const flag = imageData[tmp] >= 250 && imageData[tmp + 1] >= 250 && imageData[tmp + 2] >= 250;\r\n        const m = flag ? 1 << (31 - (i % 32)) : 0;\r\n        board[k] |= m;\r\n      }\r\n    }\r\n    cloud.board = board;\r\n    cloud.hasImage = true;\r\n  };\r\n\r\n  cloud.timeInterval = function (_) {\r\n    timeInterval = _ == null ? Infinity : _;\r\n  };\r\n\r\n  cloud.words = function (_) {\r\n    words = _;\r\n  };\r\n\r\n  cloud.size = function (_) {\r\n    size = [+_[0], +_[1]];\r\n  };\r\n\r\n  cloud.font = function (_) {\r\n    font = functor(_);\r\n  };\r\n\r\n  cloud.fontWeight = function (_) {\r\n    fontWeight = functor(_);\r\n  };\r\n\r\n  cloud.rotate = function (_) {\r\n    rotate = functor(_);\r\n  };\r\n\r\n  cloud.spiral = function (_) {\r\n    spiral = spirals[_] || _;\r\n  };\r\n\r\n  cloud.fontSize = function (_) {\r\n    fontSize = functor(_);\r\n  };\r\n\r\n  cloud.padding = function (_) {\r\n    padding = functor(_);\r\n  };\r\n\r\n  cloud.random = function (_) {\r\n    random = functor(_);\r\n  };\r\n\r\n  return cloud;\r\n}\r\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { RoseOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { RoseOptions };\n\nexport class Rose extends Plot<RoseOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<RoseOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'rose';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *  options \n   */\n  protected getDefaultOptions(): Partial<RoseOptions> {\n    return Rose.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RoseOptions> {\n    return adaptor;\n  }\n}\n","import { Chart } from '@antv/g2';\r\nimport { Types } from '@antv/g2';\r\nimport { isArray, isFunction, isString } from '@antv/util';\r\nimport { normalPadding } from '../../utils/padding';\r\nimport { Params } from '../../core/adaptor';\r\nimport { Datum } from '../../types';\r\nimport { log, LEVEL, getContainerSize } from '../../utils';\r\nimport { functor, wordCloud } from '../../utils/transform/word-cloud';\r\nimport { Tag, Word, WordCloudOptions, WordStyle } from './types';\r\n\r\n/**\r\n *  DataSet \r\n * @param params\r\n */\r\nexport function transform(params: Params<WordCloudOptions>): Tag[] {\r\n  const { options: rawOptions, chart } = params;\r\n  const { width, height, padding: chartPadding, appendPadding, ele } = chart as Chart;\r\n  const {\r\n    data,\r\n    imageMask,\r\n    wordField,\r\n    weightField,\r\n    colorField,\r\n    wordStyle,\r\n    timeInterval,\r\n    random,\r\n    spiral,\r\n    autoFit = true,\r\n    placementStrategy,\r\n  } = rawOptions;\r\n  if (!data || !data.length) {\r\n    return [];\r\n  }\r\n  const { fontFamily, fontWeight, padding, fontSize } = wordStyle;\r\n  const arr = getSingleKeyValues(data, weightField);\r\n  const range = [min(arr), max(arr)] as [number, number];\r\n\r\n  //  text  value \r\n  const words = data.map(\r\n    (datum: Datum): Word => ({\r\n      text: datum[wordField],\r\n      value: datum[weightField],\r\n      color: datum[colorField],\r\n      datum, // \r\n    })\r\n  );\r\n\r\n  const options = {\r\n    imageMask: imageMask as HTMLImageElement,\r\n    font: fontFamily,\r\n    fontSize: getFontSizeMapping(fontSize, range),\r\n    fontWeight: fontWeight,\r\n    //  padding \r\n    size: getSize({\r\n      width,\r\n      height,\r\n      padding: chartPadding,\r\n      appendPadding,\r\n      autoFit,\r\n      container: ele,\r\n    }),\r\n    padding: padding,\r\n    timeInterval,\r\n    random,\r\n    spiral,\r\n    rotate: getRotate(rawOptions),\r\n  };\r\n\r\n  // \r\n  if (isFunction(placementStrategy)) {\r\n    const result = words.map((word: Word, index: number, words: Word[]) => ({\r\n      ...word,\r\n      hasText: !!word.text,\r\n      font: functor(options.font)(word, index, words),\r\n      weight: functor(options.fontWeight)(word, index, words),\r\n      rotate: functor(options.rotate)(word, index, words),\r\n      size: functor(options.fontSize)(word, index, words),\r\n      style: 'normal',\r\n      ...placementStrategy.call(chart, word, index, words),\r\n    }));\r\n\r\n    // \r\n    result.push({\r\n      text: '',\r\n      value: 0,\r\n      x: 0,\r\n      y: 0,\r\n      opacity: 0,\r\n    });\r\n    result.push({\r\n      text: '',\r\n      value: 0,\r\n      x: options.size[0],\r\n      y: options.size[1],\r\n      opacity: 0,\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  // wordCloud \r\n  return wordCloud(words, options);\r\n}\r\n\r\n/**\r\n * [width, height]\r\n * @param chart\r\n */\r\nexport function getSize(options: {\r\n  width: number;\r\n  height: number;\r\n  padding: Types.ViewPadding;\r\n  appendPadding: Types.ViewAppendPadding;\r\n  autoFit: boolean;\r\n  container: HTMLElement;\r\n}): [number, number] {\r\n  let { width, height } = options;\r\n  const { container, autoFit, padding, appendPadding } = options;\r\n\r\n  //  DataSet \r\n  //  DataSet \r\n  //  DataSet \r\n  // \r\n  if (autoFit) {\r\n    const containerSize = getContainerSize(container);\r\n    width = containerSize.width;\r\n    height = containerSize.height;\r\n  }\r\n\r\n  //  0\r\n  width = width || 400;\r\n  height = height || 400;\r\n\r\n  const [top, right, bottom, left] = resolvePadding({ padding, appendPadding });\r\n  const result = [width - (left + right), height - (top + bottom)];\r\n\r\n  return result as [number, number];\r\n}\r\n\r\n/**\r\n *  padding  appendPadding  padding\r\n * @param chart\r\n */\r\nfunction resolvePadding(options: { padding: Types.ViewPadding; appendPadding: Types.ViewAppendPadding }) {\r\n  const padding = normalPadding(options.padding);\r\n  const appendPadding = normalPadding(options.appendPadding);\r\n  const top = padding[0] + appendPadding[0];\r\n  const right = padding[1] + appendPadding[1];\r\n  const bottom = padding[2] + appendPadding[2];\r\n  const left = padding[3] + appendPadding[3];\r\n\r\n  return [top, right, bottom, left];\r\n}\r\n\r\n/**\r\n *  imageMask  url \r\n * @param  {HTMLImageElement | string} img\r\n * @return {Promise}\r\n */\r\nexport function processImageMask(img: HTMLImageElement | string): Promise<HTMLImageElement> {\r\n  return new Promise((res, rej) => {\r\n    if (img instanceof HTMLImageElement) {\r\n      res(img);\r\n      return;\r\n    }\r\n    if (isString(img)) {\r\n      const image = new Image();\r\n      image.crossOrigin = 'anonymous';\r\n      image.src = img;\r\n      image.onload = () => {\r\n        res(image);\r\n      };\r\n      image.onerror = () => {\r\n        log(LEVEL.ERROR, false, 'image %s load failed !!!', img);\r\n        rej();\r\n      };\r\n      return;\r\n    }\r\n    log(LEVEL.WARN, img === undefined, 'The type of imageMask option must be String or HTMLImageElement.');\r\n    rej();\r\n  });\r\n}\r\n\r\n/**\r\n *  fontSize  DataSet \r\n * @param options\r\n * @param range\r\n */\r\nexport function getFontSizeMapping(fontSize: WordStyle['fontSize'], range?: [number, number]) {\r\n  if (isFunction(fontSize)) {\r\n    return fontSize;\r\n  }\r\n  if (isArray(fontSize)) {\r\n    const [fMin, fMax] = fontSize;\r\n    if (!range) {\r\n      return () => (fMax + fMin) / 2;\r\n    }\r\n    const [min, max] = range;\r\n    if (max === min) {\r\n      return () => (fMax + fMin) / 2;\r\n    }\r\n    return function fontSize({ value }) {\r\n      return ((fMax - fMin) / (max - min)) * (value - min) + fMin;\r\n    };\r\n  }\r\n  return () => fontSize;\r\n}\r\n\r\nexport function getSingleKeyValues(data: Datum[], key: string) {\r\n  return data\r\n    .map((v) => v[key])\r\n    .filter((v) => {\r\n      //  number\r\n      if (typeof v === 'number' && !isNaN(v)) return true;\r\n      return false;\r\n    });\r\n}\r\n\r\n/**\r\n *  DataSet \r\n * @param options\r\n */\r\nfunction getRotate(options: WordCloudOptions) {\r\n  const { rotation, rotationSteps } = resolveRotate(options);\r\n  if (!isArray(rotation)) return rotation;\r\n  const min = rotation[0];\r\n  const max = rotation[1];\r\n  //  1  0\r\n  const perSize = rotationSteps === 1 ? 0 : (max - min) / (rotationSteps - 1);\r\n  return function rotate() {\r\n    if (max === min) return max;\r\n    return Math.floor(Math.random() * rotationSteps) * perSize;\r\n  };\r\n}\r\n\r\n/**\r\n * \r\n * @param options\r\n */\r\nfunction resolveRotate(options: WordCloudOptions) {\r\n  let { rotationSteps } = options.wordStyle;\r\n  if (rotationSteps < 1) {\r\n    log(LEVEL.WARN, false, 'The rotationSteps option must be greater than or equal to 1.');\r\n    rotationSteps = 1;\r\n  }\r\n  return {\r\n    rotation: options.wordStyle.rotation,\r\n    rotationSteps,\r\n  };\r\n}\r\n\r\n/**\r\n * \r\n * \r\n * @param numbers\r\n */\r\nfunction min(numbers: number[]) {\r\n  return Math.min(...numbers);\r\n}\r\n\r\n/**\r\n * \r\n * \r\n * @param numbers\r\n */\r\nfunction max(numbers: number[]) {\r\n  return Math.max(...numbers);\r\n}\r\n","import { Plot } from '../../core/plot';\nimport { Datum } from '../../types';\nimport { deepAssign } from '../../utils';\n\n/**  color  */\nexport const WORD_CLOUD_COLOR_FIELD = 'color';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  timeInterval: 2000,\n  legend: false,\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    showCrosshairs: false,\n    fields: ['text', 'value', WORD_CLOUD_COLOR_FIELD],\n    formatter: (datum: Datum) => {\n      return { name: datum.text, value: datum.value };\n    },\n  },\n  wordStyle: {\n    fontFamily: 'Verdana',\n    fontWeight: 'normal',\n    padding: 1,\n    fontSize: [12, 60],\n    rotation: [0, 90],\n    rotationSteps: 2,\n    rotateRatio: 0.5,\n  },\n});\n","import { isFunction, get } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme, scale, state } from '../../adaptor/common';\nimport { flow, deepAssign } from '../../utils';\nimport { point } from '../../adaptor/geometries';\nimport { WordCloudOptions } from './types';\nimport { transform } from './utils';\nimport { WORD_CLOUD_COLOR_FIELD } from './constant';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart, options } = params;\n  const { colorField, color } = options;\n  const data = transform(params);\n\n  chart.data(data);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'x',\n      yField: 'y',\n      seriesField: colorField && WORD_CLOUD_COLOR_FIELD,\n      rawFields: isFunction(color) && [...get(options, 'rawFields', []), 'datum'],\n      point: {\n        color,\n        shape: 'word-cloud',\n      },\n    },\n  });\n\n  const { ext } = point(p);\n  ext.geometry.label(false);\n\n  chart.coordinate().reflect('y');\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  return flow(\n    scale({\n      x: { nice: false },\n      y: { nice: false },\n    })\n  )(params);\n}\n\n/**\n *  legend \n * @param params\n */\nexport function legend(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart, options } = params;\n  const { legend, colorField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (colorField) {\n    chart.legend(WORD_CLOUD_COLOR_FIELD, legend);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<WordCloudOptions>) {\n  // flow  G2 API\n  flow(geometry, meta, tooltip, legend, interaction, animation, theme, state)(params);\n}\n","import { registerShape, Util, Types, IGroup, ShapeAttrs } from '@antv/g2';\nimport { Tag } from '../types';\n\ntype Config = Types.ShapeInfo & { data: Tag };\n\nregisterShape('point', 'word-cloud', {\n  draw(cfg: Config, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const shape = group.addShape('text', {\n      attrs: {\n        ...getTextAttrs(cfg),\n        x: cx,\n        y: cy,\n      },\n    });\n    const rotate = cfg.data.rotate;\n    if (typeof rotate === 'number') {\n      Util.rotate(shape, (rotate * Math.PI) / 180);\n    }\n\n    return shape;\n  },\n});\n\nfunction getTextAttrs(cfg: Config): ShapeAttrs {\n  return {\n    fontSize: cfg.data.size,\n    text: cfg.data.text,\n    textAlign: 'center',\n    fontFamily: cfg.data.font,\n    fontWeight: cfg.data.weight,\n    fill: cfg.color || cfg.defaultStyle.stroke,\n    textBaseline: 'alphabetic',\n  };\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { WordCloudOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { processImageMask, transform } from './utils';\n// shape\nimport './shapes/word-cloud';\n\nexport type { WordCloudOptions };\n\nexport class WordCloud extends Plot<WordCloudOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<WordCloudOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'word-cloud';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    if (this.options.imageMask) {\n      this.render();\n    } else {\n      this.chart.changeData(transform({ chart: this.chart, options: this.options }));\n    }\n  }\n\n  /**\n   *  options \n   */\n  protected getDefaultOptions(): Partial<WordCloudOptions> {\n    return WordCloud.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  public render() {\n    return new Promise<void>((res) => {\n      const { imageMask } = this.options;\n\n      if (!imageMask) {\n        // \n        super.render();\n        res();\n        return;\n      }\n\n      const handler = (img: HTMLImageElement) => {\n        this.options = {\n          ...this.options,\n          imageMask: img || null,\n        };\n\n        // \n        super.render();\n        res();\n      };\n\n      processImageMask(imageMask).then(handler).catch(handler);\n    });\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<WordCloudOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      //  adaptor\n      // \n      this.execAdaptor();\n\n      // \n      // TODO: \n      window.setTimeout(() => {\n        // \n        super.triggerResize();\n      });\n    }\n  }\n}\n","import {\n  regressionLinear,\n  regressionExp,\n  regressionLoess,\n  regressionLog,\n  regressionPoly,\n  regressionPow,\n  regressionQuad,\n} from 'd3-regression';\nimport { isArray, get, isNumber } from '@antv/util';\nimport { View } from '@antv/g2';\nimport { getSplinePath } from '../../utils';\nimport { ScatterOptions } from './types';\n\nconst REGRESSION_MAP = {\n  exp: regressionExp,\n  linear: regressionLinear,\n  loess: regressionLoess,\n  log: regressionLog,\n  poly: regressionPoly,\n  pow: regressionPow,\n  quad: regressionQuad,\n};\n\ntype RenderOptions = {\n  view: View;\n  options: ScatterOptions;\n};\n\n/**\n * \n * @param {number} xBaseline\n * @param {number} yBaseline\n */\nexport function getQuadrantDefaultConfig(xBaseline: number, yBaseline: number) {\n  // \n  const textOffset = 10;\n  // \n  const defaultConfig: { [key: string]: any } = {\n    regionStyle: [\n      {\n        position: {\n          start: [xBaseline, 'max'],\n          end: ['max', yBaseline],\n        },\n        style: {\n          fill: '#d8d0c0',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: ['min', 'max'],\n          end: [xBaseline, yBaseline],\n        },\n        style: {\n          fill: '#a3dda1',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: ['min', yBaseline],\n          end: [xBaseline, 'min'],\n        },\n        style: {\n          fill: '#d8d0c0',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: [xBaseline, yBaseline],\n          end: ['max', 'min'],\n        },\n        style: {\n          fill: '#a3dda1',\n          opacity: 0.4,\n        },\n      },\n    ],\n    lineStyle: {\n      stroke: '#9ba29a',\n      lineWidth: 1,\n    },\n    labelStyle: [\n      {\n        position: ['max', yBaseline],\n        offsetX: -textOffset,\n        offsetY: -textOffset,\n        style: {\n          textAlign: 'right',\n          textBaseline: 'bottom',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['min', yBaseline],\n        offsetX: textOffset,\n        offsetY: -textOffset,\n        style: {\n          textAlign: 'left',\n          textBaseline: 'bottom',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['min', yBaseline],\n        offsetX: textOffset,\n        offsetY: textOffset,\n        style: {\n          textAlign: 'left',\n          textBaseline: 'top',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['max', yBaseline],\n        offsetX: -textOffset,\n        offsetY: textOffset,\n        style: {\n          textAlign: 'right',\n          textBaseline: 'top',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n    ],\n  };\n  return defaultConfig;\n}\n\nconst splinePath = (data: number[][], config: RenderOptions) => {\n  const {\n    view,\n    options: { xField, yField },\n  } = config;\n  const xScaleView = view.getScaleByField(xField);\n  const yScaleView = view.getScaleByField(yField);\n  const pathData = data.map((d: [number, number]) =>\n    view.getCoordinate().convert({ x: xScaleView.scale(d[0]), y: yScaleView.scale(d[1]) })\n  );\n  return getSplinePath(pathData, false);\n};\n\nexport const getPath = (config: RenderOptions) => {\n  const { options } = config;\n  const { xField, yField, data, regressionLine } = options;\n  const { type = 'linear', algorithm } = regressionLine;\n  let pathData: Array<[number, number]>;\n  if (algorithm) {\n    pathData = isArray(algorithm) ? algorithm : algorithm(data);\n  } else {\n    const reg = REGRESSION_MAP[type]()\n      .x((d) => d[xField])\n      .y((d) => d[yField]);\n    pathData = reg(data);\n  }\n  return splinePath(pathData, config);\n};\n\n/**\n *  meta: { min, max }  data.length === 1   y    x \n * @param options\n * @returns\n */\nexport const getMeta = (\n  options: Pick<ScatterOptions, 'meta' | 'xField' | 'yField' | 'data'>\n): ScatterOptions['meta'] => {\n  const { meta = {}, xField, yField, data } = options;\n  const xFieldValue = data[0][xField];\n  const yFieldValue = data[0][yField];\n  const xIsPositiveNumber = xFieldValue > 0;\n  const yIsPositiveNumber = yFieldValue > 0;\n\n  /**\n   *  min max scale \n   */\n  function getMetaMinMax(field: string, axis: 'x' | 'y') {\n    const fieldMeta = get(meta, [field]);\n\n    function getCustomValue(type: 'min' | 'max') {\n      return get(fieldMeta, type);\n    }\n\n    const range = {};\n\n    if (axis === 'x') {\n      if (isNumber(xFieldValue)) {\n        if (!isNumber(getCustomValue('min'))) {\n          range['min'] = xIsPositiveNumber ? 0 : xFieldValue * 2;\n        }\n\n        if (!isNumber(getCustomValue('max'))) {\n          range['max'] = xIsPositiveNumber ? xFieldValue * 2 : 0;\n        }\n      }\n\n      return range;\n    }\n\n    if (isNumber(yFieldValue)) {\n      if (!isNumber(getCustomValue('min'))) {\n        range['min'] = yIsPositiveNumber ? 0 : yFieldValue * 2;\n      }\n\n      if (!isNumber(getCustomValue('max'))) {\n        range['max'] = yIsPositiveNumber ? yFieldValue * 2 : 0;\n      }\n    }\n\n    return range;\n  }\n\n  return {\n    ...meta,\n    [xField]: {\n      ...meta[xField],\n      ...getMetaMinMax(xField, 'x'),\n    },\n    [yField]: {\n      ...meta[yField],\n      ...getMetaMinMax(yField, 'y'),\n    },\n  };\n};\n","import { isNumber } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign, pick } from '../../utils';\nimport { point } from '../../adaptor/geometries';\nimport { brushInteraction } from '../../adaptor/brush';\nimport { interaction, animation, theme, scale, annotation, slider, scrollbar } from '../../adaptor/common';\nimport { findGeometry, transformLabel } from '../../utils';\nimport { getQuadrantDefaultConfig, getPath, getMeta } from './util';\nimport { ScatterOptions } from './types';\n\n/**\n * \n *  data.length === 1   y    x \n * @param params\n * @returns params\n */\nexport function transformOptions(options: ScatterOptions): ScatterOptions {\n  const { data = [], xField, yField } = options;\n\n  if (data.length) {\n    // x y \n    let isOneX = true;\n    let isOneY = true;\n\n    let prev = data[0];\n    let curr;\n\n    for (let i = 1; i < data.length; i++) {\n      curr = data[i];\n\n      if (prev[xField] !== curr[xField]) {\n        isOneX = false;\n      }\n\n      if (prev[yField] !== curr[yField]) {\n        isOneY = false;\n      }\n\n      //  oneValue\n      if (!isOneX && !isOneY) {\n        break;\n      }\n\n      prev = curr;\n    }\n\n    const keys = [];\n    isOneX && keys.push(xField);\n    isOneY && keys.push(yField);\n\n    const meta = pick(getMeta(options), keys);\n\n    return deepAssign({}, options, { meta });\n  }\n\n  return options;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { data, type, color, shape, pointStyle, shapeField, colorField, xField, yField, sizeField } = options;\n  let { size } = options;\n\n  let { tooltip } = options;\n\n  if (sizeField) {\n    if (!size) {\n      size = [2, 8];\n    }\n    if (isNumber(size)) {\n      size = [size, size];\n    }\n  }\n\n  if (tooltip && !tooltip.fields) {\n    tooltip = {\n      ...tooltip,\n      fields: [xField, yField, colorField, sizeField, shapeField],\n    };\n  }\n  // \n  chart.data(data);\n\n  // geometry\n  point(\n    deepAssign({}, params, {\n      options: {\n        seriesField: colorField,\n        point: {\n          color,\n          shape,\n          size,\n          style: pointStyle,\n        },\n        tooltip,\n      },\n    })\n  );\n\n  const geometry = findGeometry(chart, 'point');\n\n  // \n  if (type) {\n    geometry.adjust(type);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  const newOptions = transformOptions(options);\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(deepAssign({}, params, { options: newOptions }));\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  chart.axis(xField, xAxis);\n  chart.axis(yField, yAxis);\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { legend, colorField, shapeField, sizeField, shapeLegend, sizeLegend } = options;\n\n  /** legend  false, ,  color  */\n  const showLegend = legend !== false;\n\n  if (colorField) {\n    chart.legend(colorField, showLegend ? legend : false);\n  }\n\n  //  shapeLegend,  legend\n  if (shapeField) {\n    if (shapeLegend) {\n      chart.legend(shapeField, shapeLegend);\n    } else {\n      chart.legend(shapeField, shapeLegend === false ? false : legend);\n    }\n  }\n\n  if (sizeField) {\n    chart.legend(sizeField, sizeLegend ? sizeLegend : false);\n  }\n\n  /**  shape  shapeLegend  undefined  */\n  /**  sizeField */\n  if (!showLegend && !shapeLegend && !sizeLegend) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const scatterGeometry = findGeometry(chart, 'point');\n\n  // label  false,   label\n  if (!label) {\n    scatterGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    scatterGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * annotation \n * -  annotation: quadrant()\n * @param params\n */\nfunction scatterAnnotation(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options } = params;\n  const { quadrant } = options;\n\n  const annotationOptions = [];\n\n  if (quadrant) {\n    const { xBaseline = 0, yBaseline = 0, labels, regionStyle, lineStyle } = quadrant;\n    const defaultConfig = getQuadrantDefaultConfig(xBaseline, yBaseline);\n    // \n    const quadrants = new Array(4).join(',').split(',');\n    quadrants.forEach((_: string, index: number) => {\n      annotationOptions.push(\n        {\n          type: 'region',\n          top: false,\n          ...defaultConfig.regionStyle[index].position,\n          style: deepAssign({}, defaultConfig.regionStyle[index].style, regionStyle?.[index]),\n        },\n        {\n          type: 'text',\n          top: true,\n          ...deepAssign({}, defaultConfig.labelStyle[index], labels?.[index]),\n        }\n      );\n    });\n    // \n    annotationOptions.push(\n      {\n        type: 'line',\n        top: false,\n        start: ['min', yBaseline],\n        end: ['max', yBaseline],\n        style: deepAssign({}, defaultConfig.lineStyle, lineStyle),\n      },\n      {\n        type: 'line',\n        top: false,\n        start: [xBaseline, 'min'],\n        end: [xBaseline, 'max'],\n        style: deepAssign({}, defaultConfig.lineStyle, lineStyle),\n      }\n    );\n  }\n\n  return flow(annotation(annotationOptions))(params);\n}\n\n// \nfunction regressionLine(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options, chart } = params;\n  const { regressionLine } = options;\n  if (regressionLine) {\n    const { style, top = false } = regressionLine;\n    const defaultStyle = {\n      stroke: '#9ba29a',\n      lineWidth: 2,\n      opacity: 0.5,\n    };\n    chart.annotation().shape({\n      top,\n      render: (container, view) => {\n        const group = container.addGroup({\n          id: `${chart.id}-regression-line`,\n          name: 'regression-line-group',\n        });\n        const path = getPath({\n          view,\n          options,\n        });\n        group.addShape('path', {\n          name: 'regression-line',\n          attrs: {\n            path,\n            ...defaultStyle,\n            ...style,\n          },\n        });\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip) {\n    chart.tooltip(tooltip);\n  } else if (tooltip === false) {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ScatterOptions>) {\n  // flow  G2 API\n  return flow(\n    geometry,\n    meta,\n    axis,\n    legend,\n    tooltip,\n    label,\n    //  interaction \n    brushInteraction,\n    slider,\n    scrollbar,\n    interaction,\n    scatterAnnotation,\n    animation,\n    theme,\n    regressionLine\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  size: 4,\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'xy',\n    },\n  },\n});\n","import { registerInteraction } from '@antv/g2';\n\nregisterInteraction('drag-move', {\n  start: [{ trigger: 'plot:mousedown', action: 'scale-translate:start' }],\n  processing: [\n    {\n      trigger: 'plot:mousemove',\n      action: 'scale-translate:translate',\n      throttle: { wait: 100, leading: true, trailing: false },\n    },\n  ],\n  end: [{ trigger: 'plot:mouseup', action: 'scale-translate:end' }],\n});\n","import { BRUSH_FILTER_EVENTS, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { ScatterOptions } from './types';\nimport { adaptor, transformOptions, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport './interactions';\n\nexport type { ScatterOptions };\n\nexport class Scatter extends Plot<ScatterOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ScatterOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'scatter';\n\n  constructor(container: string | HTMLElement, options: ScatterOptions) {\n    super(container, options);\n\n    //  brush  meta\n    this.on(VIEW_LIFE_CIRCLE.BEFORE_RENDER, (evt) => {\n      //  option\n      const { options, chart } = this;\n      if (evt.data?.source === BRUSH_FILTER_EVENTS.FILTER) {\n        const filteredData = this.chart.filterData(this.chart.getData());\n        meta({ chart, options: { ...options, data: filteredData } });\n      }\n\n      if (evt.data?.source === BRUSH_FILTER_EVENTS.RESET) {\n        meta({ chart, options });\n      }\n    });\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: ScatterOptions['data']) {\n    this.updateOption(transformOptions(deepAssign({}, this.options, { data })));\n    const { options, chart } = this;\n    meta({ chart, options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ScatterOptions> {\n    return adaptor;\n  }\n\n  protected getDefaultOptions() {\n    return Scatter.getDefaultOptions();\n  }\n}\n","import { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme, scale, annotation, legend } from '../../adaptor/common';\nimport { area, point, line } from '../../adaptor/geometries';\nimport { findGeometry, flow, transformLabel, deepAssign } from '../../utils';\nimport { RadarOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { data, lineStyle, color, point: pointOptions, area: areaOptions } = options;\n\n  chart.data(data);\n\n  //   geometry\n  const primary = deepAssign({}, params, {\n    options: {\n      line: {\n        style: lineStyle,\n        color,\n      },\n      point: pointOptions\n        ? {\n            color,\n            ...pointOptions,\n          }\n        : pointOptions,\n      area: areaOptions\n        ? {\n            color,\n            ...areaOptions,\n          }\n        : areaOptions,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n    },\n  });\n  //  Geometry\n  const second = deepAssign({}, primary, {\n    options: {\n      tooltip: false,\n    },\n  });\n  //  point.state,  state \n  const pointState = pointOptions?.state || options.state;\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  line(primary);\n  point(pointParams);\n  area(second);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * coord \n * @param params\n */\nfunction coord(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { radius, startAngle, endAngle } = options;\n\n  chart.coordinate('polar', {\n    radius,\n    startAngle,\n    endAngle,\n  });\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { xField, xAxis, yField, yAxis } = options;\n\n  chart.axis(xField, xAxis);\n  chart.axis(yField, yAxis);\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const geometry = findGeometry(chart, 'line');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RadarOptions>) {\n  // flow  G2 API\n  return flow(geometry, meta, theme, coord, axis, legend, tooltip, label, interaction, animation, annotation())(params);\n}\n","import { registerComponentController, Util, TooltipController, Action } from '@antv/g2';\nimport { isNil } from '@antv/util';\nimport { Point } from '../../../types';\n\nexport class RadarTooltipController extends TooltipController {\n  public get name(): string {\n    return 'radar-tooltip';\n  }\n\n  public getTooltipItems(point: Point) {\n    const { shared, title: cfgTitle } = this.getTooltipCfg();\n    const hintItems = super.getTooltipItems(point);\n\n    if (hintItems.length > 0) {\n      const geometry = this.view.geometries[0];\n      const dataArray = geometry.dataArray;\n      const title = hintItems[0].name;\n      const result = [];\n      dataArray.forEach((mappingData) => {\n        mappingData.forEach((d) => {\n          const items = Util.getTooltipItems(d, geometry);\n          const item = items[0];\n          if (!shared && item && item.name === title) {\n            const displayTitle = isNil(cfgTitle) ? title : cfgTitle;\n            result.push({ ...item, name: item.title, title: displayTitle });\n          } else if (shared && item) {\n            const displayTitle = isNil(cfgTitle) ? item.name || title : cfgTitle;\n            result.push({ ...item, name: item.title, title: displayTitle });\n          }\n        });\n      });\n\n      return result;\n    }\n    return [];\n  }\n}\nregisterComponentController('radar-tooltip', RadarTooltipController);\n\n/**\n *  tooltip  action\n */\nexport class RadarTooltipAction extends Action {\n  init() {\n    const { view } = this.context;\n    view.removeInteraction('tooltip');\n  }\n\n  public show() {\n    const { event } = this.context;\n    const controller = this.getTooltipController();\n    controller.showTooltip({ x: event.x, y: event.y });\n  }\n\n  public hide() {\n    const controller = this.getTooltipController();\n    controller.hideTooltip();\n  }\n\n  private getTooltipController() {\n    const { view } = this.context;\n    return view.getController('radar-tooltip') as TooltipController;\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { RadarTooltipAction } from './radar-tooltip-action';\n\nregisterAction('radar-tooltip', RadarTooltipAction);\nregisterInteraction('radar-tooltip', {\n  start: [{ trigger: 'plot:mousemove', action: 'radar-tooltip:show' }],\n  end: [{ trigger: 'plot:mouseleave', action: 'radar-tooltip:hide' }],\n});\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { Adaptor } from '../../core/adaptor';\nimport { RadarOptions } from './types';\nimport { adaptor } from './adaptor';\nimport './interactions';\n\nexport type { RadarOptions };\n\nexport class Radar extends Plot<RadarOptions> {\n  /**  */\n  public type: string = 'radar';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<RadarOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      xAxis: {\n        label: {\n          offset: 15,\n        },\n        grid: {\n          line: {\n            type: 'line',\n          },\n        },\n      },\n      yAxis: {\n        grid: {\n          line: {\n            type: 'circle',\n          },\n        },\n      },\n      legend: {\n        position: 'top',\n      },\n      tooltip: {\n        shared: true,\n        showCrosshairs: true,\n        showMarkers: true,\n        crosshairs: {\n          type: 'xy',\n          line: {\n            style: {\n              stroke: '#565656',\n              lineDash: [4],\n            },\n          },\n          follow: true,\n        },\n      },\n    });\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RadarOptions> {\n    return adaptor;\n  }\n}\n","import { Options, ShapeAttr, SizeAttr, StyleAttr } from '../../types';\nimport { LineOptions } from '../line/types';\nimport { ColumnOptions } from '../column/types';\n\nexport enum AxisType {\n  Left = 'Left',\n  Right = 'Right',\n}\n\nexport enum DualAxesGeometry {\n  Line = 'line',\n  Column = 'column',\n}\n\nexport interface PointConfig {\n  readonly shape?: ShapeAttr;\n  readonly size?: SizeAttr;\n  readonly style?: StyleAttr;\n}\n\ntype CommonGeometryOption = {\n  /**\n   * @title \n   */\n  readonly geometry?: string;\n  /**\n   * @title \n   */\n  readonly label?: Options['label'];\n  /**\n   * @title legend\n   */\n  readonly legend?: Options['legend'];\n  /**\n   * @title \n   */\n  readonly color?: Options['color'];\n  /**\n   * @title \n   * @default false\n   */\n  readonly isGroup?: boolean;\n  /**\n   * @title \n   * @description  seriesField\n   */\n  readonly groupField?: string;\n};\n\n// ,  LineOption \nexport type GeometryLineOption = Pick<\n  LineOptions,\n  'seriesField' | 'smooth' | 'connectNulls' | 'lineStyle' | 'point' | 'isStack' | 'stepType'\n> &\n  CommonGeometryOption;\n\n// \nexport type GeometryColumnOption = Pick<\n  ColumnOptions,\n  | 'seriesField'\n  | 'isGroup'\n  | 'isStack'\n  | 'isRange'\n  | 'isPercent'\n  | 'columnWidthRatio'\n  | 'marginRatio'\n  | 'columnStyle'\n  | 'pattern'\n> &\n  CommonGeometryOption;\n\nexport type GeometryOption = GeometryColumnOption | GeometryLineOption;\n\nexport type DualAxesOptions = Omit<Options, 'data' | 'yAxis' | 'color' | 'annotations'> & {\n  /**\n   * @title \n   * @description \n   */\n  readonly data: Array<Record<string, any>[]>;\n  /**\n   * @title  x \n   * @description x \n   */\n  readonly xField: string;\n  /**\n   * @title  y \n   * @description \n   */\n  readonly yField: string[];\n  /**\n   * @title  yAxis \n   * @description  object key  y \n   */\n  readonly yAxis?: Options['yAxis'][] | Record<string, Options['yAxis']>;\n  /**\n   * @title \n   */\n  readonly geometryOptions?: GeometryOption[];\n  /**\n   * @title  annotation \n   * @description object  field \n   */\n  readonly annotations?: Options['annotations'][] | Record<string, Options['annotations']>;\n};\n","export const LEFT_AXES_VIEW = 'left-axes-view';\nexport const RIGHT_AXES_VIEW = 'right-axes-view';\n\nexport const DEFAULT_YAXIS_CONFIG = {\n  nice: true,\n  label: {\n    autoHide: true,\n    autoRotate: false,\n  },\n};\n\nexport const DEFAULT_LEFT_YAXIS_CONFIG = {\n  ...DEFAULT_YAXIS_CONFIG,\n  position: 'left',\n};\n\nexport const DEFAULT_RIGHT_YAXIS_CONFIG = {\n  ...DEFAULT_YAXIS_CONFIG,\n  position: 'right',\n  grid: null,\n};\n","import { get, isArray } from '@antv/util';\nimport { Axis } from '../../../types/axis';\nimport { deepAssign } from '../../../utils';\nimport {\n  DualAxesOptions,\n  GeometryOption,\n  DualAxesGeometry,\n  GeometryLineOption,\n  GeometryColumnOption,\n  AxisType,\n} from '../types';\nimport { DEFAULT_LEFT_YAXIS_CONFIG, DEFAULT_RIGHT_YAXIS_CONFIG } from '../constant';\n\n/**\n *  GeometryOption  geometry  line\n */\nexport function isLine(geometryOption: GeometryOption): geometryOption is GeometryLineOption {\n  return get(geometryOption, 'geometry') === DualAxesGeometry.Line;\n}\n\n/**\n *  GeometryOption  geometry  Column\n */\nexport function isColumn(geometryOption: GeometryOption): geometryOption is GeometryColumnOption {\n  return get(geometryOption, 'geometry') === DualAxesGeometry.Column;\n}\n\n/**\n *  GeometryOption\n * @param geometryOption\n * @param axis\n */\nexport function getGeometryOption(xField: string, yField: string, geometryOption: GeometryOption): GeometryOption {\n  // \n  return isColumn(geometryOption)\n    ? deepAssign(\n        {},\n        {\n          geometry: DualAxesGeometry.Column,\n          label:\n            geometryOption.label && geometryOption.isRange\n              ? {\n                  content: (item: object) => {\n                    return item[yField]?.join('-');\n                  },\n                }\n              : undefined,\n        },\n        geometryOption\n      )\n    : {\n        geometry: DualAxesGeometry.Line,\n        ...geometryOption,\n      };\n}\n\n/**\n *   arr  obj   yAxisannotations\n *  yField  object \n * @param yField\n * @param transformAttribute\n */\nexport function transformObjectToArray(\n  yField: DualAxesOptions['yField'],\n  transformAttribute: Record<string, any> | any[]\n): any[] {\n  const [y1, y2] = yField;\n\n  if (isArray(transformAttribute)) {\n    // \n    const [a1, a2] = transformAttribute;\n    return [a1, a2];\n  }\n  const a1 = get(transformAttribute, y1);\n  const a2 = get(transformAttribute, y2);\n  return [a1, a2];\n}\n\n/**\n * \n * @param yAxis\n * @param axisType\n */\nexport function getYAxisWithDefault(yAxis: Axis, axisType: AxisType): Axis {\n  if (axisType === AxisType.Left) {\n    return yAxis === false ? false : deepAssign({}, DEFAULT_LEFT_YAXIS_CONFIG, yAxis);\n  } else if (axisType === AxisType.Right) {\n    return yAxis === false ? false : deepAssign({}, DEFAULT_RIGHT_YAXIS_CONFIG, yAxis);\n  }\n  return yAxis;\n}\n","import { reduce, get, isEmpty, isFunction } from '@antv/util';\nimport { View, Util } from '@antv/g2';\nimport { deepAssign, findGeometry } from '../../../utils';\nimport { GeometryOption } from '../types';\nimport { Legend } from '../../../types/legend';\nimport { isLine } from './option';\n\n/**\n *  view  legendItem seriesField \n * @param params\n */\nexport function getViewLegendItems(params: {\n  view: View;\n  yField: string;\n  geometryOption: GeometryOption;\n  legend: Legend;\n}) {\n  const { view, geometryOption, yField, legend } = params;\n  const userMarker = get(legend, 'marker');\n\n  const geometry = findGeometry(view, isLine(geometryOption) ? 'line' : 'interval');\n  if (!geometryOption.seriesField) {\n    const legendItemName = get(view, `options.scales.${yField}.alias`) || yField;\n    //  g2 \n    const colorAttribute = geometry.getAttribute('color');\n    let color = view.getTheme().defaultColor;\n    if (colorAttribute) {\n      color = Util.getMappingValue(colorAttribute, legendItemName, get(colorAttribute, ['values', 0], color));\n    }\n\n    const marker =\n      (isFunction(userMarker)\n        ? userMarker\n        : !isEmpty(userMarker) &&\n          deepAssign(\n            {},\n            {\n              style: {\n                stroke: color,\n                fill: color,\n              },\n            },\n            userMarker\n          )) ||\n      (isLine(geometryOption)\n        ? {\n            symbol: (x: number, y: number, r: number) => {\n              return [\n                ['M', x - r, y],\n                ['L', x + r, y],\n              ];\n            },\n            style: {\n              lineWidth: 2,\n              r: 6,\n              stroke: color,\n            },\n          }\n        : {\n            symbol: 'square',\n            style: {\n              fill: color,\n            },\n          });\n    return [\n      {\n        value: yField,\n        name: legendItemName,\n        marker,\n        isGeometry: true,\n        viewId: view.id,\n      },\n    ];\n  }\n\n  const attributes = geometry.getGroupAttributes();\n  return reduce(\n    attributes,\n    (items, attr) => {\n      const attrItems = Util.getLegendItems(view, geometry, attr, view.getTheme(), userMarker);\n      return items.concat(attrItems);\n    },\n    []\n  );\n}\n","import { each } from '@antv/util';\nimport { Geometry } from '@antv/g2';\nimport { Params } from '../../../core/adaptor';\nimport { point, line } from '../../../adaptor/geometries';\nimport { pick, deepAssign } from '../../../utils';\nimport { adaptor as columnAdaptor } from '../../column/adaptor';\nimport { GeometryOption } from '../types';\nimport { isLine, isColumn } from './option';\n\n/**\n * \n * @param params\n */\nexport function drawSingleGeometry<O extends { xField: string; yField: string; geometryOption: GeometryOption }>(\n  params: Params<O>\n): Params<O> {\n  const { options, chart } = params;\n  const { geometryOption } = options;\n  const { isStack, color, seriesField, groupField, isGroup } = geometryOption;\n\n  const FIELD_KEY = ['xField', 'yField'];\n  if (isLine(geometryOption)) {\n    // \n    line(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          line: {\n            color: geometryOption.color,\n            style: geometryOption.lineStyle,\n          },\n        },\n      })\n    );\n    // \n    point(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          point: geometryOption.point && {\n            color,\n            shape: 'circle',\n            ...geometryOption.point,\n          },\n        },\n      })\n    );\n    // adjust\n    const adjust = [];\n    if (isGroup) {\n      adjust.push({\n        type: 'dodge',\n        dodgeBy: groupField || seriesField,\n        customOffset: 0,\n      });\n    }\n    if (isStack) {\n      adjust.push({\n        type: 'stack',\n      });\n    }\n    if (adjust.length) {\n      each(chart.geometries, (g: Geometry) => {\n        g.adjust(adjust);\n      });\n    }\n  }\n\n  if (isColumn(geometryOption)) {\n    columnAdaptor(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          widthRatio: geometryOption.columnWidthRatio,\n          interval: {\n            ...pick(geometryOption, ['color']),\n            style: geometryOption.columnStyle,\n          },\n        },\n      })\n    );\n  }\n\n  return params;\n}\n","import { View } from '@antv/g2';\nimport { size, valuesOfKey } from '@antv/util';\nimport { isBetween } from '../../../utils';\n\n/**\n *  View  slider \n *  View ,  Slider  change  View\n * @param { View } view \n * @param { number[] } sliderValue \n * @returns void\n */\nexport const doSliderFilter = (view: View, sliderValue: [number, number]) => {\n  const [min, max] = sliderValue;\n  const data = view.getOptions().data;\n  const xScale = view.getXScale();\n  const dataSize = size(data);\n  if (!xScale || !dataSize) {\n    return;\n  }\n  const isHorizontal = true;\n  const values = valuesOfKey(data, xScale.field);\n  const xValues = isHorizontal ? values : values.reverse();\n  const xTickCount = size(xValues);\n  const minIndex = Math.floor(min * (xTickCount - 1));\n  const maxIndex = Math.floor(max * (xTickCount - 1));\n\n  //  x \n  view.filter(xScale.field, (value: any) => {\n    const idx: number = xValues.indexOf(value);\n    return idx > -1 ? isBetween(idx, minIndex, maxIndex) : true;\n  });\n  view.getRootView().render(true);\n};\n","import { each, findIndex, get, find, isObject, every, isEqual, isBoolean } from '@antv/util';\nimport { Scale, Types, Event } from '@antv/g2';\nimport {\n  theme as commonTheme,\n  animation as commonAnimation,\n  scale,\n  interaction as commonInteraction,\n  annotation as commonAnnotation,\n  limitInPlot as commonLimitInPlot,\n} from '../../adaptor/common';\nimport { percent } from '../../utils/transform/percent';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport { flow, deepAssign } from '../../utils';\nimport { findViewById } from '../../utils/view';\nimport { isColumn, getYAxisWithDefault, getGeometryOption, transformObjectToArray } from './util/option';\nimport { getViewLegendItems } from './util/legend';\nimport { drawSingleGeometry } from './util/geometry';\nimport { doSliderFilter } from './util/render-sider';\nimport { DualAxesOptions, AxisType, DualAxesGeometry } from './types';\nimport { LEFT_AXES_VIEW, RIGHT_AXES_VIEW } from './constant';\n\n/**\n * transformOptions\n * 1. get index getOptions:  appendPaddingsyncView \n * 2. get adpator transformOption: deepAssign \n *    2.1 defaultoption tooltiplegend\n *    2.2  options\n *    2.3  options  options yaxisGeometryOption deepAssign  assign \n *\n * @param params\n */\nexport function transformOptions(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { options } = params;\n  const { geometryOptions = [], xField, yField } = options;\n  const allLine = every(\n    geometryOptions,\n    ({ geometry }) => geometry === DualAxesGeometry.Line || geometry === undefined\n  );\n  return deepAssign(\n    {},\n    {\n      options: {\n        geometryOptions: [],\n        meta: {\n          [xField]: {\n            //  cat \n            type: 'cat',\n            // x  scale \n            sync: true,\n            // \n            range: allLine ? [0, 1] : undefined,\n          },\n        },\n        tooltip: {\n          showMarkers: allLine,\n          //  crosshairs\n          showCrosshairs: allLine,\n          shared: true,\n          crosshairs: {\n            type: 'x',\n          },\n        },\n        interactions: !allLine\n          ? [{ type: 'legend-visible-filter' }, { type: 'active-region' }]\n          : [{ type: 'legend-visible-filter' }],\n        legend: {\n          position: 'top-left',\n        },\n      },\n    },\n    params,\n    {\n      options: {\n        // yAxis\n        yAxis: transformObjectToArray(yField, options.yAxis),\n        // geometryOptions\n        geometryOptions: [\n          getGeometryOption(xField, yField[0], geometryOptions[0]),\n          getGeometryOption(xField, yField[1], geometryOptions[1]),\n        ],\n        // annotations\n        annotations: transformObjectToArray(yField, options.annotations),\n      },\n    }\n  );\n}\n\n/**\n *    view theme \n * @param params\n */\nfunction createViews(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { geometryOptions } = options;\n\n  const SORT_MAP = { line: 0, column: 1 };\n\n  // id\n  const geometries = [\n    { type: geometryOptions[0]?.geometry, id: LEFT_AXES_VIEW },\n    { type: geometryOptions[1]?.geometry, id: RIGHT_AXES_VIEW },\n  ];\n\n  //  view \n  geometries.sort((a, b) => -SORT_MAP[a.type] + SORT_MAP[b.type]).forEach((g) => chart.createView({ id: g.id }));\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { xField, yField, geometryOptions, data, tooltip } = options;\n\n  // id\n  const geometries = [\n    { ...geometryOptions[0], id: LEFT_AXES_VIEW, data: data[0], yField: yField[0] },\n    { ...geometryOptions[1], id: RIGHT_AXES_VIEW, data: data[1], yField: yField[1] },\n  ];\n\n  geometries.forEach((geometry) => {\n    const { id, data, yField } = geometry;\n    // \n    const isPercent = isColumn(geometry) && geometry.isPercent;\n    const formatData = isPercent ? percent(data, yField, xField, yField) : data;\n    const view = findViewById(chart, id).data(formatData);\n\n    const tooltipOptions = isPercent\n      ? {\n          formatter: (datum: Datum) => ({\n            name: datum[geometry.seriesField] || yField,\n            value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n          }),\n          ...tooltip,\n        }\n      : tooltip;\n\n    // \n    drawSingleGeometry({\n      chart: view,\n      options: {\n        xField,\n        yField,\n        tooltip: tooltipOptions,\n        geometryOption: geometry,\n      },\n    });\n  });\n  return params;\n}\n\nexport function color(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { geometryOptions } = options;\n  const themeColor = chart.getTheme()?.colors10 || [];\n\n  let start = 0;\n  /*  geometry  color\n   * 1.  geometryOptions  color drawGeometry \n   * 2.   color Geometry group scales theme color 10 \n   * 3.  group  view  N   concat  themeColor\n   * 4.  Geometry group scales color\n   * 5.  view  g2\n   */\n  chart.once('beforepaint', () => {\n    each(geometryOptions, (geometryOption, index) => {\n      const view = findViewById(chart, index === 0 ? LEFT_AXES_VIEW : RIGHT_AXES_VIEW);\n      if (geometryOption.color) return;\n      const groupScale = view.getGroupScales();\n      const count = get(groupScale, [0, 'values', 'length'], 1);\n      const color = themeColor.slice(start, start + count).concat(index === 0 ? [] : themeColor);\n      view.geometries.forEach((geometry) => {\n        if (geometryOption.seriesField) {\n          geometry.color(geometryOption.seriesField, color);\n        } else {\n          geometry.color(color[0]);\n        }\n      });\n      start += count;\n    });\n    chart.render(true);\n  });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  scale({\n    [xField]: xAxis,\n    [yField[0]]: yAxis[0],\n  })(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n\n  scale({\n    [xField]: xAxis,\n    [yField[1]]: yAxis[1],\n  })(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  const { xField, yField, xAxis, yAxis } = options;\n\n  chart.axis(xField, false);\n  chart.axis(yField[0], false);\n  chart.axis(yField[1], false);\n\n  //  View\n  leftView.axis(xField, xAxis);\n  leftView.axis(yField[0], getYAxisWithDefault(yAxis[0], AxisType.Left));\n\n  //  Y \n  rightView.axis(xField, false);\n  rightView.axis(yField[1], getYAxisWithDefault(yAxis[1], AxisType.Right));\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  // tooltip  getDefaultOption  undefined\n  chart.tooltip(tooltip);\n  //  view  tooltip shared  interaction active-region \n  // view  chart  shared\n  leftView.tooltip({\n    shared: true,\n  });\n  rightView.tooltip({\n    shared: true,\n  });\n  return params;\n}\n\n/**\n * interaction \n * @param params\n */\nexport function interaction(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * annotation \n * @param params\n */\nexport function annotation(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { annotations } = options;\n\n  const a1 = get(annotations, [0]);\n  const a2 = get(annotations, [1]);\n\n  commonAnnotation(a1)(\n    deepAssign({}, params, {\n      chart: findViewById(chart, LEFT_AXES_VIEW),\n      options: {\n        annotations: a1,\n      },\n    })\n  );\n  commonAnnotation(a2)(\n    deepAssign({}, params, {\n      chart: findViewById(chart, RIGHT_AXES_VIEW),\n      options: {\n        annotations: a2,\n      },\n    })\n  );\n  return params;\n}\n\nexport function theme(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  /*\n   *  view  axisline chart  legend)\n   *  chart   view  theme G2 theme geometry > view > chart \n   */\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n  commonTheme(params);\n\n  return params;\n}\n\nexport function animation(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n *  limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { yAxis } = options;\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, LEFT_AXES_VIEW),\n      options: {\n        yAxis: yAxis[0],\n      },\n    })\n  );\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, RIGHT_AXES_VIEW),\n      options: {\n        yAxis: yAxis[1],\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * legend \n *  custom-\n * @param params\n */\nexport function legend(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { legend, geometryOptions, yField, data } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (isObject(legend) && legend.custom === true) {\n    chart.legend(legend);\n  } else {\n    const leftLegend = get(geometryOptions, [0, 'legend'], legend);\n    const rightLegend = get(geometryOptions, [1, 'legend'], legend);\n    // \n    chart.once('beforepaint', () => {\n      const leftItems = data[0].length\n        ? getViewLegendItems({\n            view: leftView,\n            geometryOption: geometryOptions[0],\n            yField: yField[0],\n            legend: leftLegend,\n          })\n        : [];\n\n      const rightItems = data[1].length\n        ? getViewLegendItems({\n            view: rightView,\n            geometryOption: geometryOptions[1],\n            yField: yField[1],\n            legend: rightLegend,\n          })\n        : [];\n\n      chart.legend(\n        deepAssign({}, legend, {\n          custom: true,\n          // todo \n          // @ts-ignore\n          items: leftItems.concat(rightItems),\n        })\n      );\n    });\n\n    if (geometryOptions[0].seriesField) {\n      leftView.legend(geometryOptions[0].seriesField, leftLegend);\n    }\n    if (geometryOptions[1].seriesField) {\n      rightView.legend(geometryOptions[1].seriesField, rightLegend);\n    }\n\n    // \n    chart.on('legend-item:click', (evt) => {\n      const delegateObject = get(evt, 'gEvent.delegateObject', {});\n      if (delegateObject && delegateObject.item) {\n        const { value: field, isGeometry, viewId } = delegateObject.item;\n        // geometry  view.changeVisible\n        if (isGeometry) {\n          const idx = findIndex(yField, (yF: string) => yF === field);\n          if (idx > -1) {\n            const geometries = get(findViewById(chart, viewId), 'geometries');\n            each(geometries, (g) => {\n              g.changeVisible(!delegateObject.item.unchecked);\n            });\n          }\n        } else {\n          const legendItem = get(chart.getController('legend'), 'option.items', []);\n          // \n          each(chart.views, (view) => {\n            // \n            const groupScale = view.getGroupScales();\n            each(groupScale, (scale: Scale) => {\n              if (scale.values && scale.values.indexOf(field) > -1) {\n                view.filter(scale.field, (value) => {\n                  const curLegendItem: Types.LegendItem = find(\n                    legendItem,\n                    (item: Types.LegendItem) => item.value === value\n                  );\n                  //  legend  unchecked \n                  return !curLegendItem.unchecked;\n                });\n              }\n            });\n            chart.render(true);\n          });\n        }\n      }\n    });\n  }\n\n  return params;\n}\n\n/**\n *  slider \n * @param params\n */\nexport function slider(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { slider } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  if (slider) {\n    //  View\n    leftView.option('slider', slider);\n    //  slider   View \n    leftView.on('slider:valuechanged', (evt: Event) => {\n      const {\n        event: { value, originValue },\n      } = evt;\n      if (isEqual(value, originValue)) {\n        return;\n      }\n      doSliderFilter(rightView, value);\n    });\n    chart.once('afterpaint', () => {\n      // \n      if (!isBoolean(slider)) {\n        const { start, end } = slider;\n        if (start || end) {\n          doSliderFilter(rightView, [start, end]);\n        }\n      }\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  // transformOptions color legend  beforepaint\n  return flow(\n    transformOptions,\n    createViews,\n    // \n    theme,\n    geometry,\n    meta,\n    axis,\n    limitInPlot,\n    tooltip,\n    interaction,\n    annotation,\n    animation,\n    color,\n    legend,\n    slider\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { DualAxesOptions } from './types';\nimport { adaptor } from './adaptor';\n\nexport type { DualAxesOptions };\n\nexport class DualAxes extends Plot<DualAxesOptions> {\n  /** :  */\n  public type: string = 'dual-axes';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<DualAxesOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      yAxis: [],\n      syncViewPadding: true,\n    });\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<DualAxesOptions> {\n    return adaptor;\n  }\n}\n","import { get } from '@antv/util';\n\nexport const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\n\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showTitle: false,\n  shared: true,\n  showMarkers: false,\n  customContent: (x: string, data: any[]) => `${get(data, [0, 'data', 'y'], 0)}`, // \n  containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n  itemTpl: '<span>{value}</span>',\n  domStyles: {\n    'g2-tooltip': {\n      padding: '2px 4px',\n      fontSize: '10px',\n    },\n  },\n  showCrosshairs: true,\n  crosshairs: {\n    type: 'x' as const,\n  },\n};\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  animation: {},\n};\n","import { map } from '@antv/util';\n\nexport function getTinyData(data: number[]) {\n  return map(data || [], (y: number, x: number) => ({ x: `${x}`, y }));\n}\n","import { theme, scale, animation, annotation, tooltip, pattern } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { area, line, point } from '../../adaptor/geometries';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { adjustYMetaByZero } from '../../utils/data';\nimport { TinyAreaOptions } from './types';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyAreaOptions>): Params<TinyAreaOptions> {\n  const { chart, options } = params;\n  const { data, color, areaStyle, point: pointOptions, line: lineOptions } = options;\n  const pointState = pointOptions?.state;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  const primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      area: { color, style: areaStyle },\n      line: lineOptions,\n      point: pointOptions,\n    },\n  });\n  const second = deepAssign({}, primary, { options: { tooltip: false } });\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  // area geometry \n  area(primary);\n  line(second);\n  point(pointParams);\n\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<TinyAreaOptions>): Params<TinyAreaOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, data } = options;\n  const seriesData = getTinyData(data);\n\n  return flow(\n    scale(\n      {\n        [X_FIELD]: xAxis,\n        [Y_FIELD]: yAxis,\n      },\n      {\n        [X_FIELD]: {\n          type: 'cat',\n        },\n        [Y_FIELD]: adjustYMetaByZero(seriesData, Y_FIELD),\n      }\n    )\n  )(params);\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyAreaOptions>) {\n  return flow(pattern('areaStyle'), geometry, meta, tooltip, theme, animation, annotation())(params);\n}\n","import { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { theme, animation, annotation, tooltip } from '../../adaptor/common';\nimport { line, point } from '../../adaptor/geometries';\nimport { meta } from '../tiny-area/adaptor';\nimport { getTinyData } from './utils';\nimport { TinyLineOptions } from './types';\nimport { X_FIELD, Y_FIELD } from './constants';\n\nexport { meta };\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyLineOptions>): Params<TinyLineOptions> {\n  const { chart, options } = params;\n  const { data, color, lineStyle, point: pointMapping } = options;\n\n  const pointState = pointMapping?.state;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  // line geometry \n  const primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      line: {\n        color,\n        style: lineStyle,\n      },\n      point: pointMapping,\n    },\n  });\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  line(primary);\n  point(pointParams);\n\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyLineOptions>) {\n  return flow(geometry, meta, theme, tooltip, animation, annotation())(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { TinyLineOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getTinyData } from './utils';\n\nexport type { TinyLineOptions };\n\nexport class TinyLine extends Plot<TinyLineOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyLineOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-line';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyLineOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyLine.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyLineOptions> {\n    return adaptor;\n  }\n}\n","import { theme, animation, annotation, tooltip, pattern } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { meta } from '../tiny-area/adaptor';\nimport { TinyColumnOptions } from './types';\n\nexport { meta };\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyColumnOptions>): Params<TinyColumnOptions> {\n  const { chart, options } = params;\n  const { data, color, columnStyle, columnWidthRatio } = options;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: columnStyle,\n        color,\n      },\n    },\n  });\n  interval(p);\n\n  chart.axis(false);\n  chart.legend(false);\n  chart.interaction('element-active');\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyColumnOptions>) {\n  return flow(theme, pattern('columnStyle'), geometry, meta, tooltip, animation, annotation())(params);\n}\n","import { get } from '@antv/util';\n\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showTitle: false,\n  shared: true,\n  showMarkers: false,\n  customContent: (x: string, data: any[]) => `${get(data, [0, 'data', 'y'], 0)}`, // \n  containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n  itemTpl: '<span>{value}</span>',\n  domStyles: {\n    'g2-tooltip': {\n      padding: '2px 4px',\n      fontSize: '10px',\n    },\n  },\n};\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  animation: {},\n};\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getTinyData } from '../tiny-line/utils';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { TinyColumnOptions } from './types';\n\nexport type { TinyColumnOptions };\n\nexport class TinyColumn extends Plot<TinyColumnOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyColumnOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-column';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyColumnOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyColumn.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyColumnOptions> {\n    return adaptor;\n  }\n}\n","import { DEFAULT_TOOLTIP_OPTIONS } from '../tiny-line/constants';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  // \n  color: 'l(90) 0:#E5EDFE 1:#ffffff',\n  areaStyle: {\n    fillOpacity: 0.6,\n  },\n  line: {\n    size: 1,\n    color: '#5B8FF9',\n  },\n  animation: {},\n};\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getTinyData } from '../tiny-line/utils';\nimport { TinyAreaOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { TinyAreaOptions };\n\nexport class TinyArea extends Plot<TinyAreaOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyAreaOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-area';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyAreaOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyArea.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyAreaOptions> {\n    return adaptor;\n  }\n}\n","import { clone, sortBy, valuesOfKey, getRange, each, hasKey, groupBy, isEmpty } from '@antv/util';\nimport { Data } from '../../types';\n\ntype StatisticData = {\n  range: Array<number>;\n  count: number;\n};\ntype StatisticBin = {\n  [key: string]: StatisticData;\n};\n\n//  range\nfunction getBinKey(value: number, binWidth: number, binNumber?: number): [number, number] {\n  // \n  if (binNumber === 1) {\n    return [0, binWidth];\n  }\n  const index = Math.floor(value / binWidth);\n  return [binWidth * index, binWidth * (index + 1)];\n}\n\n//  sturges \nfunction sturges(values: Array<number>): number {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n/**\n * \n * @param data\n * @param binField\n * @param binWidth\n * @param binNumber\n * @param stackField\n */\nexport function binHistogram(data: Data, binField: string, binWidth: number, binNumber?: number, stackField?: string) {\n  const originData_copy = clone(data);\n\n  //  binField \n  sortBy(originData_copy, binField);\n\n  //  binField  range\n  const values = valuesOfKey(originData_copy, binField);\n  const range = getRange(values);\n  const rangeWidth = range.max - range.min;\n\n  //  binWidth binNumber  binWidth \n  let _binWidth = binWidth;\n  if (!binWidth && binNumber) {\n    _binWidth = binNumber > 1 ? rangeWidth / (binNumber - 1) : range.max;\n  }\n  //  binWidth  binNumber  Sturges formula  binWidth\n  if (!binWidth && !binNumber) {\n    const _defaultBinNumber = sturges(values);\n    _binWidth = rangeWidth / _defaultBinNumber;\n  }\n  //  key - StatisticData \n  const bins: StatisticBin = {};\n  const groups = groupBy(originData_copy, stackField);\n  //  stackField \n  if (isEmpty(groups)) {\n    each(originData_copy, (data: any) => {\n      const value = data[binField];\n      const bin = getBinKey(value, _binWidth, binNumber);\n      const binKey = `${bin[0]}-${bin[1]}`;\n      if (!hasKey(bins, binKey)) {\n        bins[binKey] = { range: bin, count: 0 };\n      }\n      bins[binKey].count += 1;\n    });\n  } else {\n    Object.keys(groups).forEach((groupKey: string) => {\n      each(groups[groupKey], (data: any) => {\n        const value = data[binField];\n        const bin = getBinKey(value, _binWidth, binNumber);\n        const binKey = `${bin[0]}-${bin[1]}`;\n        const groupKeyBinKey = `${binKey}-${groupKey}`;\n        if (!hasKey(bins, groupKeyBinKey)) {\n          bins[groupKeyBinKey] = { range: bin, count: 0 };\n          bins[groupKeyBinKey][stackField] = groupKey;\n        }\n        bins[groupKeyBinKey].count += 1;\n      });\n    });\n  }\n  //  plotData \n  const plotData: Array<StatisticData> = [];\n  each(bins, (bin: StatisticData) => {\n    plotData.push(bin);\n  });\n  return plotData;\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**  xField */\nexport const HISTOGRAM_X_FIELD = 'range';\n/**  yField */\nexport const HISTOGRAM_Y_FIELD = 'count';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  columnStyle: {\n    stroke: '#FFFFFF',\n  },\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme, scale, state } from '../../adaptor/common';\nimport { pattern } from '../../adaptor/pattern';\nimport { findGeometry, deepAssign } from '../../utils';\nimport { flow, transformLabel } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { binHistogram } from '../../utils/transform/histogram';\nimport { HistogramOptions } from './types';\nimport { HISTOGRAM_X_FIELD, HISTOGRAM_Y_FIELD } from './constant';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { data, binField, binNumber, binWidth, color, stackField, legend, columnStyle } = options;\n\n  // \n  const plotData = binHistogram(data, binField, binWidth, binNumber, stackField);\n\n  chart.data(plotData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: HISTOGRAM_X_FIELD,\n      yField: HISTOGRAM_Y_FIELD,\n      seriesField: stackField,\n      isStack: true,\n      interval: {\n        color,\n        style: columnStyle,\n      },\n    },\n  });\n\n  interval(p);\n\n  // \n  if (legend && stackField) {\n    chart.legend(stackField, legend);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { options } = params;\n  const { xAxis, yAxis } = options;\n\n  return flow(\n    scale({\n      [HISTOGRAM_X_FIELD]: xAxis,\n      [HISTOGRAM_Y_FIELD]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(HISTOGRAM_X_FIELD, false);\n  } else {\n    chart.axis(HISTOGRAM_X_FIELD, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(HISTOGRAM_Y_FIELD, false);\n  } else {\n    chart.axis(HISTOGRAM_Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [HISTOGRAM_Y_FIELD],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<HistogramOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('columnStyle'),\n    geometry,\n    meta,\n    axis,\n    state,\n    label,\n    tooltip,\n    interaction,\n    animation\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { binHistogram } from '../../utils/transform/histogram';\nimport { HistogramOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { HistogramOptions };\n\nexport class Histogram extends Plot<HistogramOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<HistogramOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'histogram';\n\n  public changeData(data: HistogramOptions['data']) {\n    this.updateOption({ data });\n\n    const { binField, binNumber, binWidth, stackField } = this.options;\n    this.chart.changeData(binHistogram(data, binField, binWidth, binNumber, stackField));\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions() {\n    return Histogram.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<HistogramOptions> {\n    return adaptor;\n  }\n}\n","export const DEFAULT_COLOR = ['#FAAD14', '#E8EDF3'];\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0.2,\n  color: DEFAULT_COLOR,\n  animation: {},\n};\n","import { clamp } from '@antv/util';\nimport { isRealNumber } from '../../utils/number';\n\n/**\n * \n */\nexport function getProgressData(percent: number) {\n  const clampPercent = clamp(isRealNumber(percent) ? percent : 0, 0, 1);\n  return [\n    {\n      type: 'current',\n      percent: clampPercent,\n    },\n    {\n      type: 'target',\n      percent: 1 - clampPercent,\n    },\n  ];\n}\n","import { isString } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { scale, animation, theme, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { ProgressOptions } from './types';\nimport { DEFAULT_COLOR } from './constants';\nimport { getProgressData } from './utils';\n\n/**\n * \n * @param params\n */\nexport function geometry(params: Params<ProgressOptions>): Params<ProgressOptions> {\n  const { chart, options } = params;\n  const { percent, progressStyle, color, barWidthRatio } = options;\n\n  chart.data(getProgressData(percent));\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: '1',\n      yField: 'percent',\n      seriesField: 'type',\n      isStack: true,\n      widthRatio: barWidthRatio,\n      interval: {\n        style: progressStyle,\n        color: isString(color) ? [color, DEFAULT_COLOR[1]] : color,\n      },\n      args: {\n        zIndexReversed: true,\n        sortZIndex: true,\n      },\n    },\n  });\n\n  interval(p);\n\n  // \n  chart.tooltip(false);\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * other \n * @param params\n */\nfunction coordinate(params: Params<ProgressOptions>): Params<ProgressOptions> {\n  const { chart } = params;\n\n  chart.coordinate('rect').transpose();\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ProgressOptions>) {\n  // @ts-ignore\n  return flow(geometry, scale({}), coordinate, animation, theme, annotation())(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { ProgressOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getProgressData } from './utils';\n\nexport type { ProgressOptions };\n\nexport class Progress extends Plot<ProgressOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ProgressOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'process';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.updateOption({ percent });\n    this.chart.changeData(getProgressData(percent));\n  }\n\n  protected getDefaultOptions() {\n    return Progress.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ProgressOptions> {\n    return adaptor;\n  }\n}\n","import { get, isNil } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, renderStatistic } from '../../utils';\nimport { scale, animation, theme, annotation } from '../../adaptor/common';\nimport { geometry } from '../progress/adaptor';\nimport { RingProgressOptions } from './types';\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<RingProgressOptions>): Params<RingProgressOptions> {\n  const { chart, options } = params;\n  const { innerRadius, radius } = options;\n\n  // coordinate\n  chart.coordinate('theta', {\n    innerRadius,\n    radius,\n  });\n\n  return params;\n}\n\n/**\n * statistic \n * @param params\n */\nexport function statistic(params: Params<RingProgressOptions>, updated?: boolean): Params<RingProgressOptions> {\n  const { chart, options } = params;\n  const { innerRadius, statistic, percent, meta } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n\n  /**   */\n  if (innerRadius && statistic) {\n    const metaFormatter = get(meta, ['percent', 'formatter']) || ((v) => `${(v * 100).toFixed(2)}%`);\n    let contentOpt = statistic.content;\n    if (contentOpt) {\n      contentOpt = deepAssign({}, contentOpt, {\n        content: !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(percent),\n      });\n    }\n    renderStatistic(\n      chart,\n      { statistic: { ...statistic, content: contentOpt }, plotType: 'ring-progress' },\n      { percent }\n    );\n  }\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RingProgressOptions>) {\n  return flow(geometry, scale({}), coordinate, statistic, animation, theme, annotation())(params);\n}\n","/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0.2,\n  innerRadius: 0.8,\n  radius: 0.98,\n  color: ['#FAAD14', '#E8EDF3'],\n  statistic: {\n    title: false as const,\n    content: {\n      style: {\n        fontSize: '14px',\n        fontWeight: 300,\n        fill: '#4D4D4D',\n        textAlign: 'center' as const,\n        textBaseline: 'middle' as const,\n      },\n    },\n  },\n  animation: {},\n};\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getProgressData } from '../progress/utils';\nimport { RingProgressOptions } from './types';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { RingProgressOptions };\n\nexport class RingProgress extends Plot<RingProgressOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<RingProgressOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'ring-process';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    this.updateOption({ percent });\n\n    this.chart.data(getProgressData(percent));\n    // todo  G2  afterrender  annotations\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  protected getDefaultOptions() {\n    return RingProgress.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RingProgressOptions> {\n    return adaptor;\n  }\n}\n","import { get } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry } from '../../utils';\nimport { flow, transformLabel } from '../../utils';\nimport { tooltip, interaction, animation, theme, scale, annotation, state, pattern } from '../../adaptor/common';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { HeatmapOptions } from './types';\n\nfunction geometry(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { data, type, xField, yField, colorField, sizeField, sizeRatio, shape, color, tooltip, heatmapStyle } = options;\n\n  chart.data(data);\n  let geometryType = 'polygon';\n  if (type === 'density') {\n    geometryType = 'heatmap';\n  }\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, colorField]);\n\n  /**\n   * The ratio between the actual size and the max available size, must be in range `[0,1]`.\n   *\n   * If the `sizeRatio` attribute is undefined or it exceeds the range,\n   * `checkedSizeRatio` would be set to 1 as default.\n   */\n  let checkedSizeRatio = 1;\n  if (sizeRatio || sizeRatio === 0) {\n    if (!shape && !sizeField) {\n      console.warn('sizeRatio is not in effect: Must define shape or sizeField first');\n    } else if (sizeRatio < 0 || sizeRatio > 1) {\n      console.warn('sizeRatio is not in effect: It must be a number in [0,1]');\n    } else {\n      checkedSizeRatio = sizeRatio;\n    }\n  }\n\n  geometryAdaptor(\n    deepAssign({}, params, {\n      options: {\n        type: geometryType,\n        colorField,\n        tooltipFields: fields,\n        shapeField: sizeField || '',\n        label: undefined,\n        mapping: {\n          tooltip: formatter,\n          shape:\n            shape &&\n            (sizeField\n              ? (dautm) => {\n                  const field = data.map((row) => row[sizeField]);\n                  const min = Math.min(...field);\n                  const max = Math.max(...field);\n                  return [shape, (get(dautm, sizeField) - min) / (max - min), checkedSizeRatio];\n                }\n              : () => [shape, 1, checkedSizeRatio]),\n          color: color || (colorField && chart.getTheme().sequenceColors.join('-')),\n          style: heatmapStyle,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { legend, colorField, sizeField, sizeLegend } = options;\n\n  /** legend  false, ,  color  */\n  const showLegend = legend !== false;\n\n  if (colorField) {\n    chart.legend(colorField, showLegend ? legend : false);\n  }\n\n  // :  sizeField  sizeLegend.  legend \n  if (sizeField) {\n    chart.legend(sizeField, sizeLegend === undefined ? legend : sizeLegend);\n  }\n\n  /**  sizeField */\n  if (!showLegend && !sizeLegend) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * fixme \n * \n * @param params\n */\nfunction label(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { label, colorField, type } = options;\n\n  const geometry = findGeometry(chart, type === 'density' ? 'heatmap' : 'polygon');\n\n  if (!label) {\n    geometry.label(false);\n  } else if (colorField) {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [colorField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction coordinate(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { coordinate, reflect } = options;\n\n  if (coordinate) {\n    chart.coordinate({\n      type: coordinate.type || 'rect',\n      cfg: coordinate.cfg,\n    });\n  }\n\n  if (reflect) {\n    chart.coordinate().reflect(reflect);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<HeatmapOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('heatmapStyle'),\n    meta,\n    coordinate,\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    label,\n    annotation(),\n    interaction,\n    animation,\n    state\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  type: 'polygon',\n  legend: false,\n  coordinate: {\n    type: 'rect',\n  },\n  xAxis: {\n    tickLine: null,\n    line: null,\n    grid: {\n      alignTick: false,\n      line: {\n        style: {\n          lineWidth: 1,\n          lineDash: null,\n          stroke: '#f0f0f0',\n        },\n      },\n    },\n  },\n  yAxis: {\n    grid: {\n      alignTick: false,\n      line: {\n        style: {\n          lineWidth: 1,\n          lineDash: null,\n          stroke: '#f0f0f0',\n        },\n      },\n    },\n  },\n});\n","import { registerShape, Types, IGroup } from '@antv/g2';\n\nregisterShape('polygon', 'circle', {\n  draw(cfg: Types.ShapeInfo, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const points = this.parsePoints(cfg.points);\n    const width = Math.abs(points[2].x - points[1].x);\n    const height = Math.abs(points[1].y - points[0].y);\n    const maxRadius = Math.min(width, height) / 2;\n\n    const value = Number(cfg.shape[1]);\n    const sizeRatio = Number(cfg.shape[2]);\n    const radiusRatio = Math.sqrt(sizeRatio);\n    const radius = maxRadius * radiusRatio * Math.sqrt(value);\n    const fill = cfg.style?.fill || cfg.color || cfg.defaultStyle?.fill;\n    const polygon = group.addShape('circle', {\n      attrs: {\n        x: cx,\n        y: cy,\n        r: radius,\n        ...cfg.defaultStyle,\n        ...cfg.style,\n        fill,\n      },\n    });\n    return polygon;\n  },\n});\n","import { registerShape, Types, IGroup } from '@antv/g2';\n\nregisterShape('polygon', 'square', {\n  draw(cfg: Types.ShapeInfo, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const points = this.parsePoints(cfg.points);\n    const width = Math.abs(points[2].x - points[1].x);\n    const height = Math.abs(points[1].y - points[0].y);\n    const maxSideLength = Math.min(width, height);\n\n    const value = Number(cfg.shape[1]);\n    const sizeRatio = Number(cfg.shape[2]);\n    const lenRatio = Math.sqrt(sizeRatio);\n    const sideLength = maxSideLength * lenRatio * Math.sqrt(value);\n    const fill = cfg.style?.fill || cfg.color || cfg.defaultStyle?.fill;\n    const polygon = group.addShape('rect', {\n      attrs: {\n        x: cx - sideLength / 2,\n        y: cy - sideLength / 2,\n        width: sideLength,\n        height: sideLength,\n        ...cfg.defaultStyle,\n        ...cfg.style,\n        fill,\n      },\n    });\n    return polygon;\n  },\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { HeatmapOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n// registered shapes\nimport './shapes/circle';\nimport './shapes/square';\n\nexport type { HeatmapOptions };\n\nexport class Heatmap extends Plot<HeatmapOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<HeatmapOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'heatmap';\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<HeatmapOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Heatmap.getDefaultOptions();\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\nexport const BOX_RANGE = '$$range$$';\nexport const BOX_RANGE_ALIAS = 'low-q1-median-q3-high';\n\nexport const BOX_SYNC_NAME = '$$y_outliers$$';\n\nexport const OUTLIERS_VIEW_ID = 'outliers_view';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  meta: {\n    [BOX_RANGE]: { min: 0, alias: BOX_RANGE_ALIAS },\n  },\n\n  // \n  interactions: [{ type: 'active-region' }],\n\n  //  tooltips  markers\n  tooltip: {\n    showMarkers: false,\n    shared: true,\n  },\n  boxStyle: {\n    lineWidth: 1,\n  },\n});\n","import { map } from '@antv/util';\nimport { BOX_RANGE } from './constant';\nimport { BoxOptions } from './types';\n\n/**\n * @desc  box ,yField,datadata,data\n * @param data\n * @param yField\n */\nexport const transformData = (data: BoxOptions['data'], yField: BoxOptions['yField']) => {\n  let newData = data;\n  // formate data when `yField` is Array\n  if (Array.isArray(yField)) {\n    const [low, q1, median, q3, high] = yField;\n    newData = map(data, (obj) => {\n      obj[BOX_RANGE] = [obj[low], obj[q1], obj[median], obj[q3], obj[high]];\n      return obj;\n    });\n  }\n\n  return newData;\n};\n","import { isArray } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, tooltip } from '../../adaptor/common';\nimport { point, schema } from '../../adaptor/geometries';\nimport { flow, pick, deepAssign } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { BoxOptions } from './types';\nimport { BOX_RANGE, BOX_SYNC_NAME, OUTLIERS_VIEW_ID } from './constant';\nimport { transformData } from './utils';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xField, yField, groupField, color, tooltip, boxStyle } = options;\n\n  chart.data(transformData(options.data, yField));\n\n  const yFieldName = isArray(yField) ? BOX_RANGE : yField;\n  const rawFields = yField ? (isArray(yField) ? yField : [yField]) : [];\n\n  let tooltipOptions = tooltip;\n  if (tooltipOptions !== false) {\n    tooltipOptions = deepAssign({}, { fields: isArray(yField) ? yField : [] }, tooltipOptions);\n  }\n\n  const { ext } = schema(\n    deepAssign({}, params, {\n      options: {\n        xField,\n        yField: yFieldName,\n        seriesField: groupField,\n        tooltip: tooltipOptions,\n        rawFields,\n        //  label\n        label: false,\n        schema: {\n          shape: 'box',\n          color,\n          style: boxStyle,\n        },\n      },\n    })\n  );\n\n  if (groupField) {\n    ext.geometry.adjust('dodge');\n  }\n\n  return params;\n}\n\n/**\n *  view\n */\nfunction outliersPoint(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xField, data, outliersField, outliersStyle, padding, label } = options;\n\n  if (!outliersField) return params;\n\n  const outliersView = chart.createView({ padding, id: OUTLIERS_VIEW_ID });\n  const outliersViewData = data.reduce((ret, datum) => {\n    const outliersData = datum[outliersField];\n    outliersData.forEach((d) => ret.push({ ...datum, [outliersField]: d }));\n    return ret;\n  }, []) as Types.Datum[];\n\n  outliersView.data(outliersViewData);\n  point({\n    chart: outliersView,\n    options: {\n      xField,\n      yField: outliersField,\n      point: { shape: 'circle', style: outliersStyle },\n      label,\n    },\n  });\n\n  outliersView.axis(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis, xField, yField, outliersField } = options;\n  const yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n\n  let baseMeta = {};\n\n  // make yField and outliersField share y mate\n  if (outliersField) {\n    const syncName = BOX_SYNC_NAME;\n    baseMeta = {\n      [outliersField]: { sync: syncName, nice: true },\n      [yFieldName]: { sync: syncName, nice: true },\n    };\n  }\n\n  const scales = deepAssign(baseMeta, meta, {\n    [xField]: pick(xAxis, AXIS_META_CONFIG_KEYS),\n    [yFieldName]: pick(yAxis, AXIS_META_CONFIG_KEYS),\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n  const yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(BOX_RANGE, false);\n  } else {\n    chart.axis(yFieldName, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { legend, groupField } = options;\n\n  if (groupField) {\n    if (legend) {\n      chart.legend(groupField, legend);\n    } else {\n      // Grouped Box Chart default has legend, and it's position is `bottom`\n      chart.legend(groupField, { position: 'bottom' });\n    }\n  } else {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<BoxOptions>) {\n  return flow(field, outliersPoint, meta, axis, legend, tooltip, interaction, animation, theme)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { BoxOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { transformData } from './utils';\nimport { DEFAULT_OPTIONS, OUTLIERS_VIEW_ID } from './constant';\nexport type { BoxOptions };\n\nexport class Box extends Plot<BoxOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<BoxOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'box';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    const { yField } = this.options;\n\n    const outliersView = this.chart.views.find((v) => v.id === OUTLIERS_VIEW_ID);\n    if (outliersView) {\n      outliersView.data(data);\n    }\n\n    this.chart.changeData(transformData(data, yField));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<BoxOptions> {\n    return Box.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<BoxOptions> {\n    return adaptor;\n  }\n}\n","// from https://github.com/simple-statistics\n\n/**\n * This is the internal implementation of quantiles: when you know\n * that the order is sorted, you don't need to re-sort it, and the computations\n * are faster.\n *\n * @param {Array<number>} x sample of one or more data points\n * @param {number} p desired quantile: a number between 0 to 1, inclusive\n * @returns {number} quantile value\n * @throws {Error} if p ix outside of the range from 0 to 1\n * @throws {Error} if x is empty\n * @example\n * quantileSorted([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nexport function quantileSorted(x: number[], p: number) {\n  const idx = x.length * p;\n  if (x.length === 0) {\n    throw new Error('quantile requires at least one data point.');\n  } else if (p < 0 || p > 1) {\n    throw new Error('quantiles must be between 0 and 1');\n  } else if (p === 1) {\n    // If p is 1, directly return the last element\n    return x[x.length - 1];\n  } else if (p === 0) {\n    // If p is 0, directly return the first element\n    return x[0];\n  } else if (idx % 1 !== 0) {\n    // If p is not integer, return the next element in array\n    return x[Math.ceil(idx) - 1];\n  } else if (x.length % 2 === 0) {\n    // If the list has even-length, we'll take the average of this number\n    // and the next value, if there is one\n    return (x[idx - 1] + x[idx]) / 2;\n  } else {\n    // Finally, in the simple case of an integer value\n    // with an odd-length list, return the x value at the index.\n    return x[idx];\n  }\n}\n\n/**\n * \n * @param arr T[]\n * @param i number\n * @param j number\n */\nexport function swap<T = any>(arr: T[], i: number, j: number): void {\n  const tmp = arr[i];\n  arr[i] = arr[j];\n  arr[j] = tmp;\n}\n\n/**\n * Rearrange items in `arr` so that all items in `[left, k]` range are the smallest.\n * The `k`-th element will have the `(k - left + 1)`-th smallest value in `[left, right]`.\n *\n * Implements Floyd-Rivest selection algorithm https://en.wikipedia.org/wiki/Floyd-Rivest_algorithm\n *\n * @param {Array<number>} arr input array\n * @param {number} k pivot index\n * @param {number} [left] left index\n * @param {number} [right] right index\n * @returns {void} mutates input array\n * @example\n * var arr = [65, 28, 59, 33, 21, 56, 22, 95, 50, 12, 90, 53, 28, 77, 39];\n * quickselect(arr, 8);\n * // = [39, 28, 28, 33, 21, 12, 22, 50, 53, 56, 59, 65, 90, 77, 95]\n */\nexport function quickselect(arr: number[], k, left?: number, right?: number): void {\n  left = left || 0;\n  right = right || arr.length - 1;\n\n  while (right > left) {\n    // 600 and 0.5 are arbitrary constants chosen in the original paper to minimize execution time\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp((2 * z) / 3);\n      let sd = 0.5 * Math.sqrt((z * s * (n - s)) / n);\n      if (m - n / 2 < 0) sd *= -1;\n      const newLeft = Math.max(left, Math.floor(k - (m * s) / n + sd));\n      const newRight = Math.min(right, Math.floor(k + ((n - m) * s) / n + sd));\n      quickselect(arr, k, newLeft, newRight);\n    }\n\n    const t = arr[k];\n    let i = left;\n    let j = right;\n\n    swap(arr, left, k);\n    if (arr[right] > t) swap(arr, left, right);\n\n    while (i < j) {\n      swap(arr, i, j);\n      i++;\n      j--;\n      while (arr[i] < t) i++;\n      while (arr[j] > t) j--;\n    }\n\n    if (arr[left] === t) swap(arr, left, j);\n    else {\n      j++;\n      swap(arr, j, right);\n    }\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n}\n\n/**\n * The [quantile](https://en.wikipedia.org/wiki/Quantile):\n * this is a population quantile, since we assume to know the entire\n * dataset in this library. This is an implementation of the\n * [Quantiles of a Population](http://en.wikipedia.org/wiki/Quantile#Quantiles_of_a_population)\n * algorithm from wikipedia.\n *\n * Sample is a one-dimensional array of numbers,\n * and p is either a decimal number from 0 to 1 or an array of decimal\n * numbers from 0 to 1.\n * In terms of a k/q quantile, p = k/q - it's just dealing with fractions or dealing\n * with decimal values.\n * When p is an array, the result of the function is also an array containing the appropriate\n * quantiles in input order\n *\n * @param {Array<number>} x sample of one or more numbers\n * @param {Array<number> | number} p the desired quantile, as a number between 0 and 1\n * @returns {number} quantile\n * @example\n * quantile([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nfunction quantile(x: number[], p: number): number;\nfunction quantile(x: number[], p: number[]): number[];\nfunction quantile(x: any, p: any): any {\n  const copy = x.slice();\n\n  if (Array.isArray(p)) {\n    // rearrange elements so that each element corresponding to a requested\n    // quantile is on a place it would be if the array was fully sorted\n    multiQuantileSelect(copy, p);\n    // Initialize the result array\n    const results: number[] = [];\n    // For each requested quantile\n    for (let i = 0; i < p.length; i++) {\n      results[i] = quantileSorted(copy, p[i]);\n    }\n    return results;\n  } else {\n    const idx = quantileIndex(copy.length, p);\n    quantileSelect(copy, idx, 0, copy.length - 1);\n    return quantileSorted(copy, p);\n  }\n}\n\nfunction quantileSelect(arr, k, left, right) {\n  if (k % 1 === 0) {\n    quickselect(arr, k, left, right);\n  } else {\n    k = Math.floor(k);\n    quickselect(arr, k, left, right);\n    quickselect(arr, k + 1, k + 1, right);\n  }\n}\n\nfunction multiQuantileSelect(arr, p) {\n  const indices = [0];\n  for (let i = 0; i < p.length; i++) {\n    indices.push(quantileIndex(arr.length, p[i]));\n  }\n  indices.push(arr.length - 1);\n  indices.sort(compare);\n\n  const stack = [0, indices.length - 1];\n\n  while (stack.length) {\n    const r = Math.ceil(stack.pop());\n    const l = Math.floor(stack.pop());\n    if (r - l <= 1) continue;\n\n    const m = Math.floor((l + r) / 2);\n    quantileSelect(arr, indices[m], Math.floor(indices[l]), Math.ceil(indices[r]));\n\n    stack.push(l, m, m, r);\n  }\n}\n\nfunction compare(a, b) {\n  return a - b;\n}\n\nfunction quantileIndex(len, p) {\n  const idx = len * p;\n  if (p === 1) {\n    // If p is 1, directly return the last index\n    return len - 1;\n  } else if (p === 0) {\n    // If p is 0, directly return the first index\n    return 0;\n  } else if (idx % 1 !== 0) {\n    // If index is not integer, return the next index in array\n    return Math.ceil(idx) - 1;\n  } else if (len % 2 === 0) {\n    // If the list has even-length, we'll return the middle of two indices\n    // around quantile to indicate that we need an average value of the two\n    return idx - 0.5;\n  } else {\n    // Finally, in the simple case of an integer index\n    // with an odd-length list, return the index\n    return idx;\n  }\n}\n\nexport { quantile };\n","import { groupBy, min, max } from '@antv/util';\nimport pdf from 'pdfast';\nimport { quantile } from '../../utils/transform/quantile';\nimport { ViolinOptions } from './types';\n\nexport type ViolinData = {\n  /** X */\n  x: string;\n\n  /**  size  */\n  violinSize: number[];\n  /**  y  */\n  violinY: number[];\n\n  // \n  /**  */\n  high: number;\n  /**  */\n  low: number;\n  /**  */\n  q1: number;\n  /**  */\n  q3: number;\n  /**  */\n  median: number[];\n\n  /**  */\n  minMax: number[];\n  /**  */\n  quantile: number[];\n};\n\nexport type PdfOptions = {\n  min: number;\n  max: number;\n  size: number;\n  width: number;\n};\n\nexport const toBoxValue = (values: number[]) => {\n  return {\n    low: min(values),\n    high: max(values),\n    q1: quantile(values, 0.25),\n    q3: quantile(values, 0.75),\n    median: quantile(values, [0.5]),\n    minMax: [min(values), max(values)],\n    quantile: [quantile(values, 0.25), quantile(values, 0.75)],\n  };\n};\n\nexport const toViolinValue = (values: number[], pdfOptions: PdfOptions) => {\n  const pdfResults: Array<{ x: number; y: number }> = pdf.create(values, pdfOptions);\n  return {\n    violinSize: pdfResults.map((result) => result.y),\n    violinY: pdfResults.map((result) => result.x),\n  };\n};\n\nexport const transformViolinData = (options: ViolinOptions): ViolinData[] => {\n  const { xField, yField, seriesField, data, kde } = options;\n\n  /**  */\n  const pdfOptions: PdfOptions = {\n    min: kde.min,\n    max: kde.max,\n    size: kde.sampleSize,\n    width: kde.width,\n  };\n\n  // \n  if (!seriesField) {\n    const group = groupBy(data, xField);\n    return Object.keys(group).map((x) => {\n      const records = group[x];\n      const values = records.map((record) => record[yField]);\n      return {\n        x,\n        ...toViolinValue(values, pdfOptions),\n        ...toBoxValue(values),\n      };\n    });\n  }\n\n  // \n  const resultList: ViolinData[] = [];\n  const seriesGroup = groupBy(data, seriesField);\n  Object.keys(seriesGroup).forEach((series) => {\n    const group = groupBy(seriesGroup[series], xField);\n    return Object.keys(group).forEach((key) => {\n      const records = group[key];\n      const values = records.map((record) => record[yField]);\n      resultList.push({\n        x: key,\n        [seriesField]: series,\n        ...toViolinValue(values, pdfOptions),\n        ...toBoxValue(values),\n      });\n    });\n  });\n  return resultList;\n};\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { ViolinOptions } from './types';\n\nexport const X_FIELD = 'x';\nexport const VIOLIN_Y_FIELD = 'violinY';\nexport const VIOLIN_SIZE_FIELD = 'violinSize';\nexport const MIN_MAX_FIELD = 'minMax';\nexport const QUANTILE_FIELD = 'quantile';\nexport const MEDIAN_FIELD = 'median';\n\nexport const VIOLIN_VIEW_ID = 'violin_view';\nexport const MIN_MAX_VIEW_ID = 'min_max_view';\nexport const QUANTILE_VIEW_ID = 'quantile_view';\nexport const MEDIAN_VIEW_ID = 'median_view';\n\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  //  view  view padding \n  syncViewPadding: true,\n  // \n  kde: {\n    type: 'triangular',\n    sampleSize: 32,\n    width: 3,\n  },\n\n  // \n  violinStyle: {\n    lineWidth: 1,\n    fillOpacity: 0.3,\n    strokeOpacity: 0.75,\n  },\n  // \n  xAxis: {\n    grid: {\n      line: null,\n    },\n    tickLine: {\n      alignTick: false,\n    },\n  },\n  yAxis: {\n    grid: {\n      line: {\n        style: {\n          lineWidth: 0.5,\n          lineDash: [4, 4],\n        },\n      },\n    },\n  },\n  // \n  legend: {\n    position: 'top-left',\n  },\n  // Tooltip\n  tooltip: {\n    showMarkers: false,\n  },\n  // \n  // interactions: [{ type: 'active-region' }],\n} as Partial<ViolinOptions>);\n","import { Geometry } from '@antv/g2';\nimport { get, set, omit, each } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { interaction, theme, tooltip, annotation as baseAnnotation } from '../../adaptor/common';\nimport { interval, point, violin } from '../../adaptor/geometries';\nimport { flow, pick, deepAssign, findViewById } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { ViolinOptions } from './types';\nimport { transformViolinData } from './utils';\nimport {\n  MEDIAN_FIELD,\n  MEDIAN_VIEW_ID,\n  MIN_MAX_FIELD,\n  MIN_MAX_VIEW_ID,\n  QUANTILE_FIELD,\n  QUANTILE_VIEW_ID,\n  VIOLIN_SIZE_FIELD,\n  VIOLIN_VIEW_ID,\n  VIOLIN_Y_FIELD,\n  X_FIELD,\n} from './constant';\n\nconst TOOLTIP_FIELDS = ['low', 'high', 'q1', 'q3', 'median'];\n\nconst adjustCfg = [\n  {\n    type: 'dodge',\n    marginRatio: 1 / 32,\n  } as const,\n];\n\n/**  */\nfunction data(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  chart.data(transformViolinData(options));\n  return params;\n}\n\n/**  */\nfunction violinView(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { seriesField, color, shape = 'violin', violinStyle, tooltip, state } = options;\n\n  const view = chart.createView({ id: VIOLIN_VIEW_ID });\n  violin({\n    chart: view,\n    options: {\n      xField: X_FIELD,\n      yField: VIOLIN_Y_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      sizeField: VIOLIN_SIZE_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      violin: {\n        style: violinStyle,\n        color,\n        shape,\n      },\n      state,\n    },\n  });\n  view.geometries[0].adjust(adjustCfg);\n\n  return params;\n}\n\n/**  */\nfunction boxView(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { seriesField, color, tooltip, box } = options;\n\n  //  `box`  false \n  if (box === false) return params;\n\n  // \n  const minMaxView = chart.createView({ id: MIN_MAX_VIEW_ID });\n  interval({\n    chart: minMaxView,\n    options: {\n      xField: X_FIELD,\n      yField: MIN_MAX_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      interval: {\n        color,\n        size: 1,\n        style: {\n          lineWidth: 0,\n        },\n      },\n    },\n  });\n  minMaxView.geometries[0].adjust(adjustCfg);\n\n  // \n  const quantileView = chart.createView({ id: QUANTILE_VIEW_ID });\n  interval({\n    chart: quantileView,\n    options: {\n      xField: X_FIELD,\n      yField: QUANTILE_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      interval: {\n        color,\n        size: 8,\n        style: {\n          fillOpacity: 1,\n        },\n      },\n    },\n  });\n  quantileView.geometries[0].adjust(adjustCfg);\n\n  // \n  const medianView = chart.createView({ id: MEDIAN_VIEW_ID });\n  point({\n    chart: medianView,\n    options: {\n      xField: X_FIELD,\n      yField: MEDIAN_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      point: {\n        color,\n        size: 1,\n        style: {\n          fill: 'white',\n          lineWidth: 0,\n        },\n      },\n    },\n  });\n  medianView.geometries[0].adjust(adjustCfg);\n\n  //  view \n  quantileView.axis(false);\n  minMaxView.axis(false);\n  medianView.axis(false);\n\n  //  view \n  medianView.legend(false);\n  minMaxView.legend(false);\n  quantileView.legend(false);\n\n  return params;\n}\n\n/**\n * meta \n */\nfunction meta(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis } = options;\n\n  const baseMeta = {};\n\n  const scales = deepAssign(baseMeta, meta, {\n    [X_FIELD]: {\n      sync: true,\n      ...pick(xAxis, AXIS_META_CONFIG_KEYS),\n      // fix:  dodge is not support linear attribute, please use category attribute!\n      //  x \n      type: 'cat',\n    },\n    [VIOLIN_Y_FIELD]: {\n      sync: true,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [MIN_MAX_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [QUANTILE_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [MEDIAN_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n */\nfunction axis(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis } = options;\n\n  const view = findViewById(chart, VIOLIN_VIEW_ID);\n\n  //  false \n  if (xAxis === false) {\n    view.axis(X_FIELD, false);\n  } else {\n    view.axis(X_FIELD, xAxis);\n  }\n\n  if (yAxis === false) {\n    view.axis(VIOLIN_Y_FIELD, false);\n  } else {\n    view.axis(VIOLIN_Y_FIELD, yAxis);\n  }\n\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n *\n * @param params\n * @returns\n */\nfunction legend(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField, shape } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    const legendField = seriesField ? seriesField : X_FIELD;\n    // fixme \n    const legendOptions = omit(legend as any, ['selected']);\n    if (!shape || !shape.startsWith('hollow')) {\n      if (!get(legendOptions, ['marker', 'style', 'lineWidth'])) {\n        set(legendOptions, ['marker', 'style', 'lineWidth'], 0);\n      }\n    }\n    chart.legend(legendField, legendOptions);\n    //  fixme G2 \n    if (get(legend, 'selected')) {\n      each(chart.views, (view) => view.legend(legendField, legend));\n    }\n  }\n\n  return params;\n}\n\n/**\n * annotation, apply to violin view.\n * @param params\n * @returns\n */\nfunction annotation(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart } = params;\n\n  const violinView = findViewById(chart, VIOLIN_VIEW_ID);\n  baseAnnotation()({ ...params, chart: violinView });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  Geometry \n  each(chart.views, (view) => {\n    //  view \n    if (typeof animation === 'boolean') {\n      view.animate(animation);\n    } else {\n      view.animate(true);\n    }\n\n    each(view.geometries, (g: Geometry) => {\n      g.animate(animation);\n    });\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<ViolinOptions>) {\n  return flow(\n    theme,\n    data,\n    violinView,\n    boxView,\n    meta,\n    tooltip,\n    axis,\n    legend,\n    interaction,\n    annotation,\n    animation\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { ViolinOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { transformViolinData } from './utils';\nexport type { ViolinOptions };\n\nexport class Violin extends Plot<ViolinOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<ViolinOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'violin';\n\n  /**\n   * @override\n   */\n  public changeData(data: ViolinOptions['data']) {\n    this.updateOption({ data });\n    this.chart.changeData(transformViolinData(this.options));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<ViolinOptions> {\n    return Violin.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ViolinOptions> {\n    return adaptor;\n  }\n}\n","import colorUtil from '@antv/color-util';\n/*\n * interpolates between a set of colors uzing a bezier spline\n * blend mode formulas taken from http://www.venture-ware.com/kevin/coding/lets-learn-math-photoshop-blend-modes/\n */\n\nconst each =\n  (f) =>\n  (c0: number[], c1: number[]): number[] => {\n    const out = [];\n    out[0] = f(c0[0], c1[0]);\n    out[1] = f(c0[1], c1[1]);\n    out[2] = f(c0[2], c1[2]);\n    return out;\n  };\n\n/**\n * \n */\nconst blendObject = {\n  normal: (a: number) => a,\n  multiply: (a: number, b: number) => (a * b) / 255,\n  screen: (a: number, b: number) => 255 * (1 - (1 - a / 255) * (1 - b / 255)),\n  overlay: (a: number, b: number) => (b < 128 ? (2 * a * b) / 255 : 255 * (1 - 2 * (1 - a / 255) * (1 - b / 255))),\n  darken: (a: number, b: number) => (a > b ? b : a),\n  lighten: (a: number, b: number) => (a > b ? a : b),\n  dodge: (a: number, b: number) => {\n    if (a === 255) return 255;\n    a = (255 * (b / 255)) / (1 - a / 255);\n    return a > 255 ? 255 : a;\n  },\n  burn: (a: number, b: number) => {\n    //  w3c  0 \n    if (b === 255) return 255;\n    else if (a === 0) return 0;\n    else return 255 * (1 - Math.min(1, (1 - b / 255) / (a / 255)));\n  },\n};\n\n/**\n * \n */\nexport const innerBlend = (mode: string) => {\n  if (!blendObject[mode]) {\n    throw new Error('unknown blend mode ' + mode);\n  }\n  return blendObject[mode];\n};\n\n/**\n * \n * https://www.w3.org/TR/compositing/#blending\n * @param c0\n * @param c1\n * @param mode \n * @return rbga\n */\nexport function blend(c0: string, c1: string, mode = 'normal') {\n  // blendRgbArr:  blend color: [r, g, b]\n  const blendRgbArr = each(innerBlend(mode))(colorToArr(c0), colorToArr(c1));\n\n  const [r0, g0, b0, a0] = colorToArr(c0);\n  const [r1, g1, b1, a1] = colorToArr(c1);\n\n  const a = Number((a0 + a1 * (1 - a0)).toFixed(2));\n\n  const r = Math.round(\n    ((a0 * (1 - a1) * (r0 / 255) + a0 * a1 * (blendRgbArr[0] / 255) + (1 - a0) * a1 * (r1 / 255)) / a) * 255\n  );\n  const g = Math.round(\n    ((a0 * (1 - a1) * (g0 / 255) + a0 * a1 * (blendRgbArr[1] / 255) + (1 - a0) * a1 * (g1 / 255)) / a) * 255\n  );\n  const b = Math.round(\n    ((a0 * (1 - a1) * (b0 / 255) + a0 * a1 * (blendRgbArr[2] / 255) + (1 - a0) * a1 * (b1 / 255)) / a) * 255\n  );\n\n  return `rgba(${r}, ${g}, ${b}, ${a})`;\n}\n\n/**\n *  [r, g, b, a]\n * https://www.w3.org/TR/compositing/#blending\n * @param c color\n * @return [r, g, b, a]\n */\nexport function colorToArr(c: string): number[] {\n  const color = c.replace('/s+/g', ''); // \n  let rgbaArr: any[];\n\n  // 'red' -> [r, g, b, 1]\n  if (typeof color === 'string' && !color.startsWith('rgba') && !color.startsWith('#')) {\n    return (rgbaArr = colorUtil.rgb2arr(colorUtil.toRGB(color)).concat([1]));\n  }\n\n  // rgba(255, 200, 125, 0.5) -> [r, g, b, a]\n  if (color.startsWith('rgba')) rgbaArr = color.replace('rgba(', '').replace(')', '').split(',');\n\n  // '#fff000' -> [r, g, b, 1]\n  if (color.startsWith('#')) rgbaArr = colorUtil.rgb2arr(color).concat([1]); //  16 6  1\n\n  // [r, g, b, a] \n  return rgbaArr.map((item, index) => (index === 3 ? Number(item) : item | 0));\n}\n","const SMALL = 1e-10;\n\n/** Returns the intersection area of a bunch of circles (where each circle\n is an object having an x,y and radius property) */\nexport function intersectionArea(circles, stats?: any) {\n  // get all the intersection points of the circles\n  const intersectionPoints = getIntersectionPoints(circles);\n\n  // filter out points that aren't included in all the circles\n  const innerPoints = intersectionPoints.filter(function (p) {\n    return containedInCircles(p, circles);\n  });\n\n  let arcArea = 0,\n    polygonArea = 0,\n    i;\n  const arcs = [];\n  // if we have intersection points that are within all the circles,\n  // then figure out the area contained by them\n  if (innerPoints.length > 1) {\n    // sort the points by angle from the center of the polygon, which lets\n    // us just iterate over points to get the edges\n    const center = getCenter(innerPoints);\n    for (i = 0; i < innerPoints.length; ++i) {\n      const p = innerPoints[i];\n      p.angle = Math.atan2(p.x - center.x, p.y - center.y);\n    }\n    innerPoints.sort(function (a, b) {\n      return b.angle - a.angle;\n    });\n\n    // iterate over all points, get arc between the points\n    // and update the areas\n    let p2 = innerPoints[innerPoints.length - 1];\n    for (i = 0; i < innerPoints.length; ++i) {\n      const p1 = innerPoints[i];\n\n      // polygon area updates easily ...\n      polygonArea += (p2.x + p1.x) * (p1.y - p2.y);\n\n      // updating the arc area is a little more involved\n      const midPoint = { x: (p1.x + p2.x) / 2, y: (p1.y + p2.y) / 2 };\n      let arc = null;\n\n      for (let j = 0; j < p1.parentIndex.length; ++j) {\n        if (p2.parentIndex.indexOf(p1.parentIndex[j]) > -1) {\n          // figure out the angle halfway between the two points\n          // on the current circle\n          const circle = circles[p1.parentIndex[j]],\n            a1 = Math.atan2(p1.x - circle.x, p1.y - circle.y),\n            a2 = Math.atan2(p2.x - circle.x, p2.y - circle.y);\n\n          let angleDiff = a2 - a1;\n          if (angleDiff < 0) {\n            angleDiff += 2 * Math.PI;\n          }\n\n          // and use that angle to figure out the width of the\n          // arc\n          const a = a2 - angleDiff / 2;\n          let width = distance(midPoint, {\n            x: circle.x + circle.radius * Math.sin(a),\n            y: circle.y + circle.radius * Math.cos(a),\n          });\n\n          // clamp the width to the largest is can actually be\n          // (sometimes slightly overflows because of FP errors)\n          if (width > circle.radius * 2) {\n            width = circle.radius * 2;\n          }\n\n          // pick the circle whose arc has the smallest width\n          if (arc === null || arc.width > width) {\n            arc = { circle: circle, width: width, p1: p1, p2: p2 };\n          }\n        }\n      }\n\n      if (arc !== null) {\n        arcs.push(arc);\n        arcArea += circleArea(arc.circle.radius, arc.width);\n        p2 = p1;\n      }\n    }\n  } else {\n    // no intersection points, is either disjoint - or is completely\n    // overlapped. figure out which by examining the smallest circle\n    let smallest = circles[0];\n    for (i = 1; i < circles.length; ++i) {\n      if (circles[i].radius < smallest.radius) {\n        smallest = circles[i];\n      }\n    }\n\n    // make sure the smallest circle is completely contained in all\n    // the other circles\n    let disjoint = false;\n    for (i = 0; i < circles.length; ++i) {\n      if (distance(circles[i], smallest) > Math.abs(smallest.radius - circles[i].radius)) {\n        disjoint = true;\n        break;\n      }\n    }\n\n    if (disjoint) {\n      arcArea = polygonArea = 0;\n    } else {\n      arcArea = smallest.radius * smallest.radius * Math.PI;\n      arcs.push({\n        circle: smallest,\n        p1: { x: smallest.x, y: smallest.y + smallest.radius },\n        p2: { x: smallest.x - SMALL, y: smallest.y + smallest.radius },\n        width: smallest.radius * 2,\n      });\n    }\n  }\n\n  polygonArea /= 2;\n  if (stats) {\n    stats.area = arcArea + polygonArea;\n    stats.arcArea = arcArea;\n    stats.polygonArea = polygonArea;\n    stats.arcs = arcs;\n    stats.innerPoints = innerPoints;\n    stats.intersectionPoints = intersectionPoints;\n  }\n\n  return arcArea + polygonArea;\n}\n\n/** returns whether a point is contained by all of a list of circles */\nexport function containedInCircles(point, circles) {\n  for (let i = 0; i < circles.length; ++i) {\n    if (distance(point, circles[i]) > circles[i].radius + SMALL) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/** Gets all intersection points between a bunch of circles */\nfunction getIntersectionPoints(circles) {\n  const ret = [];\n  for (let i = 0; i < circles.length; ++i) {\n    for (let j = i + 1; j < circles.length; ++j) {\n      const intersect = circleCircleIntersection(circles[i], circles[j]);\n      for (let k = 0; k < intersect.length; ++k) {\n        const p: any = intersect[k];\n        p.parentIndex = [i, j];\n        ret.push(p);\n      }\n    }\n  }\n  return ret;\n}\n\n/** Circular segment area calculation. See http://mathworld.wolfram.com/CircularSegment.html */\nexport function circleArea(r, width) {\n  return r * r * Math.acos(1 - width / r) - (r - width) * Math.sqrt(width * (2 * r - width));\n}\n\n/** euclidean distance between two points */\nexport function distance(p1, p2) {\n  return Math.sqrt((p1.x - p2.x) * (p1.x - p2.x) + (p1.y - p2.y) * (p1.y - p2.y));\n}\n\n/** Returns the overlap area of two circles of radius r1 and r2 - that\nhave their centers separated by distance d. Simpler faster\ncircle intersection for only two circles */\nexport function circleOverlap(r1, r2, d) {\n  // no overlap\n  if (d >= r1 + r2) {\n    return 0;\n  }\n\n  // completely overlapped\n  if (d <= Math.abs(r1 - r2)) {\n    return Math.PI * Math.min(r1, r2) * Math.min(r1, r2);\n  }\n\n  const w1 = r1 - (d * d - r2 * r2 + r1 * r1) / (2 * d),\n    w2 = r2 - (d * d - r1 * r1 + r2 * r2) / (2 * d);\n  return circleArea(r1, w1) + circleArea(r2, w2);\n}\n\n/** Given two circles (containing a x/y/radius attributes),\nreturns the intersecting points if possible.\nnote: doesn't handle cases where there are infinitely many\nintersection points (circles are equivalent):, or only one intersection point*/\nexport function circleCircleIntersection(p1, p2) {\n  const d = distance(p1, p2),\n    r1 = p1.radius,\n    r2 = p2.radius;\n\n  // if to far away, or self contained - can't be done\n  if (d >= r1 + r2 || d <= Math.abs(r1 - r2)) {\n    return [];\n  }\n\n  const a = (r1 * r1 - r2 * r2 + d * d) / (2 * d),\n    h = Math.sqrt(r1 * r1 - a * a),\n    x0 = p1.x + (a * (p2.x - p1.x)) / d,\n    y0 = p1.y + (a * (p2.y - p1.y)) / d,\n    rx = -(p2.y - p1.y) * (h / d),\n    ry = -(p2.x - p1.x) * (h / d);\n\n  return [\n    { x: x0 + rx, y: y0 - ry },\n    { x: x0 - rx, y: y0 + ry },\n  ];\n}\n\n/** Returns the center of a bunch of points */\nexport function getCenter(points) {\n  const center = { x: 0, y: 0 };\n  for (let i = 0; i < points.length; ++i) {\n    center.x += points[i].x;\n    center.y += points[i].y;\n  }\n  center.x /= points.length;\n  center.y /= points.length;\n  return center;\n}\n","import { nelderMead, bisect, conjugateGradient, zeros, zerosM, norm2, scale } from 'fmin';\nimport { intersectionArea, circleOverlap, circleCircleIntersection, distance } from './circleintersection';\n\n/** given a list of set objects, and their corresponding overlaps.\nupdates the (x, y, radius) attribute on each set such that their positions\nroughly correspond to the desired overlaps */\nexport function venn(areas, parameters?: any) {\n  parameters = parameters || {};\n  parameters.maxIterations = parameters.maxIterations || 500;\n  const initialLayout = parameters.initialLayout || bestInitialLayout;\n  const loss = parameters.lossFunction || lossFunction;\n\n  // add in missing pairwise areas as having 0 size\n  areas = addMissingAreas(areas);\n\n  // initial layout is done greedily\n  const circles = initialLayout(areas, parameters);\n\n  // transform x/y coordinates to a vector to optimize\n  const initial = [],\n    setids = [];\n  let setid;\n  for (setid in circles) {\n    // eslint-disable-next-line\n    if (circles.hasOwnProperty(setid)) {\n      initial.push(circles[setid].x);\n      initial.push(circles[setid].y);\n      setids.push(setid);\n    }\n  }\n\n  // optimize initial layout from our loss function\n  const solution = nelderMead(\n    function (values) {\n      const current = {};\n      for (let i = 0; i < setids.length; ++i) {\n        const setid = setids[i];\n        current[setid] = {\n          x: values[2 * i],\n          y: values[2 * i + 1],\n          radius: circles[setid].radius,\n          // size : circles[setid].size\n        };\n      }\n      return loss(current, areas);\n    },\n    initial,\n    parameters\n  );\n\n  // transform solution vector back to x/y points\n  const positions = solution.x;\n  for (let i = 0; i < setids.length; ++i) {\n    setid = setids[i];\n    circles[setid].x = positions[2 * i];\n    circles[setid].y = positions[2 * i + 1];\n  }\n\n  return circles;\n}\n\nconst SMALL = 1e-10;\n\n/** Returns the distance necessary for two circles of radius r1 + r2 to\nhave the overlap area 'overlap' */\nexport function distanceFromIntersectArea(r1, r2, overlap) {\n  // handle complete overlapped circles\n  if (Math.min(r1, r2) * Math.min(r1, r2) * Math.PI <= overlap + SMALL) {\n    return Math.abs(r1 - r2);\n  }\n\n  return bisect(\n    function (distance) {\n      return circleOverlap(r1, r2, distance) - overlap;\n    },\n    0,\n    r1 + r2\n  );\n}\n\n/** Missing pair-wise intersection area data can cause problems:\n treating as an unknown means that sets will be laid out overlapping,\n which isn't what people expect. To reflect that we want disjoint sets\n here, set the overlap to 0 for all missing pairwise set intersections */\nfunction addMissingAreas(areas) {\n  areas = areas.slice();\n\n  // two circle intersections that aren't defined\n  const ids: number[] = [],\n    pairs: any = {};\n  let i, j, a, b;\n  for (i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      ids.push(area.sets[0]);\n    } else if (area.sets.length == 2) {\n      a = area.sets[0];\n      b = area.sets[1];\n      // @ts-ignore\n      pairs[[a, b]] = true;\n      // @ts-ignore\n      pairs[[b, a]] = true;\n    }\n  }\n  ids.sort((a, b) => {\n    return a > b ? 1 : -1;\n  });\n\n  for (i = 0; i < ids.length; ++i) {\n    a = ids[i];\n    for (j = i + 1; j < ids.length; ++j) {\n      b = ids[j];\n      // @ts-ignore\n      if (!([a, b] in pairs)) {\n        areas.push({ sets: [a, b], size: 0 });\n      }\n    }\n  }\n  return areas;\n}\n\n/// Returns two matrices, one of the euclidean distances between the sets\n/// and the other indicating if there are subset or disjoint set relationships\nexport function getDistanceMatrices(areas, sets, setids) {\n  // initialize an empty distance matrix between all the points\n  const distances = zerosM(sets.length, sets.length),\n    constraints = zerosM(sets.length, sets.length);\n\n  // compute required distances between all the sets such that\n  // the areas match\n  areas\n    .filter(function (x) {\n      return x.sets.length == 2;\n    })\n    .map(function (current) {\n      const left = setids[current.sets[0]],\n        right = setids[current.sets[1]],\n        r1 = Math.sqrt(sets[left].size / Math.PI),\n        r2 = Math.sqrt(sets[right].size / Math.PI),\n        distance = distanceFromIntersectArea(r1, r2, current.size);\n\n      distances[left][right] = distances[right][left] = distance;\n\n      // also update constraints to indicate if its a subset or disjoint\n      // relationship\n      let c = 0;\n      if (current.size + 1e-10 >= Math.min(sets[left].size, sets[right].size)) {\n        c = 1;\n      } else if (current.size <= 1e-10) {\n        c = -1;\n      }\n      constraints[left][right] = constraints[right][left] = c;\n    });\n\n  return { distances: distances, constraints: constraints };\n}\n\n/// computes the gradient and loss simulatenously for our constrained MDS optimizer\nfunction constrainedMDSGradient(x, fxprime, distances, constraints) {\n  let loss = 0,\n    i;\n  for (i = 0; i < fxprime.length; ++i) {\n    fxprime[i] = 0;\n  }\n\n  for (i = 0; i < distances.length; ++i) {\n    const xi = x[2 * i],\n      yi = x[2 * i + 1];\n    for (let j = i + 1; j < distances.length; ++j) {\n      const xj = x[2 * j],\n        yj = x[2 * j + 1],\n        dij = distances[i][j],\n        constraint = constraints[i][j];\n\n      const squaredDistance = (xj - xi) * (xj - xi) + (yj - yi) * (yj - yi),\n        distance = Math.sqrt(squaredDistance),\n        delta = squaredDistance - dij * dij;\n\n      if ((constraint > 0 && distance <= dij) || (constraint < 0 && distance >= dij)) {\n        continue;\n      }\n\n      loss += 2 * delta * delta;\n\n      fxprime[2 * i] += 4 * delta * (xi - xj);\n      fxprime[2 * i + 1] += 4 * delta * (yi - yj);\n\n      fxprime[2 * j] += 4 * delta * (xj - xi);\n      fxprime[2 * j + 1] += 4 * delta * (yj - yi);\n    }\n  }\n  return loss;\n}\n\n/// takes the best working variant of either constrained MDS or greedy\nexport function bestInitialLayout(areas, params) {\n  let initial = greedyLayout(areas, params);\n  const loss = params.lossFunction || lossFunction;\n\n  // greedylayout is sufficient for all 2/3 circle cases. try out\n  // constrained MDS for higher order problems, take its output\n  // if it outperforms. (greedy is aesthetically better on 2/3 circles\n  // since it axis aligns)\n  if (areas.length >= 8) {\n    const constrained = constrainedMDSLayout(areas, params),\n      constrainedLoss = loss(constrained, areas),\n      greedyLoss = loss(initial, areas);\n\n    if (constrainedLoss + 1e-8 < greedyLoss) {\n      initial = constrained;\n    }\n  }\n  return initial;\n}\n\n/// use the constrained MDS variant to generate an initial layout\nexport function constrainedMDSLayout(areas, params) {\n  params = params || {};\n  const restarts = params.restarts || 10;\n\n  // bidirectionally map sets to a rowid  (so we can create a matrix)\n  const sets = [],\n    setids = {};\n  let i;\n  for (i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      setids[area.sets[0]] = sets.length;\n      sets.push(area);\n    }\n  }\n\n  const matrices = getDistanceMatrices(areas, sets, setids);\n  let distances = matrices.distances;\n  const constraints = matrices.constraints;\n\n  // keep distances bounded, things get messed up otherwise.\n  // TODO: proper preconditioner?\n  const norm = norm2(distances.map(norm2)) / distances.length;\n  distances = distances.map(function (row) {\n    return row.map(function (value) {\n      return value / norm;\n    });\n  });\n\n  const obj = function (x, fxprime) {\n    return constrainedMDSGradient(x, fxprime, distances, constraints);\n  };\n\n  let best, current;\n  for (i = 0; i < restarts; ++i) {\n    const initial = zeros(distances.length * 2).map(Math.random);\n\n    current = conjugateGradient(obj, initial, params);\n    if (!best || current.fx < best.fx) {\n      best = current;\n    }\n  }\n  const positions = best.x;\n\n  // translate rows back to (x,y,radius) coordinates\n  const circles = {};\n  for (i = 0; i < sets.length; ++i) {\n    const set = sets[i];\n    circles[set.sets[0]] = {\n      x: positions[2 * i] * norm,\n      y: positions[2 * i + 1] * norm,\n      radius: Math.sqrt(set.size / Math.PI),\n    };\n  }\n\n  if (params.history) {\n    for (i = 0; i < params.history.length; ++i) {\n      scale(params.history[i].x, norm);\n    }\n  }\n  return circles;\n}\n\n/** Lays out a Venn diagram greedily, going from most overlapped sets to\nleast overlapped, attempting to position each new set such that the\noverlapping areas to already positioned sets are basically right */\nexport function greedyLayout(areas, params) {\n  const loss = params && params.lossFunction ? params.lossFunction : lossFunction;\n  // define a circle for each set\n  const circles = {},\n    setOverlaps = {};\n  let set;\n  for (let i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      set = area.sets[0];\n      circles[set] = {\n        x: 1e10,\n        y: 1e10,\n        // rowid: circles.length, // fix to ->\n        rowid: Object.keys(circles).length,\n        size: area.size,\n        radius: Math.sqrt(area.size / Math.PI),\n      };\n      setOverlaps[set] = [];\n    }\n  }\n  areas = areas.filter(function (a) {\n    return a.sets.length == 2;\n  });\n\n  // map each set to a list of all the other sets that overlap it\n  for (let i = 0; i < areas.length; ++i) {\n    const current = areas[i];\n    // eslint-disable-next-line\n    let weight = current.hasOwnProperty('weight') ? current.weight : 1.0;\n    const left = current.sets[0],\n      right = current.sets[1];\n\n    // completely overlapped circles shouldn't be positioned early here\n    if (current.size + SMALL >= Math.min(circles[left].size, circles[right].size)) {\n      weight = 0;\n    }\n\n    setOverlaps[left].push({ set: right, size: current.size, weight: weight });\n    setOverlaps[right].push({ set: left, size: current.size, weight: weight });\n  }\n\n  // get list of most overlapped sets\n  const mostOverlapped = [];\n  for (set in setOverlaps) {\n    // eslint-disable-next-line\n    if (setOverlaps.hasOwnProperty(set)) {\n      let size = 0;\n      for (let i = 0; i < setOverlaps[set].length; ++i) {\n        size += setOverlaps[set][i].size * setOverlaps[set][i].weight;\n      }\n\n      mostOverlapped.push({ set: set, size: size });\n    }\n  }\n\n  // sort by size desc\n  function sortOrder(a, b) {\n    return b.size - a.size;\n  }\n  mostOverlapped.sort(sortOrder);\n\n  // keep track of what sets have been laid out\n  const positioned = {};\n  function isPositioned(element) {\n    return element.set in positioned;\n  }\n\n  // adds a point to the output\n  function positionSet(point, index) {\n    circles[index].x = point.x;\n    circles[index].y = point.y;\n    positioned[index] = true;\n  }\n\n  // add most overlapped set at (0,0)\n  positionSet({ x: 0, y: 0 }, mostOverlapped[0].set);\n\n  // get distances between all points. TODO, necessary?\n  // answer: probably not\n  // var distances = venn.getDistanceMatrices(circles, areas).distances;\n  for (let i = 1; i < mostOverlapped.length; ++i) {\n    const setIndex = mostOverlapped[i].set,\n      overlap = setOverlaps[setIndex].filter(isPositioned);\n    set = circles[setIndex];\n    overlap.sort(sortOrder);\n\n    if (overlap.length === 0) {\n      // this shouldn't happen anymore with addMissingAreas\n      throw 'ERROR: missing pairwise overlap information';\n    }\n\n    const points = [];\n    for (let j = 0; j < overlap.length; ++j) {\n      // get appropriate distance from most overlapped already added set\n      const p1 = circles[overlap[j].set],\n        d1 = distanceFromIntersectArea(set.radius, p1.radius, overlap[j].size);\n\n      // sample positions at 90 degrees for maximum aesthetics\n      points.push({ x: p1.x + d1, y: p1.y });\n      points.push({ x: p1.x - d1, y: p1.y });\n      points.push({ y: p1.y + d1, x: p1.x });\n      points.push({ y: p1.y - d1, x: p1.x });\n\n      // if we have at least 2 overlaps, then figure out where the\n      // set should be positioned analytically and try those too\n      for (let k = j + 1; k < overlap.length; ++k) {\n        const p2 = circles[overlap[k].set],\n          d2 = distanceFromIntersectArea(set.radius, p2.radius, overlap[k].size);\n\n        const extraPoints = circleCircleIntersection(\n          { x: p1.x, y: p1.y, radius: d1 },\n          { x: p2.x, y: p2.y, radius: d2 }\n        );\n\n        for (let l = 0; l < extraPoints.length; ++l) {\n          points.push(extraPoints[l]);\n        }\n      }\n    }\n\n    // we have some candidate positions for the set, examine loss\n    // at each position to figure out where to put it at\n    let bestLoss = 1e50,\n      bestPoint = points[0];\n    for (let j = 0; j < points.length; ++j) {\n      circles[setIndex].x = points[j].x;\n      circles[setIndex].y = points[j].y;\n      const localLoss = loss(circles, areas);\n      if (localLoss < bestLoss) {\n        bestLoss = localLoss;\n        bestPoint = points[j];\n      }\n    }\n\n    positionSet(bestPoint, setIndex);\n  }\n\n  return circles;\n}\n\n/** Given a bunch of sets, and the desired overlaps between these sets - computes\nthe distance from the actual overlaps to the desired overlaps. Note that\nthis method ignores overlaps of more than 2 circles */\nexport function lossFunction(sets, overlaps) {\n  let output = 0;\n\n  function getCircles(indices) {\n    return indices.map(function (i) {\n      return sets[i];\n    });\n  }\n\n  for (let i = 0; i < overlaps.length; ++i) {\n    const area = overlaps[i];\n    let overlap;\n    if (area.sets.length == 1) {\n      continue;\n    } else if (area.sets.length == 2) {\n      const left = sets[area.sets[0]],\n        right = sets[area.sets[1]];\n      overlap = circleOverlap(left.radius, right.radius, distance(left, right));\n    } else {\n      overlap = intersectionArea(getCircles(area.sets));\n    }\n\n    // eslint-disable-next-line\n    const weight = area.hasOwnProperty('weight') ? area.weight : 1.0;\n    output += weight * (overlap - area.size) * (overlap - area.size);\n  }\n\n  return output;\n}\n\n// orientates a bunch of circles to point in orientation\nfunction orientateCircles(circles, orientation, orientationOrder) {\n  if (orientationOrder === null) {\n    circles.sort(function (a, b) {\n      return b.radius - a.radius;\n    });\n  } else {\n    circles.sort(orientationOrder);\n  }\n\n  let i;\n  // shift circles so largest circle is at (0, 0)\n  if (circles.length > 0) {\n    const largestX = circles[0].x,\n      largestY = circles[0].y;\n\n    for (i = 0; i < circles.length; ++i) {\n      circles[i].x -= largestX;\n      circles[i].y -= largestY;\n    }\n  }\n\n  if (circles.length == 2) {\n    // if the second circle is a subset of the first, arrange so that\n    // it is off to one side. hack for https://github.com/benfred/venn.js/issues/120\n    const dist = distance(circles[0], circles[1]);\n    if (dist < Math.abs(circles[1].radius - circles[0].radius)) {\n      circles[1].x = circles[0].x + circles[0].radius - circles[1].radius - 1e-10;\n      circles[1].y = circles[0].y;\n    }\n  }\n\n  // rotate circles so that second largest is at an angle of 'orientation'\n  // from largest\n  if (circles.length > 1) {\n    const rotation = Math.atan2(circles[1].x, circles[1].y) - orientation;\n    let x, y;\n    const c = Math.cos(rotation),\n      s = Math.sin(rotation);\n    for (i = 0; i < circles.length; ++i) {\n      x = circles[i].x;\n      y = circles[i].y;\n      circles[i].x = c * x - s * y;\n      circles[i].y = s * x + c * y;\n    }\n  }\n\n  // mirror solution if third solution is above plane specified by\n  // first two circles\n  if (circles.length > 2) {\n    let angle = Math.atan2(circles[2].x, circles[2].y) - orientation;\n    while (angle < 0) {\n      angle += 2 * Math.PI;\n    }\n    while (angle > 2 * Math.PI) {\n      angle -= 2 * Math.PI;\n    }\n    if (angle > Math.PI) {\n      const slope = circles[1].y / (1e-10 + circles[1].x);\n      for (i = 0; i < circles.length; ++i) {\n        const d = (circles[i].x + slope * circles[i].y) / (1 + slope * slope);\n        circles[i].x = 2 * d - circles[i].x;\n        circles[i].y = 2 * d * slope - circles[i].y;\n      }\n    }\n  }\n}\n\nexport function disjointCluster(circles) {\n  // union-find clustering to get disjoint sets\n  circles.map(function (circle) {\n    circle.parent = circle;\n  });\n\n  // path compression step in union find\n  function find(circle) {\n    if (circle.parent !== circle) {\n      circle.parent = find(circle.parent);\n    }\n    return circle.parent;\n  }\n\n  function union(x, y) {\n    const xRoot = find(x),\n      yRoot = find(y);\n    xRoot.parent = yRoot;\n  }\n\n  // get the union of all overlapping sets\n  for (let i = 0; i < circles.length; ++i) {\n    for (let j = i + 1; j < circles.length; ++j) {\n      const maxDistance = circles[i].radius + circles[j].radius;\n      if (distance(circles[i], circles[j]) + 1e-10 < maxDistance) {\n        union(circles[j], circles[i]);\n      }\n    }\n  }\n\n  // find all the disjoint clusters and group them together\n  const disjointClusters = {};\n  let setid;\n  for (let i = 0; i < circles.length; ++i) {\n    setid = find(circles[i]).parent.setid;\n    if (!(setid in disjointClusters)) {\n      disjointClusters[setid] = [];\n    }\n    disjointClusters[setid].push(circles[i]);\n  }\n\n  // cleanup bookkeeping\n  circles.map(function (circle) {\n    delete circle.parent;\n  });\n\n  // return in more usable form\n  const ret = [];\n  for (setid in disjointClusters) {\n    // eslint-disable-next-line\n    if (disjointClusters.hasOwnProperty(setid)) {\n      ret.push(disjointClusters[setid]);\n    }\n  }\n  return ret;\n}\n\nfunction getBoundingBox(circles) {\n  const minMax = function (d) {\n    const hi = Math.max.apply(\n        null,\n        circles.map(function (c) {\n          return c[d] + c.radius;\n        })\n      ),\n      lo = Math.min.apply(\n        null,\n        circles.map(function (c) {\n          return c[d] - c.radius;\n        })\n      );\n    return { max: hi, min: lo };\n  };\n\n  return { xRange: minMax('x'), yRange: minMax('y') };\n}\n\nexport function normalizeSolution(solution, orientation, orientationOrder) {\n  if (orientation === null) {\n    orientation = Math.PI / 2;\n  }\n\n  // work with a list instead of a dictionary, and take a copy so we\n  // don't mutate input\n  let circles = [],\n    i,\n    setid;\n  for (setid in solution) {\n    // eslint-disable-next-line\n    if (solution.hasOwnProperty(setid)) {\n      const previous = solution[setid];\n      circles.push({ x: previous.x, y: previous.y, radius: previous.radius, setid: setid });\n    }\n  }\n\n  // get all the disjoint clusters\n  const clusters = disjointCluster(circles);\n\n  // orientate all disjoint sets, get sizes\n  for (i = 0; i < clusters.length; ++i) {\n    orientateCircles(clusters[i], orientation, orientationOrder);\n    const bounds = getBoundingBox(clusters[i]);\n    clusters[i].size = (bounds.xRange.max - bounds.xRange.min) * (bounds.yRange.max - bounds.yRange.min);\n    clusters[i].bounds = bounds;\n  }\n  clusters.sort(function (a, b) {\n    return b.size - a.size;\n  });\n\n  // orientate the largest at 0,0, and get the bounds\n  circles = clusters[0];\n  // @ts-ignore fixme \n  let returnBounds = circles.bounds;\n\n  const spacing = (returnBounds.xRange.max - returnBounds.xRange.min) / 50;\n\n  function addCluster(cluster, right, bottom) {\n    if (!cluster) return;\n\n    const bounds = cluster.bounds;\n    let xOffset, yOffset, centreing;\n\n    if (right) {\n      xOffset = returnBounds.xRange.max - bounds.xRange.min + spacing;\n    } else {\n      xOffset = returnBounds.xRange.max - bounds.xRange.max;\n      centreing = (bounds.xRange.max - bounds.xRange.min) / 2 - (returnBounds.xRange.max - returnBounds.xRange.min) / 2;\n      if (centreing < 0) xOffset += centreing;\n    }\n\n    if (bottom) {\n      yOffset = returnBounds.yRange.max - bounds.yRange.min + spacing;\n    } else {\n      yOffset = returnBounds.yRange.max - bounds.yRange.max;\n      centreing = (bounds.yRange.max - bounds.yRange.min) / 2 - (returnBounds.yRange.max - returnBounds.yRange.min) / 2;\n      if (centreing < 0) yOffset += centreing;\n    }\n\n    for (let j = 0; j < cluster.length; ++j) {\n      cluster[j].x += xOffset;\n      cluster[j].y += yOffset;\n      circles.push(cluster[j]);\n    }\n  }\n\n  let index = 1;\n  while (index < clusters.length) {\n    addCluster(clusters[index], true, false);\n    addCluster(clusters[index + 1], false, true);\n    addCluster(clusters[index + 2], true, true);\n    index += 3;\n\n    // have one cluster (in top left). lay out next three relative\n    // to it in a grid\n    returnBounds = getBoundingBox(circles);\n  }\n\n  // convert back to solution form\n  const ret = {};\n  for (i = 0; i < circles.length; ++i) {\n    ret[circles[i].setid] = circles[i];\n  }\n  return ret;\n}\n\n/** Scales a solution from venn.venn or venn.greedyLayout such that it fits in\na rectangle of width/height - with padding around the borders. also\ncenters the diagram in the available space at the same time */\nexport function scaleSolution(solution, width, height, padding) {\n  const circles = [],\n    setids = [];\n  for (const setid in solution) {\n    // eslint-disable-next-line\n    if (solution.hasOwnProperty(setid)) {\n      setids.push(setid);\n      circles.push(solution[setid]);\n    }\n  }\n\n  width -= 2 * padding;\n  height -= 2 * padding;\n\n  const bounds = getBoundingBox(circles),\n    xRange = bounds.xRange,\n    yRange = bounds.yRange;\n\n  if (xRange.max == xRange.min || yRange.max == yRange.min) {\n    console.log('not scaling solution: zero size detected');\n    return solution;\n  }\n\n  const xScaling = width / (xRange.max - xRange.min),\n    yScaling = height / (yRange.max - yRange.min),\n    scaling = Math.min(yScaling, xScaling),\n    // while we're at it, center the diagram too\n    xOffset = (width - (xRange.max - xRange.min) * scaling) / 2,\n    yOffset = (height - (yRange.max - yRange.min) * scaling) / 2;\n\n  const scaled = {};\n  for (let i = 0; i < circles.length; ++i) {\n    const circle = circles[i];\n    scaled[setids[i]] = {\n      radius: scaling * circle.radius,\n      x: padding + xOffset + (circle.x - xRange.min) * scaling,\n      y: padding + yOffset + (circle.y - yRange.min) * scaling,\n    };\n  }\n\n  return scaled;\n}\n","import { nelderMead } from 'fmin';\nimport { intersectionArea, distance, getCenter } from './circleintersection';\n\nfunction circleMargin(current, interior, exterior) {\n  let margin = interior[0].radius - distance(interior[0], current),\n    i,\n    m;\n  for (i = 1; i < interior.length; ++i) {\n    m = interior[i].radius - distance(interior[i], current);\n    if (m <= margin) {\n      margin = m;\n    }\n  }\n\n  for (i = 0; i < exterior.length; ++i) {\n    m = distance(exterior[i], current) - exterior[i].radius;\n    if (m <= margin) {\n      margin = m;\n    }\n  }\n  return margin;\n}\n\n// compute the center of some circles by maximizing the margin of\n// the center point relative to the circles (interior) after subtracting\n// nearby circles (exterior)\nexport function computeTextCentre(interior, exterior) {\n  // get an initial estimate by sampling around the interior circles\n  // and taking the point with the biggest margin\n  const points = [];\n  let i;\n  for (i = 0; i < interior.length; ++i) {\n    const c = interior[i];\n    points.push({ x: c.x, y: c.y });\n    points.push({ x: c.x + c.radius / 2, y: c.y });\n    points.push({ x: c.x - c.radius / 2, y: c.y });\n    points.push({ x: c.x, y: c.y + c.radius / 2 });\n    points.push({ x: c.x, y: c.y - c.radius / 2 });\n  }\n  let initial = points[0],\n    margin = circleMargin(points[0], interior, exterior);\n  for (i = 1; i < points.length; ++i) {\n    const m = circleMargin(points[i], interior, exterior);\n    if (m >= margin) {\n      initial = points[i];\n      margin = m;\n    }\n  }\n\n  // maximize the margin numerically\n  const solution = nelderMead(\n    function (p) {\n      return -1 * circleMargin({ x: p[0], y: p[1] }, interior, exterior);\n    },\n    [initial.x, initial.y],\n    { maxIterations: 500, minErrorDelta: 1e-10 }\n  ).x;\n  let ret: any = { x: solution[0], y: solution[1] };\n\n  // check solution, fallback as needed (happens if fully overlapped\n  // etc)\n  let valid = true;\n  for (i = 0; i < interior.length; ++i) {\n    if (distance(ret, interior[i]) > interior[i].radius) {\n      valid = false;\n      break;\n    }\n  }\n\n  for (i = 0; i < exterior.length; ++i) {\n    if (distance(ret, exterior[i]) < exterior[i].radius) {\n      valid = false;\n      break;\n    }\n  }\n\n  if (!valid) {\n    if (interior.length == 1) {\n      ret = { x: interior[0].x, y: interior[0].y };\n    } else {\n      const areaStats: any = {};\n      intersectionArea(interior, areaStats);\n\n      if (areaStats.arcs.length === 0) {\n        ret = { x: 0, y: -1000, disjoint: true };\n      } else if (areaStats.arcs.length == 1) {\n        ret = { x: areaStats.arcs[0].circle.x, y: areaStats.arcs[0].circle.y };\n      } else if (exterior.length) {\n        // try again without other circles\n        ret = computeTextCentre(interior, []);\n      } else {\n        // take average of all the points in the intersection\n        // polygon. this should basically never happen\n        // and has some issues:\n        // https://github.com/benfred/venn.js/issues/48#issuecomment-146069777\n        ret = getCenter(\n          areaStats.arcs.map(function (a) {\n            return a.p1;\n          })\n        );\n      }\n    }\n  }\n\n  return ret;\n}\n\n// given a dictionary of {setid : circle}, returns\n// a dictionary of setid to list of circles that completely overlap it\nfunction getOverlappingCircles(circles) {\n  const ret = {},\n    circleids = [];\n  for (const circleid in circles) {\n    circleids.push(circleid);\n    ret[circleid] = [];\n  }\n  for (let i = 0; i < circleids.length; i++) {\n    const a = circles[circleids[i]];\n    for (let j = i + 1; j < circleids.length; ++j) {\n      const b = circles[circleids[j]],\n        d = distance(a, b);\n\n      if (d + b.radius <= a.radius + 1e-10) {\n        ret[circleids[j]].push(circleids[i]);\n      } else if (d + a.radius <= b.radius + 1e-10) {\n        ret[circleids[i]].push(circleids[j]);\n      }\n    }\n  }\n  return ret;\n}\n\nexport function computeTextCentres(circles, areas) {\n  const ret = {},\n    overlapped = getOverlappingCircles(circles);\n  for (let i = 0; i < areas.length; ++i) {\n    const area = areas[i].sets,\n      areaids = {},\n      exclude = {};\n    for (let j = 0; j < area.length; ++j) {\n      areaids[area[j]] = true;\n      const overlaps = overlapped[area[j]];\n      // keep track of any circles that overlap this area,\n      // and don't consider for purposes of computing the text\n      // centre\n      for (let k = 0; k < overlaps.length; ++k) {\n        exclude[overlaps[k]] = true;\n      }\n    }\n\n    const interior = [],\n      exterior = [];\n    for (const setid in circles) {\n      if (setid in areaids) {\n        interior.push(circles[setid]);\n      } else if (!(setid in exclude)) {\n        exterior.push(circles[setid]);\n      }\n    }\n    const centre = computeTextCentre(interior, exterior);\n    ret[area] = centre;\n    if (centre.disjoint && areas[i].size > 0) {\n      console.log('WARNING: area ' + area + ' not represented on screen');\n    }\n  }\n  return ret;\n}\n\n/**\n * (x, y)  r  path\n * @param x  x\n * @param y  y\n * @param r \n * @returns  path\n */\nexport function circlePath(x, y, r) {\n  const ret = [];\n  // ret.push('\\nM', x, y);\n  // ret.push('\\nm', -r, 0);\n  // ret.push('\\na', r, r, 0, 1, 0, r * 2, 0);\n  // ret.push('\\na', r, r, 0, 1, 0, -r * 2, 0);\n  const x0 = x - r;\n  const y0 = y;\n  ret.push('M', x0, y0);\n  ret.push('A', r, r, 0, 1, 0, x0 + 2 * r, y0);\n  ret.push('A', r, r, 0, 1, 0, x0, y0);\n\n  return ret.join(' ');\n}\n\n// inverse of the circlePath function, returns a circle object from an svg path\nexport function circleFromPath(path) {\n  const tokens = path.split(' ');\n  return { x: parseFloat(tokens[1]), y: parseFloat(tokens[2]), radius: -parseFloat(tokens[4]) };\n}\n\n/** returns a svg path of the intersection area of a bunch of circles */\nexport function intersectionAreaPath(circles) {\n  const stats: any = {};\n  intersectionArea(circles, stats);\n  const arcs = stats.arcs;\n\n  if (arcs.length === 0) {\n    return 'M 0 0';\n  } else if (arcs.length == 1) {\n    const circle = arcs[0].circle;\n    return circlePath(circle.x, circle.y, circle.radius);\n  } else {\n    // draw path around arcs\n    const ret = ['\\nM', arcs[0].p2.x, arcs[0].p2.y];\n    for (let i = 0; i < arcs.length; ++i) {\n      const arc = arcs[i],\n        r = arc.circle.radius,\n        wide = arc.width > r;\n      ret.push('\\nA', r, r, 0, wide ? 1 : 0, 1, arc.p1.x, arc.p1.y);\n    }\n    return ret.join(' ');\n  }\n}\n","import { VennOptions } from './types';\n\n// \nexport const ID_FIELD = 'id';\nexport const PATH_FIELD = 'path';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS: Partial<VennOptions> = {\n  appendPadding: [10, 0, 20, 0],\n  blendMode: 'multiply',\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    fields: ['id', 'size'],\n    formatter: (datum) => {\n      return { name: datum.id, value: datum.size };\n    },\n  },\n  legend: { position: 'top-left' },\n  label: {\n    style: {\n      textAlign: 'center',\n      fill: '#fff',\n    },\n  },\n  //  \n  interactions: [{ type: 'legend-filter', enable: false }],\n  state: {\n    active: {\n      style: {\n        stroke: '#000',\n      },\n    },\n    selected: {\n      style: {\n        stroke: '#000',\n        lineWidth: 2,\n      },\n    },\n    inactive: {\n      style: {\n        fillOpacity: 0.3,\n        strokeOpacity: 0.3,\n      },\n    },\n  },\n  // \n  defaultInteractions: ['tooltip', 'venn-legend-active'],\n};\n","import { assign, memoize } from '@antv/util';\nimport { blend } from '../../utils/color/blend';\nimport { log, LEVEL } from '../../utils';\nimport { venn, scaleSolution } from './layout/layout';\nimport { intersectionAreaPath, computeTextCentres } from './layout/diagram';\nimport { ID_FIELD, PATH_FIELD } from './constant';\nimport { VennData, VennOptions } from './types';\n\ntype ColorMapFunction = (\n  colorPalette: string[],\n  data: VennData,\n  blendMode: VennOptions['blendMode'],\n  setsField: VennOptions['setsField']\n) => Map<string, string>;\n\n/**\n *  \n * @usage colorMap.get(id) => color\n *\n * @returns Map<string, string>\n */\nexport const getColorMap = memoize(\n  ((colorPalette, data, blendMode, setsField) => {\n    const colorMap = new Map<string /** id */, string /** color */>();\n    const colorPaletteLen = colorPalette.length;\n    data.forEach((d, idx) => {\n      if (d[setsField].length === 1) {\n        colorMap.set(d[ID_FIELD], colorPalette[(idx + colorPaletteLen) % colorPaletteLen]);\n      } else {\n        /**   */\n        const colorArr = d[setsField].map((id) => colorMap.get(id));\n        colorMap.set(\n          d[ID_FIELD],\n          colorArr.slice(1).reduce((a, b) => blend(a, b, blendMode), colorArr[0])\n        );\n      }\n    });\n\n    return colorMap;\n  }) as ColorMapFunction,\n  (...params) => JSON.stringify(params)\n) as ColorMapFunction;\n\n/**\n * \n *\n * @param data\n * @param width\n * @param height\n * @param padding\n * @returns \n */\nexport function layoutVennData(options: VennOptions, width: number, height: number, padding: number = 0): VennData {\n  const { data, setsField, sizeField } = options;\n\n  // \n  if (data.length === 0) {\n    log(LEVEL.WARN, false, 'warn: %s', '');\n    return [];\n  }\n\n  const vennData: VennData = data.map((d) => ({\n    ...d,\n    sets: d[setsField] || [],\n    size: d[sizeField],\n    [PATH_FIELD]: '',\n    [ID_FIELD]: '',\n  }));\n  // 1. \n  vennData.sort((a, b) => a.sets.length - b.sets.length);\n  // todo 2.  crash\n\n  const solution = venn(vennData);\n  const circles = scaleSolution(solution, width, height, padding);\n  const textCenters = computeTextCentres(circles, vennData);\n  vennData.forEach((row) => {\n    const sets = row.sets;\n    const id = sets.join(',');\n    row[ID_FIELD] = id;\n    //  vennText \n    const setCircles = sets.map((set) => circles[set]);\n    let path = intersectionAreaPath(setCircles);\n    if (!/[zZ]$/.test(path)) {\n      path += ' Z';\n    }\n    row[PATH_FIELD] = path;\n    const center = textCenters[id] || { x: 0, y: 0 };\n    assign(row, center);\n  });\n  return vennData;\n}\n\n/**\n *  \n * @param legalArr ['A', 'B']\n * @param testArr ['A', 'B', 'C'] or ['A', 'C'] 'C'\n * @return boolean\n */\nexport function islegalSets(legalArr: any[], testArr: any[]): boolean {\n  for (let i = 0; i < testArr.length; i++) {\n    if (!legalArr.includes(testArr[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n","import { IGroup } from '@antv/g-base';\nimport { registerShape, Types, Util } from '@antv/g2';\nimport { parsePathString } from '@antv/path-util';\nimport { deepAssign } from '../../utils';\nimport { Datum, Point } from '../../types';\nimport { CustomInfo } from './types';\nimport { PATH_FIELD } from './constant';\n\n/**\n * \n * @param cfg \n */\nfunction getFillAttrs(cfg: Types.ShapeInfo) {\n  // style.fill \n  return deepAssign({}, cfg.defaultStyle, { fill: cfg.color }, cfg.style);\n}\n\nregisterShape('schema', 'venn', {\n  draw(cfg: Types.ShapeInfo & { points: Point[]; nextPoints: Point[] }, container: IGroup) {\n    const data = cfg.data as Datum;\n    const segments = parsePathString(data[PATH_FIELD]);\n    const fillAttrs = getFillAttrs(cfg);\n\n    const group = container.addGroup({ name: 'venn-shape' });\n\n    group.addShape('path', {\n      attrs: {\n        ...fillAttrs,\n        path: segments,\n      },\n      name: 'venn-path',\n    });\n\n    const { offsetX, offsetY } = cfg.customInfo as CustomInfo;\n\n    const matrix = Util.transform(null, [['t', offsetX, offsetY]]);\n    group.setMatrix(matrix);\n\n    return group;\n  },\n  getMarker(markerCfg: Types.ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        lineWidth: 0,\n        stroke: color,\n        fill: color,\n        r: 4,\n      },\n    };\n  },\n});\n","import { registerGeometryLabel, GeometryLabel } from '@antv/g2';\n\n// Step 1\n//  Label \n//  GeometryLabel \nclass VennLabel extends GeometryLabel {\n  /**\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   * @returns label point\n   */\n  protected getLabelPoint(labelCfg, mappingData, index: number) {\n    const { x, y } = labelCfg.data;\n    const { offsetX, offsetY } = labelCfg.customLabelInfo;\n    return {\n      content: labelCfg.content[index],\n      x: x + offsetX,\n      y: y + offsetY,\n    };\n  }\n}\n\n// Step 2:  CustomLabel\nregisterGeometryLabel('venn', VennLabel);\n","import { View } from '@antv/g2';\n\n/** tofront:   */\nexport function placeElementsOrdered(view: View) {\n  if (!view) {\n    return;\n  }\n  const elements = view.geometries[0].elements;\n  elements.forEach((elem) => {\n    elem.shape.toFront();\n  });\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementActiveAction: any = getActionClass('element-active');\n\nexport class VennElementActive extends ElementActiveAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public active() {\n    super.active();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementHighlightAction: any = getActionClass('element-highlight');\n\nexport class VennElementHighlight extends ElementHighlightAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public highlight() {\n    super.highlight();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public clear() {\n    super.clear();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementSelectedAction: any = getActionClass('element-selected');\nconst ElementSingleSelectedAction: any = getActionClass('element-single-selected');\n\n/**\n *  \n */\nexport class VennElementSelected extends ElementSelectedAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public selected() {\n    super.selected();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n\n/**\n *  \n */\nexport class VennElementSingleSelected extends ElementSingleSelectedAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public selected() {\n    super.selected();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { registerInteraction, registerAction } from '@antv/g2';\nimport { VennElementActive } from './actions/active';\nimport { VennElementHighlight } from './actions/highlight';\nimport { VennElementSelected, VennElementSingleSelected } from './actions/selected';\n\n/** ==================  aciton ================== */\n\nregisterAction('venn-element-active', VennElementActive as any);\nregisterAction('venn-element-highlight', VennElementHighlight as any);\nregisterAction('venn-element-selected', VennElementSelected as any);\nregisterAction('venn-element-single-selected', VennElementSingleSelected as any);\n\n/** ==================  ================== */\n\n// ========= Active  =========\nregisterInteraction('venn-element-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'venn-element-active:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'venn-element-active:reset' }],\n});\n\n// =========   =========\nregisterInteraction('venn-element-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'venn-element-highlight:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'venn-element-highlight:reset' }],\n});\n\n// ========= Selected  =========\n//  venn element \nregisterInteraction('venn-element-selected', {\n  start: [{ trigger: 'element:click', action: 'venn-element-selected:toggle' }],\n  rollback: [{ trigger: 'dblclick', action: ['venn-element-selected:reset'] }],\n});\n//  venn element \nregisterInteraction('venn-element-single-selected', {\n  start: [{ trigger: 'element:click', action: 'venn-element-single-selected:toggle' }],\n  rollback: [{ trigger: 'dblclick', action: ['venn-element-single-selected:reset'] }],\n});\n\n// =========  =========\n// legend hoverelement active\nregisterInteraction('venn-legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: ['list-active:active', 'venn-element-active:active'] }],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['list-active:reset', 'venn-element-active:reset'] }],\n});\n\n// legend hoverelement active\nregisterInteraction('venn-legend-highlight', {\n  start: [\n    {\n      trigger: 'legend-item:mouseenter',\n      action: ['legend-item-highlight:highlight', 'venn-element-highlight:highlight'],\n    },\n  ],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['legend-item-highlight:reset', 'venn-element-highlight:reset'] }],\n});\n","import { Geometry } from '@antv/g2';\nimport { isArray, get, deepMix, isEqual } from '@antv/util';\nimport { interaction, animation, theme, tooltip, scale } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { schema as schemaGeometry } from '../../adaptor/geometries';\nimport {\n  deepAssign,\n  flow,\n  findGeometry,\n  transformLabel,\n  getAdjustAppendPadding,\n  normalPadding,\n  resolveAllPadding,\n} from '../../utils';\nimport { Datum } from '../../types';\nimport { log, LEVEL } from '../../utils';\nimport { getColorMap, layoutVennData, islegalSets } from './utils';\nimport { CustomInfo, VennData, VennOptions } from './types';\nimport { ID_FIELD } from './constant';\nimport './shape';\nimport './label';\nimport './interactions';\n\n/**  */\nexport const LEGEND_SPACE = 40;\n\n/**\n *  color \n */\nfunction colorMap(params: Params<VennOptions>, data: VennData, colorPalette?: string[]) {\n  const { chart, options } = params;\n  const { blendMode, setsField } = options;\n  const { colors10, colors20 } = chart.getTheme();\n  let palette = colorPalette;\n  if (!isArray(palette)) {\n    palette = data.filter((d) => d[setsField].length === 1).length <= 10 ? colors10 : colors20;\n  }\n  const map = getColorMap(palette, data, blendMode, setsField);\n\n  return (id: string) => map.get(id) || palette[0];\n}\n\n/**\n * color options \n */\nfunction transformColor(params: Params<VennOptions>, data: VennData): VennOptions['color'] {\n  const { options } = params;\n  const { color } = options;\n\n  if (typeof color !== 'function') {\n    const colorPalette = typeof color === 'string' ? [color] : color;\n    const map = colorMap(params, data, colorPalette);\n    return (datum: Datum) => map(datum[ID_FIELD]);\n  }\n  return color;\n}\n\n/**\n *  padding\n */\nfunction padding(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { legend, appendPadding, padding } = options;\n\n  //  legend .  40px,  appendPadding \n  let tempPadding: number[] = normalPadding(appendPadding);\n  if (legend !== false) {\n    tempPadding = getAdjustAppendPadding(appendPadding, get(legend, 'position'), LEGEND_SPACE);\n  }\n\n  chart.appendPadding = resolveAllPadding([tempPadding, padding]);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction data(params: Params<VennOptions>): Params<VennOptions> {\n  const { options } = params;\n\n  /*     \n   * \n   * data = [\n   *   { sets: ['A'], size: 3 }, // \n   *   { sets: ['B'], size: 4 }, // \n   *   { sets: ['A', 'B'], size: 2 }, // \n   *   { sets: ['A', 'B', 'C'], size: 2 }, //  ( C)\n   *   ...\n   * ]\n   */\n\n  let data = options['data'];\n  if (!data) {\n    log(LEVEL.WARN, false, 'warn: %s', '');\n    data = [];\n  }\n\n  // ['A', 'B']\n  const currSets = data.filter((datum) => datum.sets.length === 1).map((datum) => datum.sets[0]);\n  //  data\n  const filterSets = data.filter((datum) => {\n    const sets = datum.sets;\n    // \n    return islegalSets(currSets, sets);\n  });\n\n  if (!isEqual(filterSets, data)) log(LEVEL.WARN, false, 'warn: %s', ', ');\n\n  return deepMix({}, params, {\n    options: {\n      data: filterSets,\n    },\n  });\n}\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { pointStyle, setsField, sizeField } = options;\n\n  // \n  const [t, r, b, l] = normalPadding(chart.appendPadding);\n  //  legend .  40px,  appendPadding \n  const customInfo: CustomInfo = { offsetX: l, offsetY: t };\n  // coordinateBBox + appendPadding = viewBBox,  appendPadding  viewBBox\n  const { width, height } = chart.viewBBox;\n  // padding w  h \n  const vennData: VennData = layoutVennData(options, Math.max(width - (r + l), 0), Math.max(height - (t + b), 0), 0);\n  chart.data(vennData);\n\n  const { ext } = schemaGeometry(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        sizeField: sizeField,\n        seriesField: ID_FIELD,\n        rawFields: [setsField, sizeField],\n        schema: {\n          shape: 'venn',\n          style: pointStyle,\n        },\n      },\n    })\n  );\n\n  const geometry = ext.geometry as Geometry;\n  geometry.customInfo(customInfo);\n\n  const colorOptions = transformColor(params, vennData);\n  // , color .  datum\n  if (typeof colorOptions === 'function') {\n    geometry.color(ID_FIELD, (id) => {\n      const datum = vennData.find((d) => d[ID_FIELD] === id);\n      const defaultColor = colorMap(params, vennData)(id);\n      return colorOptions(datum, defaultColor);\n    });\n  }\n\n  return params;\n}\n\n/**\n *  label\n * @param params\n */\nfunction label(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  // \n  const [t, , , l] = normalPadding(chart.appendPadding);\n  //  label  \n  const customLabelInfo = { offsetX: l, offsetY: t };\n\n  const geometry = findGeometry(chart, 'schema');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: ['id'],\n      callback,\n      cfg: deepMix({}, transformLabel(cfg), {\n        //  G2  label \n        type: 'venn',\n        customLabelInfo,\n      }),\n    });\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { legend, sizeField } = options;\n\n  chart.legend(ID_FIELD, legend);\n  //  \n  chart.legend(sizeField, false);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function axis(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart } = params;\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n *  interaction \n */\nfunction vennInteraction(params: Params<VennOptions>): Params<VennOptions> {\n  const { options, chart } = params;\n  const { interactions } = options;\n\n  if (interactions) {\n    const MAP = {\n      'legend-active': 'venn-legend-active',\n      'legend-highlight': 'venn-legend-highlight',\n    };\n    interaction(\n      deepAssign({}, params, {\n        options: {\n          interactions: interactions.map((i) => ({\n            ...i,\n            type: MAP[i.type] || i.type,\n          })),\n        },\n      })\n    );\n  }\n\n  chart.removeInteraction('legend-active');\n  chart.removeInteraction('legend-highlight');\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<VennOptions>) {\n  // flow  G2 API\n  return flow(\n    padding,\n    theme,\n    data,\n    geometry,\n    label,\n    scale({}),\n    legend,\n    axis,\n    tooltip,\n    vennInteraction,\n    animation\n    // ...  adaptor flow\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { VennOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { VennOptions };\n\n/**\n *  \n */\nexport class Venn extends Plot<VennOptions> {\n  /**  */\n  public type: string = 'venn';\n\n  static getDefaultOptions() {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Venn.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<VennOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      this.chart.forceFit(); // g2  changeSizechangeSize  render(true)\n      this.chart.clear();\n      this.execAdaptor(); // \n      // \n      this.chart.render(true);\n    }\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\nexport const Y_FIELD = '$$stock-range$$';\n\nexport const TREND_FIELD = 'trend';\nexport const TREND_UP = 'up';\nexport const TREND_DOWN = 'down';\n\n/** tooltip  */\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showMarkers: false,\n  showCrosshairs: true,\n  shared: true,\n  crosshairs: {\n    type: 'xy',\n    follow: true,\n    text: (type, defaultContent, items) => {\n      let textContent;\n      if (type === 'x') {\n        const item = items[0];\n        textContent = item ? item.title : defaultContent;\n      } else {\n        textContent = defaultContent;\n      }\n      return {\n        position: type === 'y' ? 'start' : 'end',\n        content: textContent,\n        style: {\n          fill: '#dfdfdf',\n        },\n      };\n    },\n    //  crosshairs textBackground \n    textBackground: {\n      padding: [2, 4],\n      style: {\n        fill: '#666',\n      },\n    },\n  },\n};\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  //  tooltips\n  tooltip: DEFAULT_TOOLTIP_OPTIONS,\n  interactions: [{ type: 'tooltip' }],\n  legend: {\n    position: 'top-left',\n  },\n  risingFill: '#ef5350',\n  fallingFill: '#26a69a',\n});\n","import { isArray, map } from '@antv/util';\nimport { TREND_FIELD, TREND_DOWN, TREND_UP, Y_FIELD } from './constant';\n\n/**\n * @desc \n * @param data\n * @param yField\n */\nexport function getStockData(data, yField) {\n  return map(data, (obj) => {\n    if (isArray(yField)) {\n      const [open, close, high, low] = yField;\n      obj[TREND_FIELD] = obj[open] <= obj[close] ? TREND_UP : TREND_DOWN;\n      obj[Y_FIELD] = [obj[open], obj[close], obj[high], obj[low]];\n    }\n    return obj;\n  });\n}\n","import { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, annotation, slider } from '../../adaptor/common';\nimport { schema } from '../../adaptor/geometries';\nimport { flow, pick, deepAssign } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\n\nimport { Y_FIELD, TREND_FIELD, TREND_UP, TREND_DOWN } from './constant';\nimport { StockOptions } from './types';\nimport { getStockData } from './utils';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { yField } = options;\n\n  const { data, risingFill, fallingFill, tooltip, stockStyle } = options;\n\n  chart.data(getStockData(data, yField));\n\n  let tooltipOptions = tooltip;\n  if (tooltipOptions !== false) {\n    tooltipOptions = deepAssign({}, { fields: yField }, tooltipOptions);\n  }\n\n  schema(\n    deepAssign({}, params, {\n      options: {\n        schema: {\n          shape: 'candle',\n          color: [risingFill, fallingFill],\n          style: stockStyle,\n        },\n        yField: Y_FIELD,\n        seriesField: TREND_FIELD,\n        rawFields: yField,\n        tooltip: tooltipOptions,\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis, xField } = options;\n\n  const baseMeta = {\n    [xField]: {\n      type: 'timeCat',\n      tickCount: 6,\n    },\n    [TREND_FIELD]: {\n      values: [TREND_UP, TREND_DOWN],\n    },\n  };\n\n  const scales = deepAssign(baseMeta, meta, {\n    [xField]: pick(xAxis, AXIS_META_CONFIG_KEYS),\n    [Y_FIELD]: pick(yAxis, AXIS_META_CONFIG_KEYS),\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(Y_FIELD, false);\n  } else {\n    chart.axis(Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip !== false) {\n    chart.tooltip(tooltip);\n  } else {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n\n  if (legend) {\n    chart.legend(TREND_FIELD, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * K\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<StockOptions>) {\n  // flow  G2 API\n  flow(theme, geometry, meta, axis, tooltip, legend, interaction, animation, annotation(), slider)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { StockOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { getStockData } from './utils';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { StockOptions };\n\nexport class Stock extends Plot<StockOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<StockOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'stock';\n\n  /**\n   * \n   *  g2/g2plot    -->         -->          -->      \n   */\n  protected getDefaultOptions(): Partial<StockOptions> {\n    return Stock.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<StockOptions> {\n    return adaptor;\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: StockOptions['data']) {\n    this.updateOption({ data });\n    const { yField } = this.options;\n    this.chart.changeData(getStockData(data, yField));\n  }\n}\n","// : data[n][yField] / data[0][yField]\nexport const FUNNEL_PERCENT = '$$percentage$$';\n// \nexport const FUNNEL_MAPPING_VALUE = '$$mappingValue$$';\n// : data[n][yField] / data[n-1][yField];\nexport const FUNNEL_CONVERSATION = '$$conversion$$';\n// \n// data[n][yField] / sum(data[0-n][yField])\nexport const FUNNEL_TOTAL_PERCENT = '$$totalPercentage$$';\n//  x \nexport const PLOYGON_X = '$$x$$';\nexport const PLOYGON_Y = '$$y$$';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: [0, 80],\n  minSize: 0,\n  maxSize: 1,\n  meta: {\n    [FUNNEL_MAPPING_VALUE]: {\n      min: 0,\n      max: 1,\n      nice: false,\n    },\n  },\n  label: {\n    style: {\n      fill: '#fff',\n      fontSize: 12,\n    },\n  },\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    shared: false,\n  },\n  conversionTag: {\n    offsetX: 10,\n    offsetY: 0,\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.45)',\n    },\n  },\n};\n","import { Types } from '@antv/g2';\nimport { isFunction, map, isNumber, maxBy, get } from '@antv/util';\nimport { Datum, Data } from '../../../types/common';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { Params } from '../../../core/adaptor';\nimport { FunnelOptions } from '../types';\n\n/**\n *  transform\n * @param geometry\n */\nexport function transformData(\n  data: FunnelOptions['data'],\n  originData: FunnelOptions['data'],\n  options: Pick<FunnelOptions, 'yField' | 'maxSize' | 'minSize'>\n): FunnelOptions['data'] {\n  let formatData = [];\n  const { yField, maxSize, minSize } = options;\n  const maxYFieldValue = get(maxBy(originData, yField), [yField]);\n  const max = isNumber(maxSize) ? maxSize : 1;\n  const min = isNumber(minSize) ? minSize : 0;\n\n  // format \n  formatData = map(data, (row, index) => {\n    const percent = (row[yField] || 0) / maxYFieldValue;\n    row[FUNNEL_PERCENT] = percent;\n    row[FUNNEL_MAPPING_VALUE] = (max - min) * percent + min;\n    // \n    row[FUNNEL_CONVERSATION] = [get(data, [index - 1, yField]), row[yField]];\n    return row;\n  });\n\n  return formatData;\n}\n\n/**\n * \n * @param getLineCoordinate  line \n */\nexport function conversionTagComponent(\n  getLineCoordinate: (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ) => Types.LineOption\n) {\n  return function (params: Params<FunnelOptions>): Params<FunnelOptions> {\n    const { chart, options } = params;\n    const { conversionTag } = options;\n\n    const { data } = chart.getOptions();\n\n    if (conversionTag) {\n      const { formatter } = conversionTag;\n      data.forEach((obj, index) => {\n        if (index <= 0 || Number.isNaN(obj[FUNNEL_MAPPING_VALUE])) return;\n        const lineOption = getLineCoordinate(obj, index, data, {\n          top: true,\n          text: {\n            content: isFunction(formatter) ? formatter(obj, data) : formatter,\n            offsetX: conversionTag.offsetX,\n            offsetY: conversionTag.offsetY,\n            position: 'end',\n            autoRotate: false,\n            style: {\n              textAlign: 'start',\n              textBaseline: 'middle',\n              ...conversionTag.style,\n            },\n          },\n        });\n\n        chart.annotation().line(lineOption);\n      });\n    }\n    return params;\n  };\n}\n","import { Types } from '@antv/g2';\nimport { isArray } from '@antv/util';\nimport { flow, findGeometry } from '../../../utils';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { Params } from '../../../core/adaptor';\nimport { Datum, Data } from '../../../types/common';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { FunnelOptions } from '../types';\nimport { FUNNEL_CONVERSATION, FUNNEL_PERCENT, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { conversionTagComponent, transformData } from './common';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField, maxSize, minSize } = options;\n  const formatData = transformData(data, data, {\n    yField,\n    maxSize,\n    minSize,\n  });\n\n  // \n  chart.data(formatData);\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { xField, yField, color, tooltip, label, shape = 'funnel', funnelStyle, state } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField]);\n\n  baseGeometry({\n    chart,\n    options: {\n      type: 'interval',\n      xField: xField,\n      yField: FUNNEL_MAPPING_VALUE,\n      colorField: xField,\n      tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n      mapping: {\n        shape,\n        tooltip: formatter,\n        color,\n        style: funnelStyle,\n      },\n      label,\n      state,\n    },\n  });\n\n  const geo = findGeometry(params.chart, 'interval');\n  geo.adjust('symmetric');\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction transpose(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { isTransposed } = options;\n  chart.coordinate({\n    type: 'rect',\n    actions: !isTransposed ? [['transpose'], ['scale', 1, -1]] : [],\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { maxSize } = options;\n\n  const getLineCoordinate = (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ): Types.LineOption => {\n    const percent = maxSize - (maxSize - datum[FUNNEL_MAPPING_VALUE]) / 2;\n    return {\n      ...initLineOption,\n      start: [datumIndex - 0.5, percent],\n      end: [datumIndex - 0.5, percent + 0.05],\n    };\n  };\n\n  conversionTagComponent(getLineCoordinate)(params);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function basicFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, transpose, conversionTag)(params);\n}\n","import { Types } from '@antv/g2';\nimport { isArray } from '@antv/util';\nimport { flow, deepAssign } from '../../../utils';\nimport { Params } from '../../../core/adaptor';\nimport { Datum, Data } from '../../../types/common';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { FunnelOptions } from '../types';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { conversionTagComponent, transformData } from './common';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n\n  // \n  chart.data(data);\n  chart.scale({\n    [yField]: {\n      sync: true,\n    },\n  });\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    xField,\n    yField,\n    color,\n    compareField,\n    isTransposed,\n    tooltip,\n    maxSize,\n    minSize,\n    label,\n    funnelStyle,\n    state,\n    showFacetTitle,\n  } = options;\n\n  chart.facet('mirror', {\n    fields: [compareField],\n    // \n    transpose: !isTransposed,\n    padding: isTransposed ? 0 : [32, 0, 0, 0],\n    showTitle: showFacetTitle,\n    eachView(view, facet) {\n      const index = isTransposed ? facet.rowIndex : facet.columnIndex;\n\n      if (!isTransposed) {\n        view.coordinate({\n          type: 'rect',\n          actions: [['transpose'], ['scale', index === 0 ? -1 : 1, -1]],\n        });\n      }\n\n      const formatterData = transformData(facet.data, data, {\n        yField,\n        maxSize,\n        minSize,\n      });\n\n      view.data(formatterData);\n\n      // \n      const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, compareField]);\n\n      const defaultFacetLabel = isTransposed\n        ? {\n            offset: index === 0 ? 10 : -23,\n            position: (index === 0 ? 'bottom' : 'top') as Types.IntervalGeometryLabelPosition,\n          }\n        : {\n            offset: 10,\n            position: 'left' as Types.IntervalGeometryLabelPosition,\n            style: {\n              textAlign: index === 0 ? 'end' : 'start',\n            },\n          };\n\n      baseGeometry({\n        chart: view,\n        options: {\n          type: 'interval',\n          xField: xField,\n          yField: FUNNEL_MAPPING_VALUE,\n          colorField: xField,\n          tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n          mapping: {\n            // todo   shape\n            shape: 'funnel',\n            tooltip: formatter,\n            color,\n            style: funnelStyle,\n          },\n          label: label === false ? false : deepAssign({}, defaultFacetLabel, label),\n          state,\n        },\n      });\n    },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { conversionTag, isTransposed } = options;\n  // @ts-ignore\n  chart.once('beforepaint', () => {\n    chart.views.forEach((view, viewIndex) => {\n      const getLineCoordinate = (\n        datum: Datum,\n        datumIndex: number,\n        data: Data,\n        initLineOption: Record<string, any>\n      ): Types.LineOption => {\n        const ratio = viewIndex === 0 ? -1 : 1;\n        return deepAssign({}, initLineOption, {\n          start: [datumIndex - 0.5, datum[FUNNEL_MAPPING_VALUE]],\n          end: [datumIndex - 0.5, datum[FUNNEL_MAPPING_VALUE] + 0.05],\n          text: isTransposed\n            ? {\n                style: {\n                  textAlign: 'start',\n                },\n              }\n            : {\n                offsetX: conversionTag !== false ? ratio * conversionTag.offsetX : 0,\n                style: {\n                  textAlign: viewIndex === 0 ? 'end' : 'start',\n                },\n              },\n        });\n      };\n\n      conversionTagComponent(getLineCoordinate)(\n        deepAssign(\n          {},\n          {\n            chart: view,\n            options,\n          }\n        )\n      );\n    });\n  });\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function compareFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, conversionTag)(params);\n}\n","import { flow, deepAssign } from '../../../utils';\nimport { Params } from '../../../core/adaptor';\nimport { FunnelOptions } from '../types';\nimport { basicFunnel } from './basic';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n  // \n  chart.data(data);\n  chart.scale({\n    [yField]: {\n      sync: true,\n    },\n  });\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { seriesField, isTransposed, showFacetTitle } = options;\n\n  chart.facet('rect', {\n    fields: [seriesField],\n    padding: [isTransposed ? 0 : 32, 10, 0, 10],\n    showTitle: showFacetTitle,\n    eachView(view, facet) {\n      basicFunnel(\n        deepAssign({}, params, {\n          chart: view,\n          options: {\n            data: facet.data,\n          },\n        })\n      );\n    },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function facetFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry)(params);\n}\n","import { map, reduce, maxBy, isArray, get } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { flow } from '../../../utils';\nimport { Params } from '../../../core/adaptor';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_TOTAL_PERCENT, PLOYGON_X, PLOYGON_Y } from '../constant';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { Datum, Data } from '../../../types/common';\nimport { FunnelOptions } from '../types';\nimport { conversionTagComponent } from './common';\n\n/**\n * \n * @param params\n * :  yfield 2 2\n * :  g2 data ->  -> \n *  -0.5 <= x <= 0.5, 0 <= y <= 1 \n * ,  x \n *  data.length + 1  y = 4x - 1 [0.5, 1], [0.25, 0] data  y  y \n */\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n\n  // \n  const sum = reduce(\n    data,\n    (total, item) => {\n      return total + (item[yField] || 0);\n    },\n    0\n  );\n\n  const max = maxBy(data, yField)[yField];\n\n  const formatData = map(data, (row, index) => {\n    //  xy  [, ]\n    const x = [];\n    const y = [];\n\n    row[FUNNEL_TOTAL_PERCENT] = (row[yField] || 0) / sum;\n\n    // \n    if (index) {\n      const preItemX = data[index - 1][PLOYGON_X];\n      const preItemY = data[index - 1][PLOYGON_Y];\n      x[0] = preItemX[3];\n      y[0] = preItemY[3];\n      x[1] = preItemX[2];\n      y[1] = preItemY[2];\n    } else {\n      x[0] = -0.5;\n      y[0] = 1;\n      x[1] = 0.5;\n      y[1] = 1;\n    }\n\n    // \n    y[2] = y[1] - row[FUNNEL_TOTAL_PERCENT];\n    x[2] = (y[2] + 1) / 4;\n    y[3] = y[2];\n    x[3] = -x[2];\n\n    // \n    row[PLOYGON_X] = x;\n    row[PLOYGON_Y] = y;\n    row[FUNNEL_PERCENT] = (row[yField] || 0) / max;\n    row[FUNNEL_CONVERSATION] = [get(data, [index - 1, yField]), row[yField]];\n    return row;\n  });\n\n  chart.data(formatData);\n\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { xField, yField, color, tooltip, label, funnelStyle, state } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField]);\n  // \n  baseGeometry({\n    chart,\n    options: {\n      type: 'polygon',\n      xField: PLOYGON_X,\n      yField: PLOYGON_Y,\n      colorField: xField,\n      tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n      label,\n      state,\n      mapping: {\n        tooltip: formatter,\n        color,\n        style: funnelStyle,\n      },\n    },\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction transpose(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { isTransposed } = options;\n  chart.coordinate({\n    type: 'rect',\n    actions: isTransposed ? [['transpose'], ['reflect', 'x']] : [],\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const getLineCoordinate = (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ): Types.LineOption => {\n    return {\n      ...initLineOption,\n      start: [datum[PLOYGON_X][1], datum[PLOYGON_Y][1]],\n      end: [datum[PLOYGON_X][1] + 0.05, datum[PLOYGON_Y][1]],\n    };\n  };\n\n  conversionTagComponent(getLineCoordinate)(params);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function dynamicHeightFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, transpose, conversionTag)(params);\n}\n","import { isFunction, clone } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, scale, annotation, tooltip } from '../../adaptor/common';\nimport { getLocale } from '../../core/locale';\nimport { Datum } from '../../types';\nimport { flow, deepAssign } from '../../utils';\nimport { conversionTagFormatter } from '../../utils/conversion';\nimport { FunnelOptions } from './types';\nimport { basicFunnel } from './geometries/basic';\nimport { compareFunnel } from './geometries/compare';\nimport { facetFunnel } from './geometries/facet';\nimport { dynamicHeightFunnel } from './geometries/dynamic-height';\nimport { FUNNEL_CONVERSATION, FUNNEL_PERCENT } from './constant';\n\n/**\n *\n * geometry,\n * 1. interval.shape('funnel')\n * 2. \n * 3. polypon\n * 4.  + list \n* /\n\n/**\n * options \n * @param params\n */\nfunction defaultOptions(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { compareField, xField, yField, locale, funnelStyle, data } = options;\n  const i18n = getLocale(locale);\n\n  const defaultOption = {\n    label: compareField\n      ? {\n          fields: [xField, yField, compareField, FUNNEL_PERCENT, FUNNEL_CONVERSATION],\n          formatter: (datum) => `${datum[yField]}`,\n        }\n      : {\n          fields: [xField, yField, FUNNEL_PERCENT, FUNNEL_CONVERSATION],\n          offset: 0,\n          position: 'middle',\n          formatter: (datum) => `${datum[xField]} ${datum[yField]}`,\n        },\n    tooltip: {\n      title: xField,\n      formatter: (datum) => {\n        return { name: datum[xField], value: datum[yField] };\n      },\n    },\n    conversionTag: {\n      // conversionTag \n      formatter: (datum) =>\n        `${i18n.get(['conversionTag', 'label'])}: ${conversionTagFormatter(\n          ...(datum[FUNNEL_CONVERSATION] as [number, number])\n        )}`,\n    },\n  };\n\n  // \n  let style;\n  if (compareField || funnelStyle) {\n    style = (datum: Datum) => {\n      return deepAssign(\n        {},\n        // \n        compareField && { lineWidth: 1, stroke: '#fff' },\n        isFunction(funnelStyle) ? funnelStyle(datum) : funnelStyle\n      );\n    };\n  }\n\n  return deepAssign({ options: defaultOption }, params, { options: { funnelStyle: style, data: clone(data) } });\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { compareField, dynamicHeight, seriesField } = options;\n  if (seriesField) {\n    return facetFunnel(params);\n  }\n  if (compareField) {\n    return compareFunnel(params);\n  }\n  if (dynamicHeight) {\n    return dynamicHeightFunnel(params);\n  }\n\n  return basicFunnel(params);\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * \n * @param params\n */\nfunction axis(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    chart.legend(legend);\n    // TODO FIX: legend-click \n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<FunnelOptions>) {\n  return flow(\n    defaultOptions,\n    geometry,\n    meta,\n    axis,\n    tooltip,\n    interaction,\n    legend,\n    animation,\n    theme,\n    annotation()\n  )(params);\n}\n","import { each } from '@antv/util';\nimport { Element } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { StateName, StateCondition, StateObject } from '../..';\nimport { getAllElementsRecursively } from '../../utils';\nimport { FunnelOptions } from './types';\nimport { adaptor } from './adaptor';\nimport {\n  DEFAULT_OPTIONS,\n  FUNNEL_CONVERSATION as FUNNEL_CONVERSATION_FIELD,\n  FUNNEL_PERCENT,\n  FUNNEL_TOTAL_PERCENT,\n} from './constant';\n\nexport type { FunnelOptions };\n\nexport { FUNNEL_CONVERSATION_FIELD };\n\nexport class Funnel extends Plot<FunnelOptions> {\n  /**  */\n  public type: string = 'funnel';\n\n  static getDefaultOptions(): Partial<FunnelOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  // \n  /**    */\n  static CONVERSATION_FIELD = FUNNEL_CONVERSATION_FIELD;\n  /**    */\n  static PERCENT_FIELD = FUNNEL_PERCENT;\n  /**    */\n  static TOTAL_PERCENT_FIELD = FUNNEL_TOTAL_PERCENT;\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<FunnelOptions> {\n    //  defaultOption  core.getDefaultOptions funnel  defaulOption  adaptor  defaultOption \n    return Funnel.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<FunnelOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   * @param type  'active' | 'inactive' | 'selected' \n   * @param conditions \n   * @param status  true\n   */\n  public setState(type: StateName, condition: StateCondition, status: boolean = true) {\n    const elements = getAllElementsRecursively(this.chart);\n\n    each(elements, (ele: Element) => {\n      if (condition(ele.getData())) {\n        ele.setState(type, status);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public getStates(): StateObject[] {\n    const elements = getAllElementsRecursively(this.chart);\n\n    const stateObjects: StateObject[] = [];\n    each(elements, (element: Element) => {\n      const data = element.getData();\n      const states = element.getStates();\n      each(states, (state) => {\n        stateObjects.push({ data, state, geometry: element.geometry, element });\n      });\n    });\n\n    return stateObjects;\n  }\n}\n","const CAT_VALUE = 'liquid';\n\n/**\n * \n */\nexport function getLiquidData(percent: number) {\n  return [{ percent, type: CAT_VALUE }];\n}\n","import { Geometry } from '@antv/g2';\nimport { get, isNil } from '@antv/util';\nimport { interaction, animation, theme, scale, pattern } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign, renderStatistic } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { LiquidOptions, CustomInfo } from './types';\nimport { getLiquidData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<LiquidOptions>): Params<LiquidOptions> {\n  const { chart, options } = params;\n  const { percent, liquidStyle, radius, outline, wave, shape, animation } = options;\n\n  chart.scale({\n    percent: {\n      min: 0,\n      max: 1,\n    },\n  });\n\n  chart.data(getLiquidData(percent));\n\n  const color = options.color || chart.getTheme().defaultColor;\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'type',\n      yField: 'percent',\n      // radius  columnWidthRatio \n      //   radius \n      widthRatio: radius,\n      interval: {\n        color,\n        style: liquidStyle,\n        shape: 'liquid-fill-gauge',\n      },\n    },\n  });\n  const { ext } = interval(p);\n  const geometry = ext.geometry as Geometry;\n  const { background } = chart.getTheme();\n  const customInfo: CustomInfo = {\n    radius,\n    outline,\n    wave,\n    shape,\n    background,\n    animation,\n  };\n\n  //  radius  shape \n  geometry.customInfo(customInfo);\n\n  // \n  chart.legend(false);\n  chart.axis(false);\n  chart.tooltip(false);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function statistic(params: Params<LiquidOptions>, updated?: boolean): Params<LiquidOptions> {\n  const { chart, options } = params;\n  const { statistic, percent, meta } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n\n  const metaFormatter = get(meta, ['percent', 'formatter']) || ((v) => `${(v * 100).toFixed(2)}%`);\n  let contentOpt = statistic.content;\n  if (contentOpt) {\n    contentOpt = deepAssign({}, contentOpt, {\n      content: !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(percent),\n    });\n  }\n\n  renderStatistic(chart, { statistic: { ...statistic, content: contentOpt }, plotType: 'liquid' }, { percent });\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<LiquidOptions>) {\n  // flow  G2 API ()\n  return flow(theme, pattern('liquidStyle'), geometry, statistic, scale({}), animation, interaction)(params);\n}\n","/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  radius: 0.9,\n  statistic: {\n    title: false as const,\n    content: {\n      style: {\n        opacity: 0.75,\n        fontSize: '30px',\n        lineHeight: '30px',\n        textAlign: 'center',\n      },\n    },\n  },\n  outline: {\n    border: 2,\n    distance: 0,\n  },\n  wave: {\n    count: 3,\n    length: 192,\n  },\n  shape: 'circle',\n};\n","import { registerShape } from '@antv/g2';\nimport { IGroup, IShape } from '@antv/g-base';\nimport { reduce, isNumber, mix } from '@antv/util';\nimport { transform } from '../../../utils/matrix';\nimport { Point, ShapeStyle } from '../../../types';\nimport { LiquidOptions, CustomInfo } from '../types';\n\nconst DURATION = 5000;\n\n/**\n * \n * @param min\n * @param max\n * @param factor\n */\nfunction lerp(min: number, max: number, factor: number) {\n  return min + (max - min) * factor;\n}\n\n/**\n *  attrs\n * @param cfg\n */\nfunction getFillAttrs(cfg: ShapeStyle) {\n  const attrs = { opacity: 1, ...cfg.style };\n\n  if (cfg.color && !attrs.fill) {\n    attrs.fill = cfg.color;\n  }\n\n  return attrs;\n}\n\n/**\n * shape  attrs\n * @param cfg\n */\nfunction getLineAttrs(cfg: ShapeStyle) {\n  const defaultAttrs = {\n    fill: '#fff',\n    fillOpacity: 0,\n    lineWidth: 4,\n  };\n  const attrs = mix({}, defaultAttrs, cfg.style);\n\n  if (cfg.color && !attrs.stroke) {\n    attrs.stroke = cfg.color;\n  }\n  if (isNumber(cfg.opacity)) {\n    attrs.opacity = attrs.strokeOpacity = cfg.opacity;\n  }\n\n  return attrs;\n}\n\n/**\n * \n * Using Bezier curves to fit sine wave.\n * There is 4 control points for each curve of wave,\n * which is at 1/4 wave length of the sine wave.\n *\n * The control points for a wave from (a) to (d) are a-b-c-d:\n *          c *----* d\n *     b *\n *       |\n * ... a * ..................\n *\n * whose positions are a: (0, 0), b: (0.5, 0.5), c: (1, 1), d: (PI / 2, 1)\n *\n * @param x          x position of the left-most point (a)\n * @param stage      0-3, stating which part of the wave it is\n * @param waveLength wave length of the sine wave\n * @param amplitude  wave amplitude\n * @return \n */\nfunction getWaterWavePositions(x: number, stage: number, waveLength: number, amplitude: number) {\n  if (stage === 0) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, amplitude],\n      [x + waveLength / 4, amplitude],\n    ];\n  }\n  if (stage === 1) {\n    return [\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), amplitude],\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), amplitude / 2],\n      [x + waveLength / 4, 0],\n    ];\n  }\n  if (stage === 2) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, -amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, -amplitude],\n      [x + waveLength / 4, -amplitude],\n    ];\n  }\n  return [\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), -amplitude],\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), -amplitude / 2],\n    [x + waveLength / 4, 0],\n  ];\n}\n/**\n * \n * @param radius          \n * @param waterLevel      \n * @param waveLength      \n * @param phase           \n * @param amplitude       \n * @param cx              x\n * @param cy              y\n * @return path            \n * @reference http://gitlab.alipay-inc.com/datavis/g6/blob/1.2.0/src/graph/utils/path.js#L135\n */\nfunction getWaterWavePath(\n  radius: number,\n  waterLevel: number,\n  waveLength: number,\n  phase: number,\n  amplitude: number,\n  cx: number,\n  cy: number\n) {\n  const curves = Math.ceil(((2 * radius) / waveLength) * 4) * 4;\n  const path = [];\n  let _phase = phase;\n\n  // map phase to [-Math.PI * 2, 0]\n  while (_phase < -Math.PI * 2) {\n    _phase += Math.PI * 2;\n  }\n  while (_phase > 0) {\n    _phase -= Math.PI * 2;\n  }\n  _phase = (_phase / Math.PI / 2) * waveLength;\n\n  const left = cx - radius + _phase - radius * 2;\n  /**\n   * top-left corner as start point\n   *\n   * draws this point\n   *  |\n   * \\|/\n   *  ~~~~~~~~\n   *  |      |\n   *  +------+\n   */\n  path.push(['M', left, waterLevel]);\n\n  /**\n   * top wave\n   *\n   * ~~~~~~~~ <- draws this sine wave\n   * |      |\n   * +------+\n   */\n  let waveRight = 0;\n  for (let c = 0; c < curves; ++c) {\n    const stage = c % 4;\n    const pos = getWaterWavePositions((c * waveLength) / 4, stage, waveLength, amplitude);\n    path.push([\n      'C',\n      pos[0][0] + left,\n      -pos[0][1] + waterLevel,\n      pos[1][0] + left,\n      -pos[1][1] + waterLevel,\n      pos[2][0] + left,\n      -pos[2][1] + waterLevel,\n    ]);\n\n    if (c === curves - 1) {\n      waveRight = pos[2][0];\n    }\n  }\n\n  /**\n   * top-right corner\n   *\n   *                       ~~~~~~~~\n   * 3. draws this line -> |      | <- 1. draws this line\n   *                       +------+\n   *                          ^\n   *                          |\n   *                  2. draws this line\n   */\n  path.push(['L', waveRight + left, cy + radius]);\n  path.push(['L', left, cy + radius]);\n  path.push(['Z']);\n  // path.push(['L', left, waterLevel]);\n  return path;\n}\n\n/**\n * \n * @param x           x\n * @param y           y\n * @param level        01\n * @param waveCount   \n * @param waveAttrs      \n * @param group       \n * @param clip        \n * @param radius      \n * @param waveLength  \n */\nexport function addWaterWave(\n  x: number,\n  y: number,\n  level: number,\n  waveCount: number,\n  waveAttrs: ShapeStyle,\n  group: IGroup,\n  clip: IShape,\n  radius: number,\n  waveLength: number,\n  animation: LiquidOptions['animation']\n) {\n  //   \n  const { fill, opacity } = waveAttrs;\n  const bbox = clip.getBBox();\n  const width = bbox.maxX - bbox.minX;\n  const height = bbox.maxY - bbox.minY;\n\n  //  waveCount \n  for (let idx = 0; idx < waveCount; idx++) {\n    const factor = waveCount <= 1 ? 0 : idx / (waveCount - 1);\n\n    // \n    const wave = group.addShape('path', {\n      name: `waterwave-path`,\n      attrs: {\n        // \n        path: getWaterWavePath(\n          radius,\n          bbox.minY + height * level,\n          waveLength,\n          0,\n          width / 32, // \n          x,\n          y\n        ),\n        fill,\n        opacity: lerp(0.2, 0.9, factor) * opacity,\n      },\n    });\n\n    try {\n      //  underfind \n      if (animation === false) return;\n      const matrix = transform([['t', waveLength, 0]]);\n\n      wave.stopAnimate();\n      wave.animate(\n        { matrix },\n        {\n          duration: lerp(0.5 * DURATION, DURATION, factor),\n          repeat: true,\n        }\n      );\n    } catch (e) {\n      // TODO off-screen canvas  canvas\n      console.warn('off-screen group animate error!');\n    }\n  }\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction pin(x: number, y: number, width: number, height: number) {\n  const w = (width * 2) / 3;\n  const h = Math.max(w, height);\n  const r = w / 2;\n\n  // attrs of the upper circle\n  const cx = x;\n  const cy = r + y - h / 2;\n  const theta = Math.asin(r / ((h - r) * 0.85));\n  const dy = Math.sin(theta) * r;\n  const dx = Math.cos(theta) * r;\n\n  // the start point of the path\n  const x0 = cx - dx;\n  const y0 = cy + dy;\n\n  // control point\n  const cpX = x;\n  const cpY = cy + r / Math.sin(theta);\n\n  return `\n      M ${x0} ${y0}\n      A ${r} ${r} 0 1 1 ${x0 + dx * 2} ${y0}\n      Q ${cpX} ${cpY} ${x} ${y + h / 2}\n      Q ${cpX} ${cpY} ${x0} ${y0}\n      Z \n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction circle(x: number, y: number, width: number, height: number) {\n  const rx = width / 2;\n  const ry = height / 2;\n  return `\n      M ${x} ${y - ry} \n      a ${rx} ${ry} 0 1 0 0 ${ry * 2}\n      a ${rx} ${ry} 0 1 0 0 ${-ry * 2}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction diamond(x: number, y: number, width: number, height: number) {\n  const h = height / 2;\n  const w = width / 2;\n  return `\n      M ${x} ${y - h}\n      L ${x + w} ${y}\n      L ${x} ${y + h}\n      L ${x - w} ${y}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction triangle(x: number, y: number, width: number, height: number) {\n  const h = height / 2;\n  const w = width / 2;\n  return `\n      M ${x} ${y - h}\n      L ${x + w} ${y + h}\n      L ${x - w} ${y + h}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction rect(x: number, y: number, width: number, height: number) {\n  const GOLDEN_SECTION_RATIO = 0.618;\n  const h = height / 2;\n  const w = (width / 2) * GOLDEN_SECTION_RATIO;\n  return `\n      M ${x - w} ${y - h}\n      L ${x + w} ${y - h}\n      L ${x + w} ${y + h}\n      L ${x - w} ${y + h}\n      Z\n    `;\n}\n\nconst builtInShapeByName = {\n  pin,\n  circle,\n  diamond,\n  triangle,\n  rect,\n};\n\nregisterShape('interval', 'liquid-fill-gauge', {\n  draw(cfg: any, container: IGroup) {\n    const cx = 0.5;\n    const cy = 0.5;\n\n    const { customInfo } = cfg;\n    const { radius: radio, shape, background, animation } = customInfo as CustomInfo;\n    const outline: LiquidOptions['outline'] = customInfo.outline;\n    const wave: LiquidOptions['wave'] = customInfo.wave;\n    const { border, distance } = outline;\n    const { count: waveCount, length: waveLength } = wave;\n\n    //  minX\n    const minX = reduce(\n      cfg.points as Point[],\n      (r: number, p: Point) => {\n        return Math.min(r, p.x);\n      },\n      Infinity\n    );\n\n    const center = this.parsePoint({ x: cx, y: cy });\n    const minXPoint = this.parsePoint({ x: minX, y: cy });\n    const halfWidth = center.x - minXPoint.x;\n\n    //   radius \n    const radius = Math.min(halfWidth, minXPoint.y * radio);\n    const waveAttrs = getFillAttrs(cfg);\n    const outlineAttrs = getLineAttrs(mix({}, cfg, outline));\n    const innerRadius = radius - border / 2;\n\n    const buildPath = typeof shape === 'function' ? shape : builtInShapeByName[shape] || builtInShapeByName['circle'];\n    const shapePath = buildPath(center.x, center.y, innerRadius * 2, innerRadius * 2);\n\n    // 1. \n    const waves = container.addGroup({\n      name: 'waves',\n    });\n\n    // 3.  clip \n    const clipPath = waves.setClip({\n      type: 'path',\n      attrs: {\n        path: shapePath,\n      },\n    });\n\n    // 4. \n    addWaterWave(\n      center.x,\n      center.y,\n      1 - (cfg.points[1] as Point).y,\n      waveCount,\n      waveAttrs,\n      waves,\n      clipPath,\n      radius * 2,\n      waveLength,\n      animation\n    );\n\n    // 2.  distance  border\n    container.addShape('path', {\n      name: 'distance',\n      attrs: {\n        path: shapePath,\n        fill: 'transparent',\n        lineWidth: border + distance * 2,\n        stroke: background === 'transparent' ? '#fff' : background,\n      },\n    });\n\n    // 3.  border  border\n    container.addShape('path', {\n      name: 'wrap',\n      attrs: mix(outlineAttrs, {\n        path: shapePath,\n        fill: 'transparent',\n        lineWidth: border,\n      }),\n    });\n\n    return container;\n  },\n});\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { LiquidOptions } from './types';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getLiquidData } from './utils';\n// register liquid shape\nimport './shapes/liquid';\n\nexport { addWaterWave } from './shapes/liquid';\n\nexport type { LiquidOptions };\n\n/**\n * \n */\nexport class Liquid extends Plot<LiquidOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<LiquidOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'liquid';\n\n  /**\n   *   ,  base \n   */\n  protected getDefaultOptions(): Partial<LiquidOptions> {\n    return Liquid.getDefaultOptions();\n  }\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    this.updateOption({ percent });\n\n    this.chart.data(getLiquidData(percent));\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<LiquidOptions> {\n    return adaptor;\n  }\n}\n","import { BulletOptions } from './types';\n\ntype TransformData = {\n  min: number;\n  max: number;\n  ds: any[];\n};\n\n/**\n *  key    key  tooltip \n * @param values \n * @param field \n * @param index \n * @returns string\n */\nfunction getSeriesFieldKey(values: number[], field: string, index: number): string {\n  return values.length > 1 ? `${field}_${index}` : `${field}`;\n}\n\n/**\n * bullet \n * @param options\n */\nexport function transformData(options: BulletOptions): TransformData {\n  const { data, xField, measureField, rangeField, targetField, layout } = options;\n  const ds: any[] = [];\n  const scales: number[] = [];\n  data.forEach((item: any, index: number) => {\n    //  title * range\n    const rangeValues = [item[rangeField]].flat();\n    rangeValues.sort((a: number, b: number) => a - b);\n    rangeValues.forEach((d: number, i: number) => {\n      const range = i === 0 ? d : rangeValues[i] - rangeValues[i - 1];\n      ds.push({\n        rKey: `${rangeField}_${i}`,\n        [xField]: xField ? item[xField] : String(index), // xField\n        [rangeField]: range,\n      });\n    });\n\n    //  title * measure\n    const measureValues = [item[measureField]].flat();\n    measureValues.forEach((d: number, i: number) => {\n      ds.push({\n        mKey: getSeriesFieldKey(measureValues, measureField, i),\n        [xField]: xField ? item[xField] : String(index),\n        [measureField]: d,\n      });\n    });\n\n    //  title * target\n    const targetValues = [item[targetField]].flat();\n    targetValues.forEach((d: number, i: number) => {\n      ds.push({\n        tKey: getSeriesFieldKey(targetValues, targetField, i),\n        [xField]: xField ? item[xField] : String(index),\n        [targetField]: d,\n      });\n    });\n\n    // \n    scales.push(item[rangeField], item[measureField], item[targetField]);\n  });\n  // scales \n  let min = Math.min(...scales.flat(Infinity));\n  const max = Math.max(...scales.flat(Infinity));\n  // min  0  0 \n  min = min > 0 ? 0 : min;\n\n  // \n  if (layout === 'vertical') {\n    ds.reverse();\n  }\n  return { min, max, ds };\n}\n","import { get, isFunction } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, tooltip, scale } from '../../adaptor/common';\nimport { flow, transformLabel, deepAssign } from '../../utils';\nimport { Datum } from '../../types';\nimport { interval, point } from '../../adaptor/geometries';\nimport { BulletOptions } from './types';\nimport { transformData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { bulletStyle, targetField, rangeField, measureField, xField, color, layout, size, label } = options;\n  // \n  const { min, max, ds } = transformData(options);\n  chart.data(ds);\n\n  // rangeGeometry\n  const r = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: rangeField,\n      seriesField: 'rKey',\n      isStack: true,\n      label: get(label, 'range'),\n      interval: {\n        color: get(color, 'range'),\n        style: get(bulletStyle, 'range'),\n        size: get(size, 'range'),\n      },\n    },\n  });\n  interval(r);\n  //  tooltip \n  chart.geometries[0].tooltip(false);\n\n  // measureGeometry\n  const m = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: measureField,\n      seriesField: 'mKey',\n      isStack: true,\n      label: get(label, 'measure'),\n      interval: {\n        color: get(color, 'measure'),\n        style: get(bulletStyle, 'measure'),\n        size: get(size, 'measure'),\n      },\n    },\n  });\n  interval(m);\n\n  // targetGeometry\n  const t = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: targetField,\n      seriesField: 'tKey',\n      label: get(label, 'target'),\n      point: {\n        color: get(color, 'target'),\n        style: get(bulletStyle, 'target'),\n        size: isFunction(get(size, 'target'))\n          ? (data: Datum) => get(size, 'target')(data) / 2\n          : get(size, 'target') / 2,\n        shape: layout === 'horizontal' ? 'line' : 'hyphen',\n      },\n    },\n  });\n  point(t);\n\n  // \n  if (layout === 'horizontal') {\n    chart.coordinate().transpose();\n  }\n\n  return { ...params, ext: { data: { min, max } } };\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { options, ext } = params;\n  const { xAxis, yAxis, targetField, rangeField, measureField, xField } = options;\n\n  const extData = ext.data;\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [measureField]: yAxis,\n      },\n      //  meta\n      {\n        [measureField]: { min: extData?.min, max: extData?.max, sync: true },\n        [targetField]: {\n          sync: `${measureField}`,\n        },\n        [rangeField]: {\n          sync: `${measureField}`,\n        },\n      }\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, measureField, rangeField, targetField } = options;\n\n  chart.axis(`${rangeField}`, false);\n  chart.axis(`${targetField}`, false);\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(`${xField}`, false);\n  } else {\n    chart.axis(`${xField}`, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(`${measureField}`, false);\n  } else {\n    chart.axis(`${measureField}`, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n  chart.removeInteraction('legend-filter');\n  // @TODO  legend\n  chart.legend(legend);\n\n  //  color  legend, legend\n  chart.legend('rKey', false);\n  chart.legend('mKey', false);\n  chart.legend('tKey', false);\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { label, measureField, targetField, rangeField } = options;\n  const [rangeGeometry, measureGeometry, targetGeometry] = chart.geometries;\n\n  if (get(label, 'range')) {\n    rangeGeometry.label(`${rangeField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.range),\n    });\n  } else {\n    rangeGeometry.label(false);\n  }\n  if (get(label, 'measure')) {\n    measureGeometry.label(`${measureField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.measure),\n    });\n  } else {\n    measureGeometry.label(false);\n  }\n  if (get(label, 'target')) {\n    targetGeometry.label(`${targetField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.target),\n    });\n  } else {\n    targetGeometry.label(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BulletOptions>) {\n  // flow  G2 API\n  flow(geometry, meta, axis, legend, theme, label, tooltip, interaction, animation)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  layout: 'horizontal',\n  size: {\n    range: 30,\n    measure: 20,\n    target: 20,\n  },\n  xAxis: {\n    tickLine: false,\n    line: null,\n  },\n  bulletStyle: {\n    range: {\n      fillOpacity: 0.5,\n    },\n  },\n  label: {\n    measure: {\n      position: 'right',\n    },\n  },\n  tooltip: {\n    // \n    showMarkers: false,\n  },\n});\n","import { isArray, isString, filter } from '@antv/util';\n\n/** export  */\n/**  */\nexport const NODE_INDEX_FIELD = 'nodeIndex';\n/** child  */\nexport const CHILD_NODE_COUNT = 'childNodeCount';\n/**  */\nexport const NODE_ANCESTORS_FIELD = 'nodeAncestor';\n\nconst INVALID_FIELD_ERR_MSG = 'Invalid field: it must be a string!';\n\ninterface Options {\n  field?: string | string[];\n  fields?: string | string[];\n}\n\nexport function getField(options: Options, defaultField?: string): string {\n  const { field, fields } = options;\n  if (isString(field)) {\n    return field;\n  }\n  if (isArray(field)) {\n    console.warn(INVALID_FIELD_ERR_MSG);\n    return field[0];\n  }\n  console.warn(`${INVALID_FIELD_ERR_MSG} will try to get fields instead.`);\n  if (isString(fields)) {\n    return fields;\n  }\n  if (isArray(fields) && fields.length) {\n    return fields[0];\n  }\n  if (defaultField) {\n    return defaultField;\n  }\n  throw new TypeError(INVALID_FIELD_ERR_MSG);\n}\n\nexport function getAllNodes(root: any) {\n  const nodes: any[] = [];\n  if (root && root.each) {\n    let parent;\n    let index;\n    // d3-hierarchy: Invokes the specified function for node and each descendant in **breadth-first order**\n    root.each((node: any) => {\n      if (node.parent !== parent) {\n        parent = node.parent;\n        index = 0;\n      } else {\n        index += 1;\n      }\n      const ancestors = filter(\n        (node.ancestors?.() || []).map((d: any) => nodes.find((n) => n.name === d.name) || d),\n        ({ depth }) => depth > 0 && depth < node.depth\n      );\n\n      node[NODE_ANCESTORS_FIELD] = ancestors;\n      node[CHILD_NODE_COUNT] = node.children?.length || 0;\n      node[NODE_INDEX_FIELD] = index;\n\n      nodes.push(node);\n    });\n  } else if (root && root.eachNode) {\n    // @antv/hierarchy\n    root.eachNode((node: any) => {\n      nodes.push(node);\n    });\n  }\n  return nodes;\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { BulletOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { transformData } from './utils';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { BulletOptions };\n\nexport class Bullet extends Plot<BulletOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<BulletOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'bullet';\n\n  public changeData(data) {\n    this.updateOption({ data });\n    const { min, max, ds } = transformData(this.options);\n    // scale\n    meta({ options: this.options, ext: { data: { min, max } }, chart: this.chart });\n    this.chart.changeData(ds);\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<BulletOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Bullet.getDefaultOptions();\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { CHILD_NODE_COUNT, NODE_ANCESTORS_FIELD, NODE_INDEX_FIELD } from '../../utils/hierarchy/util';\nimport { SunburstOptions } from './types';\n\n/**\n *  root \n */\nexport const SUNBURST_ANCESTOR_FIELD = 'ancestor-node';\nexport const SUNBURST_Y_FIELD = 'value';\nexport const SUNBURST_PATH_FIELD = 'path';\n\n/**  */\nexport const RAW_FIELDS = [\n  SUNBURST_PATH_FIELD,\n  NODE_INDEX_FIELD,\n  NODE_ANCESTORS_FIELD,\n  CHILD_NODE_COUNT,\n  'name',\n  'depth',\n  'height',\n];\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS: Partial<SunburstOptions> = deepAssign({}, Plot.getDefaultOptions(), {\n  innerRadius: 0,\n  radius: 0.85,\n\n  // \n  hierarchyConfig: {\n    //  value\n    field: 'value',\n  },\n\n  // \n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n    showTitle: false,\n  },\n  legend: false,\n\n  // \n  sunburstStyle: {\n    lineWidth: 0.5,\n    stroke: '#FFF',\n  },\n\n  // \n  drilldown: { enabled: true },\n});\n","import { Action, IGroup, Util } from '@antv/g2';\nimport { get, last, isNil, size } from '@antv/util';\nimport { Data } from '../../types';\nimport { DrillDownCfg } from '../../types/drill-down';\nimport { deepAssign } from '../../utils/deep-assign';\n\n// '/'\nconst PADDING = 4;\n// \nconst PADDING_LEFT = 0;\n// \nexport const PADDING_TOP = 5;\n\n/** Group name of breadCrumb:  */\nexport const BREAD_CRUMB_NAME = 'drilldown-bread-crumb';\n\n// \nexport const DEFAULT_BREAD_CRUMB_CONFIG: DrillDownCfg['breadCrumb'] = {\n  /**  */\n  position: 'top-left',\n  dividerText: '/',\n  textStyle: {\n    fontSize: 12,\n    fill: 'rgba(0, 0, 0, 0.65)',\n    cursor: 'pointer',\n  },\n  activeTextStyle: {\n    fill: '#87B5FF',\n  },\n};\n\n/**\n * hierarchy \n */\nexport const HIERARCHY_DATA_TRANSFORM_PARAMS = 'hierarchy-data-transform-params';\n\n/**\n * Hierarchy plot \n */\nexport type HierarchyNode<N = any /**  */> = {\n  /** todo  key  origin */\n  data: { name: string; value?: any; children: { name: string; value?: any }[] };\n  /** ,  transformData  */\n  [HIERARCHY_DATA_TRANSFORM_PARAMS]: object;\n  /** .  unique */\n  depth: number;\n  /** depth + height =  */\n  height: number;\n  parent: N;\n  children: N[];\n};\n\ntype HistoryCache = {\n  name: string;\n  id: string;\n  children: Data;\n}[];\n\n/**\n * @description  action\n * @author liuzhenying\n *\n * hierarchy plot\n */\nexport class DrillDownAction extends Action {\n  /** Action name */\n  public name = 'drill-down';\n\n  // \n  protected historyCache: HistoryCache = [];\n  //  group\n  private breadCrumbGroup: IGroup = null;\n  // \n  private breadCrumbCfg: DrillDownCfg['breadCrumb'] = DEFAULT_BREAD_CRUMB_CONFIG;\n\n  /**\n   * , \n   */\n  public click() {\n    const data = get(this.context, ['event', 'data', 'data']);\n    if (!data) return false;\n\n    this.drill(data);\n    this.drawBreadCrumb();\n  }\n\n  /**\n   *  chart  afterchangesize \n   */\n  public resetPosition() {\n    //  changedata  resetPosition  this.breadCrumbGroup \n    if (!this.breadCrumbGroup) return;\n    const coordinate = this.context.view.getCoordinate();\n    const breadCrumbGroup = this.breadCrumbGroup;\n    const bbox = breadCrumbGroup.getBBox();\n\n    const { position } = this.getButtonCfg();\n\n    // @todo  margin  padding \n    //  polar  coordinate\n    let point = { x: coordinate.start.x, y: coordinate.end.y - (bbox.height + PADDING_TOP * 2) };\n    if (coordinate.isPolar) {\n      // \n      point = { x: 0, y: 0 };\n    }\n    if (position === 'bottom-left') {\n      // \n      point = { x: coordinate.start.x, y: coordinate.start.y };\n    }\n    /** PADDING_LEFT, PADDING_TOP  */\n    const matrix = Util.transform(null, [['t', point.x + PADDING_LEFT, point.y + bbox.height + PADDING_TOP]]);\n    breadCrumbGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public back(): void {\n    if (size(this.historyCache)) {\n      this.backTo(this.historyCache.slice(0, -1));\n    }\n  }\n\n  /**\n   * \n   */\n  public reset(): void {\n    if (this.historyCache[0]) {\n      this.backTo(this.historyCache.slice(0, 1));\n    }\n    // \n    this.historyCache = [];\n    this.hideCrumbGroup();\n  }\n\n  /**\n   *  view \n   * @param nodeInfo \n   */\n  protected drill(nodeInfo: HierarchyNode) {\n    const { view } = this.context;\n    const transformData = get(view, ['interactions', 'drill-down', 'cfg', 'transformData'], (v) => v);\n\n    //  update \n    const drillData = transformData({ data: nodeInfo.data, ...nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] });\n    view.changeData(drillData);\n\n    // \n    const historyCache: HistoryCache = [];\n\n    let node = nodeInfo;\n    while (node) {\n      const nodeData = node.data;\n      historyCache.unshift({\n        id: `${nodeData.name}_${node.height}_${node.depth}`,\n        name: nodeData.name,\n        // children \n        children: transformData({ data: nodeData, ...nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] }),\n      });\n      node = node.parent;\n    }\n\n    this.historyCache = (this.historyCache || []).slice(0, -1).concat(historyCache);\n  }\n\n  /**\n   * \n   * @param historyCache \n   */\n  protected backTo(historyCache: HistoryCache) {\n    if (!historyCache || historyCache.length <= 0) {\n      return;\n    }\n\n    const { view } = this.context;\n    const data = last(historyCache).children; // \n    view.changeData(data);\n\n    if (historyCache.length > 1) {\n      this.historyCache = historyCache;\n      this.drawBreadCrumb();\n    } else {\n      // \n      this.historyCache = [];\n      this.hideCrumbGroup();\n    }\n  }\n\n  /**\n   *  mix \n   */\n  private getButtonCfg() {\n    const { view } = this.context;\n    const drillDownConfig: DrillDownCfg = get(view, ['interactions', 'drill-down', 'cfg', 'drillDownConfig']);\n\n    return deepAssign(this.breadCrumbCfg, drillDownConfig?.breadCrumb, this.cfg);\n  }\n\n  /**\n   * \n   */\n  private drawBreadCrumb() {\n    this.drawBreadCrumbGroup();\n    this.resetPosition();\n    this.breadCrumbGroup.show();\n  }\n\n  /**\n   *  Button  \n   */\n  private drawBreadCrumbGroup() {\n    const config = this.getButtonCfg();\n    const cache = this.historyCache;\n\n    //  group\n    if (!this.breadCrumbGroup) {\n      this.breadCrumbGroup = this.context.view.foregroundGroup.addGroup({\n        name: BREAD_CRUMB_NAME,\n      });\n    } else {\n      this.breadCrumbGroup.clear();\n    }\n\n    // \n    let left = 0;\n    cache.forEach((record, index) => {\n      // \n      const textShape = this.breadCrumbGroup.addShape({\n        type: 'text',\n        id: record.id,\n        name: `${BREAD_CRUMB_NAME}_${record.name}_text`,\n        attrs: {\n          text: index === 0 && !isNil(config.rootText) ? config.rootText : record.name,\n          ...config.textStyle,\n          x: left,\n          y: 0,\n        },\n      });\n\n      const textShapeBox = textShape.getBBox();\n      left += textShapeBox.width + PADDING;\n\n      // \n      textShape.on('click', (event) => {\n        const targetId = event.target.get('id');\n        if (targetId !== last(cache)?.id) {\n          const newHistoryCache = cache.slice(0, cache.findIndex((d) => d.id === targetId) + 1);\n          this.backTo(newHistoryCache);\n        }\n      });\n      // active \n      textShape.on('mouseenter', (event) => {\n        const targetId = event.target.get('id');\n        if (targetId !== last(cache)?.id) {\n          textShape.attr(config.activeTextStyle);\n        } else {\n          textShape.attr({ cursor: 'default' });\n        }\n      });\n      textShape.on('mouseleave', () => {\n        textShape.attr(config.textStyle);\n      });\n\n      if (index < cache.length - 1) {\n        // \n        const dividerShape = this.breadCrumbGroup.addShape({\n          type: 'text',\n          name: `${config.name}_${record.name}_divider`,\n          attrs: {\n            text: config.dividerText,\n            ...config.textStyle,\n            x: left,\n            y: 0,\n          },\n        });\n\n        const dividerBox = dividerShape.getBBox();\n        left += dividerBox.width + PADDING;\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  private hideCrumbGroup() {\n    if (this.breadCrumbGroup) {\n      this.breadCrumbGroup.hide();\n    }\n  }\n\n  /**\n   * @override\n   * destroy: \n   */\n  public destroy() {\n    if (this.breadCrumbGroup) {\n      this.breadCrumbGroup.remove();\n    }\n    super.destroy();\n  }\n}\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Dont include the roots parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray, reduce, size } from '@antv/util';\nimport { getField, getAllNodes } from './util';\n\nconst DEFAULT_OPTIONS: Options = {\n  field: 'value',\n  size: [1, 1], // width, height\n  round: false,\n  padding: 0,\n  // \n  sort: (a, b) => b.value - a.value,\n  as: ['x', 'y'],\n  //  parentValue,  true \n  ignoreParentValue: true,\n};\n\nexport interface Options {\n  field: string;\n  size?: [number, number];\n  round?: boolean;\n  ratio?: number;\n  padding?: number;\n  sort?: Function;\n  as?: [string, string];\n\n  ignoreParentValue?: boolean;\n}\n\nexport function partition(data: any, options: Options): any[] {\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 2) {\n    throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const partition = (data) =>\n    d3Hierarchy.partition().size(options.size).round(options.round).padding(options.padding)(\n      /**\n       * d3Hierarchy  sum  node  node  post-order traversal  value  node\n       * for example:\n       * { node: 'parent', value: 10, children: [{node: 'child1', value: 5}, {node: 'child2', value: 5}, ]}\n       * parent  sum(node(parent)) + sum(node(child1)) + sum(node(child2))\n       * sum d  data, children \n       */\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) =>\n          size(d.children)\n            ? options.ignoreParentValue\n              ? 0\n              : d[field] - reduce(d.children, (a, b) => a + b[field], 0)\n            : d[field]\n        )\n        .sort(options.sort)\n    );\n  const root = partition(data);\n\n  /*\n   * points:\n   *   3  2\n   *   0  1\n   */\n  const x = as[0];\n  const y = as[1];\n\n  root.each((node) => {\n    node[x] = [node.x0, node.x1, node.x1, node.x0];\n    node[y] = [node.y1, node.y1, node.y0, node.y0];\n    //  \n    node.name = node.name || node.data?.name || node.data?.label;\n    node.data.name = node.name;\n\n    ['x0', 'x1', 'y0', 'y1'].forEach((prop) => {\n      if (as.indexOf(prop) === -1) {\n        delete node[prop];\n      }\n    });\n  });\n\n  return getAllNodes(root);\n}\n","function defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n}\n","export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n\nexport function shuffle(array) {\n  var m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n","import {shuffle} from \"../array.js\";\n\nexport default function(circles) {\n  var i = 0, n = (circles = shuffle(Array.from(circles))).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + Math.max(a.r, b.r, 1) * 1e-9, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(A ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n","import array from \"../array.js\";\nimport enclose from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packEnclose(circles) {\n  if (!(n = (circles = array(circles)).length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // Closeness is determined by linear distance along the front-chain.\n    // Ahead or behind is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = enclose(a);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packEnclose(circles);\n  return circles;\n}\n","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {packEnclose} from \"./siblings.js\";\nimport {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildren(padding, 0.5))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildren(constantZero, 1))\n          .eachAfter(packChildren(padding, root.r / Math.min(dx, dy)))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildren(padding, k) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packEnclose(children);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","import {required} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar preroot = {depth: -1},\n    ambiguous = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId;\n\n  function stratify(data) {\n    var nodes = Array.from(data),\n        n = nodes.length,\n        d,\n        i,\n        root,\n        parent,\n        node,\n        nodeId,\n        nodeKey,\n        nodeByKey = new Map;\n\n    for (i = 0; i < n; ++i) {\n      d = nodes[i], node = nodes[i] = new Node(d);\n      if ((nodeId = id(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = node.id = nodeId;\n        nodeByKey.set(nodeKey, nodeByKey.has(nodeKey) ? ambiguous : node);\n      }\n      if ((nodeId = parentId(d, i, data)) != null && (nodeId += \"\")) {\n        node.parent = nodeId;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (nodeId = node.parent) {\n        parent = nodeByKey.get(nodeId);\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      } else {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = required(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = required(x), stratify) : parentId;\n  };\n\n  return stratify;\n}\n","import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-s ancestor is a sibling of v, returns vi-s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = value ? (x0 * valueRight + x1 * valueLeft) / value : x1;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = value ? (y0 * valueRight + y1 * valueLeft) / value : y1;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n","import dice from \"./dice.js\";\nimport slice from \"./slice.js\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += (y1 - y0) * row.value / value : y1);\n        else treemapSlice(row, x0, y0, value ? x0 += (x1 - x0) * row.value / value : x1, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n","import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray } from '@antv/util';\nimport { HierarchyOption } from './types';\nimport { getField, getAllNodes } from './util';\n\nconst DEFAULT_OPTIONS: HierarchyOption = {\n  field: 'value',\n  tile: 'treemapSquarify', // treemapBinary, treemapDice, treemapSlice, treemapSliceDice, treemapSquarify, treemapResquarify\n  size: [1, 1], // width, height\n  round: false,\n  ignoreParentValue: true,\n  padding: 0,\n  paddingInner: 0,\n  paddingOuter: 0,\n  paddingTop: 0,\n  paddingRight: 0,\n  paddingBottom: 0,\n  paddingLeft: 0,\n  as: ['x', 'y'],\n  // \n  sort: (a, b) => b.value - a.value,\n  // , treemapSquarify \n  ratio: 0.5 * (1 + Math.sqrt(5)),\n};\n\nexport function getTileMethod(tile: string, ratio: number) {\n  return tile === 'treemapSquarify' ? d3Hierarchy[tile].ratio(ratio) : d3Hierarchy[tile];\n}\n\nexport function treemap(data: any, options: HierarchyOption): any[] {\n  options = assign({} as HierarchyOption, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 2) {\n    throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const tileMethod = getTileMethod(options.tile, options.ratio);\n\n  const partition = (data) =>\n    d3Hierarchy\n      .treemap()\n      .tile(tileMethod)\n      .size(options.size)\n      .round(options.round)\n      .padding(options.padding)\n      .paddingInner(options.paddingInner)\n      .paddingOuter(options.paddingOuter)\n      .paddingTop(options.paddingTop)\n      .paddingRight(options.paddingRight)\n      .paddingBottom(options.paddingBottom)\n      .paddingLeft(options.paddingLeft)(\n      /**\n       * d3Hierarchy  sum  node  node  post-order traversal  value  node\n       * for example:\n       * { node: 'parent', value: 10, children: [{node: 'child1', value: 5}, {node: 'child2', value: 5}, ]}\n       * parent  sum(node(parent)) + sum(node(child1)) + sum(node(child2))\n       * ignoreParentValue  true()  0 + 5 + 5 = 10\n       * ignoreParentValue  false   10 + 5 + 5 = 20\n       * sum d  data, children \n       */\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) => (options.ignoreParentValue && d.children ? 0 : d[field]))\n        .sort(options.sort)\n    );\n  const root = partition(data);\n\n  /*\n   * points:\n   *   3  2\n   *   0  1\n   */\n  const x = as[0];\n  const y = as[1];\n  root.each((node) => {\n    node[x] = [node.x0, node.x1, node.x1, node.x0];\n    node[y] = [node.y1, node.y1, node.y0, node.y0];\n    ['x0', 'x1', 'y0', 'y1'].forEach((prop) => {\n      if (as.indexOf(prop) === -1) {\n        delete node[prop];\n      }\n    });\n  });\n\n  return getAllNodes(root);\n}\n","import { omit } from '@antv/util';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { pick } from '../../utils';\nimport { partition } from '../../utils/hierarchy/partition';\nimport { treemap } from '../../utils/hierarchy/treemap';\nimport { SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD } from './constant';\nimport { SunburstOptions } from './types';\n\n/**\n * sunburst \n * @param options\n */\nexport function transformData(options: Pick<SunburstOptions, 'data' | 'colorField' | 'rawFields' | 'hierarchyConfig'>) {\n  const { data, colorField, rawFields, hierarchyConfig = {} } = options;\n  const { activeDepth } = hierarchyConfig;\n  const transform = {\n    partition: partition,\n    treemap: treemap,\n  };\n  // @ts-ignore  seriesField  hierarchyConfig.field\n  const seriesField = options.seriesField;\n  // @ts-ignore \n  const type = options.type || 'partition';\n\n  const nodes = transform[type](data, {\n    field: seriesField || 'value',\n    ...omit(hierarchyConfig, ['activeDepth']),\n    // @ts-ignore\n    type: `hierarchy.${type}`,\n    as: ['x', 'y'],\n  });\n\n  const result = [];\n\n  nodes.forEach((node) => {\n    if (node.depth === 0) {\n      return null;\n    }\n    if (activeDepth > 0 && node.depth > activeDepth) {\n      return null;\n    }\n\n    let path = node.data.name;\n    let ancestorNode = { ...node };\n    while (ancestorNode.depth > 1) {\n      path = `${ancestorNode.parent.data?.name} / ${path}`;\n      ancestorNode = ancestorNode.parent;\n    }\n\n    const nodeInfo = {\n      ...pick(node.data, [...(rawFields || []), hierarchyConfig.field]),\n      [SUNBURST_PATH_FIELD]: path,\n      [SUNBURST_ANCESTOR_FIELD]: ancestorNode.data.name,\n      ...node,\n    };\n    // note: \n    if (seriesField) {\n      nodeInfo[seriesField] = node.data[seriesField] || node.parent?.data?.[seriesField];\n    }\n    if (colorField) {\n      nodeInfo[colorField] = node.data[colorField] || node.parent?.data?.[colorField];\n    }\n    nodeInfo.ext = hierarchyConfig;\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, colorField, rawFields };\n    result.push(nodeInfo);\n  });\n\n  return result;\n}\n","import { isFunction, get, uniq } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { Params } from '../../core/adaptor';\nimport { polygon as polygonAdaptor } from '../../adaptor/geometries';\nimport {\n  interaction as baseInteraction,\n  animation,\n  theme,\n  annotation,\n  scale,\n  pattern,\n  legend,\n} from '../../adaptor/common';\nimport { flow, findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { getAdjustAppendPadding } from '../../utils/padding';\nimport { Datum } from '../../types';\nimport { RAW_FIELDS, SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD, SUNBURST_Y_FIELD } from './constant';\nimport { transformData } from './utils';\nimport { SunburstOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { color, colorField = SUNBURST_ANCESTOR_FIELD, sunburstStyle, rawFields = [] } = options;\n  const data = transformData(options);\n  chart.data(data);\n\n  //  fillOpacity \n  let style;\n  if (sunburstStyle) {\n    style = (datum: Datum) => {\n      return deepAssign(\n        {},\n        {\n          fillOpacity: 0.85 ** datum.depth,\n        },\n        isFunction(sunburstStyle) ? sunburstStyle(datum) : sunburstStyle\n      );\n    };\n  }\n\n  // geometry\n  polygonAdaptor(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        rawFields: uniq([...RAW_FIELDS, ...rawFields]),\n        polygon: {\n          color,\n          style,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  const geometry = findGeometry(chart, 'polygon');\n\n  // undefined \n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { fields = ['name'], callback, ...cfg } = label;\n    geometry.label({\n      fields,\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { innerRadius, radius, reflect } = options;\n\n  const coord = chart.coordinate({\n    type: 'polar',\n    cfg: {\n      innerRadius,\n      radius,\n    },\n  });\n  if (reflect) {\n    coord.reflect(reflect);\n  }\n\n  return params;\n}\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { options } = params;\n  const { hierarchyConfig, meta } = options;\n\n  return flow(\n    scale(\n      {},\n      {\n        [SUNBURST_Y_FIELD]: get(meta, get(hierarchyConfig, ['field'], 'value')),\n      }\n    )\n  )(params);\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    //  fields customItems ;  formatter  fields\n    if (!get(tooltip, 'fields')) {\n      tooltipOptions = deepAssign(\n        {},\n        {\n          customItems: (items: Types.TooltipItem[]) =>\n            items.map((item) => {\n              const scales = get(chart.getOptions(), 'scales');\n              const pathFormatter = get(scales, [SUNBURST_PATH_FIELD, 'formatter'], (v) => v);\n              const valueFormatter = get(scales, [SUNBURST_Y_FIELD, 'formatter'], (v) => v);\n              return {\n                ...item,\n                name: pathFormatter(item.data[SUNBURST_PATH_FIELD]),\n                value: valueFormatter(item.data.value),\n              };\n            }),\n        },\n        tooltipOptions\n      );\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\nfunction adaptorInteraction(options: SunburstOptions): SunburstOptions {\n  const { drilldown, interactions = [] } = options;\n\n  if (drilldown?.enabled) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          cfg: { drillDownConfig: drilldown, transformData },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * \n * @param params\n * @returns\n */\nfunction interaction(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n\n  const { drilldown } = options;\n\n  baseInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  // \n  if (drilldown?.enabled) {\n    //  25px \n    chart.appendPadding = getAdjustAppendPadding(chart.appendPadding, get(drilldown, ['breadCrumb', 'position']));\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<SunburstOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('sunburstStyle'),\n    geometry,\n    axis,\n    meta,\n    legend,\n    coordinate,\n    tooltip,\n    label,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { registerInteraction, registerAction } from '@antv/g2';\nimport { get, isArray } from '@antv/util';\nimport { DrillDownAction } from './actions/drill-down';\n\n/**\n * \n */\nexport function isParentNode(context) {\n  const data = get(context, ['event', 'data', 'data'], {});\n  return isArray(data.children) && data.children.length > 0;\n}\n\n/**\n * \n */\nfunction inCenter(context) {\n  const coordinate = context.view.getCoordinate();\n  const { innerRadius } = coordinate;\n  if (innerRadius) {\n    const { x, y } = context.event;\n    const { x: centerX, y: centerY } = coordinate.center;\n    const r = coordinate.getRadius() * innerRadius;\n    const distance = Math.sqrt((centerX - x) ** 2 + (centerY - y) ** 2);\n    return distance < r;\n  }\n  return false;\n}\n\nregisterAction('drill-down-action', DrillDownAction);\nregisterInteraction('drill-down', {\n  showEnable: [\n    { trigger: 'element:mouseenter', action: 'cursor:pointer', isEnable: isParentNode },\n    { trigger: 'element:mouseleave', action: 'cursor:default' },\n    //  element:mouseleave \n    { trigger: 'element:mouseleave', action: 'cursor:pointer', isEnable: inCenter },\n  ],\n  start: [\n    {\n      trigger: 'element:click',\n      isEnable: isParentNode,\n      action: ['drill-down-action:click'],\n    },\n    {\n      trigger: 'afterchangesize',\n      action: ['drill-down-action:resetPosition'],\n    },\n    {\n      // \n      trigger: 'click',\n      isEnable: inCenter,\n      action: ['drill-down-action:back'],\n    },\n  ],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { NODE_ANCESTORS_FIELD } from '../../utils/hierarchy/util';\nimport { SunburstOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS, SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD } from './constant';\nimport './interactions';\n\nexport type { SunburstOptions };\n\nexport class Sunburst extends Plot<SunburstOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<SunburstOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**   */\n  static SUNBURST_ANCESTOR_FIELD = SUNBURST_ANCESTOR_FIELD;\n  /**   */\n  static SUNBURST_PATH_FIELD = SUNBURST_PATH_FIELD;\n  /**  */\n  static NODE_ANCESTORS_FIELD = NODE_ANCESTORS_FIELD;\n\n  /**  */\n  public type: string = 'sunburst';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Sunburst.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<SunburstOptions> {\n    return adaptor;\n  }\n}\n","export const RANGE_VALUE = 'range';\nexport const RANGE_TYPE = 'type';\nexport const PERCENT = 'percent';\n\nexport const DEFAULT_COLOR = '#f0f0f0';\n\n/**    */\nexport const INDICATEOR_VIEW_ID = 'indicator-view';\nexport const RANGE_VIEW_ID = 'range-view';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0, // \n  range: {\n    ticks: [],\n  }, // \n  innerRadius: 0.9,\n  radius: 0.95,\n  startAngle: (-7 / 6) * Math.PI,\n  endAngle: (1 / 6) * Math.PI,\n  syncViewPadding: true,\n  axis: {\n    line: null,\n    label: {\n      offset: -24,\n      style: {\n        textAlign: 'center' as const,\n        textBaseline: 'middle' as const,\n      },\n    },\n    subTickLine: {\n      length: -8,\n    },\n    tickLine: {\n      length: -12,\n    },\n    grid: null,\n  },\n  indicator: {\n    pointer: {\n      style: {\n        lineWidth: 5,\n        lineCap: 'round' as const,\n      },\n    },\n    pin: {\n      style: {\n        r: 9.75,\n        lineWidth: 4.5,\n        fill: '#fff',\n      },\n    },\n  },\n  statistic: {\n    title: false as const,\n  },\n  meta: {\n    //  view  scale  v \n    [RANGE_VALUE]: {\n      sync: 'v',\n    },\n    [PERCENT]: {\n      sync: 'v',\n      tickCount: 5,\n      tickInterval: 0.2,\n    },\n  },\n  animation: false as const,\n};\n","import { clamp, get, size } from '@antv/util';\nimport { Data, Datum } from '../../types';\nimport { RANGE_VALUE, RANGE_TYPE, PERCENT } from './constants';\nimport { GaugeOptions, GaugeRangeData } from './types';\n\n/**\n *  range  data \n * @param range\n * @param key\n * @returns {GaugeRangeData}\n */\nexport function processRangeData(range: number[], percent: GaugeOptions['percent']): GaugeRangeData {\n  return (\n    range\n      //  stack \n      .map((r: number, idx: number) => {\n        return { [RANGE_VALUE]: r - (range[idx - 1] || 0), [RANGE_TYPE]: `${idx}`, [PERCENT]: percent };\n      })\n      //  0 \n      .filter((d: Datum) => !!d[RANGE_VALUE])\n  );\n}\n\n/**\n *   \n * @param percent\n */\nexport function getIndicatorData(percent: GaugeOptions['percent']): Data {\n  return [{ [PERCENT]: clamp(percent, 0, 1) }];\n}\n\n/**\n *  \n * @param percent\n * @param range\n */\nexport function getRangeData(percent: GaugeOptions['percent'], range?: GaugeOptions['range']): GaugeRangeData {\n  const ticks = get(range, ['ticks'], []);\n\n  const clampTicks = size(ticks) ? ticks : [0, clamp(percent, 0, 1), 1];\n  return processRangeData(clampTicks as number[], percent);\n}\n","import { Geometry } from '@antv/g2';\nimport { get, isString } from '@antv/util';\nimport { interaction, animation, theme, scale, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, pick, renderGaugeStatistic } from '../../utils';\nimport { RANGE_TYPE, RANGE_VALUE, PERCENT, DEFAULT_COLOR, INDICATEOR_VIEW_ID, RANGE_VIEW_ID } from './constants';\nimport { GaugeOptions } from './types';\nimport { getIndicatorData, getRangeData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { percent, range, radius, innerRadius, startAngle, endAngle, axis, indicator, gaugeStyle, type, meter } =\n    options;\n  const { color, width: rangeWidth } = range;\n\n  //  & \n  // \n  if (indicator) {\n    const indicatorData = getIndicatorData(percent);\n\n    const v1 = chart.createView({ id: INDICATEOR_VIEW_ID });\n    v1.data(indicatorData);\n\n    v1.point()\n      .position(`${PERCENT}*1`)\n      .shape(indicator.shape || 'gauge-indicator')\n      //  shape \n      .customInfo({\n        defaultColor: chart.getTheme().defaultColor,\n        indicator,\n      });\n\n    v1.coordinate('polar', {\n      startAngle,\n      endAngle,\n      radius: innerRadius * radius, //  innerRadius * radius =  radius\n    });\n\n    v1.axis(PERCENT, axis);\n    //  scale \n    v1.scale(PERCENT, pick(axis, AXIS_META_CONFIG_KEYS));\n  }\n\n  //  range\n  // [{ range: 1, type: '0', percent:  }]\n  const rangeData = getRangeData(percent, options.range);\n  const v2 = chart.createView({ id: RANGE_VIEW_ID });\n  v2.data(rangeData);\n\n  const rangeColor = isString(color) ? [color, DEFAULT_COLOR] : color;\n\n  const { ext } = interval({\n    chart: v2,\n    options: {\n      xField: '1',\n      yField: RANGE_VALUE,\n      seriesField: RANGE_TYPE,\n      rawFields: [PERCENT],\n      isStack: true,\n      interval: {\n        color: rangeColor,\n        style: gaugeStyle,\n        shape: type === 'meter' ? 'meter-gauge' : null,\n      },\n      args: {\n        zIndexReversed: true,\n        sortZIndex: true,\n      },\n      minColumnWidth: rangeWidth,\n      maxColumnWidth: rangeWidth,\n    },\n  });\n\n  const geometry = ext.geometry as Geometry;\n  //  shape \n  geometry.customInfo({ meter });\n\n  v2.coordinate('polar', {\n    innerRadius,\n    radius,\n    startAngle,\n    endAngle,\n  }).transpose();\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  return flow(\n    scale({\n      range: {\n        min: 0,\n        max: 1,\n        maxLimit: 1,\n        minLimit: 0,\n      },\n      [PERCENT]: {},\n    })\n  )(params);\n}\n\n/**\n * \n * @param params\n */\nfunction statistic(params: Params<GaugeOptions>, updated?: boolean): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { statistic, percent } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n  if (statistic) {\n    const { content: contentOption } = statistic;\n    let transformContent;\n    //  content \n    if (contentOption) {\n      transformContent = deepAssign(\n        {},\n        {\n          content: `${(percent * 100).toFixed(2)}%`,\n          style: {\n            opacity: 0.75,\n            fontSize: '30px',\n            lineHeight: 1,\n            textAlign: 'center',\n            color: 'rgba(44,53,66,0.85)',\n          },\n        },\n        contentOption\n      );\n    }\n    renderGaugeStatistic(chart, { statistic: { ...statistic, content: transformContent } }, { percent });\n  }\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n */\nfunction tooltip(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip) {\n    chart.tooltip(\n      deepAssign(\n        {\n          showTitle: false,\n          showMarkers: false,\n          containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n          domStyles: {\n            'g2-tooltip': {\n              padding: '4px 8px',\n              fontSize: '10px',\n            },\n          },\n          customContent: (x: string, data: any[]) => {\n            const percent = get(data, [0, 'data', PERCENT], 0);\n            return `${(percent * 100).toFixed(2)}%`;\n          },\n        },\n        tooltip\n      )\n    );\n  } else {\n    //  tooltip\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * other \n * @param params\n */\nfunction other(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart } = params;\n\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n *  adaptor\n */\nexport { statistic };\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<GaugeOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    // animation  createView  View \n    animation,\n    geometry,\n    meta,\n    tooltip,\n    statistic,\n    interaction,\n    annotation(),\n    other\n    // ...  adaptor flow\n  )(params);\n}\n","import { registerShape, Types } from '@antv/g2';\nimport { Indicator } from '../types';\n\n// Shape \nregisterShape('point', 'gauge-indicator', {\n  draw(cfg: Types.ShapeInfo, container) {\n    //  customInfo \n    const { indicator, defaultColor } = cfg.customInfo;\n    const { pointer, pin } = indicator as Indicator;\n\n    const group = container.addGroup();\n    // \n    const center = this.parsePoint({ x: 0, y: 0 });\n    // \n    if (pointer) {\n      // pointer\n      group.addShape('line', {\n        name: 'pointer',\n        attrs: {\n          x1: center.x,\n          y1: center.y,\n          x2: cfg.x,\n          y2: cfg.y,\n          stroke: defaultColor,\n          ...pointer.style,\n        },\n      });\n    }\n\n    // pin\n    if (pin) {\n      group.addShape('circle', {\n        name: 'pin',\n        attrs: {\n          x: center.x,\n          y: center.y,\n          stroke: defaultColor,\n          ...pin.style,\n        },\n      });\n    }\n    return group;\n  },\n});\n","import { registerShape, Types, Util } from '@antv/g2';\nimport { clamp } from '@antv/util';\nimport { GaugeCustomInfo } from '../types';\n\ntype ShapeCfg = Omit<Types.ShapeInfo, 'customInfo'> & {\n  customInfo: GaugeCustomInfo;\n};\n\n/**\n *  Shape : \n *  STEP, STEP_RATIO. : 1 / (STEP + 1) * i -> 1 / (STEP + 1) * i + (STEP_RATIO / (STEP + 1))\n */\nregisterShape('interval', 'meter-gauge', {\n  draw(cfg: ShapeCfg, container) {\n    //  customInfo \n    const { meter = {} } = cfg.customInfo;\n    let { steps: STEP = 50, stepRatio: STEP_RATIO = 0.5 } = meter;\n    STEP = STEP < 1 ? 1 : STEP;\n    // stepRatio : (0, 1]\n    STEP_RATIO = clamp(STEP_RATIO, 0, 1);\n\n    const { startAngle: COORD_START_ANGLE, endAngle: COORD_END_ANGLE } = this.coordinate;\n    let GAP = 0;\n    if (STEP_RATIO > 0 && STEP_RATIO < 1) {\n      const TOTAL = COORD_END_ANGLE - COORD_START_ANGLE;\n      GAP = TOTAL / STEP / (STEP_RATIO / (1 - STEP_RATIO) + 1 - 1 / STEP);\n    }\n    const INTERVAL = (GAP / (1 - STEP_RATIO)) * STEP_RATIO;\n\n    const group = container.addGroup();\n    //  gap\n    const center = this.coordinate.getCenter();\n    const radius = this.coordinate.getRadius();\n    const { startAngle: START_ANGLE, endAngle: END_ANGLE } = Util.getAngle(cfg, this.coordinate);\n\n    for (let startAngle = START_ANGLE; startAngle < END_ANGLE; ) {\n      let endAngle;\n      const r = (startAngle - COORD_START_ANGLE) % (INTERVAL + GAP);\n      if (r < INTERVAL) {\n        endAngle = startAngle + (INTERVAL - r);\n      } else {\n        startAngle += INTERVAL + GAP - r;\n        endAngle = startAngle + INTERVAL;\n      }\n      const path = Util.getSectorPath(\n        center.x,\n        center.y,\n        radius,\n        startAngle,\n        Math.min(endAngle, END_ANGLE),\n        radius * this.coordinate.innerRadius\n      );\n      group.addShape('path', {\n        name: 'meter-gauge',\n        attrs: {\n          path,\n          fill: cfg.color,\n          stroke: cfg.color,\n          lineWidth: 0.5,\n        },\n      });\n      startAngle = endAngle + GAP;\n    }\n\n    return group;\n  },\n});\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { GaugeOptions } from './types';\nimport { adaptor, statistic } from './adaptor';\nimport { INDICATEOR_VIEW_ID, RANGE_VIEW_ID, DEFAULT_OPTIONS } from './constants';\nimport { getIndicatorData, getRangeData } from './utils';\n\n//  shape\nimport './shapes/indicator';\nimport './shapes/meter-gauge';\n\nexport type { GaugeOptions };\n\n/**\n * \n */\nexport class Gauge extends Plot<GaugeOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<GaugeOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'gauge';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n\n    this.updateOption({ percent });\n    const indicatorView = this.chart.views.find((v) => v.id === INDICATEOR_VIEW_ID);\n    if (indicatorView) {\n      indicatorView.data(getIndicatorData(percent));\n    }\n\n    const rangeView = this.chart.views.find((v) => v.id === RANGE_VIEW_ID);\n    if (rangeView) {\n      rangeView.data(getRangeData(percent, this.options.range));\n    }\n    // todo  G2  afterrender  annotations\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   * \n   *  base \n   */\n  protected getDefaultOptions() {\n    return Gauge.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<GaugeOptions> {\n    return adaptor;\n  }\n}\n","export const Y_FIELD = '$$yField$$';\nexport const DIFF_FIELD = '$$diffField$$';\nexport const ABSOLUTE_FIELD = '$$absoluteField$$';\nexport const IS_TOTAL = '$$isTotal$$';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  /** default: show label */\n  label: {},\n  /** default: show leaderLine */\n  leaderLine: {\n    style: {\n      lineWidth: 1,\n      stroke: '#8c8c8c',\n      lineDash: [4, 2],\n    },\n  },\n  /** default: show total */\n  total: {\n    style: {\n      fill: 'rgba(0, 0, 0, 0.25)',\n    },\n  },\n  interactions: [{ type: 'element-active' }],\n  risingFill: '#f4664a',\n  fallingFill: '#30bf78',\n  waterfallStyle: {\n    fill: 'rgba(0, 0, 0, 0.25)',\n  },\n  yAxis: {\n    grid: {\n      line: {\n        style: {\n          lineDash: [4, 2],\n        },\n      },\n    },\n  },\n};\n","import { isUndefined, isNumber, get, reduce, isObject } from '@antv/util';\nimport { Options } from '../../types';\nimport { LEVEL, log } from '../../utils';\nimport { ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL, Y_FIELD } from './constant';\n\n/**\n * @desc [start, end]\n * @param data\n * @param xField\n * @param yField\n * @param totalLabel\n */\nexport function processData(\n  data: Options['data'],\n  xField: string,\n  yField: string,\n  newYField: string,\n  total?: false | { label?: string }\n) {\n  const newData = [];\n  reduce(\n    data,\n    (r, d) => {\n      // \n      log(LEVEL.WARN, isNumber(d[yField]), `${d[yField]} is not a valid number`);\n      const value = isUndefined(d[yField]) ? null : d[yField];\n      newData.push({ ...d, [newYField]: [r, r + value] });\n\n      return r + value;\n    },\n    0\n  );\n  // \n  if (newData.length && total) {\n    const sum = get(newData, [[data.length - 1], newYField, [1]]);\n    newData.push({\n      [xField]: total.label,\n      [yField]: sum,\n      [newYField]: [0, sum],\n    });\n  }\n  return newData;\n}\n\n/**\n *   \n */\nexport function transformData(\n  data: Options['data'],\n  xField: string,\n  yField: string,\n  total?: false | { label?: string }\n) {\n  const processed = processData(data, xField, yField, Y_FIELD, total);\n  return processed.map((d, dIdx) => {\n    if (!isObject(d)) {\n      return d;\n    }\n    return {\n      ...d,\n      [ABSOLUTE_FIELD]: d[Y_FIELD][1],\n      [DIFF_FIELD]: d[Y_FIELD][1] - d[Y_FIELD][0],\n      [IS_TOTAL]: dIdx === data.length,\n    };\n  });\n}\n","import { IGroup } from '@antv/g-base';\nimport { registerShape } from '@antv/g2';\nimport { Types } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { deepAssign } from '../../utils';\nimport { Point } from '../../types';\n\n/**\n *  path\n * @param points\n */\nfunction getRectPath(points: Point[]) {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i];\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n\n  const first = points[0];\n  path.push(['L', first.x, first.y]);\n  path.push(['z']);\n\n  return path;\n}\n\n/**\n * \n * @param cfg \n */\nfunction getFillAttrs(cfg: Types.ShapeInfo) {\n  return deepAssign({}, cfg.defaultStyle, cfg.style, { fill: cfg.color });\n}\n\nregisterShape('interval', 'waterfall', {\n  draw(cfg: Types.ShapeInfo & { points: Point[]; nextPoints: Point[] }, container: IGroup) {\n    const { customInfo, points, nextPoints } = cfg;\n\n    const group = container.addGroup();\n\n    //  \n    const rectPath = this.parsePath(getRectPath(points));\n    const fillAttrs = getFillAttrs(cfg);\n\n    group.addShape('path', {\n      attrs: {\n        ...fillAttrs,\n        path: rectPath,\n      },\n    });\n\n    //  \n    const leaderLineCfg = get(customInfo, 'leaderLine');\n    if (leaderLineCfg && nextPoints) {\n      let linkPath = [\n        ['M', points[2].x, points[2].y],\n        ['L', nextPoints[0].x, nextPoints[0].y],\n      ];\n\n      if (points[2].y === nextPoints[1].y) {\n        linkPath[1] = ['L', nextPoints[1].x, nextPoints[1].y];\n      }\n\n      linkPath = this.parsePath(linkPath);\n      group.addShape('path', {\n        attrs: {\n          path: linkPath,\n          ...(leaderLineCfg.style || {}),\n        },\n      });\n    }\n\n    return group;\n  },\n});\n","import { Geometry } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Datum } from '../../types';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, state, scale, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { getLocale } from '../../core/locale';\nimport { findGeometry, flow, transformLabel, deepAssign } from '../../utils';\nimport { Y_FIELD, ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL } from './constant';\nimport { WaterfallOptions } from './types';\nimport { transformData } from './utils';\nimport './shape';\n\n/**\n *  \n * @param params\n * @returns\n */\nfunction defaultOptions(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { locale, total } = params.options;\n\n  const localeTotalLabel = getLocale(locale).get(['waterfall', 'total']);\n\n  if (total && typeof total.label !== 'string' && localeTotalLabel) {\n    // @ts-ignore\n    params.options.total.label = localeTotalLabel;\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { data, xField, yField, total, leaderLine, columnWidthRatio, waterfallStyle, risingFill, fallingFill, color } =\n    options;\n\n  // \n  chart.data(transformData(data, xField, yField, total));\n\n  //  colorMapping\n  const colorMapping =\n    color ||\n    function (datum: Datum) {\n      if (get(datum, [IS_TOTAL])) {\n        return get(total, ['style', 'fill'], '');\n      }\n      return get(datum, [Y_FIELD, 1]) - get(datum, [Y_FIELD, 0]) > 0 ? risingFill : fallingFill;\n    };\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: Y_FIELD,\n      seriesField: xField,\n      rawFields: [yField, DIFF_FIELD, IS_TOTAL, Y_FIELD],\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: waterfallStyle,\n        shape: 'waterfall',\n        color: colorMapping,\n      },\n    },\n  });\n  const { ext } = interval(p);\n  const geometry = ext.geometry as Geometry;\n\n  //  waterfall leaderLineCfg  shape \n  geometry.customInfo({ leaderLine });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, meta } = options;\n\n  const Y_FIELD_META = deepAssign({}, { alias: yField }, get(meta, yField));\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n        [Y_FIELD]: yAxis,\n      },\n      deepAssign({}, meta, { [Y_FIELD]: Y_FIELD_META, [DIFF_FIELD]: Y_FIELD_META, [ABSOLUTE_FIELD]: Y_FIELD_META })\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n    chart.axis(Y_FIELD, false);\n  } else {\n    chart.axis(yField, yAxis);\n    chart.axis(Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend  todo  hover \n * @param params\n */\nfunction legend(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { legend, total, risingFill, fallingFill, locale } = options;\n\n  const i18n = getLocale(locale);\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    const items = [\n      {\n        name: i18n.get(['general', 'increase']),\n        value: 'increase',\n        marker: { symbol: 'square', style: { r: 5, fill: risingFill } },\n      },\n      {\n        name: i18n.get(['general', 'decrease']),\n        value: 'decrease',\n        marker: { symbol: 'square', style: { r: 5, fill: fallingFill } },\n      },\n    ];\n\n    if (total) {\n      items.push({\n        name: total.label || '',\n        value: 'total',\n        marker: {\n          symbol: 'square',\n          style: deepAssign({}, { r: 5 }, get(total, 'style')),\n        },\n      });\n    }\n    chart.legend(\n      deepAssign(\n        {},\n        {\n          custom: true,\n          position: 'top',\n          items,\n        },\n        legend\n      )\n    );\n    chart.removeInteraction('legend-filter');\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { label, labelMode, xField } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: labelMode === 'absolute' ? [ABSOLUTE_FIELD, xField] : [DIFF_FIELD, xField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { tooltip, xField, yField } = options;\n\n  if (tooltip !== false) {\n    chart.tooltip({\n      showCrosshairs: false,\n      showMarkers: false,\n      shared: true,\n      // tooltip  y \n      fields: [yField],\n      ...tooltip,\n    });\n    //  yField  tooltip \n    const geometry = chart.geometries[0];\n    tooltip?.formatter ? geometry.tooltip(`${xField}*${yField}`, tooltip.formatter) : geometry.tooltip(yField);\n  } else {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<WaterfallOptions>) {\n  return flow(\n    defaultOptions,\n    theme,\n    geometry,\n    meta,\n    axis,\n    legend,\n    tooltip,\n    label,\n    state,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { WaterfallOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { transformData } from './utils';\n\nexport type { WaterfallOptions };\n\n/**\n * \n */\nexport class Waterfall extends Plot<WaterfallOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<WaterfallOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'waterfall';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    const { xField, yField, total } = this.options;\n    this.updateOption({ data });\n    this.chart.changeData(transformData(data, xField, yField, total));\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<WaterfallOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<WaterfallOptions> {\n    return Waterfall.getDefaultOptions();\n  }\n}\n","import { Data } from '../../types';\n\nexport function getScaleMax(maxAngle: number, yField: string, data: Data): number {\n  const yData = data.map((item) => item[yField]).filter((v) => v !== undefined);\n  const maxValue = yData.length > 0 ? Math.max(...yData) : 0;\n  const formatRadian = Math.abs(maxAngle) % 360;\n  if (!formatRadian) {\n    return maxValue;\n  }\n  return (maxValue * 360) / formatRadian;\n}\n\n/**\n * \n */\nexport function getStackedData(data: Data, xField: string, yField: string) {\n  const stackedData: Data = [];\n  data.forEach((item) => {\n    const valueItem = stackedData.find((v) => v[xField] === item[xField]);\n    if (valueItem) {\n      valueItem[yField] += item[yField] || null;\n    } else {\n      stackedData.push({ ...item });\n    }\n  });\n  return stackedData;\n}\n","import { interaction, animation, theme, scale, tooltip, legend, annotation } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign, findGeometry, transformLabel } from '../../utils';\nimport { interval, point } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { processIllegalData } from '../../utils';\nimport { RadialBarOptions } from './types';\nimport { getScaleMax, getStackedData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { barStyle: style, color, tooltip, colorField, type, xField, yField, data } = options;\n\n  // \n  const processData = processIllegalData(data, yField);\n  chart.data(processData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      tooltip,\n      seriesField: colorField,\n      interval: {\n        style,\n        color,\n        shape: type === 'line' ? 'line' : 'intervel',\n      },\n      // \n      minColumnWidth: options.minBarWidth,\n      maxColumnWidth: options.maxBarWidth,\n      columnBackground: options.barBackground,\n    },\n  });\n  interval(p);\n  if (type === 'line') {\n    point({\n      chart,\n      options: { xField, yField, seriesField: colorField, point: { shape: 'circle', color } },\n    });\n  }\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { options } = params;\n  const { yField, xField, data, isStack, isGroup, colorField, maxAngle } = options;\n\n  const actualData = isStack && !isGroup && colorField ? getStackedData(data, xField, yField) : data;\n  const processData = processIllegalData(actualData, yField);\n  return flow(\n    scale({\n      [yField]: {\n        min: 0,\n        max: getScaleMax(maxAngle, yField, processData),\n      },\n    })\n  )(params);\n}\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart\n    .coordinate({\n      type: 'polar',\n      cfg: {\n        radius,\n        innerRadius,\n        startAngle,\n        endAngle,\n      },\n    })\n    .transpose();\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { xField, xAxis } = options;\n  chart.axis(xField, xAxis);\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const intervalGeometry = findGeometry(chart, 'interval');\n\n  // label  false,   label\n  if (!label) {\n    intervalGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    intervalGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        ...transformLabel(cfg),\n        type: 'polar',\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RadialBarOptions>) {\n  return flow(\n    pattern('barStyle'),\n    geometry,\n    meta,\n    axis,\n    coordinate,\n    interaction,\n    animation,\n    theme,\n    tooltip,\n    legend,\n    annotation(),\n    label\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  interactions: [{ type: 'element-active' }],\n  legend: false,\n  tooltip: {\n    showMarkers: false,\n  },\n  xAxis: {\n    grid: null,\n    tickLine: null,\n    line: null,\n  },\n  maxAngle: 240,\n});\n","export const FIRST_AXES_VIEW = 'first-axes-view';\nexport const SECOND_AXES_VIEW = 'second-axes-view';\n/**  key  */\nexport const SERIES_FIELD_KEY = 'series-field-key';\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { RadialBarOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { RadialBarOptions };\n\n/**\n * \n */\nexport class RadialBar extends Plot<RadialBarOptions> {\n  static getDefaultOptions(): Partial<RadialBarOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'radial-bar';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    //  scale\n    meta({ chart: this.chart, options: this.options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions(): Partial<RadialBarOptions> {\n    return RadialBar.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<RadialBarOptions> {\n    return adaptor;\n  }\n}\n","import { groupBy } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { Datum } from '../../types';\nimport { BidirectionalBarOptions } from './types';\n\ntype TransformData = {\n  [key: string]: string | number;\n}[];\n\n/**\n * bidirectional-bar ,  SERIES_FIELD_KEY \n * @param xField\n * @param yField\n * @param data\n */\nexport function transformData(\n  xField: string,\n  yField: string[],\n  seriesField: string,\n  data: Datum,\n  reverse?: boolean\n): Types.Data[] {\n  const hopeData: TransformData = [];\n  yField.forEach((d: string) => {\n    data.forEach((k: any) => {\n      const obj = {\n        [xField]: k[xField],\n        [seriesField]: d,\n        [d]: k[d],\n      };\n      hopeData.push(obj);\n    });\n  });\n  const groupData = Object.values(groupBy(hopeData, seriesField));\n  const [data1 = [], data2 = []] = groupData;\n  return reverse ? [data1.reverse(), data2.reverse()] : [data1, data2];\n}\n\n/**\n * \n * @param layout\n */\nexport function isHorizontal(layout: BidirectionalBarOptions['layout']) {\n  return layout !== 'vertical';\n}\n\n/**\n *  view  padding \n * @param chart\n * @param views\n * @param p\n */\nexport function syncViewPadding(chart: any, views: any, p: any) {\n  const [v1, v2] = views;\n  const p1 = v1.autoPadding;\n  const p2 = v2.autoPadding;\n  const { layout, position } = chart.__axisPosition;\n  //  layout\n  if (isHorizontal(layout) && position === 'top') {\n    /**\n     *  v1  left  v2 right  v1 \n     * position top  v1  0\n     */\n    v1.autoPadding = p.instance(p1.top, 0, p1.bottom, p1.left);\n    v2.autoPadding = p.instance(p2.top, p1.left, p2.bottom, 0);\n  }\n  if (isHorizontal(layout) && position === 'bottom') {\n    /**\n     *  v1  left  v2 right  v1 \n     * position bottom  v1 v1 right = right / 2  v2 left = right / 2\n     * + 5  \n     */\n    v1.autoPadding = p.instance(p1.top, p1.right / 2 + 5, p1.bottom, p1.left);\n    v2.autoPadding = p.instance(p2.top, p2.right, p2.bottom, p1.right / 2 + 5);\n  }\n  if (!isHorizontal(layout) && position === 'bottom') {\n    /**\n     *  v1  left  v2 left  left \n     * position bottom  v1 v1 bottom = bottom / 2  v2 top = bottom / 2\n     * + 5  \n     */\n    const left = p1.left >= p2.left ? p1.left : p2.left;\n    v1.autoPadding = p.instance(p1.top, p1.right, p1.bottom / 2 + 5, left);\n    v2.autoPadding = p.instance(p1.bottom / 2 + 5, p2.right, p2.bottom, left);\n  }\n  // position  top \n  if (!isHorizontal(layout) && position === 'top') {\n    const left = p1.left >= p2.left ? p1.left : p2.left;\n    v1.autoPadding = p.instance(p1.top, p1.right, 0, left);\n    v2.autoPadding = p.instance(0, p2.right, p1.top, left);\n  }\n}\n","import { View } from '@antv/g2';\nimport { get, keys } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport {\n  tooltip,\n  interaction as commonInteraction,\n  animation as commonAnimation,\n  theme as commonTheme,\n  limitInPlot as commonLimitInPlot,\n  scale,\n} from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { flow, findViewById, findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { BidirectionalBarOptions } from './types';\nimport { FIRST_AXES_VIEW, SECOND_AXES_VIEW, SERIES_FIELD_KEY } from './constant';\nimport { isHorizontal, transformData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { data, xField, yField, color, barStyle, widthRatio, legend, layout } = options;\n\n  // \n  const groupData: any[] = transformData(xField, yField, SERIES_FIELD_KEY, data, isHorizontal(layout));\n  //  view  legend\n  if (legend) {\n    chart.legend(SERIES_FIELD_KEY, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n  //  view\n  let firstView: View;\n  let secondView: View;\n  const [firstViewData, secondViewData] = groupData;\n\n  // \n  if (isHorizontal(layout)) {\n    firstView = chart.createView({\n      region: {\n        start: { x: 0, y: 0 },\n        end: { x: 0.5, y: 1 },\n      },\n      id: FIRST_AXES_VIEW,\n    });\n\n    firstView.coordinate().transpose().reflect('x');\n\n    secondView = chart.createView({\n      region: {\n        start: { x: 0.5, y: 0 },\n        end: { x: 1, y: 1 },\n      },\n      id: SECOND_AXES_VIEW,\n    });\n    secondView.coordinate().transpose();\n\n    // @: ( transform )\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n  } else {\n    // \n    firstView = chart.createView({\n      region: {\n        start: { x: 0, y: 0 },\n        end: { x: 1, y: 0.5 },\n      },\n      id: FIRST_AXES_VIEW,\n    });\n    secondView = chart.createView({\n      region: {\n        start: { x: 0, y: 0.5 },\n        end: { x: 1, y: 1 },\n      },\n      id: SECOND_AXES_VIEW,\n    });\n    secondView.coordinate().reflect('y');\n\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n  }\n  const left = deepAssign({}, params, {\n    chart: firstView,\n    options: {\n      widthRatio,\n      xField,\n      yField: yField[0],\n      seriesField: SERIES_FIELD_KEY,\n      interval: {\n        color,\n        style: barStyle,\n      },\n    },\n  });\n  interval(left);\n\n  const right = deepAssign({}, params, {\n    chart: secondView,\n    options: {\n      xField,\n      yField: yField[1],\n      seriesField: SERIES_FIELD_KEY,\n      widthRatio,\n      interval: {\n        color,\n        style: barStyle,\n      },\n    },\n  });\n\n  interval(right);\n\n  return params;\n}\n\n/**\n * meta \n * -  SERIES_FIELD_KEY  yField \n * @param params\n */\nfunction meta(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { options, chart } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n\n  const aliasMap = {};\n  keys(options?.meta || {}).map((metaKey) => {\n    if (get(options?.meta, [metaKey, 'alias'])) {\n      aliasMap[metaKey] = options.meta[metaKey].alias;\n    }\n  });\n\n  chart.scale({\n    [SERIES_FIELD_KEY]: {\n      sync: true,\n      formatter: (v) => {\n        return get(aliasMap, v, v);\n      },\n    },\n  });\n\n  scale({\n    [xField]: xAxis,\n    [yField[0]]: yAxis[yField[0]],\n  })(deepAssign({}, params, { chart: firstView }));\n\n  scale({\n    [xField]: xAxis,\n    [yField[1]]: yAxis[yField[1]],\n  })(deepAssign({}, params, { chart: secondView }));\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField, layout } = options;\n\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n  //  view axis ;  bottom  label\n  // @ts-ignore\n  if (xAxis?.position === 'bottom') {\n    // fixme  label: null  tickLine \n    secondView.axis(xField, { ...xAxis, label: { formatter: () => '' } });\n  } else {\n    secondView.axis(xField, false);\n  }\n\n  //  false  firstView \n  if (xAxis === false) {\n    firstView.axis(xField, false);\n  } else {\n    firstView.axis(xField, {\n      //  firstView \n      position: isHorizontal(layout) ? 'top' : 'bottom',\n      ...xAxis,\n    });\n  }\n\n  if (yAxis === false) {\n    firstView.axis(yField[0], false);\n    secondView.axis(yField[1], false);\n  } else {\n    firstView.axis(yField[0], yAxis[yField[0]]);\n    secondView.axis(yField[1], yAxis[yField[1]]);\n  }\n  /**\n   *  syncViewPadding\n   *  TODO  g2 View  setter \n   */\n\n  //@ts-ignore\n  chart.__axisPosition = {\n    position: firstView.getOptions().axes[xField].position,\n    layout,\n  };\n  return params;\n}\n\n/**\n * interaction \n * @param params\n */\nexport function interaction(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { yField, yAxis } = options;\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, FIRST_AXES_VIEW),\n      options: {\n        yAxis: yAxis[yField[0]],\n      },\n    })\n  );\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, SECOND_AXES_VIEW),\n      options: {\n        yAxis: yAxis[yField[1]],\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * theme\n * @param params\n */\nexport function theme(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n  commonTheme(params);\n\n  return params;\n}\n\n/**\n * animation\n * @param params\n */\nexport function animation(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * label  (1.  offset  2. leftView  *= -1)\n * @param params\n */\nfunction label(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { label, yField, layout } = options;\n\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n  const leftGeometry = findGeometry(firstView, 'interval');\n  const rightGeometry = findGeometry(secondView, 'interval');\n\n  if (!label) {\n    leftGeometry.label(false);\n    rightGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    /** ----  ---- */\n    // \n    if (!cfg.position) {\n      cfg.position = 'middle';\n    }\n    if (cfg.offset === undefined) {\n      cfg.offset = 2;\n    }\n\n    /** ---- leftView label  ---- */\n    const leftLabelCfg = { ...cfg };\n    if (isHorizontal(layout)) {\n      //  textAlign \n      const textAlign = leftLabelCfg.style?.textAlign || (cfg.position === 'middle' ? 'center' : 'left');\n      cfg.style = deepAssign({}, cfg.style, { textAlign });\n      const textAlignMap = { left: 'right', right: 'left', center: 'center' };\n      leftLabelCfg.style = deepAssign({}, leftLabelCfg.style, { textAlign: textAlignMap[textAlign] });\n    } else {\n      const positionMap = { top: 'bottom', bottom: 'top', middle: 'middle' };\n      if (typeof cfg.position === 'string') {\n        cfg.position = positionMap[cfg.position];\n      } else if (typeof cfg.position === 'function') {\n        cfg.position = (...args) => positionMap[(cfg.position as Function).apply(this, args)];\n      }\n      //  textBaseline \n      const textBaseline = leftLabelCfg.style?.textBaseline || 'bottom';\n      leftLabelCfg.style = deepAssign({}, leftLabelCfg.style, { textBaseline });\n      const textBaselineMap = { top: 'bottom', bottom: 'top', middle: 'middle' };\n      cfg.style = deepAssign({}, cfg.style, { textBaseline: textBaselineMap[textBaseline] });\n    }\n\n    leftGeometry.label({\n      fields: [yField[0]],\n      callback,\n      cfg: transformLabel(leftLabelCfg),\n    });\n    rightGeometry.label({\n      fields: [yField[1]],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BidirectionalBarOptions>) {\n  // flow  G2 API\n  return flow(geometry, meta, axis, limitInPlot, theme, label, tooltip, interaction, animation)(params);\n}\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { deepAssign, findViewById } from '../../utils';\nimport { BidirectionalBarOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { syncViewPadding, transformData, isHorizontal } from './utils';\nimport { SERIES_FIELD_KEY, FIRST_AXES_VIEW, SECOND_AXES_VIEW } from './constant';\n\nexport type { BidirectionalBarOptions };\n\nexport class BidirectionalBar extends Plot<BidirectionalBarOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<BidirectionalBarOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      syncViewPadding,\n    });\n  }\n\n  /**  */\n  static SERIES_FIELD_KEY = SERIES_FIELD_KEY;\n\n  /**  */\n  public type: string = 'bidirectional-bar';\n\n  /**\n   * @override\n   */\n  public changeData(data = []) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n\n    // options\n    this.updateOption({ data });\n    const { xField, yField, layout } = this.options;\n    // \n    const groupData: any[] = transformData(xField, yField, SERIES_FIELD_KEY, data, isHorizontal(layout));\n    const [firstViewData, secondViewData] = groupData;\n    const firstView = findViewById(this.chart, FIRST_AXES_VIEW);\n    const secondView = findViewById(this.chart, SECOND_AXES_VIEW);\n    // viewdata\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n    // \n    this.chart.render(true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  protected getDefaultOptions() {\n    return BidirectionalBar.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<BidirectionalBarOptions> {\n    return adaptor;\n  }\n}\n","import { isArray, get } from '@antv/util';\nimport { View } from '@antv/g2';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { Interaction } from '../../types/interaction';\nimport { treemap } from '../../utils/hierarchy/treemap';\nimport { TreemapOptions } from './types';\n\nexport function findInteraction(\n  interactions: TreemapOptions['interactions'],\n  interactionType: string\n): undefined | Interaction {\n  if (!isArray(interactions)) return undefined;\n  return interactions.find((i) => i.type === interactionType);\n}\n\nexport function enableInteraction(interactions: TreemapOptions['interactions'], interactionType: string): boolean {\n  const interaction = findInteraction(interactions, interactionType);\n  return interaction && interaction.enable !== false;\n}\n\n/**\n * \n * @param interactions\n * @param interactionType\n * @returns\n */\nexport function enableDrillInteraction(options: TreemapOptions): boolean {\n  const { interactions, drilldown } = options;\n  // , treemap-drill-down\n  return get(drilldown, 'enabled') || enableInteraction(interactions, 'treemap-drill-down');\n}\n\nexport function resetDrillDown(chart: View) {\n  const drillDownInteraction = chart.interactions['drill-down'];\n\n  if (!drillDownInteraction) return;\n\n  // @ts-ignore\n  const drillDownAction = drillDownInteraction.context.actions.find((i) => i.name === 'drill-down-action');\n\n  drillDownAction.reset();\n}\n\ninterface TransformDataOptions {\n  data: TreemapOptions['data'];\n  colorField: TreemapOptions['colorField'];\n  enableDrillDown: boolean;\n  hierarchyConfig: TreemapOptions['hierarchyConfig'];\n}\n\nexport function transformData(options: TransformDataOptions) {\n  const { data, colorField, enableDrillDown, hierarchyConfig } = options;\n\n  const nodes = treemap(data, {\n    ...hierarchyConfig,\n    // @ts-ignore\n    type: 'hierarchy.treemap',\n    field: 'value',\n    as: ['x', 'y'],\n  });\n\n  const result = [];\n  nodes.forEach((node) => {\n    if (node.depth === 0) {\n      return null;\n    }\n\n    //  depth === 1 \n    if (enableDrillDown && node.depth !== 1) {\n      return null;\n    }\n\n    // \n    if (!enableDrillDown && node.children) {\n      return null;\n    }\n\n    // path (x, y), ( depth)\n    const curPath = node.ancestors().map((n) => ({\n      data: n.data,\n      height: n.height,\n      value: n.value,\n    }));\n    // data.path) \n    const path = enableDrillDown && isArray(data.path) ? curPath.concat(data.path.slice(1)) : curPath;\n\n    const nodeInfo = Object.assign({}, node.data, {\n      x: node.x,\n      y: node.y,\n      depth: node.depth,\n      value: node.value,\n      path,\n      ...node,\n    });\n    if (!node.data[colorField] && node.parent) {\n      const ancestorNode = node.ancestors().find((n) => n.data[colorField]);\n      nodeInfo[colorField] = ancestorNode?.data[colorField];\n    } else {\n      nodeInfo[colorField] = node.data[colorField];\n    }\n\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, colorField, enableDrillDown };\n    result.push(nodeInfo);\n  });\n  return result;\n}\n","import { get } from '@antv/util';\nimport { polygon as basePolygon } from '../../adaptor/geometries/polygon';\nimport { Params } from '../../core/adaptor';\nimport { interaction as commonInteraction, animation, theme, legend, annotation, tooltip } from '../../adaptor/common';\nimport { pattern } from '../../adaptor/pattern';\nimport { flow, deepAssign } from '../../utils';\nimport { getAdjustAppendPadding } from '../../utils/padding';\nimport { transformData, findInteraction, enableDrillInteraction } from './utils';\nimport { TreemapOptions } from './types';\n\n/**\n *  option\n * @param params\n */\nfunction defaultOptions(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { options } = params;\n  const { colorField } = options;\n\n  return deepAssign(\n    {\n      options: {\n        rawFields: ['value'],\n        tooltip: {\n          fields: ['name', 'value', colorField, 'path'],\n          formatter: (data) => {\n            return {\n              name: data.name,\n              value: data.value,\n            };\n          },\n        },\n      },\n    },\n    params\n  );\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart, options } = params;\n  const { color, colorField, rectStyle, hierarchyConfig, rawFields } = options;\n\n  const data = transformData({\n    data: options.data,\n    colorField: options.colorField,\n    enableDrillDown: enableDrillInteraction(options),\n    hierarchyConfig,\n  });\n\n  chart.data(data);\n\n  // geometry\n  basePolygon(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        rawFields: rawFields,\n        polygon: {\n          color,\n          style: rectStyle,\n        },\n      },\n    })\n  );\n\n  // \n  chart.coordinate().reflect('y');\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction axis(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\nfunction adaptorInteraction(options: TreemapOptions): TreemapOptions {\n  const { drilldown, interactions = [] } = options;\n\n  const enableDrillDown = enableDrillInteraction(options);\n  if (enableDrillDown) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          //   API\n          cfg: { drillDownConfig: drilldown, transformData },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * Interaction \n * @param params\n */\nexport function interaction(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart, options } = params;\n  const { interactions, drilldown } = options;\n\n  commonInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  //  view-zoom\n  const viewZoomInteraction = findInteraction(interactions, 'view-zoom');\n\n  if (viewZoomInteraction) {\n    //  interaction \n    if (viewZoomInteraction.enable !== false) {\n      chart.getCanvas().on('mousewheel', (ev) => {\n        ev.preventDefault();\n      });\n    } else {\n      //  viewZoomInteraction \n      chart.getCanvas().off('mousewheel');\n    }\n  }\n\n  // \n  const enableDrillDown = enableDrillInteraction(options);\n  if (enableDrillDown) {\n    //  25px \n    chart.appendPadding = getAdjustAppendPadding(chart.appendPadding, get(drilldown, ['breadCrumb', 'position']));\n  }\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TreemapOptions>) {\n  return flow(\n    defaultOptions,\n    theme,\n    pattern('rectStyle'),\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","export const DEFAULT_OPTIONS = {\n  //  name \n  colorField: 'name',\n  rectStyle: {\n    lineWidth: 1,\n    stroke: '#fff',\n  },\n  hierarchyConfig: {\n    tile: 'treemapSquarify' as const,\n  },\n  label: {\n    fields: ['name'],\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    showMarkers: false,\n    showTitle: false,\n  },\n  // \n  drilldown: {\n    enabled: false,\n    breadCrumb: {\n      position: 'bottom-left' as const,\n      rootText: '',\n      dividerText: '/',\n      textStyle: {\n        fontSize: 12,\n        fill: 'rgba(0, 0, 0, 0.65)',\n        cursor: 'pointer',\n      },\n      activeTextStyle: {\n        fill: '#87B5FF',\n      },\n    },\n  },\n};\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { TreemapOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { transformData, enableInteraction, resetDrillDown } from './utils';\nimport './interactions';\n\nexport type { TreemapOptions };\n\nexport class Treemap extends Plot<TreemapOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<TreemapOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'treemap';\n\n  /**\n   * changeData\n   */\n  public changeData(data) {\n    const { colorField, interactions, hierarchyConfig } = this.options;\n    this.updateOption({ data });\n    const transData = transformData({\n      data,\n      colorField,\n      enableDrillDown: enableInteraction(interactions, 'treemap-drill-down'),\n      hierarchyConfig,\n    });\n    this.chart.changeData(transData);\n\n    resetDrillDown(this.chart);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Treemap.getDefaultOptions();\n  }\n\n  protected getSchemaAdaptor(): Adaptor<TreemapOptions> {\n    return adaptor;\n  }\n}\n","import { minBy } from '@antv/util';\n\nfunction targetDepth(d) {\n  return d.target.depth;\n}\n\nexport function left(node) {\n  return node.depth;\n}\n\nexport function right(node, n) {\n  return n - 1 - node.height;\n}\n\nexport function justify(node, n) {\n  return node.sourceLinks.length ? node.depth : n - 1;\n}\n\nexport function center(node) {\n  return node.targetLinks.length ? node.depth : node.sourceLinks.length ? minBy(node.sourceLinks, targetDepth) - 1 : 0;\n}\n","export function constant(x: any) {\n  return function () {\n    return x;\n  };\n}\n\nexport function sumBy(arr, func) {\n  let r = 0;\n  for (let i = 0; i < arr.length; i++) {\n    r += func(arr[i]);\n  }\n\n  return r;\n}\n\n/**\n * \n * @param arr\n * @param func\n */\nexport function maxValueBy(arr, func): number {\n  let r = -Infinity;\n  for (let i = 0; i < arr.length; i++) {\n    r = Math.max(func(arr[i]), r);\n  }\n\n  return r;\n}\n\n/**\n * \n * @param arr\n * @param func\n */\nexport function minValueBy(arr, func): number {\n  let r = Infinity;\n  for (let i = 0; i < arr.length; i++) {\n    r = Math.min(func(arr[i]), r);\n  }\n\n  return r;\n}\n","import { justify } from './align';\nimport { constant, sumBy, maxValueBy, minValueBy } from './helper';\n\nfunction ascendingSourceBreadth(a, b) {\n  return ascendingBreadth(a.source, b.source) || a.index - b.index;\n}\n\nfunction ascendingTargetBreadth(a, b) {\n  return ascendingBreadth(a.target, b.target) || a.index - b.index;\n}\n\nfunction ascendingBreadth(a, b) {\n  return a.y0 - b.y0;\n}\n\nfunction value(d) {\n  return d.value;\n}\n\nfunction defaultId(d) {\n  return d.index;\n}\n\nfunction defaultNodes(graph) {\n  return graph.nodes;\n}\n\nfunction defaultLinks(graph) {\n  return graph.links;\n}\n\nfunction find(nodeById, id) {\n  const node = nodeById.get(id);\n  if (!node) throw new Error('missing: ' + id);\n  return node;\n}\n\nfunction computeLinkBreadths({ nodes }) {\n  for (const node of nodes) {\n    let y0 = node.y0;\n    let y1 = y0;\n    for (const link of node.sourceLinks) {\n      link.y0 = y0 + link.width / 2;\n      y0 += link.width;\n    }\n    for (const link of node.targetLinks) {\n      link.y1 = y1 + link.width / 2;\n      y1 += link.width;\n    }\n  }\n}\n\nexport function Sankey() {\n  let x0 = 0,\n    y0 = 0,\n    x1 = 1,\n    y1 = 1; // extent\n  let dx = 24; // nodeWidth\n  let dy = 8,\n    py; // nodePadding\n  let id = defaultId;\n  let align = justify;\n  let depth;\n  let sort;\n  let linkSort;\n  let nodes = defaultNodes;\n  let links = defaultLinks;\n  let iterations = 6;\n\n  function sankey(arg) {\n    const graph = {\n      nodes: nodes(arg),\n      links: links(arg),\n    };\n    computeNodeLinks(graph);\n    computeNodeValues(graph);\n    computeNodeDepths(graph);\n    computeNodeHeights(graph);\n    computeNodeBreadths(graph);\n    computeLinkBreadths(graph);\n    return graph;\n  }\n\n  sankey.update = function (graph) {\n    computeLinkBreadths(graph);\n    return graph;\n  };\n\n  sankey.nodeId = function (_) {\n    return arguments.length ? ((id = typeof _ === 'function' ? _ : constant(_)), sankey) : id;\n  };\n\n  sankey.nodeAlign = function (_) {\n    return arguments.length ? ((align = typeof _ === 'function' ? _ : constant(_)), sankey) : align;\n  };\n\n  sankey.nodeDepth = function (_) {\n    return arguments.length ? ((depth = typeof _ === 'function' ? _ : _), sankey) : depth;\n  };\n\n  sankey.nodeSort = function (_) {\n    return arguments.length ? ((sort = _), sankey) : sort;\n  };\n\n  sankey.nodeWidth = function (_) {\n    return arguments.length ? ((dx = +_), sankey) : dx;\n  };\n\n  sankey.nodePadding = function (_) {\n    return arguments.length ? ((dy = py = +_), sankey) : dy;\n  };\n\n  sankey.nodes = function (_) {\n    return arguments.length ? ((nodes = typeof _ === 'function' ? _ : constant(_)), sankey) : nodes;\n  };\n\n  sankey.links = function (_) {\n    return arguments.length ? ((links = typeof _ === 'function' ? _ : constant(_)), sankey) : links;\n  };\n\n  sankey.linkSort = function (_) {\n    return arguments.length ? ((linkSort = _), sankey) : linkSort;\n  };\n\n  sankey.size = function (_) {\n    return arguments.length ? ((x0 = y0 = 0), (x1 = +_[0]), (y1 = +_[1]), sankey) : [x1 - x0, y1 - y0];\n  };\n\n  sankey.extent = function (_) {\n    return arguments.length\n      ? ((x0 = +_[0][0]), (x1 = +_[1][0]), (y0 = +_[0][1]), (y1 = +_[1][1]), sankey)\n      : [\n          [x0, y0],\n          [x1, y1],\n        ];\n  };\n\n  sankey.iterations = function (_) {\n    return arguments.length ? ((iterations = +_), sankey) : iterations;\n  };\n\n  function computeNodeLinks({ nodes, links }) {\n    nodes.forEach((node, idx) => {\n      node.index = idx;\n      node.sourceLinks = [];\n      node.targetLinks = [];\n    });\n\n    const nodeById = new Map(nodes.map((d) => [id(d), d]));\n\n    links.forEach((link, idx) => {\n      link.index = idx;\n      let { source, target } = link;\n      if (typeof source !== 'object') source = link.source = find(nodeById, source);\n      if (typeof target !== 'object') target = link.target = find(nodeById, target);\n      source.sourceLinks.push(link);\n      target.targetLinks.push(link);\n    });\n\n    if (linkSort != null) {\n      for (const { sourceLinks, targetLinks } of nodes) {\n        sourceLinks.sort(linkSort);\n        targetLinks.sort(linkSort);\n      }\n    }\n  }\n\n  function computeNodeValues({ nodes }) {\n    for (const node of nodes) {\n      node.value =\n        node.fixedValue === undefined\n          ? Math.max(sumBy(node.sourceLinks, value), sumBy(node.targetLinks, value))\n          : node.fixedValue;\n    }\n  }\n\n  function computeNodeDepths({ nodes }) {\n    const n = nodes.length;\n    let current = new Set<any>(nodes);\n    let next = new Set();\n    let x = 0;\n    while (current.size) {\n      current.forEach((node) => {\n        node.depth = x;\n        for (const { target } of node.sourceLinks) {\n          next.add(target);\n        }\n      });\n      if (++x > n) throw new Error('circular link');\n      current = next;\n      next = new Set();\n    }\n\n    //  depth depth\n    if (depth) {\n      const maxDepth = Math.max(maxValueBy(nodes, (d: any) => d.depth) + 1, 0);\n\n      let node;\n      for (let i = 0; i < nodes.length; i++) {\n        node = nodes[i];\n        node.depth = depth.call(null, node, maxDepth);\n      }\n    }\n  }\n\n  function computeNodeHeights({ nodes }) {\n    const n = nodes.length;\n    let current = new Set<any>(nodes);\n    let next = new Set();\n    let x = 0;\n    while (current.size) {\n      current.forEach((node) => {\n        node.height = x;\n        for (const { source } of node.targetLinks) {\n          next.add(source);\n        }\n      });\n      if (++x > n) throw new Error('circular link');\n      current = next;\n      next = new Set();\n    }\n  }\n\n  function computeNodeLayers({ nodes }) {\n    const x = Math.max(maxValueBy(nodes, (d: any) => d.depth) + 1, 0);\n    const kx = (x1 - x0 - dx) / (x - 1);\n    const columns = new Array(x).fill(0).map(() => []);\n    for (const node of nodes) {\n      const i = Math.max(0, Math.min(x - 1, Math.floor(align.call(null, node, x))));\n      node.layer = i;\n      node.x0 = x0 + i * kx;\n      node.x1 = node.x0 + dx;\n      if (columns[i]) columns[i].push(node);\n      else columns[i] = [node];\n    }\n    if (sort)\n      for (const column of columns) {\n        column.sort(sort);\n      }\n    return columns;\n  }\n\n  function initializeNodeBreadths(columns) {\n    const ky = minValueBy(columns, (c: any[]) => (y1 - y0 - (c.length - 1) * py) / sumBy(c, value)) as any as number;\n    for (const nodes of columns) {\n      let y = y0;\n      for (const node of nodes) {\n        node.y0 = y;\n        node.y1 = y + node.value * ky;\n        y = node.y1 + py;\n        for (const link of node.sourceLinks) {\n          link.width = link.value * ky;\n        }\n      }\n      y = (y1 - y + py) / (nodes.length + 1);\n      for (let i = 0; i < nodes.length; ++i) {\n        const node = nodes[i];\n        node.y0 += y * (i + 1);\n        node.y1 += y * (i + 1);\n      }\n      reorderLinks(nodes);\n    }\n  }\n\n  function computeNodeBreadths(graph) {\n    const columns = computeNodeLayers(graph);\n    py = Math.min(dy, (y1 - y0) / ((maxValueBy(columns, (c: any[]) => c.length) as any as number) - 1));\n    initializeNodeBreadths(columns);\n    for (let i = 0; i < iterations; ++i) {\n      const alpha = Math.pow(0.99, i);\n      const beta = Math.max(1 - alpha, (i + 1) / iterations);\n      relaxRightToLeft(columns, alpha, beta);\n      relaxLeftToRight(columns, alpha, beta);\n    }\n  }\n\n  // Reposition each node based on its incoming (target) links.\n  function relaxLeftToRight(columns, alpha, beta) {\n    for (let i = 1, n = columns.length; i < n; ++i) {\n      const column = columns[i];\n      for (const target of column) {\n        let y = 0;\n        let w = 0;\n        for (const { source, value } of target.targetLinks) {\n          const v = value * (target.layer - source.layer);\n          y += targetTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        const dy = (y / w - target.y0) * alpha;\n        target.y0 += dy;\n        target.y1 += dy;\n        reorderNodeLinks(target);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      if (column.length) resolveCollisions(column, beta);\n    }\n  }\n\n  // Reposition each node based on its outgoing (source) links.\n  function relaxRightToLeft(columns, alpha, beta) {\n    for (let n = columns.length, i = n - 2; i >= 0; --i) {\n      const column = columns[i];\n      for (const source of column) {\n        let y = 0;\n        let w = 0;\n        for (const { target, value } of source.sourceLinks) {\n          const v = value * (target.layer - source.layer);\n          y += sourceTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        const dy = (y / w - source.y0) * alpha;\n        source.y0 += dy;\n        source.y1 += dy;\n        reorderNodeLinks(source);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      if (column.length) resolveCollisions(column, beta);\n    }\n  }\n\n  function resolveCollisions(nodes, alpha) {\n    const i = nodes.length >> 1;\n    const subject = nodes[i];\n    resolveCollisionsBottomToTop(nodes, subject.y0 - py, i - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, subject.y1 + py, i + 1, alpha);\n    resolveCollisionsBottomToTop(nodes, y1, nodes.length - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, y0, 0, alpha);\n  }\n\n  // Push any overlapping nodes down.\n  function resolveCollisionsTopToBottom(nodes, y, i, alpha) {\n    for (; i < nodes.length; ++i) {\n      const node = nodes[i];\n      const dy = (y - node.y0) * alpha;\n      if (dy > 1e-6) (node.y0 += dy), (node.y1 += dy);\n      y = node.y1 + py;\n    }\n  }\n\n  // Push any overlapping nodes up.\n  function resolveCollisionsBottomToTop(nodes, y, i, alpha) {\n    for (; i >= 0; --i) {\n      const node = nodes[i];\n      const dy = (node.y1 - y) * alpha;\n      if (dy > 1e-6) (node.y0 -= dy), (node.y1 -= dy);\n      y = node.y0 - py;\n    }\n  }\n\n  function reorderNodeLinks({ sourceLinks, targetLinks }) {\n    if (linkSort === undefined) {\n      for (const {\n        source: { sourceLinks },\n      } of targetLinks) {\n        sourceLinks.sort(ascendingTargetBreadth);\n      }\n      for (const {\n        target: { targetLinks },\n      } of sourceLinks) {\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  function reorderLinks(nodes) {\n    if (linkSort === undefined) {\n      for (const { sourceLinks, targetLinks } of nodes) {\n        sourceLinks.sort(ascendingTargetBreadth);\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  // Returns the target.y0 that would produce an ideal link from source to target.\n  function targetTop(source, target) {\n    let y = source.y0 - ((source.sourceLinks.length - 1) * py) / 2;\n    for (const { target: node, width } of source.sourceLinks) {\n      if (node === target) break;\n      y += width + py;\n    }\n    for (const { source: node, width } of target.targetLinks) {\n      if (node === source) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  // Returns the source.y0 that would produce an ideal link from source to target.\n  function sourceTop(source, target) {\n    let y = target.y0 - ((target.targetLinks.length - 1) * py) / 2;\n    for (const { source: node, width } of target.targetLinks) {\n      if (node === source) break;\n      y += width + py;\n    }\n    for (const { target: node, width } of source.sourceLinks) {\n      if (node === target) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  return sankey;\n}\n","import { assign, isString, isFunction } from '@antv/util';\nimport { Datum } from '../../types';\nimport { sankey, left, right, center, justify } from './sankey';\n\nconst ALIGN_METHOD = {\n  left,\n  right,\n  center,\n  justify,\n};\n\ntype InputNode = {\n  readonly name: string;\n};\n\ntype InputLink = {\n  readonly source: number;\n  readonly target: number;\n  readonly value: number;\n};\n\ntype OutputNode = {\n  readonly name: string;\n  readonly x0: number;\n  readonly x1: number;\n  readonly y0: number;\n  readonly y1: number;\n  readonly depth: number;\n  readonly value: number;\n\n  //  polygon\n  x: number[];\n  y: number[];\n};\n\ntype OutputLink = {\n  readonly source: OutputNode;\n  readonly target: OutputNode;\n  readonly value: number;\n  readonly width: number;\n  readonly y0: number;\n  readonly y1: number;\n\n  //  edge\n  x?: number[];\n  y?: number[];\n};\n\n/**\n * \n */\nexport type SankeyLayoutInputData = {\n  readonly nodes: InputNode[];\n  readonly links: InputLink[];\n};\n\ntype SankeyLayoutOutputData = {\n  readonly nodes: OutputNode[];\n  readonly links: OutputLink[];\n};\n\n/**\n * \n */\nexport type NodeAlign = keyof typeof ALIGN_METHOD | Function;\n\n/**\n *  depth \n */\nexport type NodeDepth = (datum: Datum, maxDepth: number) => number;\n\n/**\n * \n */\nexport type NodeSort = (a: Datum, b: Datum) => number;\n\n/**\n * \n */\nexport type SankeyLayoutOptions = {\n  readonly nodeId?: (node: Datum) => any;\n  // readonly value?: (node: Datum) => any;\n  // readonly source?: (edge: Datum) => any;\n  // readonly target?: (edge: Datum) => any;\n  // sankey.nodeSort(undefined) is the default and resorts by ascending breadth during each iteration.\n  // sankey.nodeSort(null) specifies the input order of nodes and never sorts.\n  // sankey.nodeSort(function) specifies the given order as a comparator function and sorts once on initialization.\n  readonly nodeSort?: (a: any, b: any) => number;\n  readonly nodeAlign?: NodeAlign;\n  readonly nodeWidth?: number;\n  readonly nodePadding?: number;\n  readonly nodeDepth?: NodeDepth;\n};\n\n/**\n * \n */\nconst DEFAULT_OPTIONS: Partial<SankeyLayoutOptions> = {\n  nodeId: (node: Datum) => node.index,\n  nodeAlign: 'justify',\n  nodeWidth: 0.008,\n  nodePadding: 0.03,\n  nodeSort: undefined,\n};\n\n/**\n *  align function\n * @param nodeAlign\n * @param nodeDepth\n */\nexport function getNodeAlignFunction(nodeAlign: NodeAlign) {\n  const func = isString(nodeAlign) ? ALIGN_METHOD[nodeAlign] : isFunction(nodeAlign) ? nodeAlign : null;\n\n  return func || justify;\n}\n\nexport function getDefaultOptions(sankeyLayoutOptions: SankeyLayoutOptions) {\n  return assign({}, DEFAULT_OPTIONS, sankeyLayoutOptions);\n}\n\n/**\n * 0 - 1 \n *  data \n * @param sankeyLayoutOptions\n * @param data\n */\nexport function sankeyLayout(\n  sankeyLayoutOptions: SankeyLayoutOptions,\n  data: SankeyLayoutInputData\n): SankeyLayoutOutputData {\n  const options = getDefaultOptions(sankeyLayoutOptions);\n\n  const { nodeId, nodeSort, nodeAlign, nodeWidth, nodePadding, nodeDepth } = options;\n\n  const sankeyProcessor = sankey()\n    // .links((d: any) => d.links)\n    // .nodes((d: any) => d.nodes)\n    .nodeSort(nodeSort)\n    .nodeWidth(nodeWidth)\n    .nodePadding(nodePadding)\n    .nodeDepth(nodeDepth)\n    .nodeAlign(getNodeAlignFunction(nodeAlign))\n    .extent([\n      [0, 0],\n      [1, 1],\n    ])\n    .nodeId(nodeId);\n\n  // \n  const layoutData: SankeyLayoutOutputData = sankeyProcessor(data);\n\n  // post process (x, y), etc.\n  const nodes = layoutData.nodes\n    .map((node) => {\n      const { x0, x1, y0, y1 } = node;\n      /* points\n       * 3---2\n       * |   |\n       * 0---1\n       */\n      node.x = [x0, x1, x1, x0];\n      node.y = [y0, y0, y1, y1];\n\n      return node;\n    })\n    .filter((node) => {\n      return node.name !== null;\n    });\n\n  const links = layoutData.links\n    .map((edge) => {\n      const { source, target } = edge;\n      const sx = source.x1;\n      const tx = target.x0;\n      edge.x = [sx, sx, tx, tx];\n      const offset = edge.width / 2;\n      edge.y = [edge.y0 + offset, edge.y0 - offset, edge.y1 + offset, edge.y1 - offset];\n\n      return edge;\n    })\n    .filter((edge) => {\n      const { source, target } = edge;\n      return source.name !== null && target.name !== null;\n    });\n\n  return { nodes, links };\n}\n","import { isArray } from '@antv/util';\nimport { Data } from '../../types';\n\n/**\n *  edges  node \n */\nexport function getNodes(edges: Data, sourceField: string, targetField: string): string[] {\n  const nodes = [];\n  edges.forEach((e) => {\n    const source = e[sourceField] as string;\n    const target = e[targetField] as string;\n    if (!nodes.includes(source)) {\n      nodes.push(source);\n    }\n    if (!nodes.includes(target)) {\n      nodes.push(target);\n    }\n  });\n  return nodes;\n}\n\n/**\n *  edges  dfs \n */\nexport function getMatrix(\n  edges: Data,\n  nodes: string[],\n  sourceField: string,\n  targetField: string\n): Record<string, Record<string, number>> {\n  const graphMatrix = {};\n\n  nodes.forEach((pre) => {\n    graphMatrix[pre] = {};\n    nodes.forEach((next) => {\n      graphMatrix[pre][next] = 0;\n    });\n  });\n\n  edges.forEach((edge) => {\n    graphMatrix[edge[sourceField]][edge[targetField]] = 1;\n  });\n\n  return graphMatrix;\n}\n\n/**\n *  DFS \n * @param data\n * @param sourceField\n * @param targetField\n */\nexport function cutoffCircle(edges: Data, sourceField: string, targetField: string): Data {\n  if (!isArray(edges)) return [];\n\n  // \n  const removedData = [];\n\n  // \n  const nodes = getNodes(edges, sourceField, targetField);\n  // \n  const graphMatrix = getMatrix(edges, nodes, sourceField, targetField);\n\n  // visited, 0,1, -1\n  const visited = {};\n  // visited\n  nodes.forEach((node) => {\n    visited[node] = 0;\n  });\n\n  // \n  function DFS(dfsNode) {\n    // \n    visited[dfsNode] = 1;\n    nodes.forEach((node) => {\n      if (graphMatrix[dfsNode][node] != 0) {\n        //  removeData\n        if (visited[node] == 1) {\n          // \n          removedData.push(`${dfsNode}_${node}`);\n        } else if (visited[node] == -1) {\n          // \n          return;\n        } else {\n          DFS(node); // \n        }\n      }\n    });\n    //-1\n    visited[dfsNode] = -1;\n  }\n\n  //  dfs \n  nodes.forEach((node) => {\n    //\n    if (visited[node] == -1) {\n      return;\n    }\n    DFS(node);\n  });\n\n  if (removedData.length !== 0) {\n    console.warn(`sankey data contains circle, ${removedData.length} records removed.`, removedData);\n  }\n\n  //  remove \n  return edges.filter((edge) => removedData.findIndex((i) => i === `${edge[sourceField]}_${edge[targetField]}`) < 0);\n}\n","import { isRealNumber, pick } from '../../utils';\nimport { transformDataToNodeLinkData } from '../../utils/data';\nimport { Data } from '../../types';\nimport { sankeyLayout, SankeyLayoutInputData } from './layout';\nimport { cutoffCircle } from './circle';\nimport { SankeyOptions } from './types';\n\n/**\n *  node-link \n * @param dataTyp\n * @returns\n */\nfunction isNodeLink(dataType: string) {\n  return dataType === 'node-link';\n}\n\nexport function getNodeWidthRatio(nodeWidth: number, nodeWidthRatio: number, width: number) {\n  return isRealNumber(nodeWidth) ? nodeWidth / width : nodeWidthRatio;\n}\n\nexport function getNodePaddingRatio(nodePadding: number, nodePaddingRatio: number, height: number) {\n  return isRealNumber(nodePadding) ? nodePadding / height : nodePaddingRatio;\n}\n\n/**\n *  layout view \n * @param options\n * @param width\n * @param height\n */\nexport function transformToViewsData(options: SankeyOptions, width: number, height: number) {\n  const {\n    dataType,\n    data,\n    sourceField,\n    targetField,\n    weightField,\n    nodeAlign,\n    nodeSort,\n    nodePadding,\n    nodePaddingRatio,\n    nodeWidth,\n    nodeWidthRatio,\n    nodeDepth,\n    rawFields = [],\n  } = options;\n\n  let sankeyLayoutInputData: unknown;\n\n  if (!isNodeLink(dataType)) {\n    sankeyLayoutInputData = transformDataToNodeLinkData(\n      cutoffCircle(data as Data, sourceField, targetField),\n      sourceField,\n      targetField,\n      weightField,\n      rawFields\n    );\n  } else {\n    sankeyLayoutInputData = data;\n  }\n\n  // 3. layout \n  const { nodes, links } = sankeyLayout(\n    {\n      nodeAlign,\n      nodePadding: getNodePaddingRatio(nodePadding, nodePaddingRatio, height),\n      nodeWidth: getNodeWidthRatio(nodeWidth, nodeWidthRatio, width),\n      nodeSort,\n      nodeDepth,\n    },\n    sankeyLayoutInputData as SankeyLayoutInputData\n  );\n\n  // 4. \n  return {\n    nodes: nodes.map((node) => {\n      return {\n        ...pick(node, ['x', 'y', 'name', ...rawFields]),\n        isNode: true,\n      };\n    }),\n    edges: links.map((link) => {\n      return {\n        source: link.source.name,\n        target: link.target.name,\n        name: link.source.name || link.target.name,\n        ...pick(link, ['x', 'y', 'value', ...rawFields]),\n        isNode: false,\n      };\n    }),\n  };\n}\n","export const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\nexport const COLOR_FIELD = 'name';\nexport const NODES_VIEW_ID = 'nodes';\nexport const EDGES_VIEW_ID = 'edges';\n","import { uniq } from '@antv/util';\nimport { theme } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findViewById, flow } from '../../utils';\nimport { polygon, edge } from '../../adaptor/geometries';\nimport { transformToViewsData } from './helper';\nimport { SankeyOptions } from './types';\nimport { X_FIELD, Y_FIELD, COLOR_FIELD, EDGES_VIEW_ID, NODES_VIEW_ID } from './constant';\n\n/**\n *  \n * @param params\n */\nfunction defaultOptions(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { options } = params;\n  const { rawFields = [] } = options;\n\n  return deepAssign(\n    {},\n    {\n      options: {\n        tooltip: {\n          fields: uniq(['name', 'source', 'target', 'value', 'isNode', ...rawFields]),\n        },\n        label: {\n          fields: uniq(['x', 'name', ...rawFields]),\n        },\n      },\n    },\n    params\n  );\n}\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { color, nodeStyle, edgeStyle, label, tooltip, nodeState, edgeState } = options;\n\n  // 1.  view \n  chart.legend(false);\n  chart.tooltip(tooltip);\n  chart.axis(false);\n  // y \n  chart.coordinate().reflect('y');\n\n  // 2. node edge views\n  // @ts-ignore\n  const { nodes, edges } = transformToViewsData(options, chart.width, chart.height);\n\n  // edge view\n  const edgeView = chart.createView({ id: EDGES_VIEW_ID });\n  edgeView.data(edges);\n\n  edge({\n    chart: edgeView,\n    // @ts-ignore\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: COLOR_FIELD,\n      edge: {\n        color,\n        style: edgeStyle,\n        shape: 'arc',\n      },\n      tooltip,\n      state: edgeState,\n    },\n  });\n\n  const nodeView = chart.createView({ id: NODES_VIEW_ID });\n  nodeView.data(nodes);\n\n  polygon({\n    chart: nodeView,\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: COLOR_FIELD,\n      polygon: {\n        color,\n        style: nodeStyle,\n      },\n      label,\n      tooltip,\n      state: nodeState,\n    },\n  });\n\n  chart.interaction('element-active');\n\n  // scale\n  chart.scale({\n    x: { sync: true, nice: true, min: 0, max: 1, minLimit: 0, maxLimit: 1 },\n    y: { sync: true, nice: true, min: 0, max: 1, minLimit: 0, maxLimit: 1 },\n    name: { sync: 'color', type: 'cat' },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  view \n  if (typeof animation === 'boolean') {\n    chart.animate(animation);\n  } else {\n    chart.animate(true);\n  }\n\n  const geometries = [...chart.views[0].geometries, ...chart.views[1].geometries];\n\n  //  Geometry \n  geometries.forEach((g) => {\n    g.animate(animation);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function nodeDraggable(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { nodeDraggable } = options;\n\n  const DRAG_INTERACTION = 'sankey-node-draggable';\n\n  if (nodeDraggable) {\n    chart.interaction(DRAG_INTERACTION);\n  } else {\n    chart.removeInteraction(DRAG_INTERACTION);\n  }\n\n  return params;\n}\n\n/**\n * Interaction \n * @param params\n */\nfunction interaction(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { interactions = [] } = options;\n\n  const nodeInteractions = [].concat(interactions, options.nodeInteractions || []);\n  const edgeInteractions = [].concat(interactions, options.edgeInteractions || []);\n\n  const nodeView = findViewById(chart, NODES_VIEW_ID);\n  const edgeView = findViewById(chart, EDGES_VIEW_ID);\n\n  nodeInteractions.forEach((i) => {\n    if (i?.enable === false) {\n      nodeView.removeInteraction(i.type);\n    } else {\n      nodeView.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  edgeInteractions.forEach((i) => {\n    if (i?.enable === false) {\n      edgeView.removeInteraction(i.type);\n    } else {\n      edgeView.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<SankeyOptions>) {\n  // flow  G2 API\n  return flow(\n    defaultOptions,\n    geometry,\n    interaction,\n    nodeDraggable,\n    animation,\n    theme\n    // ...  adaptor flow\n  )(params);\n}\n","import { Action, Element } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Datum, Point } from '../../../../types';\nimport { findViewById } from '../../../../utils';\nimport { EDGES_VIEW_ID, NODES_VIEW_ID } from '../../constant';\n\nexport class SankeyNodeDragAction extends Action {\n  /**\n   * \n   */\n  private isDragging = false;\n\n  /**\n   * \n   */\n  private prevPoint: Point;\n  /**\n   * \n   */\n  private prevNodeAnimateCfg: any;\n  /**\n   * \n   */\n  private prevEdgeAnimateCfg: any;\n  /**\n   *  element \n   */\n  private currentElementIdx: number;\n\n  /**\n   *  element\n   */\n  private isNodeElement() {\n    const shape = get(this.context, 'event.target');\n    if (shape) {\n      const element = shape.get('element');\n      return element && element.getModel().data.isNode;\n    }\n    return false;\n  }\n\n  private getNodeView() {\n    return findViewById(this.context.view, NODES_VIEW_ID);\n  }\n\n  private getEdgeView() {\n    return findViewById(this.context.view, EDGES_VIEW_ID);\n  }\n\n  /**\n   *  index\n   * @param element\n   */\n  private getCurrentDatumIdx(element: Element) {\n    return this.getNodeView().geometries[0].elements.indexOf(element);\n  }\n\n  /**\n   * \n   */\n  public start() {\n    // \n    if (this.isNodeElement()) {\n      this.prevPoint = {\n        x: get(this.context, 'event.x'),\n        y: get(this.context, 'event.y'),\n      };\n\n      const element = this.context.event.target.get('element');\n      const idx = this.getCurrentDatumIdx(element);\n\n      if (idx === -1) {\n        return;\n      }\n\n      this.currentElementIdx = idx;\n      this.context.isDragging = true;\n      this.isDragging = true;\n\n      // \n      this.prevNodeAnimateCfg = this.getNodeView().getOptions().animate;\n      this.prevEdgeAnimateCfg = this.getEdgeView().getOptions().animate;\n      this.getNodeView().animate(false);\n      this.getEdgeView().animate(false);\n    }\n  }\n\n  /**\n   * \n   */\n  public translate() {\n    if (this.isDragging) {\n      const chart = this.context.view;\n\n      const currentPoint = {\n        x: get(this.context, 'event.x'),\n        y: get(this.context, 'event.y'),\n      };\n\n      const x = currentPoint.x - this.prevPoint.x;\n      const y = currentPoint.y - this.prevPoint.y;\n\n      const nodeView = this.getNodeView();\n      const element = nodeView.geometries[0].elements[this.currentElementIdx];\n\n      // \n      if (element && element.getModel()) {\n        const prevDatum: Datum = element.getModel().data;\n        const data = nodeView.getOptions().data;\n        const coordinate = nodeView.getCoordinate();\n\n        const datumGap = {\n          x: x / coordinate.getWidth(),\n          y: y / coordinate.getHeight(),\n        };\n\n        const nextDatum = {\n          ...prevDatum,\n          x: prevDatum.x.map((x: number) => (x += datumGap.x)),\n          y: prevDatum.y.map((y: number) => (y += datumGap.y)),\n        };\n        //  [0, 1] \n\n        // 1.  node \n        const newData = [...data];\n        newData[this.currentElementIdx] = nextDatum;\n        nodeView.data(newData);\n\n        // 2.  edge \n        const name = prevDatum.name;\n        const edgeView = this.getEdgeView();\n        const edgeData = edgeView.getOptions().data;\n\n        edgeData.forEach((datum) => {\n          // 2.1  node  source  [x0, x1, x2, x3]  x0, x1\n          if (datum.source === name) {\n            datum.x[0] += datumGap.x;\n            datum.x[1] += datumGap.x;\n            datum.y[0] += datumGap.y;\n            datum.y[1] += datumGap.y;\n          }\n\n          // 2.2  node  target  [x0, x1, x2, x3]  x2, x3\n          if (datum.target === name) {\n            datum.x[2] += datumGap.x;\n            datum.x[3] += datumGap.x;\n            datum.y[2] += datumGap.y;\n            datum.y[3] += datumGap.y;\n          }\n        });\n        edgeView.data(edgeData);\n\n        // 3. \n        this.prevPoint = currentPoint;\n\n        // node edge  render\n        chart.render(true);\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isDragging = false;\n    this.context.isDragging = false;\n    this.prevPoint = null;\n    this.currentElementIdx = null;\n\n    // \n    this.getNodeView().animate(this.prevNodeAnimateCfg);\n    this.getEdgeView().animate(this.prevEdgeAnimateCfg);\n  }\n}\n","import { registerInteraction, registerAction } from '@antv/g2';\nimport { SankeyNodeDragAction } from './actions/node-drag';\n\nregisterAction('sankey-node-drag', SankeyNodeDragAction);\n\nregisterInteraction('sankey-node-draggable', {\n  showEnable: [\n    { trigger: 'polygon:mouseenter', action: 'cursor:pointer' },\n    { trigger: 'polygon:mouseleave', action: 'cursor:default' },\n  ],\n  start: [{ trigger: 'polygon:mousedown', action: 'sankey-node-drag:start' }],\n  processing: [\n    { trigger: 'plot:mousemove', action: 'sankey-node-drag:translate' },\n    { isEnable: (context) => context.isDragging, trigger: 'plot:mousemove', action: 'cursor:move' },\n  ],\n  end: [{ trigger: 'plot:mouseup', action: 'sankey-node-drag:end' }],\n});\n","import { get } from '@antv/util';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { Data, Datum } from '../../types';\nimport { findViewById } from '../../utils';\nimport { SankeyOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { transformToViewsData } from './helper';\nimport { EDGES_VIEW_ID, NODES_VIEW_ID } from './constant';\n// \nimport './interactions';\n\nexport type { SankeyOptions };\n\n/**\n *   Sankey\n */\nexport class Sankey extends Plot<SankeyOptions> {\n  /**  */\n  public type: string = 'sankey';\n\n  static getDefaultOptions(): Partial<SankeyOptions> {\n    return {\n      appendPadding: 8,\n      syncViewPadding: true,\n      nodeStyle: {\n        opacity: 1,\n        fillOpacity: 1,\n        lineWidth: 1,\n      },\n      edgeStyle: {\n        opacity: 0.3,\n        lineWidth: 0,\n      },\n      edgeState: {\n        active: {\n          style: {\n            opacity: 0.8,\n            lineWidth: 0,\n          },\n        },\n      },\n      label: {\n        formatter: ({ name }) => name,\n        callback: (x: number[]) => {\n          const isLast = x[1] === 1; // \n          return {\n            style: {\n              fill: '#545454',\n              textAlign: isLast ? 'end' : 'start',\n            },\n            offsetX: isLast ? -8 : 8,\n          };\n        },\n        layout: [\n          {\n            type: 'hide-overlap',\n          },\n        ],\n      },\n      tooltip: {\n        showTitle: false,\n        showMarkers: false,\n        shared: false,\n        // node  tooltipedge  tooltip\n        showContent: (items) => {\n          return !get(items, [0, 'data', 'isNode']);\n        },\n        formatter: (datum: Datum) => {\n          const { source, target, value } = datum;\n          return {\n            name: source + ' -> ' + target,\n            value,\n          };\n        },\n      },\n      nodeWidthRatio: 0.008,\n      nodePaddingRatio: 0.01,\n      animation: {\n        appear: {\n          animation: 'wave-in',\n        },\n        enter: {\n          animation: 'wave-in',\n        },\n      },\n    };\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: Data) {\n    this.updateOption({ data });\n\n    const { nodes, edges } = transformToViewsData(this.options, this.chart.width, this.chart.height);\n\n    const nodesView = findViewById(this.chart, NODES_VIEW_ID);\n    const edgesView = findViewById(this.chart, EDGES_VIEW_ID);\n\n    nodesView.changeData(nodes);\n    edgesView.changeData(edges);\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<SankeyOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Sankey.getDefaultOptions();\n  }\n}\n","/*\n * for Arc Diagram (edges without weight) / Chord Diagram (edges with source and target weight)\n * graph data required (nodes, edges)\n */\nimport { assign, forIn, isFunction } from '@antv/util';\nimport { NodeLinkData } from '../../types/relation-data';\n\nconst DEFAULT_OPTIONS: ChordLayoutOptions = {\n  y: 0,\n  nodeWidthRatio: 0.05, // width of the node, (0, 1)\n  weight: false,\n  nodePaddingRatio: 0.1, // margin ratio, [0, 1)\n  id: (node) => node.id,\n  source: (edge) => edge.source,\n  target: (edge) => edge.target,\n  sourceWeight: (edge) => edge.value || 1,\n  targetWeight: (edge) => edge.value || 1,\n  sortBy: null, // optional, id | weight | frequency | {function}\n};\n\nexport type ChordLayoutOptions = {\n  weight?: boolean;\n  y?: number;\n  nodeWidthRatio?: number; // (0, 1)\n  nodePaddingRatio?: number; // [0, 1)\n  id?(node: any): any;\n  source?(edge: any): any;\n  target?(edge: any): any;\n  sourceWeight?(edge: any): number;\n  targetWeight?(edge: any): number;\n  sortBy?: 'id' | 'weight' | 'frequency' | null | ((a: any, b: any) => number);\n};\n\ntype OutputNode = {\n  readonly id: number;\n  readonly name: string;\n  // readonly depth: number;\n  readonly value: number;\n\n  //  polygon\n  x: number[];\n  y: number[];\n};\n\ntype OutputLink = {\n  readonly source: OutputNode;\n  readonly target: OutputNode;\n  readonly value: number;\n\n  //  edge\n  x?: number[];\n  y?: number[];\n};\n\ntype ChordLayoutOutputData = {\n  readonly nodes: OutputNode[];\n  readonly links: OutputLink[];\n};\n\n/**\n * valueedges\n * @param nodeById\n * @param edges\n * @param options\n */\nfunction processGraph(nodeById, edges, options) {\n  forIn(nodeById, (node, id) => {\n    // in edges, out edges\n    node.inEdges = edges.filter((edge) => `${options.target(edge)}` === `${id}`);\n    node.outEdges = edges.filter((edge) => `${options.source(edge)}` === `${id}`);\n    // frequency\n    node.edges = node.outEdges.concat(node.inEdges);\n    node.frequency = node.edges.length;\n    // weight\n    node.value = 0;\n    node.inEdges.forEach((edge) => {\n      node.value += options.targetWeight(edge);\n    });\n    node.outEdges.forEach((edge) => {\n      node.value += options.sourceWeight(edge);\n    });\n  });\n}\n\n/**\n * \n * @param nodes\n * @param options\n */\nfunction sortNodes(nodes, options) {\n  const sortMethods = {\n    weight: (a, b) => b.value - a.value,\n    frequency: (a, b) => b.frequency - a.frequency,\n    id: (a, b) => `${options.id(a)}`.localeCompare(`${options.id(b)}`),\n  };\n  let method = sortMethods[options.sortBy];\n  if (!method && isFunction(options.sortBy)) {\n    method = options.sortBy;\n  }\n  if (method) {\n    nodes.sort(method);\n  }\n}\n\nfunction layoutNodes(nodes, options): OutputNode[] {\n  const len = nodes.length;\n  if (!len) {\n    throw new TypeError(\"Invalid nodes: it's empty!\");\n  }\n  if (options.weight) {\n    const nodePaddingRatio = options.nodePaddingRatio;\n    if (nodePaddingRatio < 0 || nodePaddingRatio >= 1) {\n      throw new TypeError('Invalid nodePaddingRatio: it must be in range [0, 1)!');\n    }\n    const margin = nodePaddingRatio / (2 * len);\n    const nodeWidthRatio = options.nodeWidthRatio;\n    if (nodeWidthRatio <= 0 || nodeWidthRatio >= 1) {\n      throw new TypeError('Invalid nodeWidthRatio: it must be in range (0, 1)!');\n    }\n    let totalValue = 0;\n    nodes.forEach((node) => {\n      totalValue += node.value;\n    });\n    nodes.forEach((node) => {\n      node.weight = node.value / totalValue;\n      node.width = node.weight * (1 - nodePaddingRatio);\n      node.height = nodeWidthRatio;\n    });\n    nodes.forEach((node, index) => {\n      // x\n      let deltaX = 0;\n      for (let i = index - 1; i >= 0; i--) {\n        deltaX += nodes[i].width + 2 * margin;\n      }\n      const minX = (node.minX = margin + deltaX);\n      const maxX = (node.maxX = node.minX + node.width);\n      const minY = (node.minY = options.y - nodeWidthRatio / 2);\n      const maxY = (node.maxY = minY + nodeWidthRatio);\n      node.x = [minX, maxX, maxX, minX];\n      node.y = [minY, minY, maxY, maxY];\n      /* points\n       * 3---2\n       * |   |\n       * 0---1\n       */\n      // node.x = minX + 0.5 * node.width;\n      // node.y = options.y;\n    });\n  } else {\n    const deltaX = 1 / len;\n    nodes.forEach((node, index) => {\n      node.x = (index + 0.5) * deltaX;\n      node.y = options.y;\n    });\n  }\n  return nodes;\n}\n\nfunction locatingEdges(nodeById, edges, options): OutputLink[] {\n  if (options.weight) {\n    const valueById = {};\n    forIn(nodeById, (node, id) => {\n      valueById[id] = node.value;\n    });\n    edges.forEach((edge) => {\n      const sId = options.source(edge);\n      const tId = options.target(edge);\n      const sNode = nodeById[sId];\n      const tNode = nodeById[tId];\n      if (sNode && tNode) {\n        const sValue = valueById[sId];\n        const currentSValue = options.sourceWeight(edge);\n        const sStart = sNode.minX + ((sNode.value - sValue) / sNode.value) * sNode.width;\n        const sEnd = sStart + (currentSValue / sNode.value) * sNode.width;\n        valueById[sId] -= currentSValue;\n\n        const tValue = valueById[tId];\n        const currentTValue = options.targetWeight(edge);\n        const tStart = tNode.minX + ((tNode.value - tValue) / tNode.value) * tNode.width;\n        const tEnd = tStart + (currentTValue / tNode.value) * tNode.width;\n        valueById[tId] -= currentTValue;\n\n        const y = options.y;\n        edge.x = [sStart, sEnd, tStart, tEnd];\n        edge.y = [y, y, y, y];\n        // edgesourcetargetid sourceNodetargetNode\n        edge.source = sNode;\n        edge.target = tNode;\n      }\n    });\n  } else {\n    edges.forEach((edge) => {\n      const sNode = nodeById[options.source(edge)];\n      const tNode = nodeById[options.target(edge)];\n      if (sNode && tNode) {\n        edge.x = [sNode.x, tNode.x];\n        edge.y = [sNode.y, tNode.y];\n        // edgesourcetargetid sourceNodetargetNode\n        edge.source = sNode;\n        edge.target = tNode;\n      }\n    });\n  }\n  return edges;\n}\n\nexport function getDefaultOptions(options: ChordLayoutOptions): ChordLayoutOptions {\n  return assign({}, DEFAULT_OPTIONS, options);\n}\n\nexport function chordLayout(\n  chordLayoutOptions: ChordLayoutOptions,\n  chordLayoutInputData: NodeLinkData\n): ChordLayoutOutputData {\n  const options = getDefaultOptions(chordLayoutOptions);\n  const nodeById = {};\n  const nodes = chordLayoutInputData.nodes;\n  const links = chordLayoutInputData.links;\n  nodes.forEach((node) => {\n    const id = options.id(node);\n    nodeById[id] = node;\n  });\n  processGraph(nodeById, links, options);\n  sortNodes(nodes, options);\n  const outputNodes = layoutNodes(nodes, options);\n  const outputLinks = locatingEdges(nodeById, links, options);\n  return {\n    nodes: outputNodes,\n    links: outputLinks,\n  };\n}\n","import { get } from '@antv/util';\nimport { Datum } from '../../types';\n\nexport const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\nexport const NODE_COLOR_FIELD = 'name';\nexport const EDGE_COLOR_FIELD = 'source';\n\nexport const DEFAULT_OPTIONS = {\n  nodeStyle: {\n    opacity: 1,\n    fillOpacity: 1,\n    lineWidth: 1,\n  },\n  edgeStyle: {\n    opacity: 0.5,\n    lineWidth: 2,\n  },\n  label: {\n    fields: ['x', 'name'],\n    callback: (x: number[], name: string) => {\n      const centerX = (x[0] + x[1]) / 2;\n      const offsetX = centerX > 0.5 ? -4 : 4;\n      return {\n        labelEmit: true,\n        style: {\n          fill: '#8c8c8c',\n        },\n        offsetX,\n        content: name,\n      };\n    },\n  },\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    fields: ['source', 'target', 'value', 'isNode'],\n    // node  tooltip ()edge  tooltip\n    showContent: (items) => {\n      return !get(items, [0, 'data', 'isNode']);\n    },\n    formatter: (datum: Datum) => {\n      const { source, target, value } = datum;\n      return {\n        name: `${source} -> ${target}`,\n        value,\n      };\n    },\n  },\n  interactions: [\n    {\n      type: 'element-active',\n    },\n  ],\n  weight: true,\n  nodePaddingRatio: 0.1,\n  nodeWidthRatio: 0.05,\n};\n","import { Geometry } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { interaction, theme, state } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, pick } from '../../utils';\nimport { polygon, edge } from '../../adaptor/geometries';\nimport { chordLayout } from '../../utils/transform/chord';\nimport { getAllGeometriesRecursively, transformDataToNodeLinkData } from '../../utils';\nimport { ChordOptions } from './types';\nimport { X_FIELD, Y_FIELD, NODE_COLOR_FIELD, EDGE_COLOR_FIELD } from './constant';\n\nfunction transformData(params: Params<ChordOptions>): Params<ChordOptions> {\n  // extnodeGeometry edgeGeometry\n\n  const { options } = params;\n  const { data, sourceField, targetField, weightField, nodePaddingRatio, nodeWidthRatio, rawFields = [] } = options;\n\n  // node link\n  const chordLayoutInputData = transformDataToNodeLinkData(data, sourceField, targetField, weightField);\n\n  const { nodes, links } = chordLayout({ weight: true, nodePaddingRatio, nodeWidthRatio }, chordLayoutInputData);\n\n  // 1. node\n  const nodesData = nodes.map((node) => {\n    return {\n      ...pick(node, ['id', 'x', 'y', 'name', ...rawFields]),\n      isNode: true,\n    };\n  });\n\n  // 2.  edge  \n  const edgesData = links.map((link) => {\n    return {\n      source: link.source.name,\n      target: link.target.name,\n      name: link.source.name || link.target.name,\n      ...pick(link, ['x', 'y', 'value', ...rawFields]),\n      isNode: false,\n    };\n  });\n\n  return {\n    ...params,\n    ext: {\n      ...params.ext,\n      // chordDataextgeometry\n      chordData: { nodesData, edgesData },\n    },\n  };\n}\n\n/**\n * scale\n * @param params \n */\nfunction scale(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.scale({\n    x: { sync: true, nice: true },\n    y: { sync: true, nice: true, max: 1 },\n    [NODE_COLOR_FIELD]: { sync: 'color' },\n    [EDGE_COLOR_FIELD]: { sync: 'color' },\n  });\n  return params;\n}\n\n/**\n * axis\n * @param params \n */\nfunction axis(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * legend\n * @param params \n */\nfunction legend(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.legend(false);\n  return params;\n}\n\n/**\n * tooltip\n * @param params \n */\nfunction tooltip(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  chart.tooltip(tooltip);\n  return params;\n}\n\n/**\n * coordinate\n * @param params \n */\nfunction coordinate(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.coordinate('polar').reflect('y');\n  return params;\n}\n\n/**\n * nodeGeometry\n * @param params \n */\nfunction nodeGeometry(params: Params<ChordOptions>): Params<ChordOptions> {\n  // node view\n  const { chart, options } = params;\n  const { nodesData } = params.ext.chordData;\n  const { nodeStyle, label, tooltip } = options;\n\n  const nodeView = chart.createView();\n  nodeView.data(nodesData);\n\n  // \n  polygon({\n    chart: nodeView,\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: NODE_COLOR_FIELD,\n      polygon: {\n        style: nodeStyle,\n      },\n      label,\n      tooltip,\n    },\n  });\n  return params;\n}\n\n/**\n * edgeGeometry\n * @param params \n */\nfunction edgeGeometry(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { edgesData } = params.ext.chordData;\n  const { edgeStyle, tooltip } = options;\n\n  const edgeView = chart.createView();\n  edgeView.data(edgesData);\n\n  // edge\n  const edgeOptions = {\n    xField: X_FIELD,\n    yField: Y_FIELD,\n    seriesField: EDGE_COLOR_FIELD,\n    edge: {\n      style: edgeStyle,\n      shape: 'arc',\n    },\n    tooltip,\n  };\n  edge({\n    chart: edgeView,\n    options: edgeOptions,\n  });\n  return params;\n}\n\nfunction animation(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  view \n  if (typeof animation === 'boolean') {\n    chart.animate(animation);\n  } else {\n    chart.animate(true);\n  }\n\n  //  Geometry \n  each(getAllGeometriesRecursively(chart), (g: Geometry) => {\n    g.animate(animation);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ChordOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    transformData,\n    coordinate,\n    scale,\n    axis,\n    legend,\n    tooltip,\n    edgeGeometry,\n    nodeGeometry,\n    interaction,\n    state,\n    animation\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { ChordOptions } from './types';\n\nexport type { ChordOptions };\n\n/**\n *   Chord\n */\nexport class Chord extends Plot<ChordOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ChordOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'chord';\n\n  protected getDefaultOptions() {\n    return Chord.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<ChordOptions> {\n    return adaptor;\n  }\n}\n","import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray } from '@antv/util';\nimport { getField, getAllNodes } from './util';\nimport { HierarchyOption } from './types';\n\ntype Options = Omit<HierarchyOption, 'as'> & { as?: [string, string, string] };\n\nconst DEFAULT_OPTIONS: Options = {\n  field: 'value',\n  as: ['x', 'y', 'r'],\n  // \n  sort: (a, b) => b.value - a.value,\n};\n\nexport function pack(data: any, options: Options): any[] {\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 3) {\n    throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ \"x\", \"y\", \"r\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const packLayout = (data) =>\n    d3Hierarchy.pack().size(options.size).padding(options.padding)(\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) => d[field])\n        .sort(options.sort)\n    );\n\n  const root = packLayout(data);\n\n  const x = as[0];\n  const y = as[1];\n  const r = as[2];\n  root.each((node) => {\n    node[x] = node.x;\n    node[y] = node.y;\n    node[r] = node.r;\n  });\n\n  return getAllNodes(root);\n}\n","import { Types } from '@antv/g2';\nimport { pack } from '../../utils/hierarchy/pack';\nimport { deepAssign, pick } from '../../utils';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { resolveAllPadding } from '../../utils/padding';\nimport { CirclePackingOptions } from './types';\n\ninterface TransformDataOptions {\n  data: CirclePackingOptions['data'];\n  rawFields: CirclePackingOptions['rawFields'];\n  enableDrillDown: boolean;\n  hierarchyConfig: CirclePackingOptions['hierarchyConfig'];\n}\n\n/**\n * circle-packing \n * @param options\n */\nexport function transformData(options: TransformDataOptions) {\n  const { data, hierarchyConfig, rawFields = [], enableDrillDown } = options;\n\n  const nodes = pack(data, {\n    ...hierarchyConfig,\n    field: 'value',\n    as: ['x', 'y', 'r'],\n  });\n\n  const result = [];\n  nodes.forEach((node) => {\n    let path = node.data.name;\n    let ancestorNode = { ...node };\n    while (ancestorNode.depth > 1) {\n      path = `${ancestorNode.parent.data?.name} / ${path}`;\n      ancestorNode = ancestorNode.parent;\n    }\n\n    //  depth <= 2  ()\n    if (enableDrillDown && node.depth > 2) {\n      return null;\n    }\n\n    const nodeInfo = deepAssign({}, node.data, {\n      ...pick(node.data, rawFields),\n      path,\n      // : x, y, r, name, depth, height\n      ...node,\n    });\n\n    nodeInfo.ext = hierarchyConfig;\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, rawFields, enableDrillDown };\n\n    result.push(nodeInfo);\n  });\n\n  return result;\n}\n\n/**\n *  padding     finalPadding  finalSize\n * @param params\n */\nexport function resolvePaddingForCircle(\n  padding: Types.ViewPadding,\n  appendPadding: Types.ViewAppendPadding,\n  containerSize: { width: number; height: number }\n) {\n  const tempPadding = resolveAllPadding([padding, appendPadding]);\n  const [top, right, bottom, left] = tempPadding; //  [0, 0, 0, 0]\n  const { width, height } = containerSize;\n\n  //  tempPadding coordinate minSize = circle-packing\n  const wSize = width - (left + right);\n  const hSize = height - (top + bottom);\n  const minSize = Math.min(wSize, hSize); // circle-packing\n\n  //  padding\n  const restWidthPadding = (wSize - minSize) / 2;\n  const restHeightPadding = (hSize - minSize) / 2;\n\n  const finalTop = top + restHeightPadding;\n  const finalRight = right + restWidthPadding;\n  const finalBottom = bottom + restHeightPadding;\n  const finalLeft = left + restWidthPadding;\n\n  const finalPadding = [finalTop, finalRight, finalBottom, finalLeft];\n  const finalSize = minSize < 0 ? 0 : minSize; // \n\n  return { finalPadding, finalSize };\n}\n","import { CirclePackingOptions } from './types';\n\n/**  */\nexport const RAW_FIELDS = ['x', 'y', 'r', 'name', 'value', 'path', 'depth'];\n\nexport const DEFAULT_OPTIONS: Partial<CirclePackingOptions> = {\n  //  name \n  colorField: 'name',\n  autoFit: true,\n  pointStyle: {\n    lineWidth: 0,\n    stroke: '#fff',\n  },\n  // \n  legend: false,\n  hierarchyConfig: {\n    size: [1, 1] as [number, number], // width, height\n    padding: 0,\n  },\n  label: {\n    fields: ['name'],\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    showMarkers: false,\n    showTitle: false,\n  },\n  // \n  drilldown: { enabled: false },\n};\n","import { get } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { point } from '../../adaptor/geometries/point';\nimport { Params } from '../../core/adaptor';\nimport {\n  interaction as baseInteraction,\n  animation,\n  theme,\n  legend,\n  annotation,\n  scale,\n  pattern,\n} from '../../adaptor/common';\nimport { flow, deepAssign } from '../../utils';\nimport { getAdjustAppendPadding, resolveAllPadding } from '../../utils/padding';\nimport { transformData, resolvePaddingForCircle } from './utils';\nimport { CirclePackingOptions } from './types';\nimport { RAW_FIELDS } from './constant';\n\n/**\n *  option\n * @param params\n */\nfunction defaultOptions(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart } = params;\n  const diameter = Math.min(chart.viewBBox.width, chart.viewBBox.height);\n\n  return deepAssign(\n    {\n      options: {\n        size: ({ r }) => r * diameter, // autofitfalse\n      },\n    },\n    params\n  );\n}\n\n/**\n * padding \n * @param params\n */\nfunction padding(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { options, chart } = params;\n  //  padding coordinate \n  const containerSize = chart.viewBBox;\n  const { padding, appendPadding, drilldown } = options;\n\n  let tempAppendPadding = appendPadding;\n  if (drilldown?.enabled) {\n    const appendPaddingByDrilldown = getAdjustAppendPadding(\n      chart.appendPadding,\n      get(drilldown, ['breadCrumb', 'position'])\n    );\n    tempAppendPadding = resolveAllPadding([appendPaddingByDrilldown, appendPadding]);\n  }\n\n  const { finalPadding } = resolvePaddingForCircle(padding, tempAppendPadding, containerSize);\n  chart.padding = finalPadding;\n  chart.appendPadding = 0;\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n  const { padding, appendPadding } = chart;\n  const { color, colorField, pointStyle, hierarchyConfig, sizeField, rawFields = [], drilldown } = options;\n\n  const data = transformData({\n    data: options.data,\n    hierarchyConfig,\n    enableDrillDown: drilldown?.enabled,\n    rawFields,\n  });\n  chart.data(data);\n\n  const containerSize = chart.viewBBox;\n  const { finalSize } = resolvePaddingForCircle(padding, appendPadding, containerSize);\n  // sizeField value  size \n  let circleSize = ({ r }) => r * finalSize; // \n\n  if (sizeField) {\n    circleSize = (d) => d[sizeField] * finalSize; //  r \n  }\n\n  // geometry\n  point(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        sizeField,\n        rawFields: [...RAW_FIELDS, ...rawFields],\n        point: {\n          color,\n          style: pointStyle,\n          shape: 'circle',\n          size: circleSize,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  return flow(\n    scale(\n      {},\n      {\n        //  nice\n        x: { min: 0, max: 1, minLimit: 0, maxLimit: 1, nice: true },\n        y: { min: 0, max: 1, minLimit: 0, maxLimit: 1, nice: true },\n      }\n    )\n  )(params);\n}\n\n/**\n * tooltip \n * @param params\n */\nfunction tooltip(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    //  fields customItems ;  formatter  fields\n    if (!get(tooltip, 'fields')) {\n      tooltipOptions = deepAssign(\n        {},\n        {\n          customItems: (items: Types.TooltipItem[]) =>\n            items.map((item) => {\n              const scales = get(chart.getOptions(), 'scales');\n              const nameFormatter = get(scales, ['name', 'formatter'], (v) => v);\n              const valueFormatter = get(scales, ['value', 'formatter'], (v) => v);\n              return {\n                ...item,\n                name: nameFormatter(item.data.name),\n                value: valueFormatter(item.data.value),\n              };\n            }),\n        },\n        tooltipOptions\n      );\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\n/**\n * , \n * @param params\n */\nfunction axis(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\nfunction adaptorInteraction(options: CirclePackingOptions): CirclePackingOptions {\n  const { drilldown, interactions = [] } = options;\n\n  if (drilldown?.enabled) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          cfg: { drillDownConfig: drilldown, transformData, enableDrillDown: true },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * \n * @param params\n * @returns\n */\nfunction interaction(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n\n  baseInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<CirclePackingOptions>) {\n  return flow(\n    pattern('pointStyle'),\n    defaultOptions,\n    padding,\n    theme,\n    meta,\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { CirclePackingOptions } from './types';\nimport './interactions';\n\nexport type { CirclePackingOptions };\n\n/**\n *  CirclePacking\n * @usage hierarchy, proportions\n */\nexport class CirclePacking extends Plot<CirclePackingOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<CirclePackingOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'circle-packing';\n\n  protected getDefaultOptions() {\n    return CirclePacking.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<CirclePackingOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      this.chart.forceFit(); // g2  changeSizechangeSize  render(true)\n      this.chart.clear();\n      this.execAdaptor(); // padding\n      // \n      this.chart.render(true);\n    }\n  }\n}\n","import { deepAssign } from '../utils';\nimport { Plot, PickOptions } from '../core/plot';\nimport { Adaptor } from '../core/adaptor';\n/**\n *  G2Plot  G2Plot \n * 1. \n * 2. \n * 3. \n * \n *\n * \n *\n * ```ts\n * import { P } from '@antv/g2plot';\n * import { GeoWorldMap, GeoWorldMapOptions } from 'g2plot-geo-world-map';\n *\n * const plot = new P('container', {\n *   geoJson: '',\n *   longitude: '',\n *   latitude: '',\n * }, GeoWorldMap, defaultOptions);\n *\n * plot.render();\n * ```\n */\nexport class P<O extends PickOptions> extends Plot<O> {\n  /**  any plot */\n  public readonly type = 'g2-plot';\n\n  /**  defaultOptions */\n  private defaultOptions: Partial<O>;\n\n  /**  adaptor  */\n  private adaptor: Adaptor<O>;\n\n  /**\n   *  adaptor \n   * @param container\n   * @param options\n   * @param adaptor\n   * @param defaultOptions\n   */\n  constructor(container: string | HTMLElement, options: O, adaptor: Adaptor<O>, defaultOptions?: Partial<O>) {\n    super(container, deepAssign({}, defaultOptions, options));\n\n    this.defaultOptions = defaultOptions;\n    this.adaptor = adaptor;\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions() {\n    return this.defaultOptions;\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<O> {\n    return this.adaptor;\n  }\n}\n","import { View } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { deepAssign } from '../../utils';\nimport { adaptor as lineAdaptor } from '../line/adaptor';\nimport { adaptor as pieAdaptor } from '../pie/adaptor';\nimport { adaptor as columnAdaptor } from '../column/adaptor';\nimport { adaptor as barAdaptor } from '../bar/adaptor';\nimport { adaptor as areaAdaptor } from '../area/adaptor';\nimport { adaptor as gaugeAdaptor } from '../gauge/adaptor';\nimport { adaptor as tinyLineAdaptor } from '../tiny-line/adaptor';\nimport { adaptor as tinyColumnAdaptor } from '../tiny-column/adaptor';\nimport { adaptor as tinyAreaAdaptor } from '../tiny-area/adaptor';\nimport { adaptor as ringProgressAdaptor } from '../ring-progress/adaptor';\nimport { adaptor as progressAdaptor } from '../progress/adaptor';\nimport { adaptor as scatterAdaptor } from '../scatter/adaptor';\nimport { adaptor as histogramAdaptor } from '../histogram/adaptor';\nimport { adaptor as funnelAdaptor } from '../funnel/adaptor';\nimport { adaptor as stockAdaptor } from '../stock/adaptor';\nimport { Line, LineOptions } from '../line';\nimport { Pie, PieOptions } from '../pie';\nimport { Bar, BarOptions } from '../bar';\nimport { Column, ColumnOptions } from '../column';\nimport { Area, AreaOptions } from '../area';\nimport { Gauge, GaugeOptions } from '../gauge';\nimport { TinyLine, TinyLineOptions } from '../tiny-line';\nimport { TinyArea, TinyAreaOptions } from '../tiny-area';\nimport { TinyColumn, TinyColumnOptions } from '../tiny-column';\nimport { RingProgress, RingProgressOptions } from '../ring-progress';\nimport { Progress, ProgressOptions } from '../progress';\nimport { Scatter, ScatterOptions } from '../scatter';\nimport { Histogram, HistogramOptions } from '../histogram';\nimport { Funnel, FunnelOptions } from '../funnel';\nimport { Stock, StockOptions } from '../stock';\nimport { Options } from '../../types';\n\n/**\n *  options  widthheight ,  options  data \n */\ntype PlotOptions<T> = Omit<T, 'width' | 'height' | 'data'> & Partial<Pick<T extends Options ? T : never, 'data'>>;\n\n/**\n * multi-view  plots  options \n */\nexport type IPlotTypes =\n  | {\n      /**\n       * plot \n       */\n      readonly type: 'line';\n      /**\n       * plot \n       */\n      readonly options: PlotOptions<LineOptions>;\n    }\n  | {\n      readonly type: 'pie';\n      readonly options: PlotOptions<PieOptions>;\n    }\n  | {\n      readonly type: 'bar';\n      readonly options: PlotOptions<BarOptions>;\n    }\n  | {\n      readonly type: 'column';\n      readonly options: PlotOptions<ColumnOptions>;\n    }\n  | {\n      readonly type: 'area';\n      readonly options: PlotOptions<AreaOptions>;\n    }\n  | {\n      readonly type: 'gauge';\n      readonly options: PlotOptions<GaugeOptions>;\n    }\n  | {\n      readonly type: 'tiny-line';\n      readonly options: PlotOptions<TinyLineOptions>;\n    }\n  | {\n      readonly type: 'tiny-area';\n      readonly options: PlotOptions<TinyAreaOptions>;\n    }\n  | {\n      readonly type: 'tiny-column';\n      readonly options: PlotOptions<TinyColumnOptions>;\n    }\n  | {\n      readonly type: 'ring-progress';\n      readonly options: PlotOptions<RingProgressOptions>;\n    }\n  | {\n      readonly type: 'progress';\n      readonly options: PlotOptions<ProgressOptions>;\n    }\n  | {\n      readonly type: 'histogram';\n      readonly options: PlotOptions<HistogramOptions>;\n    }\n  | {\n      readonly type: 'scatter';\n      readonly options: PlotOptions<ScatterOptions>;\n    }\n  | {\n      readonly type: 'funnel';\n      readonly options: PlotOptions<FunnelOptions>;\n    }\n  | {\n      readonly type: 'stock';\n      readonly options: PlotOptions<StockOptions>;\n    };\n\n/**\n *  multi-view  plots\n */\nconst PLOT_ADAPTORS = {\n  line: lineAdaptor,\n  pie: pieAdaptor,\n  column: columnAdaptor,\n  bar: barAdaptor,\n  area: areaAdaptor,\n  gauge: gaugeAdaptor,\n  'tiny-line': tinyLineAdaptor,\n  'tiny-column': tinyColumnAdaptor,\n  'tiny-area': tinyAreaAdaptor,\n  'ring-progress': ringProgressAdaptor,\n  progress: progressAdaptor,\n  scatter: scatterAdaptor,\n  histogram: histogramAdaptor,\n  funnel: funnelAdaptor,\n  stock: stockAdaptor,\n};\n\n/**\n *  plot  class contructor\n * @param {string} plot\n */\nconst PLOT_CONSTRUCTOR = {\n  line: Line,\n  pie: Pie,\n  column: Column,\n  bar: Bar,\n  area: Area,\n  gauge: Gauge,\n  'tiny-line': TinyLine,\n  'tiny-column': TinyColumn,\n  'tiny-area': TinyArea,\n  'ring-progress': RingProgress,\n  progress: Progress,\n  scatter: Scatter,\n  histogram: Histogram,\n  funnel: Funnel,\n  stock: Stock,\n};\n\n/**\n *  mix  facet defaultOptions \n */\nconst DEFAULT_OPTIONS_MAP = {\n  pie: { label: false },\n  column: { tooltip: { showMarkers: false } },\n  bar: { tooltip: { showMarkers: false } },\n};\n\n/**\n *  plot  adaptor,  defaultOptions\n * @param {string} plot\n */\nexport function execPlotAdaptor<T extends IPlotTypes['type']>(\n  plot: T,\n  view: View,\n  options: IPlotTypes['options']\n): void {\n  const cls = PLOT_CONSTRUCTOR[plot];\n  if (!cls) {\n    console.error(`could not find ${plot} plot`);\n    return;\n  }\n  const module = PLOT_ADAPTORS[plot];\n  module({\n    chart: view,\n    options: deepAssign({}, cls.getDefaultOptions(), get(DEFAULT_OPTIONS_MAP, plot, {}), options),\n  });\n}\n","import { each } from '@antv/util';\nimport { Geometry } from '@antv/g2';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { interaction, animation, theme, tooltip, annotation } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { PLOT_CONTAINER_OPTIONS } from '../../core/plot';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { deepAssign, flow, pick } from '../../utils';\nimport { Axis } from '../../types/axis';\nimport { Legend } from '../../types/legend';\nimport { Interaction } from '../../types/interaction';\nimport { MixOptions, IView, IGeometry } from './types';\nimport { execPlotAdaptor } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction multiView(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n  const { views, legend } = options;\n\n  each(views, (v: IView) => {\n    const { region, data, meta, axes, coordinate, interactions, annotations, tooltip, geometries } = v;\n\n    // 1.  view\n    const viewOfG2 = chart.createView({\n      region,\n    });\n\n    // 2. data\n    viewOfG2.data(data);\n\n    // 3. meta\n    let scales: Record<string, any> = {};\n    if (axes) {\n      each(axes, (axis: Axis, field: string) => {\n        scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n      });\n    }\n\n    scales = deepAssign({}, meta, scales);\n    viewOfG2.scale(scales);\n\n    // 4. x y axis\n    if (!axes) {\n      viewOfG2.axis(false);\n    } else {\n      each(axes, (axis: Axis, field: string) => {\n        viewOfG2.axis(field, axis);\n      });\n    }\n\n    // 5. coordinate\n    viewOfG2.coordinate(coordinate);\n\n    // 6. geometry\n    each(geometries, (geometry: IGeometry) => {\n      const { ext } = geometryAdaptor({\n        chart: viewOfG2,\n        options: geometry,\n      });\n\n      // adjust\n      const { adjust } = geometry;\n      if (adjust) {\n        ext.geometry.adjust(adjust);\n      }\n    });\n\n    // 7. interactions\n    each(interactions, (interaction: Interaction) => {\n      if (interaction.enable === false) {\n        viewOfG2.removeInteraction(interaction.type);\n      } else {\n        viewOfG2.interaction(interaction.type, interaction.cfg);\n      }\n    });\n\n    // 8. annotations\n    each(annotations, (annotation) => {\n      viewOfG2.annotation()[annotation.type]({\n        ...annotation,\n      });\n    });\n\n    // 9. animation ()\n    if (typeof v.animation === 'boolean') {\n      viewOfG2.animate(false);\n    } else {\n      viewOfG2.animate(true);\n      // 9.1  Geometry todo \n      each(viewOfG2.geometries, (g: Geometry) => {\n        g.animate(v.animation);\n      });\n    }\n\n    if (tooltip) {\n      // 10. tooltip\n      viewOfG2.interaction('tooltip');\n      viewOfG2.tooltip(tooltip);\n    }\n  });\n\n  // legend\n  if (!legend) {\n    chart.legend(false);\n  } else {\n    each(legend, (l: Legend, field: string) => {\n      chart.legend(field, l);\n    });\n  }\n\n  // tooltip\n  chart.tooltip(options.tooltip);\n  return params;\n}\n\n/**\n *  g2plot \n * @param params\n */\nfunction multiPlot(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n  const { plots, data = [] } = options;\n\n  each(plots, (plot) => {\n    const { type, region, options = {}, top } = plot;\n    const { tooltip } = options;\n\n    if (top) {\n      execPlotAdaptor(type, chart, { ...options, data });\n      return;\n    }\n\n    const viewOfG2 = chart.createView({ region, ...pick(options, PLOT_CONTAINER_OPTIONS) });\n    if (tooltip) {\n      //  tooltip \n      viewOfG2.interaction('tooltip');\n    }\n\n    execPlotAdaptor(type, viewOfG2, { data, ...options });\n  });\n\n  return params;\n}\n\n/**\n *  adaptor (mix)\n * @param params\n */\nexport function slider(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n\n  chart.option('slider', options.slider);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<MixOptions>) {\n  return flow(\n    animation, //  view \n    multiView,\n    multiPlot,\n    interaction,\n    animation,\n    theme,\n    tooltip,\n    slider,\n    annotation()\n    // ...  adaptor flow\n  )(params);\n}\n","import { View, Element } from '@antv/g2';\nimport { each, isArray } from '@antv/util';\nimport { getAllElements } from '../../../utils';\n\n/**\n * \n * @param element \n * @param field \n * @ignore\n */\nexport function getElementValue(element: Element, field) {\n  const model = element.getModel();\n  const record = model.data;\n  let value;\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n  return value;\n}\n\n/**\n * @ignore\n *  highlight \n * @param view View  Chart\n */\nexport function clearHighlight(view: View) {\n  const elements = getAllElements(view);\n  each(elements, (el) => {\n    if (el.hasState('active')) {\n      el.setState('active', false);\n    }\n    if (el.hasState('selected')) {\n      el.setState('selected', false);\n    }\n    if (el.hasState('inactive')) {\n      el.setState('inactive', false);\n    }\n  });\n}\n","import { each, get, map, isArray } from '@antv/util';\nimport { registerAction, registerInteraction, View, Element, Action } from '@antv/g2';\nimport { getAllElements, getViews, getSiblingViews } from '../../../utils';\nimport { clearHighlight, getElementValue } from './utils';\n\ntype EventItem = { element: Element; view: View; active: boolean; inactive: boolean };\ntype ActionParams = { linkField?: string; dim?: 'x' | 'y' };\n/**\n *  view view \n *\n *  actionlinkField dim \n * 1. showTooltip\n * 2. active\n * 3. highlight\n * 4. selected\n *\n *  action\n * 1. hidetooltip\n * 2. reset \n */\nclass Association extends Action {\n  /**\n   *  elements\n   *\n   * -  dim  dim  field linkField  return\n   * -  dim  linkField \n   * -  linkField \n   * @returns EventItem[]\n   */\n  private getAssociationItems(views: View[], params?: ActionParams): EventItem[] {\n    const { event } = this.context;\n    const { linkField, dim } = params || {};\n\n    const items = [];\n\n    if (event.data?.data) {\n      const { data } = event.data;\n      each(views, (v: View) => {\n        let field = linkField;\n        if (dim === 'x') {\n          field = v.getXScale().field;\n        } else if (dim === 'y') {\n          field = v.getYScales().find((s) => s.field === field)?.field;\n        } else if (!field) {\n          field = v.getGroupScales()[0]?.field;\n        }\n        if (!field) {\n          return;\n        }\n        const elements = map(getAllElements(v), (ele) => {\n          let active = false;\n          let inactive = false;\n          const dataValue = isArray(data) ? get(data[0], field) : get(data, field);\n          if (getElementValue(ele, field) === dataValue) {\n            active = true;\n          } else {\n            inactive = true;\n          }\n          return { element: ele, view: v, active, inactive };\n        });\n        items.push(...elements);\n      });\n    }\n\n    return items;\n  }\n\n  /**\n   *  tooltip \n   */\n  public showTooltip(params?: ActionParams) {\n    const siblings = getSiblingViews(this.context.view);\n    const elements = this.getAssociationItems(siblings, params);\n\n    each(elements, (ele) => {\n      if (ele.active) {\n        const box = ele.element.shape.getCanvasBBox();\n        ele.view.showTooltip({ x: box.minX + box.width / 2, y: box.minY + box.height / 2 });\n      }\n    });\n  }\n\n  /**\n   *  tooltip\n   */\n  public hideTooltip() {\n    const siblings = getSiblingViews(this.context.view);\n    each(siblings, (sibling) => {\n      sibling.hideTooltip();\n    });\n  }\n\n  /**\n   *  active \n   */\n  public active(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { active, element } = item;\n      if (active) {\n        element.setState('active', true);\n      }\n    });\n  }\n\n  /**\n   *  selected \n   */\n  public selected(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { active, element } = item;\n      if (active) {\n        element.setState('selected', true);\n      }\n    });\n  }\n\n  /**\n   *  =>  inactive \n   */\n  public highlight(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { inactive, element } = item;\n      if (inactive) {\n        element.setState('inactive', true);\n      }\n    });\n  }\n\n  public reset() {\n    const views = getViews(this.context.view);\n    each(views, (v) => {\n      clearHighlight(v);\n    });\n  }\n}\n\nregisterAction('association', Association);\n\n/**\n *  view  active  tooltip \n */\nregisterInteraction('association-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  active  tooltip \n */\nregisterInteraction('association-selected', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:selected' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  highlight ,  element\n */\nregisterInteraction('association-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  tooltip  groupField  tooltip \n */\nregisterInteraction('association-tooltip', {\n  start: [{ trigger: 'element:mousemove', action: 'association:showTooltip' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:hideTooltip' }],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { MixOptions } from './types';\nimport { adaptor } from './adaptor';\nimport './interactions';\n\nexport type { MixOptions };\n\n/**\n *  G2 80% \n * 1. \n *   -  + \n *   - \n *   - ...\n * 2. \n *   - \n *   - \n *   - ...\n */\nexport class Mix extends Plot<MixOptions> {\n  /**  */\n  public type: string = 'mix';\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<MixOptions> {\n    return adaptor;\n  }\n}\n","import { Geometry, View } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { pick, deepAssign } from '../../utils';\nimport { Axis, Interaction } from '../../types';\nimport { IView } from './types';\n\n/**\n *\n * @param params  \n * @returns facet eachView  view \n */\nexport function execViewAdaptor(viewOfG2: View, options: IView): void {\n  const { data, coordinate, interactions, annotations, animation, tooltip, axes, meta, geometries } = options;\n\n  // 1. data, optional\n  if (data) {\n    viewOfG2.data(data);\n  }\n\n  // 2. meta \n  let scales: Record<string, any> = {};\n  if (axes) {\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n  }\n\n  scales = deepAssign({}, meta, scales);\n  viewOfG2.scale(scales);\n\n  // 3. coordinate  ()\n  if (coordinate) {\n    viewOfG2.coordinate(coordinate);\n  }\n\n  // 4. axis  ( false )\n  if (axes === false) {\n    viewOfG2.axis(false);\n  } else {\n    each(axes, (axis: Axis, field: string) => {\n      viewOfG2.axis(field, axis);\n    });\n  }\n\n  each(geometries, (geometry) => {\n    // Geometry\n    const { ext } = geometryAdaptor({\n      chart: viewOfG2,\n      options: geometry,\n    });\n\n    // Geometry adjust\n    const { adjust } = geometry;\n    if (adjust) {\n      ext.geometry.adjust(adjust);\n    }\n  });\n\n  // 5. interactions\n  each(interactions, (interaction: Interaction) => {\n    if (interaction.enable === false) {\n      viewOfG2.removeInteraction(interaction.type);\n    } else {\n      viewOfG2.interaction(interaction.type, interaction.cfg);\n    }\n  });\n  // 6. annotations\n  each(annotations, (annotation) => {\n    viewOfG2.annotation()[annotation.type]({\n      ...annotation,\n    });\n  });\n\n  // 7. animation ()\n  if (typeof animation === 'boolean') {\n    viewOfG2.animate(false);\n  } else {\n    viewOfG2.animate(true);\n    //  Geometry todo \n    each(viewOfG2.geometries, (g: Geometry) => {\n      g.animate(animation);\n    });\n  }\n\n  if (tooltip) {\n    // 8. tooltip\n    viewOfG2.interaction('tooltip');\n    viewOfG2.tooltip(tooltip);\n  } else if (tooltip === false) {\n    viewOfG2.removeInteraction('tooltip');\n  }\n}\n","import { each, omit } from '@antv/util';\nimport { theme } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { pick, flow, deepAssign } from '../../utils';\nimport { Axis, Interaction } from '../../types';\nimport { execPlotAdaptor } from '../mix/utils';\nimport { FacetOptions, IPlot, IView } from './types';\nimport { execViewAdaptor } from './utils';\n\nfunction facetAdaptor(params: Params<FacetOptions>): Params<FacetOptions> {\n  const { chart, options } = params;\n  const { type: facetType, data, fields, eachView } = options;\n\n  const restFacetCfg = omit(options as any, [\n    'type',\n    'data',\n    'fields',\n    'eachView',\n    'axes',\n    'meta',\n    'tooltip',\n    'coordinate',\n    'theme',\n    'legend',\n    'interactions',\n    'annotations',\n  ]);\n\n  // 1. data\n  chart.data(data);\n\n  // 2. facet\n  chart.facet(facetType, {\n    ...restFacetCfg,\n    fields,\n    eachView: (viewOfG2, facet) => {\n      const viewOptions = eachView(viewOfG2, facet);\n      if ((viewOptions as IView).geometries) {\n        execViewAdaptor(viewOfG2, viewOptions as IView);\n      } else {\n        const plot = viewOptions as IPlot;\n        const plotOptions = plot.options;\n        // @ts-ignore  tooltip\n        if (plotOptions.tooltip) {\n          //  tooltip \n          viewOfG2.interaction('tooltip');\n        }\n        execPlotAdaptor(plot.type, viewOfG2, plotOptions);\n      }\n    },\n  });\n\n  return params;\n}\n\nfunction component(params: Params<FacetOptions>): Params<FacetOptions> {\n  const { chart, options } = params;\n  const { axes, meta, tooltip, coordinate, theme, legend, interactions, annotations } = options;\n\n  // 3. meta \n  let scales: Record<string, any> = {};\n  if (axes) {\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n  }\n\n  scales = deepAssign({}, meta, scales);\n  chart.scale(scales);\n\n  // 4. coordinate \n  chart.coordinate(coordinate);\n\n  // 5. axis  ()\n  if (!axes) {\n    chart.axis(false);\n  } else {\n    each(axes, (axis: Axis, field: string) => {\n      chart.axis(field, axis);\n    });\n  }\n\n  // 6. tooltip \n  if (tooltip) {\n    chart.interaction('tooltip');\n    chart.tooltip(tooltip);\n  } else if (tooltip === false) {\n    chart.removeInteraction('tooltip');\n  }\n\n  // 7. legend \n  chart.legend(legend);\n\n  // theme \n  if (theme) {\n    chart.theme(theme);\n  }\n\n  // 8. interactions\n  each(interactions, (interaction: Interaction) => {\n    if (interaction.enable === false) {\n      chart.removeInteraction(interaction.type);\n    } else {\n      chart.interaction(interaction.type, interaction.cfg);\n    }\n  });\n\n  // 9. annotations\n  each(annotations, (annotation) => {\n    chart.annotation()[annotation.type]({\n      ...annotation,\n    });\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<FacetOptions>) {\n  // flow  G2 API\n  return flow(theme, facetAdaptor, component)(params);\n}\n","/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  title: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n  rowTitle: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n  columnTitle: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n};\n","import { Mix } from './plots/mix';\n\n/**  */\nexport enum Stage {\n  DEV = 'DEV',\n  BETA = 'BETA',\n  STABLE = 'STABLE',\n}\n\n/**\n * \n * @param stage\n */\nexport function notice(stage: Stage, plotType: string) {\n  console.warn(\n    stage === Stage.DEV\n      ? `Plot '${plotType}' is in DEV stage, just give us issues.`\n      : stage === Stage.BETA\n      ? `Plot '${plotType}' is in BETA stage, DO NOT use it in production env.`\n      : stage === Stage.STABLE\n      ? `Plot '${plotType}' is in STABLE stage, import it by \"import { ${plotType} } from '@antv/g2plot'\".`\n      : 'invalid Stage type.'\n  );\n}\n\n/**\n * \n */\nexport class Lab {\n  static get MultiView() {\n    notice(Stage.STABLE, 'MultiView');\n    return Mix;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { FacetOptions } from './types';\n\nexport type { FacetOptions };\n\nexport class Facet extends Plot<FacetOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<FacetOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'area';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Facet.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<FacetOptions> {\n    return adaptor;\n  }\n}\n","import { render } from \"./DashboardView.vue?vue&type=template&id=22cf2615&scoped=true\"\nimport script from \"./DashboardView.vue?vue&type=script&lang=js\"\nexport * from \"./DashboardView.vue?vue&type=script&lang=js\"\n\nimport \"./DashboardView.vue?vue&type=style&index=0&id=22cf2615&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\chainta\\\\Documents\\\\Django\\\\medata-frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-22cf2615\"]])\n\nexport default __exports__"],"names":["useMergedState","defaultStateValue","option","_ref","defaultValue","_ref$value","value","ref","initValue","undefined","unref","innerValue","mergedValue","triggerChange","newValue","preVal","toRaw","onChange","watchEffect","val","postState","watch","useState","withInstall","Col","Row","spaceSize","small","middle","large","spaceProps","prefixCls","String","size","type","Number","Array","direction","PropTypes","tuple","def","align","wrap","Boolean","default","getNumberSize","Space","defineComponent","name","props","slots","setup","_useConfigInject","useConfigInject","space","directionConfig","supportFlexGap","useFlexGapSupport","computed","_a","_b","_c","horizontalSize","verticalSize","_map","isArray","map","item","_map2","_slicedToArray","immediate","mergedAlign","cn","_classNames","classNames","concat","_defineProperty","marginDirection","style","gapStyle","columnGap","rowGap","_extends","flexWrap","marginBottom","_props$direction","items","filterEmpty","call","len","length","split","itemClassName","horizontalSizeVal","latestIndex","_createVNode","child","index","itemStyle","paddingBottom","_Fragment","navigator","window","agent","userAgent","vendor","opera","test","substr","global","factory","exports","this","arr","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","push","err","TypeError","points","data","x","y","sort","filter","d","u","v","isFinite","a","b","xv","yv","n","X","Float64Array","Y","ux","uy","visitPoints","cb","iterations","dx","dy","determination","uY","predict","SSE","SST","sse","sst","angle","line","Math","atan2","PI","midpoint","interpose","xmin","xmax","l","log","LOG10E","precision","pow","maxIter","px","iter","find","found","p0","p1","m","mp","a0","a1","abs","splice","ols","uX","uXY","uX2","delta","slope","intercept","exponential","domain","YL","XY","XYL","X2Y","Infinity","ly","xy","_ols","_ols2","exp","fn","out","rSquared","arguments","linear","X2","median","floor","maxiters","epsilon","loess","bandwidth","_points","_points2","bw","max","yhat","residuals","robustWeights","fill","interval","i0","i1","edge","W","denom","k","xk","yk","w","tricube","xkw","updateInterval","medianResidual","arg","_w","output","left","right","cnt","prev","logarithmic","base","E","lb","lx","quad","quadratic","x2","X3","X4","n0","X2X2","c","polynomial","order","o","coefficients","_o","j","lhs","rhs","coef","gaussianElimination","uncenter","z","matrix","r","t","power","YS","regressionExp","regressionLinear","regressionLoess","regressionLog","regressionPoly","regressionPow","regressionQuad","Object","defineProperty","bisect","f","parameters","maxIterations","tolerance","fA","fB","mid","fMid","zeros","zerosM","dot","ret","norm2","sqrt","scale","weightedSum","w1","v1","w2","v2","nelderMead","x0","maxDiff","nonZeroDelta","zeroDelta","minErrorDelta","minTolerance","rho","chi","psi","sigma","N","simplex","fx","id","point","slice","updateSimplex","sortOrder","centroid","reflected","contracted","expanded","iteration","history","sortedSimplex","state","worst","shouldReduce","wolfeLineSearch","pk","current","c1","c2","phi0","phiPrime0","fxprime","phi","phi_old","phiPrime","zoom","a_lo","a_high","phi_lo","conjugateGradient","initial","params","temp","alpha","delta_k","beta_k","gradientDescent","learnRate","gradientDescentLineSearch","functionCalls","inner","self","module","isNumber","findMin","curr","min","findMax","findMinMulti","findMaxMulti","inside","DEFAULT_SIZE","DEFAULT_WIDTH","LN_2","helper","require","kernel","generatePartialAreas","width","partialAreas","accumulator","getUnifiedMinMax","options","getUnifiedMinMaxMulti","arrMulti","relaxMin","relaxMax","range","step","create","normalizedMinMax","buckets","xToBucket","partialArea","fullArea","initalValue","forEach","bucket","start","end","leftBlockCount","rightBlockCount","spilledAreaLeft","spilledAreaRight","weight","startGradPos","gradAccumulator","area","getExpectedValueFromPdf","pdf","expected","obj","getXWithLeftTailArea","last","getPerplexity","entropy","ln","SensorTabIndex","SensorClassName","SizeSensorId","_default","delay","timer","_this","_len","args","_key","clearTimeout","setTimeout","apply","_sensorPool","bind","element","sensor","getSensor","unbind","clear","removeSensor","ver","_id","_interopRequireDefault","_sensors","_constant","__esModule","Sensors","sensorId","getAttribute","newId","setAttribute","createSensor","removeAttribute","destroy","_object","_resizeObserver","ResizeObserver","_debounce","listeners","newSensor","getComputedStyle","position","document","createElement","onload","contentDocument","defaultView","addEventListener","resizeListener","display","top","height","overflow","pointerEvents","zIndex","opacity","appendChild","listener","indexOf","parentNode","removeEventListener","removeChild","idx","s","observe","disconnect","download","response","blob","Blob","fileName","href","URL","createObjectURL","body","click","revokeObjectURL","msSaveBlob","getGroups","Promise","resolve","reject","groupList","store","axios","then","results","group","label","catch","error","addPatient","getPatients","updatePatient","addTestByName","getTestsByPatientId","updateTestByName","getSummary","getCountByMonth","getAgeByGroup","getExportFile","responseType","headers","Cookies","config","token","Authorization","class","_createElementVNode","_createElementBlock","_component_a_space","_component_a_row","gutter","_component_a_col","span","_component_a_card","loading","_ctx","_renderList","key","_createBlock","_component_a_statistic","title","suffix","M","F","toFixed","_hoisted_5","g","replaceAll","MAX_SAFE_INTEGER","nativeFloor","baseRepeat","string","result","castSlice","array","baseSlice","rsAstralRange","rsComboMarksRange","reComboHalfMarksRange","rsComboSymbolsRange","rsComboRange","rsVarRange","rsZWJ","reHasUnicode","RegExp","hasUnicode","asciiSize","baseProperty","rsAstral","rsCombo","rsFitz","rsModifier","rsNonAstral","rsRegional","rsSurrPair","reOptMod","rsOptVar","rsOptJoin","join","rsSeq","rsSymbol","reUnicode","unicodeSize","lastIndex","stringSize","asciiToArray","unicodeToArray","match","stringToArray","nativeCeil","ceil","createPadding","chars","baseToString","charsLength","padEnd","toString","toInteger","strLength","StatisticNumber","valueNode","formatter","decimalSeparator","_props$groupSeparator","groupSeparator","cells","negative","int","decimal","replace","displayName","skeletonTitleProps","SkeletonTitle","zWidth","skeletonParagraphProps","rows","SkeletonParagraph","getWidth","_props$rows","rowList","_toConsumableArray","_","Element","_classNames2","shape","sizeCls","shapeCls","sizeStyle","lineHeight","skeletonProps","active","avatar","paragraph","round","getComponentProps","prop","_typeof","getAvatarBasicProps","hasTitle","hasParagraph","getTitleBasicProps","hasAvatar","getParagraphBasicProps","basicProps","Skeleton","initDefaultProps","pre","avatarNode","contentNode","avatarProps","$title","paragraphNode","titleProps","Title","paragraphProps","Paragraph","cls","statisticProps","format","valueStyle","valueRender","prefix","_f","_g","_props$value","_objectSpread","Date","now","padStart","timeUnits","formatTimeStr","duration","leftDuration","escapeRegex","keepList","str","templateText","replacedText","reduce","_ref2","unit","formatCountdown","_config$format","target","getTime","diff","REFRESH_INTERVAL","countdownProps","onFinish","Function","emit","countdownId","statistic","syncTimer","timestamp","startTimer","stopTimer","setInterval","$forceUpdate","clearInterval","formatCD","valueRenderHtml","node","onMounted","onUpdated","onBeforeUnmount","Statistic","omit","Countdown","install","app","component","extendStatics","setPrototypeOf","__proto__","p","prototype","hasOwnProperty","__extends","__","constructor","__assign","assign","__rest","e","getOwnPropertySymbols","propertyIsEnumerable","__awaiter","thisArg","_arguments","P","generator","adopt","fulfilled","rejected","__generator","sent","trys","ops","verb","op","pop","__values","__read","ar","__spreadArrays","il","jl","__spreadArray","to","from","pack","isArrayLike","contains","func","difference","values","isType","isNil","each","elements","rst","isObject","keys","isFunction","isMatch","attrs","_keys","isObjectLike","isPlainObject","getPrototypeOf","proto","predicate","_predicate","findIndex","fromIndex","firstValue","flatten","getRange","filterValues","isNaN","tmp","getMax","getMin","arrPrototype","pullAt","indexes","previous","init","remove","sortBy","comparer","keys_1","isString","uniq","cache","Map","has","set","tmpMap","head","every","some","groupBy","condition","groupToMap","paramscondition_1","row","unique","groups","clamp","fixedBase","parseFloat","PRECISION","isInteger","isNumberEqual","maxItem","minItem","mod","RADIAN","toRadian","degree","lowerCase","toLowerCase","substitute","charAt","upperFirst","toUpperCase","substring","getType","isBoolean","isDate","isNull","objectProto","isPrototype","Ctor","isUndefined","isElement","HTMLDocument","requestAnimationFrame","method","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","cancelAnimationFrame","handler","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","clone","debounce","wait","timeout","context","later","callNow","resolver","memoized","get","MAX_MIX_LEVEL","_deepMix","dist","src","level","maxLevel","deepMix","isEmpty","isEqual","other","valueKeys","otherKeys","identity","object","_mix","mix","src1","src2","src3","ctx","keyArr","path","includes","leading","throttled","remaining","trailing","cancel","isArraylike","LAYER","DIRECTION","COMPONENT_TYPE","memoize","text","font","fontFamily","fontWeight","fontStyle","fontVariant","getContext","fontSize","measureText","maxWidth","currentText","currentWidth","STEP","PLACEHOLDER_WIDTH","measureTextWidth","leftText","leftWidth","default_1","VIEW_LIFE_CIRCLE","GEOMETRY_LIFE_CIRCLE","PLOT_EVENTS","ELEMENT_STATE","GROUP_Z_INDEX","FORE","MID","BG","TABLE","TABLE_TR","FRAGMENT_REG","CONTAINERS","GROUP_ATTRS","FIELD_ORIGIN","MIN_CHART_WIDTH","MIN_CHART_HEIGHT","COMPONENT_MAX_VIEW_PERCENTAGE","ENGINES","getEngine","G","Error","registerEngine","engine","initConstants","tr","tbody","thead","tfoot","td","th","createDom","$1","container","innerHTML","dom","childNodes","modifyCSS","css","getElementSize","ele","clientWidth","parseInt","paddingLeft","paddingRight","clientHeight","paddingTop","getChartSize","autoFit","h","removeDom","parent","WILDCARD","EventEmitter","evt","callback","once","_events","on","events","wildcardEvents","doEmit","es","length_1","cfg","_super","visible","Base","changeVisible","off","destroyed","EE","SPACES","PATH_COMMAND","PATH_VALUES","parsePathString","pathString","paramCounts","q","catmullRomToBezier","crp","iLen","ellipsePath","rx","ry","res","rad","x1","cos","y1","sin","y2","pathToAbsolute","pathArray","pa0","dots","mx","my","crz","pa","ii","jj","kk","l2c","q2c","ax","ay","_13","_23","a2c","large_arc_flag","sweep_flag","recursive","f1","f2","cx","cy","_120","rotate","rx2","ry2","asin","df","f2old","x2old","y2old","s1","s2","tan","hx","hy","m1","m2","m3","m4","newres","pathToCurve","path2","p2","bx","by","qx","qy","attrs2","pcoms1","pcoms2","pfirst","pcom","processPath","nx","ny","T","Q","fixArc","pp","shift","pi","fixM","path1","a2","seg","seg2","seglen","seg2len","p2s","parsePathArray","base3","p3","p4","t1","t2","bezlen","x3","y3","x4","y4","z2","Tvalues","Cvalues","sum","ct","xbase","ybase","comb","curveDim","y0","tvalues","bounds","b2ac","sqrtb2ac","mt","jlen","intersect","denominator","py","px2","py2","isPointInsideBBox","bbox","rectPath","box","r1","r2","r0","vb","isBBoxIntersect","bbox1","bbox2","bezierBBox","p1x","p1y","c1x","c1y","c2x","c2y","p2x","p2y","findDotsAtSegment","t13","t12","t3","interHelper","bez1","bez2","justCount","l1","l2","n1","n2","dots1","dots2","di","di1","dj","dj1","ci","cj","is","interPathHelper","x1m","y1m","x2m","y2m","pj","intr","segment1","segment2","intersection","decasteljau","recurse","middlePoints","reverse","splitCurve","count","segments","leftSegments","rt","segment","cmd","splitSegment","fillPath","source","sourceLen","targetLen","ratio","segmentsToFill","filled","unshift","obj1","obj2","getMinDiff","del","add","modify","levenshteinDistance","sourceSegment","targetSegment","fillPathByDiff","diffMatrix","changes","minPos","_splitPoints","former","formerEnd","_getSegmentPoints","formatPath","fromPath","toPath","event","originalEvent","timeStamp","GraphEvent","defaultPrevented","preventDefault","propagationStopped","removeFromArray","isBrowser","isParent","isCanvas","getParent","isAllowCapture","capture","defaultCfg","getDefaultCfg","BrowserInfo","version","os","NodeInfo","process","platform","SearchBotDeviceInfo","bot","BotInfo","ReactNativeInfo","SEARCHBOX_UA_REGEX","SEARCHBOT_OS_REGEX","REQUIRED_VERSION_PARTS","userAgentRules","operatingSystemRules","detect","parseUserAgent","product","getNodeVersion","matchUserAgent","ua","matched","browser","regex","uaMatch","exec","matchedRule","versionParts","createVersionParts","detectOS","searchBotMatch","isNode","invert","a00","a01","a02","a10","a11","a12","a20","a21","a22","b01","b11","b21","det","multiply","b00","b02","b10","b12","b20","b22","fromTranslation","fromRotation","fromScaling","ARRAY_TYPE","Float32Array","random","glMatrix","subtract","distance","hypot","normalize","transformMat3","mag","cosine","acos","exactEquals","sub","vec","leftTranslate","transMat","mat3","leftRotate","rotateMat","leftScale","scaleMat","leftMultiply","transform","actions","action","angleTo","direct","ang","vec2","angleLargeThanPI","multiplyMatrix","multiplyVec2","ext","MATRIX","CLONE_CFGS","RESERVED_PORPS","DELEGATION_SPLIT","_cloneArrayAttr","getFormatFromAttrs","toAttrs","fromAttrs","getFormatToAttrs","attr","checkExistedAttrs","animations","animation","onFrame","startTime","getDefaultAttrs","initAttrs","initAnimate","getDefaultMatrix","changeType","setAttr","afterAttrsChange","refX","refY","clip","getClip","isHit","originValue","onAttrChange","targetAttrs","isClipShape","applyTo","onCanvasChange","children","getChildren","totalMatrix","currentMatrix","parentMatrix","invertMatrix","clipCfg","canvas","getCanvas","clipShape","ShapeBase","getShapeBase","shapeType","Cons","originAttrs","cons","cfgName","isPaused","timeline","initTimer","repeat","pauseCallback","resumeCallback","animateCfg","easing","noop","formatToAttrs","uniqueId","pathFormatted","addAnimator","toEnd","pauseTime","_paused","_pauseTime","eventObj","relativeShape","paths","propagationPath","getEvents","fromShape","toShape","name_1","isGroup","subName","emitDelegateEvent","this_1","eventName","currentTarget","delegateTarget","delegateObject","translateX","translateY","getMatrix","newMatrix","setMatrix","targetX","targetY","translate","move","ratioX","ratioY","radian","SHAPE_MAP","INDEX","setCanvas","setTimeline","getComparer","compare","taskHead","taskTail","Container","minX","maxX","minY","maxY","xArr","yArr","getBBox","getCanvasBBox","getTotalMatrix","_applyChildrenMarix","preTotalMatrix","applyMatrix","groupClass","tmpCfg","TmpGroupClass","getGroupBase","ev","_findShape","invertFromMatrix","isClipped","getShape","preParent","_applyElementMatrix","getChildByIndex","contain","findAll","className","frame","pokeDelay","clockLast","clockNow","clockSkew","clock","performance","setFrame","clearNow","Timer","_call","_time","_next","time","restart","timerFlush","wake","nap","poke","t0","sleep","extend","definition","Color","stop","darker","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatHsl","hslConvert","formatHsl","color_formatRgb","formatRgb","color","trim","rgbn","Rgb","rgba","hsla","NaN","rgbConvert","rgb_formatHex","hex","rgb_formatRgb","Hsl","hsl","hsl2rgb","basis","v0","v3","gamma","nogamma","constant","define","copy","channels","displayable","rgbGamma","colorRgb","rgbSpline","spline","colors","basisClosed","isNumberArray","ArrayBuffer","isView","DataView","numberArray","genericArray","nb","na","setTime","reA","reB","zero","one","am","bm","bs","bi","number","date","valueOf","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","exponent","polyIn","custom","polyOut","polyInOut","halfPi","sinIn","sinOut","sinInOut","tpmt","expIn","expOut","expInOut","circleIn","circleOut","circleInOut","b1","b2","b3","b4","b5","b6","b7","b8","b9","b0","bounceIn","bounceOut","bounceInOut","overshoot","backIn","backOut","backInOut","tau","amplitude","period","elasticIn","elasticOut","elasticInOut","EASING_MAP","getEasing","d3Ease","registerEasing","easeFn","isColorProp","isGradientColor","IDENTITY_MATRIX","_update","cProps","interf","PathUtil","toPathPoint","fromPathPoint","cPathPoint","interpolate","matrixFn","interpolateArray","update","elapsed","Timeline","isFinished","d3Timer","animators","removeAnimator","isAnimatePaused","autoDraw","draw","animator","stopAnimate","CLICK_OFFSET","LEFT_BTN_CODE","EVENTS","emitTargetEvent","bubbleEvent","bubbles","isOverEvent","_triggerEvent","el","dragging","currentShape","pointInfo","_getPointInfo","_emitEvent","draggingShape","_afterDrag","EventController","_bindEvents","_eventCallback","_onDocumentMove","_onDocumentMouseUp","clientX","clientY","clientPoint","getClientByEvent","getPointByEvent","_getShape","leaveCanvas","preShape","cursor","button","mousedownShape","mousedownPoint","mousedownTimeStamp","isCanvasEmit","_emitMouseoverEvents","_emitDragoverEvents","timeWindow","_getEventObj","parent_1","emitDelegation","_clearEvents","PX_SUFFIX","isFirefox","initContainer","initDom","initEvents","initTimeline","Canvas","getElementById","setDOMSize","eventController","supportCSSTransform","layerX","offsetX","layerY","offsetY","getPointByClient","clientInfo","touches","changedTouches","getBoundingClientRect","clearEvents","AbstractGroup","AbstractShape","clearCacheBBox","calculateBBox","canvasBBox","calculateCanvasBBox","topLeft","topRight","bottomLeft","bottomRight","shadowColor","shadowOffsetX","shadowOffsetY","shadowLeft","shadowBlur","shadowRight","shadowTop","shadowBottom","startArrowShape","endArrowShape","inBBox","_isInBBox","isOnlyHitBox","isInShape","register","getMethod","minNum","maxNum","getBBoxByArray","piMod","pointAt","pointDistance","cross","lengthSquare","pointToLine","tangentAngle","EPSILON","nearestPoint","tCallback","segNum","increaseRate","_t","d1","d2","snapLength","totalLength","nextX","nextY","quadraticAt","onet","extrema","derivativeAt","divideQuadratic","xt","yt","controlPoint1","controlPoint2","quadraticLength","iterationCount","quadratics","xExtrema","yExtrema","interpolationAt","divide","cubicAt","discSqrt","extremas","disc","divideCubic","c3","c12","c23","cubicLength","cubics","copysign","absv","nearestX","nearestY","relativeX","relativeY","squareA","squareB","ex","ey","rx1","ry1","delta_c","delta_t","derivativeXAt","xRotation","startAngle","endAngle","derivativeYAt","atan","xAt","yAt","getAngle","getPoint","xDim","xs","xAngle","yDim","ys","yAngle","relativeVector","relativePoint","ellipse","vector","analyzePoints","lengthOfSegment","pointAtSegments","startRatio","currentRatio","localRatio","angleAtSegments","distanceAtSegment","minDistance","nextPoint","distance_1","mergeBBox","mergeArrowBBox","startArrowBBox","endArrowBBox","Util","offScreenCtx","getOffScreenContext","getTextHeight","lineCount","spaceingY","getLineSpaceing","getTextWidth","save","textArr","subText","measureWidth","restore","assembleFont","textBaseline","textAlign","regexTags","regexDot","parsePath","tag","smoothBezier","smooth","isLoop","constraint","prevPoint","nextCp0","cp1","cp0","cps","hasConstraint","prevIdx","d0","catmullRom2Bezier","pointList","cp2","controlPointList","REGEX_MD","toSymmetry","needProcess","first","preParams","upCmd","symetricT","symetricS","vMag","vRatio","vAngle","isSamePoint","point1","point2","getArcParams","startPoint","arcFlag","sweepFlag","xp","yp","lambda","cxp","cyp","theta","dTheta","center","getSegments","currentPoint","nextParams","startMovePoint","lastStartMovePointIndex","command","prePoint","startTangent","endTangent","arcParams","cp","preSegment","_h","dx1","dy1","dx2","dy2","dcmp","onSegment","isInPolygon","isBetween","getLineIntersect","D0","D1","kross","sqrKross","sqrLen0","sqrLen1","parseToLines","lines","lineIntersectPolygon","isIntersect","intersectBBox","box1","box2","isPolygonsIntersect","points1","points2","isIn","isPointInPolygon","lines1","lines2","getPathBox","lineWidth","segmentsWithAngle","QuadUtil","CubicUtil","EllipseArcUtil","extra","getExtraFromSegmentWithAngle","xExtra","yExtra","currentAndPre","currentAndNext","preAndNext","currentAngle","stroke","path2Segments","rect","circle","polyline","polygon","DEFAULT_Y","MARGIN_RATIO","DODGE_RATIO","GAP","yField","adjustNames","dimValuesMap","xField","Adjust","dim","dimValue","isAdjust","groupedDataArray","mergedData","getDimValues","dataArray","adjustDim","record","dims","ADJUST_MAP","getAdjust","registerAdjust","ctor","dodgeRatio","dodgeBy","intervalPadding","dodgePadding","xDimensionLength","groupNum","defaultSize","maxColumnWidth","minColumnWidth","columnWidthRatio","customOffset","marginRatio","xDimensionLegenth","Dodge","groupDataArray","mergeData","adjustDataArray","cacheMap","adjustData","frameIndex","getDistribution","groupData","getAdjustRange","valueArr","valIndex","getDodgeOffset","tickLength","offset","getIntervalOnlyOffset","getDodgeOnlyOffset","getIntervalAndDodgeOffset","margin","normalizedIntervalPadding","normalizedDodgePadding","geomWidth","normalizedMaxWidht","normalizedMinWidht","randomNumber","Jitter","adjustGroup","getAdjustOffset","Cache","reverseOrder","Stack","processStack","processOneDimStack","positive","xKey","xValue","newXValue","stackHeight","stackValue","Symmetric","getXValuesMaxMap","yValue","off_1","getDimMaxValue","dimValues","flattenValues","toScaleString","_parseCfg","Attribute","param","_toOriginParam","scales","percent","steps","leftPercent","names","field","_getAttributeValue","defaultCallback","isCategory","getLinearValue","isLinear","RGB_REG","regexLG","regexRG","regexColorStop","createTmp","getValue","arr2rgb","toHex","iEl","rgb2arr","x16Value","calColor","fixedPercent","toRGB","getPropertyValue","matches","cArray","gradient","colorArray","toCSSGradient","gradientColor","cssColor_1","colorStops_1","itemArr","colorUtil","Position","scaleX","scaleY","xi","yi","Shape","methodCache","getTickMethod","registerTickMethod","__cfg__","initCfg","Scale","ticks","tick","getText","tickValue","setDomain","getConfig","calculateTicks","tickMethod","Category","translateIndexMap","buildIndexMap","calcPercent","calcValue","rangeMin","rangeMax","scaledValue","domainRange","twoDigitsOptional","twoDigits","threeDigits","fourDigits","word","literal","shorten","sLen","newArr","monthUpdate","arrName","i18n","lowerCaseArr","origObj","dayNames","monthNames","monthNamesShort","dayNamesShort","defaultI18n","amPm","DoFn","dayOfMonth","globalI18n","setGlobalDateI18n","regexEscape","pad","formatFlags","D","dateObj","getDate","DD","Do","getDay","dd","ddd","dddd","getMonth","MM","MMM","MMMM","YY","getFullYear","YYYY","getHours","hh","H","HH","getMinutes","mm","getSeconds","ss","S","getMilliseconds","SS","SSS","A","ZZ","getTimezoneOffset","Z","monthParse","emptyDigits","emptyWord","timezoneOffset","parts","minutes","parseFlags","cent","globalMasks","shortDate","mediumDate","longDate","fullDate","isoDate","isoDateTime","shortTime","mediumTime","longTime","setGlobalDateMasks","masks","mask","literals","$0","combinedI18nSettings","parse","dateStr","today","dateInfo","year","month","day","hour","minute","second","millisecond","isPm","parseInfo","newFormat","specifiedFields","requiredFields","info","requiredField","dateTZ","parser","validateFields","UTC","getter","_lo","_hi","lo","hi","FORMAT_METHOD","timeFormat","fecha1","fecha","toTimeStamp","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","intervals","getTickInterval","tickCount","bisector","TimeCat","tickIndex","Continuous","getScalePercent","firstTick","lastTick","minLimit","maxLimit","nice","Linear","getInvertPercent","calBase","getLogPositiveMin","positiveMin","Log","appendPercent","Pow","factor","Time","numberValue","minConfig","maxConfig","timeStamps_1","min_1","secondMin_1","max_1","minTickInterval","Quantize","minIndex","minTick","nextTick","minIndexPercent","maxIndexPercent","Quantile","getClass","registerClass","Identity","calculateCatTicks","tickInterval","showLast","ticks_1","lastValue","d3Linear","D3Linear","DEFAULT_COUNT","e10","e5","e2","_domain","tickIncrement","d3ArrayTicks","LN10","snapMultiple","snapType","div","intervalTicks","maxTick","availableInterval","strictLimit","defaultMin","defaultMax","tickMin","tickMax","d3LinearTickMethod","prettyNumber","DEFAULT_Q","eps","simplicity","lmin","lmax","lstep","simplicityMax","density","dMin","dMax","lMin","lMax","densityMax","coverage","coverageMax","half","legibility","extended","onlyLoose","step_1","best","score","sm","dm","log10","cm","minStart","maxStart","i_1","lStep","calculateLogTicks","avg","pretty","h5","nu","ns","calculatePowTicks","quantileSorted","sorted","linearPretty","calculateTimeTicks","timeCat","catTicks","getYear","createYear","diffMonth","minYear","maxYear","minMonth","maxMonth","creatMonth","diffDay","diffHour","diffMinus","timePretty","yearInterval","monthInterval","mmMoth","dMonths","mday","ddays","hours","dHours","dMinus","minSecond","dSeconds","seconds","console","warn","cat","rPretty","quantile","registerScale","ATTRIBUTE_MAP","registerAttribute","Opacity","Size","isTransposed","originalMatrix","Coordinate","isReflect","vec3","inverted","convertPoint","invertPoint","isReflectX","isReflectY","radius","Cartesian","convertDim","invertDim","innerRadius","Helix","maxRadius","thi","newY","rMin","Polar","oneBox","getOneBox","oneWidth","oneHeight","circleCenter","polarRadius","getCenter","vPoint","vStart3","vStart2","xPercent","yPercent","COORDINATE_MAP","getCoordinate","registerCoordinate","propagationDelegate","eventObject","identityMatrix","getMatrixByAngle","getMatrixByTranslate","getAngleByMatrix","xVector","applyMatrix2BBox","applyRotate","applyTranslate","translateMatrix","formatPadding","padding","bottom","clearDom","hasClass","cName","regionToBBox","region","pointsToBBox","createBBox","getValueByPercent","getCirclePoint","near","getBBoxWithClip","clipBBox","minX_1","maxX_1","minY_1","maxY_1","leftTop","applyToMatrix","leftBottom","rightTop","rightBottom","boxMinX","boxMaxX","boxMinY","boxMaxY","updateClip","newElement","newClipShape","setClip","toPx","getTextPoint","lineLength","offsetPercent","LOCATION_FIELD_MAP","none","Component","locationType","animate","updateAutoRender","animateOption","appear","enter","leave","originCfg","newCfg","updateInner","afterUpdate","hasKey","show","hide","setCapture","location","fields","STATUS_UPDATE","COPY_PROPERTIES","COPY_PROPERTIES_EXCLUDES","GroupComponent","shapesMap","isRegister","isUpdating","isInit","clearOffScreenCache","inst","localId","getElementId","elem","offScreenRender","render","offScreenGroup","updateElements","deleteElements","applyOffset","initEvent","removeEvent","getInnerLayoutBBox","initGroup","GroupClass","newGroup","getDelegateObject","moveElementTo","addGroup","isComponent","createOffScreenGroup","renderInner","appendDelegateObject","registerElement","addShape","restCfg","elmentName","originOpacity","elementName","originElement","newAttrs","originGroup","preElement","elementId","childComponent","origChildComponent","pick","replaceAttrs","getReplaceAttrs","updateAnimation","siblings","registerNewGroup","addAnimation","parentObject","deleteArray","callbackAnimCfg","removeElement","removeAnimation","ELLIPSIS_CODE","strLen","charAtLength","charCodeAt","ellipsisString","reseveLength","charLength","startStr","endStr","startIndex","endIndex","startCodeLen","hasAdd","endCodeLen","ELLIPSIS_CODE_LENGTH","OPTIMIZE_THRESHOLD","getMaxLabelWidthOptimized","labels","texts","maxLen","maxIdx","code","getMaxLabelWidth","getLabelLength","isVertical","ellipsisLabel","limitLength","ellipsisText","getEllipsisText","labelLength","codeLength","ellipsisFlag","reserveLength","newText","renderTag","tagCfg","content","maxLength","autoEllipsis","ellipsisPosition","background","tagGroup","maxTextLength","backgroundStyle","tagBg","toBack","textColor","activeTextColor","uncheckedColor","lineColor","regionColor","verticalAxisRotate","horizontalAxisRotate","descriptionIconStroke","descriptionIconFill","LineAnnotation","Theme","autoRotate","renderLine","renderLabel","getLabelPoint","TextAnnotation","resetLocation","getLocation","textGroup","getElementByLocalId","ArcAnnotation","renderArc","endPoint","largeFlag","middlePoint","getArcPath","RegionAnnotation","renderRegion","ImageAnnotation","renderImage","img","getImageAttrs","DataMarkerAnnotation","autoAdjust","coordinateBBox","renderText","renderPoint","getShapeAttrs","textAttrs","isVertival","findById","textShape","lineShape","lineDisplay","pointStyle","lineStyle","textStyle","DataRegionAnnotation","regionStyle","textCfg","RegionFilterAnnotation","layer","shapeIdx","adjustShapeAttrs","fillStyle","strokeStyle","ShapeAnnotation","getStyle","getHeight","offsetWidth","getOuterWidth","bLeft","pLeft","pRight","bRight","mRight","mLeft","offsetHeight","getOuterHeight","bTop","pTop","pBottom","bBottom","mTop","mBottom","HtmlComponent","containerTpl","containerClassName","getContainer","resetStyles","applyStyles","initCapture","initVisible","defaultStyles","domStyles","applyChildrenStyles","containerCss","styles","getElementsByClassName","cssName","resetPosition","HtmlAnnotation","alignX","alignY","html","domWidth","domHeight","getStatesStyle","stateStyles","styleName","AxisBase","tickLine","subTickLine","verticalFactor","verticalLimitLength","overlapOrder","tickStates","optimize","alignTick","displayWithLabel","autoHide","spacing","iconStyle","description","labelStyle","tickLineStyle","inactive","enable","threshold","theme","drawLine","drawTicks","drawTitle","itemGroup","updateTickStates","getItemsByState","setItemState","getItems","hasState","getSideVector","labelGroup","getLinePath","tickLineItems","tickLineLength","tickSegment","getTickPoint","getSidePoint","tickId","subTickLineItems","subCount","tickLineCount","tickItem","tickItems","defaultTickLineStyle","tickLineGroup","getTickLineAttrs","getTickLineItems","tickCfg","labelId","drawTick","subTickLineItems_1","getSubTickLineItems","optimizeTicks","processTicks","drawLabels","drawTickLines","applyTickStates","page_1","optimizedTicks","labelCfg","getTextAnchor","getTextBaseline","getLabelAttrs","processOverlap","defaultLabelStyle","afterProcessTicks_1","newStyle","titleCfg","titleHeight","titlePoint","getAxisVector","titleAttrs","getTitleAttrs","titleShape","drawDescriptionIcon","descriptionShape","startX","startY","x5","y5","x6","y6","x7","y7","states","getItemStates","labelShape","labelStateStyle","tickLineId","tickLineShape","tickLineStateStyle","tickLineCfg","ellipseLabels","getDefault","ellipsisTail","ellipsisHead","ellipsisMiddle","isRotate","getRotateAngle","isOverlap","minGap","overlap","prevBBox","reserveOne","labelsGroup","reversed","autoHideCfg","hasHide","isHide","parityHide","firstBBox","equidistance","reserveFirst","reserveLast","reserveBoth","preLabel","equidistanceWithReverseBoth","setLabelsAngle","labelRotate","tickWidth","fixedAngle","customRotate","unfixedAngle","Line","regionX","regionY","axisVector","normal","verticalVector","isHorizontal","labelOffset","titleSpacing","canProcessOverlap","autoProcessOverlap","hasAdjusted","util","OverlapUtil","overlapCfg","verticalFactor_1","newAlign","unregisterElement","Circle","sweep","vecLen","CrosshairBase","textBackground","renderBackground","textPoint","textId","textBBox","backgroundShape","LineCrosshair","CONTAINER_CLASS","CROSSHAIR_LINE","CROSSHAIR_TEXT","CssConst","backgroundColor","HtmlCrosshair","crosshairTpl","textTpl","HtmlTheme","resetText","crosshairEl","applyStyle","textEl","initCrossHair","alignText","GridBase","alternateColor","closed","drawGrid","prePoints","regionPath","getGridPath","reversePoints","nextPath","preItem","getPathStyle","lineId","gridPath","regionId","isEven","drawAlternateRegion","getAlternatePath","lineType","getLineType","firstPoint","radius_1","sweepFlag_1","LegendBase","layout","getLayoutBBox","maxHeight","resetDraw","drawLegendContent","drawBackground","DEFAULT_PAGE_NAVIGATOR","marker","inactiveFill","inactiveOpacity","RIGHT_ARROW_NAME","LEFT_ARROW_NAME","ROTATE_MAP","up","down","currentPageIndex","updateNavigation","getCurrentNavigationMatrix","totalPagesCnt","itemSpacing","itemMarginBottom","maxItemWidth","itemWidth","itemHeight","itemName","itemValue","radio","itemStates","itemBackground","pageNavigator","symbol","alignRight","nameStyle","unchecked","markerStyle","itemElement","offsetGroup","drawItem","getItemHeight","clearUpdateStatus","processItems","drawItems","itemContainerGroup","wrapped","pageWidth","subGroup","pageHeight","adjustNavigation","style_1","items_1","markerCfg","markerAttrs","textName","xPosition","radioCfg","showRadio","radioShape","tip","groupId","subContainer","getLimitItemWidth","curX","markerShape","drawMarker","itemMarkerSpacing","nameShape","drawItemText","valueShape","drawRadio","backShape","applyItemStates","subGroups","navigation","drawNavigation","navigationBBox","pages","widthLimit","maxRow","maxRowHeight_1","cntPerPage_1","styleCfg","arrowStyle","leftArrow","drawArrow","onNavigationBack","leftArrowBBox","rightArrow","onNavigationAfter","cursorX","updateArrowPath","arrow","hasStates","itemStates_1","elName","statesStyle","HANDLER_HEIGHT_RATIO","HANDLER_TRIANGLE_RATIO","ContinueLegend","track","rail","slidable","defaultLength","getCurrentValue","resetTrackClip","resetHandlers","delegateEmit","bindSliderEvent","bindRailEvent","bindTrackEvent","drawRail","fixedElements","resetTrack","bindHandlersEvent","minValue","getValueByCanvasPoint","currentValue","maxValue","setValue","preValue","curValue","curDiff","dValue","drawLabel","labelAlign","labelFormatter","alignAttrs","getLabelAlignAttrs","railCfg","getRailPath","railShape","getRailShape","railBBox","getRailBBox","getPointByValue","trackCfg","getTrackPath","getTrackColor","trackId","trackShape","getClipTrackAttrs","trackAttrs","getTrackAttrs","draggable","isVertcal","getRailCanvasBBox","resetHandler","handlerCfg","halfWidth","oneSixthWidth","triangleX","triangleY","getHandlerPath","handlerShape","minLabel","maxLabel","getDrawPoint","fixedVertail","fixedHorizontal","minLabelBBox","maxLabelBBox","lengthField","elementsLength","changeRailLength","railHeight","fitRailLength","changeRailPosition","maxLabelWidth","TITLE_CLASS","LIST_CLASS","LIST_ITEM_CLASS","MARKER_CLASS","VALUE_CLASS","NAME_CLASS","CROSSHAIR_X","CROSSHAIR_Y","visibility","transition","boxShadow","borderRadius","listStyleType","marginRight","float","marginLeft","getOutSides","limitBox","hits","getPointByPosition","getAlignPoint","outSides","hasOneKey","Tooltip","customContent","itemTpl","xCrosshairTpl","yCrosshairTpl","showTitle","crosshairsRegion","crosshairs","TooltipTheme","renderCustomContent","resetTitle","renderItems","clearCrosshairs","setTitle","clearItemDoms","setCrossHairsVisible","xCrosshairDom","yCrosshairDom","getHtmlContentNode","cacheDoms","getOffset","resetCrosshairs","curContainer","replaceChild","titleDom","listDom","innerText","crosshairBox","resetCrosshair","croshairDom","checkCrosshair","domName","tplName","constName","substituteObj","domStr","itemDom","BACKGROUND_STYLE","LINE_STYLE","strokeOpacity","AREA_STYLE","pointsToPath","getSmoothLinePath","dataToPath","getAreaLineY","lineY","linePathToAreaPath","areaPath","lineYPx","Trend","isArea","areaStyle","DEFAULT_HANDLER_STYLE","highLightFill","Handler","bindEvents","FOREGROUND_STYLE","DEFAULT_HANDLER_WIDTH","HANDLER_STYLE","TEXT_STYLE","SLIDER_CHANGE","stopPropagation","prevX","pageX","prevY","pageY","containerDOM","getContainerDOM","onMouseMove","onMouseUp","offsetXRange","adjustOffsetRange","updateStartEnd","updateUI","Slider","oldStart","oldEnd","newStart","newEnd","foregroundStyle","handlerStyle","validCfg","minHandler","getChildComponentById","maxHandler","trend","trendCfg","minText","maxText","addComponent","silent","handlerWidth","handlerHeight","foregroundShape","minTextShape","maxTextShape","_dodgeText","minAttrs","maxAttrs","onMouseDown","foreground","offsetRange","PADDING","minBBox","maxBBox","eventType","attachEvent","detachEvent","DEFAULT_STYLE","trackColor","thumbColor","lineCap","DEFAULT_THEME","hover","isMobile","startPos","bindLaterEvent","thumbOffset","endPos","updateThumbOffset","thumbLen","newOffset","validateRange","Scrollbar","originalValue","minThumbLen","renderTrackShape","renderThumbShape","trackLen","themeSize","onStartEvent","onTrackClick","thumbShape","onThumbMouseOver","onThumbMouseOut","emitOffsetChange","LineAxis","Axis","CircleAxis","LineGrid","Grid","CircleGrid","CategoryLegend","Legend","ContinuousLegend","HtmlTooltip","getPointsBox","centerX","centerY","uniqueValues","Set","polarToCartesian","angleInRadian","getSectorPath","startAngleInRadian","endAngleInRadian","innerStart","innerEnd","innerMiddlePoint","circlePathCommands","arcSweep","sectorPathCommands","shapeModel","coordinate","coordStartAngle","coordEndAngle","diffAngle","getPolygonCentroid","sourceShape","targetShape","targetLength","padValue","sourceLength","sourceArray","targetArray","sourceArray_1_1","BBox","subBBox","fromRange","gap","toPoints","getXDimensionLength","isPolar","getRadius","convert","isFullCircle","getDistanceToCenter","isPointInCoordinate","getAngleByPoint","getCoordinateClipCfg","endState","endAngle_1","center_1","startState","startAngle_1","getCoordinateBBox","dateRegex","getDefaultType","inferScaleType","scaleDef","attrType","geometryType","createScaleByField","validData","getScale","valuesOfKey","ScaleCtor","syncScale","newScale","change","getName","alias","getDefaultCategoryScaleRange","widthRatio","getMaxScale","getLineAxisRelativeRegion","getCircleAxisRelativeRegion","getAxisRegion","isRect","getAxisFactorByRegion","isAxisVertical","getAxisThemeCfg","axisTheme","getAxisTitleOptions","axisOptions","getCircleAxisCenterRadius","startVector","normalVector","getAxisOption","axes","getAxisDirection","axisOption","getAxisTitleText","view","facets","Facet","createContainer","getData","generateFacets","renderViews","clearFacetViews","facet","createView","beforeEachView","eachView","afterEachView","foregroundGroup","getLayer","createFacetViews","facetToView","removeView","viewBBox","cols","xIndex","yIndex","parseSpacing","xSpacing","ySpacing","xRatio","yRatio","getTheme","getOptions","coordinateOption","geometries","coordinateType","getXYFields","xOption","yOption","getXAxisOption","getYAxisOption","conditions","datum","Facets","getFacet","registerFacet","addAction","Action","applyCfg","removeAction","CallbackAction","ActionCache","createAction","actionName","actionOption","ActionClass","getActionClass","registerAction","createCallbackAction","_points2path","isInCircle","_convertArr","coord","_convertArcPath","_convertPolarPath","cur","curPoint","angleRange","flag","middleConvertPoint","_filterFullCirleLine","subPath","catmullRom2bezier","getSplinePath","constaint","splinePath","convertNormalPath","convertPolarPath","transposed","equals","getMaskBBox","maskShape","maskBBox","getMaskPath","getCurrentElement","getDelegationObject","isElementChange","gEvent","isList","isSlider","isMask","getMaskedElements","maskPath","getElementsByPath","getIntersectElements","getSiblingMaskElements","sibling","getSiblingPoint","getElements","geom","views","subView","getElementsByField","getElementValue","getElementsByState","stateName","getElementsBy","model","getModel","intersectRect","shapeBBox","pathToPoints","shapePoints","getComponents","co","getSpline","isInBox","getSilbings","point2Normalize","normalPoint","isInRecords","records","xFiled","getScaleByField","Context","HTMLElement","getCurrentPoint","isPointInPlot","getCurrentShape","components","Interaction","parseAction","actionStr","getAction","methodName","executeAction","actionObject","STEP_NAMES","START","SHOW_ENABLE","END","ROLLBACK","PROCESSING","GrammarInteraction","initContext","callbackCaches","stepArr","stepName","getActionCallback","bindEvent","trigger","offEvent","InteractionContext","subSteps","actionArr","argArr_1","currentStepName","isAllowStep","getKey","emitCaches","isEnable","enterStep","actionCallback","isAllowExecute","afterExecute","throttle","nameArr","Interactions","getInteraction","registerInteraction","interaction","createInteraction","interaciton","createAxisStyles","styleSheet","axisTitleSpacing","axisTitleTextFillColor","axisTitleTextFontSize","axisTitleTextLineHeight","axisDescriptionIconFillColor","axisLabelOffset","axisLabelFillColor","axisLabelFontSize","axisLabelLineHeight","axisLineBorder","axisLineBorderColor","grid","axisGridBorderColor","axisGridBorder","lineDash","axisGridLineDash","axisTickLineBorder","axisTickLineBorderColor","axisTickLineLength","createLegendStyles","legendMarkerSpacing","legendCircleMarkerSize","legendMarkerColor","legendItemNameFillColor","legendItemNameFontSize","legendItemNameLineHeight","legendItemNameFontWeight","flipPage","legendPageNavigatorMarkerSize","legendPageNavigatorMarkerInactiveFillColor","legendPageNavigatorMarkerInactiveFillOpacity","legendPageNavigatorMarkerFillColor","legendPageNavigatorMarkerFillOpacity","legendPageNavigatorTextFillColor","legendPageNavigatorTextFontSize","legendItemSpacing","legendItemMarginBottom","legendPadding","createThemeByStyleSheet","shapeStyles","pointFillColor","pointSize","pointBorderColor","pointBorder","fillOpacity","pointFillOpacity","pointActiveBorderColor","pointActiveBorder","selected","pointSelectedBorderColor","pointSelectedBorder","pointInactiveFillOpacity","pointInactiveBorderOpacity","hollowPoint","hollowPointFillColor","hollowPointBorder","hollowPointBorderColor","hollowPointBorderOpacity","hollowPointSize","hollowPointActiveBorderColor","hollowPointActiveBorderOpacity","hollowPointSelectedBorder","hollowPointSelectedBorderColor","hollowPointSelectedBorderOpacity","hollowPointInactiveBorderOpacity","areaFillColor","areaFillOpacity","areaActiveFillOpacity","areaSelectedFillOpacity","areaInactiveFillOpacity","hollowArea","hollowAreaBorderColor","hollowAreaBorder","hollowAreaBorderOpacity","hollowAreaActiveBorder","hollowAreaSelectedBorder","hollowAreaInactiveBorderOpacity","intervalFillColor","intervalFillOpacity","intervalActiveBorderColor","intervalActiveBorder","intervalSelectedBorderColor","intervalSelectedBorder","intervalInactiveFillOpacity","intervalInactiveBorderOpacity","hollowInterval","hollowIntervalFillColor","hollowIntervalBorderColor","hollowIntervalBorder","hollowIntervalBorderOpacity","hollowIntervalActiveBorderColor","hollowIntervalActiveBorder","hollowIntervalActiveBorderOpacity","hollowIntervalSelectedBorderColor","hollowIntervalSelectedBorder","hollowIntervalSelectedBorderOpacity","hollowIntervalInactiveBorderColor","hollowIntervalInactiveBorder","hollowIntervalInactiveBorderOpacity","lineBorderColor","lineBorder","lineBorderOpacity","lineAppendWidth","lineJoin","lineActiveBorder","lineSelectedBorder","lineInactiveBorderOpacity","axisStyles","legendStyles","defaultColor","brandColor","subColor","semanticRed","paletteSemanticRed","semanticGreen","paletteSemanticGreen","roseWidthRatio","multiplePieWidthRatio","colors10","paletteQualitative10","colors20","paletteQualitative20","sequenceColors","paletteSequence","shapes","sizes","geometry","middleAngle","funnel","pyramid","dash","hv","vh","hvh","vhv","square","bowtie","diamond","hexagon","triangle","plus","hyphen","schema","candle","arc","violin","hollow","axis","common","legend","legendVerticalPadding","legendHorizontalPadding","continuous","sliderRailHeight","sliderRailWidth","sliderRailFillColor","sliderRailBorderColor","sliderRailBorder","sliderLabelTextFillColor","sliderLabelTextFontSize","sliderLabelTextLineHeight","sliderHandlerWidth","sliderHandlerFillColor","sliderHandlerBorderColor","tooltip","showContent","follow","showCrosshairs","showMarkers","shared","enterable","tooltipCrosshairsBorderColor","tooltipCrosshairsBorder","TOOLTIP_CSS_CONST","tooltipContainerFillColor","tooltipContainerFillOpacity","tooltipContainerShadow","tooltipContainerBorderRadius","tooltipTextFillColor","tooltipTextFontSize","tooltipTextLineHeight","marginTop","annotation","annotationArcBorderColor","annotationArcBorder","annotationLineBorderColor","annotationLineDash","annotationLineBorder","annotationTextFillColor","annotationTextBorderColor","annotationTextBorder","annotationTextFontSize","annotationRegionBorder","annotationRegionBorderColor","annotationRegionFillColor","annotationRegionFillOpacity","image","dataMarker","annotationDataMarkerLineLength","dataRegion","slider","cSliderBackgroundFillColor","cSliderBackgroundFillOpacity","cSliderForegroundFillColor","cSliderForegroundFillOpacity","cSliderHandlerWidth","cSliderHandlerHeight","cSliderHandlerFillColor","cSliderHandlerFillOpacity","cSliderHandlerBorderColor","cSliderHandlerBorder","cSliderHandlerBorderRadius","cSliderHandlerHighlightFillColor","cSliderTextFillColor","cSliderTextFillOpacity","cSliderTextFontSize","cSliderTextLineHeight","cSliderTextFontWeight","cSliderTextBorderColor","cSliderTextBorder","scrollbar","scrollbarTrackFillColor","scrollbarThumbFillColor","scrollbarThumbHighlightFillColor","labelFillColor","labelFontSize","labelBorderColor","labelBorder","fillColorDark","labelFillColorDark","fillColorLight","labelFillColorLight","innerLabels","innerLabelFillColor","innerLabelFontSize","innerLabelBorderColor","innerLabelBorder","overflowLabels","overflowLabelFillColor","overflowLabelFontSize","overflowLabelBorderColor","overflowLabelBorder","pieLabels","labelHeight","labelLine","labelLineBorder","BLACK_COLORS","WHITE_COLORS","QUALITATIVE_10","QUALITATIVE_20","SINGLE_SEQUENCE","createLightStyleSheet","paletteSemanticYellow","axisLineDash","axisTitleTextFontWeight","axisSubTickLineBorderColor","axisSubTickLineLength","axisSubTickLineBorder","axisLabelFontWeight","legendTitleTextFillColor","legendTitleTextFontSize","legendTitleTextLineHeight","legendTitleTextFontWeight","legendMarkerSize","legendSquareMarkerSize","legendLineMarkerSize","sliderLabelTextFontWeight","sliderHandlerHeight","sliderHandlerBorder","annotationTextLineHeight","annotationTextFontWeight","tooltipCrosshairsLineDash","tooltipTextFontWeight","labelLineHeight","labelFontWeight","innerLabelLineHeight","innerLabelFontWeight","overflowLabelLineHeight","overflowLabelFontWeight","labelLineBorderColor","cSliderRailHieght","pointBorderOpacity","hollowPointActiveBorder","areaActiveFillColor","areaSelectedFillColor","hollowAreaActiveBorderColor","hollowAreaSelectedBorderColor","intervalActiveBorderOpacity","intervalSelectedBorderOpacity","createTheme","themeCfg","styleSheetCfg","themeObject","defaultTheme","Themes","registerTheme","snapEqual","value1","value2","getXValueByPoint","xScale","getXScale","filterYValue","yScale","getYScale","originData","getXDistance","scaleValues","numericValue","getTooltipTitle","positionAttr","getFields","titleField","titleScale","tooltipTitle","getAttributesForLegend","attributes","attribute","getTooltipValueScale","attributes_1_1","tmpScale","tmpScaleDef","scaleDefs","inferedScaleType","getTooltipValue","valueScale","eachValue","getTooltipName","nameScale","groupScales","getGroupScales","findDataByPoint","firstXValue","firstYValue","lastXValue","isYArray","firstIdx","lastIdx","middleIdx","getTooltipItems","showNil","tooltipOption","addItem","mappingData","callbackParams","itemCfg","fields_1_1","getTooltipItemsByFindData","tooltipCfg","dataArray_1_1","elementsMap","getTooltipItemsByHitShape","findItemsFromView","geometries_1_1","tooltipItems","findItemsFromViewRecurisive","childView","isAutoPadding","parsePadding","paddingArray","LOAD_COMPONENT_CONTROLLERS","registerComponentController","plugin","getComponentControllerNames","getComponentController","wrapperOption","CoordinateController","isTheta","C","hasAction","transpose","execActions","resetMatrix","sx","sy","includeActions","shouldExec","Event","GEvent","defaultLayout","getController","controller","syncScales","ScalePool","finalScaleDef","cacheScaleMeta","getScaleMeta","cacheScale","cacheScaleDef","scaleKeys","syncKey","MIN_SAFE_INTEGER","isContinuous","getSyncKey","removeFromSyncScales","scaleMeta","delete","sync","PaddingCal","getPadding","calculatePadding","paddingCal","axisComponents","paddingComponents","otherComponents","AXIS","LEGEND","SLIDER","SCROLLBAR","GRID","TOOLTIP","bboxObject","componentBBox","exceed","componentPadding","expand","inc","defaultSyncViewPadding","chart","PC","syncPadding","instance","autoPadding","createViewEvent","doPlotEvent","backgroundGroup","middleGroup","appendPadding","limitInPlot","syncViewPadding","View","layoutFunc","calculateViewBBox","initComponentController","initOptions","isUpdate","payload","BEFORE_RENDER","paint","AFTER_RENDER","BEFORE_CLEAR","filteredData","coordinateInstance","isDataChanged","isCoordinateChanged","labelsContainer","controllers","createdScaleKeys","getRootView","scalePool","deleteScale","AFTER_CLEAR","BEFORE_DESTROY","interactions","filters","legendOption","scaleOption","coordinateCfg","coordinateController","facetInstance","status","opt","existInteraction","BEFORE_CHANGE_DATA","changeData","AFTER_CHANGE_DATA","sharedOptions","getOption","legends","removedView","yScales","dimType","defaultKey","getScaleKey","getGroupAttributes","xScales","getScalesByDim","showTooltip","hideTooltip","lockTooltip","unlockTooltip","isTooltipLocked","dataLen","snapRecords","getSnapRecords","curStart","curEnd","bl","adjust","renderDataRecursive","BEFORE_PAINT","renderPaddingRecursive","renderLayoutRecursive","renderBackgroundStyleShape","renderPaintRecursive","AFTER_PAINT","backgroundStyleRectShape","adjustCoordinate","initComponents","shrink","tooltipController","syncViewPaddingFn","doLayout","paintGeometries","renderComponents","currentScaleDef","mergedScaleDef","createScale","doFilterData","createCoordinate","initGeometries","renderFacet","onDelegateEvents","onCanvasEvent","usedControllers","controllerName","ALL_EVENTS","currentInPlot","newEvent","TYPE","isPreMouseInPlot","MOUSE_LEAVE","LEAVE","MOUSE_ENTER","ENTER","filterData","createOrUpdateScales","getGeometryScales","adjustScales","getScaleFields","groupedFields","getGroupedFields","geometryScales","groupFields","getGroupFields","adjustCategoryScaleRange","xyScales","getYScales","scaleOptions","isIdentity","doAnimation","canvasRegion","annotations","geometryOption","createGeometry","interactionOption","viewOption","annotationComponent","annotationOption","eventCallback","rest","geometry_1","registerGeometry","renderer","pixelRatio","localRefresh","defaultInteractions","wrapperElement","forceFit","updateCanvasStyle","bindAutoFit","initDefaultInteractions","Chart","ariaOption","ATTR","BEFORE_CHANGE_SIZE","changeSize","AFTER_CHANGE_SIZE","aria","unbindAutoFit","verticalAlign","onResize","Controller","includeOption","uniqItems","subItem","isVisible","getTitle","dataPoint","getTooltipCfg","lastItems","lastTitle","tooltipMarkersGroup","renderTooltip","getItemsAfterProcess","renderTooltipMarkers","isCrosshairsFollowCursor","renderCrosshairs","xCrosshair","yCrosshair","isLocked","guideGroup","reset","tooltipCrosshairsGroup","items_1_1","itemArr_1_1","snapItem","items_2_1","aItem","yDistance","isPointIn","processOption","processCustomContent","currentCustomContent","getTooltipMarkersGroup","rootView","items_3_1","attrs_1","crosshairsType","renderXCrosshairs","renderYCrosshairs","getViewWithGeometry","getTooltipCrosshairsGroup","getCrosshairsText","Crosshair","firstItem","getGuideGroup","toFront","originalItems","customItems","ANIMATIONS_MAP","getAnimation","registerAnimation","DEFAULT_ANIMATE_CFG","GEOMETRY_ANIMATE_CFG","GEOMETRY_GROUP_APPEAR_ANIMATION","parseAnimateConfig","getDefaultAnimateCfg","animateType","doAnimate","parsedAnimateCfg","animateFunction","doGroupAppearAnimate","minYPoint","BACKGROUND_SHAPE","shapeFactory","offscreenGroup","elementIndex","getShapeType","drawShape","setShapeInfo","getOffscreenGroup","newShape","origin","syncShapeStyle","getStates","getAnimateCfg","stateStatus","sortZIndex","zIndexReversed","setZIndex","offscreenShape","setState","labelBBox","stateOption","defaultShapeType","stateTheme","shapeKey","stateCfg","shapeStyle","cfg_1","AFTER_DRAW_ANIMATE","BEFORE_DRAW_ANIMATE","GroupCtor","newClip","newChildren","name_2","getStateStyle","GEOMETRY_LABELS_MAP","GEOMETRY_LABELS_LAYOUT_MAP","getGeometryLabel","registerGeometryLabel","getGeometryLabelLayout","registerGeometryLabelLayout","layoutFn","ShapeFactoryBase","getShapePoints","shapePoint","getPoints","getDefaultPoints","getDefaultStyle","geometryTheme","getMarker","parsedPath","parsePoint","parsePoints","ShapeFactoryMap","registerShapeFactory","factoryName","geomObj","registerShape","shapeObj","getShapeFactory","appendConditions","values_1_1","eachGroup","isModelChange","currentModel","preModel","parseFields","keyItem","added","updated","removed","keyIncluded","sortable","useDeferredLabel","userTheme","Geometry","positionCfg","attributeOption","createAttrOption","adjustCfg","adjusts","adjustOption","styleFunc","styleOption","secondParam","thirdParam","labelOption","customOption","setCfg","initAttributes","processData","adjustScale","lastAttributeOption","beforeMappingData","beforeMapping","mapping","lastElementsMap","canDoGroupAnimation","yMinPoint","getYMinValue","deferred","renderLabels","requestIdleCallback","geometryLabel","idFields","hasSorted","attrName","adjustType","shapeName","xVal","yVal","length_2","groupScale","dodgeAdjust","attributeType","eachOpt","length_3","uniqMap","fs","length_4","attributeName","mappingArray","xScale_1","xField_1","updateStackRange","normalizeValues","mappingDatum","shapeCfg","getDrawCfg","customInfo","defaultStyle","getStyleCfg","generatePoints","nextPoints","mappingDataArray","keyDatum","keyIndex","finalKey","added_1_1","updated_1_1","currentShapeCfg","preShapeCfg","removed_1_1","labelType","attrCfg","AttributeCtor","getAttributeClass","categoryScales","groupedArray","beforeAdjust","subData","subLen","categoryScales_1_1","xScale_2","sizeAttr","getDefaultValue","adjustCtor","getAdjustClass","adjustInstance","mergeArray","tmpMin","tmpMax","length_5","currentData","generateShapePoints","nextData","shapeAttr","createShapePointsCfg","getAttributeValues","newRecord","_origin","mappingRecord","rstX","rstY","xLen","yLen","BEFORE_RENDER_LABEL","getLabelType","GeometryLabelsCtor","labelsMap","labelsRenderer","elementLabels","labelGroupId","labelChildren","entries","AFTER_RENDER_LABEL","getRotateMatrix","rotateRadian","findLabelTextShape","getLabelBackgroundInfo","labelItem","boxPadding","rotation","getOverlapArea","xOverlap","yOverlap","checkShapeOverlap","dones","updateLabel","updateAnimateCfg","fromChild","toChild","getCount","Labels","createOffscreenGroup","renderLabelLine","renderLabelBackground","adjustLabel","lastShapesMap","origin_1","currentAnimateCfg","deleteShape","shapeAppendCfg","isShape","layouts","all","labelShapes","geometryShapes","labelItems","labelLineCfg","labelContentShape","GeometryLabel","mapppingArray","labelCfgs","getLabelCfgs","labelContent","total","subIndex","getLabelAlign","getLabelItems","getLabelsRenderer","getGeometryShapes","themedLabelCfg","defaultLabelCfg","getDefaultLabelCfg","labelPointCfg","getOffsetVector","offsetPoint","getDimValue","isAvg","isFunnel","setLabelPosition","getLabelOffsetPoint","labelScales","callbackCfg","originText","getLabelText","originValues","getLabelId","getLabelOffset","labelTexts","subVal","actualOffset","getMappingValue","restArgs","MarkerSymbols","diffX","diffY","STROKES_SYMBOLS","handleUserMarkerStyle","adpatorMarkerStyle","setMarkerSymbol","getLegendLayout","startsWith","getLegendItems","themeMarker","userMarker","field_1","colorAttr_1","shapeAttr_1","defaultColor_1","isInPolar_1","getTicks","scaleValue","filterFieldData","getShapeMarker","isInPolar","getCustomLegendItems","itemMarker","getLegendThemeCfg","legendTheme","isValueEmpty","isYNil","getPathPoints","connectNulls","showSinglePoint","filtered","getViolinPath","getSmoothViolinPath","leftPoints","rightPoints","leftPath","rightPath","isStroke","isFill","sizeName","getBackgroundRectStyle","splitPoints","eachY","LineSymbols","getLineMarker","isStack","shapeAttrs","eachLinePoints","getPath","getSinglePath","getRangePath","topPoints","bottomPoints","topPath","bottomPath","createDarkStyleSheet","legendSpacing","overflowLabelFillColorDark","overflowLabelFillColorLight","antvDark","getPixelRatio","devicePixelRatio","inBox","mergeRegion","region1","region2","regexPR","addStop","addColorStop","parseLineGradient","gradientStr","tanTheta","tanTheta2","createLinearGradient","parseRadialGradient","fy","fr","createRadialGradient","parsePattern","patternStr","pattern","createPattern","Image","crossOrigin","complete","parseStyle","CanvasPattern","parseRadius","r3","r4","_addDefaultArrow","isStart","arrowShape","Path","isArrowShape","rotateAtPoint","_addCustomizedArrow","endArrow","arrowAttrs","startArrow","arrowFill","arrowStroke","arrowLineWidth","restAttrs","getShortenOffset","addStartArrow","addEndArrow","SHAPE_ATTRS_MAP","applyAttrsToContext","setLineDash","globalAlpha","drawChildren","skipDraw","checkRefresh","refreshElements","refresh","setChildrenRefresh","checkChildrenRefresh","hasChanged","checkElementRefresh","clearChanged","cacheCanvasBBox","isAllow","isInView","drawPath","arcParamsCache","beginPath","tangent","getStartTangent","ArrowUtil","lastPath","getEndTangent","moveTo","lineTo","quadraticCurveTo","bezierCurveTo","closePath","refreshElement","_cacheCanvasBBox","getRefreshRegion","cacheBox","validCache","validBBox","getMergedRegion","minXArr","minYArr","maxXArr","maxYArr","mergeView","viewRegion","Group","createPath","_afterDraw","viewRange","getViewRange","allowDraw","_applyClip","getHitLineWidth","bboxMethod","getBBoxMethod","halfLineWidth","getCanvasViewBox","strokeAndFill","afterDrawPath","isInStrokeOrPath","absDistance","ellipseDistance","squareX","squareY","Ellipse","halfLineWith","nodeName","ImageShape","_setImage","image_1","_afterLoading","swidth","sheight","drawImage","inLine","LineUtil","setArrow","startArrowDistance","endArrowDistance","Symbols","Marker","_resetParamsCache","_getR","path2Absolute","_getPath","paramsCache","isPointInPath","hasArc","isPointInStroke","qDistance","cDistance","inArc","extractPolygons","polygons","polylines","isInPolygons","_setPathArr","getTotalLength","extractResutl","_calculateCurve","_setTcache","subt","tCache","curve","nextSeg","segmentT","segmentL","segmentN","tempLength","inPolyline","isClose","Polygon","PolyLine","_resetCache","PolylineUtil","inRect","rectWithRadius","Rect","inRectWithRadius","Text","_assembleFont","_setText","subY","_getSpaceingY","fillText","strokeText","_drawTextArr","_drawText","getRefXY","preTest","curShape","_clearFrame","clearRect","clipView","drawFrame","clearAnimationFrame","_startDraw","_getRefreshRegion","_drawRegion","_drawAll","AbstractCanvas","SHAPE_TO_TAGS","SVG_ATTR_MAP","lineDashOffset","miterLimit","preserveAspectRatio","createSVGElement","createElementNS","sortDom","sorter","childList","toArray","fragment","createDocumentFragment","targetIndex","nodeType","currentIndex","insertBefore","targetNext","setShadow","blur","addShadow","setTransform","hasAttribute","addClip","parentChildren","clipPathEl","defsEl","children_1","canFill","canStroke","shadow","_setColor","addGradient","addPattern","elementFromPoint","isEqualNode","Dom","toDataURL","ImageData","putImageData","addArrow","getDefaultArrow","triangleDown","getAll","_assembleMarker","symbolsFactory","_formatPath","getPointAtLength","Polyline","completed","pathRelatedAttrs","_assembleRect","LETTER_SPACING","BASELINE_MAP","alphabetic","hanging","BASELINE_MAP_FOR_FIREFOX","ANCHOR_MAP","_setFont","baseline","textLen_1","arr_1","stops","Gradient","ATTR_MAP","shadowOpacity","SHADOW_DIMENSION","_parseShadow","Shadow","_setDefaultPath","_setMarker","Arrow","shapeEl","Clip","Pattern","defaultArrow","Defs","srcElement","tagName","keyData","getShapeInfo","getPointsAndData","registeredShape","topLinePoints_1","bottomLinePoints_1","pointsData","parsedPoints","pathPoints","eachPoints","getConstraint","yItem","startOnZero","Area","Heatmap","prepareRange","prepareSize","blur_1","prepareGreyScaleBlurredCircle","drawWithRange","clearShadowCanvasCtx","paletteCache","colorAttr","colorField","getDefaultSize","grayScaleBlurredCanvas","getGrayScaleBlurredCanvas","valueField","getShadowCanvasCtx","data_1_1","drawGrayScaleBlurredCircle","colored","getImageData","colorize","imageShape","getImageShape","shadowCanvas","pixels","palette","ColorUtil","getRectPoints","yMin","yMax","xMin","xMax","getRectPath","isClosed","minLength","getBackgroundRectPath","isReflectYTransposed_1","bump","opposite","getIntervalRectPath","coor","getFunnelPath","isPyramid","swap","getRectWithCornerRadius","backgroundCfg","backgroundPath","findMinDistance","sourceArr","getDodgeCount","xValues","normalizedSize","wr","dodgeCount","normalizedMaxColumnWidth","normalizedMinColumnWidth","Interval","coordinateWidth","SHAPES","HOLLOW_SHAPES","drawPoints","pointPosition","points_1_1","Point","subX","xCount","yCount","xOffset","yOffset","Schema","normalizeSize","num","sizeArr","_size","isMin","isMax","Violin","_sizeField","sizeField","getCPath","getQPath","getArcShapePath","getArcShapeWeightPath","arc1","arc2","getSmoothPath","CORNER_PERCENT","getVHVPath","getLinePoints","getTickPoints","getTickPath","interpolateCallback","middleX","middleY","getInterpolatePoints","interpolatePoint","getInterpolatePath","getInterpolateShapeAttrs","interpolatePoints","parseValue","min1","max1","getBoxPoints","pointsArray","halfSize","getBoxPath","getCandleYValues","getCandlePoints","yValues","getCandlePath","getRectAttrs","IntervalLabel","dir","getLabelValueDir","point0","nextP0","nextP1","HALF_PI","PolarLabel","labelEmit","arcPoint","isToMiddle","getMiddlePoint","getArcPoint","getPointAngle","isLabelEmit","labelPositionCfg","getLabelRotate","labelAngle","appendAngle","PieLabel","isLabelLimit","MARGIN","antiCollision","plotRange","isRight","overlapping","totalHeight","MIN_VALUE","boxes","targets","pos","previousBox","posInCompositeBox","labelShapes_1_1","rPow2","dyPow2","distribute","lineHeight_1","totalR","totalHeight_1","plotRange_1","halves_1","maxLabelsCountForOneSide","innerPoint","itemX","itemY","invisible","endY","drawLabelline","smoothConnector","breakPoint","breakPoint3","largeArcFlag","xSign","slope1","slope2","pieOuterLabelLayout","labels_1_1","LEFT_HALF_KEY","RIGHT_HALF_KEY","separateLabels","labelsContainerRange","dxPow2","dx_offset","INFLECTION_OFFSET","LABEL_OFFSET_X","LABEL_TEXT_LINE_OFFSET","inRight","inflectionPoint","pieSpiderLabelLayout","totalOffset","halfHeight","originalPos","limitInCanvas","regionMinX","regionMinY","regionMaxX","regionMaxY","finalX","finalY","limitInShape","MAX_TIMES","bitmap","xGap","yGap","Greedy","hasGap","spiralFill","greedy","maxTimes","dxdy","dt","maxDelta","nt","fillGap","times","accessedCache","adjustLabelPosition","fixedOverlap","getAxes","AB","BC","deg","getProjection","scalars","isProjectionOverlap","projection1","projection2","isValidNumber","isValidBox","isIntersectRect","rect1Points","rect2Points","createWorker","BlobBuilder","append","getBlob","Worker","onmessage","generateUtils","hideOverlap","methods","eventData","JSON","postMessage","worker","layoutCode","memoKey","stringify","onmessageerror","preset","isContrastColorWhite","isDark","adjustColor","fromObject","bgColor","fillWhite","shouldInShapeSingle","shouldInShape","moveInShape","intervalAdjustPosition","inShape","filterLabel","MAX_CNT","filteredLabels","intervalHideOverlap","todo","groupedLabels","addCurrentGroup","curItems","sortLabels","sortedLabels","hasSome","rightText","pointAdjustPosition","sortedCollections","upFail","downFail","pathAdjustPosition","getCanvasContext","DOT_WIDTH","translateX_1","textShapes","textBox","fadeIn","fadeOut","transformShape","scaledMatrix","doScaleAnimate","endMatrix","growInX","growInY","growInXY","pathIn","positionUpdate","scaleInX","scaleInY","arcPath","getArcStartPoint","getArcInfo","arcPaths","firstArcPathCommand","lastArcPathCommand","firstIndex","firstStartPoint","lastStartPoint","firstStartAngle","firstEndAngle","lastStartAngle","lastEndAngle","sectorPathUpdate","pathCommands","curStartAngle","curEndAngle","preStartAngle","preEndAngle","diffStartAngle","diffEndAngle","onFrameStartAngle","onFrameEndAngle","waveIn","doShapeZoom","zoomIn","zoomOut","getFactTitleConfig","getAnglePoint","getDefaultTitleCfg","renderTitle","avgAngle","facetR","processAxis","getFieldValues","facetData","getFacetDataFilter","getRegion","columnValue","columnField","columnIndex","columnValuesLength","rowValue","rowField","rowIndex","rowValuesLength","List","colValues","getPageCount","getRowCol","col","pageSize","Matrix","columnTitle","rowTitle","facetIndex","Mirror","reflect","columnValues","rowValues","drawLines","Tree","afterChartRender","rootFacet","getRows","getChildFacets","setRegion","forceColIndex","xWidth","yWidth","leafs","isLeaf","levelFacets","getFacetsByLevel","levelFacets_1_1","originColIndex","getRegionIndex","addFacetLines","subFacet","subRegion","middle1","middle2","getMedian","getMean","getNormalizedValue","scaled","ANNOTATIONS_AFTER_RENDER","foregroundContainer","backgroundContainer","Annotation","onAfterRender","updateOrCreate","getCacheKey","syncCache","updateCache","clearComponents","doWhat","AnnotationComponent","getAnnotationTheme","getAnnotationCfg","isTop","ANNOTATION","xPos","yPos","parsePercentPosition","viewData","startXValue","endXValue","parsePosition","sp","ep","textContent","start_5","end_5","getRegionPoints","apply_1","shapes_1","addShapes_1","_j","render_1","restOptions","wrappedRender","_k","html_1","wrappedHtml","getComponentContainer","createAnnotation","newCache","getGridThemeCfg","getLineGridItems","preTick","currentTick","middleValue","getCircleGridItems","showGrid","userGrid","themeGrid","OMIT_CFG","AXIS_DEFAULT_ANIMATE_CFG","gridContainer","gridForeContainer","axisContainer","axisForeContainer","updatedCache","updateXAxes","updateYAxes","xAxisOption","axisId","getId","gridId","getLineAxisCfg","createLineAxis","getLineGridCfg","createLineGrid","getCircleAxisCfg","createCircleAxis","getCircleGridCfg","createCircleGrid","yAxisOption","titleText","axisThemeCfg","optionWithTitle","canvasWidth","canvasHeight","gridThemeCfg","gridCfg","verticalScale","directionToPosition","parentBBox","tl","br","getLegendOption","getDirection","layoutBBox","maxWidthRatio","maxHeightRatio","maxSize","getCategoryLegendSizeCfg","setLocation","cut","eachLegend","existCo","getComponentById","getCategoryCfg","getContinuousCfg","createFieldLegend","customCfg","createCustomLegend","loopLegends","getGeometries","doEach","isRootView","looped","createContinuousLegend","createCategoryLegend","containMin","containMax","attrValue","attrLegendCfg","mergeLegendCfg","themePageNavigator","userPageNavigator","baseCfg","categoryCfg","vw","changeViewData","onChangeFn","onValueChange","resetMeasure","getSliderCfg","updateSlider","createSlider","measureSlider","getMinMaxText","SliderComponent","getThemeOptions","dataSize","xTickCount","maxIndex","xScaleValues","DEFAULT_PADDING","DEFAULT_CATEGORY_SIZE","MIN_THUMB_LENGTH","getValidScrollbarCfg","originalAnimate","getScrollRange","updateScrollbar","createScrollbar","measureScrollbar","getScrollbarComponentCfg","xScaleCfg","yScalesCfg","thumbHighlightColor","restStyles","getScrollbarData","getStep","getCnt","startIdx","endIdx","ScrollbarComponent","realConfig","categorySize","getScrollbarTheme","DEFAULT_REGION_PATH_STYLE","getItemsOfView","ActiveRegion","xValue_1","elements_1","eleData","coordinate_1","firstBBox_1","lastBBox_1","groupBBox_1","appendRatio","appendWidth","firstElement","lastElement","innterRadius","TooltipAction","lastTimeStamp","showDelay","preLoc","curLoc","isCursorEntered","SiblingTooltip","siblingPoint","EllipsisText","tipContent","tooltipStyles","StateBase","setStateEnable","clearViewState","setElementState","getItem","ElementState","list","ignoreListItemStates","setElementsStateByItem","isMathItem","setStateByElement","isItemIgnore","event_1","setStateByComponent","ElementActive","StateAction","LinkByColor","nextElement","nextBBox","activeStyle","getLinkPath","getColorScale","linkGroup","group_1","count_1","nextEl","addLinkShape","linkByElement","removeLink","ElementRangeState","isStarted","effectSiblings","effectByRecord","setSiblingsState","allElements","setSiblingsStateByRecord","setElementsState","effectElements","ElementRangeActive","ElementSingleState","ElementSingleActive","STATUS_UNACTIVE","STATUS_ACTIVE","clearHighlight","setHighlightBy","INACTIVE","ACTIVE","ElementHighlight","setElementHighlight","activeElements","allCancel_1","HighlightColor","highlightElements","Highlight","HighlightX","ElementRangeHighlight","BEFORE_HIGHLIGHT","AFTER_HIGHLIGHT","ElementSingleHighlight","ElementRangeSelected","ElementMultipleSelected","ElementSingleSelected","ListState","allowSetStateByElement","getAllowComponents","clearItemsState","componentNames","ignoreStates","ignoreItemStates","filterStates","setItemsState","allowSetStateByItem","triggerInfo","getTriggerListInfo","clearAllComponentsState","ListActive","clearList","ListHighlight","activeItems","ListSelected","ListUnchecked","STATUS_UNCHECKED","STATUS_CHECKED","ListChecked","setCheckedBy","allChecked","list_1","ListFocus","clickedItem","checkedItems","uncheckedItems","checkedItem","items_4_1","STATUS_SHOW","TIP_ID","ListRadio","containerId","MaskBase","maskAttrs","getMaskAttrs","emitEvent","starting","moving","createMask","updateMask","maskStyle","preMovePoint","CircleMask","RectMask","clampPoint","DimRect","normalStart","normalEnd","inPlot","PathMask","resize","SmoothPathMask","CursorAction","setCursor","DataFilter","filterView","unCheckedItems","scale_1","names_1","getFilter","RangeFilter","BEFORE_FILTER","normalCurrent","hasDim","reRender","FILTER","AFTER_FILTER","BEFORE_RESET","RESET","AFTER_RESET","SiblingFilter","ElementFilter","maskElements_1","byRecord","filterByRecord","filterByBBox","maskElements","PADDING_RIGHT","PADDING_TOP","ButtonAction","buttonCfg","getButtonCfg","buttonShape","buttonGroup","drawButton","DISTANCE","Drag","dragStart","MIN_DISTANCE","Move","startMatrix","isMoving","DIM_X","DIM_Y","ScaleTranslate","cacheScaleDefs","resetDim","startCache","noramlCurrent","translateDim","translateLinear","TransformAction","zoomRatio","zoomDim","dRatio","zoomLinear","toMin","toMax","curRange","isWheelDown","wheelEvent","deltaY","LEVEL","DEFAULT_WHEELDELTA","MousewheelScroll","wheelDelta","scrollbarController","currentStart","nextStart","correction","nextRatio","AXIS_DESCRIPTION_TOOLTIP","AxisDescription","descriptionTooltipStyle","isPointInView","isInPlot","flow","flows","template","CanvasEngine","SVGEngine","Edge","EllipsisTextAction","ElementHighlightByX","ElementHighlightByColor","ElementSelected","ElementLinkByColor","DimMask","DataRangeFilter","ElementSiblingFilter","ViewDrag","ViewMove","ScaleZoom","showEnable","processing","rollback","BRAND","getMessage","argIndex","getContainerSize","findGeometry","getAllElements","getAllElementsRecursively","getAllGeometriesRecursively","findViewById","getViews","getSiblingViews","transformLabel","labelOptions","points2Path","deep","deepAssign","kebabCase","adapteStyle","styleObject","justifyContent","alignItems","shapeStyleKeys","setStatisticContainerStyle","renderStatistic","plotType","titleOpt","contentOpt","containerW","liquidShape","customHtml","renderGaugeStatistic","polarCoord","polarCenter","polarMaxY","containerWidth","metrics","isRealNumber","adjustYMetaByZero","numberData","gtZero","ltZero","transformDataToNodeLinkData","sourceField","targetField","weightField","rawFields","nodes","links","nodesMap","nodesIndex","rawData","processIllegalData","WARN","normalPadding","getAdjustAppendPadding","currentAppendPadding","resolveAllPadding","paddings","normalPaddings","finalPadding","GLOBAL","locale","LocaleMap","registerLocale","localeObj","getLocale","EN_US_LOCALE","general","increase","decrease","root","conversionTag","waterfall","ZH_CN_LOCALE","SOURCE_ATTRIBUTE_NAME","PLOT_CONTAINER_OPTIONS","getDefaultOptions","createG2","Plot","xAxis","yAxis","chartSize","execAdaptor","bindSizeSensor","updateOption","stateObjects","incoming","unbindSizeSensor","adaptor","getSchemaAdaptor","triggerResize","AXIS_META_CONFIG_KEYS","initCanvas","fillRect","getUnitPatternSize","isStagger","unitSize","getSymbolsPosition","symbolsPos","transformMatrix","dpr","defaultDotPatternCfg","drawDot","createDotPattern","dotCfg","defaultLinePatternCfg","Path2D","createLinePattern","lineCfg","defaultSquarePatternCfg","drawSquare","strokeRect","createSquarePattern","squareCfg","squares","getCanvasPattern","patternOption","colorAttribute","seriesValue","seriesField","removeInteraction","meta","annotationOptions","annotationController","transformations","getTooltipMapping","defaultFields","getMappingField","shapeField","styleField","mappingFields","tileMappingField","getMappingFunction","tooltipFields","stepType","otherAdaptor","groupField","columnBackground","pointMapping","areaMapping","pointState","areaState","primary","areaParams","lineGeometry","DEFAULT_OPTIONS","MarkerActiveAction","getView","InteractionAction","measure","as","sumMap","groupValue","percentage","getDeepPercent","getDataWhetherPercentage","asField","isPercent","lineMapping","chartData","tooltipOptions","lineParams","pointParams","areaGeometry","conversionTagFormatter","getConversionTagOptionsWithDefaults","horizontal","headSize","renderArrowTag","elemPrev","elemNext","pointPrev","pointNext","totalWidth","renderTextTag","textWidth","cWidth","cEnd","textAdjusted","disabled","INTERACTION_MAP","getStartStages","connectedArea","disable","BUTTON_ACTION_CONFIG","buttonStyle","drawText","getInteractionCfg","interactionType","brushType","isStartEnable","maskType","BRUSH_TYPES","brushInteraction","brush","enabled","buttonConfig","defaultOptions","columnStyle","percentData","stackedItem","percentYMeta","isRange","columnTooltip","tooltipFormatter_1","datas","isBar","Column","verticalAxis","horizontalAxis","coordinateOptions","barStyle","barWidthRatio","minBarWidth","maxBarWidth","barBackground","columnAdaptor","Bar","switchedFieldOptions","pieStyle","getTotalValue","adaptOffset","defaultOffset","endsWith","isAllZero","angleField","ORIGIN_MATRIX","ulMatrix","PieLegendAction","item_1","getActiveElements","getActiveElementLabels","transfrom","StatisticAction","_view","initialAnnotation","getAnnotations","colorField_1","initialStatistic","getInitialAnnotation","PIE_STATISTIC","percentageField_1","dataum","angleScale","content_1","LABEL_LAYOUT_TYPE_MAP","outer","spider","labelLayoutType","labelLayoutCfg","transformStatisticOptions","titleOpt_1","contentOpt_1","metaFormatter","dataValue","pieAnnotation","startStages_1","stage","Pie","prevOptions","prevData","curData","sectorStyle","Rose","spiral","timeInterval","wordCloud","words","tagCloud","imageMask","tags","_tags","cloudRadians","cw","ch","cloudText","cloudFont","cloudFontNormal","cloudFontSize","cloudRotate","cloudPadding","cloudSprite","contextAndRatio","sprite","maxh","sr","cr","wcr","wsr","hcr","hsr","xoff","yoff","hasText","w32","seen","seenRow","cloudCollide","board","sw","msx","cloudBounds","collideRects","archimedeanSpiral","rectangularSpiral","sign","zeroArray","cloudCanvas","functor","spirals","archimedean","rectangular","cloud","place","hasImage","_bounds","can","cxt","imageData","rawOptions","chartPadding","wordField","wordStyle","placementStrategy","getSingleKeyValues","getFontSizeMapping","getSize","getRotate","containerSize","resolvePadding","processImageMask","rej","HTMLImageElement","onerror","ERROR","fMax_1","fMin_1","resolveRotate","rotationSteps","perSize","numbers","WORD_CLOUD_COLOR_FIELD","rotateRatio","getTextAttrs","WordCloud","REGRESSION_MAP","poly","getQuadrantDefaultConfig","xBaseline","yBaseline","textOffset","defaultConfig","xScaleView","yScaleView","pathData","regressionLine","algorithm","reg","getMeta","xFieldValue","yFieldValue","xIsPositiveNumber","yIsPositiveNumber","getMetaMinMax","fieldMeta","getCustomValue","transformOptions","isOneX","isOneY","meta_1","newOptions","shapeLegend","sizeLegend","showLegend","scatterGeometry","scatterAnnotation","quadrant","labels_1","regionStyle_1","defaultConfig_1","quadrants","top_1","defaultStyle_1","BRUSH_FILTER_EVENTS","Scatter","pointOptions","areaOptions","RadarTooltipController","cfgTitle","hintItems","title_1","result_1","displayTitle","TooltipController","RadarTooltipAction","getTooltipController","AxisType","DualAxesGeometry","Radar","LEFT_AXES_VIEW","RIGHT_AXES_VIEW","DEFAULT_YAXIS_CONFIG","DEFAULT_LEFT_YAXIS_CONFIG","DEFAULT_RIGHT_YAXIS_CONFIG","isLine","isColumn","getGeometryOption","transformObjectToArray","transformAttribute","a2_1","a1_1","getYAxisWithDefault","axisType","Left","Right","getViewLegendItems","legendItemName","isGeometry","viewId","attrItems","drawSingleGeometry","FIELD_KEY","adjust_1","doSliderFilter","sliderValue","geometryOptions","allLine","createViews","SORT_MAP","column","formatData","themeColor","leftView","rightView","commonInteraction","commonAnnotation","commonTheme","commonAnimation","commonLimitInPlot","leftLegend_1","rightLegend_1","leftItems","rightItems","yF","legendItem_1","curLegendItem","DualAxes","X_FIELD","Y_FIELD","DEFAULT_TOOLTIP_OPTIONS","getTinyData","lineOptions","seriesData","TinyLine","TinyColumn","TinyArea","getBinKey","binWidth","binNumber","sturges","LN2","binHistogram","binField","stackField","originData_copy","rangeWidth","_binWidth","_defaultBinNumber","bins","bin","binKey","groupKey","groupKeyBinKey","plotData","HISTOGRAM_X_FIELD","HISTOGRAM_Y_FIELD","Histogram","DEFAULT_COLOR","getProgressData","clampPercent","progressStyle","Progress","RingProgress","sizeRatio","heatmapStyle","checkedSizeRatio","geometryAdaptor","dautm","radiusRatio","maxSideLength","lenRatio","sideLength","BOX_RANGE","BOX_RANGE_ALIAS","BOX_SYNC_NAME","OUTLIERS_VIEW_ID","boxStyle","transformData","newData","q1_1","median_1","q3_1","high_1","low_1","yFieldName","outliersPoint","outliersField","outliersStyle","outliersView","outliersViewData","outliersData","baseMeta","syncName","Box","quickselect","sd","newLeft","newRight","multiQuantileSelect","quantileIndex","quantileSelect","indices","stack","toBoxValue","low","high","q1","q3","minMax","toViolinValue","pdfOptions","pdfResults","violinSize","violinY","transformViolinData","kde","sampleSize","resultList","seriesGroup","series","VIOLIN_Y_FIELD","VIOLIN_SIZE_FIELD","MIN_MAX_FIELD","QUANTILE_FIELD","MEDIAN_FIELD","VIOLIN_VIEW_ID","MIN_MAX_VIEW_ID","QUANTILE_VIEW_ID","MEDIAN_VIEW_ID","violinStyle","TOOLTIP_FIELDS","violinView","boxView","minMaxView","quantileView","medianView","legendField_1","legendOptions","baseAnnotation","c0","blendObject","screen","overlay","darken","lighten","dodge","burn","innerBlend","mode","blend","blendRgbArr","colorToArr","g0","g1","rgbaArr","SMALL","intersectionArea","circles","stats","intersectionPoints","getIntersectionPoints","innerPoints","containedInCircles","arcArea","polygonArea","arcs","midPoint","parentIndex","angleDiff","circleArea","smallest","disjoint","circleCircleIntersection","circleOverlap","venn","areas","initialLayout","bestInitialLayout","loss","lossFunction","addMissingAreas","setid","setids","solution","setid_1","positions","distanceFromIntersectArea","ids","pairs","sets","getDistanceMatrices","distances","constraints","constrainedMDSGradient","xj","yj","dij","squaredDistance","greedyLayout","constrained","constrainedMDSLayout","constrainedLoss","greedyLoss","restarts","matrices","norm","setOverlaps","rowid","mostOverlapped","positioned","isPositioned","positionSet","setIndex","extraPoints","bestLoss","bestPoint","localLoss","overlaps","getCircles","getBoundingBox","xRange","yRange","scaleSolution","xScaling","yScaling","scaling","circleMargin","interior","exterior","computeTextCentre","valid","areaStats","getOverlappingCircles","circleids","circleid","computeTextCentres","overlapped","areaids","exclude","centre","circlePath","intersectionAreaPath","wide","ID_FIELD","PATH_FIELD","blendMode","getColorMap","colorPalette","setsField","colorMap","colorPaletteLen","colorArr","layoutVennData","vennData","textCenters","setCircles","islegalSets","legalArr","testArr","getFillAttrs","fillAttrs","VennLabel","customLabelInfo","placeElementsOrdered","ElementActiveAction","VennElementActive","syncElementsPos","toggle","ElementHighlightAction","VennElementHighlight","highlight","ElementSelectedAction","ElementSingleSelectedAction","VennElementSelected","VennElementSingleSelected","LEGEND_SPACE","transformColor","map_1","tempPadding","currSets","filterSets","schemaGeometry","colorOptions","vennInteraction","MAP_1","Venn","TREND_FIELD","TREND_UP","TREND_DOWN","defaultContent","risingFill","fallingFill","getStockData","close_1","open_1","stockStyle","Stock","FUNNEL_PERCENT","FUNNEL_MAPPING_VALUE","FUNNEL_CONVERSATION","FUNNEL_TOTAL_PERCENT","PLOYGON_X","PLOYGON_Y","minSize","maxYFieldValue","maxBy","conversionTagComponent","getLineCoordinate","lineOption","formatter_1","funnelStyle","baseGeometry","geo","datumIndex","initLineOption","basicFunnel","compareField","showFacetTitle","formatterData","defaultFacetLabel","viewIndex","compareFunnel","facetFunnel","preItemX","preItemY","dynamicHeightFunnel","defaultOption","dynamicHeight","Funnel","FUNNEL_CONVERSATION_FIELD","CAT_VALUE","getLiquidData","liquidStyle","outline","wave","border","DURATION","lerp","getLineAttrs","defaultAttrs","getWaterWavePositions","waveLength","getWaterWavePath","waterLevel","phase","curves","_phase","waveRight","addWaterWave","waveCount","waveAttrs","pin","cpX","cpY","GOLDEN_SECTION_RATIO","builtInShapeByName","minXPoint","outlineAttrs","buildPath","shapePath","waves","clipPath","Liquid","getSeriesFieldKey","measureField","rangeField","ds","rangeValues","flat","rKey","measureValues","mKey","targetValues","tKey","bulletStyle","extData","rangeGeometry","measureGeometry","targetGeometry","NODE_INDEX_FIELD","Bullet","CHILD_NODE_COUNT","NODE_ANCESTORS_FIELD","INVALID_FIELD_ERR_MSG","getField","defaultField","getAllNodes","index_1","ancestors","depth","eachNode","SUNBURST_ANCESTOR_FIELD","SUNBURST_Y_FIELD","SUNBURST_PATH_FIELD","RAW_FIELDS","hierarchyConfig","sunburstStyle","drilldown","PADDING_LEFT","BREAD_CRUMB_NAME","DEFAULT_BREAD_CRUMB_CONFIG","dividerText","activeTextStyle","HIERARCHY_DATA_TRANSFORM_PARAMS","DrillDownAction","drill","drawBreadCrumb","breadCrumbGroup","historyCache","backTo","hideCrumbGroup","nodeInfo","drillData","nodeData","drillDownConfig","breadCrumbCfg","breadCrumb","drawBreadCrumbGroup","rootText","textShapeBox","targetId","newHistoryCache","dividerShape","dividerBox","partition","eachBefore","positionNode","roundNode","treemapDice","eachAfter","that","ancestor","leastCommonAncestor","aNodes","bNodes","leaves","hierarchy","mapChildren","objectChildren","childs","Node","computeHeight","node_copy","copyData","node_count","node_each","node_eachAfter","node_eachBefore","node_find","node_sum","node_sort","node_path","node_ancestors","descendants","node_descendants","node_leaves","node_links","node_iterator","ignoreParentValue","d3Hierarchy","defaultSeparation","meanX","meanXReduce","maxYReduce","leafLeft","leafRight","separation","nodeSize","cluster","previousNode","shuffle","B","enclosesWeak","encloseBasis","extendBasis","enclosesWeakAll","enclosesNot","encloseBasis2","encloseBasis3","dr","encloseBasis1","x21","y21","r21","a3","d3","ab","xa","xb","ya","yb","intersects","packEnclose","aa","ca","sj","sk","enclose","optional","required","constantZero","defaultRadius","radiusLeaf","packChildren","translateChild","preroot","ambiguous","defaultId","defaultParentId","parentId","stratify","nodeId","nodeKey","nodeByKey","nextLeft","nextRight","moveSubtree","wm","wp","executeShifts","nextAncestor","vim","TreeNode","treeRoot","tree","firstWalk","secondWalk","sizeNode","tx","kx","ky","apportion","vip","vop","vom","sip","sop","sim","som","squarifyRatio","nodeValue","sumValue","newRatio","minRatio","beta","dice","treemapSlice","squarify","tile","paddingStack","paddingInner","treemap","paddingOuter","sums","valueOffset","valueTarget","valueLeft","valueRight","resquarify","_squarify","getTileMethod","tileMethod","activeDepth","ancestorNode","polygonAdaptor","pathFormatter","valueFormatter","adaptorInteraction","baseInteraction","isParentNode","inCenter","Sunburst","RANGE_VALUE","RANGE_TYPE","PERCENT","INDICATEOR_VIEW_ID","RANGE_VIEW_ID","indicator","pointer","processRangeData","getIndicatorData","getRangeData","clampTicks","gaugeStyle","meter","indicatorData","rangeData","rangeColor","contentOption","transformContent","STEP_RATIO","COORD_START_ANGLE","COORD_END_ANGLE","TOTAL","INTERVAL","START_ANGLE","END_ANGLE","Gauge","indicatorView","rangeView","DIFF_FIELD","ABSOLUTE_FIELD","IS_TOTAL","leaderLine","waterfallStyle","newYField","processed","dIdx","localeTotalLabel","colorMapping","Y_FIELD_META","labelMode","leaderLineCfg","linkPath","Waterfall","getScaleMax","maxAngle","yData","formatRadian","getStackedData","stackedData","valueItem","actualData","intervalGeometry","FIRST_AXES_VIEW","RadialBar","SECOND_AXES_VIEW","SERIES_FIELD_KEY","hopeData","data1","data2","__axisPosition","firstView","secondView","firstViewData","secondViewData","aliasMap","metaKey","leftGeometry","rightGeometry","leftLabelCfg","textAlignMap","positionMap_1","textBaselineMap","BidirectionalBar","findInteraction","enableInteraction","enableDrillInteraction","resetDrillDown","drillDownInteraction","drillDownAction","enableDrillDown","curPath","rectStyle","basePolygon","viewZoomInteraction","Treemap","transData","targetDepth","justify","sourceLinks","targetLinks","minBy","sumBy","maxValueBy","minValueBy","ascendingSourceBreadth","ascendingBreadth","ascendingTargetBreadth","defaultNodes","graph","defaultLinks","nodeById","computeLinkBreadths","link","Sankey","linkSort","sankey","computeNodeLinks","computeNodeValues","computeNodeDepths","computeNodeHeights","computeNodeBreadths","fixedValue","maxDepth","computeNodeLayers","columns","initializeNodeBreadths","nodes_6","reorderLinks","relaxRightToLeft","relaxLeftToRight","value_1","targetTop","dy_1","reorderNodeLinks","resolveCollisions","value_2","sourceTop","dy_2","subject","resolveCollisionsBottomToTop","resolveCollisionsTopToBottom","dy_3","dy_4","sourceLinks_2","targetLinks_2","nodeAlign","nodeDepth","nodeSort","nodeWidth","nodePadding","extent","ALIGN_METHOD","getNodeAlignFunction","sankeyLayoutOptions","sankeyLayout","sankeyProcessor","layoutData","getNodes","edges","graphMatrix","cutoffCircle","removedData","visited","DFS","dfsNode","isNodeLink","dataType","getNodeWidthRatio","nodeWidthRatio","getNodePaddingRatio","nodePaddingRatio","transformToViewsData","sankeyLayoutInputData","COLOR_FIELD","NODES_VIEW_ID","EDGES_VIEW_ID","nodeStyle","edgeStyle","nodeState","edgeState","edgeView","nodeView","nodeDraggable","DRAG_INTERACTION","nodeInteractions","edgeInteractions","SankeyNodeDragAction","getNodeView","isNodeElement","getCurrentDatumIdx","currentElementIdx","isDragging","prevNodeAnimateCfg","prevEdgeAnimateCfg","getEdgeView","prevDatum","datumGap_1","nextDatum","edgeData","isLast","nodesView","edgesView","sourceWeight","targetWeight","processGraph","forIn","inEdges","outEdges","frequency","sortNodes","sortMethods","localeCompare","layoutNodes","nodePaddingRatio_1","margin_1","nodeWidthRatio_1","totalValue_1","deltaX","deltaX_1","locatingEdges","valueById_1","sId","tId","sNode","tNode","sValue","currentSValue","sStart","sEnd","tValue","currentTValue","tStart","tEnd","chordLayout","chordLayoutOptions","chordLayoutInputData","outputNodes","outputLinks","NODE_COLOR_FIELD","EDGE_COLOR_FIELD","nodesData","edgesData","chordData","nodeGeometry","edgeGeometry","edgeOptions","Chord","packLayout","resolvePaddingForCircle","wSize","hSize","restWidthPadding","restHeightPadding","finalTop","finalRight","finalBottom","finalLeft","finalSize","diameter","tempAppendPadding","appendPaddingByDrilldown","circleSize","nameFormatter","CirclePacking","PLOT_ADAPTORS","lineAdaptor","pie","pieAdaptor","bar","barAdaptor","areaAdaptor","gauge","gaugeAdaptor","tinyLineAdaptor","tinyColumnAdaptor","tinyAreaAdaptor","ringProgressAdaptor","progress","progressAdaptor","scatter","scatterAdaptor","histogram","histogramAdaptor","funnelAdaptor","stock","stockAdaptor","PLOT_CONSTRUCTOR","DEFAULT_OPTIONS_MAP","execPlotAdaptor","plot","multiView","viewOfG2","multiPlot","plots","Association","linkField","data_1","getAssociationItems","Mix","execViewAdaptor","facetAdaptor","facetType","restFacetCfg","viewOptions","plotOptions","Stage","notice","DEV","BETA","STABLE","Lab","ARow","ACol","ACard","AStatistic","ASpace","reactive","sampleCounts","sampleCountsLoading","genderCounts","genderRateLoading","ageAverage","ageLoading","linePlotLoading","histPlotLoading","async","sample_counts","gender_counts","age_mean","setLinePlot","setHistPlot","hist_id","hist","toRefs","__exports__"],"sourceRoot":""}