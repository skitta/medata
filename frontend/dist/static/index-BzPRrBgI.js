import{a as L}from"./index-Bs59S7SY.js";import{b as le,s as ie,aN as se,aA as ue,Q as de,P as F,l as p,d as W,i as z,c as m,a6 as pe,v as T,j as k,X as R,y as ve,k as M,E as ce,V as U}from"./index-DFZFHgnd.js";import{o as fe,D as ye}from"./js.cookie-Bd2-tppU.js";import{b as me,B as A}from"./index-CKpO3Wyb.js";import{i as G,E as ge,e as H,a1 as be}from"./index-DB7tIDCQ.js";import{R as Ce}from"./index-Bv2mYmFc.js";function Ee(){var v=le({}),t=null;return ie(function(){t=L.subscribe(function(d){v.value=d})}),se(function(){L.unsubscribe(t)}),v}function Te(v){var t=ue();return de(function(){t.value=v()},{flush:"sync"}),t}var Q=function(){return{arrow:{type:[Boolean,Object],default:void 0},trigger:{type:[Array,String]},overlay:F.any,visible:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},align:{type:Object},getPopupContainer:Function,prefixCls:String,transitionName:String,placement:String,overlayClassName:String,overlayStyle:{type:Object,default:void 0},forceRender:{type:Boolean,default:void 0},mouseEnterDelay:Number,mouseLeaveDelay:Number,openClassName:String,minOverlayWidthMatchTrigger:{type:Boolean,default:void 0},destroyPopupOnHide:{type:Boolean,default:void 0},onVisibleChange:{type:Function},"onUpdate:visible":{type:Function}}},E=me(),he=function(){return p(p({},Q()),{},{type:E.type,size:String,htmlType:E.htmlType,href:String,disabled:{type:Boolean,default:void 0},prefixCls:String,icon:F.any,title:String,loading:E.loading,onClick:{type:Function}})},Pe=["type","disabled","loading","htmlType","class","overlay","trigger","align","visible","onVisibleChange","placement","href","title","icon","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","onClick","onUpdate:visible"],we=A.Group;const Ne=W({compatConfig:{MODE:3},name:"ADropdownButton",inheritAttrs:!1,__ANT_BUTTON:!0,props:G(he(),{trigger:"hover",placement:"bottomRight",type:"default"}),slots:["icon","leftButton","rightButton","overlay"],setup:function(t,d){var a=d.slots,O=d.attrs,w=d.emit,b=function(c){w("update:visible",c),w("visibleChange",c)},i=z("dropdown-button",t),B=i.prefixCls,N=i.direction,$=i.getPopupContainer;return function(){var C,c,e=p(p({},t),O),x=e.type,o=x===void 0?"default":x,n=e.disabled,r=e.loading,g=e.htmlType,s=e.class,u=s===void 0?"":s,l=e.overlay,h=l===void 0?(C=a.overlay)===null||C===void 0?void 0:C.call(a):l,_=e.trigger,f=e.align,y=e.visible;e.onVisibleChange;var P=e.placement,D=P===void 0?N.value==="rtl"?"bottomLeft":"bottomRight":P,S=e.href,Y=e.title,V=e.icon,q=V===void 0?((c=a.icon)===null||c===void 0?void 0:c.call(a))||m(ge,null,null):V,J=e.mouseEnterDelay,K=e.mouseLeaveDelay,Z=e.overlayClassName,ee=e.overlayStyle,te=e.destroyPopupOnHide,oe=e.onClick;e["onUpdate:visible"];var ne=pe(e,Pe),ae={align:f,disabled:n,trigger:n?[]:_,placement:D,getPopupContainer:$.value,onVisibleChange:b,mouseEnterDelay:J,mouseLeaveDelay:K,visible:y,overlayClassName:Z,overlayStyle:ee,destroyPopupOnHide:te},j=m(A,{type:o,disabled:n,loading:r,onClick:oe,htmlType:g,href:S,title:Y},{default:a.default}),I=m(A,{type:o,icon:q},null);return m(we,p(p({},ne),{},{class:T(B.value,u)}),{default:function(){return[a.leftButton?a.leftButton({button:j}):j,m(X,ae,{default:function(){return[a.rightButton?a.rightButton({button:I}):I]},overlay:function(){return h}})]}})}}});var X=W({compatConfig:{MODE:3},name:"ADropdown",inheritAttrs:!1,props:G(Q(),{mouseEnterDelay:.15,mouseLeaveDelay:.1,placement:"bottomLeft",trigger:"hover"}),slots:["overlay"],setup:function(t,d){var a=d.slots,O=d.attrs,w=d.emit,b=z("dropdown",t),i=b.prefixCls,B=b.rootPrefixCls,N=b.direction,$=b.getPopupContainer,C=k(function(){var o=t.placement,n=o===void 0?"":o,r=t.transitionName;return r!==void 0?r:n.indexOf("top")>=0?"".concat(B.value,"-slide-down"):"".concat(B.value,"-slide-up")}),c=function(){var n,r,g,s=t.overlay||((n=a.overlay)===null||n===void 0?void 0:n.call(a)),u=Array.isArray(s)?s[0]:s;if(!u)return null;var l=u.props||{};R(!l.mode||l.mode==="vertical","Dropdown",'mode="'.concat(l.mode,`" is not supported for Dropdown's Menu.`));var h=l.selectable,_=h===void 0?!1:h,f=l.expandIcon,y=f===void 0?(r=u.children)===null||r===void 0||(g=r.expandIcon)===null||g===void 0?void 0:g.call(r):f,P=typeof y<"u"&&U(y)?y:m("span",{class:"".concat(i.value,"-menu-submenu-arrow")},[m(Ce,{class:"".concat(i.value,"-menu-submenu-arrow-icon")},null)]),D=U(u)?H(u,{mode:"vertical",selectable:_,expandIcon:function(){return P}}):u;return D},e=k(function(){var o=t.placement;if(!o)return N.value==="rtl"?"bottomRight":"bottomLeft";if(o.includes("Center")){var n=o.slice(0,o.indexOf("Center"));return R(!o.includes("Center"),"Dropdown","You are using '".concat(o,"' placement in Dropdown, which is deprecated. Try to use '").concat(n,"' instead.")),n}return o}),x=function(n){w("update:visible",n),w("visibleChange",n)};return function(){var o,n,r=t.arrow,g=t.trigger,s=t.disabled,u=t.overlayClassName,l=(o=a.default)===null||o===void 0?void 0:o.call(a)[0],h=H(l,ve({class:T(l==null||(n=l.props)===null||n===void 0?void 0:n.class,M({},"".concat(i.value,"-rtl"),N.value==="rtl"),"".concat(i.value,"-trigger"))},s?{disabled:s}:{})),_=T(u,M({},"".concat(i.value,"-rtl"),N.value==="rtl")),f=s?[]:g,y;f&&f.indexOf("contextmenu")!==-1&&(y=!0);var P=be({arrowPointAtCenter:ce(r)==="object"&&r.pointAtCenter,autoAdjustOverflow:!0}),D=fe(p(p(p({},t),O),{},{builtinPlacements:P,overlayClassName:_,arrow:r,alignPoint:y,prefixCls:i.value,getPopupContainer:$.value,transitionName:C.value,trigger:f,onVisibleChange:x,placement:e.value}),["overlay","onUpdate:visible"]);return m(ye,D,{default:function(){return[h]},overlay:c})}}});X.Button=Ne;export{X as D,Ne as a,Te as e,Ee as u};
